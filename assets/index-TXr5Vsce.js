function uV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ea(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cV(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var $0={exports:{}},ih={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xO;function fV(){if(xO)return ih;xO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return ih.Fragment=e,ih.jsx=n,ih.jsxs=n,ih}var EO;function hV(){return EO||(EO=1,$0.exports=fV()),$0.exports}var E=hV(),B0={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO;function dV(){if(SO)return tt;SO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function S(H,oe,ie){this.props=H,this.context=oe,this.refs=x,this.updater=ie||b}S.prototype.isReactComponent={},S.prototype.setState=function(H,oe){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,oe,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function A(){}A.prototype=S.prototype;function R(H,oe,ie){this.props=H,this.context=oe,this.refs=x,this.updater=ie||b}var C=R.prototype=new A;C.constructor=R,w(C,S.prototype),C.isPureReactComponent=!0;var L=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function j(H,oe,ie,me,Ae,Ue){return ie=Ue.ref,{$$typeof:t,type:H,key:oe,ref:ie!==void 0?ie:null,props:Ue}}function k(H,oe){return j(H.type,oe,void 0,void 0,void 0,H.props)}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function V(H){var oe={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ie){return oe[ie]})}var z=/\/+/g;function q(H,oe){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):oe.toString(36)}function $(){}function ve(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then($,$):(H.status="pending",H.then(function(oe){H.status==="pending"&&(H.status="fulfilled",H.value=oe)},function(oe){H.status==="pending"&&(H.status="rejected",H.reason=oe)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function we(H,oe,ie,me,Ae){var Ue=typeof H;(Ue==="undefined"||Ue==="boolean")&&(H=null);var Ve=!1;if(H===null)Ve=!0;else switch(Ue){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(H.$$typeof){case t:case e:Ve=!0;break;case d:return Ve=H._init,we(Ve(H._payload),oe,ie,me,Ae)}}if(Ve)return Ae=Ae(H),Ve=me===""?"."+q(H,0):me,L(Ae)?(ie="",Ve!=null&&(ie=Ve.replace(z,"$&/")+"/"),we(Ae,oe,ie,"",function(_e){return _e})):Ae!=null&&(M(Ae)&&(Ae=k(Ae,ie+(Ae.key==null||H&&H.key===Ae.key?"":(""+Ae.key).replace(z,"$&/")+"/")+Ve)),oe.push(Ae)),1;Ve=0;var nn=me===""?".":me+":";if(L(H))for(var Tt=0;Tt<H.length;Tt++)me=H[Tt],Ue=nn+q(me,Tt),Ve+=we(me,oe,ie,Ue,Ae);else if(Tt=y(H),typeof Tt=="function")for(H=Tt.call(H),Tt=0;!(me=H.next()).done;)me=me.value,Ue=nn+q(me,Tt++),Ve+=we(me,oe,ie,Ue,Ae);else if(Ue==="object"){if(typeof H.then=="function")return we(ve(H),oe,ie,me,Ae);throw oe=String(H),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function G(H,oe,ie){if(H==null)return H;var me=[],Ae=0;return we(H,me,"","",function(Ue){return oe.call(ie,Ue,Ae++)}),me}function re(H){if(H._status===-1){var oe=H._result;oe=oe(),oe.then(function(ie){(H._status===0||H._status===-1)&&(H._status=1,H._result=ie)},function(ie){(H._status===0||H._status===-1)&&(H._status=2,H._result=ie)}),H._status===-1&&(H._status=0,H._result=oe)}if(H._status===1)return H._result.default;throw H._result}var pe=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function xe(){}return tt.Children={map:G,forEach:function(H,oe,ie){G(H,function(){oe.apply(this,arguments)},ie)},count:function(H){var oe=0;return G(H,function(){oe++}),oe},toArray:function(H){return G(H,function(oe){return oe})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},tt.Component=S,tt.Fragment=n,tt.Profiler=i,tt.PureComponent=R,tt.StrictMode=r,tt.Suspense=f,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,tt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return U.H.useMemoCache(H)}},tt.cache=function(H){return function(){return H.apply(null,arguments)}},tt.cloneElement=function(H,oe,ie){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var me=w({},H.props),Ae=H.key,Ue=void 0;if(oe!=null)for(Ve in oe.ref!==void 0&&(Ue=void 0),oe.key!==void 0&&(Ae=""+oe.key),oe)!D.call(oe,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&oe.ref===void 0||(me[Ve]=oe[Ve]);var Ve=arguments.length-2;if(Ve===1)me.children=ie;else if(1<Ve){for(var nn=Array(Ve),Tt=0;Tt<Ve;Tt++)nn[Tt]=arguments[Tt+2];me.children=nn}return j(H.type,Ae,void 0,void 0,Ue,me)},tt.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},tt.createElement=function(H,oe,ie){var me,Ae={},Ue=null;if(oe!=null)for(me in oe.key!==void 0&&(Ue=""+oe.key),oe)D.call(oe,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ae[me]=oe[me]);var Ve=arguments.length-2;if(Ve===1)Ae.children=ie;else if(1<Ve){for(var nn=Array(Ve),Tt=0;Tt<Ve;Tt++)nn[Tt]=arguments[Tt+2];Ae.children=nn}if(H&&H.defaultProps)for(me in Ve=H.defaultProps,Ve)Ae[me]===void 0&&(Ae[me]=Ve[me]);return j(H,Ue,void 0,void 0,null,Ae)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(H){return{$$typeof:u,render:H}},tt.isValidElement=M,tt.lazy=function(H){return{$$typeof:d,_payload:{_status:-1,_result:H},_init:re}},tt.memo=function(H,oe){return{$$typeof:h,type:H,compare:oe===void 0?null:oe}},tt.startTransition=function(H){var oe=U.T,ie={};U.T=ie;try{var me=H(),Ae=U.S;Ae!==null&&Ae(ie,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(xe,pe)}catch(Ue){pe(Ue)}finally{U.T=oe}},tt.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},tt.use=function(H){return U.H.use(H)},tt.useActionState=function(H,oe,ie){return U.H.useActionState(H,oe,ie)},tt.useCallback=function(H,oe){return U.H.useCallback(H,oe)},tt.useContext=function(H){return U.H.useContext(H)},tt.useDebugValue=function(){},tt.useDeferredValue=function(H,oe){return U.H.useDeferredValue(H,oe)},tt.useEffect=function(H,oe,ie){var me=U.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(H,oe)},tt.useId=function(){return U.H.useId()},tt.useImperativeHandle=function(H,oe,ie){return U.H.useImperativeHandle(H,oe,ie)},tt.useInsertionEffect=function(H,oe){return U.H.useInsertionEffect(H,oe)},tt.useLayoutEffect=function(H,oe){return U.H.useLayoutEffect(H,oe)},tt.useMemo=function(H,oe){return U.H.useMemo(H,oe)},tt.useOptimistic=function(H,oe){return U.H.useOptimistic(H,oe)},tt.useReducer=function(H,oe,ie){return U.H.useReducer(H,oe,ie)},tt.useRef=function(H){return U.H.useRef(H)},tt.useState=function(H){return U.H.useState(H)},tt.useSyncExternalStore=function(H,oe,ie){return U.H.useSyncExternalStore(H,oe,ie)},tt.useTransition=function(){return U.H.useTransition()},tt.version="19.1.1",tt}var TO;function qc(){return TO||(TO=1,B0.exports=dV()),B0.exports}var O=qc();const yh=ea(O),mV=uV({__proto__:null,default:yh},[O]);var z0={exports:{}},ah={},q0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO;function pV(){return AO||(AO=1,(function(t){function e(G,re){var pe=G.length;G.push(re);e:for(;0<pe;){var xe=pe-1>>>1,H=G[xe];if(0<i(H,re))G[xe]=re,G[pe]=H,pe=xe;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var re=G[0],pe=G.pop();if(pe!==re){G[0]=pe;e:for(var xe=0,H=G.length,oe=H>>>1;xe<oe;){var ie=2*(xe+1)-1,me=G[ie],Ae=ie+1,Ue=G[Ae];if(0>i(me,pe))Ae<H&&0>i(Ue,me)?(G[xe]=Ue,G[Ae]=pe,xe=Ae):(G[xe]=me,G[ie]=pe,xe=ie);else if(Ae<H&&0>i(Ue,pe))G[xe]=Ue,G[Ae]=pe,xe=Ae;else break e}}return re}function i(G,re){var pe=G.sortIndex-re.sortIndex;return pe!==0?pe:G.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var f=[],h=[],d=1,p=null,y=3,b=!1,w=!1,x=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function L(G){for(var re=n(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=G)r(h),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(h)}}function U(G){if(x=!1,L(G),!w)if(n(f)!==null)w=!0,D||(D=!0,q());else{var re=n(h);re!==null&&we(U,re.startTime-G)}}var D=!1,j=-1,k=5,M=-1;function V(){return S?!0:!(t.unstable_now()-M<k)}function z(){if(S=!1,D){var G=t.unstable_now();M=G;var re=!0;try{e:{w=!1,x&&(x=!1,R(j),j=-1),b=!0;var pe=y;try{t:{for(L(G),p=n(f);p!==null&&!(p.expirationTime>G&&V());){var xe=p.callback;if(typeof xe=="function"){p.callback=null,y=p.priorityLevel;var H=xe(p.expirationTime<=G);if(G=t.unstable_now(),typeof H=="function"){p.callback=H,L(G),re=!0;break t}p===n(f)&&r(f),L(G)}else r(f);p=n(f)}if(p!==null)re=!0;else{var oe=n(h);oe!==null&&we(U,oe.startTime-G),re=!1}}break e}finally{p=null,y=pe,b=!1}re=void 0}}finally{re?q():D=!1}}}var q;if(typeof C=="function")q=function(){C(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ve=$.port2;$.port1.onmessage=z,q=function(){ve.postMessage(null)}}else q=function(){A(z,0)};function we(G,re){j=A(function(){G(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(G){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var pe=y;y=re;try{return G()}finally{y=pe}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pe=y;y=G;try{return re()}finally{y=pe}},t.unstable_scheduleCallback=function(G,re,pe){var xe=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?xe+pe:xe):pe=xe,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=pe+H,G={id:d++,callback:re,priorityLevel:G,startTime:pe,expirationTime:H,sortIndex:-1},pe>xe?(G.sortIndex=pe,e(h,G),n(f)===null&&G===n(h)&&(x?(R(j),j=-1):x=!0,we(U,pe-xe))):(G.sortIndex=H,e(f,G),w||b||(w=!0,D||(D=!0,q()))),G},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(G){var re=y;return function(){var pe=y;y=re;try{return G.apply(this,arguments)}finally{y=pe}}}})(F0)),F0}var OO;function gV(){return OO||(OO=1,q0.exports=pV()),q0.exports}var H0={exports:{}},cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CO;function yV(){if(CO)return cr;CO=1;var t=qc();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:h,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cr.createPortal=function(f,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,d)},cr.flushSync=function(f){var h=o.T,d=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=h,r.p=d,r.d.f()}},cr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},cr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},cr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var d=h.as,p=u(d,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):d==="script"&&r.d.X(f,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},cr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},cr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,p=u(d,h.crossOrigin);r.d.L(f,d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},cr.preloadModule=function(f,h){if(typeof f=="string")if(h){var d=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},cr.requestFormReset=function(f){r.d.r(f)},cr.unstable_batchedUpdates=function(f,h){return f(h)},cr.useFormState=function(f,h,d){return o.H.useFormState(f,h,d)},cr.useFormStatus=function(){return o.H.useHostTransitionStatus()},cr.version="19.1.1",cr}var PO;function Qj(){if(PO)return H0.exports;PO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),H0.exports=yV(),H0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RO;function vV(){if(RO)return ah;RO=1;var t=gV(),e=qc(),n=Qj();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,c=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(c=l.return),s=l.return;while(s)}return l.tag===3?c:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var c=s,m=l;;){var v=c.return;if(v===null)break;var _=v.alternate;if(_===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===c)return u(v),s;if(_===m)return u(v),l;_=_.sibling}throw Error(r(188))}if(c.return!==m.return)c=v,m=_;else{for(var N=!1,I=v.child;I;){if(I===c){N=!0,c=v,m=_;break}if(I===m){N=!0,m=v,c=_;break}I=I.sibling}if(!N){for(I=_.child;I;){if(I===c){N=!0,c=_,m=v;break}if(I===m){N=!0,m=_,c=v;break}I=I.sibling}if(!N)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:l}function h(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=h(s),l!==null)return l;s=s.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),C=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var $=Symbol.for("react.client.reference");function ve(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===$?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case S:return"Profiler";case x:return"StrictMode";case U:return"Suspense";case D:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case C:return(s.displayName||"Context")+".Provider";case R:return(s._context.displayName||"Context")+".Consumer";case L:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case j:return l=s.displayName||null,l!==null?l:ve(s.type)||"Memo";case k:l=s._payload,s=s._init;try{return ve(s(l))}catch{}}return null}var we=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},xe=[],H=-1;function oe(s){return{current:s}}function ie(s){0>H||(s.current=xe[H],xe[H]=null,H--)}function me(s,l){H++,xe[H]=s.current,s.current=l}var Ae=oe(null),Ue=oe(null),Ve=oe(null),nn=oe(null);function Tt(s,l){switch(me(Ve,l),me(Ue,s),me(Ae,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?XA(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=XA(l),s=QA(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ie(Ae),me(Ae,s)}function _e(){ie(Ae),ie(Ue),ie(Ve)}function De(s){s.memoizedState!==null&&me(nn,s);var l=Ae.current,c=QA(l,s.type);l!==c&&(me(Ue,s),me(Ae,c))}function Ke(s){Ue.current===s&&(ie(Ae),ie(Ue)),nn.current===s&&(ie(nn),Zf._currentValue=pe)}var ge=Object.prototype.hasOwnProperty,Yt=t.unstable_scheduleCallback,et=t.unstable_cancelCallback,ln=t.unstable_shouldYield,dn=t.unstable_requestPaint,Zt=t.unstable_now,Ps=t.unstable_getCurrentPriorityLevel,Go=t.unstable_ImmediatePriority,Rs=t.unstable_UserBlockingPriority,Ma=t.unstable_NormalPriority,Mi=t.unstable_LowPriority,oi=t.unstable_IdlePriority,Ns=t.log,js=t.unstable_setDisableYieldValue,_t=null,nt=null;function lr(s){if(typeof Ns=="function"&&js(s),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(_t,s)}catch{}}var mn=Math.clz32?Math.clz32:na,fu=Math.log,li=Math.LN2;function na(s){return s>>>=0,s===0?32:31-(fu(s)/li|0)|0}var ra=256,ia=4194304;function Lr(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function La(s,l,c){var m=s.pendingLanes;if(m===0)return 0;var v=0,_=s.suspendedLanes,N=s.pingedLanes;s=s.warmLanes;var I=m&134217727;return I!==0?(m=I&~_,m!==0?v=Lr(m):(N&=I,N!==0?v=Lr(N):c||(c=I&~s,c!==0&&(v=Lr(c))))):(I=m&~_,I!==0?v=Lr(I):N!==0?v=Lr(N):c||(c=m&~s,c!==0&&(v=Lr(c)))),v===0?0:l!==0&&l!==v&&(l&_)===0&&(_=v&-v,c=l&-l,_>=c||_===32&&(c&4194048)!==0)?l:v}function ui(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Ds(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ua(){var s=ra;return ra<<=1,(ra&4194048)===0&&(ra=256),s}function Wo(){var s=ia;return ia<<=1,(ia&62914560)===0&&(ia=4194304),s}function ci(s){for(var l=[],c=0;31>c;c++)l.push(s);return l}function Li(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ks(s,l,c,m,v,_){var N=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var I=s.entanglements,F=s.expirationTimes,Z=s.hiddenUpdates;for(c=N&~c;0<c;){var le=31-mn(c),ce=1<<le;I[le]=0,F[le]=-1;var te=Z[le];if(te!==null)for(Z[le]=null,le=0;le<te.length;le++){var ne=te[le];ne!==null&&(ne.lane&=-536870913)}c&=~ce}m!==0&&vr(s,m,0),_!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=_&~(N&~l))}function vr(s,l,c){s.pendingLanes|=l,s.suspendedLanes&=~l;var m=31-mn(l);s.entangledLanes|=l,s.entanglements[m]=s.entanglements[m]|1073741824|c&4194090}function aa(s,l){var c=s.entangledLanes|=l;for(s=s.entanglements;c;){var m=31-mn(c),v=1<<m;v&l|s[m]&l&&(s[m]|=l),c&=~v}}function sa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Is(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function K(){var s=re.p;return s!==0?s:(s=window.event,s===void 0?32:gO(s.type))}function X(s,l){var c=re.p;try{return re.p=s,l()}finally{re.p=c}}var ee=Math.random().toString(36).slice(2),fe="__reactFiber$"+ee,ye="__reactProps$"+ee,Ee="__reactContainer$"+ee,ke="__reactEvents$"+ee,Re="__reactListeners$"+ee,Ne="__reactHandles$"+ee,$e="__reactResources$"+ee,je="__reactMarker$"+ee;function Oe(s){delete s[fe],delete s[ye],delete s[ke],delete s[Re],delete s[Ne]}function Ze(s){var l=s[fe];if(l)return l;for(var c=s.parentNode;c;){if(l=c[Ee]||c[fe]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(s=tO(s);s!==null;){if(c=s[fe])return c;s=tO(s)}return l}s=c,c=s.parentNode}return null}function ht(s){if(s=s[fe]||s[Ee]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Ct(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function wt(s){var l=s[$e];return l||(l=s[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ye(s){s[je]=!0}var xt=new Set,Tr={};function Xn(s,l){Ln(s,l),Ln(s+"Capture",l)}function Ln(s,l){for(Tr[s]=l,s=0;s<l.length;s++)xt.add(l[s])}var br=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ms={},Ur={};function fi(s){return ge.call(Ur,s)?!0:ge.call(Ms,s)?!1:br.test(s)?Ur[s]=!0:(Ms[s]=!0,!1)}function Vr(s,l,c){if(fi(l))if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+c)}}function _r(s,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+c)}}function Fe(s,l,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(l,c,""+m)}}var Xt,Ui;function Qn(s){if(Xt===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);Xt=l&&l[1]||"",Ui=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xt+s+Ui}var $t=!1;function Vi(s,l){if(!s||$t)return"";$t=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var te=ne}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(ne){te=ne}s.call(ce.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),N=_[0],I=_[1];if(N&&I){var F=N.split(`
`),Z=I.split(`
`);for(v=m=0;m<F.length&&!F[m].includes("DetermineComponentFrameRoot");)m++;for(;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;if(m===F.length||v===Z.length)for(m=F.length-1,v=Z.length-1;1<=m&&0<=v&&F[m]!==Z[v];)v--;for(;1<=m&&0<=v;m--,v--)if(F[m]!==Z[v]){if(m!==1||v!==1)do if(m--,v--,0>v||F[m]!==Z[v]){var le=`
`+F[m].replace(" at new "," at ");return s.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",s.displayName)),le}while(1<=m&&0<=v);break}}}finally{$t=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Qn(c):""}function Ls(s){switch(s.tag){case 26:case 27:case 5:return Qn(s.type);case 16:return Qn("Lazy");case 13:return Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return Vi(s.type,!1);case 11:return Vi(s.type.render,!1);case 1:return Vi(s.type,!0);case 31:return Qn("Activity");default:return""}}function Us(s){try{var l="";do l+=Ls(s),s=s.return;while(s);return l}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function wr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function of(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Fy(s){var l=of(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),m=""+s[l];if(!s.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,_=c.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return v.call(this)},set:function(N){m=""+N,_.call(this,N)}}),Object.defineProperty(s,l,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(N){m=""+N},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function hu(s){s._valueTracker||(s._valueTracker=Fy(s))}function lf(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var c=l.getValue(),m="";return s&&(m=of(s)?s.checked?"true":"false":s.value),s=m,s!==c?(l.setValue(s),!0):!1}function Yo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Hy=/[\n"\\]/g;function pn(s){return s.replace(Hy,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function $r(s,l,c,m,v,_,N,I){s.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.type=N:s.removeAttribute("type"),l!=null?N==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+wr(l)):s.value!==""+wr(l)&&(s.value=""+wr(l)):N!=="submit"&&N!=="reset"||s.removeAttribute("value"),l!=null?Vs(s,N,wr(l)):c!=null?Vs(s,N,wr(c)):m!=null&&s.removeAttribute("value"),v==null&&_!=null&&(s.defaultChecked=!!_),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.name=""+wr(I):s.removeAttribute("name")}function Xo(s,l,c,m,v,_,N,I){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),l!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||l!=null))return;c=c!=null?""+wr(c):"",l=l!=null?""+wr(l):c,I||l===s.value||(s.value=l),s.defaultValue=l}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=I?s.checked:!!m,s.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.name=N)}function Vs(s,l,c){l==="number"&&Yo(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Va(s,l,c,m){if(s=s.options,l){l={};for(var v=0;v<c.length;v++)l["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=l.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&m&&(s[c].defaultSelected=!0)}else{for(c=""+wr(c),l=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,m&&(s[v].defaultSelected=!0);return}l!==null||s[v].disabled||(l=s[v])}l!==null&&(l.selected=!0)}}function Dt(s,l,c){if(l!=null&&(l=""+wr(l),l!==s.value&&(s.value=l),c==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=c!=null?""+wr(c):""}function Qo(s,l,c,m){if(l==null){if(m!=null){if(c!=null)throw Error(r(92));if(we(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),l=c}c=wr(l),s.defaultValue=c,m=s.textContent,m===c&&m!==""&&m!==null&&(s.value=m)}function hi(s,l){if(l){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=l;return}}s.textContent=l}var Jo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kd(s,l,c){var m=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":m?s.setProperty(l,c):typeof c!="number"||c===0||Jo.has(l)?l==="float"?s.cssFloat=c:s[l]=(""+c).trim():s[l]=c+"px"}function uf(s,l,c){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var v in l)m=l[v],l.hasOwnProperty(v)&&c[v]!==m&&kd(s,v,m)}else for(var _ in l)l.hasOwnProperty(_)&&kd(s,_,l[_])}function cf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ky=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function du(s){return Gy.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var $a=null;function di(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ba=null,za=null;function ff(s){var l=ht(s);if(l&&(s=l.stateNode)){var c=s[ye]||null;e:switch(s=l.stateNode,l.type){case"input":if($r(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+pn(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var m=c[l];if(m!==s&&m.form===s.form){var v=m[ye]||null;if(!v)throw Error(r(90));$r(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<c.length;l++)m=c[l],m.form===s.form&&lf(m)}break e;case"textarea":Dt(s,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&Va(s,!!c.multiple,l,!1)}}}var oa=!1;function Id(s,l,c){if(oa)return s(l,c);oa=!0;try{var m=s(l);return m}finally{if(oa=!1,(Ba!==null||za!==null)&&(Cm(),Ba&&(l=Ba,s=za,za=Ba=null,ff(l),s)))for(l=0;l<s.length;l++)ff(s[l])}}function Zo(s,l){var c=s.stateNode;if(c===null)return null;var m=c[ye]||null;if(m===null)return null;c=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,l,typeof c));return c}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mi=!1;if($i)try{var el={};Object.defineProperty(el,"passive",{get:function(){mi=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{mi=!1}var la=null,$s=null,qa=null;function hf(){if(qa)return qa;var s,l=$s,c=l.length,m,v="value"in la?la.value:la.textContent,_=v.length;for(s=0;s<c&&l[s]===v[s];s++);var N=c-s;for(m=1;m<=N&&l[c-m]===v[_-m];m++);return qa=v.slice(s,1<m?1-m:void 0)}function ua(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function ca(){return!0}function df(){return!1}function Un(s){function l(c,m,v,_,N){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var I in s)s.hasOwnProperty(I)&&(c=s[I],this[I]=c?c(_):_[I]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ca:df,this.isPropagationStopped=df,this}return d(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),l}var At={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=Un(At),tl=d({},At,{view:0,detail:0}),Md=Un(tl),pu,gu,fa,nl=d({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:al,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fa&&(fa&&s.type==="mousemove"?(pu=s.screenX-fa.screenX,gu=s.screenY-fa.screenY):gu=pu=0,fa=s),pu)},movementY:function(s){return"movementY"in s?s.movementY:gu}}),pi=Un(nl),Ld=d({},nl,{dataTransfer:0}),Wy=Un(Ld),rl=d({},tl,{relatedTarget:0}),yu=Un(rl),mf=d({},At,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Un(mf),Ud=d({},At,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),bu=Un(Ud),Yy=d({},At,{data:0}),pf=Un(Yy),il={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$d={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gf(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=$d[s])?!!l[s]:!1}function al(){return gf}var Bd=d({},tl,{key:function(s){if(s.key){var l=il[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=ua(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Vd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:al,charCode:function(s){return s.type==="keypress"?ua(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ua(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_u=Un(Bd),zd=d({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=Un(zd),Fa=d({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:al}),qd=Un(Fa),Fd=d({},At,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hd=Un(Fd),Kd=d({},nl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),wu=Un(Kd),xr=d({},At,{newState:0,oldState:0}),Gd=Un(xr),Wd=[9,13,27,32],ha=$i&&"CompositionEvent"in window,g=null;$i&&"documentMode"in document&&(g=document.documentMode);var T=$i&&"TextEvent"in window&&!g,P=$i&&(!ha||g&&8<g&&11>=g),B=" ",Q=!1;function ae(s,l){switch(s){case"keyup":return Wd.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var dt=!1;function Tn(s,l){switch(s){case"compositionend":return be(l);case"keypress":return l.which!==32?null:(Q=!0,B);case"textInput":return s=l.data,s===B&&Q?null:s;default:return null}}function mt(s,l){if(dt)return s==="compositionend"||!ha&&ae(s,l)?(s=hf(),qa=$s=la=null,dt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return P&&l.locale!=="ko"?null:l.data;default:return null}}var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Vn[s.type]:l==="textarea"}function Ha(s,l,c,m){Ba?za?za.push(m):za=[m]:Ba=m,l=km(l,"onChange"),0<l.length&&(c=new mu("onChange","change",null,c,m),s.push({event:c,listeners:l}))}var Jn=null,da=null;function vf(s){HA(s,0)}function Yd(s){var l=Ct(s);if(lf(l))return s}function hS(s,l){if(s==="change")return l}var dS=!1;if($i){var Xy;if($i){var Qy="oninput"in document;if(!Qy){var mS=document.createElement("div");mS.setAttribute("oninput","return;"),Qy=typeof mS.oninput=="function"}Xy=Qy}else Xy=!1;dS=Xy&&(!document.documentMode||9<document.documentMode)}function pS(){Jn&&(Jn.detachEvent("onpropertychange",gS),da=Jn=null)}function gS(s){if(s.propertyName==="value"&&Yd(da)){var l=[];Ha(l,da,s,di(s)),Id(vf,l)}}function V6(s,l,c){s==="focusin"?(pS(),Jn=l,da=c,Jn.attachEvent("onpropertychange",gS)):s==="focusout"&&pS()}function $6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yd(da)}function B6(s,l){if(s==="click")return Yd(l)}function z6(s,l){if(s==="input"||s==="change")return Yd(l)}function q6(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Br=typeof Object.is=="function"?Object.is:q6;function bf(s,l){if(Br(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var c=Object.keys(s),m=Object.keys(l);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!ge.call(l,v)||!Br(s[v],l[v]))return!1}return!0}function yS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function vS(s,l){var c=yS(s);s=0;for(var m;c;){if(c.nodeType===3){if(m=s+c.textContent.length,s<=l&&m>=l)return{node:c,offset:l-s};s=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=yS(c)}}function bS(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?bS(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function _S(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Yo(s.document);l instanceof s.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)s=l.contentWindow;else break;l=Yo(s.document)}return l}function Jy(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var F6=$i&&"documentMode"in document&&11>=document.documentMode,xu=null,Zy=null,_f=null,ev=!1;function wS(s,l,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ev||xu==null||xu!==Yo(m)||(m=xu,"selectionStart"in m&&Jy(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),_f&&bf(_f,m)||(_f=m,m=km(Zy,"onSelect"),0<m.length&&(l=new mu("onSelect","select",null,l,c),s.push({event:l,listeners:m}),l.target=xu)))}function sl(s,l){var c={};return c[s.toLowerCase()]=l.toLowerCase(),c["Webkit"+s]="webkit"+l,c["Moz"+s]="moz"+l,c}var Eu={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionrun:sl("Transition","TransitionRun"),transitionstart:sl("Transition","TransitionStart"),transitioncancel:sl("Transition","TransitionCancel"),transitionend:sl("Transition","TransitionEnd")},tv={},xS={};$i&&(xS=document.createElement("div").style,"AnimationEvent"in window||(delete Eu.animationend.animation,delete Eu.animationiteration.animation,delete Eu.animationstart.animation),"TransitionEvent"in window||delete Eu.transitionend.transition);function ol(s){if(tv[s])return tv[s];if(!Eu[s])return s;var l=Eu[s],c;for(c in l)if(l.hasOwnProperty(c)&&c in xS)return tv[s]=l[c];return s}var ES=ol("animationend"),SS=ol("animationiteration"),TS=ol("animationstart"),H6=ol("transitionrun"),K6=ol("transitionstart"),G6=ol("transitioncancel"),AS=ol("transitionend"),OS=new Map,nv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nv.push("scrollEnd");function Bi(s,l){OS.set(s,l),Xn(l,[s])}var CS=new WeakMap;function gi(s,l){if(typeof s=="object"&&s!==null){var c=CS.get(s);return c!==void 0?c:(l={value:s,source:l,stack:Us(l)},CS.set(s,l),l)}return{value:s,source:l,stack:Us(l)}}var yi=[],Su=0,rv=0;function Xd(){for(var s=Su,l=rv=Su=0;l<s;){var c=yi[l];yi[l++]=null;var m=yi[l];yi[l++]=null;var v=yi[l];yi[l++]=null;var _=yi[l];if(yi[l++]=null,m!==null&&v!==null){var N=m.pending;N===null?v.next=v:(v.next=N.next,N.next=v),m.pending=v}_!==0&&PS(c,v,_)}}function Qd(s,l,c,m){yi[Su++]=s,yi[Su++]=l,yi[Su++]=c,yi[Su++]=m,rv|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function iv(s,l,c,m){return Qd(s,l,c,m),Jd(s)}function Tu(s,l){return Qd(s,null,null,l),Jd(s)}function PS(s,l,c){s.lanes|=c;var m=s.alternate;m!==null&&(m.lanes|=c);for(var v=!1,_=s.return;_!==null;)_.childLanes|=c,m=_.alternate,m!==null&&(m.childLanes|=c),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(v=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,v&&l!==null&&(v=31-mn(c),s=_.hiddenUpdates,m=s[v],m===null?s[v]=[l]:m.push(l),l.lane=c|536870912),_):null}function Jd(s){if(50<Hf)throw Hf=0,c0=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Au={};function W6(s,l,c,m){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(s,l,c,m){return new W6(s,l,c,m)}function av(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ka(s,l){var c=s.alternate;return c===null?(c=zr(s.tag,l,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=l,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,l=s.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function RS(s,l){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,l=c.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Zd(s,l,c,m,v,_){var N=0;if(m=s,typeof s=="function")av(s)&&(N=1);else if(typeof s=="string")N=XU(s,c,Ae.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=zr(31,c,l,v),s.elementType=M,s.lanes=_,s;case w:return ll(c.children,v,_,l);case x:N=8,v|=24;break;case S:return s=zr(12,c,l,v|2),s.elementType=S,s.lanes=_,s;case U:return s=zr(13,c,l,v),s.elementType=U,s.lanes=_,s;case D:return s=zr(19,c,l,v),s.elementType=D,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:case C:N=10;break e;case R:N=9;break e;case L:N=11;break e;case j:N=14;break e;case k:N=16,m=null;break e}N=29,c=Error(r(130,s===null?"null":typeof s,"")),m=null}return l=zr(N,c,l,v),l.elementType=s,l.type=m,l.lanes=_,l}function ll(s,l,c,m){return s=zr(7,s,m,l),s.lanes=c,s}function sv(s,l,c){return s=zr(6,s,null,l),s.lanes=c,s}function ov(s,l,c){return l=zr(4,s.children!==null?s.children:[],s.key,l),l.lanes=c,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var Ou=[],Cu=0,em=null,tm=0,vi=[],bi=0,ul=null,Ga=1,Wa="";function cl(s,l){Ou[Cu++]=tm,Ou[Cu++]=em,em=s,tm=l}function NS(s,l,c){vi[bi++]=Ga,vi[bi++]=Wa,vi[bi++]=ul,ul=s;var m=Ga;s=Wa;var v=32-mn(m)-1;m&=~(1<<v),c+=1;var _=32-mn(l)+v;if(30<_){var N=v-v%5;_=(m&(1<<N)-1).toString(32),m>>=N,v-=N,Ga=1<<32-mn(l)+v|c<<v|m,Wa=_+s}else Ga=1<<_|c<<v|m,Wa=s}function lv(s){s.return!==null&&(cl(s,1),NS(s,1,0))}function uv(s){for(;s===em;)em=Ou[--Cu],Ou[Cu]=null,tm=Ou[--Cu],Ou[Cu]=null;for(;s===ul;)ul=vi[--bi],vi[bi]=null,Wa=vi[--bi],vi[bi]=null,Ga=vi[--bi],vi[bi]=null}var Er=null,rn=null,Et=!1,fl=null,ma=!1,cv=Error(r(519));function hl(s){var l=Error(r(418,""));throw Ef(gi(l,s)),cv}function jS(s){var l=s.stateNode,c=s.type,m=s.memoizedProps;switch(l[fe]=s,l[ye]=m,c){case"dialog":lt("cancel",l),lt("close",l);break;case"iframe":case"object":case"embed":lt("load",l);break;case"video":case"audio":for(c=0;c<Gf.length;c++)lt(Gf[c],l);break;case"source":lt("error",l);break;case"img":case"image":case"link":lt("error",l),lt("load",l);break;case"details":lt("toggle",l);break;case"input":lt("invalid",l),Xo(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),hu(l);break;case"select":lt("invalid",l);break;case"textarea":lt("invalid",l),Qo(l,m.value,m.defaultValue,m.children),hu(l)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||m.suppressHydrationWarning===!0||YA(l.textContent,c)?(m.popover!=null&&(lt("beforetoggle",l),lt("toggle",l)),m.onScroll!=null&&lt("scroll",l),m.onScrollEnd!=null&&lt("scrollend",l),m.onClick!=null&&(l.onclick=Im),l=!0):l=!1,l||hl(s)}function DS(s){for(Er=s.return;Er;)switch(Er.tag){case 5:case 13:ma=!1;return;case 27:case 3:ma=!0;return;default:Er=Er.return}}function wf(s){if(s!==Er)return!1;if(!Et)return DS(s),Et=!0,!1;var l=s.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||A0(s.type,s.memoizedProps)),c=!c),c&&rn&&hl(s),DS(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(l===0){rn=qi(s.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++;s=s.nextSibling}rn=null}}else l===27?(l=rn,no(s.type)?(s=R0,R0=null,rn=s):rn=l):rn=Er?qi(s.stateNode.nextSibling):null;return!0}function xf(){rn=Er=null,Et=!1}function kS(){var s=fl;return s!==null&&(Cr===null?Cr=s:Cr.push.apply(Cr,s),fl=null),s}function Ef(s){fl===null?fl=[s]:fl.push(s)}var fv=oe(null),dl=null,Ya=null;function Bs(s,l,c){me(fv,l._currentValue),l._currentValue=c}function Xa(s){s._currentValue=fv.current,ie(fv)}function hv(s,l,c){for(;s!==null;){var m=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),s===c)break;s=s.return}}function dv(s,l,c,m){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var _=v.dependencies;if(_!==null){var N=v.child;_=_.firstContext;e:for(;_!==null;){var I=_;_=v;for(var F=0;F<l.length;F++)if(I.context===l[F]){_.lanes|=c,I=_.alternate,I!==null&&(I.lanes|=c),hv(_.return,c,s),m||(N=null);break e}_=I.next}}else if(v.tag===18){if(N=v.return,N===null)throw Error(r(341));N.lanes|=c,_=N.alternate,_!==null&&(_.lanes|=c),hv(N,c,s),N=null}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===s){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}}function Sf(s,l,c,m){s=null;for(var v=l,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var N=v.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var I=v.type;Br(v.pendingProps.value,N.value)||(s!==null?s.push(I):s=[I])}}else if(v===nn.current){if(N=v.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Zf):s=[Zf])}v=v.return}s!==null&&dv(l,s,c,m),l.flags|=262144}function nm(s){for(s=s.firstContext;s!==null;){if(!Br(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ml(s){dl=s,Ya=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ur(s){return IS(dl,s)}function rm(s,l){return dl===null&&ml(s),IS(s,l)}function IS(s,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},Ya===null){if(s===null)throw Error(r(308));Ya=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Ya=Ya.next=l;return c}var Y6=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(c,m){s.push(m)}};this.abort=function(){l.aborted=!0,s.forEach(function(c){return c()})}},X6=t.unstable_scheduleCallback,Q6=t.unstable_NormalPriority,On={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mv(){return{controller:new Y6,data:new Map,refCount:0}}function Tf(s){s.refCount--,s.refCount===0&&X6(Q6,function(){s.controller.abort()})}var Af=null,pv=0,Pu=0,Ru=null;function J6(s,l){if(Af===null){var c=Af=[];pv=0,Pu=y0(),Ru={status:"pending",value:void 0,then:function(m){c.push(m)}}}return pv++,l.then(MS,MS),l}function MS(){if(--pv===0&&Af!==null){Ru!==null&&(Ru.status="fulfilled");var s=Af;Af=null,Pu=0,Ru=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function Z6(s,l){var c=[],m={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return s.then(function(){m.status="fulfilled",m.value=l;for(var v=0;v<c.length;v++)(0,c[v])(l)},function(v){for(m.status="rejected",m.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),m}var LS=G.S;G.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&J6(s,l),LS!==null&&LS(s,l)};var pl=oe(null);function gv(){var s=pl.current;return s!==null?s:Bt.pooledCache}function im(s,l){l===null?me(pl,pl.current):me(pl,l.pool)}function US(){var s=gv();return s===null?null:{parent:On._currentValue,pool:s}}var Of=Error(r(460)),VS=Error(r(474)),am=Error(r(542)),yv={then:function(){}};function $S(s){return s=s.status,s==="fulfilled"||s==="rejected"}function sm(){}function BS(s,l,c){switch(c=s[c],c===void 0?s.push(l):c!==l&&(l.then(sm,sm),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,qS(s),s;default:if(typeof l.status=="string")l.then(sm,sm);else{if(s=Bt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(m){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=m}},function(m){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,qS(s),s}throw Cf=l,Of}}var Cf=null;function zS(){if(Cf===null)throw Error(r(459));var s=Cf;return Cf=null,s}function qS(s){if(s===Of||s===am)throw Error(r(483))}var zs=!1;function vv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bv(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function qs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fs(s,l,c){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Pt&2)!==0){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,l=Jd(s),PS(s,null,c),l}return Qd(s,m,l,c),Jd(s)}function Pf(s,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var m=l.lanes;m&=s.pendingLanes,c|=m,l.lanes=c,aa(s,c)}}function _v(s,l){var c=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var N={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?v=_=N:_=_.next=N,c=c.next}while(c!==null);_===null?v=_=l:_=_.next=l}else v=_=l;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=l}var wv=!1;function Rf(){if(wv){var s=Ru;if(s!==null)throw s}}function Nf(s,l,c,m){wv=!1;var v=s.updateQueue;zs=!1;var _=v.firstBaseUpdate,N=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var F=I,Z=F.next;F.next=null,N===null?_=Z:N.next=Z,N=F;var le=s.alternate;le!==null&&(le=le.updateQueue,I=le.lastBaseUpdate,I!==N&&(I===null?le.firstBaseUpdate=Z:I.next=Z,le.lastBaseUpdate=F))}if(_!==null){var ce=v.baseState;N=0,le=Z=F=null,I=_;do{var te=I.lane&-536870913,ne=te!==I.lane;if(ne?(pt&te)===te:(m&te)===te){te!==0&&te===Pu&&(wv=!0),le!==null&&(le=le.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var We=s,qe=I;te=l;var Mt=c;switch(qe.tag){case 1:if(We=qe.payload,typeof We=="function"){ce=We.call(Mt,ce,te);break e}ce=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=qe.payload,te=typeof We=="function"?We.call(Mt,ce,te):We,te==null)break e;ce=d({},ce,te);break e;case 2:zs=!0}}te=I.callback,te!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:I.tag,payload:I.payload,callback:I.callback,next:null},le===null?(Z=le=ne,F=ce):le=le.next=ne,N|=te;if(I=I.next,I===null){if(I=v.shared.pending,I===null)break;ne=I,I=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);le===null&&(F=ce),v.baseState=F,v.firstBaseUpdate=Z,v.lastBaseUpdate=le,_===null&&(v.shared.lanes=0),Js|=N,s.lanes=N,s.memoizedState=ce}}function FS(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function HS(s,l){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)FS(c[s],l)}var Nu=oe(null),om=oe(0);function KS(s,l){s=rs,me(om,s),me(Nu,l),rs=s|l.baseLanes}function xv(){me(om,rs),me(Nu,Nu.current)}function Ev(){rs=om.current,ie(Nu),ie(om)}var Hs=0,rt=null,kt=null,gn=null,lm=!1,ju=!1,gl=!1,um=0,jf=0,Du=null,eU=0;function un(){throw Error(r(321))}function Sv(s,l){if(l===null)return!1;for(var c=0;c<l.length&&c<s.length;c++)if(!Br(s[c],l[c]))return!1;return!0}function Tv(s,l,c,m,v,_){return Hs=_,rt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,G.H=s===null||s.memoizedState===null?PT:RT,gl=!1,_=c(m,v),gl=!1,ju&&(_=WS(l,c,m,v)),GS(s),_}function GS(s){G.H=pm;var l=kt!==null&&kt.next!==null;if(Hs=0,gn=kt=rt=null,lm=!1,jf=0,Du=null,l)throw Error(r(300));s===null||$n||(s=s.dependencies,s!==null&&nm(s)&&($n=!0))}function WS(s,l,c,m){rt=s;var v=0;do{if(ju&&(Du=null),jf=0,ju=!1,25<=v)throw Error(r(301));if(v+=1,gn=kt=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}G.H=oU,_=l(c,m)}while(ju);return _}function tU(){var s=G.H,l=s.useState()[0];return l=typeof l.then=="function"?Df(l):l,s=s.useState()[0],(kt!==null?kt.memoizedState:null)!==s&&(rt.flags|=1024),l}function Av(){var s=um!==0;return um=0,s}function Ov(s,l,c){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~c}function Cv(s){if(lm){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}lm=!1}Hs=0,gn=kt=rt=null,ju=!1,jf=um=0,Du=null}function Ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?rt.memoizedState=gn=s:gn=gn.next=s,gn}function yn(){if(kt===null){var s=rt.alternate;s=s!==null?s.memoizedState:null}else s=kt.next;var l=gn===null?rt.memoizedState:gn.next;if(l!==null)gn=l,kt=s;else{if(s===null)throw rt.alternate===null?Error(r(467)):Error(r(310));kt=s,s={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},gn===null?rt.memoizedState=gn=s:gn=gn.next=s}return gn}function Pv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Df(s){var l=jf;return jf+=1,Du===null&&(Du=[]),s=BS(Du,s,l),l=rt,(gn===null?l.memoizedState:gn.next)===null&&(l=l.alternate,G.H=l===null||l.memoizedState===null?PT:RT),s}function cm(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Df(s);if(s.$$typeof===C)return ur(s)}throw Error(r(438,String(s)))}function Rv(s){var l=null,c=rt.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var m=rt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=Pv(),rt.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(s),m=0;m<s;m++)c[m]=V;return l.index++,c}function Qa(s,l){return typeof l=="function"?l(s):l}function fm(s){var l=yn();return Nv(l,kt,s)}function Nv(s,l,c){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var v=s.baseQueue,_=m.pending;if(_!==null){if(v!==null){var N=v.next;v.next=_.next,_.next=N}l.baseQueue=v=_,m.pending=null}if(_=s.baseState,v===null)s.memoizedState=_;else{l=v.next;var I=N=null,F=null,Z=l,le=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(pt&ce)===ce:(Hs&ce)===ce){var te=Z.revertLane;if(te===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===Pu&&(le=!0);else if((Hs&te)===te){Z=Z.next,te===Pu&&(le=!0);continue}else ce={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(I=F=ce,N=_):F=F.next=ce,rt.lanes|=te,Js|=te;ce=Z.action,gl&&c(_,ce),_=Z.hasEagerState?Z.eagerState:c(_,ce)}else te={lane:ce,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(I=F=te,N=_):F=F.next=te,rt.lanes|=ce,Js|=ce;Z=Z.next}while(Z!==null&&Z!==l);if(F===null?N=_:F.next=I,!Br(_,s.memoizedState)&&($n=!0,le&&(c=Ru,c!==null)))throw c;s.memoizedState=_,s.baseState=N,s.baseQueue=F,m.lastRenderedState=_}return v===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function jv(s){var l=yn(),c=l.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var m=c.dispatch,v=c.pending,_=l.memoizedState;if(v!==null){c.pending=null;var N=v=v.next;do _=s(_,N.action),N=N.next;while(N!==v);Br(_,l.memoizedState)||($n=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),c.lastRenderedState=_}return[_,m]}function YS(s,l,c){var m=rt,v=yn(),_=Et;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=l();var N=!Br((kt||v).memoizedState,c);N&&(v.memoizedState=c,$n=!0),v=v.queue;var I=JS.bind(null,m,v,s);if(kf(2048,8,I,[s]),v.getSnapshot!==l||N||gn!==null&&gn.memoizedState.tag&1){if(m.flags|=2048,ku(9,hm(),QS.bind(null,m,v,c,l),null),Bt===null)throw Error(r(349));_||(Hs&124)!==0||XS(m,l,c)}return c}function XS(s,l,c){s.flags|=16384,s={getSnapshot:l,value:c},l=rt.updateQueue,l===null?(l=Pv(),rt.updateQueue=l,l.stores=[s]):(c=l.stores,c===null?l.stores=[s]:c.push(s))}function QS(s,l,c,m){l.value=c,l.getSnapshot=m,ZS(l)&&eT(s)}function JS(s,l,c){return c(function(){ZS(l)&&eT(s)})}function ZS(s){var l=s.getSnapshot;s=s.value;try{var c=l();return!Br(s,c)}catch{return!0}}function eT(s){var l=Tu(s,2);l!==null&&Gr(l,s,2)}function Dv(s){var l=Ar();if(typeof s=="function"){var c=s;if(s=c(),gl){lr(!0);try{c()}finally{lr(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:s},l}function tT(s,l,c,m){return s.baseState=c,Nv(s,kt,typeof m=="function"?m:Qa)}function nU(s,l,c,m,v){if(mm(s))throw Error(r(485));if(s=l.action,s!==null){var _={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){_.listeners.push(N)}};G.T!==null?c(!0):_.isTransition=!1,m(_),c=l.pending,c===null?(_.next=l.pending=_,nT(l,_)):(_.next=c.next,l.pending=c.next=_)}}function nT(s,l){var c=l.action,m=l.payload,v=s.state;if(l.isTransition){var _=G.T,N={};G.T=N;try{var I=c(v,m),F=G.S;F!==null&&F(N,I),rT(s,l,I)}catch(Z){kv(s,l,Z)}finally{G.T=_}}else try{_=c(v,m),rT(s,l,_)}catch(Z){kv(s,l,Z)}}function rT(s,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){iT(s,l,m)},function(m){return kv(s,l,m)}):iT(s,l,c)}function iT(s,l,c){l.status="fulfilled",l.value=c,aT(l),s.state=c,l=s.pending,l!==null&&(c=l.next,c===l?s.pending=null:(c=c.next,l.next=c,nT(s,c)))}function kv(s,l,c){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=c,aT(l),l=l.next;while(l!==m)}s.action=null}function aT(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function sT(s,l){return l}function oT(s,l){if(Et){var c=Bt.formState;if(c!==null){e:{var m=rt;if(Et){if(rn){t:{for(var v=rn,_=ma;v.nodeType!==8;){if(!_){v=null;break t}if(v=qi(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){rn=qi(v.nextSibling),m=v.data==="F!";break e}}hl(m)}m=!1}m&&(l=c[0])}}return c=Ar(),c.memoizedState=c.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sT,lastRenderedState:l},c.queue=m,c=AT.bind(null,rt,m),m.dispatch=c,m=Dv(!1),_=Vv.bind(null,rt,!1,m.queue),m=Ar(),v={state:l,dispatch:null,action:s,pending:null},m.queue=v,c=nU.bind(null,rt,v,_,c),v.dispatch=c,m.memoizedState=s,[l,c,!1]}function lT(s){var l=yn();return uT(l,kt,s)}function uT(s,l,c){if(l=Nv(s,l,sT)[0],s=fm(Qa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Df(l)}catch(N){throw N===Of?am:N}else m=l;l=yn();var v=l.queue,_=v.dispatch;return c!==l.memoizedState&&(rt.flags|=2048,ku(9,hm(),rU.bind(null,v,c),null)),[m,_,s]}function rU(s,l){s.action=l}function cT(s){var l=yn(),c=kt;if(c!==null)return uT(l,c,s);yn(),l=l.memoizedState,c=yn();var m=c.queue.dispatch;return c.memoizedState=s,[l,m,!1]}function ku(s,l,c,m){return s={tag:s,create:c,deps:m,inst:l,next:null},l=rt.updateQueue,l===null&&(l=Pv(),rt.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=s.next=s:(m=c.next,c.next=s,s.next=m,l.lastEffect=s),s}function hm(){return{destroy:void 0,resource:void 0}}function fT(){return yn().memoizedState}function dm(s,l,c,m){var v=Ar();m=m===void 0?null:m,rt.flags|=s,v.memoizedState=ku(1|l,hm(),c,m)}function kf(s,l,c,m){var v=yn();m=m===void 0?null:m;var _=v.memoizedState.inst;kt!==null&&m!==null&&Sv(m,kt.memoizedState.deps)?v.memoizedState=ku(l,_,c,m):(rt.flags|=s,v.memoizedState=ku(1|l,_,c,m))}function hT(s,l){dm(8390656,8,s,l)}function dT(s,l){kf(2048,8,s,l)}function mT(s,l){return kf(4,2,s,l)}function pT(s,l){return kf(4,4,s,l)}function gT(s,l){if(typeof l=="function"){s=s();var c=l(s);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function yT(s,l,c){c=c!=null?c.concat([s]):null,kf(4,4,gT.bind(null,l,s),c)}function Iv(){}function vT(s,l){var c=yn();l=l===void 0?null:l;var m=c.memoizedState;return l!==null&&Sv(l,m[1])?m[0]:(c.memoizedState=[s,l],s)}function bT(s,l){var c=yn();l=l===void 0?null:l;var m=c.memoizedState;if(l!==null&&Sv(l,m[1]))return m[0];if(m=s(),gl){lr(!0);try{s()}finally{lr(!1)}}return c.memoizedState=[m,l],m}function Mv(s,l,c){return c===void 0||(Hs&1073741824)!==0?s.memoizedState=l:(s.memoizedState=c,s=xA(),rt.lanes|=s,Js|=s,c)}function _T(s,l,c,m){return Br(c,l)?c:Nu.current!==null?(s=Mv(s,c,m),Br(s,l)||($n=!0),s):(Hs&42)===0?($n=!0,s.memoizedState=c):(s=xA(),rt.lanes|=s,Js|=s,l)}function wT(s,l,c,m,v){var _=re.p;re.p=_!==0&&8>_?_:8;var N=G.T,I={};G.T=I,Vv(s,!1,l,c);try{var F=v(),Z=G.S;if(Z!==null&&Z(I,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var le=Z6(F,m);If(s,l,le,Kr(s))}else If(s,l,m,Kr(s))}catch(ce){If(s,l,{then:function(){},status:"rejected",reason:ce},Kr())}finally{re.p=_,G.T=N}}function iU(){}function Lv(s,l,c,m){if(s.tag!==5)throw Error(r(476));var v=xT(s).queue;wT(s,v,l,pe,c===null?iU:function(){return ET(s),c(m)})}function xT(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:pe},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:c},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function ET(s){var l=xT(s).next.queue;If(s,l,{},Kr())}function Uv(){return ur(Zf)}function ST(){return yn().memoizedState}function TT(){return yn().memoizedState}function aU(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var c=Kr();s=qs(c);var m=Fs(l,s,c);m!==null&&(Gr(m,l,c),Pf(m,l,c)),l={cache:mv()},s.payload=l;return}l=l.return}}function sU(s,l,c){var m=Kr();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},mm(s)?OT(l,c):(c=iv(s,l,c,m),c!==null&&(Gr(c,s,m),CT(c,l,m)))}function AT(s,l,c){var m=Kr();If(s,l,c,m)}function If(s,l,c,m){var v={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(mm(s))OT(l,v);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var N=l.lastRenderedState,I=_(N,c);if(v.hasEagerState=!0,v.eagerState=I,Br(I,N))return Qd(s,l,v,0),Bt===null&&Xd(),!1}catch{}finally{}if(c=iv(s,l,v,m),c!==null)return Gr(c,s,m),CT(c,l,m),!0}return!1}function Vv(s,l,c,m){if(m={lane:2,revertLane:y0(),action:m,hasEagerState:!1,eagerState:null,next:null},mm(s)){if(l)throw Error(r(479))}else l=iv(s,c,m,2),l!==null&&Gr(l,s,2)}function mm(s){var l=s.alternate;return s===rt||l!==null&&l===rt}function OT(s,l){ju=lm=!0;var c=s.pending;c===null?l.next=l:(l.next=c.next,c.next=l),s.pending=l}function CT(s,l,c){if((c&4194048)!==0){var m=l.lanes;m&=s.pendingLanes,c|=m,l.lanes=c,aa(s,c)}}var pm={readContext:ur,use:cm,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un},PT={readContext:ur,use:cm,useCallback:function(s,l){return Ar().memoizedState=[s,l===void 0?null:l],s},useContext:ur,useEffect:hT,useImperativeHandle:function(s,l,c){c=c!=null?c.concat([s]):null,dm(4194308,4,gT.bind(null,l,s),c)},useLayoutEffect:function(s,l){return dm(4194308,4,s,l)},useInsertionEffect:function(s,l){dm(4,2,s,l)},useMemo:function(s,l){var c=Ar();l=l===void 0?null:l;var m=s();if(gl){lr(!0);try{s()}finally{lr(!1)}}return c.memoizedState=[m,l],m},useReducer:function(s,l,c){var m=Ar();if(c!==void 0){var v=c(l);if(gl){lr(!0);try{c(l)}finally{lr(!1)}}}else v=l;return m.memoizedState=m.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},m.queue=s,s=s.dispatch=sU.bind(null,rt,s),[m.memoizedState,s]},useRef:function(s){var l=Ar();return s={current:s},l.memoizedState=s},useState:function(s){s=Dv(s);var l=s.queue,c=AT.bind(null,rt,l);return l.dispatch=c,[s.memoizedState,c]},useDebugValue:Iv,useDeferredValue:function(s,l){var c=Ar();return Mv(c,s,l)},useTransition:function(){var s=Dv(!1);return s=wT.bind(null,rt,s.queue,!0,!1),Ar().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,c){var m=rt,v=Ar();if(Et){if(c===void 0)throw Error(r(407));c=c()}else{if(c=l(),Bt===null)throw Error(r(349));(pt&124)!==0||XS(m,l,c)}v.memoizedState=c;var _={value:c,getSnapshot:l};return v.queue=_,hT(JS.bind(null,m,_,s),[s]),m.flags|=2048,ku(9,hm(),QS.bind(null,m,_,c,l),null),c},useId:function(){var s=Ar(),l=Bt.identifierPrefix;if(Et){var c=Wa,m=Ga;c=(m&~(1<<32-mn(m)-1)).toString(32)+c,l="«"+l+"R"+c,c=um++,0<c&&(l+="H"+c.toString(32)),l+="»"}else c=eU++,l="«"+l+"r"+c.toString(32)+"»";return s.memoizedState=l},useHostTransitionStatus:Uv,useFormState:oT,useActionState:oT,useOptimistic:function(s){var l=Ar();l.memoizedState=l.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=Vv.bind(null,rt,!0,c),c.dispatch=l,[s,l]},useMemoCache:Rv,useCacheRefresh:function(){return Ar().memoizedState=aU.bind(null,rt)}},RT={readContext:ur,use:cm,useCallback:vT,useContext:ur,useEffect:dT,useImperativeHandle:yT,useInsertionEffect:mT,useLayoutEffect:pT,useMemo:bT,useReducer:fm,useRef:fT,useState:function(){return fm(Qa)},useDebugValue:Iv,useDeferredValue:function(s,l){var c=yn();return _T(c,kt.memoizedState,s,l)},useTransition:function(){var s=fm(Qa)[0],l=yn().memoizedState;return[typeof s=="boolean"?s:Df(s),l]},useSyncExternalStore:YS,useId:ST,useHostTransitionStatus:Uv,useFormState:lT,useActionState:lT,useOptimistic:function(s,l){var c=yn();return tT(c,kt,s,l)},useMemoCache:Rv,useCacheRefresh:TT},oU={readContext:ur,use:cm,useCallback:vT,useContext:ur,useEffect:dT,useImperativeHandle:yT,useInsertionEffect:mT,useLayoutEffect:pT,useMemo:bT,useReducer:jv,useRef:fT,useState:function(){return jv(Qa)},useDebugValue:Iv,useDeferredValue:function(s,l){var c=yn();return kt===null?Mv(c,s,l):_T(c,kt.memoizedState,s,l)},useTransition:function(){var s=jv(Qa)[0],l=yn().memoizedState;return[typeof s=="boolean"?s:Df(s),l]},useSyncExternalStore:YS,useId:ST,useHostTransitionStatus:Uv,useFormState:cT,useActionState:cT,useOptimistic:function(s,l){var c=yn();return kt!==null?tT(c,kt,s,l):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Rv,useCacheRefresh:TT},Iu=null,Mf=0;function gm(s){var l=Mf;return Mf+=1,Iu===null&&(Iu=[]),BS(Iu,s,l)}function Lf(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function ym(s,l){throw l.$$typeof===p?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function NT(s){var l=s._init;return l(s._payload)}function jT(s){function l(Y,W){if(s){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function c(Y,W){if(!s)return null;for(;W!==null;)l(Y,W),W=W.sibling;return null}function m(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function v(Y,W){return Y=Ka(Y,W),Y.index=0,Y.sibling=null,Y}function _(Y,W,J){return Y.index=J,s?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=67108866,W):J):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function N(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function I(Y,W,J,ue){return W===null||W.tag!==6?(W=sv(J,Y.mode,ue),W.return=Y,W):(W=v(W,J),W.return=Y,W)}function F(Y,W,J,ue){var Ce=J.type;return Ce===w?le(Y,W,J.props.children,ue,J.key):W!==null&&(W.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===k&&NT(Ce)===W.type)?(W=v(W,J.props),Lf(W,J),W.return=Y,W):(W=Zd(J.type,J.key,J.props,null,Y.mode,ue),Lf(W,J),W.return=Y,W)}function Z(Y,W,J,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=ov(J,Y.mode,ue),W.return=Y,W):(W=v(W,J.children||[]),W.return=Y,W)}function le(Y,W,J,ue,Ce){return W===null||W.tag!==7?(W=ll(J,Y.mode,ue,Ce),W.return=Y,W):(W=v(W,J),W.return=Y,W)}function ce(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=sv(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return J=Zd(W.type,W.key,W.props,null,Y.mode,J),Lf(J,W),J.return=Y,J;case b:return W=ov(W,Y.mode,J),W.return=Y,W;case k:var ue=W._init;return W=ue(W._payload),ce(Y,W,J)}if(we(W)||q(W))return W=ll(W,Y.mode,J,null),W.return=Y,W;if(typeof W.then=="function")return ce(Y,gm(W),J);if(W.$$typeof===C)return ce(Y,rm(Y,W),J);ym(Y,W)}return null}function te(Y,W,J,ue){var Ce=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ce!==null?null:I(Y,W,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case y:return J.key===Ce?F(Y,W,J,ue):null;case b:return J.key===Ce?Z(Y,W,J,ue):null;case k:return Ce=J._init,J=Ce(J._payload),te(Y,W,J,ue)}if(we(J)||q(J))return Ce!==null?null:le(Y,W,J,ue,null);if(typeof J.then=="function")return te(Y,W,gm(J),ue);if(J.$$typeof===C)return te(Y,W,rm(Y,J),ue);ym(Y,J)}return null}function ne(Y,W,J,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Y=Y.get(J)||null,I(W,Y,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case y:return Y=Y.get(ue.key===null?J:ue.key)||null,F(W,Y,ue,Ce);case b:return Y=Y.get(ue.key===null?J:ue.key)||null,Z(W,Y,ue,Ce);case k:var at=ue._init;return ue=at(ue._payload),ne(Y,W,J,ue,Ce)}if(we(ue)||q(ue))return Y=Y.get(J)||null,le(W,Y,ue,Ce,null);if(typeof ue.then=="function")return ne(Y,W,J,gm(ue),Ce);if(ue.$$typeof===C)return ne(Y,W,J,rm(W,ue),Ce);ym(W,ue)}return null}function We(Y,W,J,ue){for(var Ce=null,at=null,Me=W,He=W=0,zn=null;Me!==null&&He<J.length;He++){Me.index>He?(zn=Me,Me=null):zn=Me.sibling;var vt=te(Y,Me,J[He],ue);if(vt===null){Me===null&&(Me=zn);break}s&&Me&&vt.alternate===null&&l(Y,Me),W=_(vt,W,He),at===null?Ce=vt:at.sibling=vt,at=vt,Me=zn}if(He===J.length)return c(Y,Me),Et&&cl(Y,He),Ce;if(Me===null){for(;He<J.length;He++)Me=ce(Y,J[He],ue),Me!==null&&(W=_(Me,W,He),at===null?Ce=Me:at.sibling=Me,at=Me);return Et&&cl(Y,He),Ce}for(Me=m(Me);He<J.length;He++)zn=ne(Me,Y,He,J[He],ue),zn!==null&&(s&&zn.alternate!==null&&Me.delete(zn.key===null?He:zn.key),W=_(zn,W,He),at===null?Ce=zn:at.sibling=zn,at=zn);return s&&Me.forEach(function(oo){return l(Y,oo)}),Et&&cl(Y,He),Ce}function qe(Y,W,J,ue){if(J==null)throw Error(r(151));for(var Ce=null,at=null,Me=W,He=W=0,zn=null,vt=J.next();Me!==null&&!vt.done;He++,vt=J.next()){Me.index>He?(zn=Me,Me=null):zn=Me.sibling;var oo=te(Y,Me,vt.value,ue);if(oo===null){Me===null&&(Me=zn);break}s&&Me&&oo.alternate===null&&l(Y,Me),W=_(oo,W,He),at===null?Ce=oo:at.sibling=oo,at=oo,Me=zn}if(vt.done)return c(Y,Me),Et&&cl(Y,He),Ce;if(Me===null){for(;!vt.done;He++,vt=J.next())vt=ce(Y,vt.value,ue),vt!==null&&(W=_(vt,W,He),at===null?Ce=vt:at.sibling=vt,at=vt);return Et&&cl(Y,He),Ce}for(Me=m(Me);!vt.done;He++,vt=J.next())vt=ne(Me,Y,He,vt.value,ue),vt!==null&&(s&&vt.alternate!==null&&Me.delete(vt.key===null?He:vt.key),W=_(vt,W,He),at===null?Ce=vt:at.sibling=vt,at=vt);return s&&Me.forEach(function(lV){return l(Y,lV)}),Et&&cl(Y,He),Ce}function Mt(Y,W,J,ue){if(typeof J=="object"&&J!==null&&J.type===w&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case y:e:{for(var Ce=J.key;W!==null;){if(W.key===Ce){if(Ce=J.type,Ce===w){if(W.tag===7){c(Y,W.sibling),ue=v(W,J.props.children),ue.return=Y,Y=ue;break e}}else if(W.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===k&&NT(Ce)===W.type){c(Y,W.sibling),ue=v(W,J.props),Lf(ue,J),ue.return=Y,Y=ue;break e}c(Y,W);break}else l(Y,W);W=W.sibling}J.type===w?(ue=ll(J.props.children,Y.mode,ue,J.key),ue.return=Y,Y=ue):(ue=Zd(J.type,J.key,J.props,null,Y.mode,ue),Lf(ue,J),ue.return=Y,Y=ue)}return N(Y);case b:e:{for(Ce=J.key;W!==null;){if(W.key===Ce)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){c(Y,W.sibling),ue=v(W,J.children||[]),ue.return=Y,Y=ue;break e}else{c(Y,W);break}else l(Y,W);W=W.sibling}ue=ov(J,Y.mode,ue),ue.return=Y,Y=ue}return N(Y);case k:return Ce=J._init,J=Ce(J._payload),Mt(Y,W,J,ue)}if(we(J))return We(Y,W,J,ue);if(q(J)){if(Ce=q(J),typeof Ce!="function")throw Error(r(150));return J=Ce.call(J),qe(Y,W,J,ue)}if(typeof J.then=="function")return Mt(Y,W,gm(J),ue);if(J.$$typeof===C)return Mt(Y,W,rm(Y,J),ue);ym(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,W!==null&&W.tag===6?(c(Y,W.sibling),ue=v(W,J),ue.return=Y,Y=ue):(c(Y,W),ue=sv(J,Y.mode,ue),ue.return=Y,Y=ue),N(Y)):c(Y,W)}return function(Y,W,J,ue){try{Mf=0;var Ce=Mt(Y,W,J,ue);return Iu=null,Ce}catch(Me){if(Me===Of||Me===am)throw Me;var at=zr(29,Me,null,Y.mode);return at.lanes=ue,at.return=Y,at}finally{}}}var Mu=jT(!0),DT=jT(!1),_i=oe(null),pa=null;function Ks(s){var l=s.alternate;me(Cn,Cn.current&1),me(_i,s),pa===null&&(l===null||Nu.current!==null||l.memoizedState!==null)&&(pa=s)}function kT(s){if(s.tag===22){if(me(Cn,Cn.current),me(_i,s),pa===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(pa=s)}}else Gs()}function Gs(){me(Cn,Cn.current),me(_i,_i.current)}function Ja(s){ie(_i),pa===s&&(pa=null),ie(Cn)}var Cn=oe(0);function vm(s){for(var l=s;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||P0(c)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function $v(s,l,c,m){l=s.memoizedState,c=c(m,l),c=c==null?l:d({},l,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Bv={enqueueSetState:function(s,l,c){s=s._reactInternals;var m=Kr(),v=qs(m);v.payload=l,c!=null&&(v.callback=c),l=Fs(s,v,m),l!==null&&(Gr(l,s,m),Pf(l,s,m))},enqueueReplaceState:function(s,l,c){s=s._reactInternals;var m=Kr(),v=qs(m);v.tag=1,v.payload=l,c!=null&&(v.callback=c),l=Fs(s,v,m),l!==null&&(Gr(l,s,m),Pf(l,s,m))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var c=Kr(),m=qs(c);m.tag=2,l!=null&&(m.callback=l),l=Fs(s,m,c),l!==null&&(Gr(l,s,c),Pf(l,s,c))}};function IT(s,l,c,m,v,_,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,_,N):l.prototype&&l.prototype.isPureReactComponent?!bf(c,m)||!bf(v,_):!0}function MT(s,l,c,m){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,m),l.state!==s&&Bv.enqueueReplaceState(l,l.state,null)}function yl(s,l){var c=l;if("ref"in l){c={};for(var m in l)m!=="ref"&&(c[m]=l[m])}if(s=s.defaultProps){c===l&&(c=d({},c));for(var v in s)c[v]===void 0&&(c[v]=s[v])}return c}var bm=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function LT(s){bm(s)}function UT(s){console.error(s)}function VT(s){bm(s)}function _m(s,l){try{var c=s.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function $T(s,l,c){try{var m=s.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function zv(s,l,c){return c=qs(c),c.tag=3,c.payload={element:null},c.callback=function(){_m(s,l)},c}function BT(s){return s=qs(s),s.tag=3,s}function zT(s,l,c,m){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var _=m.value;s.payload=function(){return v(_)},s.callback=function(){$T(l,c,m)}}var N=c.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(s.callback=function(){$T(l,c,m),typeof v!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var I=m.stack;this.componentDidCatch(m.value,{componentStack:I!==null?I:""})})}function lU(s,l,c,m,v){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=c.alternate,l!==null&&Sf(l,c,v,!0),c=_i.current,c!==null){switch(c.tag){case 13:return pa===null?h0():c.alternate===null&&an===0&&(an=3),c.flags&=-257,c.flags|=65536,c.lanes=v,m===yv?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([m]):l.add(m),m0(s,m,v)),!1;case 22:return c.flags|=65536,m===yv?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([m]):c.add(m)),m0(s,m,v)),!1}throw Error(r(435,c.tag))}return m0(s,m,v),h0(),!1}if(Et)return l=_i.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,m!==cv&&(s=Error(r(422),{cause:m}),Ef(gi(s,c)))):(m!==cv&&(l=Error(r(423),{cause:m}),Ef(gi(l,c))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,m=gi(m,c),v=zv(s.stateNode,m,v),_v(s,v),an!==4&&(an=2)),!1;var _=Error(r(520),{cause:m});if(_=gi(_,c),Ff===null?Ff=[_]:Ff.push(_),an!==4&&(an=2),l===null)return!0;m=gi(m,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,s=v&-v,c.lanes|=s,s=zv(c.stateNode,m,s),_v(c,s),!1;case 1:if(l=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Zs===null||!Zs.has(_))))return c.flags|=65536,v&=-v,c.lanes|=v,v=BT(v),zT(v,s,c,m),_v(c,v),!1}c=c.return}while(c!==null);return!1}var qT=Error(r(461)),$n=!1;function Zn(s,l,c,m){l.child=s===null?DT(l,null,c,m):Mu(l,s.child,c,m)}function FT(s,l,c,m,v){c=c.render;var _=l.ref;if("ref"in m){var N={};for(var I in m)I!=="ref"&&(N[I]=m[I])}else N=m;return ml(l),m=Tv(s,l,c,N,_,v),I=Av(),s!==null&&!$n?(Ov(s,l,v),Za(s,l,v)):(Et&&I&&lv(l),l.flags|=1,Zn(s,l,m,v),l.child)}function HT(s,l,c,m,v){if(s===null){var _=c.type;return typeof _=="function"&&!av(_)&&_.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=_,KT(s,l,_,m,v)):(s=Zd(c.type,null,m,l,l.mode,v),s.ref=l.ref,s.return=l,l.child=s)}if(_=s.child,!Xv(s,v)){var N=_.memoizedProps;if(c=c.compare,c=c!==null?c:bf,c(N,m)&&s.ref===l.ref)return Za(s,l,v)}return l.flags|=1,s=Ka(_,m),s.ref=l.ref,s.return=l,l.child=s}function KT(s,l,c,m,v){if(s!==null){var _=s.memoizedProps;if(bf(_,m)&&s.ref===l.ref)if($n=!1,l.pendingProps=m=_,Xv(s,v))(s.flags&131072)!==0&&($n=!0);else return l.lanes=s.lanes,Za(s,l,v)}return qv(s,l,c,m,v)}function GT(s,l,c){var m=l.pendingProps,v=m.children,_=s!==null?s.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=_!==null?_.baseLanes|c:c,s!==null){for(v=l.child=s.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;l.childLanes=_&~m}else l.childLanes=0,l.child=null;return WT(s,l,m,c)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&im(l,_!==null?_.cachePool:null),_!==null?KS(l,_):xv(),kT(l);else return l.lanes=l.childLanes=536870912,WT(s,l,_!==null?_.baseLanes|c:c,c)}else _!==null?(im(l,_.cachePool),KS(l,_),Gs(),l.memoizedState=null):(s!==null&&im(l,null),xv(),Gs());return Zn(s,l,v,c),l.child}function WT(s,l,c,m){var v=gv();return v=v===null?null:{parent:On._currentValue,pool:v},l.memoizedState={baseLanes:c,cachePool:v},s!==null&&im(l,null),xv(),kT(l),s!==null&&Sf(s,l,m,!0),null}function wm(s,l){var c=l.ref;if(c===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(l.flags|=4194816)}}function qv(s,l,c,m,v){return ml(l),c=Tv(s,l,c,m,void 0,v),m=Av(),s!==null&&!$n?(Ov(s,l,v),Za(s,l,v)):(Et&&m&&lv(l),l.flags|=1,Zn(s,l,c,v),l.child)}function YT(s,l,c,m,v,_){return ml(l),l.updateQueue=null,c=WS(l,m,c,v),GS(s),m=Av(),s!==null&&!$n?(Ov(s,l,_),Za(s,l,_)):(Et&&m&&lv(l),l.flags|=1,Zn(s,l,c,_),l.child)}function XT(s,l,c,m,v){if(ml(l),l.stateNode===null){var _=Au,N=c.contextType;typeof N=="object"&&N!==null&&(_=ur(N)),_=new c(m,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Bv,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=m,_.state=l.memoizedState,_.refs={},vv(l),N=c.contextType,_.context=typeof N=="object"&&N!==null?ur(N):Au,_.state=l.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&($v(l,c,N,m),_.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(N=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),N!==_.state&&Bv.enqueueReplaceState(_,_.state,null),Nf(l,m,_,v),Rf(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(s===null){_=l.stateNode;var I=l.memoizedProps,F=yl(c,I);_.props=F;var Z=_.context,le=c.contextType;N=Au,typeof le=="object"&&le!==null&&(N=ur(le));var ce=c.getDerivedStateFromProps;le=typeof ce=="function"||typeof _.getSnapshotBeforeUpdate=="function",I=l.pendingProps!==I,le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I||Z!==N)&&MT(l,_,m,N),zs=!1;var te=l.memoizedState;_.state=te,Nf(l,m,_,v),Rf(),Z=l.memoizedState,I||te!==Z||zs?(typeof ce=="function"&&($v(l,c,ce,m),Z=l.memoizedState),(F=zs||IT(l,c,F,m,te,Z,N))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Z),_.props=m,_.state=Z,_.context=N,m=F):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{_=l.stateNode,bv(s,l),N=l.memoizedProps,le=yl(c,N),_.props=le,ce=l.pendingProps,te=_.context,Z=c.contextType,F=Au,typeof Z=="object"&&Z!==null&&(F=ur(Z)),I=c.getDerivedStateFromProps,(Z=typeof I=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==ce||te!==F)&&MT(l,_,m,F),zs=!1,te=l.memoizedState,_.state=te,Nf(l,m,_,v),Rf();var ne=l.memoizedState;N!==ce||te!==ne||zs||s!==null&&s.dependencies!==null&&nm(s.dependencies)?(typeof I=="function"&&($v(l,c,I,m),ne=l.memoizedState),(le=zs||IT(l,c,le,m,te,ne,F)||s!==null&&s.dependencies!==null&&nm(s.dependencies))?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,ne,F),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,ne,F)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ne),_.props=m,_.state=ne,_.context=F,m=le):(typeof _.componentDidUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(l.flags|=1024),m=!1)}return _=m,wm(s,l),m=(l.flags&128)!==0,_||m?(_=l.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,s!==null&&m?(l.child=Mu(l,s.child,null,v),l.child=Mu(l,null,c,v)):Zn(s,l,c,v),l.memoizedState=_.state,s=l.child):s=Za(s,l,v),s}function QT(s,l,c,m){return xf(),l.flags|=256,Zn(s,l,c,m),l.child}var Fv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hv(s){return{baseLanes:s,cachePool:US()}}function Kv(s,l,c){return s=s!==null?s.childLanes&~c:0,l&&(s|=wi),s}function JT(s,l,c){var m=l.pendingProps,v=!1,_=(l.flags&128)!==0,N;if((N=_)||(N=s!==null&&s.memoizedState===null?!1:(Cn.current&2)!==0),N&&(v=!0,l.flags&=-129),N=(l.flags&32)!==0,l.flags&=-33,s===null){if(Et){if(v?Ks(l):Gs(),Et){var I=rn,F;if(F=I){e:{for(F=I,I=ma;F.nodeType!==8;){if(!I){I=null;break e}if(F=qi(F.nextSibling),F===null){I=null;break e}}I=F}I!==null?(l.memoizedState={dehydrated:I,treeContext:ul!==null?{id:Ga,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},F=zr(18,null,null,0),F.stateNode=I,F.return=l,l.child=F,Er=l,rn=null,F=!0):F=!1}F||hl(l)}if(I=l.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return P0(I)?l.lanes=32:l.lanes=536870912,null;Ja(l)}return I=m.children,m=m.fallback,v?(Gs(),v=l.mode,I=xm({mode:"hidden",children:I},v),m=ll(m,v,c,null),I.return=l,m.return=l,I.sibling=m,l.child=I,v=l.child,v.memoizedState=Hv(c),v.childLanes=Kv(s,N,c),l.memoizedState=Fv,m):(Ks(l),Gv(l,I))}if(F=s.memoizedState,F!==null&&(I=F.dehydrated,I!==null)){if(_)l.flags&256?(Ks(l),l.flags&=-257,l=Wv(s,l,c)):l.memoizedState!==null?(Gs(),l.child=s.child,l.flags|=128,l=null):(Gs(),v=m.fallback,I=l.mode,m=xm({mode:"visible",children:m.children},I),v=ll(v,I,c,null),v.flags|=2,m.return=l,v.return=l,m.sibling=v,l.child=m,Mu(l,s.child,null,c),m=l.child,m.memoizedState=Hv(c),m.childLanes=Kv(s,N,c),l.memoizedState=Fv,l=v);else if(Ks(l),P0(I)){if(N=I.nextSibling&&I.nextSibling.dataset,N)var Z=N.dgst;N=Z,m=Error(r(419)),m.stack="",m.digest=N,Ef({value:m,source:null,stack:null}),l=Wv(s,l,c)}else if($n||Sf(s,l,c,!1),N=(c&s.childLanes)!==0,$n||N){if(N=Bt,N!==null&&(m=c&-c,m=(m&42)!==0?1:sa(m),m=(m&(N.suspendedLanes|c))!==0?0:m,m!==0&&m!==F.retryLane))throw F.retryLane=m,Tu(s,m),Gr(N,s,m),qT;I.data==="$?"||h0(),l=Wv(s,l,c)}else I.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=F.treeContext,rn=qi(I.nextSibling),Er=l,Et=!0,fl=null,ma=!1,s!==null&&(vi[bi++]=Ga,vi[bi++]=Wa,vi[bi++]=ul,Ga=s.id,Wa=s.overflow,ul=l),l=Gv(l,m.children),l.flags|=4096);return l}return v?(Gs(),v=m.fallback,I=l.mode,F=s.child,Z=F.sibling,m=Ka(F,{mode:"hidden",children:m.children}),m.subtreeFlags=F.subtreeFlags&65011712,Z!==null?v=Ka(Z,v):(v=ll(v,I,c,null),v.flags|=2),v.return=l,m.return=l,m.sibling=v,l.child=m,m=v,v=l.child,I=s.child.memoizedState,I===null?I=Hv(c):(F=I.cachePool,F!==null?(Z=On._currentValue,F=F.parent!==Z?{parent:Z,pool:Z}:F):F=US(),I={baseLanes:I.baseLanes|c,cachePool:F}),v.memoizedState=I,v.childLanes=Kv(s,N,c),l.memoizedState=Fv,m):(Ks(l),c=s.child,s=c.sibling,c=Ka(c,{mode:"visible",children:m.children}),c.return=l,c.sibling=null,s!==null&&(N=l.deletions,N===null?(l.deletions=[s],l.flags|=16):N.push(s)),l.child=c,l.memoizedState=null,c)}function Gv(s,l){return l=xm({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function xm(s,l){return s=zr(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Wv(s,l,c){return Mu(l,s.child,null,c),s=Gv(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function ZT(s,l,c){s.lanes|=l;var m=s.alternate;m!==null&&(m.lanes|=l),hv(s.return,l,c)}function Yv(s,l,c,m,v){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=c,_.tailMode=v)}function eA(s,l,c){var m=l.pendingProps,v=m.revealOrder,_=m.tail;if(Zn(s,l,m.children,c),m=Cn.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ZT(s,c,l);else if(s.tag===19)ZT(s,c,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}switch(me(Cn,m),v){case"forwards":for(c=l.child,v=null;c!==null;)s=c.alternate,s!==null&&vm(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=l.child,l.child=null):(v=c.sibling,c.sibling=null),Yv(l,!1,v,c,_);break;case"backwards":for(c=null,v=l.child,l.child=null;v!==null;){if(s=v.alternate,s!==null&&vm(s)===null){l.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}Yv(l,!0,c,null,_);break;case"together":Yv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Za(s,l,c){if(s!==null&&(l.dependencies=s.dependencies),Js|=l.lanes,(c&l.childLanes)===0)if(s!==null){if(Sf(s,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,c=Ka(s,s.pendingProps),l.child=c,c.return=l;s.sibling!==null;)s=s.sibling,c=c.sibling=Ka(s,s.pendingProps),c.return=l;c.sibling=null}return l.child}function Xv(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&nm(s)))}function uU(s,l,c){switch(l.tag){case 3:Tt(l,l.stateNode.containerInfo),Bs(l,On,s.memoizedState.cache),xf();break;case 27:case 5:De(l);break;case 4:Tt(l,l.stateNode.containerInfo);break;case 10:Bs(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Ks(l),l.flags|=128,null):(c&l.child.childLanes)!==0?JT(s,l,c):(Ks(l),s=Za(s,l,c),s!==null?s.sibling:null);Ks(l);break;case 19:var v=(s.flags&128)!==0;if(m=(c&l.childLanes)!==0,m||(Sf(s,l,c,!1),m=(c&l.childLanes)!==0),v){if(m)return eA(s,l,c);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),me(Cn,Cn.current),m)break;return null;case 22:case 23:return l.lanes=0,GT(s,l,c);case 24:Bs(l,On,s.memoizedState.cache)}return Za(s,l,c)}function tA(s,l,c){if(s!==null)if(s.memoizedProps!==l.pendingProps)$n=!0;else{if(!Xv(s,c)&&(l.flags&128)===0)return $n=!1,uU(s,l,c);$n=(s.flags&131072)!==0}else $n=!1,Et&&(l.flags&1048576)!==0&&NS(l,tm,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var m=l.elementType,v=m._init;if(m=v(m._payload),l.type=m,typeof m=="function")av(m)?(s=yl(m,s),l.tag=1,l=XT(null,l,m,s,c)):(l.tag=0,l=qv(null,l,m,s,c));else{if(m!=null){if(v=m.$$typeof,v===L){l.tag=11,l=FT(null,l,m,s,c);break e}else if(v===j){l.tag=14,l=HT(null,l,m,s,c);break e}}throw l=ve(m)||m,Error(r(306,l,""))}}return l;case 0:return qv(s,l,l.type,l.pendingProps,c);case 1:return m=l.type,v=yl(m,l.pendingProps),XT(s,l,m,v,c);case 3:e:{if(Tt(l,l.stateNode.containerInfo),s===null)throw Error(r(387));m=l.pendingProps;var _=l.memoizedState;v=_.element,bv(s,l),Nf(l,m,null,c);var N=l.memoizedState;if(m=N.cache,Bs(l,On,m),m!==_.cache&&dv(l,[On],c,!0),Rf(),m=N.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:N.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=QT(s,l,m,c);break e}else if(m!==v){v=gi(Error(r(424)),l),Ef(v),l=QT(s,l,m,c);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(rn=qi(s.firstChild),Er=l,Et=!0,fl=null,ma=!0,c=DT(l,null,m,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(xf(),m===v){l=Za(s,l,c);break e}Zn(s,l,m,c)}l=l.child}return l;case 26:return wm(s,l),s===null?(c=aO(l.type,null,l.pendingProps,null))?l.memoizedState=c:Et||(c=l.type,s=l.pendingProps,m=Mm(Ve.current).createElement(c),m[fe]=l,m[ye]=s,tr(m,c,s),Ye(m),l.stateNode=m):l.memoizedState=aO(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return De(l),s===null&&Et&&(m=l.stateNode=nO(l.type,l.pendingProps,Ve.current),Er=l,ma=!0,v=rn,no(l.type)?(R0=v,rn=qi(m.firstChild)):rn=v),Zn(s,l,l.pendingProps.children,c),wm(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Et&&((v=m=rn)&&(m=LU(m,l.type,l.pendingProps,ma),m!==null?(l.stateNode=m,Er=l,rn=qi(m.firstChild),ma=!1,v=!0):v=!1),v||hl(l)),De(l),v=l.type,_=l.pendingProps,N=s!==null?s.memoizedProps:null,m=_.children,A0(v,_)?m=null:N!==null&&A0(v,N)&&(l.flags|=32),l.memoizedState!==null&&(v=Tv(s,l,tU,null,null,c),Zf._currentValue=v),wm(s,l),Zn(s,l,m,c),l.child;case 6:return s===null&&Et&&((s=c=rn)&&(c=UU(c,l.pendingProps,ma),c!==null?(l.stateNode=c,Er=l,rn=null,s=!0):s=!1),s||hl(l)),null;case 13:return JT(s,l,c);case 4:return Tt(l,l.stateNode.containerInfo),m=l.pendingProps,s===null?l.child=Mu(l,null,m,c):Zn(s,l,m,c),l.child;case 11:return FT(s,l,l.type,l.pendingProps,c);case 7:return Zn(s,l,l.pendingProps,c),l.child;case 8:return Zn(s,l,l.pendingProps.children,c),l.child;case 12:return Zn(s,l,l.pendingProps.children,c),l.child;case 10:return m=l.pendingProps,Bs(l,l.type,m.value),Zn(s,l,m.children,c),l.child;case 9:return v=l.type._context,m=l.pendingProps.children,ml(l),v=ur(v),m=m(v),l.flags|=1,Zn(s,l,m,c),l.child;case 14:return HT(s,l,l.type,l.pendingProps,c);case 15:return KT(s,l,l.type,l.pendingProps,c);case 19:return eA(s,l,c);case 31:return m=l.pendingProps,c=l.mode,m={mode:m.mode,children:m.children},s===null?(c=xm(m,c),c.ref=l.ref,l.child=c,c.return=l,l=c):(c=Ka(s.child,m),c.ref=l.ref,l.child=c,c.return=l,l=c),l;case 22:return GT(s,l,c);case 24:return ml(l),m=ur(On),s===null?(v=gv(),v===null&&(v=Bt,_=mv(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=c),v=_),l.memoizedState={parent:m,cache:v},vv(l),Bs(l,On,v)):((s.lanes&c)!==0&&(bv(s,l),Nf(l,null,null,c),Rf()),v=s.memoizedState,_=l.memoizedState,v.parent!==m?(v={parent:m,cache:m},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),Bs(l,On,m)):(m=_.cache,Bs(l,On,m),m!==v.cache&&dv(l,[On],c,!0))),Zn(s,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function es(s){s.flags|=4}function nA(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!cO(l)){if(l=_i.current,l!==null&&((pt&4194048)===pt?pa!==null:(pt&62914560)!==pt&&(pt&536870912)===0||l!==pa))throw Cf=yv,VS;s.flags|=8192}}function Em(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Wo():536870912,s.lanes|=l,$u|=l)}function Uf(s,l){if(!Et)switch(s.tailMode){case"hidden":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function en(s){var l=s.alternate!==null&&s.alternate.child===s.child,c=0,m=0;if(l)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=m,s.childLanes=c,l}function cU(s,l,c){var m=l.pendingProps;switch(uv(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(l),null;case 1:return en(l),null;case 3:return c=l.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Xa(On),_e(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(wf(l)?es(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,kS())),en(l),null;case 26:return c=l.memoizedState,s===null?(es(l),c!==null?(en(l),nA(l,c)):(en(l),l.flags&=-16777217)):c?c!==s.memoizedState?(es(l),en(l),nA(l,c)):(en(l),l.flags&=-16777217):(s.memoizedProps!==m&&es(l),en(l),l.flags&=-16777217),null;case 27:Ke(l),c=Ve.current;var v=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==m&&es(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return en(l),null}s=Ae.current,wf(l)?jS(l):(s=nO(v,m,c),l.stateNode=s,es(l))}return en(l),null;case 5:if(Ke(l),c=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&es(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return en(l),null}if(s=Ae.current,wf(l))jS(l);else{switch(v=Mm(Ve.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof m.is=="string"?v.createElement("select",{is:m.is}):v.createElement("select"),m.multiple?s.multiple=!0:m.size&&(s.size=m.size);break;default:s=typeof m.is=="string"?v.createElement(c,{is:m.is}):v.createElement(c)}}s[fe]=l,s[ye]=m;e:for(v=l.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===l)break e;for(;v.sibling===null;){if(v.return===null||v.return===l)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}l.stateNode=s;e:switch(tr(s,c,m),c){case"button":case"input":case"select":case"textarea":s=!!m.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&es(l)}}return en(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==m&&es(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(s=Ve.current,wf(l)){if(s=l.stateNode,c=l.memoizedProps,m=null,v=Er,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}s[fe]=l,s=!!(s.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||YA(s.nodeValue,c)),s||hl(l)}else s=Mm(s).createTextNode(m),s[fe]=l,l.stateNode=s}return en(l),null;case 13:if(m=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=wf(l),m!==null&&m.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[fe]=l}else xf(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;en(l),v=!1}else v=kS(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(Ja(l),l):(Ja(l),null)}if(Ja(l),(l.flags&128)!==0)return l.lanes=c,l;if(c=m!==null,s=s!==null&&s.memoizedState!==null,c){m=l.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool);var _=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==v&&(m.flags|=2048)}return c!==s&&c&&(l.child.flags|=8192),Em(l,l.updateQueue),en(l),null;case 4:return _e(),s===null&&w0(l.stateNode.containerInfo),en(l),null;case 10:return Xa(l.type),en(l),null;case 19:if(ie(Cn),v=l.memoizedState,v===null)return en(l),null;if(m=(l.flags&128)!==0,_=v.rendering,_===null)if(m)Uf(v,!1);else{if(an!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(_=vm(s),_!==null){for(l.flags|=128,Uf(v,!1),s=_.updateQueue,l.updateQueue=s,Em(l,s),l.subtreeFlags=0,s=c,c=l.child;c!==null;)RS(c,s),c=c.sibling;return me(Cn,Cn.current&1|2),l.child}s=s.sibling}v.tail!==null&&Zt()>Am&&(l.flags|=128,m=!0,Uf(v,!1),l.lanes=4194304)}else{if(!m)if(s=vm(_),s!==null){if(l.flags|=128,m=!0,s=s.updateQueue,l.updateQueue=s,Em(l,s),Uf(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!Et)return en(l),null}else 2*Zt()-v.renderingStartTime>Am&&c!==536870912&&(l.flags|=128,m=!0,Uf(v,!1),l.lanes=4194304);v.isBackwards?(_.sibling=l.child,l.child=_):(s=v.last,s!==null?s.sibling=_:l.child=_,v.last=_)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=Zt(),l.sibling=null,s=Cn.current,me(Cn,m?s&1|2:s&1),l):(en(l),null);case 22:case 23:return Ja(l),Ev(),m=l.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(c&536870912)!==0&&(l.flags&128)===0&&(en(l),l.subtreeFlags&6&&(l.flags|=8192)):en(l),c=l.updateQueue,c!==null&&Em(l,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==c&&(l.flags|=2048),s!==null&&ie(pl),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),Xa(On),en(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function fU(s,l){switch(uv(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Xa(On),_e(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Ke(l),null;case 13:if(Ja(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));xf()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ie(Cn),null;case 4:return _e(),null;case 10:return Xa(l.type),null;case 22:case 23:return Ja(l),Ev(),s!==null&&ie(pl),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Xa(On),null;case 25:return null;default:return null}}function rA(s,l){switch(uv(l),l.tag){case 3:Xa(On),_e();break;case 26:case 27:case 5:Ke(l);break;case 4:_e();break;case 13:Ja(l);break;case 19:ie(Cn);break;case 10:Xa(l.type);break;case 22:case 23:Ja(l),Ev(),s!==null&&ie(pl);break;case 24:Xa(On)}}function Vf(s,l){try{var c=l.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&s)===s){m=void 0;var _=c.create,N=c.inst;m=_(),N.destroy=m}c=c.next}while(c!==v)}}catch(I){Ut(l,l.return,I)}}function Ws(s,l,c){try{var m=l.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var _=v.next;m=_;do{if((m.tag&s)===s){var N=m.inst,I=N.destroy;if(I!==void 0){N.destroy=void 0,v=l;var F=c,Z=I;try{Z()}catch(le){Ut(v,F,le)}}}m=m.next}while(m!==_)}}catch(le){Ut(l,l.return,le)}}function iA(s){var l=s.updateQueue;if(l!==null){var c=s.stateNode;try{HS(l,c)}catch(m){Ut(s,s.return,m)}}}function aA(s,l,c){c.props=yl(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(m){Ut(s,l,m)}}function $f(s,l){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof c=="function"?s.refCleanup=c(m):c.current=m}}catch(v){Ut(s,l,v)}}function ga(s,l){var c=s.ref,m=s.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(v){Ut(s,l,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Ut(s,l,v)}else c.current=null}function sA(s){var l=s.type,c=s.memoizedProps,m=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(v){Ut(s,s.return,v)}}function Qv(s,l,c){try{var m=s.stateNode;jU(m,s.type,c,l),m[ye]=l}catch(v){Ut(s,s.return,v)}}function oA(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&no(s.type)||s.tag===4}function Jv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||oA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&no(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Zv(s,l,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(s),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=Im));else if(m!==4&&(m===27&&no(s.type)&&(c=s.stateNode,l=null),s=s.child,s!==null))for(Zv(s,l,c),s=s.sibling;s!==null;)Zv(s,l,c),s=s.sibling}function Sm(s,l,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?c.insertBefore(s,l):c.appendChild(s);else if(m!==4&&(m===27&&no(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Sm(s,l,c),s=s.sibling;s!==null;)Sm(s,l,c),s=s.sibling}function lA(s){var l=s.stateNode,c=s.memoizedProps;try{for(var m=s.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);tr(l,m,c),l[fe]=s,l[ye]=c}catch(_){Ut(s,s.return,_)}}var ts=!1,cn=!1,e0=!1,uA=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function hU(s,l){if(s=s.containerInfo,S0=zm,s=_S(s),Jy(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var N=0,I=-1,F=-1,Z=0,le=0,ce=s,te=null;t:for(;;){for(var ne;ce!==c||v!==0&&ce.nodeType!==3||(I=N+v),ce!==_||m!==0&&ce.nodeType!==3||(F=N+m),ce.nodeType===3&&(N+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)te=ce,ce=ne;for(;;){if(ce===s)break t;if(te===c&&++Z===v&&(I=N),te===_&&++le===m&&(F=N),(ne=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=ne}c=I===-1||F===-1?null:{start:I,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(T0={focusedElem:s,selectionRange:c},zm=!1,Bn=l;Bn!==null;)if(l=Bn,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,Bn=s;else for(;Bn!==null;){switch(l=Bn,_=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,c=l,v=_.memoizedProps,_=_.memoizedState,m=c.stateNode;try{var We=yl(c.type,v,c.elementType===c.type);s=m.getSnapshotBeforeUpdate(We,_),m.__reactInternalSnapshotBeforeUpdate=s}catch(qe){Ut(c,c.return,qe)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,c=s.nodeType,c===9)C0(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":C0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Bn=s;break}Bn=l.return}}function cA(s,l,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Ys(s,c),m&4&&Vf(5,c);break;case 1:if(Ys(s,c),m&4)if(s=c.stateNode,l===null)try{s.componentDidMount()}catch(N){Ut(c,c.return,N)}else{var v=yl(c.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(v,l,s.__reactInternalSnapshotBeforeUpdate)}catch(N){Ut(c,c.return,N)}}m&64&&iA(c),m&512&&$f(c,c.return);break;case 3:if(Ys(s,c),m&64&&(s=c.updateQueue,s!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{HS(s,l)}catch(N){Ut(c,c.return,N)}}break;case 27:l===null&&m&4&&lA(c);case 26:case 5:Ys(s,c),l===null&&m&4&&sA(c),m&512&&$f(c,c.return);break;case 12:Ys(s,c);break;case 13:Ys(s,c),m&4&&dA(s,c),m&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=wU.bind(null,c),VU(s,c))));break;case 22:if(m=c.memoizedState!==null||ts,!m){l=l!==null&&l.memoizedState!==null||cn,v=ts;var _=cn;ts=m,(cn=l)&&!_?Xs(s,c,(c.subtreeFlags&8772)!==0):Ys(s,c),ts=v,cn=_}break;case 30:break;default:Ys(s,c)}}function fA(s){var l=s.alternate;l!==null&&(s.alternate=null,fA(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Oe(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Qt=null,Or=!1;function ns(s,l,c){for(c=c.child;c!==null;)hA(s,l,c),c=c.sibling}function hA(s,l,c){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(_t,c)}catch{}switch(c.tag){case 26:cn||ga(c,l),ns(s,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:cn||ga(c,l);var m=Qt,v=Or;no(c.type)&&(Qt=c.stateNode,Or=!1),ns(s,l,c),Yf(c.stateNode),Qt=m,Or=v;break;case 5:cn||ga(c,l);case 6:if(m=Qt,v=Or,Qt=null,ns(s,l,c),Qt=m,Or=v,Qt!==null)if(Or)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(c.stateNode)}catch(_){Ut(c,l,_)}else try{Qt.removeChild(c.stateNode)}catch(_){Ut(c,l,_)}break;case 18:Qt!==null&&(Or?(s=Qt,eO(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),rh(s)):eO(Qt,c.stateNode));break;case 4:m=Qt,v=Or,Qt=c.stateNode.containerInfo,Or=!0,ns(s,l,c),Qt=m,Or=v;break;case 0:case 11:case 14:case 15:cn||Ws(2,c,l),cn||Ws(4,c,l),ns(s,l,c);break;case 1:cn||(ga(c,l),m=c.stateNode,typeof m.componentWillUnmount=="function"&&aA(c,l,m)),ns(s,l,c);break;case 21:ns(s,l,c);break;case 22:cn=(m=cn)||c.memoizedState!==null,ns(s,l,c),cn=m;break;default:ns(s,l,c)}}function dA(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{rh(s)}catch(c){Ut(l,l.return,c)}}function dU(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new uA),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new uA),l;default:throw Error(r(435,s.tag))}}function t0(s,l){var c=dU(s);l.forEach(function(m){var v=xU.bind(null,s,m);c.has(m)||(c.add(m),m.then(v,v))})}function qr(s,l){var c=l.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m],_=s,N=l,I=N;e:for(;I!==null;){switch(I.tag){case 27:if(no(I.type)){Qt=I.stateNode,Or=!1;break e}break;case 5:Qt=I.stateNode,Or=!1;break e;case 3:case 4:Qt=I.stateNode.containerInfo,Or=!0;break e}I=I.return}if(Qt===null)throw Error(r(160));hA(_,N,v),Qt=null,Or=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)mA(l,s),l=l.sibling}var zi=null;function mA(s,l){var c=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:qr(l,s),Fr(s),m&4&&(Ws(3,s,s.return),Vf(3,s),Ws(5,s,s.return));break;case 1:qr(l,s),Fr(s),m&512&&(cn||c===null||ga(c,c.return)),m&64&&ts&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var v=zi;if(qr(l,s),Fr(s),m&512&&(cn||c===null||ga(c,c.return)),m&4){var _=c!==null?c.memoizedState:null;if(m=s.memoizedState,c===null)if(m===null)if(s.stateNode===null){e:{m=s.type,c=s.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":_=v.getElementsByTagName("title")[0],(!_||_[je]||_[fe]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(m),v.head.insertBefore(_,v.querySelector("head > title"))),tr(_,m,c),_[fe]=s,Ye(_),m=_;break e;case"link":var N=lO("link","href",v).get(m+(c.href||""));if(N){for(var I=0;I<N.length;I++)if(_=N[I],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){N.splice(I,1);break t}}_=v.createElement(m),tr(_,m,c),v.head.appendChild(_);break;case"meta":if(N=lO("meta","content",v).get(m+(c.content||""))){for(I=0;I<N.length;I++)if(_=N[I],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){N.splice(I,1);break t}}_=v.createElement(m),tr(_,m,c),v.head.appendChild(_);break;default:throw Error(r(468,m))}_[fe]=s,Ye(_),m=_}s.stateNode=m}else uO(v,s.type,s.stateNode);else s.stateNode=oO(v,m,s.memoizedProps);else _!==m?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,m===null?uO(v,s.type,s.stateNode):oO(v,m,s.memoizedProps)):m===null&&s.stateNode!==null&&Qv(s,s.memoizedProps,c.memoizedProps)}break;case 27:qr(l,s),Fr(s),m&512&&(cn||c===null||ga(c,c.return)),c!==null&&m&4&&Qv(s,s.memoizedProps,c.memoizedProps);break;case 5:if(qr(l,s),Fr(s),m&512&&(cn||c===null||ga(c,c.return)),s.flags&32){v=s.stateNode;try{hi(v,"")}catch(ne){Ut(s,s.return,ne)}}m&4&&s.stateNode!=null&&(v=s.memoizedProps,Qv(s,v,c!==null?c.memoizedProps:v)),m&1024&&(e0=!0);break;case 6:if(qr(l,s),Fr(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,c=s.stateNode;try{c.nodeValue=m}catch(ne){Ut(s,s.return,ne)}}break;case 3:if(Vm=null,v=zi,zi=Lm(l.containerInfo),qr(l,s),zi=v,Fr(s),m&4&&c!==null&&c.memoizedState.isDehydrated)try{rh(l.containerInfo)}catch(ne){Ut(s,s.return,ne)}e0&&(e0=!1,pA(s));break;case 4:m=zi,zi=Lm(s.stateNode.containerInfo),qr(l,s),Fr(s),zi=m;break;case 12:qr(l,s),Fr(s);break;case 13:qr(l,s),Fr(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(o0=Zt()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,t0(s,m)));break;case 22:v=s.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,Z=ts,le=cn;if(ts=Z||v,cn=le||F,qr(l,s),cn=le,ts=Z,Fr(s),m&8192)e:for(l=s.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(c===null||F||ts||cn||vl(s)),c=null,l=s;;){if(l.tag===5||l.tag===26){if(c===null){F=c=l;try{if(_=F.stateNode,v)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{I=F.stateNode;var ce=F.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;I.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Ut(F,F.return,ne)}}}else if(l.tag===6){if(c===null){F=l;try{F.stateNode.nodeValue=v?"":F.memoizedProps}catch(ne){Ut(F,F.return,ne)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=s.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,t0(s,c))));break;case 19:qr(l,s),Fr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,t0(s,m)));break;case 30:break;case 21:break;default:qr(l,s),Fr(s)}}function Fr(s){var l=s.flags;if(l&2){try{for(var c,m=s.return;m!==null;){if(oA(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,_=Jv(s);Sm(s,_,v);break;case 5:var N=c.stateNode;c.flags&32&&(hi(N,""),c.flags&=-33);var I=Jv(s);Sm(s,I,N);break;case 3:case 4:var F=c.stateNode.containerInfo,Z=Jv(s);Zv(s,Z,F);break;default:throw Error(r(161))}}catch(le){Ut(s,s.return,le)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function pA(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;pA(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Ys(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)cA(s,l.alternate,l),l=l.sibling}function vl(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Ws(4,l,l.return),vl(l);break;case 1:ga(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&aA(l,l.return,c),vl(l);break;case 27:Yf(l.stateNode);case 26:case 5:ga(l,l.return),vl(l);break;case 22:l.memoizedState===null&&vl(l);break;case 30:vl(l);break;default:vl(l)}s=s.sibling}}function Xs(s,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,v=s,_=l,N=_.flags;switch(_.tag){case 0:case 11:case 15:Xs(v,_,c),Vf(4,_);break;case 1:if(Xs(v,_,c),m=_,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Z){Ut(m,m.return,Z)}if(m=_,v=m.updateQueue,v!==null){var I=m.stateNode;try{var F=v.shared.hiddenCallbacks;if(F!==null)for(v.shared.hiddenCallbacks=null,v=0;v<F.length;v++)FS(F[v],I)}catch(Z){Ut(m,m.return,Z)}}c&&N&64&&iA(_),$f(_,_.return);break;case 27:lA(_);case 26:case 5:Xs(v,_,c),c&&m===null&&N&4&&sA(_),$f(_,_.return);break;case 12:Xs(v,_,c);break;case 13:Xs(v,_,c),c&&N&4&&dA(v,_);break;case 22:_.memoizedState===null&&Xs(v,_,c),$f(_,_.return);break;case 30:break;default:Xs(v,_,c)}l=l.sibling}}function n0(s,l){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Tf(c))}function r0(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Tf(s))}function ya(s,l,c,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)gA(s,l,c,m),l=l.sibling}function gA(s,l,c,m){var v=l.flags;switch(l.tag){case 0:case 11:case 15:ya(s,l,c,m),v&2048&&Vf(9,l);break;case 1:ya(s,l,c,m);break;case 3:ya(s,l,c,m),v&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Tf(s)));break;case 12:if(v&2048){ya(s,l,c,m),s=l.stateNode;try{var _=l.memoizedProps,N=_.id,I=_.onPostCommit;typeof I=="function"&&I(N,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(F){Ut(l,l.return,F)}}else ya(s,l,c,m);break;case 13:ya(s,l,c,m);break;case 23:break;case 22:_=l.stateNode,N=l.alternate,l.memoizedState!==null?_._visibility&2?ya(s,l,c,m):Bf(s,l):_._visibility&2?ya(s,l,c,m):(_._visibility|=2,Lu(s,l,c,m,(l.subtreeFlags&10256)!==0)),v&2048&&n0(N,l);break;case 24:ya(s,l,c,m),v&2048&&r0(l.alternate,l);break;default:ya(s,l,c,m)}}function Lu(s,l,c,m,v){for(v=v&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var _=s,N=l,I=c,F=m,Z=N.flags;switch(N.tag){case 0:case 11:case 15:Lu(_,N,I,F,v),Vf(8,N);break;case 23:break;case 22:var le=N.stateNode;N.memoizedState!==null?le._visibility&2?Lu(_,N,I,F,v):Bf(_,N):(le._visibility|=2,Lu(_,N,I,F,v)),v&&Z&2048&&n0(N.alternate,N);break;case 24:Lu(_,N,I,F,v),v&&Z&2048&&r0(N.alternate,N);break;default:Lu(_,N,I,F,v)}l=l.sibling}}function Bf(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=s,m=l,v=m.flags;switch(m.tag){case 22:Bf(c,m),v&2048&&n0(m.alternate,m);break;case 24:Bf(c,m),v&2048&&r0(m.alternate,m);break;default:Bf(c,m)}l=l.sibling}}var zf=8192;function Uu(s){if(s.subtreeFlags&zf)for(s=s.child;s!==null;)yA(s),s=s.sibling}function yA(s){switch(s.tag){case 26:Uu(s),s.flags&zf&&s.memoizedState!==null&&JU(zi,s.memoizedState,s.memoizedProps);break;case 5:Uu(s);break;case 3:case 4:var l=zi;zi=Lm(s.stateNode.containerInfo),Uu(s),zi=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=zf,zf=16777216,Uu(s),zf=l):Uu(s));break;default:Uu(s)}}function vA(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function qf(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];Bn=m,_A(m,s)}vA(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bA(s),s=s.sibling}function bA(s){switch(s.tag){case 0:case 11:case 15:qf(s),s.flags&2048&&Ws(9,s,s.return);break;case 3:qf(s);break;case 12:qf(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Tm(s)):qf(s);break;default:qf(s)}}function Tm(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];Bn=m,_A(m,s)}vA(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Ws(8,l,l.return),Tm(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,Tm(l));break;default:Tm(l)}s=s.sibling}}function _A(s,l){for(;Bn!==null;){var c=Bn;switch(c.tag){case 0:case 11:case 15:Ws(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Tf(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Bn=m;else e:for(c=s;Bn!==null;){m=Bn;var v=m.sibling,_=m.return;if(fA(m),m===c){Bn=null;break e}if(v!==null){v.return=_,Bn=v;break e}Bn=_}}}var mU={getCacheForType:function(s){var l=ur(On),c=l.data.get(s);return c===void 0&&(c=s(),l.data.set(s,c)),c}},pU=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Bt=null,ot=null,pt=0,Rt=0,Hr=null,Qs=!1,Vu=!1,i0=!1,rs=0,an=0,Js=0,bl=0,a0=0,wi=0,$u=0,Ff=null,Cr=null,s0=!1,o0=0,Am=1/0,Om=null,Zs=null,er=0,eo=null,Bu=null,zu=0,l0=0,u0=null,wA=null,Hf=0,c0=null;function Kr(){if((Pt&2)!==0&&pt!==0)return pt&-pt;if(G.T!==null){var s=Pu;return s!==0?s:y0()}return K()}function xA(){wi===0&&(wi=(pt&536870912)===0||Et?Ua():536870912);var s=_i.current;return s!==null&&(s.flags|=32),wi}function Gr(s,l,c){(s===Bt&&(Rt===2||Rt===9)||s.cancelPendingCommit!==null)&&(qu(s,0),to(s,pt,wi,!1)),Li(s,c),((Pt&2)===0||s!==Bt)&&(s===Bt&&((Pt&2)===0&&(bl|=c),an===4&&to(s,pt,wi,!1)),va(s))}function EA(s,l,c){if((Pt&6)!==0)throw Error(r(327));var m=!c&&(l&124)===0&&(l&s.expiredLanes)===0||ui(s,l),v=m?vU(s,l):d0(s,l,!0),_=m;do{if(v===0){Vu&&!m&&to(s,l,0,!1);break}else{if(c=s.current.alternate,_&&!gU(c)){v=d0(s,l,!1),_=!1;continue}if(v===2){if(_=l,s.errorRecoveryDisabledLanes&_)var N=0;else N=s.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){l=N;e:{var I=s;v=Ff;var F=I.current.memoizedState.isDehydrated;if(F&&(qu(I,N).flags|=256),N=d0(I,N,!1),N!==2){if(i0&&!F){I.errorRecoveryDisabledLanes|=_,bl|=_,v=4;break e}_=Cr,Cr=v,_!==null&&(Cr===null?Cr=_:Cr.push.apply(Cr,_))}v=N}if(_=!1,v!==2)continue}}if(v===1){qu(s,0),to(s,l,0,!0);break}e:{switch(m=s,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:to(m,l,wi,!Qs);break e;case 2:Cr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=o0+300-Zt(),10<v)){if(to(m,l,wi,!Qs),La(m,0,!0)!==0)break e;m.timeoutHandle=JA(SA.bind(null,m,c,Cr,Om,s0,l,wi,bl,$u,Qs,_,2,-0,0),v);break e}SA(m,c,Cr,Om,s0,l,wi,bl,$u,Qs,_,0,-0,0)}}break}while(!0);va(s)}function SA(s,l,c,m,v,_,N,I,F,Z,le,ce,te,ne){if(s.timeoutHandle=-1,ce=l.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Jf={stylesheets:null,count:0,unsuspend:QU},yA(l),ce=ZU(),ce!==null)){s.cancelPendingCommit=ce(NA.bind(null,s,l,_,c,m,v,N,I,F,le,1,te,ne)),to(s,_,N,!Z);return}NA(s,l,_,c,m,v,N,I,F)}function gU(s){for(var l=s;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var v=c[m],_=v.getSnapshot;v=v.value;try{if(!Br(_(),v))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function to(s,l,c,m){l&=~a0,l&=~bl,s.suspendedLanes|=l,s.pingedLanes&=~l,m&&(s.warmLanes|=l),m=s.expirationTimes;for(var v=l;0<v;){var _=31-mn(v),N=1<<_;m[_]=-1,v&=~N}c!==0&&vr(s,c,l)}function Cm(){return(Pt&6)===0?(Kf(0),!1):!0}function f0(){if(ot!==null){if(Rt===0)var s=ot.return;else s=ot,Ya=dl=null,Cv(s),Iu=null,Mf=0,s=ot;for(;s!==null;)rA(s.alternate,s),s=s.return;ot=null}}function qu(s,l){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,kU(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),f0(),Bt=s,ot=c=Ka(s.current,null),pt=l,Rt=0,Hr=null,Qs=!1,Vu=ui(s,l),i0=!1,$u=wi=a0=bl=Js=an=0,Cr=Ff=null,s0=!1,(l&8)!==0&&(l|=l&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=l;0<m;){var v=31-mn(m),_=1<<v;l|=s[v],m&=~_}return rs=l,Xd(),c}function TA(s,l){rt=null,G.H=pm,l===Of||l===am?(l=zS(),Rt=3):l===VS?(l=zS(),Rt=4):Rt=l===qT?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Hr=l,ot===null&&(an=1,_m(s,gi(l,s.current)))}function AA(){var s=G.H;return G.H=pm,s===null?pm:s}function OA(){var s=G.A;return G.A=mU,s}function h0(){an=4,Qs||(pt&4194048)!==pt&&_i.current!==null||(Vu=!0),(Js&134217727)===0&&(bl&134217727)===0||Bt===null||to(Bt,pt,wi,!1)}function d0(s,l,c){var m=Pt;Pt|=2;var v=AA(),_=OA();(Bt!==s||pt!==l)&&(Om=null,qu(s,l)),l=!1;var N=an;e:do try{if(Rt!==0&&ot!==null){var I=ot,F=Hr;switch(Rt){case 8:f0(),N=6;break e;case 3:case 2:case 9:case 6:_i.current===null&&(l=!0);var Z=Rt;if(Rt=0,Hr=null,Fu(s,I,F,Z),c&&Vu){N=0;break e}break;default:Z=Rt,Rt=0,Hr=null,Fu(s,I,F,Z)}}yU(),N=an;break}catch(le){TA(s,le)}while(!0);return l&&s.shellSuspendCounter++,Ya=dl=null,Pt=m,G.H=v,G.A=_,ot===null&&(Bt=null,pt=0,Xd()),N}function yU(){for(;ot!==null;)CA(ot)}function vU(s,l){var c=Pt;Pt|=2;var m=AA(),v=OA();Bt!==s||pt!==l?(Om=null,Am=Zt()+500,qu(s,l)):Vu=ui(s,l);e:do try{if(Rt!==0&&ot!==null){l=ot;var _=Hr;t:switch(Rt){case 1:Rt=0,Hr=null,Fu(s,l,_,1);break;case 2:case 9:if($S(_)){Rt=0,Hr=null,PA(l);break}l=function(){Rt!==2&&Rt!==9||Bt!==s||(Rt=7),va(s)},_.then(l,l);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:$S(_)?(Rt=0,Hr=null,PA(l)):(Rt=0,Hr=null,Fu(s,l,_,7));break;case 5:var N=null;switch(ot.tag){case 26:N=ot.memoizedState;case 5:case 27:var I=ot;if(!N||cO(N)){Rt=0,Hr=null;var F=I.sibling;if(F!==null)ot=F;else{var Z=I.return;Z!==null?(ot=Z,Pm(Z)):ot=null}break t}}Rt=0,Hr=null,Fu(s,l,_,5);break;case 6:Rt=0,Hr=null,Fu(s,l,_,6);break;case 8:f0(),an=6;break e;default:throw Error(r(462))}}bU();break}catch(le){TA(s,le)}while(!0);return Ya=dl=null,G.H=m,G.A=v,Pt=c,ot!==null?0:(Bt=null,pt=0,Xd(),an)}function bU(){for(;ot!==null&&!ln();)CA(ot)}function CA(s){var l=tA(s.alternate,s,rs);s.memoizedProps=s.pendingProps,l===null?Pm(s):ot=l}function PA(s){var l=s,c=l.alternate;switch(l.tag){case 15:case 0:l=YT(c,l,l.pendingProps,l.type,void 0,pt);break;case 11:l=YT(c,l,l.pendingProps,l.type.render,l.ref,pt);break;case 5:Cv(l);default:rA(c,l),l=ot=RS(l,rs),l=tA(c,l,rs)}s.memoizedProps=s.pendingProps,l===null?Pm(s):ot=l}function Fu(s,l,c,m){Ya=dl=null,Cv(l),Iu=null,Mf=0;var v=l.return;try{if(lU(s,v,l,c,pt)){an=1,_m(s,gi(c,s.current)),ot=null;return}}catch(_){if(v!==null)throw ot=v,_;an=1,_m(s,gi(c,s.current)),ot=null;return}l.flags&32768?(Et||m===1?s=!0:Vu||(pt&536870912)!==0?s=!1:(Qs=s=!0,(m===2||m===9||m===3||m===6)&&(m=_i.current,m!==null&&m.tag===13&&(m.flags|=16384))),RA(l,s)):Pm(l)}function Pm(s){var l=s;do{if((l.flags&32768)!==0){RA(l,Qs);return}s=l.return;var c=cU(l.alternate,l,rs);if(c!==null){ot=c;return}if(l=l.sibling,l!==null){ot=l;return}ot=l=s}while(l!==null);an===0&&(an=5)}function RA(s,l){do{var c=fU(s.alternate,s);if(c!==null){c.flags&=32767,ot=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(s=s.sibling,s!==null)){ot=s;return}ot=s=c}while(s!==null);an=6,ot=null}function NA(s,l,c,m,v,_,N,I,F){s.cancelPendingCommit=null;do Rm();while(er!==0);if((Pt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(_=l.lanes|l.childLanes,_|=rv,ks(s,c,_,N,I,F),s===Bt&&(ot=Bt=null,pt=0),Bu=l,eo=s,zu=c,l0=_,u0=v,wA=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,EU(Ma,function(){return MA(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,v=re.p,re.p=2,N=Pt,Pt|=4;try{hU(s,l,c)}finally{Pt=N,re.p=v,G.T=m}}er=1,jA(),DA(),kA()}}function jA(){if(er===1){er=0;var s=eo,l=Bu,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=G.T,G.T=null;var m=re.p;re.p=2;var v=Pt;Pt|=4;try{mA(l,s);var _=T0,N=_S(s.containerInfo),I=_.focusedElem,F=_.selectionRange;if(N!==I&&I&&I.ownerDocument&&bS(I.ownerDocument.documentElement,I)){if(F!==null&&Jy(I)){var Z=F.start,le=F.end;if(le===void 0&&(le=Z),"selectionStart"in I)I.selectionStart=Z,I.selectionEnd=Math.min(le,I.value.length);else{var ce=I.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var ne=te.getSelection(),We=I.textContent.length,qe=Math.min(F.start,We),Mt=F.end===void 0?qe:Math.min(F.end,We);!ne.extend&&qe>Mt&&(N=Mt,Mt=qe,qe=N);var Y=vS(I,qe),W=vS(I,Mt);if(Y&&W&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==W.node||ne.focusOffset!==W.offset)){var J=ce.createRange();J.setStart(Y.node,Y.offset),ne.removeAllRanges(),qe>Mt?(ne.addRange(J),ne.extend(W.node,W.offset)):(J.setEnd(W.node,W.offset),ne.addRange(J))}}}}for(ce=[],ne=I;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ce.length;I++){var ue=ce[I];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}zm=!!S0,T0=S0=null}finally{Pt=v,re.p=m,G.T=c}}s.current=l,er=2}}function DA(){if(er===2){er=0;var s=eo,l=Bu,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=G.T,G.T=null;var m=re.p;re.p=2;var v=Pt;Pt|=4;try{cA(s,l.alternate,l)}finally{Pt=v,re.p=m,G.T=c}}er=3}}function kA(){if(er===4||er===3){er=0,dn();var s=eo,l=Bu,c=zu,m=wA;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?er=5:(er=0,Bu=eo=null,IA(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(Zs=null),Is(c),l=l.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(_t,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=G.T,v=re.p,re.p=2,G.T=null;try{for(var _=s.onRecoverableError,N=0;N<m.length;N++){var I=m[N];_(I.value,{componentStack:I.stack})}}finally{G.T=l,re.p=v}}(zu&3)!==0&&Rm(),va(s),v=s.pendingLanes,(c&4194090)!==0&&(v&42)!==0?s===c0?Hf++:(Hf=0,c0=s):Hf=0,Kf(0)}}function IA(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Tf(l)))}function Rm(s){return jA(),DA(),kA(),MA()}function MA(){if(er!==5)return!1;var s=eo,l=l0;l0=0;var c=Is(zu),m=G.T,v=re.p;try{re.p=32>c?32:c,G.T=null,c=u0,u0=null;var _=eo,N=zu;if(er=0,Bu=eo=null,zu=0,(Pt&6)!==0)throw Error(r(331));var I=Pt;if(Pt|=4,bA(_.current),gA(_,_.current,N,c),Pt=I,Kf(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(_t,_)}catch{}return!0}finally{re.p=v,G.T=m,IA(s,l)}}function LA(s,l,c){l=gi(c,l),l=zv(s.stateNode,l,2),s=Fs(s,l,2),s!==null&&(Li(s,2),va(s))}function Ut(s,l,c){if(s.tag===3)LA(s,s,c);else for(;l!==null;){if(l.tag===3){LA(l,s,c);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Zs===null||!Zs.has(m))){s=gi(c,s),c=BT(2),m=Fs(l,c,2),m!==null&&(zT(c,m,l,s),Li(m,2),va(m));break}}l=l.return}}function m0(s,l,c){var m=s.pingCache;if(m===null){m=s.pingCache=new pU;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(c)||(i0=!0,v.add(c),s=_U.bind(null,s,l,c),l.then(s,s))}function _U(s,l,c){var m=s.pingCache;m!==null&&m.delete(l),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Bt===s&&(pt&c)===c&&(an===4||an===3&&(pt&62914560)===pt&&300>Zt()-o0?(Pt&2)===0&&qu(s,0):a0|=c,$u===pt&&($u=0)),va(s)}function UA(s,l){l===0&&(l=Wo()),s=Tu(s,l),s!==null&&(Li(s,l),va(s))}function wU(s){var l=s.memoizedState,c=0;l!==null&&(c=l.retryLane),UA(s,c)}function xU(s,l){var c=0;switch(s.tag){case 13:var m=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),UA(s,c)}function EU(s,l){return Yt(s,l)}var Nm=null,Hu=null,p0=!1,jm=!1,g0=!1,_l=0;function va(s){s!==Hu&&s.next===null&&(Hu===null?Nm=Hu=s:Hu=Hu.next=s),jm=!0,p0||(p0=!0,TU())}function Kf(s,l){if(!g0&&jm){g0=!0;do for(var c=!1,m=Nm;m!==null;){if(s!==0){var v=m.pendingLanes;if(v===0)var _=0;else{var N=m.suspendedLanes,I=m.pingedLanes;_=(1<<31-mn(42|s)+1)-1,_&=v&~(N&~I),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,zA(m,_))}else _=pt,_=La(m,m===Bt?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||ui(m,_)||(c=!0,zA(m,_));m=m.next}while(c);g0=!1}}function SU(){VA()}function VA(){jm=p0=!1;var s=0;_l!==0&&(DU()&&(s=_l),_l=0);for(var l=Zt(),c=null,m=Nm;m!==null;){var v=m.next,_=$A(m,l);_===0?(m.next=null,c===null?Nm=v:c.next=v,v===null&&(Hu=c)):(c=m,(s!==0||(_&3)!==0)&&(jm=!0)),m=v}Kf(s)}function $A(s,l){for(var c=s.suspendedLanes,m=s.pingedLanes,v=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var N=31-mn(_),I=1<<N,F=v[N];F===-1?((I&c)===0||(I&m)!==0)&&(v[N]=Ds(I,l)):F<=l&&(s.expiredLanes|=I),_&=~I}if(l=Bt,c=pt,c=La(s,s===l?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,c===0||s===l&&(Rt===2||Rt===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&et(m),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||ui(s,c)){if(l=c&-c,l===s.callbackPriority)return l;switch(m!==null&&et(m),Is(c)){case 2:case 8:c=Rs;break;case 32:c=Ma;break;case 268435456:c=oi;break;default:c=Ma}return m=BA.bind(null,s),c=Yt(c,m),s.callbackPriority=l,s.callbackNode=c,l}return m!==null&&m!==null&&et(m),s.callbackPriority=2,s.callbackNode=null,2}function BA(s,l){if(er!==0&&er!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Rm()&&s.callbackNode!==c)return null;var m=pt;return m=La(s,s===Bt?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(EA(s,m,l),$A(s,Zt()),s.callbackNode!=null&&s.callbackNode===c?BA.bind(null,s):null)}function zA(s,l){if(Rm())return null;EA(s,l,!0)}function TU(){IU(function(){(Pt&6)!==0?Yt(Go,SU):VA()})}function y0(){return _l===0&&(_l=Ua()),_l}function qA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:du(""+s)}function FA(s,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,s.id&&c.setAttribute("form",s.id),l.parentNode.insertBefore(c,l),s=new FormData(s),c.parentNode.removeChild(c),s}function AU(s,l,c,m,v){if(l==="submit"&&c&&c.stateNode===v){var _=qA((v[ye]||null).action),N=m.submitter;N&&(l=(l=N[ye]||null)?qA(l.formAction):N.getAttribute("formAction"),l!==null&&(_=l,N=null));var I=new mu("action","action",null,m,v);s.push({event:I,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(_l!==0){var F=N?FA(v,N):new FormData(v);Lv(c,{pending:!0,data:F,method:v.method,action:_},null,F)}}else typeof _=="function"&&(I.preventDefault(),F=N?FA(v,N):new FormData(v),Lv(c,{pending:!0,data:F,method:v.method,action:_},_,F))},currentTarget:v}]})}}for(var v0=0;v0<nv.length;v0++){var b0=nv[v0],OU=b0.toLowerCase(),CU=b0[0].toUpperCase()+b0.slice(1);Bi(OU,"on"+CU)}Bi(ES,"onAnimationEnd"),Bi(SS,"onAnimationIteration"),Bi(TS,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(H6,"onTransitionRun"),Bi(K6,"onTransitionStart"),Bi(G6,"onTransitionCancel"),Bi(AS,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gf));function HA(s,l){l=(l&4)!==0;for(var c=0;c<s.length;c++){var m=s[c],v=m.event;m=m.listeners;e:{var _=void 0;if(l)for(var N=m.length-1;0<=N;N--){var I=m[N],F=I.instance,Z=I.currentTarget;if(I=I.listener,F!==_&&v.isPropagationStopped())break e;_=I,v.currentTarget=Z;try{_(v)}catch(le){bm(le)}v.currentTarget=null,_=F}else for(N=0;N<m.length;N++){if(I=m[N],F=I.instance,Z=I.currentTarget,I=I.listener,F!==_&&v.isPropagationStopped())break e;_=I,v.currentTarget=Z;try{_(v)}catch(le){bm(le)}v.currentTarget=null,_=F}}}}function lt(s,l){var c=l[ke];c===void 0&&(c=l[ke]=new Set);var m=s+"__bubble";c.has(m)||(KA(l,s,2,!1),c.add(m))}function _0(s,l,c){var m=0;l&&(m|=4),KA(c,s,m,l)}var Dm="_reactListening"+Math.random().toString(36).slice(2);function w0(s){if(!s[Dm]){s[Dm]=!0,xt.forEach(function(c){c!=="selectionchange"&&(PU.has(c)||_0(c,!1,s),_0(c,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Dm]||(l[Dm]=!0,_0("selectionchange",!1,l))}}function KA(s,l,c,m){switch(gO(l)){case 2:var v=nV;break;case 8:v=rV;break;default:v=I0}c=v.bind(null,l,c,s),v=void 0,!mi||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?s.addEventListener(l,c,{capture:!0,passive:v}):s.addEventListener(l,c,!0):v!==void 0?s.addEventListener(l,c,{passive:v}):s.addEventListener(l,c,!1)}function x0(s,l,c,m,v){var _=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var I=m.stateNode.containerInfo;if(I===v)break;if(N===4)for(N=m.return;N!==null;){var F=N.tag;if((F===3||F===4)&&N.stateNode.containerInfo===v)return;N=N.return}for(;I!==null;){if(N=Ze(I),N===null)return;if(F=N.tag,F===5||F===6||F===26||F===27){m=_=N;continue e}I=I.parentNode}}m=m.return}Id(function(){var Z=_,le=di(c),ce=[];e:{var te=OS.get(s);if(te!==void 0){var ne=mu,We=s;switch(s){case"keypress":if(ua(c)===0)break e;case"keydown":case"keyup":ne=_u;break;case"focusin":We="focus",ne=yu;break;case"focusout":We="blur",ne=yu;break;case"beforeblur":case"afterblur":ne=yu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Wy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=qd;break;case ES:case SS:case TS:ne=vu;break;case AS:ne=Hd;break;case"scroll":case"scrollend":ne=Md;break;case"wheel":ne=wu;break;case"copy":case"cut":case"paste":ne=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=yf;break;case"toggle":case"beforetoggle":ne=Gd}var qe=(l&4)!==0,Mt=!qe&&(s==="scroll"||s==="scrollend"),Y=qe?te!==null?te+"Capture":null:te;qe=[];for(var W=Z,J;W!==null;){var ue=W;if(J=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||J===null||Y===null||(ue=Zo(W,Y),ue!=null&&qe.push(Wf(W,ue,J))),Mt)break;W=W.return}0<qe.length&&(te=new ne(te,We,null,c,le),ce.push({event:te,listeners:qe}))}}if((l&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",te&&c!==$a&&(We=c.relatedTarget||c.fromElement)&&(Ze(We)||We[Ee]))break e;if((ne||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(We=c.relatedTarget||c.toElement,ne=Z,We=We?Ze(We):null,We!==null&&(Mt=a(We),qe=We.tag,We!==Mt||qe!==5&&qe!==27&&qe!==6)&&(We=null)):(ne=null,We=Z),ne!==We)){if(qe=pi,ue="onMouseLeave",Y="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(qe=yf,ue="onPointerLeave",Y="onPointerEnter",W="pointer"),Mt=ne==null?te:Ct(ne),J=We==null?te:Ct(We),te=new qe(ue,W+"leave",ne,c,le),te.target=Mt,te.relatedTarget=J,ue=null,Ze(le)===Z&&(qe=new qe(Y,W+"enter",We,c,le),qe.target=J,qe.relatedTarget=Mt,ue=qe),Mt=ue,ne&&We)t:{for(qe=ne,Y=We,W=0,J=qe;J;J=Ku(J))W++;for(J=0,ue=Y;ue;ue=Ku(ue))J++;for(;0<W-J;)qe=Ku(qe),W--;for(;0<J-W;)Y=Ku(Y),J--;for(;W--;){if(qe===Y||Y!==null&&qe===Y.alternate)break t;qe=Ku(qe),Y=Ku(Y)}qe=null}else qe=null;ne!==null&&GA(ce,te,ne,qe,!1),We!==null&&Mt!==null&&GA(ce,Mt,We,qe,!0)}}e:{if(te=Z?Ct(Z):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ce=hS;else if(An(te))if(dS)Ce=z6;else{Ce=$6;var at=V6}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&cf(Z.elementType)&&(Ce=hS):Ce=B6;if(Ce&&(Ce=Ce(s,Z))){Ha(ce,Ce,c,le);break e}at&&at(s,te,Z),s==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Vs(te,"number",te.value)}switch(at=Z?Ct(Z):window,s){case"focusin":(An(at)||at.contentEditable==="true")&&(xu=at,Zy=Z,_f=null);break;case"focusout":_f=Zy=xu=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,wS(ce,c,le);break;case"selectionchange":if(F6)break;case"keydown":case"keyup":wS(ce,c,le)}var Me;if(ha)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else dt?ae(s,c)&&(He="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(He="onCompositionStart");He&&(P&&c.locale!=="ko"&&(dt||He!=="onCompositionStart"?He==="onCompositionEnd"&&dt&&(Me=hf()):(la=le,$s="value"in la?la.value:la.textContent,dt=!0)),at=km(Z,He),0<at.length&&(He=new pf(He,s,null,c,le),ce.push({event:He,listeners:at}),Me?He.data=Me:(Me=be(c),Me!==null&&(He.data=Me)))),(Me=T?Tn(s,c):mt(s,c))&&(He=km(Z,"onBeforeInput"),0<He.length&&(at=new pf("onBeforeInput","beforeinput",null,c,le),ce.push({event:at,listeners:He}),at.data=Me)),AU(ce,s,Z,c,le)}HA(ce,l)})}function Wf(s,l,c){return{instance:s,listener:l,currentTarget:c}}function km(s,l){for(var c=l+"Capture",m=[];s!==null;){var v=s,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Zo(s,c),v!=null&&m.unshift(Wf(s,v,_)),v=Zo(s,l),v!=null&&m.push(Wf(s,v,_))),s.tag===3)return m;s=s.return}return[]}function Ku(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function GA(s,l,c,m,v){for(var _=l._reactName,N=[];c!==null&&c!==m;){var I=c,F=I.alternate,Z=I.stateNode;if(I=I.tag,F!==null&&F===m)break;I!==5&&I!==26&&I!==27||Z===null||(F=Z,v?(Z=Zo(c,_),Z!=null&&N.unshift(Wf(c,Z,F))):v||(Z=Zo(c,_),Z!=null&&N.push(Wf(c,Z,F)))),c=c.return}N.length!==0&&s.push({event:l,listeners:N})}var RU=/\r\n?/g,NU=/\u0000|\uFFFD/g;function WA(s){return(typeof s=="string"?s:""+s).replace(RU,`
`).replace(NU,"")}function YA(s,l){return l=WA(l),WA(s)===l}function Im(){}function It(s,l,c,m,v,_){switch(c){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||hi(s,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&hi(s,""+m);break;case"className":_r(s,"class",m);break;case"tabIndex":_r(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(s,c,m);break;case"style":uf(s,m,_);break;case"data":if(l!=="object"){_r(s,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||c!=="href")){s.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=du(""+m),s.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(l!=="input"&&It(s,l,"name",v.name,v,null),It(s,l,"formEncType",v.formEncType,v,null),It(s,l,"formMethod",v.formMethod,v,null),It(s,l,"formTarget",v.formTarget,v,null)):(It(s,l,"encType",v.encType,v,null),It(s,l,"method",v.method,v,null),It(s,l,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=du(""+m),s.setAttribute(c,m);break;case"onClick":m!=null&&(s.onclick=Im);break;case"onScroll":m!=null&&lt("scroll",s);break;case"onScrollEnd":m!=null&&lt("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}c=du(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""+m):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":m===!0?s.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,m):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(c,m):s.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(c):s.setAttribute(c,m);break;case"popover":lt("beforetoggle",s),lt("toggle",s),Vr(s,"popover",m);break;case"xlinkActuate":Fe(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Fe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Fe(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Fe(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Fe(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Fe(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Vr(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ky.get(c)||c,Vr(s,c,m))}}function E0(s,l,c,m,v,_){switch(c){case"style":uf(s,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof m=="string"?hi(s,m):(typeof m=="number"||typeof m=="bigint")&&hi(s,""+m);break;case"onScroll":m!=null&&lt("scroll",s);break;case"onScrollEnd":m!=null&&lt("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Im);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tr.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),l=c.slice(2,v?c.length-7:void 0),_=s[ye]||null,_=_!=null?_[c]:null,typeof _=="function"&&s.removeEventListener(l,_,v),typeof m=="function")){typeof _!="function"&&_!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(l,m,v);break e}c in s?s[c]=m:m===!0?s.setAttribute(c,""):Vr(s,c,m)}}}function tr(s,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",s),lt("load",s);var m=!1,v=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var N=c[_];if(N!=null)switch(_){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:It(s,l,_,N,c,null)}}v&&It(s,l,"srcSet",c.srcSet,c,null),m&&It(s,l,"src",c.src,c,null);return;case"input":lt("invalid",s);var I=_=N=v=null,F=null,Z=null;for(m in c)if(c.hasOwnProperty(m)){var le=c[m];if(le!=null)switch(m){case"name":v=le;break;case"type":N=le;break;case"checked":F=le;break;case"defaultChecked":Z=le;break;case"value":_=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:It(s,l,m,le,c,null)}}Xo(s,_,I,F,Z,N,v,!1),hu(s);return;case"select":lt("invalid",s),m=N=_=null;for(v in c)if(c.hasOwnProperty(v)&&(I=c[v],I!=null))switch(v){case"value":_=I;break;case"defaultValue":N=I;break;case"multiple":m=I;default:It(s,l,v,I,c,null)}l=_,c=N,s.multiple=!!m,l!=null?Va(s,!!m,l,!1):c!=null&&Va(s,!!m,c,!0);return;case"textarea":lt("invalid",s),_=v=m=null;for(N in c)if(c.hasOwnProperty(N)&&(I=c[N],I!=null))switch(N){case"value":m=I;break;case"defaultValue":v=I;break;case"children":_=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:It(s,l,N,I,c,null)}Qo(s,m,v,_),hu(s);return;case"option":for(F in c)if(c.hasOwnProperty(F)&&(m=c[F],m!=null))switch(F){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:It(s,l,F,m,c,null)}return;case"dialog":lt("beforetoggle",s),lt("toggle",s),lt("cancel",s),lt("close",s);break;case"iframe":case"object":lt("load",s);break;case"video":case"audio":for(m=0;m<Gf.length;m++)lt(Gf[m],s);break;case"image":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"embed":case"source":case"link":lt("error",s),lt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(m=c[Z],m!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:It(s,l,Z,m,c,null)}return;default:if(cf(l)){for(le in c)c.hasOwnProperty(le)&&(m=c[le],m!==void 0&&E0(s,l,le,m,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(m=c[I],m!=null&&It(s,l,I,m,c,null))}function jU(s,l,c,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,N=null,I=null,F=null,Z=null,le=null;for(ne in c){var ce=c[ne];if(c.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":F=ce;default:m.hasOwnProperty(ne)||It(s,l,ne,null,m,ce)}}for(var te in m){var ne=m[te];if(ce=c[te],m.hasOwnProperty(te)&&(ne!=null||ce!=null))switch(te){case"type":_=ne;break;case"name":v=ne;break;case"checked":Z=ne;break;case"defaultChecked":le=ne;break;case"value":N=ne;break;case"defaultValue":I=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:ne!==ce&&It(s,l,te,ne,m,ce)}}$r(s,N,I,F,Z,le,_,v);return;case"select":ne=N=I=te=null;for(_ in c)if(F=c[_],c.hasOwnProperty(_)&&F!=null)switch(_){case"value":break;case"multiple":ne=F;default:m.hasOwnProperty(_)||It(s,l,_,null,m,F)}for(v in m)if(_=m[v],F=c[v],m.hasOwnProperty(v)&&(_!=null||F!=null))switch(v){case"value":te=_;break;case"defaultValue":I=_;break;case"multiple":N=_;default:_!==F&&It(s,l,v,_,m,F)}l=I,c=N,m=ne,te!=null?Va(s,!!c,te,!1):!!m!=!!c&&(l!=null?Va(s,!!c,l,!0):Va(s,!!c,c?[]:"",!1));return;case"textarea":ne=te=null;for(I in c)if(v=c[I],c.hasOwnProperty(I)&&v!=null&&!m.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:It(s,l,I,null,m,v)}for(N in m)if(v=m[N],_=c[N],m.hasOwnProperty(N)&&(v!=null||_!=null))switch(N){case"value":te=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&It(s,l,N,v,m,_)}Dt(s,te,ne);return;case"option":for(var We in c)if(te=c[We],c.hasOwnProperty(We)&&te!=null&&!m.hasOwnProperty(We))switch(We){case"selected":s.selected=!1;break;default:It(s,l,We,null,m,te)}for(F in m)if(te=m[F],ne=c[F],m.hasOwnProperty(F)&&te!==ne&&(te!=null||ne!=null))switch(F){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:It(s,l,F,te,m,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in c)te=c[qe],c.hasOwnProperty(qe)&&te!=null&&!m.hasOwnProperty(qe)&&It(s,l,qe,null,m,te);for(Z in m)if(te=m[Z],ne=c[Z],m.hasOwnProperty(Z)&&te!==ne&&(te!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:It(s,l,Z,te,m,ne)}return;default:if(cf(l)){for(var Mt in c)te=c[Mt],c.hasOwnProperty(Mt)&&te!==void 0&&!m.hasOwnProperty(Mt)&&E0(s,l,Mt,void 0,m,te);for(le in m)te=m[le],ne=c[le],!m.hasOwnProperty(le)||te===ne||te===void 0&&ne===void 0||E0(s,l,le,te,m,ne);return}}for(var Y in c)te=c[Y],c.hasOwnProperty(Y)&&te!=null&&!m.hasOwnProperty(Y)&&It(s,l,Y,null,m,te);for(ce in m)te=m[ce],ne=c[ce],!m.hasOwnProperty(ce)||te===ne||te==null&&ne==null||It(s,l,ce,te,m,ne)}var S0=null,T0=null;function Mm(s){return s.nodeType===9?s:s.ownerDocument}function XA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QA(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function A0(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var O0=null;function DU(){var s=window.event;return s&&s.type==="popstate"?s===O0?!1:(O0=s,!0):(O0=null,!1)}var JA=typeof setTimeout=="function"?setTimeout:void 0,kU=typeof clearTimeout=="function"?clearTimeout:void 0,ZA=typeof Promise=="function"?Promise:void 0,IU=typeof queueMicrotask=="function"?queueMicrotask:typeof ZA<"u"?function(s){return ZA.resolve(null).then(s).catch(MU)}:JA;function MU(s){setTimeout(function(){throw s})}function no(s){return s==="head"}function eO(s,l){var c=l,m=0,v=0;do{var _=c.nextSibling;if(s.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"){if(0<m&&8>m){c=m;var N=s.ownerDocument;if(c&1&&Yf(N.documentElement),c&2&&Yf(N.body),c&4)for(c=N.head,Yf(c),N=c.firstChild;N;){var I=N.nextSibling,F=N.nodeName;N[je]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&N.rel.toLowerCase()==="stylesheet"||c.removeChild(N),N=I}}if(v===0){s.removeChild(_),rh(l);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:m=c.charCodeAt(0)-48;else m=0;c=_}while(c);rh(l)}function C0(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":C0(c),Oe(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function LU(s,l,c,m){for(;s.nodeType===1;){var v=c;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[je])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=qi(s.nextSibling),s===null)break}return null}function UU(s,l,c){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=qi(s.nextSibling),s===null))return null;return s}function P0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function VU(s,l){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")l();else{var m=function(){l(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function qi(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var R0=null;function tO(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return s;l--}else c==="/$"&&l++}s=s.previousSibling}return null}function nO(s,l,c){switch(l=Mm(c),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Yf(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Oe(s)}var xi=new Map,rO=new Set;function Lm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var is=re.d;re.d={f:$U,r:BU,D:zU,C:qU,L:FU,m:HU,X:GU,S:KU,M:WU};function $U(){var s=is.f(),l=Cm();return s||l}function BU(s){var l=ht(s);l!==null&&l.tag===5&&l.type==="form"?ET(l):is.r(s)}var Gu=typeof document>"u"?null:document;function iO(s,l,c){var m=Gu;if(m&&typeof l=="string"&&l){var v=pn(l);v='link[rel="'+s+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),rO.has(v)||(rO.add(v),s={rel:s,crossOrigin:c,href:l},m.querySelector(v)===null&&(l=m.createElement("link"),tr(l,"link",s),Ye(l),m.head.appendChild(l)))}}function zU(s){is.D(s),iO("dns-prefetch",s,null)}function qU(s,l){is.C(s,l),iO("preconnect",s,l)}function FU(s,l,c){is.L(s,l,c);var m=Gu;if(m&&s&&l){var v='link[rel="preload"][as="'+pn(l)+'"]';l==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+pn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+pn(c.imageSizes)+'"]')):v+='[href="'+pn(s)+'"]';var _=v;switch(l){case"style":_=Wu(s);break;case"script":_=Yu(s)}xi.has(_)||(s=d({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:s,as:l},c),xi.set(_,s),m.querySelector(v)!==null||l==="style"&&m.querySelector(Xf(_))||l==="script"&&m.querySelector(Qf(_))||(l=m.createElement("link"),tr(l,"link",s),Ye(l),m.head.appendChild(l)))}}function HU(s,l){is.m(s,l);var c=Gu;if(c&&s){var m=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+pn(m)+'"][href="'+pn(s)+'"]',_=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Yu(s)}if(!xi.has(_)&&(s=d({rel:"modulepreload",href:s},l),xi.set(_,s),c.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Qf(_)))return}m=c.createElement("link"),tr(m,"link",s),Ye(m),c.head.appendChild(m)}}}function KU(s,l,c){is.S(s,l,c);var m=Gu;if(m&&s){var v=wt(m).hoistableStyles,_=Wu(s);l=l||"default";var N=v.get(_);if(!N){var I={loading:0,preload:null};if(N=m.querySelector(Xf(_)))I.loading=5;else{s=d({rel:"stylesheet",href:s,"data-precedence":l},c),(c=xi.get(_))&&N0(s,c);var F=N=m.createElement("link");Ye(F),tr(F,"link",s),F._p=new Promise(function(Z,le){F.onload=Z,F.onerror=le}),F.addEventListener("load",function(){I.loading|=1}),F.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Um(N,l,m)}N={type:"stylesheet",instance:N,count:1,state:I},v.set(_,N)}}}function GU(s,l){is.X(s,l);var c=Gu;if(c&&s){var m=wt(c).hoistableScripts,v=Yu(s),_=m.get(v);_||(_=c.querySelector(Qf(v)),_||(s=d({src:s,async:!0},l),(l=xi.get(v))&&j0(s,l),_=c.createElement("script"),Ye(_),tr(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(v,_))}}function WU(s,l){is.M(s,l);var c=Gu;if(c&&s){var m=wt(c).hoistableScripts,v=Yu(s),_=m.get(v);_||(_=c.querySelector(Qf(v)),_||(s=d({src:s,async:!0,type:"module"},l),(l=xi.get(v))&&j0(s,l),_=c.createElement("script"),Ye(_),tr(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(v,_))}}function aO(s,l,c,m){var v=(v=Ve.current)?Lm(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=Wu(c.href),c=wt(v).hoistableStyles,m=c.get(l),m||(m={type:"style",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Wu(c.href);var _=wt(v).hoistableStyles,N=_.get(s);if(N||(v=v.ownerDocument||v,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,N),(_=v.querySelector(Xf(s)))&&!_._p&&(N.instance=_,N.state.loading=5),xi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},xi.set(s,c),_||YU(v,s,c,N.state))),l&&m===null)throw Error(r(528,""));return N}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Yu(c),c=wt(v).hoistableScripts,m=c.get(l),m||(m={type:"script",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Wu(s){return'href="'+pn(s)+'"'}function Xf(s){return'link[rel="stylesheet"]['+s+"]"}function sO(s){return d({},s,{"data-precedence":s.precedence,precedence:null})}function YU(s,l,c,m){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=s.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),tr(l,"link",c),Ye(l),s.head.appendChild(l))}function Yu(s){return'[src="'+pn(s)+'"]'}function Qf(s){return"script[async]"+s}function oO(s,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var m=s.querySelector('style[data-href~="'+pn(c.href)+'"]');if(m)return l.instance=m,Ye(m),m;var v=d({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),Ye(m),tr(m,"style",v),Um(m,c.precedence,s),l.instance=m;case"stylesheet":v=Wu(c.href);var _=s.querySelector(Xf(v));if(_)return l.state.loading|=4,l.instance=_,Ye(_),_;m=sO(c),(v=xi.get(v))&&N0(m,v),_=(s.ownerDocument||s).createElement("link"),Ye(_);var N=_;return N._p=new Promise(function(I,F){N.onload=I,N.onerror=F}),tr(_,"link",m),l.state.loading|=4,Um(_,c.precedence,s),l.instance=_;case"script":return _=Yu(c.src),(v=s.querySelector(Qf(_)))?(l.instance=v,Ye(v),v):(m=c,(v=xi.get(_))&&(m=d({},c),j0(m,v)),s=s.ownerDocument||s,v=s.createElement("script"),Ye(v),tr(v,"link",m),s.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Um(m,c.precedence,s));return l.instance}function Um(s,l,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,_=v,N=0;N<m.length;N++){var I=m[N];if(I.dataset.precedence===l)_=I;else if(_!==v)break}_?_.parentNode.insertBefore(s,_.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(s,l.firstChild))}function N0(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function j0(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Vm=null;function lO(s,l,c){if(Vm===null){var m=new Map,v=Vm=new Map;v.set(c,m)}else v=Vm,m=v.get(c),m||(m=new Map,v.set(c,m));if(m.has(s))return m;for(m.set(s,null),c=c.getElementsByTagName(s),v=0;v<c.length;v++){var _=c[v];if(!(_[je]||_[fe]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var N=_.getAttribute(l)||"";N=s+N;var I=m.get(N);I?I.push(_):m.set(N,[_])}}return m}function uO(s,l,c){s=s.ownerDocument||s,s.head.insertBefore(c,l==="title"?s.querySelector("head > title"):null)}function XU(s,l,c){if(c===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function cO(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Jf=null;function QU(){}function JU(s,l,c){if(Jf===null)throw Error(r(475));var m=Jf;if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=Wu(c.href),_=s.querySelector(Xf(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(m.count++,m=$m.bind(m),s.then(m,m)),l.state.loading|=4,l.instance=_,Ye(_);return}_=s.ownerDocument||s,c=sO(c),(v=xi.get(v))&&N0(c,v),_=_.createElement("link"),Ye(_);var N=_;N._p=new Promise(function(I,F){N.onload=I,N.onerror=F}),tr(_,"link",c),l.instance=_}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=$m.bind(m),s.addEventListener("load",l),s.addEventListener("error",l))}}function ZU(){if(Jf===null)throw Error(r(475));var s=Jf;return s.stylesheets&&s.count===0&&D0(s,s.stylesheets),0<s.count?function(l){var c=setTimeout(function(){if(s.stylesheets&&D0(s,s.stylesheets),s.unsuspend){var m=s.unsuspend;s.unsuspend=null,m()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(c)}}:null}function $m(){if(this.count--,this.count===0){if(this.stylesheets)D0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Bm=null;function D0(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Bm=new Map,l.forEach(eV,s),Bm=null,$m.call(s))}function eV(s,l){if(!(l.state.loading&4)){var c=Bm.get(s);if(c)var m=c.get(null);else{c=new Map,Bm.set(s,c);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var N=v[_];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(c.set(N.dataset.precedence,N),m=N)}m&&c.set(null,m)}v=l.instance,N=v.getAttribute("data-precedence"),_=c.get(N)||m,_===m&&c.set(null,v),c.set(N,v),this.count++,m=$m.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),_?_.parentNode.insertBefore(v,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),l.state.loading|=4}}var Zf={$$typeof:C,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function tV(s,l,c,m,v,_,N,I){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function fO(s,l,c,m,v,_,N,I,F,Z,le,ce){return s=new tV(s,l,c,N,I,F,Z,ce),l=1,_===!0&&(l|=24),_=zr(3,null,null,l),s.current=_,_.stateNode=s,l=mv(),l.refCount++,s.pooledCache=l,l.refCount++,_.memoizedState={element:m,isDehydrated:c,cache:l},vv(_),s}function hO(s){return s?(s=Au,s):Au}function dO(s,l,c,m,v,_){v=hO(v),m.context===null?m.context=v:m.pendingContext=v,m=qs(l),m.payload={element:c},_=_===void 0?null:_,_!==null&&(m.callback=_),c=Fs(s,m,l),c!==null&&(Gr(c,s,l),Pf(c,s,l))}function mO(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<l?c:l}}function k0(s,l){mO(s,l),(s=s.alternate)&&mO(s,l)}function pO(s){if(s.tag===13){var l=Tu(s,67108864);l!==null&&Gr(l,s,67108864),k0(s,67108864)}}var zm=!0;function nV(s,l,c,m){var v=G.T;G.T=null;var _=re.p;try{re.p=2,I0(s,l,c,m)}finally{re.p=_,G.T=v}}function rV(s,l,c,m){var v=G.T;G.T=null;var _=re.p;try{re.p=8,I0(s,l,c,m)}finally{re.p=_,G.T=v}}function I0(s,l,c,m){if(zm){var v=M0(m);if(v===null)x0(s,l,m,qm,c),yO(s,m);else if(aV(v,s,l,c,m))m.stopPropagation();else if(yO(s,m),l&4&&-1<iV.indexOf(s)){for(;v!==null;){var _=ht(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var N=Lr(_.pendingLanes);if(N!==0){var I=_;for(I.pendingLanes|=2,I.entangledLanes|=2;N;){var F=1<<31-mn(N);I.entanglements[1]|=F,N&=~F}va(_),(Pt&6)===0&&(Am=Zt()+500,Kf(0))}}break;case 13:I=Tu(_,2),I!==null&&Gr(I,_,2),Cm(),k0(_,2)}if(_=M0(m),_===null&&x0(s,l,m,qm,c),_===v)break;v=_}v!==null&&m.stopPropagation()}else x0(s,l,m,null,c)}}function M0(s){return s=di(s),L0(s)}var qm=null;function L0(s){if(qm=null,s=Ze(s),s!==null){var l=a(s);if(l===null)s=null;else{var c=l.tag;if(c===13){if(s=o(l),s!==null)return s;s=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return qm=s,null}function gO(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ps()){case Go:return 2;case Rs:return 8;case Ma:case Mi:return 32;case oi:return 268435456;default:return 32}default:return 32}}var U0=!1,ro=null,io=null,ao=null,eh=new Map,th=new Map,so=[],iV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yO(s,l){switch(s){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":eh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(l.pointerId)}}function nh(s,l,c,m,v,_){return s===null||s.nativeEvent!==_?(s={blockedOn:l,domEventName:c,eventSystemFlags:m,nativeEvent:_,targetContainers:[v]},l!==null&&(l=ht(l),l!==null&&pO(l)),s):(s.eventSystemFlags|=m,l=s.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),s)}function aV(s,l,c,m,v){switch(l){case"focusin":return ro=nh(ro,s,l,c,m,v),!0;case"dragenter":return io=nh(io,s,l,c,m,v),!0;case"mouseover":return ao=nh(ao,s,l,c,m,v),!0;case"pointerover":var _=v.pointerId;return eh.set(_,nh(eh.get(_)||null,s,l,c,m,v)),!0;case"gotpointercapture":return _=v.pointerId,th.set(_,nh(th.get(_)||null,s,l,c,m,v)),!0}return!1}function vO(s){var l=Ze(s.target);if(l!==null){var c=a(l);if(c!==null){if(l=c.tag,l===13){if(l=o(c),l!==null){s.blockedOn=l,X(s.priority,function(){if(c.tag===13){var m=Kr();m=sa(m);var v=Tu(c,m);v!==null&&Gr(v,c,m),k0(c,m)}});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Fm(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var c=M0(s.nativeEvent);if(c===null){c=s.nativeEvent;var m=new c.constructor(c.type,c);$a=m,c.target.dispatchEvent(m),$a=null}else return l=ht(c),l!==null&&pO(l),s.blockedOn=c,!1;l.shift()}return!0}function bO(s,l,c){Fm(s)&&c.delete(l)}function sV(){U0=!1,ro!==null&&Fm(ro)&&(ro=null),io!==null&&Fm(io)&&(io=null),ao!==null&&Fm(ao)&&(ao=null),eh.forEach(bO),th.forEach(bO)}function Hm(s,l){s.blockedOn===l&&(s.blockedOn=null,U0||(U0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sV)))}var Km=null;function _O(s){Km!==s&&(Km=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Km===s&&(Km=null);for(var l=0;l<s.length;l+=3){var c=s[l],m=s[l+1],v=s[l+2];if(typeof m!="function"){if(L0(m||c)===null)continue;break}var _=ht(c);_!==null&&(s.splice(l,3),l-=3,Lv(_,{pending:!0,data:v,method:c.method,action:m},m,v))}}))}function rh(s){function l(F){return Hm(F,s)}ro!==null&&Hm(ro,s),io!==null&&Hm(io,s),ao!==null&&Hm(ao,s),eh.forEach(l),th.forEach(l);for(var c=0;c<so.length;c++){var m=so[c];m.blockedOn===s&&(m.blockedOn=null)}for(;0<so.length&&(c=so[0],c.blockedOn===null);)vO(c),c.blockedOn===null&&so.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var v=c[m],_=c[m+1],N=v[ye]||null;if(typeof _=="function")N||_O(c);else if(N){var I=null;if(_&&_.hasAttribute("formAction")){if(v=_,N=_[ye]||null)I=N.formAction;else if(L0(v)!==null)continue}else I=N.action;typeof I=="function"?c[m+1]=I:(c.splice(m,3),m-=3),_O(c)}}}function V0(s){this._internalRoot=s}Gm.prototype.render=V0.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var c=l.current,m=Kr();dO(c,m,s,l,null,null)},Gm.prototype.unmount=V0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;dO(s.current,2,null,s,null,null),Cm(),l[Ee]=null}};function Gm(s){this._internalRoot=s}Gm.prototype.unstable_scheduleHydration=function(s){if(s){var l=K();s={blockedOn:null,target:s,priority:l};for(var c=0;c<so.length&&l!==0&&l<so[c].priority;c++);so.splice(c,0,s),c===0&&vO(s)}};var wO=e.version;if(wO!=="19.1.1")throw Error(r(527,wO,"19.1.1"));re.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var oV={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wm.isDisabled&&Wm.supportsFiber)try{_t=Wm.inject(oV),nt=Wm}catch{}}return ah.createRoot=function(s,l){if(!i(s))throw Error(r(299));var c=!1,m="",v=LT,_=UT,N=VT,I=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(I=l.unstable_transitionCallbacks)),l=fO(s,1,!1,null,null,c,m,v,_,N,I,null),s[Ee]=l.current,w0(s),new V0(l)},ah.hydrateRoot=function(s,l,c){if(!i(s))throw Error(r(299));var m=!1,v="",_=LT,N=UT,I=VT,F=null,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(F=c.unstable_transitionCallbacks),c.formState!==void 0&&(Z=c.formState)),l=fO(s,1,!0,l,c??null,m,v,_,N,I,F,Z),l.context=hO(null),c=l.current,m=Kr(),m=sa(m),v=qs(m),v.callback=null,Fs(c,v,m),c=m,l.current.lanes=c,Li(l,c),va(l),s[Ee]=l.current,w0(s),new Gm(l)},ah.version="19.1.1",ah}var NO;function bV(){if(NO)return z0.exports;NO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),z0.exports=vV(),z0.exports}var _V=bV();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jj=t=>{throw TypeError(t)},wV=(t,e,n)=>e.has(t)||Jj("Cannot "+n),K0=(t,e,n)=>(wV(t,e,"read from private field"),n?n.call(t):e.get(t)),xV=(t,e,n)=>e.has(t)?Jj("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),jO="popstate";function EV(t={}){function e(i,a){let{pathname:o="/",search:u="",hash:f=""}=ws(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Lh("",{pathname:o,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let f=i.location.href,h=f.indexOf("#");u=h===-1?f:f.slice(0,h)}return u+"#"+(typeof a=="string"?a:Co(a))}function r(i,a){hn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return TV(e,n,r,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SV(){return Math.random().toString(36).substring(2,10)}function DO(t,e){return{usr:t.state,key:t.key,idx:e}}function Lh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ws(e):e,state:n,key:e&&e.key||r||SV()}}function Co({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ws(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function TV(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,u="POP",f=null,h=d();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function d(){return(o.state||{idx:null}).idx}function p(){u="POP";let S=d(),A=S==null?null:S-h;h=S,f&&f({action:u,location:x.location,delta:A})}function y(S,A){u="PUSH";let R=Lh(x.location,S,A);n&&n(R,S),h=d()+1;let C=DO(R,h),L=x.createHref(R);try{o.pushState(C,"",L)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(L)}a&&f&&f({action:u,location:x.location,delta:1})}function b(S,A){u="REPLACE";let R=Lh(x.location,S,A);n&&n(R,S),h=d();let C=DO(R,h),L=x.createHref(R);o.replaceState(C,"",L),a&&f&&f({action:u,location:x.location,delta:0})}function w(S){return Zj(S)}let x={get action(){return u},get location(){return t(i,o)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(jO,p),f=S,()=>{i.removeEventListener(jO,p),f=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let A=w(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:b,go(S){return o.go(S)}};return x}function Zj(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Co(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var vh,kO=class{constructor(t){if(xV(this,vh,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(K0(this,vh).has(t))return K0(this,vh).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){K0(this,vh).set(t,e)}};vh=new WeakMap;var AV=new Set(["lazy","caseSensitive","path","id","index","children"]);function OV(t){return AV.has(t)}var CV=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function PV(t){return CV.has(t)}function RV(t){return t.index===!0}function Uh(t,e,n=[],r={},i=!1){return t.map((a,o)=>{let u=[...n,String(o)],f=typeof a.id=="string"?a.id:u.join("-");if(ut(a.index!==!0||!a.children,"Cannot specify children on an index route"),ut(i||!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),RV(a)){let h={...a,...e(a),id:f};return r[f]=h,h}else{let h={...a,...e(a),id:f,children:void 0};return r[f]=h,a.children&&(h.children=Uh(a.children,e,u,r,i)),h}})}function go(t,e,n="/"){return wp(t,e,n,!1)}function wp(t,e,n,r){let i=typeof e=="string"?ws(e):e,a=ji(i.pathname||"/",n);if(a==null)return null;let o=eD(t);jV(o);let u=null;for(let f=0;u==null&&f<o.length;++f){let h=qV(a);u=BV(o[f],h,r)}return u}function NV(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function eD(t,e=[],n=[],r="",i=!1){let a=(o,u,f=i,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&f)return;ut(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let p=xa([r,d.relativePath]),y=n.concat(d);o.children&&o.children.length>0&&(ut(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),eD(o.children,e,y,p,f)),!(o.path==null&&!o.index)&&e.push({path:p,score:VV(p,o.index),routesMeta:y})};return t.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))a(o,u);else for(let f of tD(o.path))a(o,u,!0,f)}),e}function tD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=tD(r.join("/")),u=[];return u.push(...o.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...o),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function jV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$V(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var DV=/^:[\w-]+$/,kV=3,IV=2,MV=1,LV=10,UV=-2,IO=t=>t==="*";function VV(t,e){let n=t.split("/"),r=n.length;return n.some(IO)&&(r+=UV),e&&(r+=IV),n.filter(i=>!IO(i)).reduce((i,a)=>i+(DV.test(a)?kV:a===""?MV:LV),r)}function $V(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function BV(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",p=Dp({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},d),y=f.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=Dp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:xa([a,p.pathname]),pathnameBase:GV(xa([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=xa([a,p.pathnameBase]))}return o}function Dp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:p},y)=>{if(d==="*"){let w=u[y]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=u[y];return p&&!b?h[d]=void 0:h[d]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:t}}function zV(t,e=!1,n=!0){hn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ji(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FV({basename:t,pathname:e}){return e==="/"?t:xa([t,e])}function HV(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ws(t):t;return{pathname:n?n.startsWith("/")?n:KV(n,e):e,search:WV(r),hash:YV(i)}}function KV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function G0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rx(t){let e=nD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Nx(t,e,n,r=!1){let i;typeof t=="string"?i=ws(t):(i={...t},ut(!i.pathname||!i.pathname.includes("?"),G0("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),G0("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),G0("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,u;if(o==null)u=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}u=p>=0?e[p]:"/"}let f=HV(i,u),h=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||d)&&(f.pathname+="/"),f}var xa=t=>t.join("/").replace(/\/\/+/g,"/"),GV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,kp=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Vh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var rD=["POST","PUT","PATCH","DELETE"],XV=new Set(rD),QV=["GET",...rD],JV=new Set(QV),ZV=new Set([301,302,303,307,308]),e5=new Set([307,308]),W0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},t5={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},n5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jx=t=>n5.test(t),r5=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),iD="remix-router-transitions",aD=Symbol("ResetLoaderData");function i5(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ut(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||r5,a={},o=Uh(t.routes,i,void 0,a),u,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let h=t.dataStrategy||u5,d={...t.future},p=null,y=new Set,b=null,w=null,x=null,S=t.hydrationData!=null,A=go(o,t.history.location,f),R=!1,C=null,L;if(A==null&&!t.patchRoutesOnNavigation){let K=Oi(404,{pathname:t.history.location.pathname}),{matches:X,route:ee}=Ym(o);L=!0,A=X,C={[ee.id]:K}}else if(A&&!t.hydrationData&&vr(A,o,t.history.location.pathname).active&&(A=null),A)if(A.some(K=>K.route.lazy))L=!1;else if(!A.some(K=>K.route.loader))L=!0;else{let K=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null;if(X){let ee=A.findIndex(fe=>X[fe.route.id]!==void 0);L=A.slice(0,ee+1).every(fe=>!J_(fe.route,K,X))}else L=A.every(ee=>!J_(ee.route,K,X))}else{L=!1,A=[];let K=vr(null,o,t.history.location.pathname);K.active&&K.matches&&(R=!0,A=K.matches)}let U,D={historyAction:t.history.action,location:t.history.location,matches:A,initialized:L,navigation:W0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},j="POP",k=!1,M,V=!1,z=new Map,q=null,$=!1,ve=!1,we=new Set,G=new Map,re=0,pe=-1,xe=new Map,H=new Set,oe=new Map,ie=new Map,me=new Set,Ae=new Map,Ue,Ve=null;function nn(){if(p=t.history.listen(({action:K,location:X,delta:ee})=>{if(Ue){Ue(),Ue=void 0;return}hn(Ae.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=Ds({currentLocation:D.location,nextLocation:X,historyAction:K});if(fe&&ee!=null){let ye=new Promise(Ee=>{Ue=Ee});t.history.go(ee*-1),ui(fe,{state:"blocked",location:X,proceed(){ui(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),ye.then(()=>t.history.go(ee))},reset(){let Ee=new Map(D.blockers);Ee.set(fe,sh),De({blockers:Ee})}});return}return et(K,X)}),n){S5(e,z);let K=()=>T5(e,z);e.addEventListener("pagehide",K),q=()=>e.removeEventListener("pagehide",K)}return D.initialized||et("POP",D.location,{initialHydration:!0}),U}function Tt(){p&&p(),q&&q(),y.clear(),M&&M.abort(),D.fetchers.forEach((K,X)=>mn(X)),D.blockers.forEach((K,X)=>La(X))}function _e(K){return y.add(K),()=>y.delete(K)}function De(K,X={}){K.matches&&(K.matches=K.matches.map(ye=>{let Ee=a[ye.route.id],ke=ye.route;return ke.element!==Ee.element||ke.errorElement!==Ee.errorElement||ke.hydrateFallbackElement!==Ee.hydrateFallbackElement?{...ye,route:Ee}:ye})),D={...D,...K};let ee=[],fe=[];D.fetchers.forEach((ye,Ee)=>{ye.state==="idle"&&(me.has(Ee)?ee.push(Ee):fe.push(Ee))}),me.forEach(ye=>{!D.fetchers.has(ye)&&!G.has(ye)&&ee.push(ye)}),[...y].forEach(ye=>ye(D,{deletedFetchers:ee,viewTransitionOpts:X.viewTransitionOpts,flushSync:X.flushSync===!0})),ee.forEach(ye=>mn(ye)),fe.forEach(ye=>D.fetchers.delete(ye))}function Ke(K,X,{flushSync:ee}={}){let fe=D.actionData!=null&&D.navigation.formMethod!=null&&jr(D.navigation.formMethod)&&D.navigation.state==="loading"&&K.state?._isRedirect!==!0,ye;X.actionData?Object.keys(X.actionData).length>0?ye=X.actionData:ye=null:fe?ye=D.actionData:ye=null;let Ee=X.loaderData?HO(D.loaderData,X.loaderData,X.matches||[],X.errors):D.loaderData,ke=D.blockers;ke.size>0&&(ke=new Map(ke),ke.forEach((je,Oe)=>ke.set(Oe,sh)));let Re=$?!1:ks(K,X.matches||D.matches),Ne=k===!0||D.navigation.formMethod!=null&&jr(D.navigation.formMethod)&&K.state?._isRedirect!==!0;u&&(o=u,u=void 0),$||j==="POP"||(j==="PUSH"?t.history.push(K,K.state):j==="REPLACE"&&t.history.replace(K,K.state));let $e;if(j==="POP"){let je=z.get(D.location.pathname);je&&je.has(K.pathname)?$e={currentLocation:D.location,nextLocation:K}:z.has(K.pathname)&&($e={currentLocation:K,nextLocation:D.location})}else if(V){let je=z.get(D.location.pathname);je?je.add(K.pathname):(je=new Set([K.pathname]),z.set(D.location.pathname,je)),$e={currentLocation:D.location,nextLocation:K}}De({...X,actionData:ye,loaderData:Ee,historyAction:j,location:K,initialized:!0,navigation:W0,revalidation:"idle",restoreScrollPosition:Re,preventScrollReset:Ne,blockers:ke},{viewTransitionOpts:$e,flushSync:ee===!0}),j="POP",k=!1,V=!1,$=!1,ve=!1,Ve?.resolve(),Ve=null}async function ge(K,X){if(typeof K=="number"){t.history.go(K);return}let ee=Q_(D.location,D.matches,f,K,X?.fromRouteId,X?.relative),{path:fe,submission:ye,error:Ee}=MO(!1,ee,X),ke=D.location,Re=Lh(D.location,fe,X&&X.state);Re={...Re,...t.history.encodeLocation(Re)};let Ne=X&&X.replace!=null?X.replace:void 0,$e="PUSH";Ne===!0?$e="REPLACE":Ne===!1||ye!=null&&jr(ye.formMethod)&&ye.formAction===D.location.pathname+D.location.search&&($e="REPLACE");let je=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Oe=(X&&X.flushSync)===!0,Ze=Ds({currentLocation:ke,nextLocation:Re,historyAction:$e});if(Ze){ui(Ze,{state:"blocked",location:Re,proceed(){ui(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),ge(K,X)},reset(){let ht=new Map(D.blockers);ht.set(Ze,sh),De({blockers:ht})}});return}await et($e,Re,{submission:ye,pendingError:Ee,preventScrollReset:je,replace:X&&X.replace,enableViewTransition:X&&X.viewTransition,flushSync:Oe})}function Yt(){Ve||(Ve=A5()),js(),De({revalidation:"loading"});let K=Ve.promise;return D.navigation.state==="submitting"?K:D.navigation.state==="idle"?(et(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),K):(et(j||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:V===!0}),K)}async function et(K,X,ee){M&&M.abort(),M=null,j=K,$=(ee&&ee.startUninterruptedRevalidation)===!0,Li(D.location,D.matches),k=(ee&&ee.preventScrollReset)===!0,V=(ee&&ee.enableViewTransition)===!0;let fe=u||o,ye=ee&&ee.overrideNavigation,Ee=ee?.initialHydration&&D.matches&&D.matches.length>0&&!R?D.matches:go(fe,X,f),ke=(ee&&ee.flushSync)===!0;if(Ee&&D.initialized&&!ve&&y5(D.location,X)&&!(ee&&ee.submission&&jr(ee.submission.formMethod))){Ke(X,{matches:Ee},{flushSync:ke});return}let Re=vr(Ee,fe,X.pathname);if(Re.active&&Re.matches&&(Ee=Re.matches),!Ee){let{error:wt,notFoundMatches:Ye,route:xt}=Ua(X.pathname);Ke(X,{matches:Ye,loaderData:{},errors:{[xt.id]:wt}},{flushSync:ke});return}M=new AbortController;let Ne=lc(t.history,X,M.signal,ee&&ee.submission),$e=t.unstable_getContext?await t.unstable_getContext():new kO,je;if(ee&&ee.pendingError)je=[yo(Ee).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&jr(ee.submission.formMethod)){let wt=await ln(Ne,X,ee.submission,Ee,$e,Re.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:ke});if(wt.shortCircuited)return;if(wt.pendingActionResult){let[Ye,xt]=wt.pendingActionResult;if(Qr(xt)&&Vh(xt.error)&&xt.error.status===404){M=null,Ke(X,{matches:wt.matches,loaderData:{},errors:{[Ye]:xt.error}});return}}Ee=wt.matches||Ee,je=wt.pendingActionResult,ye=Y0(X,ee.submission),ke=!1,Re.active=!1,Ne=lc(t.history,Ne.url,Ne.signal)}let{shortCircuited:Oe,matches:Ze,loaderData:ht,errors:Ct}=await dn(Ne,X,Ee,$e,Re.active,ye,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,ke,je);Oe||(M=null,Ke(X,{matches:Ze||Ee,...KO(je),loaderData:ht,errors:Ct}))}async function ln(K,X,ee,fe,ye,Ee,ke,Re={}){js();let Ne=x5(X,ee);if(De({navigation:Ne},{flushSync:Re.flushSync===!0}),Ee){let Oe=await aa(fe,X.pathname,K.signal);if(Oe.type==="aborted")return{shortCircuited:!0};if(Oe.type==="error"){if(Oe.partialMatches.length===0){let{matches:ht,route:Ct}=Ym(o);return{matches:ht,pendingActionResult:[Ct.id,{type:"error",error:Oe.error}]}}let Ze=yo(Oe.partialMatches).route.id;return{matches:Oe.partialMatches,pendingActionResult:[Ze,{type:"error",error:Oe.error}]}}else if(Oe.matches)fe=Oe.matches;else{let{notFoundMatches:Ze,error:ht,route:Ct}=Ua(X.pathname);return{matches:Ze,pendingActionResult:[Ct.id,{type:"error",error:ht}]}}}let $e,je=xp(fe,X);if(!je.route.action&&!je.route.lazy)$e={type:"error",error:Oi(405,{method:K.method,pathname:X.pathname,routeId:je.route.id})};else{let Oe=vc(i,a,K,fe,je,ke?[]:r,ye),Ze=await oi(K,Oe,ye,null);if($e=Ze[je.route.id],!$e){for(let ht of fe)if(Ze[ht.route.id]){$e=Ze[ht.route.id];break}}if(K.signal.aborted)return{shortCircuited:!0}}if(Nl($e)){let Oe;return Re&&Re.replace!=null?Oe=Re.replace:Oe=zO($e.response.headers.get("Location"),new URL(K.url),f)===D.location.pathname+D.location.search,await Mi(K,$e,!0,{submission:ee,replace:Oe}),{shortCircuited:!0}}if(Qr($e)){let Oe=yo(fe,je.route.id);return(Re&&Re.replace)!==!0&&(j="PUSH"),{matches:fe,pendingActionResult:[Oe.route.id,$e,je.route.id]}}return{matches:fe,pendingActionResult:[je.route.id,$e]}}async function dn(K,X,ee,fe,ye,Ee,ke,Re,Ne,$e,je,Oe){let Ze=Ee||Y0(X,ke),ht=ke||Re||WO(Ze),Ct=!$&&!$e;if(ye){if(Ct){let Xt=Zt(Oe);De({navigation:Ze,...Xt!==void 0?{actionData:Xt}:{}},{flushSync:je})}let Fe=await aa(ee,X.pathname,K.signal);if(Fe.type==="aborted")return{shortCircuited:!0};if(Fe.type==="error"){if(Fe.partialMatches.length===0){let{matches:Ui,route:Qn}=Ym(o);return{matches:Ui,loaderData:{},errors:{[Qn.id]:Fe.error}}}let Xt=yo(Fe.partialMatches).route.id;return{matches:Fe.partialMatches,loaderData:{},errors:{[Xt]:Fe.error}}}else if(Fe.matches)ee=Fe.matches;else{let{error:Xt,notFoundMatches:Ui,route:Qn}=Ua(X.pathname);return{matches:Ui,loaderData:{},errors:{[Qn.id]:Xt}}}}let wt=u||o,{dsMatches:Ye,revalidatingFetchers:xt}=LO(K,fe,i,a,t.history,D,ee,ht,X,$e?[]:r,$e===!0,ve,we,me,oe,H,wt,f,t.patchRoutesOnNavigation!=null,Oe);if(pe=++re,!t.dataStrategy&&!Ye.some(Fe=>Fe.shouldLoad)&&!Ye.some(Fe=>Fe.route.unstable_middleware)&&xt.length===0){let Fe=ra();return Ke(X,{matches:ee,loaderData:{},errors:Oe&&Qr(Oe[1])?{[Oe[0]]:Oe[1].error}:null,...KO(Oe),...Fe?{fetchers:new Map(D.fetchers)}:{}},{flushSync:je}),{shortCircuited:!0}}if(Ct){let Fe={};if(!ye){Fe.navigation=Ze;let Xt=Zt(Oe);Xt!==void 0&&(Fe.actionData=Xt)}xt.length>0&&(Fe.fetchers=Ps(xt)),De(Fe,{flushSync:je})}xt.forEach(Fe=>{li(Fe.key),Fe.controller&&G.set(Fe.key,Fe.controller)});let Tr=()=>xt.forEach(Fe=>li(Fe.key));M&&M.signal.addEventListener("abort",Tr);let{loaderResults:Xn,fetcherResults:Ln}=await Ns(Ye,xt,K,fe);if(K.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Tr),xt.forEach(Fe=>G.delete(Fe.key));let br=Xm(Xn);if(br)return await Mi(K,br.result,!0,{replace:Ne}),{shortCircuited:!0};if(br=Xm(Ln),br)return H.add(br.key),await Mi(K,br.result,!0,{replace:Ne}),{shortCircuited:!0};let{loaderData:Ms,errors:Ur}=FO(D,ee,Xn,Oe,xt,Ln);$e&&D.errors&&(Ur={...D.errors,...Ur});let fi=ra(),Vr=ia(pe),_r=fi||Vr||xt.length>0;return{matches:ee,loaderData:Ms,errors:Ur,..._r?{fetchers:new Map(D.fetchers)}:{}}}function Zt(K){if(K&&!Qr(K[1]))return{[K[0]]:K[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function Ps(K){return K.forEach(X=>{let ee=D.fetchers.get(X.key),fe=oh(void 0,ee?ee.data:void 0);D.fetchers.set(X.key,fe)}),new Map(D.fetchers)}async function Go(K,X,ee,fe){li(K);let ye=(fe&&fe.flushSync)===!0,Ee=u||o,ke=Q_(D.location,D.matches,f,ee,X,fe?.relative),Re=go(Ee,ke,f),Ne=vr(Re,Ee,ke);if(Ne.active&&Ne.matches&&(Re=Ne.matches),!Re){nt(K,X,Oi(404,{pathname:ke}),{flushSync:ye});return}let{path:$e,submission:je,error:Oe}=MO(!0,ke,fe);if(Oe){nt(K,X,Oe,{flushSync:ye});return}let Ze=t.unstable_getContext?await t.unstable_getContext():new kO,ht=(fe&&fe.preventScrollReset)===!0;if(je&&jr(je.formMethod)){await Rs(K,X,$e,Re,Ze,Ne.active,ye,ht,je);return}oe.set(K,{routeId:X,path:$e}),await Ma(K,X,$e,Re,Ze,Ne.active,ye,ht,je)}async function Rs(K,X,ee,fe,ye,Ee,ke,Re,Ne){js(),oe.delete(K);let $e=D.fetchers.get(K);_t(K,E5(Ne,$e),{flushSync:ke});let je=new AbortController,Oe=lc(t.history,ee,je.signal,Ne);if(Ee){let $t=await aa(fe,new URL(Oe.url).pathname,Oe.signal,K);if($t.type==="aborted")return;if($t.type==="error"){nt(K,X,$t.error,{flushSync:ke});return}else if($t.matches)fe=$t.matches;else{nt(K,X,Oi(404,{pathname:ee}),{flushSync:ke});return}}let Ze=xp(fe,ee);if(!Ze.route.action&&!Ze.route.lazy){let $t=Oi(405,{method:Ne.formMethod,pathname:ee,routeId:X});nt(K,X,$t,{flushSync:ke});return}G.set(K,je);let ht=re,Ct=vc(i,a,Oe,fe,Ze,r,ye),Ye=(await oi(Oe,Ct,ye,K))[Ze.route.id];if(Oe.signal.aborted){G.get(K)===je&&G.delete(K);return}if(me.has(K)){if(Nl(Ye)||Qr(Ye)){_t(K,fo(void 0));return}}else{if(Nl(Ye))if(G.delete(K),pe>ht){_t(K,fo(void 0));return}else return H.add(K),_t(K,oh(Ne)),Mi(Oe,Ye,!1,{fetcherSubmission:Ne,preventScrollReset:Re});if(Qr(Ye)){nt(K,X,Ye.error);return}}let xt=D.navigation.location||D.location,Tr=lc(t.history,xt,je.signal),Xn=u||o,Ln=D.navigation.state!=="idle"?go(Xn,D.navigation.location,f):D.matches;ut(Ln,"Didn't find any matches after fetcher action");let br=++re;xe.set(K,br);let Ms=oh(Ne,Ye.data);D.fetchers.set(K,Ms);let{dsMatches:Ur,revalidatingFetchers:fi}=LO(Tr,ye,i,a,t.history,D,Ln,Ne,xt,r,!1,ve,we,me,oe,H,Xn,f,t.patchRoutesOnNavigation!=null,[Ze.route.id,Ye]);fi.filter($t=>$t.key!==K).forEach($t=>{let Vi=$t.key,Ls=D.fetchers.get(Vi),Us=oh(void 0,Ls?Ls.data:void 0);D.fetchers.set(Vi,Us),li(Vi),$t.controller&&G.set(Vi,$t.controller)}),De({fetchers:new Map(D.fetchers)});let Vr=()=>fi.forEach($t=>li($t.key));je.signal.addEventListener("abort",Vr);let{loaderResults:_r,fetcherResults:Fe}=await Ns(Ur,fi,Tr,ye);if(je.signal.aborted)return;if(je.signal.removeEventListener("abort",Vr),xe.delete(K),G.delete(K),fi.forEach($t=>G.delete($t.key)),D.fetchers.has(K)){let $t=fo(Ye.data);D.fetchers.set(K,$t)}let Xt=Xm(_r);if(Xt)return Mi(Tr,Xt.result,!1,{preventScrollReset:Re});if(Xt=Xm(Fe),Xt)return H.add(Xt.key),Mi(Tr,Xt.result,!1,{preventScrollReset:Re});let{loaderData:Ui,errors:Qn}=FO(D,Ln,_r,void 0,fi,Fe);ia(br),D.navigation.state==="loading"&&br>pe?(ut(j,"Expected pending action"),M&&M.abort(),Ke(D.navigation.location,{matches:Ln,loaderData:Ui,errors:Qn,fetchers:new Map(D.fetchers)})):(De({errors:Qn,loaderData:HO(D.loaderData,Ui,Ln,Qn),fetchers:new Map(D.fetchers)}),ve=!1)}async function Ma(K,X,ee,fe,ye,Ee,ke,Re,Ne){let $e=D.fetchers.get(K);_t(K,oh(Ne,$e?$e.data:void 0),{flushSync:ke});let je=new AbortController,Oe=lc(t.history,ee,je.signal);if(Ee){let xt=await aa(fe,new URL(Oe.url).pathname,Oe.signal,K);if(xt.type==="aborted")return;if(xt.type==="error"){nt(K,X,xt.error,{flushSync:ke});return}else if(xt.matches)fe=xt.matches;else{nt(K,X,Oi(404,{pathname:ee}),{flushSync:ke});return}}let Ze=xp(fe,ee);G.set(K,je);let ht=re,Ct=vc(i,a,Oe,fe,Ze,r,ye),Ye=(await oi(Oe,Ct,ye,K))[Ze.route.id];if(G.get(K)===je&&G.delete(K),!Oe.signal.aborted){if(me.has(K)){_t(K,fo(void 0));return}if(Nl(Ye))if(pe>ht){_t(K,fo(void 0));return}else{H.add(K),await Mi(Oe,Ye,!1,{preventScrollReset:Re});return}if(Qr(Ye)){nt(K,X,Ye.error);return}_t(K,fo(Ye.data))}}async function Mi(K,X,ee,{submission:fe,fetcherSubmission:ye,preventScrollReset:Ee,replace:ke}={}){X.response.headers.has("X-Remix-Revalidate")&&(ve=!0);let Re=X.response.headers.get("Location");ut(Re,"Expected a Location header on the redirect Response"),Re=zO(Re,new URL(K.url),f);let Ne=Lh(D.location,Re,{_isRedirect:!0});if(n){let Ct=!1;if(X.response.headers.has("X-Remix-Reload-Document"))Ct=!0;else if(jx(Re)){const wt=Zj(Re,!0);Ct=wt.origin!==e.location.origin||ji(wt.pathname,f)==null}if(Ct){ke?e.location.replace(Re):e.location.assign(Re);return}}M=null;let $e=ke===!0||X.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:je,formAction:Oe,formEncType:Ze}=D.navigation;!fe&&!ye&&je&&Oe&&Ze&&(fe=WO(D.navigation));let ht=fe||ye;if(e5.has(X.response.status)&&ht&&jr(ht.formMethod))await et($e,Ne,{submission:{...ht,formAction:Re},preventScrollReset:Ee||k,enableViewTransition:ee?V:void 0});else{let Ct=Y0(Ne,fe);await et($e,Ne,{overrideNavigation:Ct,fetcherSubmission:ye,preventScrollReset:Ee||k,enableViewTransition:ee?V:void 0})}}async function oi(K,X,ee,fe){let ye,Ee={};try{ye=await f5(h,K,X,fe,ee,!1)}catch(ke){return X.filter(Re=>Re.shouldLoad).forEach(Re=>{Ee[Re.route.id]={type:"error",error:ke}}),Ee}if(K.signal.aborted)return Ee;for(let[ke,Re]of Object.entries(ye))if(_5(Re)){let Ne=Re.result;Ee[ke]={type:"redirect",response:p5(Ne,K,ke,X,f)}}else Ee[ke]=await m5(Re);return Ee}async function Ns(K,X,ee,fe){let ye=oi(ee,K,fe,null),Ee=Promise.all(X.map(async Ne=>{if(Ne.matches&&Ne.match&&Ne.request&&Ne.controller){let je=(await oi(Ne.request,Ne.matches,fe,Ne.key))[Ne.match.route.id];return{[Ne.key]:je}}else return Promise.resolve({[Ne.key]:{type:"error",error:Oi(404,{pathname:Ne.path})}})})),ke=await ye,Re=(await Ee).reduce((Ne,$e)=>Object.assign(Ne,$e),{});return{loaderResults:ke,fetcherResults:Re}}function js(){ve=!0,oe.forEach((K,X)=>{G.has(X)&&we.add(X),li(X)})}function _t(K,X,ee={}){D.fetchers.set(K,X),De({fetchers:new Map(D.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function nt(K,X,ee,fe={}){let ye=yo(D.matches,X);mn(K),De({errors:{[ye.route.id]:ee},fetchers:new Map(D.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function lr(K){return ie.set(K,(ie.get(K)||0)+1),me.has(K)&&me.delete(K),D.fetchers.get(K)||t5}function mn(K){let X=D.fetchers.get(K);G.has(K)&&!(X&&X.state==="loading"&&xe.has(K))&&li(K),oe.delete(K),xe.delete(K),H.delete(K),me.delete(K),we.delete(K),D.fetchers.delete(K)}function fu(K){let X=(ie.get(K)||0)-1;X<=0?(ie.delete(K),me.add(K)):ie.set(K,X),De({fetchers:new Map(D.fetchers)})}function li(K){let X=G.get(K);X&&(X.abort(),G.delete(K))}function na(K){for(let X of K){let ee=lr(X),fe=fo(ee.data);D.fetchers.set(X,fe)}}function ra(){let K=[],X=!1;for(let ee of H){let fe=D.fetchers.get(ee);ut(fe,`Expected fetcher: ${ee}`),fe.state==="loading"&&(H.delete(ee),K.push(ee),X=!0)}return na(K),X}function ia(K){let X=[];for(let[ee,fe]of xe)if(fe<K){let ye=D.fetchers.get(ee);ut(ye,`Expected fetcher: ${ee}`),ye.state==="loading"&&(li(ee),xe.delete(ee),X.push(ee))}return na(X),X.length>0}function Lr(K,X){let ee=D.blockers.get(K)||sh;return Ae.get(K)!==X&&Ae.set(K,X),ee}function La(K){D.blockers.delete(K),Ae.delete(K)}function ui(K,X){let ee=D.blockers.get(K)||sh;ut(ee.state==="unblocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="proceeding"||ee.state==="blocked"&&X.state==="unblocked"||ee.state==="proceeding"&&X.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${X.state}`);let fe=new Map(D.blockers);fe.set(K,X),De({blockers:fe})}function Ds({currentLocation:K,nextLocation:X,historyAction:ee}){if(Ae.size===0)return;Ae.size>1&&hn(!1,"A router only supports one blocker at a time");let fe=Array.from(Ae.entries()),[ye,Ee]=fe[fe.length-1],ke=D.blockers.get(ye);if(!(ke&&ke.state==="proceeding")&&Ee({currentLocation:K,nextLocation:X,historyAction:ee}))return ye}function Ua(K){let X=Oi(404,{pathname:K}),ee=u||o,{matches:fe,route:ye}=Ym(ee);return{notFoundMatches:fe,route:ye,error:X}}function Wo(K,X,ee){if(b=K,x=X,w=ee||null,!S&&D.navigation===W0){S=!0;let fe=ks(D.location,D.matches);fe!=null&&De({restoreScrollPosition:fe})}return()=>{b=null,x=null,w=null}}function ci(K,X){return w&&w(K,X.map(fe=>NV(fe,D.loaderData)))||K.key}function Li(K,X){if(b&&x){let ee=ci(K,X);b[ee]=x()}}function ks(K,X){if(b){let ee=ci(K,X),fe=b[ee];if(typeof fe=="number")return fe}return null}function vr(K,X,ee){if(t.patchRoutesOnNavigation)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:wp(X,ee,f,!0)}}else return{active:!0,matches:wp(X,ee,f,!0)||[]};return{active:!1,matches:null}}async function aa(K,X,ee,fe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:K};let ye=K;for(;;){let Ee=u==null,ke=u||o,Re=a;try{await t.patchRoutesOnNavigation({signal:ee,path:X,matches:ye,fetcherKey:fe,patch:(je,Oe)=>{ee.aborted||UO(je,Oe,ke,Re,i,!1)}})}catch(je){return{type:"error",error:je,partialMatches:ye}}finally{Ee&&!ee.aborted&&(o=[...o])}if(ee.aborted)return{type:"aborted"};let Ne=go(ke,X,f);if(Ne)return{type:"success",matches:Ne};let $e=wp(ke,X,f,!0);if(!$e||ye.length===$e.length&&ye.every((je,Oe)=>je.route.id===$e[Oe].route.id))return{type:"success",matches:null};ye=$e}}function sa(K){a={},u=Uh(K,i,void 0,a)}function Is(K,X,ee=!1){let fe=u==null;UO(K,X,u||o,a,i,ee),fe&&(o=[...o],De({}))}return U={get basename(){return f},get future(){return d},get state(){return D},get routes(){return o},get window(){return e},initialize:nn,subscribe:_e,enableScrollRestoration:Wo,navigate:ge,fetch:Go,revalidate:Yt,createHref:K=>t.history.createHref(K),encodeLocation:K=>t.history.encodeLocation(K),getFetcher:lr,deleteFetcher:fu,dispose:Tt,getBlocker:Lr,deleteBlocker:La,patchRoutes:Is,_internalFetchControllers:G,_internalSetRoutes:sa,_internalSetStateDoNotUseOrYouWillBreakYourApp(K){De(K)}},U}function a5(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Q_(t,e,n,r,i,a){let o,u;if(i){o=[];for(let h of e)if(o.push(h),h.route.id===i){u=h;break}}else o=e,u=e[e.length-1];let f=Nx(r||".",Rx(o),ji(t.pathname,n)||t.pathname,a==="path");if(r==null&&(f.search=t.search,f.hash=t.hash),(r==null||r===""||r===".")&&u){let h=Dx(f.search);if(u.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let d=new URLSearchParams(f.search),p=d.getAll("index");d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let y=d.toString();f.search=y?`?${y}`:""}}return n!=="/"&&(f.pathname=FV({basename:n,pathname:f.pathname})),Co(f)}function MO(t,e,n){if(!n||!a5(n))return{path:e};if(n.formMethod&&!w5(n.formMethod))return{path:e,error:Oi(405,{method:n.formMethod})};let r=()=>({path:e,error:Oi(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),o=fD(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!jr(a))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[b,w])=>`${y}${b}=${w}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!jr(a))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}ut(typeof FormData=="function","FormData is not available in this environment");let u,f;if(n.formData)u=ew(n.formData),f=n.formData;else if(n.body instanceof FormData)u=ew(n.body),f=n.body;else if(n.body instanceof URLSearchParams)u=n.body,f=qO(u);else if(n.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(n.body),f=qO(u)}catch{return r()}let h={formMethod:a,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(jr(h.formMethod))return{path:e,submission:h};let d=ws(e);return t&&d.search&&Dx(d.search)&&u.append("index",""),d.search=`?${u}`,{path:Co(d),submission:h}}function LO(t,e,n,r,i,a,o,u,f,h,d,p,y,b,w,x,S,A,R,C){let L=C?Qr(C[1])?C[1].error:C[1].data:void 0,U=i.createURL(a.location),D=i.createURL(f),j;if(d&&a.errors){let $=Object.keys(a.errors)[0];j=o.findIndex(ve=>ve.route.id===$)}else if(C&&Qr(C[1])){let $=C[0];j=o.findIndex(ve=>ve.route.id===$)-1}let k=C?C[1].statusCode:void 0,M=k&&k>=400,V={currentUrl:U,currentParams:a.matches[0]?.params||{},nextUrl:D,nextParams:o[0].params,...u,actionResult:L,actionStatus:k},z=o.map(($,ve)=>{let{route:we}=$,G=null;if(j!=null&&ve>j?G=!1:we.lazy?G=!0:we.loader==null?G=!1:d?G=J_(we,a.loaderData,a.errors):s5(a.loaderData,a.matches[ve],$)&&(G=!0),G!==null)return Z_(n,r,t,$,h,e,G);let re=M?!1:p||U.pathname+U.search===D.pathname+D.search||U.search!==D.search||o5(a.matches[ve],$),pe={...V,defaultShouldRevalidate:re},xe=Ip($,pe);return Z_(n,r,t,$,h,e,xe,pe)}),q=[];return w.forEach(($,ve)=>{if(d||!o.some(ie=>ie.route.id===$.routeId)||b.has(ve))return;let we=a.fetchers.get(ve),G=we&&we.state!=="idle"&&we.data===void 0,re=go(S,$.path,A);if(!re){if(R&&G)return;q.push({key:ve,routeId:$.routeId,path:$.path,matches:null,match:null,request:null,controller:null});return}if(x.has(ve))return;let pe=xp(re,$.path),xe=new AbortController,H=lc(i,$.path,xe.signal),oe=null;if(y.has(ve))y.delete(ve),oe=vc(n,r,H,re,pe,h,e);else if(G)p&&(oe=vc(n,r,H,re,pe,h,e));else{let ie={...V,defaultShouldRevalidate:M?!1:p};Ip(pe,ie)&&(oe=vc(n,r,H,re,pe,h,e,ie))}oe&&q.push({key:ve,routeId:$.routeId,path:$.path,matches:oe,match:pe,request:H,controller:xe})}),{dsMatches:z,revalidatingFetchers:q}}function J_(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function s5(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function o5(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Ip(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function UO(t,e,n,r,i,a){let o;if(t){let h=r[t];ut(h,`No route found to patch children into: routeId = ${t}`),h.children||(h.children=[]),o=h.children}else o=n;let u=[],f=[];if(e.forEach(h=>{let d=o.find(p=>sD(h,p));d?f.push({existingRoute:d,newRoute:h}):u.push(h)}),u.length>0){let h=Uh(u,i,[t||"_","patch",String(o?.length||"0")],r);o.push(...h)}if(a&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:d,newRoute:p}=f[h],y=d,[b]=Uh([p],i,[],{},!0);Object.assign(y,{element:b.element?b.element:y.element,errorElement:b.errorElement?b.errorElement:y.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:y.hydrateFallbackElement})}}function sD(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>sD(n,i))):!1}var VO=new WeakMap,oD=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(ut(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[t];if(!a)return;let o=VO.get(i);o||(o={},VO.set(i,o));let u=o[t];if(u)return u;let f=(async()=>{let h=OV(t),p=i[t]!==void 0&&t!=="hasErrorBoundary";if(h)hn(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),o[t]=Promise.resolve();else if(p)hn(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let y=await a();y!=null&&(Object.assign(i,{[t]:y}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(y=>y===void 0)&&(i.lazy=void 0))})();return o[t]=f,f},$O=new WeakMap;function l5(t,e,n,r,i){let a=n[t.id];if(ut(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let d=$O.get(a);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let p=(async()=>{ut(typeof t.lazy=="function","No lazy route function found");let y=await t.lazy(),b={};for(let w in y){let x=y[w];if(x===void 0)continue;let S=PV(w),R=a[w]!==void 0&&w!=="hasErrorBoundary";S?hn(!S,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?hn(!R,`Route "${a.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):b[w]=x}Object.assign(a,b),Object.assign(a,{...r(a),lazy:void 0})})();return $O.set(a,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(t.lazy),u=[],f;for(let d of o){if(i&&i.includes(d))continue;let p=oD({key:d,route:t,manifest:n,mapRouteProperties:r});p&&(u.push(p),d===e&&(f=p))}let h=u.length>0?Promise.all(u).then(()=>{}):void 0;return h?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}async function BO(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,a)=>{n[e[a].route.id]=i}),n}async function u5(t){return t.matches.some(e=>e.route.unstable_middleware)?lD(t,()=>BO(t)):BO(t)}function lD(t,e){return c5(t,e,r=>r,v5,n);function n(r,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:r}}));{let{matches:o}=t,u=Math.min(o.findIndex(h=>h.route.id===i)||0,o.findIndex(h=>h.unstable_shouldCallHandler())||0),f=yo(o,o[u].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:r}})}}}async function c5(t,e,n,r,i){let{matches:a,request:o,params:u,context:f}=t,h=a.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(y=>[p.route.id,y]):[]);return await uD({request:o,params:u,context:f},h,e,n,r,i)}async function uD(t,e,n,r,i,a,o=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason??new Error(`Request aborted: ${u.method} ${u.url}`);let f=e[o];if(!f)return await n();let[h,d]=f,p,y=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await uD(t,e,n,r,i,a,o+1)},p.value}catch(b){return p={value:await a(b,h,p)},p.value}};try{let b=await d(t,y),w=b!=null?r(b):void 0;return i(w)?w:p?w??p.value:(p={value:await y()},p.value)}catch(b){return await a(b,h,p)}}function cD(t,e,n,r,i){let a=oD({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),o=l5(r.route,jr(n.method)?"action":"loader",e,t,i);return{middleware:a,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function Z_(t,e,n,r,i,a,o,u=null){let f=!1,h=cD(t,e,n,r,i);return{...r,_lazyPromises:h,shouldLoad:o,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(d){return f=!0,u?typeof d=="boolean"?Ip(r,{...u,defaultShouldRevalidate:d}):Ip(r,u):o},resolve(d){return f||o||d&&!jr(n.method)&&(r.route.lazy||r.route.loader)?h5({request:n,match:r,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:d,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function vc(t,e,n,r,i,a,o,u=null){return r.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:cD(t,e,n,f,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Z_(t,e,n,f,a,o,!0,u))}async function f5(t,e,n,r,i,a){n.some(h=>h._lazyPromises?.middleware)&&await Promise.all(n.map(h=>h._lazyPromises?.middleware));let o={request:e,params:n[0].params,context:i,matches:n},f=await t({...o,fetcherKey:r,unstable_runClientMiddleware:h=>{let d=o;return lD(d,()=>h({...d,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return f}async function h5({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:a}){let o,u,f=jr(t.method),h=f?"action":"loader",d=p=>{let y,b=new Promise((S,A)=>y=A);u=()=>y(),t.signal.addEventListener("abort",u);let w=S=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):p({request:t,params:e.params,context:a},...S!==void 0?[S]:[]),x=(async()=>{try{return{type:"data",result:await(i?i(A=>w(A)):w())}}catch(S){return{type:"error",result:S}}})();return Promise.race([x,b])};try{let p=f?e.route.action:e.route.loader;if(n||r)if(p){let y,[b]=await Promise.all([d(p).catch(w=>{y=w}),n,r]);if(y!==void 0)throw y;o=b}else{await n;let y=f?e.route.action:e.route.loader;if(y)[o]=await Promise.all([d(y),r]);else if(h==="action"){let b=new URL(t.url),w=b.pathname+b.search;throw Oi(405,{method:t.method,pathname:w,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(p)o=await d(p);else{let y=new URL(t.url),b=y.pathname+y.search;throw Oi(404,{pathname:b})}}catch(p){return{type:"error",result:p}}finally{u&&t.signal.removeEventListener("abort",u)}return o}async function d5(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function m5(t){let{result:e,type:n}=t;if(hD(e)){let r;try{r=await d5(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new kp(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?GO(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new kp(e.init?.status||500,void 0,e.data),statusCode:Vh(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Vh(e)?e.status:void 0}:GO(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function p5(t,e,n,r,i){let a=t.headers.get("Location");if(ut(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!jx(a)){let o=r.slice(0,r.findIndex(u=>u.route.id===n)+1);a=Q_(new URL(e.url),o,i,a),t.headers.set("Location",a)}return t}function zO(t,e,n){if(jx(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=ji(i.pathname,n)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function lc(t,e,n,r){let i=t.createURL(fD(e)).toString(),a={signal:n};if(r&&jr(r.formMethod)){let{formMethod:o,formEncType:u}=r;a.method=o.toUpperCase(),u==="application/json"?(a.headers=new Headers({"Content-Type":u}),a.body=JSON.stringify(r.json)):u==="text/plain"?a.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?a.body=ew(r.formData):a.body=r.formData}return new Request(i,a)}function ew(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function qO(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function g5(t,e,n,r=!1,i=!1){let a={},o=null,u,f=!1,h={},d=n&&Qr(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let y=p.route.id,b=e[y];if(ut(!Nl(b),"Cannot handle redirect results in processLoaderData"),Qr(b)){let w=b.error;if(d!==void 0&&(w=d,d=void 0),o=o||{},i)o[y]=w;else{let x=yo(t,y);o[x.route.id]==null&&(o[x.route.id]=w)}r||(a[y]=aD),f||(f=!0,u=Vh(b.error)?b.error.status:500),b.headers&&(h[y]=b.headers)}else a[y]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(u=b.statusCode),b.headers&&(h[y]=b.headers)}),d!==void 0&&n&&(o={[n[0]]:d},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:o,statusCode:u||200,loaderHeaders:h}}function FO(t,e,n,r,i,a){let{loaderData:o,errors:u}=g5(e,n,r);return i.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:d,controller:p}=f;if(p&&p.signal.aborted)return;let y=a[h];if(ut(y,"Did not find corresponding fetcher result"),Qr(y)){let b=yo(t.matches,d?.route.id);u&&u[b.route.id]||(u={...u,[b.route.id]:y.error}),t.fetchers.delete(h)}else if(Nl(y))ut(!1,"Unhandled fetcher revalidation redirect");else{let b=fo(y.data);t.fetchers.set(h,b)}}),{loaderData:o,errors:u}}function HO(t,e,n,r){let i=Object.entries(e).filter(([,a])=>a!==aD).reduce((a,[o,u])=>(a[o]=u,a),{});for(let a of n){let o=a.route.id;if(!e.hasOwnProperty(o)&&t.hasOwnProperty(o)&&a.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function KO(t){return t?Qr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function yo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ym(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Oi(t,{pathname:e,routeId:n,method:r,type:i,message:a}={}){let o="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(o="Bad Request",r&&e&&n?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):t===403?(o="Forbidden",u=`Route "${n}" does not match URL "${e}"`):t===404?(o="Not Found",u=`No route matches URL "${e}"`):t===405&&(o="Method Not Allowed",r&&e&&n?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new kp(t||500,o,new Error(u),!0)}function Xm(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Nl(i))return{key:r,result:i}}}function fD(t){let e=typeof t=="string"?ws(t):t;return Co({...e,hash:""})}function y5(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function v5(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&b5(n))}function b5(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function _5(t){return hD(t.result)&&ZV.has(t.result.status)}function Qr(t){return t.type==="error"}function Nl(t){return(t&&t.type)==="redirect"}function GO(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function hD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function w5(t){return JV.has(t.toUpperCase())}function jr(t){return XV.has(t.toUpperCase())}function Dx(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function xp(t,e){let n=typeof e=="string"?ws(e).search:e.search;if(t[t.length-1].route.index&&Dx(n||""))return t[t.length-1];let r=nD(t);return r[r.length-1]}function WO(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:a,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Y0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function x5(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function oh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function E5(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function fo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function S5(t,e){try{let n=t.sessionStorage.getItem(iD);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function T5(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(iD,JSON.stringify(n))}catch(r){hn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function A5(){let t,e,n=new Promise((r,i)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Zl=O.createContext(null);Zl.displayName="DataRouter";var ud=O.createContext(null);ud.displayName="DataRouterState";O.createContext(!1);var kx=O.createContext({isTransitioning:!1});kx.displayName="ViewTransition";var dD=O.createContext(new Map);dD.displayName="Fetchers";var O5=O.createContext(null);O5.displayName="Await";var ka=O.createContext(null);ka.displayName="Navigation";var Bg=O.createContext(null);Bg.displayName="Location";var xs=O.createContext({outlet:null,matches:[],isDataRoute:!1});xs.displayName="Route";var Ix=O.createContext(null);Ix.displayName="RouteError";function C5(t,{relative:e}={}){ut(cd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(ka),{hash:i,pathname:a,search:o}=hd(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:xa([n,a])),r.createHref({pathname:u,search:o,hash:i})}function cd(){return O.useContext(Bg)!=null}function Lo(){return ut(cd(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Bg).location}var mD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pD(t){O.useContext(ka).static||O.useLayoutEffect(t)}function fd(){let{isDataRoute:t}=O.useContext(xs);return t?$5():P5()}function P5(){ut(cd(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Zl),{basename:e,navigator:n}=O.useContext(ka),{matches:r}=O.useContext(xs),{pathname:i}=Lo(),a=JSON.stringify(Rx(r)),o=O.useRef(!1);return pD(()=>{o.current=!0}),O.useCallback((f,h={})=>{if(hn(o.current,mD),!o.current)return;if(typeof f=="number"){n.go(f);return}let d=Nx(f,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:xa([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,a,i,t])}O.createContext(null);function hd(t,{relative:e}={}){let{matches:n}=O.useContext(xs),{pathname:r}=Lo(),i=JSON.stringify(Rx(n));return O.useMemo(()=>Nx(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function R5(t,e,n,r,i){ut(cd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(ka),{matches:o}=O.useContext(xs),u=o[o.length-1],f=u?u.params:{},h=u?u.pathname:"/",d=u?u.pathnameBase:"/",p=u&&u.route;{let R=p&&p.path||"";yD(h,!p||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let y=Lo(),b;b=y;let w=b.pathname||"/",x=w;if(d!=="/"){let R=d.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=go(t,{pathname:x});return hn(p||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),hn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),I5(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:xa([d,a.encodeLocation?a.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?d:xa([d,a.encodeLocation?a.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,n,r,i)}function N5(){let t=gD(),e=Vh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,o)}var j5=O.createElement(N5,null),D5=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?O.createElement(xs.Provider,{value:this.props.routeContext},O.createElement(Ix.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function k5({routeContext:t,match:e,children:n}){let r=O.useContext(Zl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(xs.Provider,{value:t},n)}function I5(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n?.errors;if(o!=null){let h=a.findIndex(d=>d.route.id&&o?.[d.route.id]!==void 0);ut(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,f=-1;if(n)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(f=h),d.route.id){let{loaderData:p,errors:y}=n,b=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||b){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,d,p)=>{let y,b=!1,w=null,x=null;n&&(y=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||j5,u&&(f<0&&p===0?(yD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):f===p&&(b=!0,x=d.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,p+1)),A=()=>{let R;return y?R=w:b?R=x:d.route.Component?R=O.createElement(d.route.Component,null):d.route.element?R=d.route.element:R=h,O.createElement(k5,{match:d,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:R})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?O.createElement(D5,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):A()},null)}function Mx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M5(t){let e=O.useContext(Zl);return ut(e,Mx(t)),e}function L5(t){let e=O.useContext(ud);return ut(e,Mx(t)),e}function U5(t){let e=O.useContext(xs);return ut(e,Mx(t)),e}function Lx(t){let e=U5(t),n=e.matches[e.matches.length-1];return ut(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function V5(){return Lx("useRouteId")}function gD(){let t=O.useContext(Ix),e=L5("useRouteError"),n=Lx("useRouteError");return t!==void 0?t:e.errors?.[n]}function $5(){let{router:t}=M5("useNavigate"),e=Lx("useNavigate"),n=O.useRef(!1);return pD(()=>{n.current=!0}),O.useCallback(async(i,a={})=>{hn(n.current,mD),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var YO={};function yD(t,e,n){!e&&!YO[t]&&(YO[t]=!0,hn(!1,n))}var XO={};function QO(t,e){!t&&!XO[e]&&(XO[e]=!0,console.warn(e))}function B5(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&hn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:O.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&hn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:O.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&hn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:O.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var z5=["HydrateFallback","hydrateFallbackElement"],q5=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function F5({router:t,flushSync:e,unstable_onError:n}){let[r,i]=O.useState(t.state),[a,o]=O.useState(),[u,f]=O.useState({isTransitioning:!1}),[h,d]=O.useState(),[p,y]=O.useState(),[b,w]=O.useState(),x=O.useRef(new Map),S=O.useCallback(U=>{i(D=>(U.errors&&n&&Object.entries(U.errors).forEach(([j,k])=>{D.errors?.[j]!==k&&n(k)}),U))},[n]),A=O.useCallback((U,{deletedFetchers:D,flushSync:j,viewTransitionOpts:k})=>{U.fetchers.forEach((V,z)=>{V.data!==void 0&&x.current.set(z,V.data)}),D.forEach(V=>x.current.delete(V)),QO(j===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(QO(k==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!M){e&&j?e(()=>S(U)):O.startTransition(()=>S(U));return}if(e&&j){e(()=>{p&&(h&&h.resolve(),p.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let V=t.window.document.startViewTransition(()=>{e(()=>S(U))});V.finished.finally(()=>{e(()=>{d(void 0),y(void 0),o(void 0),f({isTransitioning:!1})})}),e(()=>y(V));return}p?(h&&h.resolve(),p.skipTransition(),w({state:U,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(o(U),f({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[t.window,e,p,h,S]);O.useLayoutEffect(()=>t.subscribe(A),[t,A]),O.useEffect(()=>{u.isTransitioning&&!u.flushSync&&d(new q5)},[u]),O.useEffect(()=>{if(h&&a&&t.window){let U=a,D=h.promise,j=t.window.document.startViewTransition(async()=>{O.startTransition(()=>S(U)),await D});j.finished.finally(()=>{d(void 0),y(void 0),o(void 0),f({isTransitioning:!1})}),y(j)}},[a,h,t.window,S]),O.useEffect(()=>{h&&a&&r.location.key===a.location.key&&h.resolve()},[h,p,r.location,a]),O.useEffect(()=>{!u.isTransitioning&&b&&(o(b.state),f({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),w(void 0))},[u.isTransitioning,b]);let R=O.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:U=>t.navigate(U),push:(U,D,j)=>t.navigate(U,{state:D,preventScrollReset:j?.preventScrollReset}),replace:(U,D,j)=>t.navigate(U,{replace:!0,state:D,preventScrollReset:j?.preventScrollReset})}),[t]),C=t.basename||"/",L=O.useMemo(()=>({router:t,navigator:R,static:!1,basename:C,unstable_onError:n}),[t,R,C,n]);return O.createElement(O.Fragment,null,O.createElement(Zl.Provider,{value:L},O.createElement(ud.Provider,{value:r},O.createElement(dD.Provider,{value:x.current},O.createElement(kx.Provider,{value:u},O.createElement(G5,{basename:C,location:r.location,navigationType:r.historyAction,navigator:R},O.createElement(H5,{routes:t.routes,future:t.future,state:r,unstable_onError:n})))))),null)}var H5=O.memo(K5);function K5({routes:t,future:e,state:n,unstable_onError:r}){return R5(t,void 0,n,r,e)}function G5({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){ut(!cd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=ws(n));let{pathname:f="/",search:h="",hash:d="",state:p=null,key:y="default"}=n,b=O.useMemo(()=>{let w=ji(f,o);return w==null?null:{location:{pathname:w,search:h,hash:d,state:p,key:y},navigationType:r}},[o,f,h,d,p,y,r]);return hn(b!=null,`<Router basename="${o}"> is not able to match the URL "${f}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:O.createElement(ka.Provider,{value:u},O.createElement(Bg.Provider,{children:e,value:b}))}var Ep="get",Sp="application/x-www-form-urlencoded";function zg(t){return t!=null&&typeof t.tagName=="string"}function W5(t){return zg(t)&&t.tagName.toLowerCase()==="button"}function Y5(t){return zg(t)&&t.tagName.toLowerCase()==="form"}function X5(t){return zg(t)&&t.tagName.toLowerCase()==="input"}function Q5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function J5(t,e){return t.button===0&&(!e||e==="_self")&&!Q5(t)}var Qm=null;function Z5(){if(Qm===null)try{new FormData(document.createElement("form"),0),Qm=!1}catch{Qm=!0}return Qm}var e$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X0(t){return t!=null&&!e$.has(t)?(hn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sp}"`),null):t}function t$(t,e){let n,r,i,a,o;if(Y5(t)){let u=t.getAttribute("action");r=u?ji(u,e):null,n=t.getAttribute("method")||Ep,i=X0(t.getAttribute("enctype"))||Sp,a=new FormData(t)}else if(W5(t)||X5(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?ji(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Ep,i=X0(t.getAttribute("formenctype"))||X0(u.getAttribute("enctype"))||Sp,a=new FormData(u,t),!Z5()){let{name:h,type:d,value:p}=t;if(d==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,p)}}else{if(zg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ep,r=null,i=Sp,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ux(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function n$(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ji(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function r$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function i$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function a$(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await r$(a,n);return o.links?o.links():[]}return[]}));return u$(r.flat(1).filter(i$).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function JO(t,e,n,r,i,a){let o=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,h)=>o(f,h)||u(f,h)):a==="data"?e.filter((f,h)=>{let d=r.routes[f.route.id];if(!d||!d.hasLoader)return!1;if(o(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function s$(t,e,{includeHydrateFallback:n}={}){return o$(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function o$(t){return[...new Set(t)]}function l$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function u$(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(l$(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function vD(){let t=O.useContext(Zl);return Ux(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function c$(){let t=O.useContext(ud);return Ux(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vx=O.createContext(void 0);Vx.displayName="FrameworkContext";function bD(){let t=O.useContext(Vx);return Ux(t,"You must render this element inside a <HydratedRouter> element"),t}function f$(t,e){let n=O.useContext(Vx),[r,i]=O.useState(!1),[a,o]=O.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:d,onTouchStart:p}=e,y=O.useRef(null);O.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=A=>{A.forEach(R=>{o(R.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[t]),O.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:lh(u,b),onBlur:lh(f,w),onMouseEnter:lh(h,b),onMouseLeave:lh(d,w),onTouchStart:lh(p,b)}]:[!1,y,{}]}function lh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function h$({page:t,...e}){let{router:n}=vD(),r=O.useMemo(()=>go(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(m$,{page:t,matches:r,...e}):null}function d$(t){let{manifest:e,routeModules:n}=bD(),[r,i]=O.useState([]);return O.useEffect(()=>{let a=!1;return a$(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function m$({page:t,matches:e,...n}){let r=Lo(),{manifest:i,routeModules:a}=bD(),{basename:o}=vD(),{loaderData:u,matches:f}=c$(),h=O.useMemo(()=>JO(t,e,f,i,r,"data"),[t,e,f,i,r]),d=O.useMemo(()=>JO(t,e,f,i,r,"assets"),[t,e,f,i,r]),p=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,x=!1;if(e.forEach(A=>{let R=i.routes[A.route.id];!R||!R.hasLoader||(!h.some(C=>C.route.id===A.route.id)&&A.route.id in u&&a[A.route.id]?.shouldRevalidate||R.hasClientLoader?x=!0:w.add(A.route.id))}),w.size===0)return[];let S=n$(t,o,"data");return x&&w.size>0&&S.searchParams.set("_routes",e.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[S.pathname+S.search]},[o,u,r,i,h,e,t,a]),y=O.useMemo(()=>s$(d,i),[d,i]),b=d$(d);return O.createElement(O.Fragment,null,p.map(w=>O.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),y.map(w=>O.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:x})=>O.createElement("link",{key:w,nonce:n.nonce,...x})))}function p$(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _D=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_D&&(window.__reactRouterVersion="7.8.2")}catch{}function g$(t,e){return i5({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:EV({window:e?.window}),hydrationData:y$(),routes:t,mapRouteProperties:B5,hydrationRouteProperties:z5,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function y$(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:v$(t.errors)}),t}function v$(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new kp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let o=new a(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}var wD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bc=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:u,target:f,to:h,preventScrollReset:d,viewTransition:p,...y},b){let{basename:w}=O.useContext(ka),x=typeof h=="string"&&wD.test(h),S,A=!1;if(typeof h=="string"&&x&&(S=h,_D))try{let M=new URL(window.location.href),V=h.startsWith("//")?new URL(M.protocol+h):new URL(h),z=ji(V.pathname,w);V.origin===M.origin&&z!=null?h=z+V.search+V.hash:A=!0}catch{hn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=C5(h,{relative:i}),[C,L,U]=f$(r,y),D=x$(h,{replace:o,state:u,target:f,preventScrollReset:d,relative:i,viewTransition:p});function j(M){e&&e(M),M.defaultPrevented||D(M)}let k=O.createElement("a",{...y,...U,href:S||R,onClick:A||a?e:j,ref:p$(b,L),target:f,"data-discover":!x&&n==="render"?"true":void 0});return C&&!x?O.createElement(O.Fragment,null,k,O.createElement(h$,{page:R})):k});bc.displayName="Link";var b$=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:u,children:f,...h},d){let p=hd(o,{relative:h.relative}),y=Lo(),b=O.useContext(ud),{navigator:w,basename:x}=O.useContext(ka),S=b!=null&&O$(p)&&u===!0,A=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,R=y.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(R=R.toLowerCase(),C=C?C.toLowerCase():null,A=A.toLowerCase()),C&&x&&(C=ji(C,x)||C);const L=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let U=R===A||!i&&R.startsWith(A)&&R.charAt(L)==="/",D=C!=null&&(C===A||!i&&C.startsWith(A)&&C.charAt(A.length)==="/"),j={isActive:U,isPending:D,isTransitioning:S},k=U?e:void 0,M;typeof r=="function"?M=r(j):M=[r,U?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(j):a;return O.createElement(bc,{...h,"aria-current":k,className:M,ref:d,style:V,to:o,viewTransition:u},typeof f=="function"?f(j):f)});b$.displayName="NavLink";var _$=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Ep,action:u,onSubmit:f,relative:h,preventScrollReset:d,viewTransition:p,...y},b)=>{let w=T$(),x=A$(u,{relative:h}),S=o.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&wD.test(u),R=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let L=C.nativeEvent.submitter,U=L?.getAttribute("formmethod")||o;w(L||C.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:i,state:a,relative:h,preventScrollReset:d,viewTransition:p})};return O.createElement("form",{ref:b,method:S,action:x,onSubmit:r?f:R,...y,"data-discover":!A&&t==="render"?"true":void 0})});_$.displayName="Form";function w$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xD(t){let e=O.useContext(Zl);return ut(e,w$(t)),e}function x$(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let u=fd(),f=Lo(),h=hd(t,{relative:a});return O.useCallback(d=>{if(J5(d,e)){d.preventDefault();let p=n!==void 0?n:Co(f)===Co(h);u(t,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[f,u,h,n,r,e,t,i,a,o])}var E$=0,S$=()=>`__${String(++E$)}__`;function T$(){let{router:t}=xD("useSubmit"),{basename:e}=O.useContext(ka),n=V5();return O.useCallback(async(r,i={})=>{let{action:a,method:o,encType:u,formData:f,body:h}=t$(r,e);if(i.navigate===!1){let d=i.fetcherKey||S$();await t.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||o,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||o,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function A$(t,{relative:e}={}){let{basename:n}=O.useContext(ka),r=O.useContext(xs);ut(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...hd(t||".",{relative:e})},o=Lo();if(t==null){a.search=o.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(d=>d==="")){u.delete("index"),f.filter(p=>p).forEach(p=>u.append("index",p));let d=u.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:xa([n,a.pathname])),Co(a)}function O$(t,{relative:e}={}){let n=O.useContext(kx);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xD("useViewTransitionState"),i=hd(t,{relative:e});if(!n.isTransitioning)return!1;let a=ji(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ji(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Dp(i.pathname,o)!=null||Dp(i.pathname,a)!=null}var $x=Qj();function C$(t){return O.createElement(F5,{flushSync:$x.flushSync,...t})}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R$=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),ZO=t=>{const e=R$(t);return e.charAt(0).toUpperCase()+e.slice(1)},ED=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),N$=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...u},f)=>O.createElement("svg",{ref:f,...j$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ED("lucide",i),...!a&&!N$(u)&&{"aria-hidden":"true"},...u},[...o.map(([h,d])=>O.createElement(h,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=(t,e)=>{const n=O.forwardRef(({className:r,...i},a)=>O.createElement(D$,{ref:a,iconNode:e,className:ED(`lucide-${P$(ZO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=ZO(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],SD=Wt("arrow-down",k$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],M$=Wt("arrow-up-down",I$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],TD=Wt("arrow-up",L$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 16a2 2 0 0 1-2 2H8.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 4 20.286V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2z",key:"11gyqh"}],["path",{d:"M9 11v2",key:"1ueba0"}]],V$=Wt("bot-message-square",U$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],B$=Wt("chevron-left",$$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],q$=Wt("chevron-right",z$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],H$=Wt("copy",F$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],G$=Wt("ellipsis",K$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Y$=Wt("eye-off",W$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],Q$=Wt("highlighter",X$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Z$=Wt("menu",J$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],tB=Wt("refresh-cw",eB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tw=Wt("search",nB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],iB=Wt("send",rB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],sB=Wt("settings-2",aB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lB=Wt("settings",oB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m8 14 4-4 4 4",key:"fy2ptz"}]],cB=Wt("square-chevron-up",uB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}]],hB=Wt("square-play",fB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],AD=Wt("target",dB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],OD=Wt("trophy",mB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],gB=Wt("undo-2",pB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CD=Wt("users",yB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],bB=Wt("video",vB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wB=Wt("x",_B);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],PD=Wt("zap",xB),EB="/ScoutingOffseason2025/assets/icon-CcJZ9g6Y.png",eC=t=>{let e;const n=new Set,r=(h,d)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const y=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(b=>b(e,y))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h))},f=e=t(r,i,u);return u},SB=(t=>t?eC(t):eC),TB=t=>t;function AB(t,e=TB){const n=yh.useSyncExternalStore(t.subscribe,yh.useCallback(()=>e(t.getState()),[t,e]),yh.useCallback(()=>e(t.getInitialState()),[t,e]));return yh.useDebugValue(n),n}const tC=t=>{const e=SB(t),n=r=>AB(e,r);return Object.assign(n,e),n},OB=(t=>t?tC(t):tC),CB=()=>{};var nC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],u=t[n++],f=((i&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},ND={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,u=o?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,d=a>>2,p=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,b=h&63;f||(b=64,o||(y=64)),r.push(n[d],n[p],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||h==null||p==null)throw new RB;const y=a<<2|u>>4;if(r.push(y),h!==64){const b=u<<4&240|h>>2;if(r.push(b),p!==64){const w=h<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NB=function(t){const e=RD(t);return ND.encodeByteArray(e,!0)},Mp=function(t){return NB(t).replace(/\./g,"")},jB=function(t){try{return ND.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=()=>DB().__FIREBASE_DEFAULTS__,IB=()=>{if(typeof process>"u"||typeof nC>"u")return;const t=nC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jB(t[1]);return e&&JSON.parse(e)},Bx=()=>{try{return CB()||kB()||IB()||MB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LB=t=>Bx()?.emulatorHosts?.[t],UB=t=>{const e=LB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jD=()=>Bx()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VB=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $B(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Mp(JSON.stringify(n)),Mp(JSON.stringify(o)),""].join(".")}const Ah={};function zB(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ah))Ah[e]?t.emulator.push(e):t.prod.push(e);return t}function qB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rC=!1;function FB(t,e){if(typeof window>"u"||typeof document>"u"||!zx(window.location.host)||Ah[t]===e||Ah[t]||rC)return;Ah[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=zB().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{rC=!0,o()},y}function d(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=qB(r),b=n("text"),w=document.getElementById(b)||document.createElement("span"),x=n("learnmore"),S=document.getElementById(x)||document.createElement("a"),A=n("preprendIcon"),R=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const C=y.element;u(C),d(S,x);const L=h();f(R,A),C.append(R,w,S,L),document.body.appendChild(C)}a?(w.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KB(){const t=Bx()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GB(){return!KB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WB(){try{return typeof indexedDB=="object"}catch{return!1}}function YB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB="FirebaseError";class eu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XB,Object.setPrototypeOf(this,eu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,DD.prototype.create)}}class DD{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?QB(a,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new eu(i,u,r)}}function QB(t,e){return t.replace(JB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JB=/\{\$([^}]+)}/g;function Lp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(iC(a)&&iC(o)){if(!Lp(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){return t&&t._delegate?t._delegate:t}class Ac{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZB=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t9(e))try{this.getOrInitializeService({instanceIdentifier:El})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=El){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=El){return this.instances.has(e)}getOptions(e=El){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=El){return this.component?this.component.multipleInstances?e:El:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function e9(t){return t===El?void 0:t}function t9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yt||(yt={}));const r9={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},i9=yt.INFO,a9={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},s9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=a9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qx{constructor(e){this.name=e,this._logLevel=i9,this._logHandler=s9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const o9=(t,e)=>e.some(n=>t instanceof n);let aC,sC;function l9(){return aC||(aC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u9(){return sC||(sC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kD=new WeakMap,nw=new WeakMap,ID=new WeakMap,Q0=new WeakMap,Fx=new WeakMap;function c9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(xo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kD.set(n,t)}).catch(()=>{}),Fx.set(e,t),e}function f9(t){if(nw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});nw.set(t,e)}let rw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ID.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function h9(t){rw=t(rw)}function d9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(J0(this),e,...n);return ID.set(r,e.sort?e.sort():[e]),xo(r)}:u9().includes(t)?function(...e){return t.apply(J0(this),e),xo(kD.get(this))}:function(...e){return xo(t.apply(J0(this),e))}}function m9(t){return typeof t=="function"?d9(t):(t instanceof IDBTransaction&&f9(t),o9(t,l9())?new Proxy(t,rw):t)}function xo(t){if(t instanceof IDBRequest)return c9(t);if(Q0.has(t))return Q0.get(t);const e=m9(t);return e!==t&&(Q0.set(t,e),Fx.set(e,t)),e}const J0=t=>Fx.get(t);function p9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),u=xo(o);return r&&o.addEventListener("upgradeneeded",f=>{r(xo(o.result),f.oldVersion,f.newVersion,xo(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const g9=["get","getKey","getAll","getAllKeys","count"],y9=["put","add","delete","clear"],Z0=new Map;function oC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Z0.get(e))return Z0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=y9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||g9.includes(n)))return;const a=async function(o,...u){const f=this.transaction(o,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return Z0.set(e,a),a}h9(t=>({...t,get:(e,n,r)=>oC(e,n)||t.get(e,n,r),has:(e,n)=>!!oC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function b9(t){return t.getComponent()?.type==="VERSION"}const iw="@firebase/app",lC="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new qx("@firebase/app"),_9="@firebase/app-compat",w9="@firebase/analytics-compat",x9="@firebase/analytics",E9="@firebase/app-check-compat",S9="@firebase/app-check",T9="@firebase/auth",A9="@firebase/auth-compat",O9="@firebase/database",C9="@firebase/data-connect",P9="@firebase/database-compat",R9="@firebase/functions",N9="@firebase/functions-compat",j9="@firebase/installations",D9="@firebase/installations-compat",k9="@firebase/messaging",I9="@firebase/messaging-compat",M9="@firebase/performance",L9="@firebase/performance-compat",U9="@firebase/remote-config",V9="@firebase/remote-config-compat",$9="@firebase/storage",B9="@firebase/storage-compat",z9="@firebase/firestore",q9="@firebase/ai",F9="@firebase/firestore-compat",H9="firebase",K9="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="[DEFAULT]",G9={[iw]:"fire-core",[_9]:"fire-core-compat",[x9]:"fire-analytics",[w9]:"fire-analytics-compat",[S9]:"fire-app-check",[E9]:"fire-app-check-compat",[T9]:"fire-auth",[A9]:"fire-auth-compat",[O9]:"fire-rtdb",[C9]:"fire-data-connect",[P9]:"fire-rtdb-compat",[R9]:"fire-fn",[N9]:"fire-fn-compat",[j9]:"fire-iid",[D9]:"fire-iid-compat",[k9]:"fire-fcm",[I9]:"fire-fcm-compat",[M9]:"fire-perf",[L9]:"fire-perf-compat",[U9]:"fire-rc",[V9]:"fire-rc-compat",[$9]:"fire-gcs",[B9]:"fire-gcs-compat",[z9]:"fire-fst",[F9]:"fire-fst-compat",[q9]:"fire-vertex","fire-js":"fire-js",[H9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=new Map,W9=new Map,sw=new Map;function uC(t,e){try{t.container.addComponent(e)}catch(n){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $h(t){const e=t.name;if(sw.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;sw.set(e,t);for(const n of Up.values())uC(n,t);for(const n of W9.values())uC(n,t);return!0}function MD(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function LD(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new DD("app","Firebase",Y9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ac("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=K9;function UD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:aw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Eo.create("bad-app-name",{appName:String(i)});if(n||(n=jD()),!n)throw Eo.create("no-options");const a=Up.get(i);if(a){if(Lp(n,a.options)&&Lp(r,a.config))return a;throw Eo.create("duplicate-app",{appName:i})}const o=new n9(i);for(const f of sw.values())o.addComponent(f);const u=new X9(n,r,o);return Up.set(i,u),u}function VD(t=aw){const e=Up.get(t);if(!e&&t===aw&&jD())return UD();if(!e)throw Eo.create("no-app",{appName:t});return e}function So(t,e,n){let r=G9[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(o.join(" "));return}$h(new Ac(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="firebase-heartbeat-database",Z9=1,Bh="firebase-heartbeat-store";let eb=null;function $D(){return eb||(eb=p9(J9,Z9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Eo.create("idb-open",{originalErrorMessage:t.message})})),eb}async function ez(t){try{const n=(await $D()).transaction(Bh),r=await n.objectStore(Bh).get(BD(t));return await n.done,r}catch(e){if(e instanceof eu)ms.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e?.message});ms.warn(n.message)}}}async function cC(t,e){try{const r=(await $D()).transaction(Bh,"readwrite");await r.objectStore(Bh).put(e,BD(t)),await r.done}catch(n){if(n instanceof eu)ms.warn(n.message);else{const r=Eo.create("idb-set",{originalErrorMessage:n?.message});ms.warn(r.message)}}}function BD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=1024,nz=30;class rz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new az(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>nz){const i=sz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fC(),{heartbeatsToSend:n,unsentEntries:r}=iz(this._heartbeatsCache.heartbeats),i=Mp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ms.warn(e),""}}}function fC(){return new Date().toISOString().substring(0,10)}function iz(t,e=tz){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),hC(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class az{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WB()?YB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ez(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hC(t){return Mp(JSON.stringify({version:2,heartbeats:t})).length}function sz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t){$h(new Ac("platform-logger",e=>new v9(e),"PRIVATE")),$h(new Ac("heartbeat",e=>new rz(e),"PRIVATE")),So(iw,lC,t),So(iw,lC,"esm2020"),So("fire-js","")}oz("");var dC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,zD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,k){function M(){}M.prototype=k.prototype,j.D=k.prototype,j.prototype=new M,j.prototype.constructor=j,j.C=function(V,z,q){for(var $=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)$[ve-2]=arguments[ve];return k.prototype[z].apply(V,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,k,M){M||(M=0);var V=Array(16);if(typeof k=="string")for(var z=0;16>z;++z)V[z]=k.charCodeAt(M++)|k.charCodeAt(M++)<<8|k.charCodeAt(M++)<<16|k.charCodeAt(M++)<<24;else for(z=0;16>z;++z)V[z]=k[M++]|k[M++]<<8|k[M++]<<16|k[M++]<<24;k=j.g[0],M=j.g[1],z=j.g[2];var q=j.g[3],$=k+(q^M&(z^q))+V[0]+3614090360&4294967295;k=M+($<<7&4294967295|$>>>25),$=q+(z^k&(M^z))+V[1]+3905402710&4294967295,q=k+($<<12&4294967295|$>>>20),$=z+(M^q&(k^M))+V[2]+606105819&4294967295,z=q+($<<17&4294967295|$>>>15),$=M+(k^z&(q^k))+V[3]+3250441966&4294967295,M=z+($<<22&4294967295|$>>>10),$=k+(q^M&(z^q))+V[4]+4118548399&4294967295,k=M+($<<7&4294967295|$>>>25),$=q+(z^k&(M^z))+V[5]+1200080426&4294967295,q=k+($<<12&4294967295|$>>>20),$=z+(M^q&(k^M))+V[6]+2821735955&4294967295,z=q+($<<17&4294967295|$>>>15),$=M+(k^z&(q^k))+V[7]+4249261313&4294967295,M=z+($<<22&4294967295|$>>>10),$=k+(q^M&(z^q))+V[8]+1770035416&4294967295,k=M+($<<7&4294967295|$>>>25),$=q+(z^k&(M^z))+V[9]+2336552879&4294967295,q=k+($<<12&4294967295|$>>>20),$=z+(M^q&(k^M))+V[10]+4294925233&4294967295,z=q+($<<17&4294967295|$>>>15),$=M+(k^z&(q^k))+V[11]+2304563134&4294967295,M=z+($<<22&4294967295|$>>>10),$=k+(q^M&(z^q))+V[12]+1804603682&4294967295,k=M+($<<7&4294967295|$>>>25),$=q+(z^k&(M^z))+V[13]+4254626195&4294967295,q=k+($<<12&4294967295|$>>>20),$=z+(M^q&(k^M))+V[14]+2792965006&4294967295,z=q+($<<17&4294967295|$>>>15),$=M+(k^z&(q^k))+V[15]+1236535329&4294967295,M=z+($<<22&4294967295|$>>>10),$=k+(z^q&(M^z))+V[1]+4129170786&4294967295,k=M+($<<5&4294967295|$>>>27),$=q+(M^z&(k^M))+V[6]+3225465664&4294967295,q=k+($<<9&4294967295|$>>>23),$=z+(k^M&(q^k))+V[11]+643717713&4294967295,z=q+($<<14&4294967295|$>>>18),$=M+(q^k&(z^q))+V[0]+3921069994&4294967295,M=z+($<<20&4294967295|$>>>12),$=k+(z^q&(M^z))+V[5]+3593408605&4294967295,k=M+($<<5&4294967295|$>>>27),$=q+(M^z&(k^M))+V[10]+38016083&4294967295,q=k+($<<9&4294967295|$>>>23),$=z+(k^M&(q^k))+V[15]+3634488961&4294967295,z=q+($<<14&4294967295|$>>>18),$=M+(q^k&(z^q))+V[4]+3889429448&4294967295,M=z+($<<20&4294967295|$>>>12),$=k+(z^q&(M^z))+V[9]+568446438&4294967295,k=M+($<<5&4294967295|$>>>27),$=q+(M^z&(k^M))+V[14]+3275163606&4294967295,q=k+($<<9&4294967295|$>>>23),$=z+(k^M&(q^k))+V[3]+4107603335&4294967295,z=q+($<<14&4294967295|$>>>18),$=M+(q^k&(z^q))+V[8]+1163531501&4294967295,M=z+($<<20&4294967295|$>>>12),$=k+(z^q&(M^z))+V[13]+2850285829&4294967295,k=M+($<<5&4294967295|$>>>27),$=q+(M^z&(k^M))+V[2]+4243563512&4294967295,q=k+($<<9&4294967295|$>>>23),$=z+(k^M&(q^k))+V[7]+1735328473&4294967295,z=q+($<<14&4294967295|$>>>18),$=M+(q^k&(z^q))+V[12]+2368359562&4294967295,M=z+($<<20&4294967295|$>>>12),$=k+(M^z^q)+V[5]+4294588738&4294967295,k=M+($<<4&4294967295|$>>>28),$=q+(k^M^z)+V[8]+2272392833&4294967295,q=k+($<<11&4294967295|$>>>21),$=z+(q^k^M)+V[11]+1839030562&4294967295,z=q+($<<16&4294967295|$>>>16),$=M+(z^q^k)+V[14]+4259657740&4294967295,M=z+($<<23&4294967295|$>>>9),$=k+(M^z^q)+V[1]+2763975236&4294967295,k=M+($<<4&4294967295|$>>>28),$=q+(k^M^z)+V[4]+1272893353&4294967295,q=k+($<<11&4294967295|$>>>21),$=z+(q^k^M)+V[7]+4139469664&4294967295,z=q+($<<16&4294967295|$>>>16),$=M+(z^q^k)+V[10]+3200236656&4294967295,M=z+($<<23&4294967295|$>>>9),$=k+(M^z^q)+V[13]+681279174&4294967295,k=M+($<<4&4294967295|$>>>28),$=q+(k^M^z)+V[0]+3936430074&4294967295,q=k+($<<11&4294967295|$>>>21),$=z+(q^k^M)+V[3]+3572445317&4294967295,z=q+($<<16&4294967295|$>>>16),$=M+(z^q^k)+V[6]+76029189&4294967295,M=z+($<<23&4294967295|$>>>9),$=k+(M^z^q)+V[9]+3654602809&4294967295,k=M+($<<4&4294967295|$>>>28),$=q+(k^M^z)+V[12]+3873151461&4294967295,q=k+($<<11&4294967295|$>>>21),$=z+(q^k^M)+V[15]+530742520&4294967295,z=q+($<<16&4294967295|$>>>16),$=M+(z^q^k)+V[2]+3299628645&4294967295,M=z+($<<23&4294967295|$>>>9),$=k+(z^(M|~q))+V[0]+4096336452&4294967295,k=M+($<<6&4294967295|$>>>26),$=q+(M^(k|~z))+V[7]+1126891415&4294967295,q=k+($<<10&4294967295|$>>>22),$=z+(k^(q|~M))+V[14]+2878612391&4294967295,z=q+($<<15&4294967295|$>>>17),$=M+(q^(z|~k))+V[5]+4237533241&4294967295,M=z+($<<21&4294967295|$>>>11),$=k+(z^(M|~q))+V[12]+1700485571&4294967295,k=M+($<<6&4294967295|$>>>26),$=q+(M^(k|~z))+V[3]+2399980690&4294967295,q=k+($<<10&4294967295|$>>>22),$=z+(k^(q|~M))+V[10]+4293915773&4294967295,z=q+($<<15&4294967295|$>>>17),$=M+(q^(z|~k))+V[1]+2240044497&4294967295,M=z+($<<21&4294967295|$>>>11),$=k+(z^(M|~q))+V[8]+1873313359&4294967295,k=M+($<<6&4294967295|$>>>26),$=q+(M^(k|~z))+V[15]+4264355552&4294967295,q=k+($<<10&4294967295|$>>>22),$=z+(k^(q|~M))+V[6]+2734768916&4294967295,z=q+($<<15&4294967295|$>>>17),$=M+(q^(z|~k))+V[13]+1309151649&4294967295,M=z+($<<21&4294967295|$>>>11),$=k+(z^(M|~q))+V[4]+4149444226&4294967295,k=M+($<<6&4294967295|$>>>26),$=q+(M^(k|~z))+V[11]+3174756917&4294967295,q=k+($<<10&4294967295|$>>>22),$=z+(k^(q|~M))+V[2]+718787259&4294967295,z=q+($<<15&4294967295|$>>>17),$=M+(q^(z|~k))+V[9]+3951481745&4294967295,j.g[0]=j.g[0]+k&4294967295,j.g[1]=j.g[1]+(z+($<<21&4294967295|$>>>11))&4294967295,j.g[2]=j.g[2]+z&4294967295,j.g[3]=j.g[3]+q&4294967295}r.prototype.u=function(j,k){k===void 0&&(k=j.length);for(var M=k-this.blockSize,V=this.B,z=this.h,q=0;q<k;){if(z==0)for(;q<=M;)i(this,j,q),q+=this.blockSize;if(typeof j=="string"){for(;q<k;)if(V[z++]=j.charCodeAt(q++),z==this.blockSize){i(this,V),z=0;break}}else for(;q<k;)if(V[z++]=j[q++],z==this.blockSize){i(this,V),z=0;break}}this.h=z,this.o+=k},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var k=1;k<j.length-8;++k)j[k]=0;var M=8*this.o;for(k=j.length-8;k<j.length;++k)j[k]=M&255,M/=256;for(this.u(j),j=Array(16),k=M=0;4>k;++k)for(var V=0;32>V;V+=8)j[M++]=this.g[k]>>>V&255;return j};function a(j,k){var M=u;return Object.prototype.hasOwnProperty.call(M,j)?M[j]:M[j]=k(j)}function o(j,k){this.h=k;for(var M=[],V=!0,z=j.length-1;0<=z;z--){var q=j[z]|0;V&&q==k||(M[z]=q,V=!1)}this.g=M}var u={};function f(j){return-128<=j&&128>j?a(j,function(k){return new o([k|0],0>k?-1:0)}):new o([j|0],0>j?-1:0)}function h(j){if(isNaN(j)||!isFinite(j))return p;if(0>j)return S(h(-j));for(var k=[],M=1,V=0;j>=M;V++)k[V]=j/M|0,M*=4294967296;return new o(k,0)}function d(j,k){if(j.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(j.charAt(0)=="-")return S(d(j.substring(1),k));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=h(Math.pow(k,8)),V=p,z=0;z<j.length;z+=8){var q=Math.min(8,j.length-z),$=parseInt(j.substring(z,z+q),k);8>q?(q=h(Math.pow(k,q)),V=V.j(q).add(h($))):(V=V.j(M),V=V.add(h($)))}return V}var p=f(0),y=f(1),b=f(16777216);t=o.prototype,t.m=function(){if(x(this))return-S(this).m();for(var j=0,k=1,M=0;M<this.g.length;M++){var V=this.i(M);j+=(0<=V?V:4294967296+V)*k,k*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(w(this))return"0";if(x(this))return"-"+S(this).toString(j);for(var k=h(Math.pow(j,6)),M=this,V="";;){var z=L(M,k).g;M=A(M,z.j(k));var q=((0<M.g.length?M.g[0]:M.h)>>>0).toString(j);if(M=z,w(M))return q+V;for(;6>q.length;)q="0"+q;V=q+V}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function w(j){if(j.h!=0)return!1;for(var k=0;k<j.g.length;k++)if(j.g[k]!=0)return!1;return!0}function x(j){return j.h==-1}t.l=function(j){return j=A(this,j),x(j)?-1:w(j)?0:1};function S(j){for(var k=j.g.length,M=[],V=0;V<k;V++)M[V]=~j.g[V];return new o(M,~j.h).add(y)}t.abs=function(){return x(this)?S(this):this},t.add=function(j){for(var k=Math.max(this.g.length,j.g.length),M=[],V=0,z=0;z<=k;z++){var q=V+(this.i(z)&65535)+(j.i(z)&65535),$=(q>>>16)+(this.i(z)>>>16)+(j.i(z)>>>16);V=$>>>16,q&=65535,$&=65535,M[z]=$<<16|q}return new o(M,M[M.length-1]&-2147483648?-1:0)};function A(j,k){return j.add(S(k))}t.j=function(j){if(w(this)||w(j))return p;if(x(this))return x(j)?S(this).j(S(j)):S(S(this).j(j));if(x(j))return S(this.j(S(j)));if(0>this.l(b)&&0>j.l(b))return h(this.m()*j.m());for(var k=this.g.length+j.g.length,M=[],V=0;V<2*k;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(var z=0;z<j.g.length;z++){var q=this.i(V)>>>16,$=this.i(V)&65535,ve=j.i(z)>>>16,we=j.i(z)&65535;M[2*V+2*z]+=$*we,R(M,2*V+2*z),M[2*V+2*z+1]+=q*we,R(M,2*V+2*z+1),M[2*V+2*z+1]+=$*ve,R(M,2*V+2*z+1),M[2*V+2*z+2]+=q*ve,R(M,2*V+2*z+2)}for(V=0;V<k;V++)M[V]=M[2*V+1]<<16|M[2*V];for(V=k;V<2*k;V++)M[V]=0;return new o(M,0)};function R(j,k){for(;(j[k]&65535)!=j[k];)j[k+1]+=j[k]>>>16,j[k]&=65535,k++}function C(j,k){this.g=j,this.h=k}function L(j,k){if(w(k))throw Error("division by zero");if(w(j))return new C(p,p);if(x(j))return k=L(S(j),k),new C(S(k.g),S(k.h));if(x(k))return k=L(j,S(k)),new C(S(k.g),k.h);if(30<j.g.length){if(x(j)||x(k))throw Error("slowDivide_ only works with positive integers.");for(var M=y,V=k;0>=V.l(j);)M=U(M),V=U(V);var z=D(M,1),q=D(V,1);for(V=D(V,2),M=D(M,2);!w(V);){var $=q.add(V);0>=$.l(j)&&(z=z.add(M),q=$),V=D(V,1),M=D(M,1)}return k=A(j,z.j(k)),new C(z,k)}for(z=p;0<=j.l(k);){for(M=Math.max(1,Math.floor(j.m()/k.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),q=h(M),$=q.j(k);x($)||0<$.l(j);)M-=V,q=h(M),$=q.j(k);w(q)&&(q=y),z=z.add(q),j=A(j,$)}return new C(z,j)}t.A=function(j){return L(this,j).h},t.and=function(j){for(var k=Math.max(this.g.length,j.g.length),M=[],V=0;V<k;V++)M[V]=this.i(V)&j.i(V);return new o(M,this.h&j.h)},t.or=function(j){for(var k=Math.max(this.g.length,j.g.length),M=[],V=0;V<k;V++)M[V]=this.i(V)|j.i(V);return new o(M,this.h|j.h)},t.xor=function(j){for(var k=Math.max(this.g.length,j.g.length),M=[],V=0;V<k;V++)M[V]=this.i(V)^j.i(V);return new o(M,this.h^j.h)};function U(j){for(var k=j.g.length+1,M=[],V=0;V<k;V++)M[V]=j.i(V)<<1|j.i(V-1)>>>31;return new o(M,j.h)}function D(j,k){var M=k>>5;k%=32;for(var V=j.g.length-M,z=[],q=0;q<V;q++)z[q]=0<k?j.i(q+M)>>>k|j.i(q+M+1)<<32-k:j.i(q+M);return new o(z,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,To=o}).apply(typeof dC<"u"?dC:typeof self<"u"?self:typeof window<"u"?window:{});var Jm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qD,bh,FD,Tp,ow,HD,KD,GD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,T,P){return g==Array.prototype||g==Object.prototype||(g[T]=P.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jm=="object"&&Jm];for(var T=0;T<g.length;++T){var P=g[T];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var P=r;g=g.split(".");for(var B=0;B<g.length-1;B++){var Q=g[B];if(!(Q in P))break e;P=P[Q]}g=g[g.length-1],B=P[g],T=T(B),T!=B&&T!=null&&e(P,g,{configurable:!0,writable:!0,value:T})}}function a(g,T){g instanceof String&&(g+="");var P=0,B=!1,Q={next:function(){if(!B&&P<g.length){var ae=P++;return{value:T(ae,g[ae]),done:!1}}return B=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(g){return g||function(){return a(this,function(T,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function f(g){var T=typeof g;return T=T!="object"?T:g?Array.isArray(g)?"array":T:"null",T=="array"||T=="object"&&typeof g.length=="number"}function h(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function d(g,T,P){return g.call.apply(g.bind,arguments)}function p(g,T,P){if(!g)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,B),g.apply(T,Q)}}return function(){return g.apply(T,arguments)}}function y(g,T,P){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,y.apply(null,arguments)}function b(g,T){var P=Array.prototype.slice.call(arguments,1);return function(){var B=P.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function w(g,T){function P(){}P.prototype=T.prototype,g.aa=T.prototype,g.prototype=new P,g.prototype.constructor=g,g.Qb=function(B,Q,ae){for(var be=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)be[dt-2]=arguments[dt];return T.prototype[Q].apply(B,be)}}function x(g){const T=g.length;if(0<T){const P=Array(T);for(let B=0;B<T;B++)P[B]=g[B];return P}return[]}function S(g,T){for(let P=1;P<arguments.length;P++){const B=arguments[P];if(f(B)){const Q=g.length||0,ae=B.length||0;g.length=Q+ae;for(let be=0;be<ae;be++)g[Q+be]=B[be]}else g.push(B)}}class A{constructor(T,P){this.i=T,this.j=P,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function R(g){return/^[\s\xa0]*$/.test(g)}function C(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function L(g){return L[" "](g),g}L[" "]=function(){};var U=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function D(g,T,P){for(const B in g)T.call(P,g[B],B,g)}function j(g,T){for(const P in g)T.call(void 0,g[P],P,g)}function k(g){const T={};for(const P in g)T[P]=g[P];return T}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(g,T){let P,B;for(let Q=1;Q<arguments.length;Q++){B=arguments[Q];for(P in B)g[P]=B[P];for(let ae=0;ae<M.length;ae++)P=M[ae],Object.prototype.hasOwnProperty.call(B,P)&&(g[P]=B[P])}}function z(g){var T=1;g=g.split(":");const P=[];for(;0<T&&g.length;)P.push(g.shift()),T--;return g.length&&P.push(g.join(":")),P}function q(g){u.setTimeout(()=>{throw g},0)}function $(){var g=xe;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class ve{constructor(){this.h=this.g=null}add(T,P){const B=we.get();B.set(T,P),this.h?this.h.next=B:this.g=B,this.h=B}}var we=new A(()=>new G,g=>g.reset());class G{constructor(){this.next=this.g=this.h=null}set(T,P){this.h=T,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let re,pe=!1,xe=new ve,H=()=>{const g=u.Promise.resolve(void 0);re=()=>{g.then(oe)}};var oe=()=>{for(var g;g=$();){try{g.h.call(g.g)}catch(P){q(P)}var T=we;T.j(g),100>T.h&&(T.h++,g.next=T.g,T.g=g)}pe=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const P=()=>{};u.addEventListener("test",P,T),u.removeEventListener("test",P,T)}catch{}return g})();function Ue(g,T){if(me.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var P=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget){if(U){e:{try{L(T.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(T=null)}}else P=="mouseover"?T=g.fromElement:P=="mouseout"&&(T=g.toElement);this.relatedTarget=T,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ve[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ue.aa.h.call(this)}}w(Ue,me);var Ve={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var nn="closure_listenable_"+(1e6*Math.random()|0),Tt=0;function _e(g,T,P,B,Q){this.listener=g,this.proxy=null,this.src=T,this.type=P,this.capture=!!B,this.ha=Q,this.key=++Tt,this.da=this.fa=!1}function De(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ke(g){this.src=g,this.g={},this.h=0}Ke.prototype.add=function(g,T,P,B,Q){var ae=g.toString();g=this.g[ae],g||(g=this.g[ae]=[],this.h++);var be=Yt(g,T,B,Q);return-1<be?(T=g[be],P||(T.fa=!1)):(T=new _e(T,this.src,ae,!!B,Q),T.fa=P,g.push(T)),T};function ge(g,T){var P=T.type;if(P in g.g){var B=g.g[P],Q=Array.prototype.indexOf.call(B,T,void 0),ae;(ae=0<=Q)&&Array.prototype.splice.call(B,Q,1),ae&&(De(T),g.g[P].length==0&&(delete g.g[P],g.h--))}}function Yt(g,T,P,B){for(var Q=0;Q<g.length;++Q){var ae=g[Q];if(!ae.da&&ae.listener==T&&ae.capture==!!P&&ae.ha==B)return Q}return-1}var et="closure_lm_"+(1e6*Math.random()|0),ln={};function dn(g,T,P,B,Q){if(Array.isArray(T)){for(var ae=0;ae<T.length;ae++)dn(g,T[ae],P,B,Q);return null}return P=js(P),g&&g[nn]?g.K(T,P,h(B)?!!B.capture:!1,Q):Zt(g,T,P,!1,B,Q)}function Zt(g,T,P,B,Q,ae){if(!T)throw Error("Invalid event type");var be=h(Q)?!!Q.capture:!!Q,dt=oi(g);if(dt||(g[et]=dt=new Ke(g)),P=dt.add(T,P,B,be,ae),P.proxy)return P;if(B=Ps(),P.proxy=B,B.src=g,B.listener=P,g.addEventListener)Ae||(Q=be),Q===void 0&&(Q=!1),g.addEventListener(T.toString(),B,Q);else if(g.attachEvent)g.attachEvent(Ma(T.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Ps(){function g(P){return T.call(g.src,g.listener,P)}const T=Mi;return g}function Go(g,T,P,B,Q){if(Array.isArray(T))for(var ae=0;ae<T.length;ae++)Go(g,T[ae],P,B,Q);else B=h(B)?!!B.capture:!!B,P=js(P),g&&g[nn]?(g=g.i,T=String(T).toString(),T in g.g&&(ae=g.g[T],P=Yt(ae,P,B,Q),-1<P&&(De(ae[P]),Array.prototype.splice.call(ae,P,1),ae.length==0&&(delete g.g[T],g.h--)))):g&&(g=oi(g))&&(T=g.g[T.toString()],g=-1,T&&(g=Yt(T,P,B,Q)),(P=-1<g?T[g]:null)&&Rs(P))}function Rs(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[nn])ge(T.i,g);else{var P=g.type,B=g.proxy;T.removeEventListener?T.removeEventListener(P,B,g.capture):T.detachEvent?T.detachEvent(Ma(P),B):T.addListener&&T.removeListener&&T.removeListener(B),(P=oi(T))?(ge(P,g),P.h==0&&(P.src=null,T[et]=null)):De(g)}}}function Ma(g){return g in ln?ln[g]:ln[g]="on"+g}function Mi(g,T){if(g.da)g=!0;else{T=new Ue(T,this);var P=g.listener,B=g.ha||g.src;g.fa&&Rs(g),g=P.call(B,T)}return g}function oi(g){return g=g[et],g instanceof Ke?g:null}var Ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function js(g){return typeof g=="function"?g:(g[Ns]||(g[Ns]=function(T){return g.handleEvent(T)}),g[Ns])}function _t(){ie.call(this),this.i=new Ke(this),this.M=this,this.F=null}w(_t,ie),_t.prototype[nn]=!0,_t.prototype.removeEventListener=function(g,T,P,B){Go(this,g,T,P,B)};function nt(g,T){var P,B=g.F;if(B)for(P=[];B;B=B.F)P.push(B);if(g=g.M,B=T.type||T,typeof T=="string")T=new me(T,g);else if(T instanceof me)T.target=T.target||g;else{var Q=T;T=new me(B,g),V(T,Q)}if(Q=!0,P)for(var ae=P.length-1;0<=ae;ae--){var be=T.g=P[ae];Q=lr(be,B,!0,T)&&Q}if(be=T.g=g,Q=lr(be,B,!0,T)&&Q,Q=lr(be,B,!1,T)&&Q,P)for(ae=0;ae<P.length;ae++)be=T.g=P[ae],Q=lr(be,B,!1,T)&&Q}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var g=this.i,T;for(T in g.g){for(var P=g.g[T],B=0;B<P.length;B++)De(P[B]);delete g.g[T],g.h--}}this.F=null},_t.prototype.K=function(g,T,P,B){return this.i.add(String(g),T,!1,P,B)},_t.prototype.L=function(g,T,P,B){return this.i.add(String(g),T,!0,P,B)};function lr(g,T,P,B){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();for(var Q=!0,ae=0;ae<T.length;++ae){var be=T[ae];if(be&&!be.da&&be.capture==P){var dt=be.listener,Tn=be.ha||be.src;be.fa&&ge(g.i,be),Q=dt.call(Tn,B)!==!1&&Q}}return Q&&!B.defaultPrevented}function mn(g,T,P){if(typeof g=="function")P&&(g=y(g,P));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:u.setTimeout(g,T||0)}function fu(g){g.g=mn(()=>{g.g=null,g.i&&(g.i=!1,fu(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class li extends ie{constructor(T,P){super(),this.m=T,this.l=P,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(g){ie.call(this),this.h=g,this.g={}}w(na,ie);var ra=[];function ia(g){D(g.g,function(T,P){this.g.hasOwnProperty(P)&&Rs(T)},g),g.g={}}na.prototype.N=function(){na.aa.N.call(this),ia(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lr=u.JSON.stringify,La=u.JSON.parse,ui=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Ds(){}Ds.prototype.h=null;function Ua(g){return g.h||(g.h=g.i())}function Wo(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){me.call(this,"d")}w(Li,me);function ks(){me.call(this,"c")}w(ks,me);var vr={},aa=null;function sa(){return aa=aa||new _t}vr.La="serverreachability";function Is(g){me.call(this,vr.La,g)}w(Is,me);function K(g){const T=sa();nt(T,new Is(T))}vr.STAT_EVENT="statevent";function X(g,T){me.call(this,vr.STAT_EVENT,g),this.stat=T}w(X,me);function ee(g){const T=sa();nt(T,new X(T,g))}vr.Ma="timingevent";function fe(g,T){me.call(this,vr.Ma,g),this.size=T}w(fe,me);function ye(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},T)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function ke(g,T,P,B,Q,ae){g.info(function(){if(g.g)if(ae)for(var be="",dt=ae.split("&"),Tn=0;Tn<dt.length;Tn++){var mt=dt[Tn].split("=");if(1<mt.length){var Vn=mt[0];mt=mt[1];var An=Vn.split("_");be=2<=An.length&&An[1]=="type"?be+(Vn+"="+mt+"&"):be+(Vn+"=redacted&")}}else be=null;else be=ae;return"XMLHTTP REQ ("+B+") [attempt "+Q+"]: "+T+`
`+P+`
`+be})}function Re(g,T,P,B,Q,ae,be){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Q+"]: "+T+`
`+P+`
`+ae+" "+be})}function Ne(g,T,P,B){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+je(g,P)+(B?" "+B:"")})}function $e(g,T){g.info(function(){return"TIMEOUT: "+T})}Ee.prototype.info=function(){};function je(g,T){if(!g.g)return T;if(!T)return null;try{var P=JSON.parse(T);if(P){for(g=0;g<P.length;g++)if(Array.isArray(P[g])){var B=P[g];if(!(2>B.length)){var Q=B[1];if(Array.isArray(Q)&&!(1>Q.length)){var ae=Q[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var be=1;be<Q.length;be++)Q[be]=""}}}}return Lr(P)}catch{return T}}var Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ze={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ht;function Ct(){}w(Ct,Ds),Ct.prototype.g=function(){return new XMLHttpRequest},Ct.prototype.i=function(){return{}},ht=new Ct;function wt(g,T,P,B){this.j=g,this.i=T,this.l=P,this.R=B||1,this.U=new na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ye}function Ye(){this.i=null,this.g="",this.h=!1}var xt={},Tr={};function Xn(g,T,P){g.L=1,g.v=Qo($r(T)),g.m=P,g.P=!0,Ln(g,null)}function Ln(g,T){g.F=Date.now(),Ur(g),g.A=$r(g.v);var P=g.A,B=g.R;Array.isArray(B)||(B=[String(B)]),ff(P.i,"t",B),g.C=0,P=g.j.J,g.h=new Ye,g.g=Hd(g.j,P?T:null,!g.m),0<g.O&&(g.M=new li(y(g.Y,g,g.g),g.O)),T=g.U,P=g.g,B=g.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(ra[0]=Q.toString()),Q=ra);for(var ae=0;ae<Q.length;ae++){var be=dn(P,Q[ae],B||T.handleEvent,!1,T.h||T);if(!be)break;T.g[be.key]=be}T=g.H?k(g.H):{},g.m?(g.u||(g.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,T)):(g.u="GET",g.g.ea(g.A,g.u,null,T)),K(),ke(g.i,g.u,g.A,g.l,g.R,g.m)}wt.prototype.ca=function(g){g=g.target;const T=this.M;T&&pi(g)==3?T.j():this.Y(g)},wt.prototype.Y=function(g){try{if(g==this.g)e:{const An=pi(this.g);var T=this.g.Ba();const Ha=this.g.Z();if(!(3>An)&&(An!=3||this.g&&(this.h.h||this.g.oa()||Ld(this.g)))){this.J||An!=4||T==7||(T==8||0>=Ha?K(3):K(2)),Vr(this);var P=this.g.Z();this.X=P;t:if(br(this)){var B=Ld(this.g);g="";var Q=B.length,ae=pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),_r(this);var be="";break t}this.h.i=new u.TextDecoder}for(T=0;T<Q;T++)this.h.h=!0,g+=this.h.i.decode(B[T],{stream:!(ae&&T==Q-1)});B.length=0,this.h.g+=g,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=P==200,Re(this.i,this.u,this.A,this.l,this.R,An,P),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Tn=this.g;if((dt=Tn.g?Tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(dt)){var mt=dt;break t}}mt=null}if(P=mt)Ne(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xt(this,P);else{this.o=!1,this.s=3,ee(12),Fe(this),_r(this);break e}}if(this.P){P=!0;let Jn;for(;!this.J&&this.C<be.length;)if(Jn=Ms(this,be),Jn==Tr){An==4&&(this.s=4,ee(14),P=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==xt){this.s=4,ee(15),Ne(this.i,this.l,be,"[Invalid Chunk]"),P=!1;break}else Ne(this.i,this.l,Jn,null),Xt(this,Jn);if(br(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),An!=4||be.length!=0||this.h.h||(this.s=1,ee(16),P=!1),this.o=this.o&&P,!P)Ne(this.i,this.l,be,"[Invalid Chunked Response]"),Fe(this),_r(this);else if(0<be.length&&!this.W){this.W=!0;var Vn=this.j;Vn.g==this&&Vn.ba&&!Vn.M&&(Vn.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),al(Vn),Vn.M=!0,ee(11))}}else Ne(this.i,this.l,be,null),Xt(this,be);An==4&&Fe(this),this.o&&!this.J&&(An==4?zd(this.j,this):(this.o=!1,Ur(this)))}else Wy(this.g),P==400&&0<be.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Fe(this),_r(this)}}}catch{}finally{}};function br(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Ms(g,T){var P=g.C,B=T.indexOf(`
`,P);return B==-1?Tr:(P=Number(T.substring(P,B)),isNaN(P)?xt:(B+=1,B+P>T.length?Tr:(T=T.slice(B,B+P),g.C=B+P,T)))}wt.prototype.cancel=function(){this.J=!0,Fe(this)};function Ur(g){g.S=Date.now()+g.I,fi(g,g.I)}function fi(g,T){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ye(y(g.ba,g),T)}function Vr(g){g.B&&(u.clearTimeout(g.B),g.B=null)}wt.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?($e(this.i,this.A),this.L!=2&&(K(),ee(17)),Fe(this),this.s=2,_r(this)):fi(this,this.S-g)};function _r(g){g.j.G==0||g.J||zd(g.j,g)}function Fe(g){Vr(g);var T=g.M;T&&typeof T.ma=="function"&&T.ma(),g.M=null,ia(g.U),g.g&&(T=g.g,g.g=null,T.abort(),T.ma())}function Xt(g,T){try{var P=g.j;if(P.G!=0&&(P.g==g||Ls(P.h,g))){if(!g.K&&Ls(P.h,g)&&P.G==3){try{var B=P.Da.g.parse(T)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Q=B;if(Q[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<g.F)_u(P),vu(P);else break e;gf(P),ee(18)}}else P.za=Q[1],0<P.za-P.T&&37500>Q[2]&&P.F&&P.v==0&&!P.C&&(P.C=ye(y(P.Za,P),6e3));if(1>=Vi(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Fa(P,11)}else if((g.K||P.g==g)&&_u(P),!R(T))for(Q=P.Da.g.parse(T),T=0;T<Q.length;T++){let mt=Q[T];if(P.T=mt[0],mt=mt[1],P.G==2)if(mt[0]=="c"){P.K=mt[1],P.ia=mt[2];const Vn=mt[3];Vn!=null&&(P.la=Vn,P.j.info("VER="+P.la));const An=mt[4];An!=null&&(P.Aa=An,P.j.info("SVER="+P.Aa));const Ha=mt[5];Ha!=null&&typeof Ha=="number"&&0<Ha&&(B=1.5*Ha,P.L=B,P.j.info("backChannelRequestTimeoutMs_="+B)),B=P;const Jn=g.g;if(Jn){const da=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var ae=B.h;ae.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Us(ae,ae.h),ae.h=null))}if(B.D){const vf=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;vf&&(B.ya=vf,Dt(B.I,B.D,vf))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-g.F,P.j.info("Handshake RTT: "+P.R+"ms")),B=P;var be=g;if(B.qa=Fd(B,B.J?B.ia:null,B.W),be.K){wr(B.h,be);var dt=be,Tn=B.L;Tn&&(dt.I=Tn),dt.B&&(Vr(dt),Ur(dt)),B.g=be}else $d(B);0<P.i.length&&bu(P)}else mt[0]!="stop"&&mt[0]!="close"||Fa(P,7);else P.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?Fa(P,7):mf(P):mt[0]!="noop"&&P.l&&P.l.ta(mt),P.v=0)}}K(4)}catch{}}var Ui=class{constructor(g,T){this.g=g,this.map=T}};function Qn(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $t(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Vi(g){return g.h?1:g.g?g.g.size:0}function Ls(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Us(g,T){g.g?g.g.add(T):g.h=T}function wr(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}Qn.prototype.cancel=function(){if(this.i=of(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function of(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const P of g.g.values())T=T.concat(P.D);return T}return x(g.i)}function Fy(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(f(g)){for(var T=[],P=g.length,B=0;B<P;B++)T.push(g[B]);return T}T=[],P=0;for(B in g)T[P++]=g[B];return T}function hu(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(f(g)||typeof g=="string"){var T=[];g=g.length;for(var P=0;P<g;P++)T.push(P);return T}T=[],P=0;for(const B in g)T[P++]=B;return T}}}function lf(g,T){if(g.forEach&&typeof g.forEach=="function")g.forEach(T,void 0);else if(f(g)||typeof g=="string")Array.prototype.forEach.call(g,T,void 0);else for(var P=hu(g),B=Fy(g),Q=B.length,ae=0;ae<Q;ae++)T.call(void 0,B[ae],P&&P[ae],g)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hy(g,T){if(g){g=g.split("&");for(var P=0;P<g.length;P++){var B=g[P].indexOf("="),Q=null;if(0<=B){var ae=g[P].substring(0,B);Q=g[P].substring(B+1)}else ae=g[P];T(ae,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function pn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof pn){this.h=g.h,Xo(this,g.j),this.o=g.o,this.g=g.g,Vs(this,g.s),this.l=g.l;var T=g.i,P=new $a;P.i=T.i,T.g&&(P.g=new Map(T.g),P.h=T.h),Va(this,P),this.m=g.m}else g&&(T=String(g).match(Yo))?(this.h=!1,Xo(this,T[1]||"",!0),this.o=hi(T[2]||""),this.g=hi(T[3]||"",!0),Vs(this,T[4]),this.l=hi(T[5]||"",!0),Va(this,T[6]||"",!0),this.m=hi(T[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}pn.prototype.toString=function(){var g=[],T=this.j;T&&g.push(Jo(T,uf,!0),":");var P=this.g;return(P||T=="file")&&(g.push("//"),(T=this.o)&&g.push(Jo(T,uf,!0),"@"),g.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&g.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&g.push("/"),g.push(Jo(P,P.charAt(0)=="/"?Ky:cf,!0))),(P=this.i.toString())&&g.push("?",P),(P=this.m)&&g.push("#",Jo(P,du)),g.join("")};function $r(g){return new pn(g)}function Xo(g,T,P){g.j=P?hi(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function Vs(g,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);g.s=T}else g.s=null}function Va(g,T,P){T instanceof $a?(g.i=T,Id(g.i,g.h)):(P||(T=Jo(T,Gy)),g.i=new $a(T,g.h))}function Dt(g,T,P){g.i.set(T,P)}function Qo(g){return Dt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function hi(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Jo(g,T,P){return typeof g=="string"?(g=encodeURI(g).replace(T,kd),P&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function kd(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var uf=/[#\/\?@]/g,cf=/[#\?:]/g,Ky=/[#\?]/g,Gy=/[#\?@]/g,du=/#/g;function $a(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function di(g){g.g||(g.g=new Map,g.h=0,g.i&&Hy(g.i,function(T,P){g.add(decodeURIComponent(T.replace(/\+/g," ")),P)}))}t=$a.prototype,t.add=function(g,T){di(this),this.i=null,g=oa(this,g);var P=this.g.get(g);return P||this.g.set(g,P=[]),P.push(T),this.h+=1,this};function Ba(g,T){di(g),T=oa(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function za(g,T){return di(g),T=oa(g,T),g.g.has(T)}t.forEach=function(g,T){di(this),this.g.forEach(function(P,B){P.forEach(function(Q){g.call(T,Q,B,this)},this)},this)},t.na=function(){di(this);const g=Array.from(this.g.values()),T=Array.from(this.g.keys()),P=[];for(let B=0;B<T.length;B++){const Q=g[B];for(let ae=0;ae<Q.length;ae++)P.push(T[B])}return P},t.V=function(g){di(this);let T=[];if(typeof g=="string")za(this,g)&&(T=T.concat(this.g.get(oa(this,g))));else{g=Array.from(this.g.values());for(let P=0;P<g.length;P++)T=T.concat(g[P])}return T},t.set=function(g,T){return di(this),this.i=null,g=oa(this,g),za(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=this.V(g),0<g.length?String(g[0]):T):T};function ff(g,T,P){Ba(g,T),0<P.length&&(g.i=null,g.g.set(oa(g,T),x(P)),g.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(var P=0;P<T.length;P++){var B=T[P];const ae=encodeURIComponent(String(B)),be=this.V(B);for(B=0;B<be.length;B++){var Q=ae;be[B]!==""&&(Q+="="+encodeURIComponent(String(be[B]))),g.push(Q)}}return this.i=g.join("&")};function oa(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function Id(g,T){T&&!g.j&&(di(g),g.i=null,g.g.forEach(function(P,B){var Q=B.toLowerCase();B!=Q&&(Ba(this,B),ff(this,Q,P))},g)),g.j=T}function Zo(g,T){const P=new Ee;if(u.Image){const B=new Image;B.onload=b(mi,P,"TestLoadImage: loaded",!0,T,B),B.onerror=b(mi,P,"TestLoadImage: error",!1,T,B),B.onabort=b(mi,P,"TestLoadImage: abort",!1,T,B),B.ontimeout=b(mi,P,"TestLoadImage: timeout",!1,T,B),u.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else T(!1)}function $i(g,T){const P=new Ee,B=new AbortController,Q=setTimeout(()=>{B.abort(),mi(P,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:B.signal}).then(ae=>{clearTimeout(Q),ae.ok?mi(P,"TestPingServer: ok",!0,T):mi(P,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Q),mi(P,"TestPingServer: error",!1,T)})}function mi(g,T,P,B,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),B(P)}catch{}}function el(){this.g=new ui}function la(g,T,P){const B=P||"";try{lf(g,function(Q,ae){let be=Q;h(Q)&&(be=Lr(Q)),T.push(B+ae+"="+encodeURIComponent(be))})}catch(Q){throw T.push(B+"type="+encodeURIComponent("_badmap")),Q}}function $s(g){this.l=g.Ub||null,this.j=g.eb||!1}w($s,Ds),$s.prototype.g=function(){return new qa(this.l,this.j)},$s.prototype.i=(function(g){return function(){return g}})({});function qa(g,T){_t.call(this),this.D=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(qa,_t),t=qa.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=T,this.readyState=1,ca(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(T.body=g),(this.D||u).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hf(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function hf(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?ua(this):ca(this),this.readyState==3&&hf(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,ua(this))},t.Qa=function(g){this.g&&(this.response=g,ua(this))},t.ga=function(){this.g&&ua(this)};function ua(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ca(g)}t.setRequestHeader=function(g,T){this.u.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var P=T.next();!P.done;)P=P.value,g.push(P[0]+": "+P[1]),P=T.next();return g.join(`\r
`)};function ca(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function df(g){let T="";return D(g,function(P,B){T+=B,T+=":",T+=P,T+=`\r
`}),T}function Un(g,T,P){e:{for(B in P){var B=!1;break e}B=!0}B||(P=df(P),typeof g=="string"?P!=null&&encodeURIComponent(String(P)):Dt(g,T,P))}function At(g){_t.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(At,_t);var mu=/^https?$/i,tl=["POST","PUT"];t=At.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,T,P,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ht.g(),this.v=this.o?Ua(this.o):Ua(ht),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(ae){Md(this,ae);return}if(g=P||"",P=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Q in B)P.set(Q,B[Q]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ae of B.keys())P.set(ae,B.get(ae));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(P.keys()).find(ae=>ae.toLowerCase()=="content-type"),Q=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(tl,T,void 0))||B||Q||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,be]of P)this.g.setRequestHeader(ae,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nl(this),this.u=!0,this.g.send(g),this.u=!1}catch(ae){Md(this,ae)}};function Md(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.m=5,pu(g),fa(g)}function pu(g){g.A||(g.A=!0,nt(g,"complete"),nt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,nt(this,"complete"),nt(this,"abort"),fa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fa(this,!0)),At.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gu(this):this.bb())},t.bb=function(){gu(this)};function gu(g){if(g.h&&typeof o<"u"&&(!g.v[1]||pi(g)!=4||g.Z()!=2)){if(g.u&&pi(g)==4)mn(g.Ea,0,g);else if(nt(g,"readystatechange"),pi(g)==4){g.h=!1;try{const be=g.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var P;if(!(P=T)){var B;if(B=be===0){var Q=String(g.D).match(Yo)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),B=!mu.test(Q?Q.toLowerCase():"")}P=B}if(P)nt(g,"complete"),nt(g,"success");else{g.m=6;try{var ae=2<pi(g)?g.g.statusText:""}catch{ae=""}g.l=ae+" ["+g.Z()+"]",pu(g)}}finally{fa(g)}}}}function fa(g,T){if(g.g){nl(g);const P=g.g,B=g.v[0]?()=>{}:null;g.g=null,g.v=null,T||nt(g,"ready");try{P.onreadystatechange=B}catch{}}}function nl(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function pi(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<pi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),La(T)}};function Ld(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Wy(g){const T={};g=(g.g&&2<=pi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(R(g[B]))continue;var P=z(g[B]);const Q=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ae=T[Q]||[];T[Q]=ae,ae.push(P)}j(T,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rl(g,T,P){return P&&P.internalChannelParams&&P.internalChannelParams[g]||T}function yu(g){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rl("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rl("baseRetryDelayMs",5e3,g),this.cb=rl("retryDelaySeedMs",1e4,g),this.Wa=rl("forwardChannelMaxRetries",2,g),this.wa=rl("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Qn(g&&g.concurrentRequestLimit),this.Da=new el,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yu.prototype,t.la=8,t.G=1,t.connect=function(g,T,P,B){ee(0),this.W=g,this.H=T||{},P&&B!==void 0&&(this.H.OSID=P,this.H.OAID=B),this.F=this.X,this.I=Fd(this,null,this.W),bu(this)};function mf(g){if(Ud(g),g.G==3){var T=g.U++,P=$r(g.I);if(Dt(P,"SID",g.K),Dt(P,"RID",T),Dt(P,"TYPE","terminate"),il(g,P),T=new wt(g,g.j,T),T.L=2,T.v=Qo($r(P)),P=!1,u.navigator&&u.navigator.sendBeacon)try{P=u.navigator.sendBeacon(T.v.toString(),"")}catch{}!P&&u.Image&&(new Image().src=T.v,P=!0),P||(T.g=Hd(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Ur(T)}qd(g)}function vu(g){g.g&&(al(g),g.g.cancel(),g.g=null)}function Ud(g){vu(g),g.u&&(u.clearTimeout(g.u),g.u=null),_u(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function bu(g){if(!$t(g.h)&&!g.s){g.s=!0;var T=g.Ga;re||H(),pe||(re(),pe=!0),xe.add(T,g),g.B=0}}function Yy(g,T){return Vi(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=T.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ye(y(g.Ga,g,T),yf(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Q=new wt(this,this.j,g);let ae=this.o;if(this.S&&(ae?(ae=k(ae),V(ae,this.S)):ae=this.S),this.m!==null||this.O||(Q.H=ae,ae=null),this.P)e:{for(var T=0,P=0;P<this.i.length;P++){t:{var B=this.i[P];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(T+=B,4096<T){T=P;break e}if(T===4096||P===this.i.length-1){T=P+1;break e}}T=1e3}else T=1e3;T=Vd(this,Q,T),P=$r(this.I),Dt(P,"RID",g),Dt(P,"CVER",22),this.D&&Dt(P,"X-HTTP-Session-Id",this.D),il(this,P),ae&&(this.O?T="headers="+encodeURIComponent(String(df(ae)))+"&"+T:this.m&&Un(P,this.m,ae)),Us(this.h,Q),this.Ua&&Dt(P,"TYPE","init"),this.P?(Dt(P,"$req",T),Dt(P,"SID","null"),Q.T=!0,Xn(Q,P,null)):Xn(Q,P,T),this.G=2}}else this.G==3&&(g?pf(this,g):this.i.length==0||$t(this.h)||pf(this))};function pf(g,T){var P;T?P=T.l:P=g.U++;const B=$r(g.I);Dt(B,"SID",g.K),Dt(B,"RID",P),Dt(B,"AID",g.T),il(g,B),g.m&&g.o&&Un(B,g.m,g.o),P=new wt(g,g.j,P,g.B+1),g.m===null&&(P.H=g.o),T&&(g.i=T.D.concat(g.i)),T=Vd(g,P,1e3),P.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Us(g.h,P),Xn(P,B,T)}function il(g,T){g.H&&D(g.H,function(P,B){Dt(T,B,P)}),g.l&&lf({},function(P,B){Dt(T,B,P)})}function Vd(g,T,P){P=Math.min(g.i.length,P);var B=g.l?y(g.l.Na,g.l,g):null;e:{var Q=g.i;let ae=-1;for(;;){const be=["count="+P];ae==-1?0<P?(ae=Q[0].g,be.push("ofs="+ae)):ae=0:be.push("ofs="+ae);let dt=!0;for(let Tn=0;Tn<P;Tn++){let mt=Q[Tn].g;const Vn=Q[Tn].map;if(mt-=ae,0>mt)ae=Math.max(0,Q[Tn].g-100),dt=!1;else try{la(Vn,be,"req"+mt+"_")}catch{B&&B(Vn)}}if(dt){B=be.join("&");break e}}}return g=g.i.splice(0,P),T.D=g,B}function $d(g){if(!g.g&&!g.u){g.Y=1;var T=g.Fa;re||H(),pe||(re(),pe=!0),xe.add(T,g),g.v=0}}function gf(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ye(y(g.Fa,g),yf(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Bd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ye(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),vu(this),Bd(this))};function al(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function Bd(g){g.g=new wt(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var T=$r(g.qa);Dt(T,"RID","rpc"),Dt(T,"SID",g.K),Dt(T,"AID",g.T),Dt(T,"CI",g.F?"0":"1"),!g.F&&g.ja&&Dt(T,"TO",g.ja),Dt(T,"TYPE","xmlhttp"),il(g,T),g.m&&g.o&&Un(T,g.m,g.o),g.L&&(g.g.I=g.L);var P=g.g;g=g.ia,P.L=1,P.v=Qo($r(T)),P.m=null,P.P=!0,Ln(P,g)}t.Za=function(){this.C!=null&&(this.C=null,vu(this),gf(this),ee(19))};function _u(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function zd(g,T){var P=null;if(g.g==T){_u(g),al(g),g.g=null;var B=2}else if(Ls(g.h,T))P=T.D,wr(g.h,T),B=1;else return;if(g.G!=0){if(T.o)if(B==1){P=T.m?T.m.length:0,T=Date.now()-T.F;var Q=g.B;B=sa(),nt(B,new fe(B,P)),bu(g)}else $d(g);else if(Q=T.s,Q==3||Q==0&&0<T.X||!(B==1&&Yy(g,T)||B==2&&gf(g)))switch(P&&0<P.length&&(T=g.h,T.i=T.i.concat(P)),Q){case 1:Fa(g,5);break;case 4:Fa(g,10);break;case 3:Fa(g,6);break;default:Fa(g,2)}}}function yf(g,T){let P=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(P*=2),P*T}function Fa(g,T){if(g.j.info("Error code "+T),T==2){var P=y(g.fb,g),B=g.Xa;const Q=!B;B=new pn(B||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xo(B,"https"),Qo(B),Q?Zo(B.toString(),P):$i(B.toString(),P)}else ee(2);g.G=0,g.l&&g.l.sa(T),qd(g),Ud(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function qd(g){if(g.G=0,g.ka=[],g.l){const T=of(g.h);(T.length!=0||g.i.length!=0)&&(S(g.ka,T),S(g.ka,g.i),g.h.i.length=0,x(g.i),g.i.length=0),g.l.ra()}}function Fd(g,T,P){var B=P instanceof pn?$r(P):new pn(P);if(B.g!="")T&&(B.g=T+"."+B.g),Vs(B,B.s);else{var Q=u.location;B=Q.protocol,T=T?T+"."+Q.hostname:Q.hostname,Q=+Q.port;var ae=new pn(null);B&&Xo(ae,B),T&&(ae.g=T),Q&&Vs(ae,Q),P&&(ae.l=P),B=ae}return P=g.D,T=g.ya,P&&T&&Dt(B,P,T),Dt(B,"VER",g.la),il(g,B),B}function Hd(g,T,P){if(T&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Ca&&!g.pa?new At(new $s({eb:P})):new At(g.pa),T.Ha(g.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kd(){}t=Kd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wu(){}wu.prototype.g=function(g,T){return new xr(g,T)};function xr(g,T){_t.call(this),this.g=new yu(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(g?g["X-WebChannel-Client-Profile"]=T.va:g={"X-WebChannel-Client-Profile":T.va}),this.g.S=g,(g=T&&T.Sb)&&!R(g)&&(this.g.m=g),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!R(T)&&(this.g.D=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new ha(this)}w(xr,_t),xr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xr.prototype.close=function(){mf(this.g)},xr.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var P={};P.__data__=g,g=P}else this.u&&(P={},P.__data__=Lr(g),g=P);T.i.push(new Ui(T.Ya++,g)),T.G==3&&bu(T)},xr.prototype.N=function(){this.g.l=null,delete this.j,mf(this.g),delete this.g,xr.aa.N.call(this)};function Gd(g){Li.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const P in T){g=P;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}w(Gd,Li);function Wd(){ks.call(this),this.status=1}w(Wd,ks);function ha(g){this.g=g}w(ha,Kd),ha.prototype.ua=function(){nt(this.g,"a")},ha.prototype.ta=function(g){nt(this.g,new Gd(g))},ha.prototype.sa=function(g){nt(this.g,new Wd)},ha.prototype.ra=function(){nt(this.g,"b")},wu.prototype.createWebChannel=wu.prototype.g,xr.prototype.send=xr.prototype.o,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,GD=function(){return new wu},KD=function(){return sa()},HD=vr,ow={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Tp=Oe,Ze.COMPLETE="complete",FD=Ze,Wo.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",_t.prototype.listen=_t.prototype.K,bh=Wo,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,qD=At}).apply(typeof Jm<"u"?Jm:typeof self<"u"?self:typeof window<"u"?window:{});const mC="@firebase/firestore",pC="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new qx("@firebase/firestore");function uc(){return Fl.logLevel}function Se(t,...e){if(Fl.logLevel<=yt.DEBUG){const n=e.map(Hx);Fl.debug(`Firestore (${Fc}): ${t}`,...n)}}function ps(t,...e){if(Fl.logLevel<=yt.ERROR){const n=e.map(Hx);Fl.error(`Firestore (${Fc}): ${t}`,...n)}}function Oc(t,...e){if(Fl.logLevel<=yt.WARN){const n=e.map(Hx);Fl.warn(`Firestore (${Fc}): ${t}`,...n)}}function Hx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,WD(t,r,n)}function WD(t,e,n){let r=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ps(r),new Error(r)}function Ot(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||WD(e,i,r)}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends eu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(dr.UNAUTHENTICATED)))}shutdown(){}}class uz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cz{constructor(e){this.t=e,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ot(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new cs,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new cs)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot(typeof r.accessToken=="string",31837,{l:r}),new YD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ot(e===null||typeof e=="string",2055,{h:e}),new dr(e)}}class fz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(dr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,LD(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ot(this.o===void 0,3512);const r=a=>{a.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=mz(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function lw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return tb(i)===tb(a)?ct(i,a):tb(i)?1:-1}return ct(t.length,e.length)}const pz=55296,gz=57343;function tb(t){const e=t.charCodeAt(0);return e>=pz&&e<=gz}function Cc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="__name__";class _a{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _a.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _a?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=_a.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ct(e.length,n.length)}static compareSegments(e,n){const r=_a.isNumericId(e),i=_a.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?_a.extractNumericId(e).compare(_a.extractNumericId(n)):lw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return To.fromString(e.substring(4,e.length-2))}}class Ht extends _a{construct(e,n,r){return new Ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ht(n)}static emptyPath(){return new Ht([])}}const yz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends _a{construct(e,n,r){return new ar(e,n,r)}static isValidIdentifier(e){return yz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yC}static keyField(){return new ar([yC])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ie(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ie(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ie(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Ie(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(n)}static emptyPath(){return new ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Ht.fromString(e))}static fromName(e){return new Be(Ht.fromString(e).popFirst(5))}static empty(){return new Be(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e,n){if(!n)throw new Ie(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vz(t,e,n,r){if(e===!0&&r===!0)throw new Ie(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vC(t){if(!Be.isDocumentKey(t))throw new Ie(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bC(t){if(Be.isDocumentKey(t))throw new Ie(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function QD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function Hl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gx(t);throw new Ie(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,e){const n={typeString:t};return e&&(n.value=e),n}function dd(t,e){if(!QD(t))throw new Ie(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ie(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=-62135596800,wC=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*wC);return new Kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_C)throw new Ie(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wC}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dd(e,Kt._jsonSchema))return new Kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_C;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kt._jsonSchemaVersion="firestore/timestamp/1.0",Kt._jsonSchema={type:wn("string",Kt._jsonSchemaVersion),seconds:wn("number"),nanoseconds:wn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Kt(0,0))}static max(){return new Xe(new Kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=-1;function bz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new Kt(n+1,0):new Kt(n,r));return new Po(i,Be.empty(),e)}function _z(t){return new Po(t.readTime,t.key,zh)}class Po{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Po(Xe.min(),Be.empty(),zh)}static max(){return new Po(Xe.max(),Be.empty(),zh)}}function wz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ez{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==xz)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,r)=>{n(e)}))}static reject(e){return new he(((n,r)=>{r(e)}))}static waitFor(e){return new he(((n,r)=>{let i=0,a=0,o=!1;e.forEach((u=>{++i,u.next((()=>{++a,o&&a===i&&n()}),(f=>r(f)))})),o=!0,a===i&&n()}))}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next((i=>i?he.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new he(((r,i)=>{const a=e.length,o=new Array(a);let u=0;for(let f=0;f<a;f++){const h=f;n(e[h]).next((d=>{o[h]=d,++u,u===a&&r(o)}),(d=>i(d)))}}))}static doWhile(e,n){return new he(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Sz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=-1;function Fg(t){return t==null}function Vp(t){return t===0&&1/t==-1/0}function Tz(t){return typeof t=="number"&&Number.isInteger(t)&&!Vp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="";function Az(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xC(e)),e=Oz(t.get(n),e);return xC(e)}function Oz(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case JD:n+="";break;default:n+=a}}return n}function xC(t){return t+JD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zm(this.root,e,this.comparator,!0)}}class Zm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??rr.RED,this.left=i??rr.EMPTY,this.right=a??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new rr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new rr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SC(this.data.getIterator())}getIteratorFrom(e){return new SC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dn(this.comparator);return n.data=e,n}}class SC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new Qi([])}unionWith(e){let n=new Dn(ar.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ek("Invalid base64 string: "+a):a}})(e);return new or(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}or.EMPTY_BYTE_STRING=new or("");const Cz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(t){if(Ot(!!t,39018),typeof t=="string"){let e=0;const n=Cz.exec(t);if(Ot(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fn(t.seconds),nanos:fn(t.nanos)}}function fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function No(t){return typeof t=="string"?or.fromBase64String(t):or.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="server_timestamp",nk="__type__",rk="__previous_value__",ik="__local_write_time__";function Yx(t){return(t?.mapValue?.fields||{})[nk]?.stringValue===tk}function Hg(t){const e=t.mapValue.fields[rk];return Yx(e)?Hg(e):e}function qh(t){const e=Ro(t.mapValue.fields[ik].timestampValue);return new Kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,n,r,i,a,o,u,f,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=d}}const $p="(default)";class Fh{constructor(e,n){this.projectId=e,this.database=n||$p}static empty(){return new Fh("","")}get isDefaultDatabase(){return this.database===$p}isEqual(e){return e instanceof Fh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="__type__",Rz="__max__",ep={mapValue:{}},sk="__vector__",Bp="value";function jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yx(t)?4:jz(t)?9007199254740991:Nz(t)?10:11:Ge(28295,{value:t})}function Ra(t,e){if(t===e)return!0;const n=jo(t);if(n!==jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qh(t).isEqual(qh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Ro(i.timestampValue),u=Ro(a.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return No(i.bytesValue).isEqual(No(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return fn(i.geoPointValue.latitude)===fn(a.geoPointValue.latitude)&&fn(i.geoPointValue.longitude)===fn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return fn(i.integerValue)===fn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=fn(i.doubleValue),u=fn(a.doubleValue);return o===u?Vp(o)===Vp(u):isNaN(o)&&isNaN(u)}return!1})(t,e);case 9:return Cc(t.arrayValue.values||[],e.arrayValue.values||[],Ra);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},u=a.mapValue.fields||{};if(EC(o)!==EC(u))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(u[f]===void 0||!Ra(o[f],u[f])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function Hh(t,e){return(t.values||[]).find((n=>Ra(n,e)))!==void 0}function Pc(t,e){if(t===e)return 0;const n=jo(t),r=jo(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const u=fn(a.integerValue||a.doubleValue),f=fn(o.integerValue||o.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return TC(t.timestampValue,e.timestampValue);case 4:return TC(qh(t),qh(e));case 5:return lw(t.stringValue,e.stringValue);case 6:return(function(a,o){const u=No(a),f=No(o);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const u=a.split("/"),f=o.split("/");for(let h=0;h<u.length&&h<f.length;h++){const d=ct(u[h],f[h]);if(d!==0)return d}return ct(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const u=ct(fn(a.latitude),fn(o.latitude));return u!==0?u:ct(fn(a.longitude),fn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return AC(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const u=a.fields||{},f=o.fields||{},h=u[Bp]?.arrayValue,d=f[Bp]?.arrayValue,p=ct(h?.values?.length||0,d?.values?.length||0);return p!==0?p:AC(h,d)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===ep.mapValue&&o===ep.mapValue)return 0;if(a===ep.mapValue)return 1;if(o===ep.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),h=o.fields||{},d=Object.keys(h);f.sort(),d.sort();for(let p=0;p<f.length&&p<d.length;++p){const y=lw(f[p],d[p]);if(y!==0)return y;const b=Pc(u[f[p]],h[d[p]]);if(b!==0)return b}return ct(f.length,d.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function TC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Ro(t),r=Ro(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function AC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Pc(n[i],r[i]);if(a)return a}return ct(n.length,r.length)}function Rc(t){return uw(t)}function uw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ro(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return No(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=uw(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${uw(n.fields[o])}`;return i+"}"})(t.mapValue):Ge(61005,{value:t})}function Ap(t){switch(jo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hg(t);return e?16+Ap(e):16;case 5:return 2*t.stringValue.length;case 6:return No(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Ap(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return tu(r.fields,((a,o)=>{i+=a.length+Ap(o)})),i})(t.mapValue);default:throw Ge(13486,{value:t})}}function cw(t){return!!t&&"integerValue"in t}function Xx(t){return!!t&&"arrayValue"in t}function OC(t){return!!t&&"nullValue"in t}function CC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Op(t){return!!t&&"mapValue"in t}function Nz(t){return(t?.mapValue?.fields||{})[ak]?.stringValue===sk}function Oh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return tu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Oh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oh(t.arrayValue.values[n]);return e}return{...t}}function jz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Rz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.value=e}static empty(){return new Pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Op(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(n)}setAll(e){let n=ar.emptyPath(),r={},i=[];e.forEach(((o,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=Oh(o):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Op(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ra(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Op(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){tu(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Pi(Oh(this.value))}}function ok(t){const e=[];return tu(t.fields,((n,r)=>{const i=new ar([n]);if(Op(r)){const a=ok(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n,r,i,a,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}static newInvalidDocument(e){return new pr(e,0,Xe.min(),Xe.min(),Xe.min(),Pi.empty(),0)}static newFoundDocument(e,n,r,i){return new pr(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new pr(e,2,n,Xe.min(),Xe.min(),Pi.empty(),0)}static newUnknownDocument(e,n){return new pr(e,3,n,Xe.min(),Xe.min(),Pi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){this.position=e,this.inclusive=n}}function PC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Be.comparator(Be.fromName(o.referenceValue),n.key):r=Pc(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function RC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ra(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Dz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{}class Nn extends lk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Iz(e,n,r):n==="array-contains"?new Uz(e,r):n==="in"?new Vz(e,r):n==="not-in"?new $z(e,r):n==="array-contains-any"?new Bz(e,r):new Nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mz(e,r):new Lz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pc(n,this.value)):n!==null&&jo(this.value)===jo(n)&&this.matchesComparison(Pc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Na extends lk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Na(e,n)}matches(e){return uk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uk(t){return t.op==="and"}function ck(t){return kz(t)&&uk(t)}function kz(t){for(const e of t.filters)if(e instanceof Na)return!1;return!0}function fw(t){if(t instanceof Nn)return t.field.canonicalString()+t.op.toString()+Rc(t.value);if(ck(t))return t.filters.map((e=>fw(e))).join(",");{const e=t.filters.map((n=>fw(n))).join(",");return`${t.op}(${e})`}}function fk(t,e){return t instanceof Nn?(function(r,i){return i instanceof Nn&&r.op===i.op&&r.field.isEqual(i.field)&&Ra(r.value,i.value)})(t,e):t instanceof Na?(function(r,i){return i instanceof Na&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,u)=>a&&fk(o,i.filters[u])),!0):!1})(t,e):void Ge(19439)}function hk(t){return t instanceof Nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Rc(n.value)}`})(t):t instanceof Na?(function(n){return n.op.toString()+" {"+n.getFilters().map(hk).join(" ,")+"}"})(t):"Filter"}class Iz extends Nn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mz extends Nn{constructor(e,n){super(e,"in",n),this.keys=dk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Lz extends Nn{constructor(e,n){super(e,"not-in",n),this.keys=dk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dk(t,e){return(e.arrayValue?.values||[]).map((n=>Be.fromName(n.referenceValue)))}class Uz extends Nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xx(n)&&Hh(n.arrayValue,this.value)}}class Vz extends Nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hh(this.value.arrayValue,n)}}class $z extends Nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hh(this.value.arrayValue,n)}}class Bz extends Nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Hh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,n=null,r=[],i=[],a=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.Te=null}}function NC(t,e=null,n=[],r=[],i=null,a=null,o=null){return new zz(t,e,n,r,i,a,o)}function Qx(t){const e=Je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>fw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Fg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Rc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Rc(r))).join(",")),e.Te=n}return e.Te}function Jx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Dz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RC(t.startAt,e.startAt)&&RC(t.endAt,e.endAt)}function hw(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n=null,r=[],i=[],a=null,o="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qz(t,e,n,r,i,a,o,u){return new Kg(t,e,n,r,i,a,o,u)}function Zx(t){return new Kg(t)}function jC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Fz(t){return t.collectionGroup!==null}function Ch(t){const e=Je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Dn(ar.comparator);return o.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new qp(a,r))})),n.has(ar.keyField().canonicalString())||e.Ie.push(new qp(ar.keyField(),r))}return e.Ie}function Ea(t){const e=Je(t);return e.Ee||(e.Ee=Hz(e,Ch(t))),e.Ee}function Hz(t,e){if(t.limitType==="F")return NC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new qp(i.field,a)}));const n=t.endAt?new zp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zp(t.startAt.position,t.startAt.inclusive):null;return NC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dw(t,e,n){return new Kg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gg(t,e){return Jx(Ea(t),Ea(e))&&t.limitType===e.limitType}function mk(t){return`${Qx(Ea(t))}|lt:${t.limitType}`}function cc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>hk(i))).join(", ")}]`),Fg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Rc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Rc(i))).join(",")),`Target(${r})`})(Ea(t))}; limitType=${t.limitType})`}function Wg(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Ch(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,u,f){const h=PC(o,u,f);return o.inclusive?h<=0:h<0})(r.startAt,Ch(r),i)||r.endAt&&!(function(o,u,f){const h=PC(o,u,f);return o.inclusive?h>=0:h>0})(r.endAt,Ch(r),i))})(t,e)}function Kz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pk(t){return(e,n)=>{let r=!1;for(const i of Ch(t)){const a=Gz(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Gz(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):(function(a,o,u){const f=o.data.field(a),h=u.data.field(a);return f!==null&&h!==null?Pc(f,h):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tu(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return ZD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=new tn(Be.comparator);function gs(){return Wz}const gk=new tn(Be.comparator);function _h(...t){let e=gk;for(const n of t)e=e.insert(n.key,n);return e}function yk(t){let e=gk;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function jl(){return Ph()}function vk(){return Ph()}function Ph(){return new nu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Yz=new tn(Be.comparator),Xz=new Dn(Be.comparator);function ft(...t){let e=Xz;for(const n of t)e=e.add(n);return e}const Qz=new Dn(ct);function Jz(){return Qz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vp(e)?"-0":e}}function bk(t){return{integerValue:""+t}}function Zz(t,e){return Tz(e)?bk(e):eE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this._=void 0}}function eq(t,e,n){return t instanceof Fp?(function(i,a){const o={fields:{[nk]:{stringValue:tk},[ik]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Yx(a)&&(a=Hg(a)),a&&(o.fields[rk]=a),{mapValue:o}})(n,e):t instanceof Kh?wk(t,e):t instanceof Gh?xk(t,e):(function(i,a){const o=_k(i,a),u=DC(o)+DC(i.Ae);return cw(o)&&cw(i.Ae)?bk(u):eE(i.serializer,u)})(t,e)}function tq(t,e,n){return t instanceof Kh?wk(t,e):t instanceof Gh?xk(t,e):n}function _k(t,e){return t instanceof Hp?(function(r){return cw(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Fp extends Yg{}class Kh extends Yg{constructor(e){super(),this.elements=e}}function wk(t,e){const n=Ek(e);for(const r of t.elements)n.some((i=>Ra(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Gh extends Yg{constructor(e){super(),this.elements=e}}function xk(t,e){let n=Ek(e);for(const r of t.elements)n=n.filter((i=>!Ra(i,r)));return{arrayValue:{values:n}}}class Hp extends Yg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function DC(t){return fn(t.integerValue||t.doubleValue)}function Ek(t){return Xx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nq(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Kh&&i instanceof Kh||r instanceof Gh&&i instanceof Gh?Cc(r.elements,i.elements,Ra):r instanceof Hp&&i instanceof Hp?Ra(r.Ae,i.Ae):r instanceof Fp&&i instanceof Fp})(t.transform,e.transform)}class rq{constructor(e,n){this.version=e,this.transformResults=n}}class fs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fs}static exists(e){return new fs(void 0,e)}static updateTime(e){return new fs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xg{}function Sk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ak(t.key,fs.none()):new md(t.key,t.data,fs.none());{const n=t.data,r=Pi.empty();let i=new Dn(ar.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new ru(t.key,r,new Qi(i.toArray()),fs.none())}}function iq(t,e,n){t instanceof md?(function(i,a,o){const u=i.value.clone(),f=IC(i.fieldTransforms,a,o.transformResults);u.setAll(f),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):t instanceof ru?(function(i,a,o){if(!Cp(i.precondition,a))return void a.convertToUnknownDocument(o.version);const u=IC(i.fieldTransforms,a,o.transformResults),f=a.data;f.setAll(Tk(i)),f.setAll(u),a.convertToFoundDocument(o.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Rh(t,e,n,r){return t instanceof md?(function(a,o,u,f){if(!Cp(a.precondition,o))return u;const h=a.value.clone(),d=MC(a.fieldTransforms,f,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof ru?(function(a,o,u,f){if(!Cp(a.precondition,o))return u;const h=MC(a.fieldTransforms,f,o),d=o.data;return d.setAll(Tk(a)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,o,u){return Cp(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(t,e,n)}function aq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=_k(r.transform,i||null);a!=null&&(n===null&&(n=Pi.empty()),n.set(r.field,a))}return n||null}function kC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Cc(r,i,((a,o)=>nq(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class md extends Xg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ru extends Xg{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Tk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function IC(t,e,n){const r=new Map;Ot(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,u=e.data.field(a.field);r.set(a.field,tq(o,u,n[i]))}return r}function MC(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,eq(a,o,e))}return r}class Ak extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sq extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&iq(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vk();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let u=this.applyToLocalView(o,a.mutatedFields);u=n.has(i.key)?null:u;const f=Sk(o,u);f!==null&&r.set(i.key,f),o.isValidDocument()||o.convertToNoDocument(Xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ft())}isEqual(e){return this.batchId===e.batchId&&Cc(this.mutations,e.mutations,((n,r)=>kC(n,r)))&&Cc(this.baseMutations,e.baseMutations,((n,r)=>kC(n,r)))}}class tE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ot(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Yz})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new tE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn,gt;function cq(t){switch(t){case de.OK:return Ge(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function Ok(t){if(t===void 0)return ps("GRPC error has no .code"),de.UNKNOWN;switch(t){case vn.OK:return de.OK;case vn.CANCELLED:return de.CANCELLED;case vn.UNKNOWN:return de.UNKNOWN;case vn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case vn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case vn.INTERNAL:return de.INTERNAL;case vn.UNAVAILABLE:return de.UNAVAILABLE;case vn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case vn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case vn.NOT_FOUND:return de.NOT_FOUND;case vn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case vn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case vn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case vn.ABORTED:return de.ABORTED;case vn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case vn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case vn.DATA_LOSS:return de.DATA_LOSS;default:return Ge(39323,{code:t})}}(gt=vn||(vn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq=new To([4294967295,4294967295],0);function LC(t){const e=fq().encode(t),n=new zD;return n.update(e),new Uint8Array(n.digest())}function UC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new To([n,r],0),new To([i,a],0)]}class nE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wh(`Invalid padding: ${n}`);if(r<0)throw new wh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=To.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(To.fromNumber(r)));return i.compare(hq)===1&&(i=new To([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=LC(e),[r,i]=UC(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new nE(a,i,n);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.ge===0)return;const n=LC(e),[r,i]=UC(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qg(Xe.min(),i,new tn(ct),gs(),ft())}}class pd{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pd(r,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Ck{constructor(e,n){this.targetId=e,this.Ce=n}}class Pk{constructor(e,n,r=or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class VC{constructor(){this.ve=0,this.Fe=$C(),this.Me=or.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ft(),n=ft(),r=ft();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ge(38017,{changeType:a})}})),new pd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=$C()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dq{constructor(e){this.Ge=e,this.ze=new Map,this.je=gs(),this.Je=tp(),this.He=tp(),this.Ye=new tn(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(hw(a))if(r===0){const o=new Be(a.path);this.et(n,o,pr.newNoDocument(o,Xe.min()))}else Ot(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),f=u?this.ct(u,e,o):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,u;try{o=No(r).toUint8Array()}catch(f){if(f instanceof ek)return Oc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new nE(o,i,a)}catch(f){return Oc(f instanceof wh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const u=this.ot(o);if(u){if(a.current&&hw(u.target)){const f=new Be(u.target.path);this.It(f).has(o)||this.Et(o,f)||this.et(o,f,pr.newNoDocument(f,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=ft();this.He.forEach(((a,o)=>{let u=!0;o.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new Qg(e,n,this.Ye,this.je,r);return this.je=gs(),this.Je=tp(),this.He=tp(),this.Ye=new tn(ct),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new VC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dn(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dn(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new VC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function tp(){return new tn(Be.comparator)}function $C(){return new tn(Be.comparator)}const mq={asc:"ASCENDING",desc:"DESCENDING"},pq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gq={and:"AND",or:"OR"};class yq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mw(t,e){return t.useProto3Json||Fg(e)?e:{value:e}}function Kp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vq(t,e){return Kp(t,e.toTimestamp())}function Sa(t){return Ot(!!t,49232),Xe.fromTimestamp((function(n){const r=Ro(n);return new Kt(r.seconds,r.nanos)})(t))}function rE(t,e){return pw(t,e).canonicalString()}function pw(t,e){const n=(function(i){return new Ht(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Nk(t){const e=Ht.fromString(t);return Ot(Mk(e),10190,{key:e.toString()}),e}function gw(t,e){return rE(t.databaseId,e.path)}function nb(t,e){const n=Nk(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(Dk(n))}function jk(t,e){return rE(t.databaseId,e)}function bq(t){const e=Nk(t);return e.length===4?Ht.emptyPath():Dk(e)}function yw(t){return new Ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Dk(t){return Ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function BC(t,e,n){return{name:gw(t,e),fields:n.value.mapValue.fields}}function _q(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ge(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,d){return h.useProto3Json?(Ot(d===void 0||typeof d=="string",58123),or.fromBase64String(d||"")):(Ot(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),or.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(h){const d=h.code===void 0?de.UNKNOWN:Ok(h.code);return new Ie(d,h.message||"")})(o);n=new Pk(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=nb(t,r.document.name),a=Sa(r.document.updateTime),o=r.document.createTime?Sa(r.document.createTime):Xe.min(),u=new Pi({mapValue:{fields:r.document.fields}}),f=pr.newFoundDocument(i,a,o,u),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Pp(h,d,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=nb(t,r.document),a=r.readTime?Sa(r.readTime):Xe.min(),o=pr.newNoDocument(i,a),u=r.removedTargetIds||[];n=new Pp([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=nb(t,r.document),a=r.removedTargetIds||[];n=new Pp([],a,i,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new uq(i,a),u=r.targetId;n=new Ck(u,o)}}return n}function wq(t,e){let n;if(e instanceof md)n={update:BC(t,e.key,e.value)};else if(e instanceof Ak)n={delete:gw(t,e.key)};else if(e instanceof ru)n={update:BC(t,e.key,e.data),updateMask:Rq(e.fieldMask)};else{if(!(e instanceof sq))return Ge(16599,{Vt:e.type});n={verify:gw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const u=o.transform;if(u instanceof Fp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Kh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Gh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Hp)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw Ge(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:vq(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ge(27497)})(t,e.precondition)),n}function xq(t,e){return t&&t.length>0?(Ot(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?Sa(i.updateTime):Sa(a);return o.isEqual(Xe.min())&&(o=Sa(a)),new rq(o,i.transformResults||[])})(n,e)))):[]}function Eq(t,e){return{documents:[jk(t,e.path)]}}function Sq(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jk(t,i);const a=(function(h){if(h.length!==0)return Ik(Na.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(h){if(h.length!==0)return h.map((d=>(function(y){return{field:fc(y.field),direction:Oq(y.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=mw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function Tq(t){let e=bq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ot(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=(function(p){const y=kk(p);return y instanceof Na&&ck(y)?y.getFilters():[y]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((y=>(function(w){return new qp(hc(w.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let y;return y=typeof p=="object"?p.value:p,Fg(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(p){const y=!!p.before,b=p.values||[];return new zp(b,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const y=!p.before,b=p.values||[];return new zp(b,y)})(n.endAt)),qz(e,i,o,a,u,"F",f,h)}function Aq(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hc(n.unaryFilter.field);return Nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hc(n.unaryFilter.field);return Nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=hc(n.unaryFilter.field);return Nn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hc(n.unaryFilter.field);return Nn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Nn.create(hc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Na.create(n.compositeFilter.filters.map((r=>kk(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function Oq(t){return mq[t]}function Cq(t){return pq[t]}function Pq(t){return gq[t]}function fc(t){return{fieldPath:t.canonicalString()}}function hc(t){return ar.fromServerFormat(t.fieldPath)}function Ik(t){return t instanceof Nn?(function(n){if(n.op==="=="){if(CC(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NAN"}};if(OC(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CC(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NAN"}};if(OC(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(n.field),op:Cq(n.op),value:n.value}}})(t):t instanceof Na?(function(n){const r=n.getFilters().map((i=>Ik(i)));return r.length===1?r[0]:{compositeFilter:{op:Pq(n.op),filters:r}}})(t):Ge(54877,{filter:t})}function Rq(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Mk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,r,i,a=Xe.min(),o=Xe.min(),u=or.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new _o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e){this.yt=e}}function jq(t){const e=Tq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(){this.Cn=new kq}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Po.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class kq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dn(Ht.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lk=41943040;class Nr{static withCacheSize(e){return new Nr(e,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(Lk,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nc(0)}static cr(){return new Nc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="LruGarbageCollector",Iq=1048576;function FC([t,e],[n,r]){const i=ct(t,n);return i===0?ct(e,r):i}class Mq{constructor(e){this.Ir=e,this.buffer=new Dn(FC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();FC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Lq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Se(qC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Kc(n)?Se(qC,"Ignoring IndexedDB error during garbage collection: ",n):await Hc(n)}await this.Vr(3e5)}))}}class Uq{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(qg.ce);const r=new Mq(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(zC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,u,f,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(h=Date.now(),uc()<=yt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(u-o)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${p} documents in `+(h-f)+`ms
Total Duration: ${h-d}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function Vq(t,e){return new Uq(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(){this.changes=new nu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Rh(r.mutation,i,Qi.empty(),Kt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ft()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ft()){const i=jl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=_h();return a.forEach(((u,f)=>{o=o.insert(u,f.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=jl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ft())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,u)=>{n.set(o,u)}))}))}computeViews(e,n,r,i){let a=gs();const o=Ph(),u=(function(){return Ph()})();return n.forEach(((f,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof ru)?a=a.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),Rh(d.mutation,h,d.mutation.getFieldMask(),Kt.now())):o.set(h.key,Qi.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((h,d)=>o.set(h,d))),n.forEach(((h,d)=>u.set(h,new Bq(d,o.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Ph();let i=new tn(((o,u)=>o-u)),a=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const u of o)u.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let d=r.get(f)||Qi.empty();d=u.applyToLocalView(h,d),r.set(f,d);const p=(i.get(u.batchId)||ft()).add(f);i=i.insert(u.batchId,p)}))})).next((()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,d=f.value,p=vk();d.forEach((y=>{if(!a.has(y)){const b=Sk(n.get(y),r.get(y));b!==null&&p.set(y,b),a=a.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return he.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return Be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):he.resolve(jl());let u=zh,f=a;return o.next((h=>he.forEach(h,((d,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(d)?he.resolve():this.remoteDocumentCache.getEntry(e,d).next((y=>{f=f.insert(d,y)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,f,h,ft()))).next((d=>({batchId:u,changes:yk(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((r=>{let i=_h();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=_h();return this.indexManager.getCollectionParents(e,a).next((u=>he.forEach(u,(f=>{const h=(function(p,y){return new Kg(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((d=>{d.forEach(((p,y)=>{o=o.insert(p,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((f,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,pr.newInvalidDocument(d)))}));let u=_h();return o.forEach(((f,h)=>{const d=a.get(f);d!==void 0&&Rh(d.mutation,h,Qi.empty(),Kt.now()),Wg(n,h)&&(u=u.insert(f,h))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Sa(i.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:jq(i.bundledQuery),readTime:Sa(i.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(){this.overlays=new tn(Be.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jl();return he.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),he.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const i=jl(),a=n.length+1,o=new Be(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return he.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new tn(((h,d)=>h-d));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=a.get(h.largestBatchId);d===null&&(d=jl(),a=a.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const u=jl(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,d)=>u.set(h,d))),!(u.size()>=i)););return he.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lq(n,r));let a=this.qr.get(n);a===void 0&&(a=ft(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(){this.sessionToken=or.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.Qr=new Dn(Fn.$r),this.Ur=new Dn(Fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Fn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Fn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Be(new Ht([])),r=new Fn(n,e),i=new Fn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Be(new Ht([])),r=new Fn(n,e),i=new Fn(n,e+1);let a=ft();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new Fn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Be.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dn(Fn.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oq(a,n,r,i);this.mutationQueue.push(o);for(const u of i)this.Zr=this.Zr.add(new Fn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return he.resolve(o)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Wx:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fn(n,0),i=new Fn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const u=this.Xr(o.Yr);a.push(u)})),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dn(ct);return n.forEach((i=>{const a=new Fn(i,0),o=new Fn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(u=>{r=r.add(u.Yr)}))})),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Be.isDocumentKey(a)||(a=a.child(""));const o=new Fn(new Be(a),0);let u=new Dn(ct);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Yr)),!0)}),o),he.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ot(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(n.mutations,(i=>{const a=new Fn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Fn(n,0),i=this.Zr.firstAfterOrEqual(r);return he.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e){this.ri=e,this.docs=(function(){return new tn(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():pr.newInvalidDocument(n))}getEntries(e,n){let r=gs();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():pr.newInvalidDocument(i))})),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=gs();const o=n.path,u=new Be(o.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:d}}=f.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||wz(_z(d),r)<=0||(i.has(d.key)||Wg(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ge(9500)}ii(e,n){return he.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Wq(this)}getSize(e){return he.resolve(this.size)}}class Wq extends $q{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e){this.persistence=e,this.si=new nu((n=>Qx(n)),Jx),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.oi=0,this._i=new iE,this.targetCount=0,this.ai=Nc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Nc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),he.waitFor(a).next((()=>i))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),he.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.ui={},this.overlays={},this.ci=new qg(0),this.li=!1,this.li=!0,this.hi=new Hq,this.referenceDelegate=e(this),this.Pi=new Yq(this),this.indexManager=new Dq,this.remoteDocumentCache=(function(i){return new Gq(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Nq(n),this.Ii=new qq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Fq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Kq(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const i=new Xq(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return he.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Xq extends Ez{constructor(e){super(),this.currentSequenceNumber=e}}class aE{constructor(e){this.persistence=e,this.Ri=new iE,this.Vi=null}static mi(e){return new aE(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(r=>{const i=Be.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gp{constructor(e,n){this.persistence=e,this.pi=new nu((r=>Az(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Vq(this,n)}static mi(e,n){return new Gp(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return he.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?he.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((u=>{u||(r++,a.removeEntry(o,Xe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ap(e.data.value)),n}br(e,n,r){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return he.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ft(),i=ft();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new sE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GB()?8:Sz(HB())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new Qq;return this.Ss(e,n,o).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,o,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(uc()<=yt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",cc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(uc()<=yt.DEBUG&&Se("QueryEngine","Query:",cc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(uc()<=yt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",cc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ea(n))):he.resolve())}ys(e,n){if(jC(n))return he.resolve(null);let r=Ea(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=dw(n,null,"F"),r=Ea(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=ft(...a);return this.ps.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,u);return this.Cs(n,h,o,f.readTime)?this.ys(e,dw(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return jC(n)||i.isEqual(Xe.min())?he.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?he.resolve(null):(uc()<=yt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cc(n)),this.vs(e,o,n,bz(i,zh)).next((u=>u)))}))}Ds(e,n){let r=new Dn(pk(e));return n.forEach(((i,a)=>{Wg(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return uc()<=yt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",cc(n)),this.ps.getDocumentsMatchingQuery(e,n,Po.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="LocalStore",Zq=3e8;class e8{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new tn(ct),this.xs=new nu((a=>Qx(a)),Jx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zq(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function t8(t,e,n,r){return new e8(t,e,n,r)}async function Vk(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],u=[];let f=ft();for(const h of i){o.push(h.batchId);for(const d of h.mutations)f=f.add(d.key)}for(const h of a){u.push(h.batchId);for(const d of h.mutations)f=f.add(d.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:u})))}))}))}function n8(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,h,d){const p=h.batch,y=p.keys();let b=he.resolve();return y.forEach((w=>{b=b.next((()=>d.getEntry(f,w))).next((x=>{const S=h.docVersions.get(w);Ot(S!==null,48541),x.version.compareTo(S)<0&&(p.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),d.addEntry(x)))}))})),b.next((()=>u.mutationQueue.removeMutationBatch(f,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=ft();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function $k(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function r8(t,e){const n=Je(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((d,p)=>{const y=i.get(p);if(!y)return;u.push(n.Pi.removeMatchingKeys(a,d.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,d.addedDocuments,p))));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(or.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):d.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(d.resumeToken,r)),i=i.insert(p,b),(function(x,S,A){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Zq?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(y,b,d)&&u.push(n.Pi.updateTargetData(a,b))}));let f=gs(),h=ft();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))})),u.push(i8(a,o,e.documentUpdates).next((d=>{f=d.ks,h=d.qs}))),!r.isEqual(Xe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(d)}return he.waitFor(u).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,h))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function i8(t,e,n){let r=ft(),i=ft();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=gs();return n.forEach(((u,f)=>{const h=a.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(e.removeEntry(u,f.readTime),o=o.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),o=o.insert(u,f)):Se(oE,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)})),{ks:o,qs:i}}))}function a8(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Wx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function s8(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,he.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new _o(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function vw(t,e,n){const r=Je(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Kc(o))throw o;Se(oE,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function HC(t,e,n){const r=Je(t);let i=Xe.min(),a=ft();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(f,h,d){const p=Je(f),y=p.xs.get(d);return y!==void 0?he.resolve(p.Ms.get(y)):p.Pi.getTargetData(h,d)})(r,o,Ea(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Xe.min(),n?a:ft()))).next((u=>(o8(r,Kz(e),u),{documents:u,Qs:a})))))}function o8(t,e,n){let r=t.Os.get(e)||Xe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class KC{constructor(){this.activeTargetIds=Jz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l8{constructor(){this.Mo=new KC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new KC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="ConnectivityMonitor";class WC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Se(GC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Se(GC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np=null;function bw(){return np===null?np=(function(){return 268435456+Math.round(2147483648*Math.random())})():np++,"0x"+np.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="RestConnection",c8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===$p?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=bw(),u=this.zo(e,n.toUriEncodedString());Se(rb,`Sending RPC '${e}' ${o}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:h}=new URL(u),d=zx(h);return this.Jo(e,u,f,r,d).then((p=>(Se(rb,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Oc(rb,`RPC '${e}' ${o} failed with error: `,p,"url: ",u,"request:",r),p}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=c8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="WebChannelConnection";class d8 extends f8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=bw();return new Promise(((u,f)=>{const h=new qD;h.setWithCredentials(!0),h.listenOnce(FD.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Tp.NO_ERROR:const p=h.getResponseJson();Se(fr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),u(p);break;case Tp.TIMEOUT:Se(fr,`RPC '${e}' ${o} timed out`),f(new Ie(de.DEADLINE_EXCEEDED,"Request time out"));break;case Tp.HTTP_ERROR:const y=h.getStatus();if(Se(fr,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b?.error;if(w&&w.status&&w.message){const x=(function(A){const R=A.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(R)>=0?R:de.UNKNOWN})(w.status);f(new Ie(x,w.message))}else f(new Ie(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ie(de.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Se(fr,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(i);Se(fr,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=bw(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=GD(),u=KD(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const d=a.join("");Se(fr,`Creating RPC '${e}' stream ${i}: ${d}`,f);const p=o.createWebChannel(d,f);this.I_(p);let y=!1,b=!1;const w=new h8({Yo:S=>{b?Se(fr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(y||(Se(fr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Se(fr,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),x=(S,A,R)=>{S.listen(A,(C=>{try{R(C)}catch(L){setTimeout((()=>{throw L}),0)}}))};return x(p,bh.EventType.OPEN,(()=>{b||(Se(fr,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),x(p,bh.EventType.CLOSE,(()=>{b||(b=!0,Se(fr,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))})),x(p,bh.EventType.ERROR,(S=>{b||(b=!0,Oc(fr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),w.a_(new Ie(de.UNAVAILABLE,"The operation could not be completed")))})),x(p,bh.EventType.MESSAGE,(S=>{if(!b){const A=S.data[0];Ot(!!A,16349);const R=A,C=R?.error||R[0]?.error;if(C){Se(fr,`RPC '${e}' stream ${i} received error:`,C);const L=C.status;let U=(function(k){const M=vn[k];if(M!==void 0)return Ok(M)})(L),D=C.message;U===void 0&&(U=de.INTERNAL,D="Unknown error status: "+L+" with message "+C.message),b=!0,w.a_(new Ie(U,D)),p.close()}else Se(fr,`RPC '${e}' stream ${i} received:`,A),w.u_(A)}})),x(u,HD.STAT_EVENT,(S=>{S.stat===ow.PROXY?Se(fr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===ow.NOPROXY&&Se(fr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ib(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t){return new yq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="PersistentStream";class zk{constructor(e,n,r,i,a,o,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ie(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(YC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Se(YC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class m8 extends zk{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_q(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Xe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Xe.min():o.readTime?Sa(o.readTime):Xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=yw(this.serializer),n.addTarget=(function(a,o){let u;const f=o.target;if(u=hw(f)?{documents:Eq(a,f)}:{query:Sq(a,f).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=Rk(a,o.resumeToken);const h=mw(a,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(Xe.min())>0){u.readTime=Kp(a,o.snapshotVersion.toTimestamp());const h=mw(a,o.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=Aq(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=yw(this.serializer),n.removeTarget=e,this.q_(n)}}class p8 extends zk{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xq(e.writeResults,e.commitTime),r=Sa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=yw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>wq(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{}class y8 extends g8{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ie(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,pw(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(de.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Ho(e,pw(n,r),i,o,u,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(de.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class v8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(n),this.aa=!1):Se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="RemoteStore";class b8{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{iu(this)&&(Se(Kl,"Restarting streams for network reachability change."),await(async function(f){const h=Je(f);h.Ea.add(4),await gd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Zg(h)})(this))}))})),this.Ra=new v8(r,i)}}async function Zg(t){if(iu(t))for(const e of t.da)await e(!0)}async function gd(t){for(const e of t.da)await e(!1)}function qk(t,e){const n=Je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),fE(n)?cE(n):Gc(n).O_()&&uE(n,e))}function lE(t,e){const n=Je(t),r=Gc(n);n.Ia.delete(e),r.O_()&&Fk(n,e),n.Ia.size===0&&(r.O_()?r.L_():iu(n)&&n.Ra.set("Unknown"))}function uE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gc(t).Y_(e)}function Fk(t,e){t.Va.Ue(e),Gc(t).Z_(e)}function cE(t){t.Va=new dq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Gc(t).start(),t.Ra.ua()}function fE(t){return iu(t)&&!Gc(t).x_()&&t.Ia.size>0}function iu(t){return Je(t).Ea.size===0}function Hk(t){t.Va=void 0}async function _8(t){t.Ra.set("Online")}async function w8(t){t.Ia.forEach(((e,n)=>{uE(t,e)}))}async function x8(t,e){Hk(t),fE(t)?(t.Ra.ha(e),cE(t)):t.Ra.set("Unknown")}async function E8(t,e,n){if(t.Ra.set("Online"),e instanceof Pk&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Se(Kl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wp(t,r)}else if(e instanceof Pp?t.Va.Ze(e):e instanceof Ck?t.Va.st(e):t.Va.tt(e),!n.isEqual(Xe.min()))try{const r=await $k(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const u=a.Va.Tt(o);return u.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const d=a.Ia.get(h);d&&a.Ia.set(h,d.withResumeToken(f.resumeToken,o))}})),u.targetMismatches.forEach(((f,h)=>{const d=a.Ia.get(f);if(!d)return;a.Ia.set(f,d.withResumeToken(or.EMPTY_BYTE_STRING,d.snapshotVersion)),Fk(a,f);const p=new _o(d.target,f,h,d.sequenceNumber);uE(a,p)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Se(Kl,"Failed to raise snapshot:",r),await Wp(t,r)}}async function Wp(t,e,n){if(!Kc(e))throw e;t.Ea.add(1),await gd(t),t.Ra.set("Offline"),n||(n=()=>$k(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Se(Kl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zg(t)}))}function Kk(t,e){return e().catch((n=>Wp(t,n,e)))}async function ey(t){const e=Je(t),n=Do(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wx;for(;S8(e);)try{const i=await a8(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,T8(e,i)}catch(i){await Wp(e,i)}Gk(e)&&Wk(e)}function S8(t){return iu(t)&&t.Ta.length<10}function T8(t,e){t.Ta.push(e);const n=Do(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Gk(t){return iu(t)&&!Do(t).x_()&&t.Ta.length>0}function Wk(t){Do(t).start()}async function A8(t){Do(t).ra()}async function O8(t){const e=Do(t);for(const n of t.Ta)e.ea(n.mutations)}async function C8(t,e,n){const r=t.Ta.shift(),i=tE.from(r,e,n);await Kk(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await ey(t)}async function P8(t,e){e&&Do(t).X_&&await(async function(r,i){if((function(o){return cq(o)&&o!==de.ABORTED})(i.code)){const a=r.Ta.shift();Do(r).B_(),await Kk(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await ey(r)}})(t,e),Gk(t)&&Wk(t)}async function XC(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Se(Kl,"RemoteStore received new credentials");const r=iu(n);n.Ea.add(3),await gd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zg(n)}async function R8(t,e){const n=Je(t);e?(n.Ea.delete(2),await Zg(n)):e||(n.Ea.add(2),await gd(n),n.Ra.set("Unknown"))}function Gc(t){return t.ma||(t.ma=(function(n,r,i){const a=Je(n);return a.sa(),new m8(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:_8.bind(null,t),t_:w8.bind(null,t),r_:x8.bind(null,t),H_:E8.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),fE(t)?cE(t):t.Ra.set("Unknown")):(await t.ma.stop(),Hk(t))}))),t.ma}function Do(t){return t.fa||(t.fa=(function(n,r,i){const a=Je(n);return a.sa(),new p8(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:A8.bind(null,t),r_:P8.bind(null,t),ta:O8.bind(null,t),na:C8.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ey(t)):(await t.fa.stop(),t.Ta.length>0&&(Se(Kl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,u=new hE(e,n,o,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dE(t,e){if(ps("AsyncQueue",`${e}: ${t}`),Kc(t))return new Ie(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{static emptySet(e){return new _c(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=_h(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _c)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _c;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.ga=new tn(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class jc{constructor(e,n,r,i,a,o,u,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((u=>{o.push({type:0,doc:u})})),new jc(e,n,_c.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class j8{constructor(){this.queries=JC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Je(n),a=i.queries;i.queries=JC(),a.forEach(((o,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Ie(de.ABORTED,"Firestore shutting down"))}}function JC(){return new nu((t=>mk(t)),Gg)}async function Yk(t,e){const n=Je(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new N8,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const u=dE(o,`Initialization of query '${cc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&mE(n)}async function Xk(t,e){const n=Je(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function D8(t,e){const n=Je(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const u of o.Sa)u.Fa(i)&&(r=!0);o.wa=i}}r&&mE(n)}function k8(t,e,n){const r=Je(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function mE(t){t.Ca.forEach((e=>{e.next()}))}var _w,ZC;(ZC=_w||(_w={})).Ma="default",ZC.Cache="cache";class Qk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_w.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.key=e}}class Zk{constructor(e){this.key=e}}class I8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ft(),this.mutatedKeys=ft(),this.eu=pk(e),this.tu=new _c(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new QC,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,p)=>{const y=i.get(d),b=Wg(this.query,p)?p:null,w=!!y&&this.mutatedKeys.has(y.key),x=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;y&&b?y.data.isEqual(b.data)?w!==x&&(r.track({type:3,doc:b}),S=!0):this.su(y,b)||(r.track({type:2,doc:b}),S=!0,(f&&this.eu(b,f)>0||h&&this.eu(b,h)<0)&&(u=!0)):!y&&b?(r.track({type:0,doc:b}),S=!0):y&&!b&&(r.track({type:1,doc:y}),S=!0,(f||h)&&(u=!0)),S&&(b?(o=o.add(b),a=x?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,p)=>(function(b,w){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:S})}};return x(b)-x(w)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,o.length!==0||h?{snapshot:new jc(this.query,e.tu,a,o,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new QC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ft(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Zk(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Jk(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ft();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pE="SyncEngine";class M8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class L8{constructor(e){this.key=e,this.hu=!1}}class U8{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new nu((u=>mk(u)),Gg),this.Iu=new Map,this.Eu=new Set,this.du=new tn(Be.comparator),this.Au=new Map,this.Ru=new iE,this.Vu={},this.mu=new Map,this.fu=Nc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function V8(t,e,n=!0){const r=aI(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await eI(r,e,n,!0),i}async function $8(t,e){const n=aI(t);await eI(n,e,!0,!1)}async function eI(t,e,n,r){const i=await s8(t.localStore,Ea(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await B8(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&qk(t.remoteStore,i),u}async function B8(t,e,n,r,i){t.pu=(p,y,b)=>(async function(x,S,A,R){let C=S.view.ru(A);C.Cs&&(C=await HC(x.localStore,S.query,!1).then((({documents:j})=>S.view.ru(j,C))));const L=R&&R.targetChanges.get(S.targetId),U=R&&R.targetMismatches.get(S.targetId)!=null,D=S.view.applyChanges(C,x.isPrimaryClient,L,U);return tP(x,S.targetId,D.au),D.snapshot})(t,p,y,b);const a=await HC(t.localStore,e,!0),o=new I8(e,a.Qs),u=o.ru(a.documents),f=pd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(u,t.isPrimaryClient,f);tP(t,n,h.au);const d=new M8(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function z8(t,e,n){const r=Je(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!Gg(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lE(r.remoteStore,i.targetId),ww(r,i.targetId)})).catch(Hc)):(ww(r,i.targetId),await vw(r.localStore,i.targetId,!0))}async function q8(t,e){const n=Je(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lE(n.remoteStore,r.targetId))}async function F8(t,e,n){const r=Q8(t);try{const i=await(function(o,u){const f=Je(o),h=Kt.now(),d=u.reduce(((b,w)=>b.add(w.key)),ft());let p,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let w=gs(),x=ft();return f.Ns.getEntries(b,d).next((S=>{w=S,w.forEach(((A,R)=>{R.isValidDocument()||(x=x.add(A))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,w))).next((S=>{p=S;const A=[];for(const R of u){const C=aq(R,p.get(R.key).overlayedDocument);C!=null&&A.push(new ru(R.key,C,ok(C.value.mapValue),fs.exists(!0)))}return f.mutationQueue.addMutationBatch(b,h,A,u)})).next((S=>{y=S;const A=S.applyToLocalDocumentSet(p,x);return f.documentOverlayCache.saveOverlays(b,S.batchId,A)}))})).then((()=>({batchId:y.batchId,changes:yk(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,u,f){let h=o.Vu[o.currentUser.toKey()];h||(h=new tn(ct)),h=h.insert(u,f),o.Vu[o.currentUser.toKey()]=h})(r,i.batchId,n),await yd(r,i.changes),await ey(r.remoteStore)}catch(i){const a=dE(i,"Failed to persist write");n.reject(a)}}async function tI(t,e){const n=Je(t);try{const r=await r8(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ot(o.hu,14607):i.removedDocuments.size>0&&(Ot(o.hu,42227),o.hu=!1))})),await yd(n,r,e)}catch(r){await Hc(r)}}function eP(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const u=o.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(o,u){const f=Je(o);f.onlineState=u;let h=!1;f.queries.forEach(((d,p)=>{for(const y of p.Sa)y.va(u)&&(h=!0)})),h&&mE(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function H8(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new tn(Be.comparator);o=o.insert(a,pr.newNoDocument(a,Xe.min()));const u=ft().add(a),f=new Qg(Xe.min(),new Map,new tn(ct),o,u);await tI(r,f),r.du=r.du.remove(a),r.Au.delete(e),gE(r)}else await vw(r.localStore,e,!1).then((()=>ww(r,e,n))).catch(Hc)}async function K8(t,e){const n=Je(t),r=e.batch.batchId;try{const i=await n8(n.localStore,e);rI(n,r,null),nI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yd(n,i)}catch(i){await Hc(i)}}async function G8(t,e,n){const r=Je(t);try{const i=await(function(o,u){const f=Je(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let d;return f.mutationQueue.lookupMutationBatch(h,u).next((p=>(Ot(p!==null,37113),d=p.keys(),f.mutationQueue.removeMutationBatch(h,p)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,d,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d))).next((()=>f.localDocuments.getDocuments(h,d)))}))})(r.localStore,e);rI(r,e,n),nI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yd(r,i)}catch(i){await Hc(i)}}function nI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function rI(t,e,n){const r=Je(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function ww(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||iI(t,r)}))}function iI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(lE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),gE(t))}function tP(t,e,n){for(const r of n)r instanceof Jk?(t.Ru.addReference(r.key,e),W8(t,r)):r instanceof Zk?(Se(pE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||iI(t,r.key)):Ge(19791,{wu:r})}function W8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Se(pE,"New document in limbo: "+n),t.Eu.add(r),gE(t))}function gE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be(Ht.fromString(e)),r=t.fu.next();t.Au.set(r,new L8(n)),t.du=t.du.insert(n,r),qk(t.remoteStore,new _o(Ea(Zx(n.path)),r,"TargetPurposeLimboResolution",qg.ce))}}async function yd(t,e,n){const r=Je(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{o.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const d=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,d?"current":"not-current")}if(h){i.push(h);const d=sE.As(f.targetId,h);a.push(d)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(f,h){const d=Je(f);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>he.forEach(h,(y=>he.forEach(y.Es,(b=>d.persistence.referenceDelegate.addReference(p,y.targetId,b))).next((()=>he.forEach(y.ds,(b=>d.persistence.referenceDelegate.removeReference(p,y.targetId,b)))))))))}catch(p){if(!Kc(p))throw p;Se(oE,"Failed to update sequence numbers: "+p)}for(const p of h){const y=p.targetId;if(!p.fromCache){const b=d.Ms.get(y),w=b.snapshotVersion,x=b.withLastLimboFreeSnapshotVersion(w);d.Ms=d.Ms.insert(y,x)}}})(r.localStore,a))}async function Y8(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Se(pE,"User change. New user:",e.toKey());const r=await Vk(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((u=>{u.forEach((f=>{f.reject(new Ie(de.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yd(n,r.Ls)}}function X8(t,e){const n=Je(t),r=n.Au.get(e);if(r&&r.hu)return ft().add(r.key);{let i=ft();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const u=n.Tu.get(o);i=i.unionWith(u.view.nu)}return i}}function aI(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H8.bind(null,e),e.Pu.H_=D8.bind(null,e.eventManager),e.Pu.yu=k8.bind(null,e.eventManager),e}function Q8(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G8.bind(null,e),e}class Yp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return t8(this.persistence,new Jq,e.initialUser,this.serializer)}Cu(e){return new Uk(aE.mi,this.serializer)}Du(e){return new l8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yp.provider={build:()=>new Yp};class J8 extends Yp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ot(this.persistence.referenceDelegate instanceof Gp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Lq(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nr.withCacheSize(this.cacheSizeBytes):Nr.DEFAULT;return new Uk((r=>Gp.mi(r,n)),this.serializer)}}class xw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y8.bind(null,this.syncEngine),await R8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new j8})()}createDatastore(e){const n=Jg(e.databaseInfo.databaseId),r=(function(a){return new d8(a)})(e.databaseInfo);return(function(a,o,u,f){return new y8(a,o,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,u){return new b8(r,i,a,o,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>eP(this.syncEngine,n,0)),(function(){return WC.v()?new WC:new u8})())}createSyncEngine(e,n){return(function(i,a,o,u,f,h,d){const p=new U8(i,a,o,u,f,h);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Je(n);Se(Kl,"RemoteStore shutting down."),r.Ea.add(5),await gd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xw.provider={build:()=>new xw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="FirestoreClient";class Z8{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dr.UNAUTHENTICATED,this.clientId=Kx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{Se(ko,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Se(ko,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ab(t,e){t.asyncQueue.verifyOperationInProgress(),Se(ko,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Vk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function nP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await e7(t);Se(ko,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>XC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>XC(e.remoteStore,i))),t._onlineComponents=e}async function e7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(ko,"Using user provided OfflineComponentProvider");try{await ab(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Oc("Error using user provided cache. Falling back to memory cache: "+n),await ab(t,new Yp)}}else Se(ko,"Using default OfflineComponentProvider"),await ab(t,new J8(void 0));return t._offlineComponents}async function oI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(ko,"Using user provided OnlineComponentProvider"),await nP(t,t._uninitializedComponentsProvider._online)):(Se(ko,"Using default OnlineComponentProvider"),await nP(t,new xw))),t._onlineComponents}function t7(t){return oI(t).then((e=>e.syncEngine))}async function lI(t){const e=await oI(t),n=e.eventManager;return n.onListen=V8.bind(null,e.syncEngine),n.onUnlisten=z8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q8.bind(null,e.syncEngine),n}function n7(t,e,n={}){const r=new cs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,f,h){const d=new sI({next:y=>{d.Nu(),o.enqueueAndForget((()=>Xk(a,p)));const b=y.docs.has(u);!b&&y.fromCache?h.reject(new Ie(de.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&f&&f.source==="server"?h.reject(new Ie(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),p=new Qk(Zx(u.path),d,{includeMetadataChanges:!0,qa:!0});return Yk(a,p)})(await lI(t),t.asyncQueue,e,n,r))),r.promise}function r7(t,e,n={}){const r=new cs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,f,h){const d=new sI({next:y=>{d.Nu(),o.enqueueAndForget((()=>Xk(a,p))),y.fromCache&&f.source==="server"?h.reject(new Ie(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),p=new Qk(u,d,{includeMetadataChanges:!0,qa:!0});return Yk(a,p)})(await lI(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="firestore.googleapis.com",iP=!0;class aP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cI,this.ssl=iP}else this.host=e.host,this.ssl=e.ssl??iP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Lk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Iq)throw new Ie(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ty{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lz;switch(r.type){case"firstParty":return new hz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=rP.get(n);r&&(Se("ComponentProvider","Removing Datastore"),rP.delete(n),r.terminate())})(this),Promise.resolve()}}function i7(t,e,n,r={}){t=Hl(t,ty);const i=zx(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&($B(`https://${u}`),FB("Firestore",!0)),a.host!==cI&&a.host!==u&&Oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:u,ssl:i,emulatorOptions:r};if(!Lp(f,o)&&(t._setSettings(f),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=dr.MOCK_USER;else{h=BB(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ie(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new dr(p)}t._authCredentials=new uz(new YD(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ny(this.firestore,e,this._query)}}class jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}toJSON(){return{type:jn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dd(n,jn._jsonSchema))return new jn(e,r||null,new Be(Ht.fromString(n.referencePath)))}}jn._jsonSchemaVersion="firestore/documentReference/1.0",jn._jsonSchema={type:wn("string",jn._jsonSchemaVersion),referencePath:wn("string")};class Ao extends ny{constructor(e,n,r){super(e,n,Zx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Be(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function a7(t,e,...n){if(t=Tc(t),XD("collection","path",e),t instanceof ty){const r=Ht.fromString(e,...n);return bC(r),new Ao(t,null,r)}{if(!(t instanceof jn||t instanceof Ao))throw new Ie(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return bC(r),new Ao(t.firestore,null,r)}}function Xp(t,e,...n){if(t=Tc(t),arguments.length===1&&(e=Kx.newId()),XD("doc","path",e),t instanceof ty){const r=Ht.fromString(e,...n);return vC(r),new jn(t,null,new Be(r))}{if(!(t instanceof jn||t instanceof Ao))throw new Ie(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return vC(r),new jn(t.firestore,t instanceof Ao?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="AsyncQueue";class oP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bk(this,"async_queue_retry"),this._c=()=>{const r=ib();r&&Se(sP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ib();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ib();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Kc(e))throw e;Se(sP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",lP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=hE.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ge(47125,{Pc:lP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function lP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ry extends ty{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new oP,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oP(e),this._firestoreClient=void 0,await e}}}function s7(t,e){const n=typeof t=="object"?t:VD(),r=typeof t=="string"?t:$p,i=MD(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=UB("firestore");a&&i7(i,...a)}return i}function yE(t){if(t._terminated)throw new Ie(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||o7(t),t._firestoreClient}function o7(t){const e=t._freezeSettings(),n=(function(i,a,o,u){return new Pz(i,a,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,uI(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Z8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(or.fromBase64String(e))}catch(n){throw new Ie(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dd(e,Ri._jsonSchema))return Ri.fromBase64String(e.bytes)}}Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:wn("string",Ri._jsonSchemaVersion),bytes:wn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ta._jsonSchemaVersion}}static fromJSON(e){if(dd(e,Ta._jsonSchema))return new Ta(e.latitude,e.longitude)}}Ta._jsonSchemaVersion="firestore/geoPoint/1.0",Ta._jsonSchema={type:wn("string",Ta._jsonSchemaVersion),latitude:wn("number"),longitude:wn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Aa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dd(e,Aa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Aa(e.vectorValues);throw new Ie(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Aa._jsonSchemaVersion="firestore/vectorValue/1.0",Aa._jsonSchema={type:wn("string",Aa._jsonSchemaVersion),vectorValues:wn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7=/^__.*__$/;class u7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ru(e,this.data,this.fieldMask,n,this.fieldTransforms):new md(e,this.data,n,this.fieldTransforms)}}function hI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:t})}}class bE{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hI(this.Ac)&&l7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class c7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jg(e)}Cc(e,n,r,i=!1){return new bE({Ac:e,methodName:n,Dc:r,path:ar.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f7(t){const e=t._freezeSettings(),n=Jg(t._databaseId);return new c7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h7(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);gI("Data must be an object, but it was:",o,r);const u=mI(r,o);let f,h;if(a.merge)f=new Qi(o.fieldMask),h=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const p of a.mergeFields){const y=d7(e,p,n);if(!o.contains(y))throw new Ie(de.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);p7(d,y)||d.push(y)}f=new Qi(d),h=o.fieldTransforms.filter((p=>f.covers(p.field)))}else f=null,h=o.fieldTransforms;return new u7(new Pi(u),f,h)}function dI(t,e){if(pI(t=Tc(t)))return gI("Unsupported field value:",e,t),mI(t,e);if(t instanceof fI)return(function(r,i){if(!hI(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const u of r){let f=dI(u,i.wc(o));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Tc(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Zz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Kt.fromDate(r);return{timestampValue:Kp(i.serializer,a)}}if(r instanceof Kt){const a=new Kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kp(i.serializer,a)}}if(r instanceof Ta)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:Rk(i.serializer,r._byteString)};if(r instanceof jn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:rE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Aa)return(function(o,u){return{mapValue:{fields:{[ak]:{stringValue:sk},[Bp]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return eE(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Gx(r)}`)})(t,e)}function mI(t,e){const n={};return ZD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tu(t,((r,i)=>{const a=dI(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function pI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kt||t instanceof Ta||t instanceof Ri||t instanceof jn||t instanceof fI||t instanceof Aa)}function gI(t,e,n){if(!pI(n)||!QD(n)){const r=Gx(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function d7(t,e,n){if((e=Tc(e))instanceof vE)return e._internalPath;if(typeof e=="string")return yI(t,e);throw Qp("Field path arguments must be of type string or ",t,!1,void 0,n)}const m7=new RegExp("[~\\*/\\[\\]]");function yI(t,e,n){if(e.search(m7)>=0)throw Qp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vE(...e.split("."))._internalPath}catch{throw Qp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qp(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||o)&&(f+=" (found",a&&(f+=` in field ${r}`),o&&(f+=` in document ${i}`),f+=")"),new Ie(de.INVALID_ARGUMENT,u+t+f)}function p7(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g7 extends vI{data(){return super.data()}}function bI(t,e){return typeof e=="string"?yI(t,e):e instanceof vE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v7{convertValue(e,n="none"){switch(jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return tu(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Bp].arrayValue?.values?.map((r=>fn(r.doubleValue)));return new Aa(n)}convertGeoPoint(e){return new Ta(fn(e.latitude),fn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qh(e));default:return null}}convertTimestamp(e){const n=Ro(e);return new Kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ht.fromString(e);Ot(Mk(r),9688,{name:e});const i=new Fh(r.get(1),r.get(3)),a=new Be(r.popFirst(5));return i.isEqual(n)||ps(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class xh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vl extends vI{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vl._jsonSchema={type:wn("string",Vl._jsonSchemaVersion),bundleSource:wn("string","DocumentSnapshot"),bundleName:wn("string"),bundle:wn("string")};class Rp extends Vl{data(e={}){return super.data(e)}}class wc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Rp(this._firestore,this._userDataWriter,r.key,r,new xh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((u=>{const f=new Rp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new xh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const f=new Rp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new xh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),d=o.indexOf(u.doc.key)),{type:_7(u.type),doc:f,oldIndex:h,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){t=Hl(t,jn);const e=Hl(t.firestore,ry);return n7(yE(e),t._key).then((n=>E7(e,t,n)))}wc._jsonSchemaVersion="firestore/querySnapshot/1.0",wc._jsonSchema={type:wn("string",wc._jsonSchemaVersion),bundleSource:wn("string","QuerySnapshot"),bundleName:wn("string"),bundle:wn("string")};class wI extends v7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,n)}}function w7(t){t=Hl(t,ny);const e=Hl(t.firestore,ry),n=yE(e),r=new wI(e);return y7(t._query),r7(n,t._query).then((i=>new wc(e,r,t,i)))}function uP(t,e,n){t=Hl(t,jn);const r=Hl(t.firestore,ry),i=b7(t.converter,e,n);return x7(r,[h7(f7(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fs.none())])}function x7(t,e){return(function(r,i){const a=new cs;return r.asyncQueue.enqueueAndForget((async()=>F8(await t7(r),i,a))),a.promise})(yE(t),e)}function E7(t,e,n){const r=n.docs.get(e._key),i=new wI(t);return new Vl(t,i,e._key,r,new xh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Fc=i})(Q9),$h(new Ac("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),u=new ry(new cz(r.getProvider("auth-internal")),new dz(o,r.getProvider("app-check-internal")),(function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ie(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fh(h.options.projectId,d)})(o,i),o);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),So(mC,pC,e),So(mC,pC,"esm2020")})();var cP="@firebase/ai",Ew="2.1.0";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="AI",fP="us-central1",S7="https://firebasevertexai.googleapis.com",T7="v1beta",hP=Ew,A7="gl-js",O7=180*1e3,C7="gemini-2.0-flash-lite";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=["user","model","function","system"],xI={HARM_SEVERITY_UNSUPPORTED:"HARM_SEVERITY_UNSUPPORTED"},mP={SAFETY:"SAFETY",RECITATION:"RECITATION"},pP={ONLY_ON_DEVICE:"only_on_device",ONLY_IN_CLOUD:"only_in_cloud"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={ERROR:"error",REQUEST_ERROR:"request-error",RESPONSE_ERROR:"response-error",FETCH_ERROR:"fetch-error",INVALID_CONTENT:"invalid-content",API_NOT_ENABLED:"api-not-enabled",INVALID_SCHEMA:"invalid-schema",NO_API_KEY:"no-api-key",NO_APP_ID:"no-app-id",NO_MODEL:"no-model",NO_PROJECT_ID:"no-project-id",PARSE_FAILED:"parse-failed",UNSUPPORTED:"unsupported"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.backendType=e}}class vd extends EI{constructor(){super(Es.GOOGLE_AI)}}class iy extends EI{constructor(e=fP){super(Es.VERTEX_AI),e?this.location=e:this.location=fP}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e,n,r,i){this.app=e,this.backend=n;const a=i?.getImmediate({optional:!0}),o=r?.getImmediate({optional:!0});this.auth=o||null,this.appCheck=a||null,n instanceof iy?this.location=n.location:this.location=""}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends eu{constructor(e,n,r){const i=Dc,a=`${i}/${e}`,o=`${i}: ${n} (${a})`;super(e,o),this.code=e,this.customErrorData=r,Error.captureStackTrace&&Error.captureStackTrace(this,it),Object.setPrototypeOf(this,it.prototype),this.toString=()=>o}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(t){if(t instanceof vd)return`${Dc}/googleai`;if(t instanceof iy)return`${Dc}/vertexai/${t.location}`;throw new it(st.ERROR,`Invalid backend: ${JSON.stringify(t.backendType)}`)}function N7(t){const e=t.split("/");if(e[0]!==Dc)throw new it(st.ERROR,`Invalid instance identifier, unknown prefix '${e[0]}'`);switch(e[1]){case"vertexai":const r=e[2];if(!r)throw new it(st.ERROR,`Invalid instance identifier, unknown location '${t}'`);return new iy(r);case"googleai":return new vd;default:throw new it(st.ERROR,`Invalid instance identifier string: '${t}'`)}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){if(e.app?.options?.apiKey)if(e.app?.options?.projectId)if(e.app?.options?.appId){if(this._apiSettings={apiKey:e.app.options.apiKey,project:e.app.options.projectId,appId:e.app.options.appId,automaticDataCollectionEnabled:e.app.automaticDataCollectionEnabled,location:e.location,backend:e.backend},LD(e.app)&&e.app.settings.appCheckToken){const r=e.app.settings.appCheckToken;this._apiSettings.getAppCheckToken=()=>Promise.resolve({token:r})}else e.appCheck&&(this._apiSettings.getAppCheckToken=()=>e.appCheck.getToken());e.auth&&(this._apiSettings.getAuthToken=()=>e.auth.getToken()),this.model=Nh.normalizeModelName(n,this._apiSettings.backend.backendType)}else throw new it(st.NO_APP_ID,'The "appId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid app ID.');else throw new it(st.NO_PROJECT_ID,'The "projectId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid project ID.');else throw new it(st.NO_API_KEY,'The "apiKey" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid API key.')}static normalizeModelName(e,n){return n===Es.GOOGLE_AI?Nh.normalizeGoogleAIModelName(e):Nh.normalizeVertexAIModelName(e)}static normalizeGoogleAIModelName(e){return`models/${e}`}static normalizeVertexAIModelName(e){let n;return e.includes("/")?e.startsWith("models/")?n=`publishers/google/${e}`:n=e:n=`publishers/google/models/${e}`,n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new qx("@firebase/vertexai");/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wh;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.PREDICT="predict"})(Wh||(Wh={}));class SI{constructor(e,n,r,i,a){this.model=e,this.task=n,this.apiSettings=r,this.stream=i,this.requestOptions=a}toString(){const e=new URL(this.baseUrl);return e.pathname=`/${this.apiVersion}/${this.modelPath}:${this.task}`,e.search=this.queryParams.toString(),e.toString()}get baseUrl(){return this.requestOptions?.baseUrl||S7}get apiVersion(){return T7}get modelPath(){if(this.apiSettings.backend instanceof vd)return`projects/${this.apiSettings.project}/${this.model}`;if(this.apiSettings.backend instanceof iy)return`projects/${this.apiSettings.project}/locations/${this.apiSettings.backend.location}/${this.model}`;throw new it(st.ERROR,`Invalid backend: ${JSON.stringify(this.apiSettings.backend)}`)}get queryParams(){const e=new URLSearchParams;return this.stream&&e.set("alt","sse"),e}}function j7(){const t=[];return t.push(`${A7}/${hP}`),t.push(`fire/${hP}`),t.join(" ")}async function D7(t){const e=new Headers;if(e.append("Content-Type","application/json"),e.append("x-goog-api-client",j7()),e.append("x-goog-api-key",t.apiSettings.apiKey),t.apiSettings.automaticDataCollectionEnabled&&e.append("X-Firebase-Appid",t.apiSettings.appId),t.apiSettings.getAppCheckToken){const n=await t.apiSettings.getAppCheckToken();n&&(e.append("X-Firebase-AppCheck",n.token),n.error&&mr.warn(`Unable to obtain a valid App Check token: ${n.error.message}`))}if(t.apiSettings.getAuthToken){const n=await t.apiSettings.getAuthToken();n&&e.append("Authorization",`Firebase ${n.accessToken}`)}return e}async function k7(t,e,n,r,i,a){const o=new SI(t,e,n,r,a);return{url:o.toString(),fetchOptions:{method:"POST",headers:await D7(o),body:i}}}async function _E(t,e,n,r,i,a){const o=new SI(t,e,n,r,a);let u,f;try{const h=await k7(t,e,n,r,i,a),d=a?.timeout!=null&&a.timeout>=0?a.timeout:O7,p=new AbortController;if(f=setTimeout(()=>p.abort(),d),h.fetchOptions.signal=p.signal,u=await fetch(h.url,h.fetchOptions),!u.ok){let y="",b;try{const w=await u.json();y=w.error.message,w.error.details&&(y+=` ${JSON.stringify(w.error.details)}`,b=w.error.details)}catch{}throw u.status===403&&b&&b.some(w=>w.reason==="SERVICE_DISABLED")&&b.some(w=>w.links?.[0]?.description.includes("Google developers console API activation"))?new it(st.API_NOT_ENABLED,`The Firebase AI SDK requires the Firebase AI API ('firebasevertexai.googleapis.com') to be enabled in your Firebase project. Enable this API by visiting the Firebase Console at https://console.firebase.google.com/project/${o.apiSettings.project}/genai/ and clicking "Get started". If you enabled this API recently, wait a few minutes for the action to propagate to our systems and then retry.`,{status:u.status,statusText:u.statusText,errorDetails:b}):new it(st.FETCH_ERROR,`Error fetching from ${o}: [${u.status} ${u.statusText}] ${y}`,{status:u.status,statusText:u.statusText,errorDetails:b})}}catch(h){let d=h;throw h.code!==st.FETCH_ERROR&&h.code!==st.API_NOT_ENABLED&&h instanceof Error&&(d=new it(st.ERROR,`Error fetching from ${o.toString()}: ${h.message}`),d.stack=h.stack),d}finally{f&&clearTimeout(f)}return u}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){return t.candidates&&!t.candidates[0].hasOwnProperty("index")&&(t.candidates[0].index=0),I7(t)}function I7(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&mr.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Np(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${mo(t)}. Response body stored in error.response`,{response:t});return M7(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Text not available. ${mo(t)}`,{response:t});return""},t.inlineDataParts=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&mr.warn(`This response had ${t.candidates.length} candidates. Returning data from the first candidate only. Access response.candidates directly to use the other candidates.`),Np(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${mo(t)}. Response body stored in error.response`,{response:t});return U7(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Data not available. ${mo(t)}`,{response:t})},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&mr.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Np(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${mo(t)}. Response body stored in error.response`,{response:t});return L7(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Function call not available. ${mo(t)}`,{response:t})},t}function M7(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.text&&e.push(n.text);return e.length>0?e.join(""):""}function L7(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.functionCall&&e.push(n.functionCall);if(e.length>0)return e}function U7(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.inlineData&&e.push(n);if(e.length>0)return e}const V7=[mP.RECITATION,mP.SAFETY];function Np(t){return!!t.finishReason&&V7.some(e=>e===t.finishReason)}function mo(t){let e="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)e+="Response was blocked",t.promptFeedback?.blockReason&&(e+=` due to ${t.promptFeedback.blockReason}`),t.promptFeedback?.blockReasonMessage&&(e+=`: ${t.promptFeedback.blockReasonMessage}`);else if(t.candidates?.[0]){const n=t.candidates[0];Np(n)&&(e+=`Candidate was blocked due to ${n.finishReason}`,n.finishMessage&&(e+=`: ${n.finishMessage}`))}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t){if(t.safetySettings?.forEach(e=>{if(e.method)throw new it(st.UNSUPPORTED,"SafetySetting.method is not supported in the the Gemini Developer API. Please remove this property.")}),t.generationConfig?.topK){const e=Math.round(t.generationConfig.topK);e!==t.generationConfig.topK&&(mr.warn("topK in GenerationConfig has been rounded to the nearest integer to match the format for requests to the Gemini Developer API."),t.generationConfig.topK=e)}return t}function wE(t){return{candidates:t.candidates?B7(t.candidates):void 0,prompt:t.promptFeedback?z7(t.promptFeedback):void 0,usageMetadata:t.usageMetadata}}function $7(t,e){return{generateContentRequest:{model:e,...t}}}function B7(t){const e=[];let n;return e&&t.forEach(r=>{let i;if(r.citationMetadata&&(i={citations:r.citationMetadata.citationSources}),r.safetyRatings&&(n=r.safetyRatings.map(o=>({...o,severity:o.severity??xI.HARM_SEVERITY_UNSUPPORTED,probabilityScore:o.probabilityScore??0,severityScore:o.severityScore??0}))),r.content?.parts.some(o=>o?.videoMetadata))throw new it(st.UNSUPPORTED,"Part.videoMetadata is not supported in the Gemini Developer API. Please remove this property.");const a={index:r.index,content:r.content,finishReason:r.finishReason,finishMessage:r.finishMessage,safetyRatings:n,citationMetadata:i,groundingMetadata:r.groundingMetadata};e.push(a)}),e}function z7(t){const e=[];return t.safetyRatings.forEach(r=>{e.push({category:r.category,probability:r.probability,severity:r.severity??xI.HARM_SEVERITY_UNSUPPORTED,probabilityScore:r.probabilityScore??0,severityScore:r.severityScore??0,blocked:r.blocked})}),{blockReason:t.blockReason,safetyRatings:e,blockReasonMessage:t.blockReasonMessage}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function q7(t,e){const n=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=K7(n),[i,a]=r.tee();return{stream:H7(i,e),response:F7(a,e)}}async function F7(t,e){const n=[],r=t.getReader();for(;;){const{done:i,value:a}=await r.read();if(i){let o=G7(n);return e.backend.backendType===Es.GOOGLE_AI&&(o=wE(o)),Jp(o)}n.push(a)}}async function*H7(t,e){const n=t.getReader();for(;;){const{value:r,done:i}=await n.read();if(i)break;let a;e.backend.backendType===Es.GOOGLE_AI?a=Jp(wE(r)):a=Jp(r),yield a}}function K7(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return e.read().then(({value:o,done:u})=>{if(u){if(i.trim()){r.error(new it(st.PARSE_FAILED,"Failed to parse stream"));return}r.close();return}i+=o;let f=i.match(gP),h;for(;f;){try{h=JSON.parse(f[1])}catch{r.error(new it(st.PARSE_FAILED,`Error parsing JSON response: "${f[1]}`));return}r.enqueue(h),i=i.substring(f[0].length),f=i.match(gP)}return a()})}}})}function G7(t){const n={promptFeedback:t[t.length-1]?.promptFeedback};for(const r of t)if(r.candidates)for(const i of r.candidates){const a=i.index||0;if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:i.index}),n.candidates[a].citationMetadata=i.citationMetadata,n.candidates[a].finishReason=i.finishReason,n.candidates[a].finishMessage=i.finishMessage,n.candidates[a].safetyRatings=i.safetyRatings,n.candidates[a].groundingMetadata=i.groundingMetadata,i.content&&i.content.parts){n.candidates[a].content||(n.candidates[a].content={role:i.content.role||"user",parts:[]});const o={};for(const u of i.content.parts){if(u.text!==void 0){if(u.text==="")continue;o.text=u.text}if(u.functionCall&&(o.functionCall=u.functionCall),Object.keys(o).length===0)throw new it(st.INVALID_CONTENT,"Part should have at least one property, but there are none. This is likely caused by a malformed response from the backend.");n.candidates[a].content.parts.push(o)}}}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W7(t,e,n,r){return t.backend.backendType===Es.GOOGLE_AI&&(n=TI(n)),_E(e,Wh.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r)}async function AI(t,e,n,r,i){let a;return r&&await r.isAvailable(n)?a=await r.generateContentStream(n):a=await W7(t,e,n,i),q7(a,t)}async function Y7(t,e,n,r){return t.backend.backendType===Es.GOOGLE_AI&&(n=TI(n)),_E(e,Wh.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)}async function OI(t,e,n,r,i){let a;r&&await r.isAvailable(n)?a=await r.generateContent(n):a=await Y7(t,e,n,i);const o=await X7(a,t);return{response:Jp(o)}}async function X7(t,e){const n=await t.json();return e.backend.backendType===Es.GOOGLE_AI?wE(n):n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Sw(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return Q7(e)}function Q7(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),i=!0):(e.parts.push(a),r=!0);if(r&&i)throw new it(st.INVALID_CONTENT,"Within a single message, FunctionResponse cannot be mixed with other type of Part in the request for sending chat message.");if(!r&&!i)throw new it(st.INVALID_CONTENT,"No Content is provided for sending chat message.");return r?e:n}function sb(t){let e;return t.contents?e=t:e={contents:[Sw(t)]},t.systemInstruction&&(e.systemInstruction=CI(t.systemInstruction)),e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=["text","inlineData","functionCall","functionResponse"],J7={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]},vP={user:["model"],function:["model"],model:["user","function"],system:[]};function Z7(t){let e=null;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new it(st.INVALID_CONTENT,`First Content should be with role 'user', got ${r}`);if(!dP.includes(r))throw new it(st.INVALID_CONTENT,`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(dP)}`);if(!Array.isArray(i))throw new it(st.INVALID_CONTENT,"Content should have 'parts' but property with an array of Parts");if(i.length===0)throw new it(st.INVALID_CONTENT,"Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0};for(const u of i)for(const f of yP)f in u&&(a[f]+=1);const o=J7[r];for(const u of yP)if(!o.includes(u)&&a[u]>0)throw new it(st.INVALID_CONTENT,`Content with role '${r}' can't contain '${u}' part`);if(e&&!vP[r].includes(e.role))throw new it(st.INVALID_CONTENT,`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(vP)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="SILENT_ERROR";class eF{constructor(e,n,r,i,a){this.model=n,this.chromeAdapter=r,this.params=i,this.requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiSettings=e,i?.history&&(Z7(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){await this._sendPromise;const n=Sw(e),r={safetySettings:this.params?.safetySettings,generationConfig:this.params?.generationConfig,tools:this.params?.tools,toolConfig:this.params?.toolConfig,systemInstruction:this.params?.systemInstruction,contents:[...this._history,n]};let i={};return this._sendPromise=this._sendPromise.then(()=>OI(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions)).then(a=>{if(a.response.candidates&&a.response.candidates.length>0){this._history.push(n);const o={parts:a.response.candidates?.[0].content.parts||[],role:a.response.candidates?.[0].content.role||"model"};this._history.push(o)}else{const o=mo(a.response);o&&mr.warn(`sendMessage() was unsuccessful. ${o}. Inspect response object for details.`)}i=a}),await this._sendPromise,i}async sendMessageStream(e){await this._sendPromise;const n=Sw(e),r={safetySettings:this.params?.safetySettings,generationConfig:this.params?.generationConfig,tools:this.params?.tools,toolConfig:this.params?.toolConfig,systemInstruction:this.params?.systemInstruction,contents:[...this._history,n]},i=AI(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>i).catch(a=>{throw new Error(bP)}).then(a=>a.response).then(a=>{if(a.candidates&&a.candidates.length>0){this._history.push(n);const o={...a.candidates[0].content};o.role||(o.role="model"),this._history.push(o)}else{const o=mo(a);o&&mr.warn(`sendMessageStream() was unsuccessful. ${o}. Inspect response object for details.`)}}).catch(a=>{a.message!==bP&&mr.error(a)}),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tF(t,e,n,r){let i="";if(t.backend.backendType===Es.GOOGLE_AI){const o=$7(n,e);i=JSON.stringify(o)}else i=JSON.stringify(n);return(await _E(e,Wh.COUNT_TOKENS,t,!1,i,r)).json()}async function nF(t,e,n,r,i){return r&&await r.isAvailable(n)?(await r.countTokens(n)).json():tF(t,e,n,i)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF extends Nh{constructor(e,n,r,i){super(e,n.model),this.chromeAdapter=i,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=CI(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=sb(e);return OI(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}async generateContentStream(e){const n=sb(e);return AI(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}startChat(e){return new eF(this._apiSettings,this.model,this.chromeAdapter,{tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,generationConfig:this.generationConfig,safetySettings:this.safetySettings,...e},this.requestOptions)}async countTokens(e){const n=sb(e);return nF(this._apiSettings,this.model,n,this.chromeAdapter)}}var Cl;(function(t){t.UNAVAILABLE="unavailable",t.DOWNLOADABLE="downloadable",t.DOWNLOADING="downloading",t.AVAILABLE="available"})(Cl||(Cl={}));/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,r={createOptions:{expectedInputs:[{type:"image"}]}}){this.languageModelProvider=e,this.mode=n,this.onDeviceParams=r,this.isDownloading=!1}async isAvailable(e){if(!this.mode)return mr.debug("On-device inference unavailable because mode is undefined."),!1;if(this.mode===pP.ONLY_IN_CLOUD)return mr.debug('On-device inference unavailable because mode is "only_in_cloud".'),!1;const n=await this.downloadIfAvailable();if(this.mode===pP.ONLY_ON_DEVICE){if(n===Cl.UNAVAILABLE)throw new it(st.API_NOT_ENABLED,"Local LanguageModel API not available in this environment.");return(n===Cl.DOWNLOADABLE||n===Cl.DOWNLOADING)&&(mr.debug("Waiting for download of LanguageModel to complete."),await this.downloadPromise),!0}return n!==Cl.AVAILABLE?(mr.debug(`On-device inference unavailable because availability is "${n}".`),!1):Hi.isOnDeviceRequest(e)?!0:(mr.debug("On-device inference unavailable because request is incompatible."),!1)}async generateContent(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Hi.toLanguageModelMessage)),i=await n.prompt(r,this.onDeviceParams.promptOptions);return Hi.toResponse(i)}async generateContentStream(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Hi.toLanguageModelMessage)),i=n.promptStreaming(r,this.onDeviceParams.promptOptions);return Hi.toStreamResponse(i)}async countTokens(e){throw new it(st.REQUEST_ERROR,"Count Tokens is not yet available for on-device model.")}static isOnDeviceRequest(e){if(e.contents.length===0)return mr.debug("Empty prompt rejected for on-device inference."),!1;for(const n of e.contents){if(n.role==="function")return mr.debug('"Function" role rejected for on-device inference.'),!1;for(const r of n.parts)if(r.inlineData&&Hi.SUPPORTED_MIME_TYPES.indexOf(r.inlineData.mimeType)===-1)return mr.debug(`Unsupported mime type "${r.inlineData.mimeType}" rejected for on-device inference.`),!1}return!0}async downloadIfAvailable(){const e=await this.languageModelProvider?.availability(this.onDeviceParams.createOptions);return e===Cl.DOWNLOADABLE&&this.download(),e}download(){this.isDownloading||(this.isDownloading=!0,this.downloadPromise=this.languageModelProvider?.create(this.onDeviceParams.createOptions).finally(()=>{this.isDownloading=!1}))}static async toLanguageModelMessage(e){const n=await Promise.all(e.parts.map(Hi.toLanguageModelMessageContent));return{role:Hi.toLanguageModelMessageRole(e.role),content:n}}static async toLanguageModelMessageContent(e){if(e.text)return{type:"text",value:e.text};if(e.inlineData){const r=await(await fetch(`data:${e.inlineData.mimeType};base64,${e.inlineData.data}`)).blob();return{type:"image",value:await createImageBitmap(r)}}throw new it(st.REQUEST_ERROR,"Processing of this Part type is not currently supported.")}static toLanguageModelMessageRole(e){return e==="model"?"assistant":"user"}async createSession(){if(!this.languageModelProvider)throw new it(st.UNSUPPORTED,"Chrome AI requested for unsupported browser version.");const e=await this.languageModelProvider.create(this.onDeviceParams.createOptions);return this.oldSession&&this.oldSession.destroy(),this.oldSession=e,e}static toResponse(e){return{json:async()=>({candidates:[{content:{parts:[{text:e}]}}]})}}static toStreamResponse(e){const n=new TextEncoder;return{body:e.pipeThrough(new TransformStream({transform(r,i){const a=JSON.stringify({candidates:[{content:{role:"model",parts:[{text:r}]}}]});i.enqueue(n.encode(`data: ${a}

`))}}))}}}Hi.SUPPORTED_MIME_TYPES=["image/jpeg","image/png"];/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t=VD(),e={backend:new vd}){t=Tc(t);const n=MD(t,Dc),r=R7(e.backend);return n.getImmediate({identifier:r})}function PI(t,e,n){const r=e;let i;if(r.mode?i=r.inCloudParams||{model:C7}:i=e,!i.model)throw new it(st.NO_MODEL,"Must provide a model name. Example: getGenerativeModel({ model: 'my-model-name' })");let a;return typeof window<"u"&&r.mode&&(a=new Hi(window.LanguageModel,r.mode,r.onDeviceParams)),new rF(t,i,n,a)}function aF(){$h(new Ac(Dc,(t,{instanceIdentifier:e})=>{if(!e)throw new it(st.ERROR,"AIService instance identifier is undefined.");const n=N7(e),r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new P7(r,n,i,a)},"PUBLIC").setMultipleInstances(!0)),So(cP,Ew),So(cP,Ew,"esm2020")}aF();var sF="firebase",oF="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So(sF,oF,"app");const lF={apiKey:"AIzaSyCwWrLjCbvrbWeEKCdz6X1kQsRqudLogvk",authDomain:"robotics-3c92c.firebaseapp.com",projectId:"robotics-3c92c",storageBucket:"robotics-3c92c.firebasestorage.app",messagingSenderId:"286446162060",appId:"1:286446162060:web:30976ed5981cb902d4eba9",measurementId:"G-LMVZ79XKBW"},RI=UD(lF),Yh=s7(RI),NI=iF(RI,{backend:new vd}),wo=["team_number","opr","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","auto_made_net","auto_missed_net","auto_made_processor","auto_l4","auto_l3","auto_l2","auto_l1","auto_missed_coral","tele_made_net","tele_missed_net","tele_processor","tele_l4","tele_l3","tele_l2","tele_l1","tele_missed_coral","driver_rating"],_P=["opr","team_number","match_number","driver_station","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","auto_mobility","auto_made_net","auto_missed_net","auto_made_processor","auto_l4","auto_l3","auto_l2","auto_l1","auto_missed_coral","tele_made_net","tele_missed_net","tele_processor","tele_l4","tele_l3","tele_l2","tele_l1","tele_missed_coral","endgame_type","comments","lost_comms","auto_start_position","driver_rating","disabled"];function jI(t){if(t.length===0)return 0;const e=[...t].sort((r,i)=>r-i),n=Math.floor(e.length/2);return e.length%2===0?(e[n-1]+e[n])/2:e[n]}function uF(t){if(t.length===0)return 0;const e=[...t].sort((r,i)=>r-i),n=e.slice(Math.ceil(e.length/2));return jI(n)}const cF=t=>t.length?t.reduce((e,n)=>e+n,0)/t.length:0,fF="modulepreload",hF=function(t){return"/ScoutingOffseason2025/"+t},wP={},bd=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let h=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var o=h;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");i=h(n.map(d=>{if(d=hF(d),d in wP)return;wP[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":fF,p||(b.as="script"),b.crossOrigin="",b.href=d,f&&b.setAttribute("nonce",f),document.head.appendChild(b),p)return new Promise((w,x)=>{b.addEventListener("load",w),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return i.then(u=>{for(const f of u||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})},dF=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bd(async()=>{const{default:r}=await Promise.resolve().then(()=>Wc);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class xE extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class xP extends xE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class EP extends xE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class SP extends xE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Tw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Tw||(Tw={}));var mF=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{h(r.next(d))}catch(p){o(p)}}function f(d){try{h(r.throw(d))}catch(p){o(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class pF{constructor(e,{headers:n={},customFetch:r,region:i=Tw.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=dF(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return mF(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:a,method:o,body:u,signal:f}=r;let h={},{region:d}=r;d||(d=this.region);const p=new URL(`${this.url}/${n}`);d&&d!=="any"&&(h["x-region"]=d,p.searchParams.set("forceFunctionRegion",d));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)));const b=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:y,signal:f}).catch(A=>{throw A.name==="AbortError"?A:new xP(A)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new EP(b);if(!b.ok)throw new SP(b);let x=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return x==="application/json"?S=yield b.json():x==="application/octet-stream"?S=yield b.blob():x==="text/event-stream"?S=b:x==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new xP(a)}:{data:null,error:a,response:a instanceof SP||a instanceof EP?a.context:void 0}}})}}var qn={},Xu={},Qu={},Ju={},Zu={},ec={},gF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},kc=gF();const yF=kc.fetch,DI=kc.fetch.bind(kc),kI=kc.Headers,vF=kc.Request,bF=kc.Response,Wc=Object.freeze(Object.defineProperty({__proto__:null,Headers:kI,Request:vF,Response:bF,default:DI,fetch:yF},Symbol.toStringTag,{value:"Module"})),_F=cV(Wc);var rp={},TP;function II(){if(TP)return rp;TP=1,Object.defineProperty(rp,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return rp.default=t,rp}var AP;function MI(){if(AP)return ec;AP=1;var t=ec&&ec.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ec,"__esModule",{value:!0});const e=t(_F),n=t(II());class r{constructor(a){var o,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var d,p,y,b;let w=null,x=null,S=null,A=h.status,R=h.statusText;if(h.ok){if(this.method!=="HEAD"){const D=await h.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?x=D:x=JSON.parse(D))}const L=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),U=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");L&&U&&U.length>1&&(S=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(w={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,S=null,A=406,R="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const L=await h.text();try{w=JSON.parse(L),Array.isArray(w)&&h.status===404&&(x=[],w=null,A=200,R="OK")}catch{h.status===404&&L===""?(A=204,R="No Content"):w={message:L}}if(w&&this.isMaybeSingle&&(!((b=w?.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,A=200,R="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:x,count:S,status:A,statusText:R}});return this.shouldThrowOnError||(f=f.catch(h=>{var d,p,y;return{error:{message:`${(d=h?.name)!==null&&d!==void 0?d:"FetchError"}: ${h?.message}`,details:`${(p=h?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=h?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),f.then(a,o)}returns(){return this}overrideTypes(){return this}}return ec.default=r,ec}var OP;function LI(){if(OP)return Zu;OP=1;var t=Zu&&Zu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zu,"__esModule",{value:!0});const e=t(MI());class n extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.order`:"order",d=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:u=o}={}){const f=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:u=!1,wal:f=!1,format:h="text"}={}){var d;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Zu.default=n,Zu}var CP;function EE(){if(CP)return Ju;CP=1;var t=Ju&&Ju.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ju,"__esModule",{value:!0});const e=t(LI());class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const h=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${f}fts${h}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return Ju.default=n,Ju}var PP;function UI(){if(PP)return Qu;PP=1;var t=Qu&&Qu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qu,"__esModule",{value:!0});const e=t(EE());class n{constructor(i,{headers:a={},schema:o,fetch:u}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=u}select(i,a){const{head:o=!1,count:u}=a??{},f=o?"HEAD":"GET";let h=!1;const d=(i??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",d),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var u;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(h.length>0){const d=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:u,defaultToNull:f=!0}={}){var h;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:a}={}){var o;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Qu.default=n,Qu}var RP;function wF(){if(RP)return Xu;RP=1;var t=Xu&&Xu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Xu,"__esModule",{value:!0});const e=t(UI()),n=t(EE());class r{constructor(a,{headers:o={},schema:u,fetch:f}={}){this.url=a,this.headers=new Headers(o),this.schemaName=u,this.fetch=f}from(a){const o=new URL(`${this.url}/${a}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:u=!1,get:f=!1,count:h}={}){var d;let p;const y=new URL(`${this.url}/rpc/${a}`);let b;u||f?(p=u?"HEAD":"GET",Object.entries(o).filter(([x,S])=>S!==void 0).map(([x,S])=>[x,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([x,S])=>{y.searchParams.append(x,S)})):(p="POST",b=o);const w=new Headers(this.headers);return h&&w.set("Prefer",`count=${h}`),new n.default({method:p,url:y,headers:w,schema:this.schemaName,body:b,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Xu.default=r,Xu}var NP;function xF(){if(NP)return qn;NP=1;var t=qn&&qn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(qn,"__esModule",{value:!0}),qn.PostgrestError=qn.PostgrestBuilder=qn.PostgrestTransformBuilder=qn.PostgrestFilterBuilder=qn.PostgrestQueryBuilder=qn.PostgrestClient=void 0;const e=t(wF());qn.PostgrestClient=e.default;const n=t(UI());qn.PostgrestQueryBuilder=n.default;const r=t(EE());qn.PostgrestFilterBuilder=r.default;const i=t(LI());qn.PostgrestTransformBuilder=i.default;const a=t(MI());qn.PostgrestBuilder=a.default;const o=t(II());return qn.PostgrestError=o.default,qn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},qn}var EF=xF();const SF=ea(EF),{PostgrestClient:TF,PostgrestQueryBuilder:Xue,PostgrestFilterBuilder:Que,PostgrestTransformBuilder:Jue,PostgrestBuilder:Zue,PostgrestError:ece}=SF;class AF{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const OF="2.75.0",CF=`realtime-js/${OF}`,PF="1.0.0",Aw=1e4,RF=1e3,NF=100;var jh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(jh||(jh={}));var Rn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Rn||(Rn={}));var Ki;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ki||(Ki={}));var Ow;(function(t){t.websocket="websocket"})(Ow||(Ow={}));var Pl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Pl||(Pl={}));class jF{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const u=r.decode(e.slice(o,o+i));o=o+i;const f=r.decode(e.slice(o,o+a));o=o+a;const h=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:u,event:f,payload:h}}}class VI{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(zt||(zt={}));const jP=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=DF(o,t,e,i),a),{}):{}},DF=(t,e,n,r)=>{const i=e.find(u=>u.name===t),a=i?.type,o=n[t];return a&&!r.includes(a)?$I(a,o):Cw(o)},$I=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return LF(e,n)}switch(t){case zt.bool:return kF(e);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return IF(e);case zt.json:case zt.jsonb:return MF(e);case zt.timestamp:return UF(e);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return Cw(e);default:return Cw(e)}},Cw=t=>t,kF=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},IF=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},MF=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},LF=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(u=>$I(e,u))}return t},UF=t=>typeof t=="string"?t.replace(" ","T"):t,BI=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ob{constructor(e,n,r={},i=Aw){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var DP;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(DP||(DP={}));class Dh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dh.syncState(this.state,i,a,o),this.pendingDiffs.forEach(f=>{this.state=Dh.syncDiff(this.state,f,a,o)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Dh.syncDiff(this.state,i,a,o),u())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),u={},f={};return this.map(a,(h,d)=>{o[h]||(f[h]=d)}),this.map(o,(h,d)=>{const p=a[h];if(p){const y=d.map(S=>S.presence_ref),b=p.map(S=>S.presence_ref),w=d.filter(S=>b.indexOf(S.presence_ref)<0),x=p.filter(S=>y.indexOf(S.presence_ref)<0);w.length>0&&(u[h]=w),x.length>0&&(f[h]=x)}else u[h]=d}),this.syncDiff(a,{joins:u,leaves:f},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,f)=>{var h;const d=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(f),d.length>0){const p=e[u].map(b=>b.presence_ref),y=d.filter(b=>p.indexOf(b.presence_ref)<0);e[u].unshift(...y)}r(u,d,f)}),this.map(o,(u,f)=>{let h=e[u];if(!h)return;const d=f.map(p=>p.presence_ref);h=h.filter(p=>d.indexOf(p.presence_ref)<0),e[u]=h,i(u,h,f),h.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kP;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(kP||(kP={}));var kh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(kh||(kh={}));var as;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(as||(as={}));class SE{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ob(this,Ki.join,this.params,this.timeout),this.rejoinTimer=new VI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ki.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new Dh(this),this.broadcastEndpointURL=BI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Rn.closed){const{config:{broadcast:o,presence:u,private:f}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[kh.PRESENCE]&&this.bindings[kh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},y={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:d}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(as.CHANNEL_ERROR,b)),this._onClose(()=>e?.(as.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket.setAuth(),b===void 0){e?.(as.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(w=x?.length)!==null&&w!==void 0?w:0,A=[];for(let R=0;R<S;R++){const C=x[R],{filter:{event:L,schema:U,table:D,filter:j}}=C,k=b&&b[R];if(k&&k.event===L&&k.schema===U&&k.table===D&&k.filter===j)A.push(Object.assign(Object.assign({},C),{id:k.id}));else{this.unsubscribe(),this.state=Rn.errored,e?.(as.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(as.SUBSCRIBED);return}}).receive("error",b=>{this.state=Rn.errored,e?.(as.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(as.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Rn.joined&&e===kh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,u,f;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Rn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ki.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ob(this,Ki.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ob(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>NF){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:u,error:f,leave:h,join:d}=Ki;if(r&&[u,f,h,d].indexOf(o)>=0&&r!==this._joinRef())return;let y=this._onMessage(o,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var w,x,S;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(x=b.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(b=>b.callback(y,r)):(a=this.bindings[o])===null||a===void 0||a.filter(b=>{var w,x,S,A,R,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const L=b.id,U=(w=b.filter)===null||w===void 0?void 0:w.event;return L&&((x=n.ids)===null||x===void 0?void 0:x.includes(L))&&(U==="*"||U?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const L=(R=(A=b?.filter)===null||A===void 0?void 0:A.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return L==="*"||L===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:x,table:S,commit_timestamp:A,type:R,errors:C}=w;y=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:A,eventType:R,new:{},old:{},errors:C}),this._getPayloadRecords(w))}b.callback(y,r)})}_isClosed(){return this.state===Rn.closed}_isJoined(){return this.state===Rn.joined}_isJoining(){return this.state===Rn.joining}_isLeaving(){return this.state===Rn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&SE.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ki.close,{},e)}_onError(e){this._on(Ki.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=jP(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=jP(e.columns,e.old_record)),n}}const lb=()=>{},ip={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VF=[1e3,2e3,5e3,1e4],$F=1e4,BF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zF{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Aw,this.transport=null,this.heartbeatIntervalMs=ip.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lb,this.ref=0,this.reconnectTimer=null,this.logger=lb,this.conn=null,this.sendBuffer=[],this.serializer=new jF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>bd(async()=>{const{default:u}=await Promise.resolve().then(()=>Wc);return{default:u}},void 0).then(({default:u})=>u(...o)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ow.websocket}`,this.httpEndpoint=BI(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AF.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:PF}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case jh.connecting:return Pl.Connecting;case jh.open:return Pl.Open;case jh.closing:return Pl.Closing;default:return Pl.Closed}}isConnected(){return this.connectionState()===Pl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new SE(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(RF,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ip.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,u=o?`(${o})`:"",f=a.status||"";this.log("receive",`${f} ${r} ${i} ${u}`.trim(),a),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ki.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([BF],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:CF};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ki.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new VI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ip.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,u,f,h,d;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Aw,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:ip.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:lb,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(p=>VF[p-1]||$F),this.encode=(h=e?.encode)!==null&&h!==void 0?h:((p,y)=>y(JSON.stringify(p))),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class TE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _n(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qF extends TE{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pw extends TE{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var FF=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{h(r.next(d))}catch(p){o(p)}}function f(d){try{h(r.throw(d))}catch(p){o(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};const zI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bd(async()=>{const{default:r}=await Promise.resolve().then(()=>Wc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},HF=()=>FF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bd(()=>Promise.resolve().then(()=>Wc),void 0)).Response:Response}),Rw=t=>{if(Array.isArray(t))return t.map(n=>Rw(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Rw(r)}),e},KF=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var au=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{h(r.next(d))}catch(p){o(p)}}function f(d){try{h(r.throw(d))}catch(p){o(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};const ub=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),GF=(t,e,n)=>au(void 0,void 0,void 0,function*(){const r=yield HF();t instanceof r&&!n?.noResolveJson?t.json().then(i=>{const a=t.status||500,o=i?.statusCode||a+"";e(new qF(ub(i),a,o))}).catch(i=>{e(new Pw(ub(i),i))}):e(new Pw(ub(t),t))}),WF=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(KF(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function _d(t,e,n,r,i,a){return au(this,void 0,void 0,function*(){return new Promise((o,u)=>{t(n,WF(e,r,i,a)).then(f=>{if(!f.ok)throw f;return r?.noResolveJson?f:f.json()}).then(f=>o(f)).catch(f=>GF(f,u,r))})})}function Zp(t,e,n,r){return au(this,void 0,void 0,function*(){return _d(t,"GET",e,n,r)})}function ba(t,e,n,r,i){return au(this,void 0,void 0,function*(){return _d(t,"POST",e,r,i,n)})}function Nw(t,e,n,r,i){return au(this,void 0,void 0,function*(){return _d(t,"PUT",e,r,i,n)})}function YF(t,e,n,r){return au(this,void 0,void 0,function*(){return _d(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function qI(t,e,n,r,i){return au(this,void 0,void 0,function*(){return _d(t,"DELETE",e,r,i,n)})}var XF=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{h(r.next(d))}catch(p){o(p)}}function f(d){try{h(r.throw(d))}catch(p){o(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class QF{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return XF(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_n(e))return{data:null,error:e};throw e}})}}var JF=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{h(r.next(d))}catch(p){o(p)}}function f(d){try{h(r.throw(d))}catch(p){o(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class ZF{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new QF(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return JF(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_n(e))return{data:null,error:e};throw e}})}}var Pr=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{h(r.next(d))}catch(p){o(p)}}function f(d){try{h(r.throw(d))}catch(p){o(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};const eH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},IP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tH{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=zI(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return Pr(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},IP),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const f=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),f&&a.append("metadata",this.encodeMetadata(f))):(a=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i?.headers&&(u=Object.assign(Object.assign({},u),i.headers));const h=this._removeEmptyFolders(n),d=this._getFinalPath(h),p=yield(e=="PUT"?Nw:ba)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:u},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_n(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Pr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",n);try{let f;const h=Object.assign({upsert:IP.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType);const p=yield Nw(this.fetch,u.toString(),f,{headers:d});return{data:{path:a,fullPath:p.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(_n(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return Pr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield ba(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),u=o.searchParams.get("token");if(!u)throw new TE("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}update(e,n,r){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Pr(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Pr(this,void 0,void 0,function*(){try{return{data:{path:(yield ba(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Pr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ba(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Pr(this,void 0,void 0,function*(){try{const i=yield ba(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",u=this._getFinalPath(e),f=()=>Zp(this.fetch,`${this.url}/${i}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new ZF(f,this.shouldThrowOnError)}info(e){return Pr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Zp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Rw(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}exists(e){return Pr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield YF(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r)&&r instanceof Pw){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const u=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&i.push(f);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}remove(e){return Pr(this,void 0,void 0,function*(){try{return{data:yield qI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}list(e,n,r){return Pr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},eH),n),{prefix:e||""});return{data:yield ba(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}listV2(e,n){return Pr(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ba(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const nH="2.75.0",rH={"X-Client-Info":`storage-js/${nH}`};var tc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{h(r.next(d))}catch(p){o(p)}}function f(d){try{h(r.throw(d))}catch(p){o(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class iH{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rH),n),this.fetch=zI(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return tc(this,void 0,void 0,function*(){try{return{data:yield Zp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_n(e))return{data:null,error:e};throw e}})}getBucket(e){return tc(this,void 0,void 0,function*(){try{return{data:yield Zp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}createBucket(e){return tc(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ba(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return tc(this,void 0,void 0,function*(){try{return{data:yield Nw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}emptyBucket(e){return tc(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}deleteBucket(e){return tc(this,void 0,void 0,function*(){try{return{data:yield qI(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}}class aH extends iH{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new tH(this.url,this.headers,e,this.fetch)}}const sH="2.75.0";let Eh="";typeof Deno<"u"?Eh="deno":typeof document<"u"?Eh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Eh="react-native":Eh="node";const oH={"X-Client-Info":`supabase-js-${Eh}/${sH}`},lH={headers:oH},uH={schema:"public"},cH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fH={};var hH=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{h(r.next(d))}catch(p){o(p)}}function f(d){try{h(r.throw(d))}catch(p){o(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};const dH=t=>{let e;return t?e=t:typeof fetch>"u"?e=DI:e=fetch,(...n)=>e(...n)},mH=()=>typeof Headers>"u"?kI:Headers,pH=(t,e,n)=>{const r=dH(n),i=mH();return(a,o)=>hH(void 0,void 0,void 0,function*(){var u;const f=(u=yield e())!==null&&u!==void 0?u:t;let h=new i(o?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),r(a,Object.assign(Object.assign({},o),{headers:h}))})};var gH=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{h(r.next(d))}catch(p){o(p)}}function f(d){try{h(r.throw(d))}catch(p){o(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};function yH(t){return t.endsWith("/")?t:t+"/"}function vH(t,e){var n,r;const{db:i,auth:a,realtime:o,global:u}=t,{db:f,auth:h,realtime:d,global:p}=e,y={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=u?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>gH(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function bH(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yH(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const FI="2.75.0",dc=30*1e3,jw=3,cb=jw*dc,_H="http://localhost:9999",wH="supabase.auth.token",xH={"X-Client-Info":`gotrue-js/${FI}`},Dw="X-Supabase-Api-Version",HI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EH=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,SH=600*1e3;class Xh extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ze(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class TH extends Xh{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function AH(t){return ze(t)&&t.name==="AuthApiError"}class Rl extends Xh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Uo extends Xh{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ho extends Uo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OH(t){return ze(t)&&t.name==="AuthSessionMissingError"}class nc extends Uo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ap extends Uo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sp extends Uo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CH(t){return ze(t)&&t.name==="AuthImplicitGrantRedirectError"}class MP extends Uo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kw extends Uo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function fb(t){return ze(t)&&t.name==="AuthRetryableFetchError"}class LP extends Uo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Iw extends Uo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const eg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UP=` 	
\r=`.split(""),PH=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<UP.length;e+=1)t[UP[e].charCodeAt(0)]=-2;for(let e=0;e<eg.length;e+=1)t[eg[e].charCodeAt(0)]=e;return t})();function VP(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(eg[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(eg[r]),e.queuedBits-=6}}function KI(t,e,n){const r=PH[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $P(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{jH(o,r,n)};for(let o=0;o<t.length;o+=1)KI(t.charCodeAt(o),i,a);return e.join("")}function RH(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function NH(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}RH(r,e)}}function jH(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function xc(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)KI(t.charCodeAt(i),n,r);return new Uint8Array(e)}function DH(t){const e=[];return NH(t,n=>e.push(n)),new Uint8Array(e)}function Dl(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>VP(i,n,r)),VP(null,n,r),e.join("")}function kH(t){return Math.round(Date.now()/1e3)+t}function IH(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Wr=()=>typeof window<"u"&&typeof document<"u",wl={tested:!1,writable:!1},GI=()=>{if(!Wr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wl.tested)return wl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),wl.tested=!0,wl.writable=!0}catch{wl.tested=!0,wl.writable=!1}return wl.writable};function MH(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const WI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bd(async()=>{const{default:r}=await Promise.resolve().then(()=>Wc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},LH=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",mc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},xl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},lo=async(t,e)=>{await t.removeItem(e)};class ay{constructor(){this.promise=new ay.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ay.promiseConstructor=Promise;function hb(t){const e=t.split(".");if(e.length!==3)throw new Iw("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!EH.test(e[r]))throw new Iw("JWT not in base64url format");return{header:JSON.parse($P(e[0])),payload:JSON.parse($P(e[1])),signature:xc(e[2]),raw:{header:e[0],payload:e[1]}}}async function UH(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function VH(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function $H(t){return("0"+t.toString(16)).substr(-2)}function BH(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,$H).join("")}async function zH(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function qH(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await zH(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rc(t,e,n=!1){const r=BH();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await mc(t,`${e}-code-verifier`,i);const a=await qH(r);return[a,r===a?"plain":"s256"]}const FH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HH(t){const e=t.headers.get(Dw);if(!e||!e.match(FH))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function KH(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function GH(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ic(t){if(!WH.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function db(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function BP(t){return JSON.parse(JSON.stringify(t))}var YH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Sl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),XH=[502,503,504];async function zP(t){var e;if(!LH(t))throw new kw(Sl(t),0);if(XH.includes(t.status))throw new kw(Sl(t),t.status);let n;try{n=await t.json()}catch(a){throw new Rl(Sl(a),a)}let r;const i=HH(t);if(i&&i.getTime()>=HI["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new LP(Sl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ho}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new LP(Sl(n),t.status,n.weak_password.reasons);throw new TH(Sl(n),t.status||500,r)}const QH=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Qe(t,e,n,r){var i;const a=Object.assign({},r?.headers);a[Dw]||(a[Dw]=HI["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",f=await JH(t,e,n+u,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function JH(t,e,n,r,i,a){const o=QH(e,r,i,a);let u;try{u=await t(n,Object.assign({},o))}catch(f){throw console.error(f),new kw(Sl(f),0)}if(u.ok||await zP(u),r?.noResolveJson)return u;try{return await u.json()}catch(f){await zP(f)}}function Fi(t){var e;let n=null;tK(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=kH(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function qP(t){const e=Fi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function vo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ZH(t){return{data:t,error:null}}function eK(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=YH(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},f=Object.assign({},o);return{data:{properties:u,user:f},error:null}}function FP(t){return t}function tK(t){return t.access_token&&t.refresh_token&&t.expires_in}const mb=["global","local","others"];var nK=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class rK{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=WI(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=mb[0]){if(mb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mb.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vo})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=nK(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:eK,redirectTo:n?.redirectTo})}catch(n){if(ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vo})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,u,f;try{const h={nextPage:null,lastPage:0,total:0},d=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:FP});if(d.error)throw d.error;const p=await d.json(),y=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(f=(u=d.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);h[`${S}Page`]=x}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(ze(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){ic(e);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vo})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ic(e);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:vo})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ic(e);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:vo})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ic(e.userId);try{const{data:n,error:r}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ic(e.userId),ic(e.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,o,u,f;try{const h={nextPage:null,lastPage:0,total:0},d=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:FP});if(d.error)throw d.error;const p=await d.json(),y=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(f=(u=d.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);h[`${S}Page`]=x}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(ze(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}}function HP(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ac={debug:!!(globalThis&&GI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class YI extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class iK extends YI{}async function aK(t,e,n){ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ac.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new iK(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ac.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function sK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function XI(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function oK(t){return parseInt(t,16)}function lK(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function uK(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:u,requestId:f,resources:h,scheme:d,uri:p,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=XI(t.address),w=d?`${d}://${r}`:r,x=t.statement?`${t.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${b}

${x}`;let A=`URI: ${p}
Version: ${y}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(A+=`
Expiration Time: ${i.toISOString()}`),u&&(A+=`
Not Before: ${u.toISOString()}`),f&&(A+=`
Request ID: ${f}`),h){let R=`
Resources:`;for(const C of h){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);R+=`
- ${C}`}A+=R}return`${S}
${A}`}class bn extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class tg extends bn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function cK({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new bn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new bn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new bn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new bn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new bn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new bn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new bn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(JI(o)){if(a.rp.id!==o)return new bn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new bn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new bn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function fK({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new bn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(JI(r)){if(n.rpId!==r)return new bn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new bn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var QI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class hK{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const dK=new hK;function mK(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=QI(t,["challenge","user","excludeCredentials"]),a=xc(e).buffer,o=Object.assign(Object.assign({},n),{id:xc(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const h=r[f];u.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:xc(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function pK(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=QI(t,["challenge","allowCredentials"]),i=xc(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const u=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},u),{id:xc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function gK(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Dl(new Uint8Array(t.response.attestationObject)),clientDataJSON:Dl(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yK(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Dl(new Uint8Array(i.authenticatorData)),clientDataJSON:Dl(new Uint8Array(i.clientDataJSON)),signature:Dl(new Uint8Array(i.signature)),userHandle:i.userHandle?Dl(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function JI(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function KP(){var t,e;return!!(Wr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function vK(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new tg("Browser returned unexpected credential type",e)}:{data:null,error:new tg("Empty credential response",e)}}catch(e){return{data:null,error:cK({error:e,options:t})}}}async function bK(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new tg("Browser returned unexpected credential type",e)}:{data:null,error:new tg("Empty credential response",e)}}catch(e){return{data:null,error:fK({error:e,options:t})}}}const _K={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},wK={userVerification:"preferred",hints:["security-key"]};function ng(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(e(o)){const u=r[a];e(u)?r[a]=ng(u,o):r[a]=ng(o)}else r[a]=o}return r}function xK(t,e){return ng(_K,t,e||{})}function EK(t,e){return ng(wK,t,e||{})}class SK{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:u};const f=i??dK.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=xK(o.webauthn.credential_options.publicKey,a?.create),{data:d,error:p}=await vK({publicKey:h,signal:f});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}case"request":{const h=EK(o.webauthn.credential_options.publicKey,a?.request),{data:d,error:p}=await bK(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:f}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}}}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new Xh("rpId is required for WebAuthn authentication")};try{if(!KP())return{data:null,error:new Rl("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:u};const{webauthn:f}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new Xh("rpId is required for WebAuthn registration")};try{if(!KP())return{data:null,error:new Rl("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var p;return(p=d.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:u};const{data:f,error:h}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return f?this._verify({factorId:o.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in register",o)}}}}sK();const TK={url:_H,storageKey:wH,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function GP(t,e,n){return await n()}const sc={};class Qh{get jwks(){var e,n;return(n=(e=sc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){sc[this.storageKey]=Object.assign(Object.assign({},sc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=sc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){sc[this.storageKey]=Object.assign(Object.assign({},sc[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qh.nextInstanceID,Qh.nextInstanceID+=1,this.instanceID>0&&Wr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},TK),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new rK({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=WI(i.fetch),this.lock=i.lock||GP,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Wr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=aK:this.lock=GP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new SK(this)},this.persistSession?(i.storage?this.storage=i.storage:GI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=HP(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=HP(this.memoryStorage)),Wr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${FI}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=MH(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Wr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),CH(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ze(n)?{error:n}:{error:new Rl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Fi}),{data:o,error:u}=a;if(u||!o)return{data:{user:null,session:null},error:u};const f=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:d,password:p,options:y}=e;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await rc(this.storage,this.storageKey)),a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:d,password:p,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:w},xform:Fi})}else if("phone"in e){const{phone:d,password:p,options:y}=e;a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Fi})}else throw new ap("You must provide either an email or phone number and a password");const{data:o,error:u}=a;if(u||!o)return{data:{user:null,session:null},error:u};const f=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:u}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:qP})}else if("phone"in e){const{phone:a,password:o,options:u}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:qP})}else throw new ap("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new nc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,o,u,f,h,d,p,y;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:x,wallet:S,statement:A,options:R}=e;let C;if(Wr())if(typeof S=="object")C=S;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")C=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const L=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href),U=await C.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=XI(U[0]);let j=(r=R?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const M=await C.request({method:"eth_chainId"});j=oK(M)}const k={domain:L.host,address:D,statement:A,uri:L.href,version:"1",chainId:j,nonce:(i=R?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=R?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=R?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=R?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=R?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(d=R?.signInWithEthereum)===null||d===void 0?void 0:d.resources};b=uK(k),w=await C.request({method:"personal_sign",params:[lK(b),D]})}try{const{data:x,error:S}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Fi});if(S)throw S;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new nc}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:S})}catch(x){if(ze(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var n,r,i,a,o,u,f,h,d,p,y,b;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:S,wallet:A,statement:R,options:C}=e;let L;if(Wr())if(typeof A=="object")L=A;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))L=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=A}const U=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in L&&L.signIn){const D=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),R?{statement:R}:null));let j;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")j=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)j=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)w=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${U.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(i=(r=C?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=C?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(d=C?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const D=await L.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=D}}try{const{data:S,error:A}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Dl(x)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Fi});if(A)throw A;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new nc}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:A})}catch(S){if(ze(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await xl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Fi});if(await lo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new nc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(ze(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,u=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Fi}),{data:f,error:h}=u;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new nc}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:u,options:f}=e;let h=null,d=null;this.flowType==="pkce"&&([h,d]=await rc(this.storage,this.storageKey));const{error:p}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:d},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:u,options:f}=e,{data:h,error:d}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:d}}throw new ap("You must provide either an email or phone number.")}catch(u){if(ze(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:u}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Fi});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const f=o.session,h=o.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await rc(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:ZH})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ho;const{error:i}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ze(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:u}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:u}}throw new ap("You must provide either an email or phone number and a type")}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await xl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<cb:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await xl(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=db()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,h,d)=>(!o&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,d))})}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vo}):await this._useSession(async n=>{var r,i,a;const{data:o,error:u}=n;if(u)throw u;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ho}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:vo})})}catch(n){if(ze(n))return OH(n)&&(await this._removeSession(),await lo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ho;const o=i.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await rc(this.storage,this.storageKey));const{data:h,error:d}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:o.access_token,xform:vo});if(d)throw d;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ho;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=hb(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(ze(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:u}=n;if(u)throw u;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new ho;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Wr())throw new sp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new MP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new MP("No code detected.");const{data:R,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:u,expires_at:f,token_type:h}=e;if(!a||!u||!o||!h)throw new sp("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(u);let y=d+p;f&&(y=parseInt(f));const b=y-d;b*1e3<=dc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const w=y-p;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,d);const{data:x,error:S}=await this._getUser(a);if(S)throw S;const A={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:y,refresh_token:o,token_type:h,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:e.type},error:null}}catch(r){if(ze(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await xl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:u}=await this.admin.signOut(o,e);if(u&&!(AH(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await lo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=IH(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await rc(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,u,f,h,d;const{data:p,error:y}=a;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",b,{headers:this.headers,jwt:(d=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Wr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(ze(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:u,token:f,access_token:h,nonce:d}=e,p=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:f,access_token:h,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Fi}),{data:y,error:b}=p;return b?{data:{user:null,session:null},error:b}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new nc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:b})}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await VH(async i=>(i>0&&await UH(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Fi})),(i,a)=>{const o=200*Math.pow(2,i);return a&&fb(a)&&Date.now()+o-r<dc})}catch(r){if(this._debug(n,"error",r),ze(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Wr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await xl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await xl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await mc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:db()}else if(i&&!i.user&&!i.user){const o=await xl(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await lo(this.storage,this.storageKey+"-user"),await mc(this.storage,this.storageKey,i)):i.user=db()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<cb;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${cb}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),fb(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(i.access_token);!u&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ho;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ay;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new ho;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),ze(a)){const o={data:null,error:a};return fb(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(f){a.push(f)}});if(await Promise.all(o),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await mc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=BP(i);await mc(this.storage,this.storageKey,a)}else{const i=BP(n);await mc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await lo(this.storage,this.storageKey),await lo(this.storage,this.storageKey+"-code-verifier"),await lo(this.storage,this.storageKey+"-user"),this.userStorage&&await lo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Wr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),dc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/dc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${dc}ms, refresh threshold is ${jw} ticks`),i<=jw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof YI)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await rc(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:h}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&f.type==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?gK(e.webauthn.credential_response):yK(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:f}=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:mK(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:pK(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=hb(i.access_token);let u=null;o.aal&&(u=o.aal);let f=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const d=o.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+SH>i)return r;const{data:a,error:o}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:b,error:w}=await this.getSession();if(w||!b.session)return{data:null,error:w};r=b.session.access_token}const{header:i,payload:a,signature:o,raw:{header:u,payload:f}}=hb(r);n?.allowExpired||KH(a.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:o},error:null}}const d=GH(i.alg),p=await crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,o,DH(`${u}.${f}`)))throw new Iw("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}}Qh.nextInstanceID=0;const AK=Qh;class OK extends AK{constructor(e){super(e)}}var CK=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(d){try{h(r.next(d))}catch(p){o(p)}}function f(d){try{h(r.throw(d))}catch(p){o(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class PK{constructor(e,n,r){var i,a,o;this.supabaseUrl=e,this.supabaseKey=n;const u=bH(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:uH,realtime:fH,auth:Object.assign(Object.assign({},cH),{storageKey:f}),global:lH},d=vH(r??{},h);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=pH(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new TF(new URL("rest/v1",u).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new aH(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new pF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return CK(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:u,lock:f,debug:h},d,p){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OK({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:u,lock:f,debug:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new zF(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RK=(t,e,n)=>new PK(t,e,n);function NK(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}NK()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jK="https://odzsnrjocdmbajksnzpk.supabase.co",DK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9kenNucmpvY2RtYmFqa3NuenBrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkyNjk3NTcsImV4cCI6MjA3NDg0NTc1N30.LE8xoK5-rmAXnRJBx60-tNEIQq350sEs43PLoYWtQ8M",ZI=RK(jK,DK),pc="sBluV8DKQA0hTvJ2ABC9U3VDZunUGUSehxuDPvtNC8SQ3Q5XHvQVt0nm3X7cvP7j";function kK(t){if(!t.length)return{max:0,min:0,median:0,mean:0,q3:0};const e=[...t].sort((u,f)=>u-f),n=e.at(-1)??0,r=e[0],i=e.length%2===0?Math.round((e[e.length/2-1]+e[e.length/2])/2*10)/10:e[Math.floor(e.length/2)],a=Math.round(e.reduce((u,f)=>u+f,0)/e.length*10)/10,o=e[Math.floor(e.length*.75)];return{max:n,min:r,median:i,mean:a,q3:o}}function IK(t){const e=t.reduce((r,i)=>(r[i.team_number]||(r[i.team_number]=[]),r[i.team_number].push(i),r),{}),n={};for(const[r,i]of Object.entries(e)){const a=Number(r),o={};Object.keys(i[0]).filter(u=>{const f=i[0][u];return typeof f=="number"||f===null}).forEach(u=>{const f=i.map(h=>typeof h[u]=="number"?h[u]:0).filter(h=>!isNaN(h));o[u]=kK(f)}),n[a]=o}return n}function MK(t){console.error(t);function e(r,i){if(!r.length)return 0;const a=i/100*(r.length-1),o=Math.floor(a),u=Math.ceil(a);return o===u?r[o]:r[o]+(r[u]-r[o])*(a-o)}const n={};for(const r of wo){if(!Object.values(t).some(o=>o[r]!==void 0))continue;n[r]={min:{p10:0,p25:0,p75:0,p90:0},max:{p10:0,p25:0,p75:0,p90:0},median:{p10:0,p25:0,p75:0,p90:0},mean:{p10:0,p25:0,p75:0,p90:0},q3:{p10:0,p25:0,p75:0,p90:0}};const a=["min","max","median","mean","q3"];for(const o of a){const u=Object.values(t).map(f=>f[r]?.[o]??0).filter(f=>typeof f=="number"&&!isNaN(f)).sort((f,h)=>f-h);n[r][o]={p10:e(u,10),p25:e(u,25),p75:e(u,75),p90:e(u,90)}}}return console.log(n),n}async function LK(t){try{const e=await fetch(`https://www.thebluealliance.com/api/v3/events/${t}/keys`,{headers:{"X-TBA-Auth-Key":pc}});return e.ok?e.json():[]}catch(e){return console.error("Failed fetching events",e),[]}}async function UK(){const{data:t,error:e}=await ZI.from("Pit Scouting").select("*");return t?t.filter(n=>n.team_number>0):[]}async function VK(t){if(!t||t==="XX")return null;try{const[e,n,r,i]=await Promise.all([fetch(`https://www.thebluealliance.com/api/v3/event/${t}/rankings`,{headers:{"X-TBA-Auth-Key":pc}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/oprs`,{headers:{"X-TBA-Auth-Key":pc}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/matches`,{headers:{"X-TBA-Auth-Key":pc}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/teams`,{headers:{"X-TBA-Auth-Key":pc}})]),a=await e.json(),o=await n.json(),u=await r.json(),f=await i.json();let h=[...new Set(Gn.getState().forms.map(p=>p.team_number).filter(p=>!f.map(y=>y.team_number).includes(p)))];console.warn(h);const d={};return f.forEach(p=>{d[p.team_number]={name:p.name??`Team ${p.team_number}`,nickname:p.nickname??`Team ${p.team_number}`}}),await Promise.all(h.map(async p=>{const b=await(await fetch(`https://www.thebluealliance.com/api/v3/team/frc${p}`,{headers:{"X-TBA-Auth-Key":pc}})).json();console.error(b),d[b.team_number]={name:b.name??`Team ${b.team_number}`,nickname:b.nickname??`Team ${b.team_number}`}})),console.log(d),{tbaData:{rankings:a.rankings??[],oprs:o.oprs??{},matches:u},teamInfo:d}}catch(e){return console.error("TBA fetch error",e),null}}async function $K(t){try{const e=new Date().getFullYear();return await(await fetch(`https://api.statbotics.io/v3/team_year/${String(t)}/${e}`)).json()}catch(e){return console.error("Statbotics fetch error",e),null}}async function BK(){const t=Xp(Yh,"aiOverview","overview"),e=await _I(t);if(!e.exists())return console.warn("No AI overviews found"),{};const n=e.data(),r={};return Object.entries(n).forEach(([i,a])=>{const o=Number(i);isNaN(o)||(r[o]=a)}),r}async function zK(){const t=Xp(Yh,"aiOverview","match"),e=await _I(t);if(!e.exists())return console.warn("No AI matches found"),{};const n=e.data(),r={};return Object.entries(n).forEach(([i,a])=>{const o=String(i);typeof a=="string"&&(r[o]=a)}),r}const Gn=OB((t,e)=>({forms:[],pitForms:[],teamStats:{},columnPercentiles:{},loading:!0,eventKeys:[],tbaData:null,teamInfo:{},aiOverviews:{},aiMatches:{},eventName:localStorage.getItem("eventName")||"XX",currentViewingTeam:Number(localStorage.getItem("currentViewingTeam")||3197),usePracticeData:localStorage.getItem("usePracticeData")==="true",statboticsTeams:[],teamImages:{},loadTeamImages:async()=>{try{const n=await w7(a7(Yh,"robotImages")),r={};n.forEach(i=>{const a=i.data(),o=i.id.match(/image_team(\d+)/);if(o){const u=parseInt(o[1],10);r[u]=a.url}}),t({teamImages:r})}catch(n){console.error("Error loading team images:",n)}},loadStatbotics:async()=>{t({loading:!0});const n=await $K(e().currentViewingTeam);t({statboticsTeams:n??void 0,loading:!1})},setEventName:n=>{localStorage.setItem("eventName",n),t({eventName:n})},setCurrentViewingTeam:async n=>{t({loading:!0}),localStorage.setItem("currentViewingTeam",String(n)),t({currentViewingTeam:n,loading:!1})},setUsePracticeData:n=>{localStorage.setItem("usePracticeData",String(n)),t({usePracticeData:n})},loadData:async()=>{e().forms.length>0||await e().hotRefresh()},hotRefresh:async()=>{t({loading:!0});const n=new Date().getFullYear(),[r,i,a,o,u]=await Promise.all([LK(n),qK(),UK(),BK(),zK()]),f=await VK(e().eventName);console.log(i);const h=IK(i);console.log(h),f?.tbaData?.oprs&&Object.entries(f.tbaData.oprs).forEach(([p,y])=>{const b=Number(p.replace("frc",""));if(Object.keys(h).includes(String(b))){const w=Math.round(y*10)/10;h[b],h[b].opr={max:w,min:w,median:w,mean:w,q3:w}}}),Object.keys(h).forEach(p=>{const y=Number(p);h[y].opr||(h[y].opr={max:0,min:0,median:0,mean:0,q3:0})});const d=MK(h);console.warn(d),t({forms:i,pitForms:a,teamStats:h,columnPercentiles:d,aiOverviews:o,aiMatches:u,eventKeys:r,tbaData:f?.tbaData??null,teamInfo:f?.teamInfo??{},loading:!1})}})),qK=async()=>{var t=["match"];Gn.getState().usePracticeData&&(t.push("practice"),t.push("pre"));const{data:e,error:n}=await ZI.from("Live Data").select("*").in("match_type",t);return e?e.map(r=>({...r,opr:0})):[]},WP=[{name:"Tables",path:"/"},{name:"Ranks",path:"/ranks"},{name:"Teams",path:"/teams"},{name:"Compare",path:"/compare"},{name:"Match",path:"/match"},{name:"Pick List",path:"/picklist"},{name:"Sandbox",path:"/sandbox"}];function Vo(){const[t,e]=O.useState(!1),n=Lo(),[r,i]=O.useState(null),[a,o]=O.useState(!1),{forms:u,teamStats:f,setCurrentViewingTeam:h}=Gn(),d=O.useRef(null),p=fd();return O.useEffect(()=>{function y(b){d.current&&!d.current.contains(b.target)&&o(!1)}return i(null),document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[o]),E.jsxs("header",{className:"bg-gray-900 fixed w-full top-0 left-0 z-50 select-none drop-shadow-lg",children:[E.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex justify-between items-center h-16",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("img",{src:EB,alt:"Logo",className:"h-15 w-15 object-contain"}),E.jsx("div",{className:"text-2xl font-bold text-orange-400 ml-5",children:"Scouting 2025"})]}),E.jsxs("nav",{className:"hidden lg:flex gap-4",children:[WP.map(y=>{const b=n.pathname===y.path;return E.jsxs(bc,{to:y.path,className:"relative text-orange-400 px-3 py-2 rounded group overflow-hidden font-medium text-xl",children:[b?E.jsx("span",{className:"absolute inset-0 bg-orange-600 group-hover:bg-orange-800 transition duration-300 rounded"}):E.jsx("span",{className:"absolute inset-0 bg-orange-600 scale-y-0 origin-top group-hover:scale-y-100 transition duration-300 rounded"}),E.jsx("span",{className:`relative ${b?"text-white":"group-hover:text-white transition-colors duration-500"}`,children:y.name})]},y.name)}),E.jsxs(bc,{to:"/coscout",className:"hidden relative text-orange-400 px-3 py-2 rounded group overflow-hidden font-medium text-xl",children:[E.jsx("span",{className:"absolute inset-0 bg-gray-500 scale-y-0 origin-top group-hover:scale-y-100 transition duration-300 rounded"}),E.jsx(V$,{color:"orange",size:28,className:"relative"})]}),E.jsxs("div",{ref:d,className:"relative w-30",children:[E.jsxs("div",{className:"flex items-center relative h-full",children:[E.jsx(tw,{className:"absolute right-3 cursor-pointer hover:scale-105",color:"white"}),E.jsx("input",{type:"text",onChange:y=>{o(!0),i(parseInt(y.target.value))},className:"h-full bg-gray-600 rounded-md w-full text-white text-lg px-3 pr-10",placeholder:""})]}),a&&E.jsx("div",{className:"absolute top-full mt-1 left-0 w-full bg-white rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:Object.keys(f).map(y=>f[y]).filter(y=>y.team_number.mean.toString().includes(String(r))).map(y=>E.jsx("h1",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer rounded-md",onClick:()=>{h(y.team_number.max),p("/teams"),o(!1)},children:y.team_number.max},y.team_number.max))})]})]}),E.jsx("div",{className:"lg:hidden z-50 relative",children:E.jsx("button",{onClick:()=>e(!t),children:t?E.jsx(cB,{size:36,color:"white"}):E.jsx(Z$,{size:32,color:"white"})})})]}),E.jsxs("div",{className:`lg:hidden fixed top-0 left-0 right-0 bg-gray-900 bg-opacity-95 flex flex-col items-center justify-center gap-4 py-4 h-auto text-2xl
          transform transition-transform-opacity duration-500
          ${t?"translate-y-0 opacity-100":"-translate-y-full opacity-0 pointer-events-none"}
        `,children:[WP.map(y=>{const b=n.pathname===y.path;return E.jsxs(bc,{to:y.path,className:"relative text-orange-400 px-6 py-2 rounded group overflow-hidden font-medium",onClick:()=>e(!1),children:[b&&E.jsx("span",{className:"absolute inset-0 bg-orange-600 rounded"}),E.jsx("span",{className:`relative ${b?"text-white":"group-hover:text-white transition-colors duration-300"}`,children:y.name})]},y.name)}),E.jsxs("div",{className:"relative w-30 h-10",children:[E.jsxs("div",{className:"flex items-center relative h-full",children:[E.jsx(tw,{className:"absolute right-3 cursor-pointer hover:scale-105",color:"white"}),E.jsx("input",{type:"text",pattern:"\\d*",onChange:y=>{o(!0),i(parseInt(y.target.value))},className:"h-full bg-gray-600 rounded-md w-full text-white text-lg px-3 pr-10",placeholder:""})]}),a&&E.jsx("div",{className:"absolute top-full mt-1 left-0 w-full bg-white rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:Object.keys(f).map(y=>f[y]).filter(y=>y.team_number.mean.toString().includes(String(r))).map(y=>E.jsx("h1",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer rounded-md",onClick:()=>{h(y.team_number.max),p("/teams"),e(!1)},children:y.team_number.max},y.team_number.max))})]})]})]})}function $o(){const t=Gn(e=>e.hotRefresh);return E.jsx("button",{onClick:t,className:"fixed bottom-2 right-2 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-700 transition duration-300 z-50 cursor-pointer",title:"Reload Data",children:E.jsx(tB,{size:24})})}function su(){return E.jsx(bc,{to:"/settings",className:"fixed bottom-2 left-2 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-700 transition duration-300 z-50 cursor-pointer",children:E.jsx("div",{children:E.jsx(lB,{})})},"settings")}function AE({isOpen:t,onClose:e,forms:n,teamNumber:r,teamInfo:i,teamImages:a}){const{setCurrentViewingTeam:o,tbaData:u,teamStats:f}=Gn(),h=fd(),p=(r?n.filter(y=>Number(y.team_number)===r).sort((y,b)=>(y.match_number??0)-(b.match_number??0)):[]).filter(y=>y.comments);return t?E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/67",onClick:e,children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[75vh] overflow-hidden flex flex-col m-4 pointer-events-auto",onClick:y=>y.stopPropagation(),children:[E.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Quick Team Overview"}),E.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition cursor-pointer",children:E.jsx(wB,{size:24,className:"text-gray-600"})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r?E.jsxs("div",{className:"space-y-6",children:[E.jsx("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-200",children:E.jsxs("div",{className:"w-full",children:[E.jsxs("div",{className:"p-4 flex justify-between w-full gap-4",children:[E.jsxs("h3",{className:"text-3xl font-bold text-gray-800",children:["Team ",r," - ",i&&i[r]?.nickname||"Unknown Team"]}),E.jsx("button",{onClick:()=>{o(r),h("/teams")},className:"px-5 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition font-medium cursor-pointer",children:"View Team Page"})]}),E.jsxs("div",{className:"text-base text-gray-800 mb-1 flex flex-row flex-wrap gap-2",children:[E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-xs",children:"Rank"}),E.jsx("p",{className:"text-md font-semibold",children:u?.rankings?.find(y=>y.team_key===`frc${r}`)?.rank??"N/A"})]}),E.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-xs",children:"OPR"}),E.jsx("p",{className:"text-md font-semibold",children:Math.round(Number(u?.oprs[`frc${r}`]??0)*10)/10})]}),E.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-xs",children:"Total Points"}),E.jsx("p",{className:"text-md font-semibold",children:f[r]?.total_points?.q3??0})]}),E.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-xs",children:"Auto Points"}),E.jsx("p",{className:"text-md font-semibold",children:f[r]?.auto_points?.q3??0})]}),E.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-xs",children:"Tele Points"}),E.jsx("p",{className:"text-md font-semibold",children:f[r]?.tele_points?.q3??0})]}),E.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-xs",children:"Endgame Points"}),E.jsx("p",{className:"text-md font-semibold",children:f[r]?.endgame_points?.q3??0})]}),E.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-xs",children:"Total Gamepieces"}),E.jsx("p",{className:"text-md font-semibold",children:f[r]?.total_gamepieces?.q3??0})]})]}),E.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[p.length," comment",p.length!==1?"s":""," found"]})]})}),p.length>0?E.jsx("div",{className:"space-y-3",children:p.map(y=>E.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 hover:shadow-md transition",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsx("span",{className:"font-semibold text-orange-600",children:y.match_type=="match"?"Match "+y.match_number:FK(y.match_type)+" Match"}),y.scout_name&&E.jsxs("span",{className:"text-xs text-gray-500",children:["by ",y.scout_name]})]}),E.jsx("p",{className:"text-gray-800 leading-relaxed",children:y.comments})]},y.id))}):E.jsxs("div",{className:"text-center py-12",children:[E.jsx("div",{className:"text-gray-400 mb-2",children:E.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),E.jsxs("p",{className:"text-gray-500 text-lg",children:["No comments available for Team ",r]})]})]}):E.jsxs("div",{className:"text-center py-20",children:[E.jsx("div",{className:"text-gray-400 mb-4",children:E.jsx(tw,{className:"w-20 h-20 mx-auto"})}),E.jsx("p",{className:"text-gray-500 text-lg",children:"Enter a team number to view their comments"})]})}),E.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex justify-end",children:E.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition font-medium cursor-pointer",children:"Close"})})]})}):null}function FK(t){return typeof t!="string"||t.length===0?t:t.charAt(0).toUpperCase()+t.slice(1)}const HK=["opr","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","tele_made_net"],KK=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()},GK=t=>{alert(t||"No comment")},YP="tableTeamValueType";function WK(){const{forms:t,teamStats:e,loading:n,columnPercentiles:r,loadData:i,teamInfo:a}=Gn();O.useEffect(()=>{i()},[]);const[o,u]=O.useState(!1),[f,h]=O.useState(-1),[d,p]=O.useState("Team"),[y,b]=O.useState(sessionStorage.getItem(YP)??"Median"),[w,x]=O.useState(!0),[S,A]=O.useState(!0),[R,C]=O.useState(-1),[L,U]=O.useState(-1),[D,j]=O.useState({column:null,direction:null});O.useEffect(()=>{sessionStorage.setItem(YP,y)},[y]);const k=q=>{j($=>$.column===q?$.direction==="desc"?{column:q,direction:"asc"}:$.direction==="asc"?{column:null,direction:null}:{column:q,direction:"desc"}:{column:q,direction:"desc"})},M=q=>D.column!==q?E.jsx(M$,{size:14,className:"inline ml-1 text-gray-600"}):D.direction==="desc"?E.jsx(SD,{size:14,className:"inline ml-1 text-orange-600"}):E.jsx(TD,{size:14,className:"inline ml-1 text-orange-600"});function V(q,$){return!$.column||!$.direction?q:[...q].sort((ve,we)=>{let G=ve[$.column??0]??0,re=we[$.column??0]??0;return($.column==="team_number"||$.column==="match_number")&&(G=Number(G),re=Number(re)),typeof G=="number"&&typeof re=="number"&&!isNaN(G)&&!isNaN(re)?$.direction==="asc"?G-re:re-G:$.direction==="asc"?String(G).localeCompare(String(re)):String(re).localeCompare(String(G))})}function z(q,$,ve){return!$.column||!$.direction?q:[...q].sort((we,G)=>{const re=we.stats[$.column??0][ve]??0,pe=G.stats[$.column??0][ve]??0;return typeof re=="number"&&typeof pe=="number"?$.direction==="asc"?re-pe:pe-re:$.direction==="asc"?String(re).localeCompare(String(pe)):String(pe).localeCompare(String(re))})}return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx(Vo,{}),E.jsx(AE,{isOpen:o,onClose:()=>u(!1),forms:t,teamNumber:f,teamInfo:a}),E.jsxs("main",{className:"pt-20 px-0 md:px-6 pr-10",children:[n?E.jsx("div",{className:"text-orange-500 m-15 text-2xl font-bold animate-bounce",children:"Loading data..."}):E.jsxs("div",{className:"scrollbar-thin scrollbar-thumb-orange-500 scrollbar-track-gray-200 relative ",children:[E.jsx("button",{className:`fixed top-22 right-2 z-50 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-600 transition duration-500 cursor-pointer ${S?"opacity-0 pointer-events-none":"opacity-100"}`,onClick:()=>A(!0),children:E.jsx(sB,{size:24})}),E.jsxs("div",{className:`fixed top-18 right-0 ${S?"-translate-x-2 opacity-100":"translate-x-full opacity-0 pointer-events-none"} bg-gray-100 py-1.5 px-5 flex flex-row gap-4 items-center shadow-md w-fit rounded-lg hover:bg-gray-200 transition duration-500 z-40`,children:[E.jsx(YK,{view:d,setView:p}),d==="Team"&&E.jsx(XK,{view:y,setView:b}),d==="Raw"&&E.jsx(QK,{view:L,setView:U,teamStats:e}),E.jsx("button",{className:"ml-0 p-1 text-gray-600 hover:text-gray-800 transition cursor-pointer",onClick:()=>x(q=>!q),children:E.jsx(Q$,{size:24,color:w?"darkorange":"currentColor"})}),E.jsx("button",{className:"ml-0 p-1 text-gray-600 hover:text-gray-800 transition cursor-pointer",onClick:()=>A(!1),children:E.jsx(Y$,{size:24})})]}),E.jsxs("table",{className:`table-auto border-collapse w-full text-sm md:text-base mt-18 ml-0 mb-15 ${d==="Raw"?"shadow-lg rounded-lg overflow-hidden":"border border-gray-300"}`,children:[E.jsx("thead",{className:"sticky top-0 transition-top duration-250",children:E.jsx("tr",{className:d==="Raw"?"bg-gradient-to-r from-orange-50 to-orange-100":"bg-gray-200 shadow-lg",children:(d==="Raw"?_P.filter(q=>q!="opr"):wo).map(q=>E.jsx("th",{onClick:()=>{k(q)},className:`${d==="Raw"?"border-b-2 border-orange-300 px-3 py-2 font-semibold text-gray-900":"border-t-1 border-b-1 border-gray-300 px-3 py-2"} text-center whitespace-nowrap cursor-pointer select-none hover:bg-orange-200 transition duration-250 ${D.column===q?d==="Raw"?"bg-orange-300":"bg-orange-400":""}`,children:E.jsxs("div",{className:"flex items-center justify-center gap-1",children:[KK(q),d==="Raw"?M(q):D.column===q&&E.jsx("span",{className:"text-xs font-bold text-orange-600",children:D.direction==="desc"?"▼":D.direction==="asc"?"▲":""})]})},q))})}),E.jsx("tbody",{children:d==="Raw"?V(t,D).filter(q=>L==-1||q.team_number==L).map((q,$)=>E.jsx("tr",{className:$%3!==0?"bg-white hover:bg-gray-50 transition-colors":"bg-gray-50 hover:bg-gray-100 transition-colors",children:_P.filter(ve=>ve!="opr").map(ve=>E.jsx("td",{className:"border-y border-gray-200 px-3 py-2 text-center",children:ve==="comments"?E.jsx("button",{onClick:()=>GK(q[ve]),className:"px-3 py-1.5 bg-orange-500 text-white text-sm font-medium rounded-md hover:bg-orange-600 transition shadow-sm",children:"View"}):typeof q[ve]=="boolean"?E.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${q[ve]?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:q[ve]?"Yes":"No"}):ve=="match_number"?E.jsx("span",{className:"font-medium text-gray-800",children:q.match_type=="match"?q[ve]??"":q.match_type.toUpperCase()??""}):E.jsx("span",{className:"text-gray-700",children:q[ve]??""})},ve))},q.id)):z(Object.entries(e).map(([q,$])=>({teamNumber:q,stats:$})),D,y.toLowerCase()).map(({teamNumber:q,stats:$},ve)=>{const we=$;return E.jsx("tr",{className:`${(ve+1)%3===0&&R!==we.team_number[y.toLowerCase()]?"bg-gray-200 hover:bg-gray-300":"hover:bg-gray-100"} ${R==we.team_number[y.toLowerCase()]?"bg-orange-300 hover:bg-orange-400":""} transition duration-250`,onClick:()=>C(G=>G===we.team_number[y.toLowerCase()]?-1:we.team_number[y.toLowerCase()]),children:wo.map(G=>{const re=we[G][y.toLowerCase()],{p10:pe,p25:xe,p75:H,p90:oe}=r[G][y.toLowerCase()]??{p10:0,p25:0,p75:1/0,p90:1/0};let ie=" rounded-md px-4 py-1 transition duration-250 ";return HK.includes(G)&&w&&(re<=pe?ie=ie.concat(" bg-red-500/95 font-bold shadow-sm "):re<=xe?ie=ie.concat(" bg-red-200/95 shadow-sm "):re>=oe?ie=ie.concat(" bg-blue-300/95 font-bold shadow-sm "):re>=H&&(ie=ie.concat(" bg-green-200/95 shadow-sm "))),E.jsx("td",{className:`cursor-${G=="team_number"?"pointer":"arrow"} ${G=="team_number"?"hover:font-bold":""} transition border-t-1 border-b-1 border-y-gray-500 px-3 py-3 text-center ${D.column===G?"border-x-orange-400 border-x-3":""}`,onClick:G=="team_number"?()=>{h(re),u(!0)}:()=>{},children:E.jsx("span",{className:ie,children:re})},G)})},q)})})]})]}),E.jsx($o,{}),E.jsx(su,{})]})]})}function YK({view:t,setView:e}){return E.jsxs("div",{className:"my-0",children:[E.jsx("label",{htmlFor:"table-type-select",className:"mr-2 font-medium text-gray-700",children:"Table Type:"}),E.jsxs("select",{id:"table-type-select",value:t,onChange:n=>e(n.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-xl hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:[E.jsx("option",{value:"Raw",children:"Raw"}),E.jsx("option",{value:"Team",children:"Team"})]})]})}function XK({view:t,setView:e}){return E.jsxs("div",{className:"my-0 ml-2",children:[E.jsx("label",{htmlFor:"team-value-select",className:"mr-2 font-medium text-gray-700",children:"Value Type:"}),E.jsxs("select",{id:"team-value-select",value:t,onChange:n=>e(n.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-xl hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:[E.jsx("option",{value:"Max",children:"Max"}),E.jsx("option",{value:"Q3",children:"Q3"}),E.jsx("option",{value:"Median",children:"Median"}),E.jsx("option",{value:"Mean",children:"Mean"}),E.jsx("option",{value:"Min",children:"Min"})]})]})}function QK({view:t,setView:e,teamStats:n}){return E.jsxs("div",{className:"my-0 ml-2",children:[E.jsx("label",{htmlFor:"team-value-select",className:"mr-2 font-medium text-gray-700",children:"Team:"}),E.jsxs("select",{id:"team-value-select",value:t,onChange:r=>e(parseInt(r.target.value)),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-xl hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:[E.jsx("option",{value:-1,children:"ANY"}),Object.keys(n).map(r=>E.jsx("option",{value:n[r].team_number.max,children:n[r].team_number.max}))]})]})}function JK(){const t=gD();return console.error(t),E.jsxs("div",{id:"error-page",children:[E.jsx("h1",{children:"That page does not exist."}),E.jsx("p",{children:"Sorry, an unexpected error has occurred."}),E.jsx("p",{children:E.jsx("i",{children:t.statusText||t.message})})]})}const ZK=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()};function Oa({view:t,setView:e,label:n,options:r}){return E.jsxs("div",{className:"my-0",children:[E.jsx("label",{className:"mr-2 font-medium text-gray-700",children:n}),E.jsx("select",{value:t,onChange:i=>e(i.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-lg hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:r.map(i=>E.jsxs("option",{value:String(i),children:[" ",typeof i=="string"?ZK(i):String(i)," "]},String(i)))})]})}function eM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=eM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=eM(t))&&(r&&(r+=" "),r+=e);return r}var pb={},gb={},XP;function eG(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(gb)),gb}var yb={},QP;function tM(){return QP||(QP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(yb)),yb}var vb={},JP;function nM(){return JP||(JP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(vb)),vb}var bb={},ZP;function OE(){return ZP||(ZP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,o="",u="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const h=n[a];u?h==="\\"&&a+1<i?(a++,o+=n[a]):h===u?u="":o+=h:f?h==='"'||h==="'"?u=h:h==="]"?(f=!1,r.push(o),o=""):o+=h:h==="["?(f=!0,o&&(r.push(o),o="")):h==="."?o&&(r.push(o),o=""):o+=h,a++}return o&&r.push(o),r}t.toPath=e})(bb)),bb}var eR;function CE(){return eR||(eR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eG(),n=tM(),r=nM(),i=OE();function a(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const d=u[f];return d===void 0?n.isDeepKey(f)?a(u,i.toPath(f),h):h:d}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const d=u[f];return d===void 0?h:d}default:{if(Array.isArray(f))return o(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const d=u[f];return d===void 0?h:d}}}function o(u,f,h){if(f.length===0)return h;let d=u;for(let p=0;p<f.length;p++){if(d==null||e.isUnsafeProperty(f[p]))return h;d=d[f[p]]}return d===void 0?h:d}t.get=a})(pb)),pb}var _b,tR;function tG(){return tR||(tR=1,_b=CE().get),_b}var nG=tG();const Gl=ea(nG);var wb={exports:{}},Lt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR;function rG(){if(nR)return Lt;nR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(x){if(typeof x=="object"&&x!==null){var S=x.$$typeof;switch(S){case t:switch(x=x.type,x){case n:case i:case r:case f:case h:case y:return x;default:switch(x=x&&x.$$typeof,x){case o:case u:case p:case d:return x;case a:return x;default:return S}}case e:return S}}}return Lt.ContextConsumer=a,Lt.ContextProvider=o,Lt.Element=t,Lt.ForwardRef=u,Lt.Fragment=n,Lt.Lazy=p,Lt.Memo=d,Lt.Portal=e,Lt.Profiler=i,Lt.StrictMode=r,Lt.Suspense=f,Lt.SuspenseList=h,Lt.isContextConsumer=function(x){return w(x)===a},Lt.isContextProvider=function(x){return w(x)===o},Lt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Lt.isForwardRef=function(x){return w(x)===u},Lt.isFragment=function(x){return w(x)===n},Lt.isLazy=function(x){return w(x)===p},Lt.isMemo=function(x){return w(x)===d},Lt.isPortal=function(x){return w(x)===e},Lt.isProfiler=function(x){return w(x)===i},Lt.isStrictMode=function(x){return w(x)===r},Lt.isSuspense=function(x){return w(x)===f},Lt.isSuspenseList=function(x){return w(x)===h},Lt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===f||x===h||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===d||x.$$typeof===o||x.$$typeof===a||x.$$typeof===u||x.$$typeof===b||x.getModuleId!==void 0)},Lt.typeOf=w,Lt}var rR;function iG(){return rR||(rR=1,wb.exports=rG()),wb.exports}var aG=iG(),Dr=t=>t===0?0:t>0?1:-1,ni=t=>typeof t=="number"&&t!=+t,kl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Pe=t=>(typeof t=="number"||t instanceof Number)&&!ni(t),ja=t=>Pe(t)||typeof t=="string",sG=0,Jh=t=>{var e=++sG;return"".concat(t||"").concat(e)},Ji=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&typeof e!="string")return r;var a;if(kl(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return ni(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},rM=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Gi(t,e,n){return Pe(t)&&Pe(e)?t+n*(e-t):e}function iM(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Gl(r,e))===n)}var Gt=t=>t===null||typeof t>"u",wd=t=>Gt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),oG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function PE(t){if(typeof t!="string")return!1;var e=oG;return e.includes(t)}var lG=["viewBox","children"],iR=["points","pathLength"],xb={svg:lG,polygon:iR,polyline:iR},RE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{PE(i)&&(r[i]=(a=>n[i](n,a)))}),r},uG=(t,e,n)=>r=>(t(e,n,r),null),sy=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];PE(i)&&typeof a=="function"&&(r||(r={}),r[i]=uG(a,e,n))}),r},cG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function aM(t){if(typeof t!="string")return!1;var e=cG;return e.includes(t)}function ou(t){var e=Object.entries(t).filter(n=>{var[r]=n;return aM(r)});return Object.fromEntries(e)}var aR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",sR=null,Eb=null,sM=t=>{if(t===sR&&Array.isArray(Eb))return Eb;var e=[];return O.Children.forEach(t,n=>{Gt(n)||(aG.isFragment(n)?e=e.concat(sM(n.props.children)):e.push(n))}),Eb=e,sR=t,e};function NE(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>aR(i)):r=[aR(e)],sM(t).forEach(i=>{var a=Gl(i,"type.displayName")||Gl(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var oM=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,fG=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&xb?.[r])!==null&&i!==void 0?i:[],o=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&a.includes(e)||aM(e)),f=!!n&&PE(e);return o||u||f},on=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(O.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;fG((o=r)===null||o===void 0?void 0:o[a],a,e,n)&&(i[a]=r[a])}),i},hG=["children","width","height","viewBox","className","style","title","desc"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(null,arguments)}function dG(t,e){if(t==null)return{};var n,r,i=mG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jE=O.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:u,title:f,desc:h}=t,d=dG(t,hG),p=a||{width:r,height:i,x:0,y:0},y=jt("recharts-surface",o);return O.createElement("svg",Mw({},on(d,!0,"svg"),{className:y,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),O.createElement("title",null,f),O.createElement("desc",null,h),n)}),pG=["children","className"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(null,arguments)}function gG(t,e){if(t==null)return{};var n,r,i=yG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zi=O.forwardRef((t,e)=>{var{children:n,className:r}=t,i=gG(t,pG),a=jt("recharts-layer",r);return O.createElement("g",Lw({className:a},on(i,!0),{ref:e}),n)}),lM=O.createContext(null),vG=()=>O.useContext(lM);function qt(t){return function(){return t}}const uM=Math.cos,rg=Math.sin,ta=Math.sqrt,ig=Math.PI,oy=2*ig,Uw=Math.PI,Vw=2*Uw,Tl=1e-6,bG=Vw-Tl;function cM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _G(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return cM;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class wG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?cM:_G(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,f=r-e,h=i-n,d=o-e,p=u-n,y=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Tl)if(!(Math.abs(p*f-h*d)>Tl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-o,w=i-u,x=f*f+h*h,S=b*b+w*w,A=Math.sqrt(x),R=Math.sqrt(y),C=a*Math.tan((Uw-Math.acos((x+y-S)/(2*A*R)))/2),L=C/R,U=C/A;Math.abs(L-1)>Tl&&this._append`L${e+L*d},${n+L*p}`,this._append`A${a},${a},0,0,${+(p*b>d*w)},${this._x1=e+U*f},${this._y1=n+U*h}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=e+u,d=n+f,p=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${h},${d}`:(Math.abs(this._x1-h)>Tl||Math.abs(this._y1-d)>Tl)&&this._append`L${h},${d}`,r&&(y<0&&(y=y%Vw+Vw),y>bG?this._append`A${r},${r},0,1,${p},${e-u},${n-f}A${r},${r},0,1,${p},${this._x1=h},${this._y1=d}`:y>Tl&&this._append`A${r},${r},0,${+(y>=Uw)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function DE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new wG(e)}function kE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fM(t){this._context=t}fM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ly(t){return new fM(t)}function hM(t){return t[0]}function dM(t){return t[1]}function mM(t,e){var n=qt(!0),r=null,i=ly,a=null,o=DE(u);t=typeof t=="function"?t:t===void 0?hM:qt(t),e=typeof e=="function"?e:e===void 0?dM:qt(e);function u(f){var h,d=(f=kE(f)).length,p,y=!1,b;for(r==null&&(a=i(b=o())),h=0;h<=d;++h)!(h<d&&n(p=f[h],h,f))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,h,f),+e(p,h,f));if(b)return a=null,b+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:qt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function op(t,e,n){var r=null,i=qt(!0),a=null,o=ly,u=null,f=DE(h);t=typeof t=="function"?t:t===void 0?hM:qt(+t),e=typeof e=="function"?e:qt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?dM:qt(+n);function h(p){var y,b,w,x=(p=kE(p)).length,S,A=!1,R,C=new Array(x),L=new Array(x);for(a==null&&(u=o(R=f())),y=0;y<=x;++y){if(!(y<x&&i(S=p[y],y,p))===A)if(A=!A)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=y-1;w>=b;--w)u.point(C[w],L[w]);u.lineEnd(),u.areaEnd()}A&&(C[y]=+t(S,y,p),L[y]=+e(S,y,p),u.point(r?+r(S,y,p):C[y],n?+n(S,y,p):L[y]))}if(R)return u=null,R+""||null}function d(){return mM().defined(i).curve(o).context(a)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:qt(+p),r=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:qt(+p),h):t},h.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:qt(+p),h):r},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:qt(+p),n=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:qt(+p),h):e},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:qt(+p),h):n},h.lineX0=h.lineY0=function(){return d().x(t).y(e)},h.lineY1=function(){return d().x(t).y(n)},h.lineX1=function(){return d().x(r).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:qt(!!p),h):i},h.curve=function(p){return arguments.length?(o=p,a!=null&&(u=o(a)),h):o},h.context=function(p){return arguments.length?(p==null?a=u=null:u=o(a=p),h):a},h}class pM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function xG(t){return new pM(t,!0)}function EG(t){return new pM(t,!1)}const IE={draw(t,e){const n=ta(e/ig);t.moveTo(n,0),t.arc(0,0,n,0,oy)}},SG={draw(t,e){const n=ta(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},gM=ta(1/3),TG=gM*2,AG={draw(t,e){const n=ta(e/TG),r=n*gM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},OG={draw(t,e){const n=ta(e),r=-n/2;t.rect(r,r,n,n)}},CG=.8908130915292852,yM=rg(ig/10)/rg(7*ig/10),PG=rg(oy/10)*yM,RG=-uM(oy/10)*yM,NG={draw(t,e){const n=ta(e*CG),r=PG*n,i=RG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=oy*a/5,u=uM(o),f=rg(o);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Sb=ta(3),jG={draw(t,e){const n=-ta(e/(Sb*3));t.moveTo(0,n*2),t.lineTo(-Sb*n,-n),t.lineTo(Sb*n,-n),t.closePath()}},Ei=-.5,Si=ta(3)/2,$w=1/ta(12),DG=($w/2+1)*3,kG={draw(t,e){const n=ta(e/DG),r=n/2,i=n*$w,a=r,o=n*$w+n,u=-a,f=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(u,f),t.lineTo(Ei*r-Si*i,Si*r+Ei*i),t.lineTo(Ei*a-Si*o,Si*a+Ei*o),t.lineTo(Ei*u-Si*f,Si*u+Ei*f),t.lineTo(Ei*r+Si*i,Ei*i-Si*r),t.lineTo(Ei*a+Si*o,Ei*o-Si*a),t.lineTo(Ei*u+Si*f,Ei*f-Si*u),t.closePath()}};function IG(t,e){let n=null,r=DE(i);t=typeof t=="function"?t:qt(t||IE),e=typeof e=="function"?e:qt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:qt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:qt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function ag(){}function sg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function vM(t){this._context=t}vM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function MG(t){return new vM(t)}function bM(t){this._context=t}bM.prototype={areaStart:ag,areaEnd:ag,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:sg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LG(t){return new bM(t)}function _M(t){this._context=t}_M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UG(t){return new _M(t)}function wM(t){this._context=t}wM.prototype={areaStart:ag,areaEnd:ag,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function VG(t){return new wM(t)}function oR(t){return t<0?-1:1}function lR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(oR(a)+oR(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function uR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Tb(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,o-u*n,a,o)}function og(t){this._context=t}og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tb(this,this._t0,uR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tb(this,uR(this,n=lR(this,t,e)),n);break;default:Tb(this,this._t0,n=lR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function xM(t){this._context=new EM(t)}(xM.prototype=Object.create(og.prototype)).point=function(t,e){og.prototype.point.call(this,e,t)};function EM(t){this._context=t}EM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function $G(t){return new og(t)}function BG(t){return new xM(t)}function SM(t){this._context=t}SM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=cR(t),i=cR(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function cR(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function zG(t){return new SM(t)}function uy(t,e){this._context=t,this._t=e}uy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function qG(t){return new uy(t,.5)}function FG(t){return new uy(t,0)}function HG(t){return new uy(t,1)}function Ic(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,u=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Bw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function KG(t,e){return t[e]}function GG(t){const e=[];return e.key=t,e}function WG(){var t=qt([]),e=Bw,n=Ic,r=KG;function i(a){var o=Array.from(t.apply(this,arguments),GG),u,f=o.length,h=-1,d;for(const p of a)for(u=0,++h;u<f;++u)(o[u][h]=[0,+r(p,o[u].key,h,a)]).data=p;for(u=0,d=kE(e(o));u<f;++u)o[d[u]].index=u;return n(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:qt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:qt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Bw:typeof a=="function"?a:qt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Ic,i):n},i}function YG(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Ic(t,e)}}function XG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,u=0;o<i;++o)u+=t[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}Ic(t,e)}}function QG(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var u=0,f=0,h=0;u<o;++u){for(var d=t[e[u]],p=d[r][1]||0,y=d[r-1][1]||0,b=(p-y)/2,w=0;w<u;++w){var x=t[e[w]],S=x[r][1]||0,A=x[r-1][1]||0;b+=S-A}f+=p,h+=b*p}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,Ic(t,e)}}var JG=["type","size","sizeType"];function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(null,arguments)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){ZG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZG(t,e,n){return(e=eW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eW(t){var e=tW(t,"string");return typeof e=="symbol"?e:e+""}function tW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nW(t,e){if(t==null)return{};var n,r,i=rW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var TM={symbolCircle:IE,symbolCross:SG,symbolDiamond:AG,symbolSquare:OG,symbolStar:NG,symbolTriangle:jG,symbolWye:kG},iW=Math.PI/180,aW=t=>{var e="symbol".concat(wd(t));return TM[e]||IE},sW=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*iW;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},oW=(t,e)=>{TM["symbol".concat(wd(t))]=e},ME=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=nW(t,JG),a=hR(hR({},i),{},{type:e,size:n,sizeType:r}),o=()=>{var p=aW(e),y=IG().type(p).size(sW(n,r,e));return y()},{className:u,cx:f,cy:h}=a,d=on(a,!0);return f===+f&&h===+h&&n===+n?O.createElement("path",zw({},d,{className:jt("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:o()})):null};ME.registerSymbol=oW;function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(null,arguments)}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){LE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LE(t,e,n){return(e=uW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uW(t){var e=cW(t,"string");return typeof e=="symbol"?e:e+""}function cW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ti=32;class UE extends O.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Ti/2,a=Ti/6,o=Ti/3,u=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Ti,y2:i,className:"recharts-legend-icon"});if(f==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Ti,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return O.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ti/8,"h").concat(Ti,"v").concat(Ti*3/4,"h").concat(-Ti,"z"),className:"recharts-legend-icon"});if(O.isValidElement(e.legendIcon)){var h=lW({},e);return delete h.legendIcon,O.cloneElement(e.legendIcon,h)}return O.createElement(ME,{fill:u,cx:i,cy:i,size:Ti,sizeType:"diameter",type:f})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,u={x:0,y:0,width:Ti,height:Ti},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,p)=>{var y=d.formatter||i,b=jt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var w=d.inactive?a:d.color,x=y?y(d.value,d,p):d.value;return O.createElement("li",qw({className:b,style:f,key:"legend-item-".concat(p)},sy(this.props,d,p)),O.createElement(jE,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(x," legend icon")},this.renderIcon(d,o)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},x))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}LE(UE,"displayName","Legend");LE(UE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Ab={},Ob={},mR;function fW(){return mR||(mR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],u=r(o);i.has(u)||i.set(u,o)}return Array.from(i.values())}t.uniqBy=e})(Ob)),Ob}var Cb={},pR;function AM(){return pR||(pR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Cb)),Cb}var Pb={},Rb={},Nb={},gR;function hW(){return gR||(gR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Nb)),Nb}var yR;function VE(){return yR||(yR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hW();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Rb)),Rb}var jb={},vR;function dW(){return vR||(vR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(jb)),jb}var bR;function mW(){return bR||(bR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VE(),n=dW();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Pb)),Pb}var Db={},kb={},_R;function pW(){return _R||(_R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(kb)),kb}var Ib={},Mb={},Lb={},Ub={},wR;function OM(){return wR||(wR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Ub)),Ub}var Vb={},xR;function CM(){return xR||(xR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Vb)),Vb}var $b={},ER;function $E(){return ER||(ER=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})($b)),$b}var SR;function gW(){return SR||(SR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BE(),n=OM(),r=CM(),i=$E();function a(p,y,b){return typeof b!="function"?e.isMatch(p,y):o(p,y,function w(x,S,A,R,C,L){const U=b(x,S,A,R,C,L);return U!==void 0?!!U:o(x,S,w,L)},new Map)}function o(p,y,b,w){if(y===p)return!0;switch(typeof y){case"object":return u(p,y,b,w);case"function":return Object.keys(y).length>0?o(p,{...y},b,w):i.eq(p,y);default:return n.isObject(p)?typeof y=="string"?y==="":!0:i.eq(p,y)}}function u(p,y,b,w){if(y==null)return!0;if(Array.isArray(y))return h(p,y,b,w);if(y instanceof Map)return f(p,y,b,w);if(y instanceof Set)return d(p,y,b,w);const x=Object.keys(y);if(p==null)return x.length===0;if(x.length===0)return!0;if(w&&w.has(y))return w.get(y)===p;w&&w.set(y,p);try{for(let S=0;S<x.length;S++){const A=x[S];if(!r.isPrimitive(p)&&!(A in p)||y[A]===void 0&&p[A]!==void 0||y[A]===null&&p[A]!==null||!b(p[A],y[A],A,p,y,w))return!1}return!0}finally{w&&w.delete(y)}}function f(p,y,b,w){if(y.size===0)return!0;if(!(p instanceof Map))return!1;for(const[x,S]of y.entries()){const A=p.get(x);if(b(A,S,x,p,y,w)===!1)return!1}return!0}function h(p,y,b,w){if(y.length===0)return!0;if(!Array.isArray(p))return!1;const x=new Set;for(let S=0;S<y.length;S++){const A=y[S];let R=!1;for(let C=0;C<p.length;C++){if(x.has(C))continue;const L=p[C];let U=!1;if(b(L,A,S,p,y,w)&&(U=!0),U){x.add(C),R=!0;break}}if(!R)return!1}return!0}function d(p,y,b,w){return y.size===0?!0:p instanceof Set?h([...p],[...y],b,w):!1}t.isMatchWith=a,t.isSetMatch=d})(Lb)),Lb}var TR;function BE(){return TR||(TR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gW();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Mb)),Mb}var Bb={},zb={},qb={},AR;function PM(){return AR||(AR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(qb)),qb}var Fb={},OR;function zE(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Fb)),Fb}var Hb={},CR;function qE(){return CR||(CR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",d="[object Array]",p="[object Function]",y="[object ArrayBuffer]",b="[object Object]",w="[object Error]",x="[object DataView]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",R="[object Uint16Array]",C="[object Uint32Array]",L="[object BigUint64Array]",U="[object Int8Array]",D="[object Int16Array]",j="[object Int32Array]",k="[object BigInt64Array]",M="[object Float32Array]",V="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=d,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=x,t.dateTag=u,t.errorTag=w,t.float32ArrayTag=M,t.float64ArrayTag=V,t.functionTag=p,t.int16ArrayTag=D,t.int32ArrayTag=j,t.int8ArrayTag=U,t.mapTag=f,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=R,t.uint32ArrayTag=C,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=A})(Hb)),Hb}var Kb={},PR;function yW(){return PR||(PR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Kb)),Kb}var RR;function RM(){return RR||(RR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PM(),n=zE(),r=qE(),i=CM(),a=yW();function o(d,p){return u(d,void 0,d,new Map,p)}function u(d,p,y,b=new Map,w=void 0){const x=w?.(d,p,y,b);if(x!==void 0)return x;if(i.isPrimitive(d))return d;if(b.has(d))return b.get(d);if(Array.isArray(d)){const S=new Array(d.length);b.set(d,S);for(let A=0;A<d.length;A++)S[A]=u(d[A],A,y,b,w);return Object.hasOwn(d,"index")&&(S.index=d.index),Object.hasOwn(d,"input")&&(S.input=d.input),S}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const S=new RegExp(d.source,d.flags);return S.lastIndex=d.lastIndex,S}if(d instanceof Map){const S=new Map;b.set(d,S);for(const[A,R]of d)S.set(A,u(R,A,y,b,w));return S}if(d instanceof Set){const S=new Set;b.set(d,S);for(const A of d)S.add(u(A,void 0,y,b,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const S=new(Object.getPrototypeOf(d)).constructor(d.length);b.set(d,S);for(let A=0;A<d.length;A++)S[A]=u(d[A],A,y,b,w);return S}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const S=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return b.set(d,S),f(S,d,y,b,w),S}if(typeof File<"u"&&d instanceof File){const S=new File([d],d.name,{type:d.type});return b.set(d,S),f(S,d,y,b,w),S}if(d instanceof Blob){const S=new Blob([d],{type:d.type});return b.set(d,S),f(S,d,y,b,w),S}if(d instanceof Error){const S=new d.constructor;return b.set(d,S),S.message=d.message,S.name=d.name,S.stack=d.stack,S.cause=d.cause,f(S,d,y,b,w),S}if(typeof d=="object"&&h(d)){const S=Object.create(Object.getPrototypeOf(d));return b.set(d,S),f(S,d,y,b,w),S}return d}function f(d,p,y=d,b,w){const x=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<x.length;S++){const A=x[S],R=Object.getOwnPropertyDescriptor(d,A);(R==null||R.writable)&&(d[A]=u(p[A],A,y,b,w))}}function h(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=u,t.copyProperties=f})(zb)),zb}var NR;function vW(){return NR||(NR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RM();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Bb)),Bb}var jR;function bW(){return jR||(jR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BE(),n=vW();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Ib)),Ib}var Gb={},Wb={},Yb={},DR;function _W(){return DR||(DR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RM(),n=qE();function r(i,a){return e.cloneDeepWith(i,(o,u,f,h)=>{const d=a?.(o,u,f,h);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(Yb)),Yb}var kR;function wW(){return kR||(kR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_W();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Wb)),Wb}var Xb={},Qb={},IR;function NM(){return IR||(IR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Qb)),Qb}var Jb={},MR;function xW(){return MR||(MR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zE();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Jb)),Jb}var LR;function EW(){return LR||(LR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tM(),n=NM(),r=xW(),i=OE();function a(o,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&o?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let h=o;for(let d=0;d<f.length;d++){const p=f[d];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}t.has=a})(Xb)),Xb}var UR;function SW(){return UR||(UR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BE(),n=nM(),r=wW(),i=CE(),a=EW();function o(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(h){const d=i.get(h,u);return d===void 0?a.has(h,u):f===void 0?d===void 0:e.isMatch(d,f)}}t.matchesProperty=o})(Gb)),Gb}var VR;function TW(){return VR||(VR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AM(),n=pW(),r=bW(),i=SW();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(Db)),Db}var $R;function AW(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fW(),n=AM(),r=mW(),i=TW();function a(o,u=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(u)):[]}t.uniqBy=a})(Ab)),Ab}var Zb,BR;function OW(){return BR||(BR=1,Zb=AW().uniqBy),Zb}var CW=OW();const zR=ea(CW);function jM(t,e,n){return e===!0?zR(t,n):typeof e=="function"?zR(t,e):t}var e_={exports:{}},t_={},n_={exports:{}},r_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qR;function PW(){if(qR)return r_;qR=1;var t=qc();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function u(p,y){var b=y(),w=r({inst:{value:b,getSnapshot:y}}),x=w[0].inst,S=w[1];return a(function(){x.value=b,x.getSnapshot=y,f(x)&&S({inst:x})},[p,b,y]),i(function(){return f(x)&&S({inst:x}),p(function(){f(x)&&S({inst:x})})},[p]),o(b),b}function f(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch{return!0}}function h(p,y){return y()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return r_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,r_}var FR;function RW(){return FR||(FR=1,n_.exports=PW()),n_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HR;function NW(){if(HR)return t_;HR=1;var t=qc(),e=RW();function n(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,u=t.useMemo,f=t.useDebugValue;return t_.useSyncExternalStoreWithSelector=function(h,d,p,y,b){var w=a(null);if(w.current===null){var x={hasValue:!1,value:null};w.current=x}else x=w.current;w=u(function(){function A(D){if(!R){if(R=!0,C=D,D=y(D),b!==void 0&&x.hasValue){var j=x.value;if(b(j,D))return L=j}return L=D}if(j=L,r(C,D))return j;var k=y(D);return b!==void 0&&b(j,k)?(C=D,j):(C=D,L=k)}var R=!1,C,L,U=p===void 0?null:p;return[function(){return A(d())},U===null?void 0:function(){return A(U())}]},[d,p,y,b]);var S=i(h,w[0],w[1]);return o(function(){x.hasValue=!0,x.value=S},[S]),f(S),S},t_}var KR;function jW(){return KR||(KR=1,e_.exports=NW()),e_.exports}var DW=jW(),FE=O.createContext(null),kW=t=>t,En=()=>{var t=O.useContext(FE);return t?t.store.dispatch:kW},jp=()=>{},IW=()=>jp,MW=(t,e)=>t===e;function Le(t){var e=O.useContext(FE);return DW.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:IW,e?e.store.getState:jp,e?e.store.getState:jp,e?t:jp,MW)}function LW(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function UW(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function VW(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var GR=t=>Array.isArray(t)?t:[t];function $W(t){const e=Array.isArray(t[0])?t[0]:t;return VW(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function BW(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var zW=class{constructor(t){this.value=t}deref(){return this.value}},qW=typeof WeakRef<"u"?WeakRef:zW,FW=0,WR=1;function lp(){return{s:FW,v:void 0,o:null,p:null}}function DM(t,e={}){let n=lp();const{resultEqualityCheck:r}=e;let i,a=0;function o(){let u=n;const{length:f}=arguments;for(let p=0,y=f;p<y;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const x=w.get(b);x===void 0?(u=lp(),w.set(b,u)):u=x}else{let w=u.p;w===null&&(u.p=w=new Map);const x=w.get(b);x===void 0?(u=lp(),w.set(b,u)):u=x}}const h=u;let d;if(u.s===WR)d=u.v;else if(d=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new qW(d):d}return h.s=WR,h.v=d,d}return o.clearCache=()=>{n=lp(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function HW(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,u,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),LW(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const d={...n,...f},{memoize:p,memoizeOptions:y=[],argsMemoize:b=DM,argsMemoizeOptions:w=[]}=d,x=GR(y),S=GR(w),A=$W(i),R=p(function(){return a++,h.apply(null,arguments)},...x),C=b(function(){o++;const U=BW(A,arguments);return u=R.apply(null,U),u},...S);return Object.assign(C,{resultFunc:h,memoizedResultFunc:R,dependencies:A,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var se=HW(DM),KW=Object.assign((t,e=se)=>{UW(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,u,f)=>(o[n[f]]=u,o),{}))},{withTypes:()=>KW}),i_={},a_={},s_={},YR;function GW(){return YR||(YR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),u=e(i);if(o===u&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-o:o-u}return 0};t.compareValues=n})(s_)),s_}var o_={},l_={},XR;function kM(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(l_)),l_}var QR;function WW(){return QR||(QR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(o_)),o_}var JR;function YW(){return JR||(JR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GW(),n=WW(),r=OE();function i(a,o,u,f){if(a==null)return[];u=f?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const h=(b,w)=>{let x=b;for(let S=0;S<w.length&&x!=null;++S)x=x[w[S]];return x},d=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:h(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?h(w,b):typeof w=="object"?w[b]:w,p=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(w=>d(w,b))})).slice().sort((b,w)=>{for(let x=0;x<p.length;x++){const S=e.compareValues(b.criteria[x],w.criteria[x],u[x]);if(S!==0)return S}return 0}).map(b=>b.original)}t.orderBy=i})(a_)),a_}var u_={},ZR;function XW(){return ZR||(ZR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(u,f)=>{for(let h=0;h<u.length;h++){const d=u[h];Array.isArray(d)&&f<a?o(d,f+1):i.push(d)}};return o(n,0),i}t.flatten=e})(u_)),u_}var c_={},e2;function IM(){return e2||(e2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NM(),n=VE(),r=OM(),i=$E();function a(o,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],o):!1}t.isIterateeCall=a})(c_)),c_}var t2;function QW(){return t2||(t2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YW(),n=XW(),r=IM();function i(a,...o){const u=o.length;return u>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:u>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(i_)),i_}var f_,n2;function JW(){return n2||(n2=1,f_=QW().sortBy),f_}var ZW=JW();const cy=ea(ZW);var MM=t=>t.legend.settings,eY=t=>t.legend.size,tY=t=>t.legend.payload,nY=se([tY,MM],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?cy(r,n):r});function rY(){return Le(nY)}var up=1;function LM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=O.useState({height:0,left:0,top:0,width:0}),r=O.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>up||Math.abs(o.left-e.left)>up||Math.abs(o.top-e.top)>up||Math.abs(o.width-e.width)>up)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function nr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var iY=typeof Symbol=="function"&&Symbol.observable||"@@observable",r2=iY,h_=()=>Math.random().toString(36).substring(7).split("").join("."),aY={INIT:`@@redux/INIT${h_()}`,REPLACE:`@@redux/REPLACE${h_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${h_()}`},lg=aY;function HE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function UM(t,e,n){if(typeof t!="function")throw new Error(nr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nr(1));return n(UM)(t,e)}let r=t,i=e,a=new Map,o=a,u=0,f=!1;function h(){o===a&&(o=new Map,a.forEach((S,A)=>{o.set(A,S)}))}function d(){if(f)throw new Error(nr(3));return i}function p(S){if(typeof S!="function")throw new Error(nr(4));if(f)throw new Error(nr(5));let A=!0;h();const R=u++;return o.set(R,S),function(){if(A){if(f)throw new Error(nr(6));A=!1,h(),o.delete(R),a=null}}}function y(S){if(!HE(S))throw new Error(nr(7));if(typeof S.type>"u")throw new Error(nr(8));if(typeof S.type!="string")throw new Error(nr(17));if(f)throw new Error(nr(9));try{f=!0,i=r(i,S)}finally{f=!1}return(a=o).forEach(R=>{R()}),S}function b(S){if(typeof S!="function")throw new Error(nr(10));r=S,y({type:lg.REPLACE})}function w(){const S=p;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(nr(11));function R(){const L=A;L.next&&L.next(d())}return R(),{unsubscribe:S(R)}},[r2](){return this}}}return y({type:lg.INIT}),{dispatch:y,subscribe:p,getState:d,replaceReducer:b,[r2]:w}}function sY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:lg.INIT})>"u")throw new Error(nr(12));if(typeof n(void 0,{type:lg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nr(13))})}function VM(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{sY(n)}catch(a){i=a}return function(o={},u){if(i)throw i;let f=!1;const h={};for(let d=0;d<r.length;d++){const p=r[d],y=n[p],b=o[p],w=y(b,u);if(typeof w>"u")throw u&&u.type,new Error(nr(14));h[p]=w,f=f||w!==b}return f=f||r.length!==Object.keys(o).length,f?h:o}}function ug(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function oY(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(nr(15))};const o={getState:i.getState,dispatch:(f,...h)=>a(f,...h)},u=t.map(f=>f(o));return a=ug(...u)(i.dispatch),{...i,dispatch:a}}}function $M(t){return HE(t)&&"type"in t&&typeof t.type=="string"}var BM=Symbol.for("immer-nothing"),i2=Symbol.for("immer-draftable"),ri=Symbol.for("immer-state");function Yi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mc=Object.getPrototypeOf;function Wl(t){return!!t&&!!t[ri]}function ys(t){return t?zM(t)||Array.isArray(t)||!!t[i2]||!!t.constructor?.[i2]||hy(t)||dy(t):!1}var lY=Object.prototype.constructor.toString();function zM(t){if(!t||typeof t!="object")return!1;const e=Mc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===lY}function cg(t,e){fy(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function fy(t){const e=t[ri];return e?e.type_:Array.isArray(t)?1:hy(t)?2:dy(t)?3:0}function Fw(t,e){return fy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function qM(t,e,n){const r=fy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function uY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function hy(t){return t instanceof Map}function dy(t){return t instanceof Set}function Al(t){return t.copy_||t.base_}function Hw(t,e){if(hy(t))return new Map(t);if(dy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=zM(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ri];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],u=r[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[o]})}return Object.create(Mc(t),r)}else{const r=Mc(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function KE(t,e=!1){return my(t)||Wl(t)||!ys(t)||(fy(t)>1&&(t.set=t.add=t.clear=t.delete=cY),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>KE(r,!0))),t}function cY(){Yi(2)}function my(t){return Object.isFrozen(t)}var fY={};function Yl(t){const e=fY[t];return e||Yi(0,t),e}var Zh;function FM(){return Zh}function hY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function a2(t,e){e&&(Yl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Kw(t){Gw(t),t.drafts_.forEach(dY),t.drafts_=null}function Gw(t){t===Zh&&(Zh=t.parent_)}function s2(t){return Zh=hY(Zh,t)}function dY(t){const e=t[ri];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function o2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ri].modified_&&(Kw(e),Yi(4)),ys(t)&&(t=fg(e,t),e.parent_||hg(e,t)),e.patches_&&Yl("Patches").generateReplacementPatches_(n[ri].base_,t,e.patches_,e.inversePatches_)):t=fg(e,n,[]),Kw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==BM?t:void 0}function fg(t,e,n){if(my(e))return e;const r=e[ri];if(!r)return cg(e,(i,a)=>l2(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return hg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),cg(a,(u,f)=>l2(t,r,i,u,f,n,o)),hg(t,i,!1),n&&t.patches_&&Yl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function l2(t,e,n,r,i,a,o){if(Wl(i)){const u=a&&e&&e.type_!==3&&!Fw(e.assigned_,r)?a.concat(r):void 0,f=fg(t,i,u);if(qM(n,r,f),Wl(f))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ys(i)&&!my(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;fg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&hg(t,i)}}function hg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&KE(e,n)}function mY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:FM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=GE;n&&(i=[r],a=ed);const{revoke:o,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=o,u}var GE={get(t,e){if(e===ri)return t;const n=Al(t);if(!Fw(n,e))return pY(t,n,e);const r=n[e];return t.finalized_||!ys(r)?r:r===d_(t.base_,e)?(m_(t),t.copy_[e]=Yw(r,t)):r},has(t,e){return e in Al(t)},ownKeys(t){return Reflect.ownKeys(Al(t))},set(t,e,n){const r=HM(Al(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=d_(Al(t),e),a=i?.[ri];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(uY(n,i)&&(n!==void 0||Fw(t.base_,e)))return!0;m_(t),Ww(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return d_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,m_(t),Ww(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Al(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Yi(11)},getPrototypeOf(t){return Mc(t.base_)},setPrototypeOf(){Yi(12)}},ed={};cg(GE,(t,e)=>{ed[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ed.deleteProperty=function(t,e){return ed.set.call(this,t,e,void 0)};ed.set=function(t,e,n){return GE.set.call(this,t[0],e,n,t[0])};function d_(t,e){const n=t[ri];return(n?Al(n):t)[e]}function pY(t,e,n){const r=HM(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function HM(t,e){if(!(e in t))return;let n=Mc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Mc(n)}}function Ww(t){t.modified_||(t.modified_=!0,t.parent_&&Ww(t.parent_))}function m_(t){t.copy_||(t.copy_=Hw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var gY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(f=a,...h){return o.produce(f,d=>n.call(this,d,...h))}}typeof n!="function"&&Yi(6),r!==void 0&&typeof r!="function"&&Yi(7);let i;if(ys(e)){const a=s2(this),o=Yw(e,void 0);let u=!0;try{i=n(o),u=!1}finally{u?Kw(a):Gw(a)}return a2(a,r),o2(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===BM&&(i=void 0),this.autoFreeze_&&KE(i,!0),r){const a=[],o=[];Yl("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else Yi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...u)=>this.produceWithPatches(o,f=>e(f,...u));let r,i;return[this.produce(e,n,(o,u)=>{r=o,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ys(t)||Yi(8),Wl(t)&&(t=hs(t));const e=s2(this),n=Yw(t,void 0);return n[ri].isManual_=!0,Gw(e),n}finishDraft(t,e){const n=t&&t[ri];(!n||!n.isManual_)&&Yi(9);const{scope_:r}=n;return a2(r,e),o2(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Yl("Patches").applyPatches_;return Wl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Yw(t,e){const n=hy(t)?Yl("MapSet").proxyMap_(t,e):dy(t)?Yl("MapSet").proxySet_(t,e):mY(t,e);return(e?e.scope_:FM()).drafts_.push(n),n}function hs(t){return Wl(t)||Yi(10,t),KM(t)}function KM(t){if(!ys(t)||my(t))return t;const e=t[ri];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Hw(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Hw(t,!0);return cg(n,(r,i)=>{qM(n,r,KM(i))}),e&&(e.finalized_=!1),n}var ii=new gY,GM=ii.produce;ii.produceWithPatches.bind(ii);ii.setAutoFreeze.bind(ii);ii.setUseStrictShallowCopy.bind(ii);ii.applyPatches.bind(ii);ii.createDraft.bind(ii);ii.finishDraft.bind(ii);function WM(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var yY=WM(),vY=WM,bY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ug:ug.apply(null,arguments)};function Di(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ti(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>$M(r)&&r.type===t,n}var YM=class Sh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Sh.prototype)}static get[Symbol.species](){return Sh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Sh(...e[0].concat(this)):new Sh(...e.concat(this))}};function u2(t){return ys(t)?GM(t,()=>{}):t}function cp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function _Y(t){return typeof t=="boolean"}var wY=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new YM;return n&&(_Y(n)?o.push(yY):o.push(vY(n.extraArgument))),o},xY="RTK_autoBatch",c2=t=>e=>{setTimeout(e,t)},EY=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:c2(10):t.type==="callback"?t.queueNotification:c2(t.timeout),h=()=>{o=!1,a&&(a=!1,u.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),y=r.subscribe(p);return u.add(d),()=>{y(),u.delete(d)}},dispatch(d){try{return i=!d?.meta?.[xY],a=!i,a&&(o||(o=!0,f(h))),r.dispatch(d)}finally{i=!0}}})},SY=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new YM(t);return r&&i.push(EY(typeof r=="object"?r:void 0)),i};function TY(t){const e=wY(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(HE(n))u=VM(n);else throw new Error(ti(1));let f;typeof r=="function"?f=r(e):f=e();let h=ug;i&&(h=bY({trace:!1,...typeof i=="object"&&i}));const d=oY(...f),p=SY(d);let y=typeof o=="function"?o(p):p();const b=h(...y);return UM(u,a,b)}function XM(t){const e={},n=[];let r;const i={addCase(a,o){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(ti(28));if(u in e)throw new Error(ti(29));return e[u]=o,i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function AY(t){return typeof t=="function"}function OY(t,e){let[n,r,i]=XM(e),a;if(AY(t))a=()=>u2(t());else{const u=u2(t);a=()=>u}function o(u=a(),f){let h=[n[f.type],...r.filter(({matcher:d})=>d(f)).map(({reducer:d})=>d)];return h.filter(d=>!!d).length===0&&(h=[i]),h.reduce((d,p)=>{if(p)if(Wl(d)){const b=p(d,f);return b===void 0?d:b}else{if(ys(d))return GM(d,y=>p(y,f));{const y=p(d,f);if(y===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return d},u)}return o.getInitialState=a,o}var CY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",PY=(t=21)=>{let e="",n=t;for(;n--;)e+=CY[Math.random()*64|0];return e},RY=Symbol.for("rtk-slice-createasyncthunk");function NY(t,e){return`${t}/${e}`}function jY({creators:t}={}){const e=t?.asyncThunk?.[RY];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(ti(11));const o=(typeof r.reducers=="function"?r.reducers(kY()):r.reducers)||{},u=Object.keys(o),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(C,L){const U=typeof C=="string"?C:C.type;if(!U)throw new Error(ti(12));if(U in f.sliceCaseReducersByType)throw new Error(ti(13));return f.sliceCaseReducersByType[U]=L,h},addMatcher(C,L){return f.sliceMatchers.push({matcher:C,reducer:L}),h},exposeAction(C,L){return f.actionCreators[C]=L,h},exposeCaseReducer(C,L){return f.sliceCaseReducersByName[C]=L,h}};u.forEach(C=>{const L=o[C],U={reducerName:C,type:NY(i,C),createNotation:typeof r.reducers=="function"};MY(L)?UY(U,L,h,e):IY(U,L,h)});function d(){const[C={},L=[],U=void 0]=typeof r.extraReducers=="function"?XM(r.extraReducers):[r.extraReducers],D={...C,...f.sliceCaseReducersByType};return OY(r.initialState,j=>{for(let k in D)j.addCase(k,D[k]);for(let k of f.sliceMatchers)j.addMatcher(k.matcher,k.reducer);for(let k of L)j.addMatcher(k.matcher,k.reducer);U&&j.addDefaultCase(U)})}const p=C=>C,y=new Map,b=new WeakMap;let w;function x(C,L){return w||(w=d()),w(C,L)}function S(){return w||(w=d()),w.getInitialState()}function A(C,L=!1){function U(j){let k=j[C];return typeof k>"u"&&L&&(k=cp(b,U,S)),k}function D(j=p){const k=cp(y,L,()=>new WeakMap);return cp(k,j,()=>{const M={};for(const[V,z]of Object.entries(r.selectors??{}))M[V]=DY(z,j,()=>cp(b,j,S),L);return M})}return{reducerPath:C,getSelectors:D,get selectors(){return D(U)},selectSlice:U}}const R={name:i,reducer:x,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:S,...A(a),injectInto(C,{reducerPath:L,...U}={}){const D=L??a;return C.inject({reducerPath:D,reducer:x},U),{...R,...A(D,!0)}}};return R}}function DY(t,e,n,r){function i(a,...o){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...o)}return i.unwrapped=t,i}var si=jY();function kY(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function IY({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!LY(r))throw new Error(ti(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?Di(t,o):Di(t))}function MY(t){return t._reducerDefinitionType==="asyncThunk"}function LY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function UY({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ti(18));const{payloadCreator:a,fulfilled:o,pending:u,rejected:f,settled:h,options:d}=n,p=i(t,a,d);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),u&&r.addCase(p.pending,u),f&&r.addCase(p.rejected,f),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(e,{fulfilled:o||fp,pending:u||fp,rejected:f||fp,settled:h||fp})}function fp(){}var VY="task",QM="listener",JM="completed",WE="cancelled",$Y=`task-${WE}`,BY=`task-${JM}`,Xw=`${QM}-${WE}`,zY=`${QM}-${JM}`,py=class{constructor(t){this.code=t,this.message=`${VY} ${WE} (reason: ${t})`}name="TaskAbortError";message},YE=(t,e)=>{if(typeof t!="function")throw new TypeError(ti(32))},dg=()=>{},ZM=(t,e=dg)=>(t.catch(e),t),e4=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),$l=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Bl=t=>{if(t.aborted){const{reason:e}=t;throw new py(e)}};function t4(t,e){let n=dg;return new Promise((r,i)=>{const a=()=>i(new py(t.reason));if(t.aborted){a();return}n=e4(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=dg})}var qY=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof py?"cancelled":"rejected",error:n}}finally{e?.()}},mg=t=>e=>ZM(t4(t,e).then(n=>(Bl(t),n))),n4=t=>{const e=mg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Ec}=Object,f2={},gy="listenerMiddleware",FY=(t,e)=>{const n=r=>e4(t,()=>$l(r,t.reason));return(r,i)=>{YE(r);const a=new AbortController;n(a);const o=qY(async()=>{Bl(t),Bl(a.signal);const u=await r({pause:mg(a.signal),delay:n4(a.signal),signal:a.signal});return Bl(a.signal),u},()=>$l(a,BY));return i?.autoJoin&&e.push(o.catch(dg)),{result:mg(t)(o),cancel(){$l(a,$Y)}}}},HY=(t,e)=>{const n=async(r,i)=>{Bl(e);let a=()=>{};const u=[new Promise((f,h)=>{let d=t({predicate:r,effect:(p,y)=>{y.unsubscribe(),f([p,y.getState(),y.getOriginalState()])}});a=()=>{d(),h()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await t4(e,Promise.race(u));return Bl(e),f}finally{a()}};return(r,i)=>ZM(n(r,i))},r4=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Di(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ti(21));return YE(a),{predicate:i,type:e,effect:a}},i4=Ec(t=>{const{type:e,predicate:n,effect:r}=r4(t);return{id:PY(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ti(22))}}},{withTypes:()=>i4}),h2=(t,e)=>{const{type:n,effect:r,predicate:i}=r4(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Qw=t=>{t.pending.forEach(e=>{$l(e,Xw)})},KY=t=>()=>{t.forEach(Qw),t.clear()},d2=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},a4=Ec(Di(`${gy}/add`),{withTypes:()=>a4}),GY=Di(`${gy}/removeAll`),s4=Ec(Di(`${gy}/remove`),{withTypes:()=>s4}),WY=(...t)=>{console.error(`${gy}/error`,...t)},xd=(t={})=>{const e=new Map,{extra:n,onError:r=WY}=t;YE(r);const i=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),p=>{d.unsubscribe(),p?.cancelActive&&Qw(d)}),a=d=>{const p=h2(e,d)??i4(d);return i(p)};Ec(a,{withTypes:()=>a});const o=d=>{const p=h2(e,d);return p&&(p.unsubscribe(),d.cancelActive&&Qw(p)),!!p};Ec(o,{withTypes:()=>o});const u=async(d,p,y,b)=>{const w=new AbortController,x=HY(a,w.signal),S=[];try{d.pending.add(w),await Promise.resolve(d.effect(p,Ec({},y,{getOriginalState:b,condition:(A,R)=>x(A,R).then(Boolean),take:x,delay:n4(w.signal),pause:mg(w.signal),extra:n,signal:w.signal,fork:FY(w.signal,S),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((A,R,C)=>{A!==w&&($l(A,Xw),C.delete(A))})},cancel:()=>{$l(w,Xw),d.pending.delete(w)},throwIfCancelled:()=>{Bl(w.signal)}})))}catch(A){A instanceof py||d2(r,A,{raisedBy:"effect"})}finally{await Promise.all(S),$l(w,zY),d.pending.delete(w)}},f=KY(e);return{middleware:d=>p=>y=>{if(!$M(y))return p(y);if(a4.match(y))return a(y.payload);if(GY.match(y)){f();return}if(s4.match(y))return o(y.payload);let b=d.getState();const w=()=>{if(b===f2)throw new Error(ti(23));return b};let x;try{if(x=p(y),e.size>0){const S=d.getState(),A=Array.from(e.values());for(const R of A){let C=!1;try{C=R.predicate(y,S,b)}catch(L){C=!1,d2(r,L,{raisedBy:"predicate"})}C&&u(R,y,d,w)}}}finally{b=f2}return x},startListening:a,stopListening:o,clearListeners:f}};function ti(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var YY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},o4=si({name:"chartLayout",initialState:YY,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:XY,setLayout:QY,setChartSize:JY,setScale:ZY}=o4.actions,eX=o4.reducer;function m2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(n),!0).forEach(function(r){tX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tX(t,e,n){return(e=nX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nX(t){var e=rX(t,"string");return typeof e=="symbol"?e:e+""}function rX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pg=Math.PI/180,iX=t=>t*180/Math.PI,sr=(t,e,n,r)=>({x:t+Math.cos(-pg*r)*n,y:e+Math.sin(-pg*r)*n}),aX=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},sX=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},oX=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=sX({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var u=(n-i)/o,f=Math.acos(u);return r>a&&(f=2*Math.PI-f),{radius:o,angle:iX(f),angleInRadian:f}},lX=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},uX=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},cX=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=oX({x:n,y:r},e),{innerRadius:o,outerRadius:u}=e;if(i<o||i>u||i===0)return null;var{startAngle:f,endAngle:h}=lX(e),d=a,p;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;p=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;p=d>=h&&d<=f}return p?p2(p2({},e),{},{radius:i,angle:uX(d,e)}):null};function l4(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){fX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fX(t,e,n){return(e=hX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hX(t){var e=dX(t,"string");return typeof e=="symbol"?e:e+""}function dX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kn(t,e,n){return Gt(t)||Gt(e)?n:ja(e)?Gl(t,e,n):typeof e=="function"?e(t):n}var mX=(t,e,n,r,i)=>{var a,o=-1,u=(a=e?.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var h=f>0?n[f-1].coordinate:n[u-1].coordinate,d=n[f].coordinate,p=f>=u-1?n[0].coordinate:n[f+1].coordinate,y=void 0;if(Dr(d-h)!==Dr(p-d)){var b=[];if(Dr(p-d)===Dr(i[1]-i[0])){y=p;var w=d+i[1]-i[0];b[0]=Math.min(w,(w+h)/2),b[1]=Math.max(w,(w+h)/2)}else{y=h;var x=p+i[1]-i[0];b[0]=Math.min(d,(x+d)/2),b[1]=Math.max(d,(x+d)/2)}var S=[Math.min(d,(y+d)/2),Math.max(d,(y+d)/2)];if(t>S[0]&&t<=S[1]||t>=b[0]&&t<=b[1]){({index:o}=n[f]);break}}else{var A=Math.min(h,p),R=Math.max(h,p);if(t>(A+d)/2&&t<=(R+d)/2){({index:o}=n[f]);break}}}else if(e){for(var C=0;C<u;C++)if(C===0&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<u-1&&t>(e[C].coordinate+e[C-1].coordinate)/2&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C===u-1&&t>(e[C].coordinate+e[C-1].coordinate)/2){({index:o}=e[C]);break}}return o},pX=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:u}=e;if((u==="vertical"||u==="horizontal"&&o==="middle")&&a!=="center"&&Pe(t[a]))return Ci(Ci({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&o!=="middle"&&Pe(t[o]))return Ci(Ci({},t),{},{[o]:t[o]+(i||0)})}return t},Bo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",u4=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,o=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||o.push(e),a||o.push(n),o},c4=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:d,ticks:p,niceTicks:y,axisType:b}=t;if(!o)return null;var w=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=i==="category"&&o.bandwidth?o.bandwidth()/w:0;if(x=b==="angleAxis"&&a&&a.length>=2?Dr(a[0]-a[1])*2*x:x,p||y){var S=(p||y||[]).map((A,R)=>{var C=r?r.indexOf(A):A;return{coordinate:o(C)+x,value:A,offset:x,index:R}});return S.filter(A=>!ni(A.coordinate))}return f&&h?h.map((A,R)=>({coordinate:o(A)+x,value:A,index:R,offset:x})):o.ticks&&d!=null?o.ticks(d).map((A,R)=>({coordinate:o(A)+x,value:A,offset:x,index:R})):o.domain().map((A,R)=>({coordinate:o(A)+x,value:r?r[A]:A,index:R,offset:x}))},y2=1e-4,gX=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-y2,a=Math.max(r[0],r[1])+y2,o=t(e[0]),u=t(e[n-1]);(o<i||o>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},yX=(t,e)=>{if(!e||e.length!==2||!Pe(e[0])||!Pe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Pe(t[0])||t[0]<n)&&(i[0]=n),(!Pe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},vX=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,o=0;o<e;++o){var u=ni(t[o][n][1])?t[o][n][0]:t[o][n][1];u>=0?(t[o][n][0]=i,t[o][n][1]=i+u,i=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+u,a=t[o][n][1])}},bX=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var o=ni(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},_X={sign:vX,expand:YG,none:Ic,silhouette:XG,wiggle:QG,positive:bX},wX=(t,e,n)=>{var r=_X[n],i=WG().keys(e).value((a,o)=>+Kn(a,o,0)).order(Bw).offset(r);return i(t)};function xX(t){return t==null?void 0:String(t)}function v2(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Gt(i[e.dataKey])){var u=iM(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var f=Kn(i,Gt(o)?e.dataKey:o);return Gt(f)?null:e.scale(f)}var b2=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var u=Kn(a,e.dataKey,e.scale.domain()[o]);return Gt(u)?null:e.scale(u)-i/2+r},EX=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},SX=t=>{var e=t.flat(2).filter(Pe);return[Math.min(...e),Math.max(...e)]},TX=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],AX=(t,e,n)=>{if(t!=null)return TX(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:o}=a,u=o.reduce((f,h)=>{var d=l4(h,e,n),p=SX(d);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},_2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,td=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=cy(e,d=>d.coordinate),a=1/0,o=1,u=i.length;o<u;o++){var f=i[o],h=i[o-1];a=Math.min((f.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function x2(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Ci(Ci({},e),{},{dataKey:n,payload:r,value:i,name:a})}function yy(t,e){if(t)return String(t);if(typeof e=="string")return e}function OX(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?cX({x:t,y:e},r):null}var CX=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=r;return Ci(Ci(Ci({},r),sr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var u=i.coordinate,{angle:f}=r;return Ci(Ci(Ci({},r),sr(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},PX=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ss=t=>t.layout.width,Ts=t=>t.layout.height,RX=t=>t.layout.scale,f4=t=>t.layout.margin,XE=se(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),QE=se(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),NX="data-recharts-item-index",jX="data-recharts-item-data-key",vy=60;function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){DX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DX(t,e,n){return(e=kX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kX(t){var e=IX(t,"string");return typeof e=="symbol"?e:e+""}function IX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MX=t=>t.brush.height,Wn=se([Ss,Ts,f4,MX,XE,QE,MM,eY],(t,e,n,r,i,a,o,u)=>{var f=a.reduce((w,x)=>{var{orientation:S}=x;if(!x.mirror&&!x.hide){var A=typeof x.width=="number"?x.width:vy;return uo(uo({},w),{},{[S]:w[S]+A})}return w},{left:n.left||0,right:n.right||0}),h=i.reduce((w,x)=>{var{orientation:S}=x;return!x.mirror&&!x.hide?uo(uo({},w),{},{[S]:Gl(w,"".concat(S))+x.height}):w},{top:n.top||0,bottom:n.bottom||0}),d=uo(uo({},h),f),p=d.bottom;d.bottom+=r,d=pX(d,o,u);var y=t-d.left-d.right,b=e-d.top-d.bottom;return uo(uo({brushBottom:p},d),{},{width:Math.max(y,0),height:Math.max(b,0)})}),LX=se(Wn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),h4=se(Ss,Ts,(t,e)=>({x:0,y:0,width:t,height:e})),UX=O.createContext(null),Ir=()=>O.useContext(UX)!=null,by=t=>t.brush,_y=se([by,Wn,f4],(t,e,n)=>({height:t.height,x:Pe(t.x)?t.x:e.left,y:Pe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Pe(t.width)?t.width:e.width})),JE=()=>{var t,e=Ir(),n=Le(LX),r=Le(_y),i=(t=Le(by))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},VX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},d4=()=>{var t;return(t=Le(Wn))!==null&&t!==void 0?t:VX},ZE=()=>Le(Ss),e1=()=>Le(Ts),$X={top:0,right:0,bottom:0,left:0},BX=()=>{var t;return(t=Le(e=>e.layout.margin))!==null&&t!==void 0?t:$X},St=t=>t.layout.layoutType,wy=()=>Le(St),zX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},m4=si({name:"legend",initialState:zX,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=hs(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:S2,setLegendSettings:qX,addLegendPayload:FX,removeLegendPayload:HX}=m4.actions,KX=m4.reducer,GX=["contextPayload"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(null,arguments)}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){t1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t1(t,e,n){return(e=WX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WX(t){var e=YX(t,"string");return typeof e=="symbol"?e:e+""}function YX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XX(t,e){if(t==null)return{};var n,r,i=QX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function QX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function JX(t){return t.value}function ZX(t){var{contextPayload:e}=t,n=XX(t,GX),r=jM(e,t.payloadUniqBy,JX),i=Lc(Lc({},n),{},{payload:r});return O.isValidElement(t.content)?O.cloneElement(t.content,i):typeof t.content=="function"?O.createElement(t.content,i):O.createElement(UE,i)}function eQ(t,e,n,r,i,a){var{layout:o,align:u,verticalAlign:f}=e,h,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&o==="vertical"?h={left:((r||0)-a.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?d={top:((i||0)-a.height)/2}:d=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Lc(Lc({},h),d)}function tQ(t){var e=En();return O.useEffect(()=>{e(qX(t))},[e,t]),null}function nQ(t){var e=En();return O.useEffect(()=>(e(S2(t)),()=>{e(S2({width:0,height:0}))}),[e,t]),null}function rQ(t){var e=rY(),n=vG(),r=BX(),{width:i,height:a,wrapperStyle:o,portal:u}=t,[f,h]=LM([e]),d=ZE(),p=e1(),y=d-(r.left||0)-(r.right||0),b=xy.getWidthOrHeight(t.layout,a,i,y),w=u?o:Lc(Lc({position:"absolute",width:b?.width||i||"auto",height:b?.height||a||"auto"},eQ(o,t,r,d,p,f)),o),x=u??n;if(x==null)return null;var S=O.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},O.createElement(tQ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),O.createElement(nQ,{width:f.width,height:f.height}),O.createElement(ZX,Jw({},t,b,{margin:r,chartWidth:d,chartHeight:p,contextPayload:e})));return $x.createPortal(S,x)}class xy extends O.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Pe(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return O.createElement(rQ,this.props)}}t1(xy,"displayName","Legend");t1(xy,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(null,arguments)}function A2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(n),!0).forEach(function(r){iQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t,e,n){return(e=aQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aQ(t){var e=sQ(t,"string");return typeof e=="symbol"?e:e+""}function sQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oQ(t){return Array.isArray(t)&&ja(t[0])&&ja(t[1])?t.join(" ~ "):t}var lQ=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:u,wrapperClassName:f,labelClassName:h,label:d,labelFormatter:p,accessibilityLayer:y=!1}=t,b=()=>{if(a&&a.length){var U={padding:0,margin:0},D=(u?cy(a,u):a).map((j,k)=>{if(j.type==="none")return null;var M=j.formatter||o||oQ,{value:V,name:z}=j,q=V,$=z;if(M){var ve=M(V,z,j,k,a);if(Array.isArray(ve))[q,$]=ve;else if(ve!=null)q=ve;else return null}var we=p_({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:we},ja($)?O.createElement("span",{className:"recharts-tooltip-item-name"},$):null,ja($)?O.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,O.createElement("span",{className:"recharts-tooltip-item-value"},q),O.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:U},D)}return null},w=p_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),x=p_({margin:0},i),S=!Gt(d),A=S?d:"",R=jt("recharts-default-tooltip",f),C=jt("recharts-tooltip-label",h);S&&p&&a!==void 0&&a!==null&&(A=p(d,a));var L=y?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",Zw({className:R,style:w},L),O.createElement("p",{className:C,style:x},O.isValidElement(A)?A:"".concat(A)),b())},uh="recharts-tooltip-wrapper",uQ={visibility:"hidden"};function cQ(t){var{coordinate:e,translateX:n,translateY:r}=t;return jt(uh,{["".concat(uh,"-right")]:Pe(n)&&e&&Pe(e.x)&&n>=e.x,["".concat(uh,"-left")]:Pe(n)&&e&&Pe(e.x)&&n<e.x,["".concat(uh,"-bottom")]:Pe(r)&&e&&Pe(e.y)&&r>=e.y,["".concat(uh,"-top")]:Pe(r)&&e&&Pe(e.y)&&r<e.y})}function O2(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=t;if(a&&Pe(a[r]))return a[r];var d=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return o[r]?d:p;var y=f[r];if(y==null)return 0;if(o[r]){var b=d,w=y;return b<w?Math.max(p,y):Math.max(d,y)}if(h==null)return 0;var x=p+u,S=y+h;return x>S?Math.max(d,y):Math.max(p,y)}function fQ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function hQ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:u,viewBox:f}=t,h,d,p;return o.height>0&&o.width>0&&n?(d=O2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:f,viewBoxDimension:f.width}),p=O2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:f,viewBoxDimension:f.height}),h=fQ({translateX:d,translateY:p,useTranslate3d:u})):h=uQ,{cssProperties:h,cssClasses:cQ({translateX:d,translateY:p,coordinate:n})}}function C2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(n),!0).forEach(function(r){ex(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ex(t,e,n){return(e=dQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dQ(t){var e=mQ(t,"string");return typeof e=="symbol"?e:e+""}function mQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pQ extends O.PureComponent{constructor(){super(...arguments),ex(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ex(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:u,isAnimationActive:f,offset:h,position:d,reverseDirection:p,useTranslate3d:y,viewBox:b,wrapperStyle:w,lastBoundingBox:x,innerRef:S,hasPortalFromProps:A}=this.props,{cssClasses:R,cssProperties:C}=hQ({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:h,position:d,reverseDirection:p,tooltipBox:{height:x.height,width:x.width},useTranslate3d:y,viewBox:b}),L=A?{}:hp(hp({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),U=hp(hp({},L),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},w);return O.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:U,ref:S},a)}}var gQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Yc={isSsr:gQ()},p4=()=>Le(t=>t.rootProps.accessibilityLayer);function ai(t){return Number.isFinite(t)}function gg(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(null,arguments)}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){yQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yQ(t,e,n){return(e=vQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vQ(t){var e=bQ(t,"string");return typeof e=="symbol"?e:e+""}function bQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N2={curveBasisClosed:LG,curveBasisOpen:UG,curveBasis:MG,curveBumpX:xG,curveBumpY:EG,curveLinearClosed:VG,curveLinear:ly,curveMonotoneX:$G,curveMonotoneY:BG,curveNatural:zG,curveStep:qG,curveStepAfter:HG,curveStepBefore:FG},dp=t=>ai(t.x)&&ai(t.y),ch=t=>t.x,fh=t=>t.y,_Q=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(wd(t));return(n==="curveMonotone"||n==="curveBump")&&e?N2["".concat(n).concat(e==="vertical"?"Y":"X")]:N2[n]||ly},wQ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=_Q(e,i),u=a?n.filter(dp):n,f;if(Array.isArray(r)){var h=a?r.filter(p=>dp(p)):r,d=u.map((p,y)=>R2(R2({},p),{},{base:h[y]}));return i==="vertical"?f=op().y(fh).x1(ch).x0(p=>p.base.x):f=op().x(ch).y1(fh).y0(p=>p.base.y),f.defined(dp).curve(o),f(d)}return i==="vertical"&&Pe(r)?f=op().y(fh).x1(ch).x0(r):Pe(r)?f=op().x(ch).y1(fh).y0(r):f=mM().x(ch).y(fh),f.defined(dp).curve(o),f(u)},g4=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?wQ(t):r;return O.createElement("path",tx({},ou(t),RE(t),{className:jt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},xQ=["x","y","top","left","width","height","className"];function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nx.apply(null,arguments)}function j2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(n),!0).forEach(function(r){SQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SQ(t,e,n){return(e=TQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TQ(t){var e=AQ(t,"string");return typeof e=="symbol"?e:e+""}function AQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OQ(t,e){if(t==null)return{};var n,r,i=CQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function CQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var PQ=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),RQ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:u}=t,f=OQ(t,xQ),h=EQ({x:e,y:n,top:r,left:i,width:a,height:o},f);return!Pe(e)||!Pe(n)||!Pe(a)||!Pe(o)||!Pe(r)||!Pe(i)?null:O.createElement("path",nx({},on(h,!0),{className:jt("recharts-cross",u),d:PQ(e,n,a,o,r,i)}))};function NQ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){DQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DQ(t,e,n){return(e=kQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kQ(t){var e=IQ(t,"string");return typeof e=="symbol"?e:e+""}function IQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ia(t,e){var n=jQ({},t),r=e,i=Object.keys(e),a=i.reduce((o,u)=>(o[u]===void 0&&r[u]!==void 0&&(o[u]=r[u]),o),n);return a}var g_={},y_={},v_={},k2;function MQ(){return k2||(k2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(v_)),v_}var I2;function LQ(){return I2||(I2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MQ(),n=PM(),r=zE(),i=qE(),a=$E();function o(h,d,p){return u(h,d,void 0,void 0,void 0,void 0,p)}function u(h,d,p,y,b,w,x){const S=x(h,d,p,y,b,w);if(S!==void 0)return S;if(typeof h==typeof d)switch(typeof h){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return h===d;case"number":return h===d||Object.is(h,d);case"function":return h===d;case"object":return f(h,d,w,x)}return f(h,d,w,x)}function f(h,d,p,y){if(Object.is(h,d))return!0;let b=r.getTag(h),w=r.getTag(d);if(b===i.argumentsTag&&(b=i.objectTag),w===i.argumentsTag&&(w=i.objectTag),b!==w)return!1;switch(b){case i.stringTag:return h.toString()===d.toString();case i.numberTag:{const A=h.valueOf(),R=d.valueOf();return a.eq(A,R)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(h.valueOf(),d.valueOf());case i.regexpTag:return h.source===d.source&&h.flags===d.flags;case i.functionTag:return h===d}p=p??new Map;const x=p.get(h),S=p.get(d);if(x!=null&&S!=null)return x===d;p.set(h,d),p.set(d,h);try{switch(b){case i.mapTag:{if(h.size!==d.size)return!1;for(const[A,R]of h.entries())if(!d.has(A)||!u(R,d.get(A),A,h,d,p,y))return!1;return!0}case i.setTag:{if(h.size!==d.size)return!1;const A=Array.from(h.values()),R=Array.from(d.values());for(let C=0;C<A.length;C++){const L=A[C],U=R.findIndex(D=>u(L,D,void 0,h,d,p,y));if(U===-1)return!1;R.splice(U,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(h)!==Buffer.isBuffer(d)||h.length!==d.length)return!1;for(let A=0;A<h.length;A++)if(!u(h[A],d[A],A,h,d,p,y))return!1;return!0}case i.arrayBufferTag:return h.byteLength!==d.byteLength?!1:f(new Uint8Array(h),new Uint8Array(d),p,y);case i.dataViewTag:return h.byteLength!==d.byteLength||h.byteOffset!==d.byteOffset?!1:f(new Uint8Array(h),new Uint8Array(d),p,y);case i.errorTag:return h.name===d.name&&h.message===d.message;case i.objectTag:{if(!(f(h.constructor,d.constructor,p,y)||e.isPlainObject(h)&&e.isPlainObject(d)))return!1;const R=[...Object.keys(h),...n.getSymbols(h)],C=[...Object.keys(d),...n.getSymbols(d)];if(R.length!==C.length)return!1;for(let L=0;L<R.length;L++){const U=R[L],D=h[U];if(!Object.hasOwn(d,U))return!1;const j=d[U];if(!u(D,j,U,h,d,p,y))return!1}return!0}default:return!1}}finally{p.delete(h),p.delete(d)}}t.isEqualWith=o})(y_)),y_}var b_={},M2;function UQ(){return M2||(M2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(b_)),b_}var L2;function VQ(){return L2||(L2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LQ(),n=UQ();function r(i,a){return e.isEqualWith(i,a,n.noop)}t.isEqual=r})(g_)),g_}var __,U2;function $Q(){return U2||(U2=1,__=VQ().isEqual),__}var BQ=$Q();const zQ=ea(BQ);var yg=1e-4,y4=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],v4=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),V2=(t,e)=>n=>{var r=y4(t,e);return v4(r,n)},qQ=(t,e)=>n=>{var r=y4(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return v4(i,n)},$2=function(){for(var e,n,r,i,a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=o[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else o.length===4&&([e,r,n,i]=o);var h=V2(e,n),d=V2(r,i),p=qQ(e,n),y=w=>w>1?1:w<0?0:w,b=w=>{for(var x=w>1?1:w,S=x,A=0;A<8;++A){var R=h(S)-x,C=p(S);if(Math.abs(R-x)<yg||C<yg)return d(S);S=y(S-R/C)}return d(S)};return b.isStepper=!1,b},FQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,u,f)=>{var h=-(o-u)*n,d=f*r,p=f+(h-d)*i/1e3,y=f*i/1e3+o;return Math.abs(y-u)<yg&&Math.abs(p)<yg?[u,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},b4=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $2(t);case"spring":return FQ();default:if(t.split("(")[0]==="cubic-bezier")return $2(t)}return typeof t=="function"?t:null};function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return(e=KQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KQ(t){var e=GQ(t,"string");return typeof e=="symbol"?e:e+""}function GQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WQ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),YQ=(t,e,n)=>t.map(r=>"".concat(WQ(r)," ").concat(e,"ms ").concat(n)).join(","),XQ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),nd=(t,e)=>Object.keys(e).reduce((n,r)=>z2(z2({},n),{},{[r]:t(r,e[r])}),{});function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){QQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QQ(t,e,n){return(e=JQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JQ(t){var e=ZQ(t,"string");return typeof e=="symbol"?e:e+""}function ZQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vg=(t,e,n)=>t+(e-t)*n,rx=t=>{var{from:e,to:n}=t;return e!==n},_4=(t,e,n)=>{var r=nd((i,a)=>{if(rx(a)){var[o,u]=t(a.from,a.to,a.velocity);return ir(ir({},a),{},{from:o,velocity:u})}return a},e);return n<1?nd((i,a)=>rx(a)?ir(ir({},a),{},{velocity:vg(a.velocity,r[i].velocity,n),from:vg(a.from,r[i].from,n)}):a,e):_4(t,r,n-1)};function eJ(t,e,n,r,i,a){var o,u=r.reduce((y,b)=>ir(ir({},y),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>nd((y,b)=>b.from,u),h=()=>!Object.values(u).filter(rx).length,d=null,p=y=>{o||(o=y);var b=y-o,w=b/n.dt;u=_4(n,u,w),i(ir(ir(ir({},t),e),f())),o=y,h()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{d()})}function tJ(t,e,n,r,i,a,o){var u=null,f=i.reduce((p,y)=>ir(ir({},p),{},{[y]:[t[y],e[y]]}),{}),h,d=p=>{h||(h=p);var y=(p-h)/r,b=nd((x,S)=>vg(...S,n(y)),f);if(a(ir(ir(ir({},t),e),b)),y<1)u=o.setTimeout(d);else{var w=nd((x,S)=>vg(...S,n(1)),f);a(ir(ir(ir({},t),e),w))}};return()=>(u=o.setTimeout(d),()=>{u()})}const w4=(t,e,n,r,i,a)=>{var o=XQ(t,e);return n.isStepper===!0?eJ(t,e,n,o,i,a):tJ(t,e,n,r,o,i,a)};function nJ(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var u=o,[f,...h]=u;if(typeof f=="number"){i=t.setTimeout(a.bind(null,h),f);return}a(f),i=t.setTimeout(a.bind(null,h));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class rJ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function iJ(){return nJ(new rJ)}var aJ=O.createContext(iJ);function x4(t,e){var n=O.useContext(aJ);return O.useMemo(()=>e??n(t),[t,e,n])}var sJ=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(null,arguments)}function oJ(t,e){if(t==null)return{};var n,r,i=lJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){Il(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Il(t,e,n){return(e=uJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uJ(t){var e=cJ(t,"string");return typeof e=="symbol"?e:e+""}function cJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class n1 extends O.PureComponent{constructor(e,n){super(e,n),Il(this,"mounted",!1),Il(this,"manager",void 0),Il(this,"stopJSAnimation",null),Il(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:a,to:o,children:u,duration:f,animationManager:h}=this.props;if(this.manager=h,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:o});return}if(a){if(typeof u=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:a,to:o,from:u}=this.props,{style:f}=this.state;if(r){if(!n){var h={style:i?{[i]:o}:o};this.state&&f&&(i&&f[i]!==o||!i&&f!==o)&&this.setState(h);return}if(!(zQ(e.to,o)&&e.canBegin&&e.isActive)){var d=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=d||a?u:e.to;if(this.state&&f){var y={style:i?{[i]:p}:p};(i&&f[i]!==p||!i&&f!==p)&&this.setState(y)}this.runAnimation(co(co({},this.props),{},{from:p,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:a,begin:o,onAnimationEnd:u,onAnimationStart:f}=e,h=w4(n,r,b4(a),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=h()};this.manager.start([f,o,d,i,u])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:a,easing:o,onAnimationStart:u,onAnimationEnd:f,children:h}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof h=="function"||o==="spring"){this.runJSAnimation(e);return}var d=i?{[i]:a}:a,p=YQ(Object.keys(d),r,o);this.manager.start([u,n,co(co({},d),{},{transition:p}),r,f])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:a,easing:o,isActive:u,from:f,to:h,canBegin:d,onAnimationEnd:p,shouldReAnimate:y,onAnimationReStart:b,animationManager:w}=e,x=oJ(e,sJ),S=O.Children.count(n),A=this.state.style;if(typeof n=="function")return n(A);if(!u||S===0||i<=0)return n;var R=C=>{var{style:L={},className:U}=C.props,D=O.cloneElement(C,co(co({},x),{},{style:co(co({},L),A),className:U}));return D};return S===1?R(O.Children.only(n)):O.createElement("div",null,O.Children.map(n,C=>R(C)))}}Il(n1,"displayName","Animate");Il(n1,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function bg(t){var e,n=x4((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return O.createElement(n1,ix({},t,{animationManager:n}))}function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_g.apply(null,arguments)}var H2=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,y=4;p<y;p++)d[p]=i[p]>a?a:i[p];h="M".concat(t,",").concat(e+o*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(f,",").concat(t+u*d[0],",").concat(e)),h+="L ".concat(t+n-u*d[1],",").concat(e),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+o*d[1])),h+="L ".concat(t+n,",").concat(e+r-o*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(f,`,
        `).concat(t+n-u*d[2],",").concat(e+r)),h+="L ".concat(t+u*d[3],",").concat(e+r),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-o*d[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);h="M ".concat(t,",").concat(e+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+u*b,",").concat(e,`
            L `).concat(t+n-u*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(e+o*b,`
            L `).concat(t+n,",").concat(e+r-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-u*b,",").concat(e+r,`
            L `).concat(t+u*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+r-o*b," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},fJ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},E4=t=>{var e=Ia(t,fJ),n=O.useRef(null),[r,i]=O.useState(-1);O.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&i(A)}catch{}},[]);var{x:a,y:o,width:u,height:f,radius:h,className:d}=e,{animationEasing:p,animationDuration:y,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:x}=e;if(a!==+a||o!==+o||u!==+u||f!==+f||u===0||f===0)return null;var S=jt("recharts-rectangle",d);return x?O.createElement(bg,{canBegin:r>0,from:{width:u,height:f,x:a,y:o},to:{width:u,height:f,x:a,y:o},duration:y,animationEasing:p,isActive:x},A=>{var{width:R,height:C,x:L,y:U}=A;return O.createElement(bg,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:w,easing:p},O.createElement("path",_g({},on(e,!0),{className:S,d:H2(L,U,R,C,h),ref:n})))}):O.createElement("path",_g({},on(e,!0),{className:S,d:H2(a,o,u,f,h)}))};function S4(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=sr(e,n,r,i),u=sr(e,n,r,a);return{points:[o,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(null,arguments)}var hJ=(t,e)=>{var n=Dr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},mp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:u,cornerIsExternal:f}=t,h=u*(o?1:-1)+r,d=Math.asin(u/h)/pg,p=f?i:i+a*d,y=sr(e,n,h,p),b=sr(e,n,r,p),w=f?i-a*d:i,x=sr(e,n,h*Math.cos(d*pg),w);return{center:y,circleTangency:b,lineTangency:x,theta:d}},T4=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,u=hJ(a,o),f=a+u,h=sr(e,n,i,a),d=sr(e,n,i,f),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>f),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var y=sr(e,n,r,a),b=sr(e,n,r,f);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},dJ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:h}=t,d=Dr(h-f),{circleTangency:p,lineTangency:y,theta:b}=mp({cx:e,cy:n,radius:i,angle:f,sign:d,cornerRadius:a,cornerIsExternal:u}),{circleTangency:w,lineTangency:x,theta:S}=mp({cx:e,cy:n,radius:i,angle:h,sign:-d,cornerRadius:a,cornerIsExternal:u}),A=u?Math.abs(f-h):Math.abs(f-h)-b-S;if(A<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):T4({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var R="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:L,theta:U}=mp({cx:e,cy:n,radius:r,angle:f,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:D,lineTangency:j,theta:k}=mp({cx:e,cy:n,radius:r,angle:h,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),M=u?Math.abs(f-h):Math.abs(f-h)-U-k;if(M<0&&a===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,"Z")}else R+="L".concat(e,",").concat(n,"Z");return R},mJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},A4=t=>{var e=Ia(t,mJ),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:d,className:p}=e;if(a<i||h===d)return null;var y=jt("recharts-sector",p),b=a-i,w=Ji(o,b,0,!0),x;return w>0&&Math.abs(h-d)<360?x=dJ({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:d}):x=T4({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:d}),O.createElement("path",ax({},on(e,!0),{className:y,d:x}))};function pJ(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:f,innerRadius:h,outerRadius:d,angle:p}=e,y=sr(u,f,h,p),b=sr(u,f,d,p);r=y.x,i=y.y,a=b.x,o=b.y}else return S4(e);return[{x:r,y:i},{x:a,y:o}]}var w_={},x_={},E_={},K2;function gJ(){return K2||(K2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kM();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(E_)),E_}var G2;function yJ(){return G2||(G2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gJ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(x_)),x_}var W2;function vJ(){return W2||(W2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IM(),n=yJ();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const u=Math.max(Math.ceil((a-i)/(o||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=i,i+=o;return f}t.range=r})(w_)),w_}var S_,Y2;function bJ(){return Y2||(Y2=1,S_=vJ().range),S_}var _J=bJ();const O4=ea(_J);function Oo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function r1(t){let e,n,r;t.length!==2?(e=Oo,n=(u,f)=>Oo(t(u),f),r=(u,f)=>t(u)-f):(e=t===Oo||t===wJ?t:xJ,n=t,r=t);function i(u,f,h=0,d=u.length){if(h<d){if(e(f,f)!==0)return d;do{const p=h+d>>>1;n(u[p],f)<0?h=p+1:d=p}while(h<d)}return h}function a(u,f,h=0,d=u.length){if(h<d){if(e(f,f)!==0)return d;do{const p=h+d>>>1;n(u[p],f)<=0?h=p+1:d=p}while(h<d)}return h}function o(u,f,h=0,d=u.length){const p=i(u,f,h,d-1);return p>h&&r(u[p-1],f)>-r(u[p],f)?p-1:p}return{left:i,center:o,right:a}}function xJ(){return 0}function C4(t){return t===null?NaN:+t}function*EJ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const SJ=r1(Oo),Ed=SJ.right;r1(C4).center;class X2 extends Map{constructor(e,n=OJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Q2(this,e))}has(e){return super.has(Q2(this,e))}set(e,n){return super.set(TJ(this,e),n)}delete(e){return super.delete(AJ(this,e))}}function Q2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function TJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function AJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function OJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function CJ(t=Oo){if(t===Oo)return P4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function P4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const PJ=Math.sqrt(50),RJ=Math.sqrt(10),NJ=Math.sqrt(2);function wg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=PJ?10:a>=RJ?5:a>=NJ?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/o,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*o,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?wg(t,e,n*2):[u,f,h]}function sx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?wg(e,t,n):wg(t,e,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(o<0)for(let h=0;h<u;++h)f[h]=(a-h)/-o;else for(let h=0;h<u;++h)f[h]=(a-h)*o;else if(o<0)for(let h=0;h<u;++h)f[h]=(i+h)/-o;else for(let h=0;h<u;++h)f[h]=(i+h)*o;return f}function ox(t,e,n){return e=+e,t=+t,n=+n,wg(t,e,n)[2]}function lx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ox(e,t,n):ox(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function J2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Z2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function R4(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?P4:CJ(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,d=Math.log(f),p=.5*Math.exp(2*d/3),y=.5*Math.sqrt(d*p*(f-p)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(e-h*p/f+y)),w=Math.min(r,Math.floor(e+(f-h)*p/f+y));R4(t,e,b,w,i)}const a=t[e];let o=n,u=r;for(hh(t,n,e),i(t[r],a)>0&&hh(t,n,r);o<u;){for(hh(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?hh(t,n,u):(++u,hh(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function hh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function jJ(t,e,n){if(t=Float64Array.from(EJ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Z2(t);if(e>=1)return J2(t);var r,i=(r-1)*e,a=Math.floor(i),o=J2(R4(t,a).subarray(0,a+1)),u=Z2(t.subarray(a+1));return o+(u-o)*(i-a)}}function DJ(t,e,n=C4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function kJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ii(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function As(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ux=Symbol("implicit");function i1(){var t=new X2,e=[],n=[],r=ux;function i(a){let o=t.get(a);if(o===void 0){if(r!==ux)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new X2;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return i1(e,n).unknown(r)},Ii.apply(i,arguments),i}function a1(){var t=i1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,u=!1,f=0,h=0,d=.5;delete t.unknown;function p(){var y=e().length,b=i<r,w=b?i:r,x=b?r:i;a=(x-w)/Math.max(1,y-f+h*2),u&&(a=Math.floor(a)),w+=(x-w-a*(y-f))*d,o=a*(1-f),u&&(w=Math.round(w),o=Math.round(o));var S=kJ(y).map(function(A){return w+a*A});return n(b?S.reverse():S)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,p()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),p()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),p()):f},t.paddingOuter=function(y){return arguments.length?(h=+y,p()):h},t.align=function(y){return arguments.length?(d=Math.max(0,Math.min(1,y)),p()):d},t.copy=function(){return a1(e(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(d)},Ii.apply(p(),arguments)}function N4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return N4(e())},t}function IJ(){return N4(a1.apply(null,arguments).paddingInner(1))}function s1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function j4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sd(){}var rd=.7,xg=1/rd,Sc="\\s*([+-]?\\d+)\\s*",id="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MJ=/^#([0-9a-f]{3,8})$/,LJ=new RegExp(`^rgb\\(${Sc},${Sc},${Sc}\\)$`),UJ=new RegExp(`^rgb\\(${Ca},${Ca},${Ca}\\)$`),VJ=new RegExp(`^rgba\\(${Sc},${Sc},${Sc},${id}\\)$`),$J=new RegExp(`^rgba\\(${Ca},${Ca},${Ca},${id}\\)$`),BJ=new RegExp(`^hsl\\(${id},${Ca},${Ca}\\)$`),zJ=new RegExp(`^hsla\\(${id},${Ca},${Ca},${id}\\)$`),eN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};s1(Sd,ad,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tN,formatHex:tN,formatHex8:qJ,formatHsl:FJ,formatRgb:nN,toString:nN});function tN(){return this.rgb().formatHex()}function qJ(){return this.rgb().formatHex8()}function FJ(){return D4(this).formatHsl()}function nN(){return this.rgb().formatRgb()}function ad(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=MJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rN(e):n===3?new kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?pp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?pp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=LJ.exec(t))?new kr(e[1],e[2],e[3],1):(e=UJ.exec(t))?new kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=VJ.exec(t))?pp(e[1],e[2],e[3],e[4]):(e=$J.exec(t))?pp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=BJ.exec(t))?sN(e[1],e[2]/100,e[3]/100,1):(e=zJ.exec(t))?sN(e[1],e[2]/100,e[3]/100,e[4]):eN.hasOwnProperty(t)?rN(eN[t]):t==="transparent"?new kr(NaN,NaN,NaN,0):null}function rN(t){return new kr(t>>16&255,t>>8&255,t&255,1)}function pp(t,e,n,r){return r<=0&&(t=e=n=NaN),new kr(t,e,n,r)}function HJ(t){return t instanceof Sd||(t=ad(t)),t?(t=t.rgb(),new kr(t.r,t.g,t.b,t.opacity)):new kr}function cx(t,e,n,r){return arguments.length===1?HJ(t):new kr(t,e,n,r??1)}function kr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}s1(kr,cx,j4(Sd,{brighter(t){return t=t==null?xg:Math.pow(xg,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rd:Math.pow(rd,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kr(zl(this.r),zl(this.g),zl(this.b),Eg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iN,formatHex:iN,formatHex8:KJ,formatRgb:aN,toString:aN}));function iN(){return`#${Ml(this.r)}${Ml(this.g)}${Ml(this.b)}`}function KJ(){return`#${Ml(this.r)}${Ml(this.g)}${Ml(this.b)}${Ml((isNaN(this.opacity)?1:this.opacity)*255)}`}function aN(){const t=Eg(this.opacity);return`${t===1?"rgb(":"rgba("}${zl(this.r)}, ${zl(this.g)}, ${zl(this.b)}${t===1?")":`, ${t})`}`}function Eg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function zl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ml(t){return t=zl(t),(t<16?"0":"")+t.toString(16)}function sN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xi(t,e,n,r)}function D4(t){if(t instanceof Xi)return new Xi(t.h,t.s,t.l,t.opacity);if(t instanceof Sd||(t=ad(t)),!t)return new Xi;if(t instanceof Xi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,f=(a+i)/2;return u?(e===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-e)/u+2:o=(e-n)/u+4,u/=f<.5?a+i:2-a-i,o*=60):u=f>0&&f<1?0:o,new Xi(o,u,f,t.opacity)}function GJ(t,e,n,r){return arguments.length===1?D4(t):new Xi(t,e,n,r??1)}function Xi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}s1(Xi,GJ,j4(Sd,{brighter(t){return t=t==null?xg:Math.pow(xg,t),new Xi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rd:Math.pow(rd,t),new Xi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new kr(T_(t>=240?t-240:t+120,i,r),T_(t,i,r),T_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xi(oN(this.h),gp(this.s),gp(this.l),Eg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Eg(this.opacity);return`${t===1?"hsl(":"hsla("}${oN(this.h)}, ${gp(this.s)*100}%, ${gp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oN(t){return t=(t||0)%360,t<0?t+360:t}function gp(t){return Math.max(0,Math.min(1,t||0))}function T_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const o1=t=>()=>t;function WJ(t,e){return function(n){return t+n*e}}function YJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function XJ(t){return(t=+t)==1?k4:function(e,n){return n-e?YJ(e,n,t):o1(isNaN(e)?n:e)}}function k4(t,e){var n=e-t;return n?WJ(t,n):o1(isNaN(t)?e:t)}const lN=(function t(e){var n=XJ(e);function r(i,a){var o=n((i=cx(i)).r,(a=cx(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),h=k4(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=u(d),i.b=f(d),i.opacity=h(d),i+""}}return r.gamma=t,r})(1);function QJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function JJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ZJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Xc(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function eZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function tZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Xc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var fx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,A_=new RegExp(fx.source,"g");function nZ(t){return function(){return t}}function rZ(t){return function(e){return t(e)+""}}function iZ(t,e){var n=fx.lastIndex=A_.lastIndex=0,r,i,a,o=-1,u=[],f=[];for(t=t+"",e=e+"";(r=fx.exec(t))&&(i=A_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,f.push({i:o,x:Sg(r,i)})),n=A_.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?f[0]?rZ(f[0].x):nZ(e):(e=f.length,function(h){for(var d=0,p;d<e;++d)u[(p=f[d]).i]=p.x(h);return u.join("")})}function Xc(t,e){var n=typeof e,r;return e==null||n==="boolean"?o1(e):(n==="number"?Sg:n==="string"?(r=ad(e))?(e=r,lN):iZ:e instanceof ad?lN:e instanceof Date?eZ:JJ(e)?QJ:Array.isArray(e)?ZJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?tZ:Sg)(t,e)}function l1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function aZ(t,e){e===void 0&&(e=t,t=Xc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[u](o-u)}}function sZ(t){return function(){return t}}function Tg(t){return+t}var uN=[0,1];function Sr(t){return t}function hx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:sZ(isNaN(e)?NaN:.5)}function oZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function lZ(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=hx(i,r),a=n(o,a)):(r=hx(r,i),a=n(a,o)),function(u){return a(r(u))}}function uZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=hx(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(u){var f=Ed(t,u,1,r)-1;return a[f](i[f](u))}}function Td(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ey(){var t=uN,e=uN,n=Xc,r,i,a,o=Sr,u,f,h;function d(){var y=Math.min(t.length,e.length);return o!==Sr&&(o=oZ(t[0],t[y-1])),u=y>2?uZ:lZ,f=h=null,p}function p(y){return y==null||isNaN(y=+y)?a:(f||(f=u(t.map(r),e,n)))(r(o(y)))}return p.invert=function(y){return o(i((h||(h=u(e,t.map(r),Sg)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Tg),d()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),d()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=l1,d()},p.clamp=function(y){return arguments.length?(o=y?!0:Sr,d()):o!==Sr},p.interpolate=function(y){return arguments.length?(n=y,d()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,b){return r=y,i=b,d()}}function u1(){return Ey()(Sr,Sr)}function cZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ag(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Uc(t){return t=Ag(Math.abs(t)),t?t[1]:NaN}function fZ(t,e){return function(n,r){for(var i=n.length,a=[],o=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function hZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var dZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sd(t){if(!(e=dZ.exec(t)))throw new Error("invalid format: "+t);var e;return new c1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}sd.prototype=c1.prototype;function c1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}c1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var I4;function pZ(t,e){var n=Ag(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(I4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ag(t,Math.max(0,e+a-1))[0]}function cN(t,e){var n=Ag(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:cZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>cN(t*100,e),r:cN,s:pZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hN(t){return t}var dN=Array.prototype.map,mN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function gZ(t){var e=t.grouping===void 0||t.thousands===void 0?hN:fZ(dN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?hN:hZ(dN.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(p){p=sd(p);var y=p.fill,b=p.align,w=p.sign,x=p.symbol,S=p.zero,A=p.width,R=p.comma,C=p.precision,L=p.trim,U=p.type;U==="n"?(R=!0,U="g"):fN[U]||(C===void 0&&(C=12),L=!0,U="g"),(S||y==="0"&&b==="=")&&(S=!0,y="0",b="=");var D=x==="$"?n:x==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",j=x==="$"?r:/[%p]/.test(U)?o:"",k=fN[U],M=/[defgprs%]/.test(U);C=C===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function V(z){var q=D,$=j,ve,we,G;if(U==="c")$=k(z)+$,z="";else{z=+z;var re=z<0||1/z<0;if(z=isNaN(z)?f:k(Math.abs(z),C),L&&(z=mZ(z)),re&&+z==0&&w!=="+"&&(re=!1),q=(re?w==="("?w:u:w==="-"||w==="("?"":w)+q,$=(U==="s"?mN[8+I4/3]:"")+$+(re&&w==="("?")":""),M){for(ve=-1,we=z.length;++ve<we;)if(G=z.charCodeAt(ve),48>G||G>57){$=(G===46?i+z.slice(ve+1):z.slice(ve))+$,z=z.slice(0,ve);break}}}R&&!S&&(z=e(z,1/0));var pe=q.length+z.length+$.length,xe=pe<A?new Array(A-pe+1).join(y):"";switch(R&&S&&(z=e(xe+z,xe.length?A-$.length:1/0),xe=""),b){case"<":z=q+z+$+xe;break;case"=":z=q+xe+z+$;break;case"^":z=xe.slice(0,pe=xe.length>>1)+q+z+$+xe.slice(pe);break;default:z=xe+q+z+$;break}return a(z)}return V.toString=function(){return p+""},V}function d(p,y){var b=h((p=sd(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Uc(y)/3)))*3,x=Math.pow(10,-w),S=mN[8+w/3];return function(A){return b(x*A)+S}}return{format:h,formatPrefix:d}}var yp,f1,M4;yZ({thousands:",",grouping:[3],currency:["$",""]});function yZ(t){return yp=gZ(t),f1=yp.format,M4=yp.formatPrefix,yp}function vZ(t){return Math.max(0,-Uc(Math.abs(t)))}function bZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uc(e)/3)))*3-Uc(Math.abs(t)))}function _Z(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Uc(e)-Uc(t))+1}function L4(t,e,n,r){var i=lx(t,e,n),a;switch(r=sd(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=bZ(i,o))&&(r.precision=a),M4(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=_Z(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=vZ(i))&&(r.precision=a-(r.type==="%")*2);break}}return f1(r)}function zo(t){var e=t.domain;return t.ticks=function(n){var r=e();return sx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return L4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],u=r[a],f,h,d=10;for(u<o&&(h=o,o=u,u=h,h=i,i=a,a=h);d-- >0;){if(h=ox(o,u,n),h===f)return r[i]=o,r[a]=u,e(r);if(h>0)o=Math.floor(o/h)*h,u=Math.ceil(u/h)*h;else if(h<0)o=Math.ceil(o*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function U4(){var t=u1();return t.copy=function(){return Td(t,U4())},Ii.apply(t,arguments),zo(t)}function V4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Tg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return V4(t).unknown(e)},t=arguments.length?Array.from(t,Tg):[0,1],zo(n)}function $4(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function pN(t){return Math.log(t)}function gN(t){return Math.exp(t)}function wZ(t){return-Math.log(-t)}function xZ(t){return-Math.exp(-t)}function EZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function SZ(t){return t===10?EZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function TZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function yN(t){return(e,n)=>-t(-e,n)}function h1(t){const e=t(pN,gN),n=e.domain;let r=10,i,a;function o(){return i=TZ(r),a=SZ(r),n()[0]<0?(i=yN(i),a=yN(a),t(wZ,xZ)):t(pN,gN),e}return e.base=function(u){return arguments.length?(r=+u,o()):r},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const f=n();let h=f[0],d=f[f.length-1];const p=d<h;p&&([h,d]=[d,h]);let y=i(h),b=i(d),w,x;const S=u==null?10:+u;let A=[];if(!(r%1)&&b-y<S){if(y=Math.floor(y),b=Math.ceil(b),h>0){for(;y<=b;++y)for(w=1;w<r;++w)if(x=y<0?w/a(-y):w*a(y),!(x<h)){if(x>d)break;A.push(x)}}else for(;y<=b;++y)for(w=r-1;w>=1;--w)if(x=y>0?w/a(-y):w*a(y),!(x<h)){if(x>d)break;A.push(x)}A.length*2<S&&(A=sx(h,d,S))}else A=sx(y,b,Math.min(b-y,S)).map(a);return p?A.reverse():A},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=sd(f)).precision==null&&(f.trim=!0),f=f1(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=h?f(d):""}},e.nice=()=>n($4(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function B4(){const t=h1(Ey()).domain([1,10]);return t.copy=()=>Td(t,B4()).base(t.base()),Ii.apply(t,arguments),t}function vN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function bN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function d1(t){var e=1,n=t(vN(e),bN(e));return n.constant=function(r){return arguments.length?t(vN(e=+r),bN(e)):e},zo(n)}function z4(){var t=d1(Ey());return t.copy=function(){return Td(t,z4()).constant(t.constant())},Ii.apply(t,arguments)}function _N(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function AZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function OZ(t){return t<0?-t*t:t*t}function m1(t){var e=t(Sr,Sr),n=1;function r(){return n===1?t(Sr,Sr):n===.5?t(AZ,OZ):t(_N(n),_N(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zo(e)}function p1(){var t=m1(Ey());return t.copy=function(){return Td(t,p1()).exponent(t.exponent())},Ii.apply(t,arguments),t}function CZ(){return p1.apply(null,arguments).exponent(.5)}function wN(t){return Math.sign(t)*t*t}function PZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function q4(){var t=u1(),e=[0,1],n=!1,r;function i(a){var o=PZ(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(wN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Tg)).map(wN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return q4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ii.apply(i,arguments),zo(i)}function F4(){var t=[],e=[],n=[],r;function i(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=DJ(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Ed(n,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Oo),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return F4().domain(t).range(e).unknown(r)},Ii.apply(a,arguments)}function H4(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(f){return f!=null&&f<=f?i[Ed(r,f,0,n)]:a}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return o}return o.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},o.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},o.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},o.unknown=function(f){return arguments.length&&(a=f),o},o.thresholds=function(){return r.slice()},o.copy=function(){return H4().domain([t,e]).range(i).unknown(a)},Ii.apply(zo(o),arguments)}function K4(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Ed(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return K4().domain(t).range(e).unknown(n)},Ii.apply(i,arguments)}const O_=new Date,C_=new Date;function kn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return f;let h;do f.push(h=new Date(+a)),e(a,u),t(a);while(h<a&&a<o);return f},i.filter=a=>kn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(O_.setTime(+a),C_.setTime(+o),t(O_),t(C_),Math.floor(n(O_,C_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Og=kn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Og.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Og);Og.range;const ls=1e3,Ni=ls*60,us=Ni*60,vs=us*24,g1=vs*7,xN=vs*30,P_=vs*365,Ll=kn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getUTCSeconds());Ll.range;const y1=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ls)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getMinutes());y1.range;const v1=kn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getUTCMinutes());v1.range;const b1=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ls-t.getMinutes()*Ni)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getHours());b1.range;const _1=kn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getUTCHours());_1.range;const Ad=kn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ni)/vs,t=>t.getDate()-1);Ad.range;const Sy=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>t.getUTCDate()-1);Sy.range;const G4=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>Math.floor(t/vs));G4.range;function lu(t){return kn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ni)/g1)}const Ty=lu(0),Cg=lu(1),RZ=lu(2),NZ=lu(3),Vc=lu(4),jZ=lu(5),DZ=lu(6);Ty.range;Cg.range;RZ.range;NZ.range;Vc.range;jZ.range;DZ.range;function uu(t){return kn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/g1)}const Ay=uu(0),Pg=uu(1),kZ=uu(2),IZ=uu(3),$c=uu(4),MZ=uu(5),LZ=uu(6);Ay.range;Pg.range;kZ.range;IZ.range;$c.range;MZ.range;LZ.range;const w1=kn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());w1.range;const x1=kn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());x1.range;const bs=kn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});bs.range;const _s=kn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());_s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});_s.range;function W4(t,e,n,r,i,a){const o=[[Ll,1,ls],[Ll,5,5*ls],[Ll,15,15*ls],[Ll,30,30*ls],[a,1,Ni],[a,5,5*Ni],[a,15,15*Ni],[a,30,30*Ni],[i,1,us],[i,3,3*us],[i,6,6*us],[i,12,12*us],[r,1,vs],[r,2,2*vs],[n,1,g1],[e,1,xN],[e,3,3*xN],[t,1,P_]];function u(h,d,p){const y=d<h;y&&([h,d]=[d,h]);const b=p&&typeof p.range=="function"?p:f(h,d,p),w=b?b.range(h,+d+1):[];return y?w.reverse():w}function f(h,d,p){const y=Math.abs(d-h)/p,b=r1(([,,S])=>S).right(o,y);if(b===o.length)return t.every(lx(h/P_,d/P_,p));if(b===0)return Og.every(Math.max(lx(h,d,p),1));const[w,x]=o[y/o[b-1][2]<o[b][2]/y?b-1:b];return w.every(x)}return[u,f]}const[UZ,VZ]=W4(_s,x1,Ay,G4,_1,v1),[$Z,BZ]=W4(bs,w1,Ty,Ad,b1,y1);function R_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function N_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function zZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,f=t.shortMonths,h=mh(i),d=ph(i),p=mh(a),y=ph(a),b=mh(o),w=ph(o),x=mh(u),S=ph(u),A=mh(f),R=ph(f),C={a:re,A:pe,b:xe,B:H,c:null,d:CN,e:CN,f:fee,g:wee,G:Eee,H:lee,I:uee,j:cee,L:Y4,m:hee,M:dee,p:oe,q:ie,Q:NN,s:jN,S:mee,u:pee,U:gee,V:yee,w:vee,W:bee,x:null,X:null,y:_ee,Y:xee,Z:See,"%":RN},L={a:me,A:Ae,b:Ue,B:Ve,c:null,d:PN,e:PN,f:Cee,g:Uee,G:$ee,H:Tee,I:Aee,j:Oee,L:Q4,m:Pee,M:Ree,p:nn,q:Tt,Q:NN,s:jN,S:Nee,u:jee,U:Dee,V:kee,w:Iee,W:Mee,x:null,X:null,y:Lee,Y:Vee,Z:Bee,"%":RN},U={a:V,A:z,b:q,B:$,c:ve,d:AN,e:AN,f:iee,g:TN,G:SN,H:ON,I:ON,j:eee,L:ree,m:ZZ,M:tee,p:M,q:JZ,Q:see,s:oee,S:nee,u:GZ,U:WZ,V:YZ,w:KZ,W:XZ,x:we,X:G,y:TN,Y:SN,Z:QZ,"%":aee};C.x=D(n,C),C.X=D(r,C),C.c=D(e,C),L.x=D(n,L),L.X=D(r,L),L.c=D(e,L);function D(_e,De){return function(Ke){var ge=[],Yt=-1,et=0,ln=_e.length,dn,Zt,Ps;for(Ke instanceof Date||(Ke=new Date(+Ke));++Yt<ln;)_e.charCodeAt(Yt)===37&&(ge.push(_e.slice(et,Yt)),(Zt=EN[dn=_e.charAt(++Yt)])!=null?dn=_e.charAt(++Yt):Zt=dn==="e"?" ":"0",(Ps=De[dn])&&(dn=Ps(Ke,Zt)),ge.push(dn),et=Yt+1);return ge.push(_e.slice(et,Yt)),ge.join("")}}function j(_e,De){return function(Ke){var ge=dh(1900,void 0,1),Yt=k(ge,_e,Ke+="",0),et,ln;if(Yt!=Ke.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(De&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(et=N_(dh(ge.y,0,1)),ln=et.getUTCDay(),et=ln>4||ln===0?Pg.ceil(et):Pg(et),et=Sy.offset(et,(ge.V-1)*7),ge.y=et.getUTCFullYear(),ge.m=et.getUTCMonth(),ge.d=et.getUTCDate()+(ge.w+6)%7):(et=R_(dh(ge.y,0,1)),ln=et.getDay(),et=ln>4||ln===0?Cg.ceil(et):Cg(et),et=Ad.offset(et,(ge.V-1)*7),ge.y=et.getFullYear(),ge.m=et.getMonth(),ge.d=et.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),ln="Z"in ge?N_(dh(ge.y,0,1)).getUTCDay():R_(dh(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(ln+5)%7:ge.w+ge.U*7-(ln+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,N_(ge)):R_(ge)}}function k(_e,De,Ke,ge){for(var Yt=0,et=De.length,ln=Ke.length,dn,Zt;Yt<et;){if(ge>=ln)return-1;if(dn=De.charCodeAt(Yt++),dn===37){if(dn=De.charAt(Yt++),Zt=U[dn in EN?De.charAt(Yt++):dn],!Zt||(ge=Zt(_e,Ke,ge))<0)return-1}else if(dn!=Ke.charCodeAt(ge++))return-1}return ge}function M(_e,De,Ke){var ge=h.exec(De.slice(Ke));return ge?(_e.p=d.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function V(_e,De,Ke){var ge=b.exec(De.slice(Ke));return ge?(_e.w=w.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function z(_e,De,Ke){var ge=p.exec(De.slice(Ke));return ge?(_e.w=y.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function q(_e,De,Ke){var ge=A.exec(De.slice(Ke));return ge?(_e.m=R.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function $(_e,De,Ke){var ge=x.exec(De.slice(Ke));return ge?(_e.m=S.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function ve(_e,De,Ke){return k(_e,e,De,Ke)}function we(_e,De,Ke){return k(_e,n,De,Ke)}function G(_e,De,Ke){return k(_e,r,De,Ke)}function re(_e){return o[_e.getDay()]}function pe(_e){return a[_e.getDay()]}function xe(_e){return f[_e.getMonth()]}function H(_e){return u[_e.getMonth()]}function oe(_e){return i[+(_e.getHours()>=12)]}function ie(_e){return 1+~~(_e.getMonth()/3)}function me(_e){return o[_e.getUTCDay()]}function Ae(_e){return a[_e.getUTCDay()]}function Ue(_e){return f[_e.getUTCMonth()]}function Ve(_e){return u[_e.getUTCMonth()]}function nn(_e){return i[+(_e.getUTCHours()>=12)]}function Tt(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var De=D(_e+="",C);return De.toString=function(){return _e},De},parse:function(_e){var De=j(_e+="",!1);return De.toString=function(){return _e},De},utcFormat:function(_e){var De=D(_e+="",L);return De.toString=function(){return _e},De},utcParse:function(_e){var De=j(_e+="",!0);return De.toString=function(){return _e},De}}}var EN={"-":"",_:" ",0:"0"},Yn=/^\s*\d+/,qZ=/^%/,FZ=/[\\^$*+?|[\]().{}]/g;function bt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function HZ(t){return t.replace(FZ,"\\$&")}function mh(t){return new RegExp("^(?:"+t.map(HZ).join("|")+")","i")}function ph(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function KZ(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function GZ(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function WZ(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function YZ(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function XZ(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function SN(t,e,n){var r=Yn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function TN(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function QZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function JZ(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ZZ(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function AN(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function eee(t,e,n){var r=Yn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ON(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function tee(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function nee(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ree(t,e,n){var r=Yn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function iee(t,e,n){var r=Yn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function aee(t,e,n){var r=qZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function see(t,e,n){var r=Yn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function oee(t,e,n){var r=Yn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function CN(t,e){return bt(t.getDate(),e,2)}function lee(t,e){return bt(t.getHours(),e,2)}function uee(t,e){return bt(t.getHours()%12||12,e,2)}function cee(t,e){return bt(1+Ad.count(bs(t),t),e,3)}function Y4(t,e){return bt(t.getMilliseconds(),e,3)}function fee(t,e){return Y4(t,e)+"000"}function hee(t,e){return bt(t.getMonth()+1,e,2)}function dee(t,e){return bt(t.getMinutes(),e,2)}function mee(t,e){return bt(t.getSeconds(),e,2)}function pee(t){var e=t.getDay();return e===0?7:e}function gee(t,e){return bt(Ty.count(bs(t)-1,t),e,2)}function X4(t){var e=t.getDay();return e>=4||e===0?Vc(t):Vc.ceil(t)}function yee(t,e){return t=X4(t),bt(Vc.count(bs(t),t)+(bs(t).getDay()===4),e,2)}function vee(t){return t.getDay()}function bee(t,e){return bt(Cg.count(bs(t)-1,t),e,2)}function _ee(t,e){return bt(t.getFullYear()%100,e,2)}function wee(t,e){return t=X4(t),bt(t.getFullYear()%100,e,2)}function xee(t,e){return bt(t.getFullYear()%1e4,e,4)}function Eee(t,e){var n=t.getDay();return t=n>=4||n===0?Vc(t):Vc.ceil(t),bt(t.getFullYear()%1e4,e,4)}function See(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bt(e/60|0,"0",2)+bt(e%60,"0",2)}function PN(t,e){return bt(t.getUTCDate(),e,2)}function Tee(t,e){return bt(t.getUTCHours(),e,2)}function Aee(t,e){return bt(t.getUTCHours()%12||12,e,2)}function Oee(t,e){return bt(1+Sy.count(_s(t),t),e,3)}function Q4(t,e){return bt(t.getUTCMilliseconds(),e,3)}function Cee(t,e){return Q4(t,e)+"000"}function Pee(t,e){return bt(t.getUTCMonth()+1,e,2)}function Ree(t,e){return bt(t.getUTCMinutes(),e,2)}function Nee(t,e){return bt(t.getUTCSeconds(),e,2)}function jee(t){var e=t.getUTCDay();return e===0?7:e}function Dee(t,e){return bt(Ay.count(_s(t)-1,t),e,2)}function J4(t){var e=t.getUTCDay();return e>=4||e===0?$c(t):$c.ceil(t)}function kee(t,e){return t=J4(t),bt($c.count(_s(t),t)+(_s(t).getUTCDay()===4),e,2)}function Iee(t){return t.getUTCDay()}function Mee(t,e){return bt(Pg.count(_s(t)-1,t),e,2)}function Lee(t,e){return bt(t.getUTCFullYear()%100,e,2)}function Uee(t,e){return t=J4(t),bt(t.getUTCFullYear()%100,e,2)}function Vee(t,e){return bt(t.getUTCFullYear()%1e4,e,4)}function $ee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$c(t):$c.ceil(t),bt(t.getUTCFullYear()%1e4,e,4)}function Bee(){return"+0000"}function RN(){return"%"}function NN(t){return+t}function jN(t){return Math.floor(+t/1e3)}var oc,Z4,eL;zee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zee(t){return oc=zZ(t),Z4=oc.format,oc.parse,eL=oc.utcFormat,oc.utcParse,oc}function qee(t){return new Date(t)}function Fee(t){return t instanceof Date?+t:+new Date(+t)}function E1(t,e,n,r,i,a,o,u,f,h){var d=u1(),p=d.invert,y=d.domain,b=h(".%L"),w=h(":%S"),x=h("%I:%M"),S=h("%I %p"),A=h("%a %d"),R=h("%b %d"),C=h("%B"),L=h("%Y");function U(D){return(f(D)<D?b:u(D)<D?w:o(D)<D?x:a(D)<D?S:r(D)<D?i(D)<D?A:R:n(D)<D?C:L)(D)}return d.invert=function(D){return new Date(p(D))},d.domain=function(D){return arguments.length?y(Array.from(D,Fee)):y().map(qee)},d.ticks=function(D){var j=y();return t(j[0],j[j.length-1],D??10)},d.tickFormat=function(D,j){return j==null?U:h(j)},d.nice=function(D){var j=y();return(!D||typeof D.range!="function")&&(D=e(j[0],j[j.length-1],D??10)),D?y($4(j,D)):d},d.copy=function(){return Td(d,E1(t,e,n,r,i,a,o,u,f,h))},d}function Hee(){return Ii.apply(E1($Z,BZ,bs,w1,Ty,Ad,b1,y1,Ll,Z4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Kee(){return Ii.apply(E1(UZ,VZ,_s,x1,Ay,Sy,_1,v1,Ll,eL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Oy(){var t=0,e=1,n,r,i,a,o=Sr,u=!1,f;function h(p){return p==null||isNaN(p=+p)?f:o(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(o=p,h):o};function d(p){return function(y){var b,w;return arguments.length?([b,w]=y,o=p(b,w),h):[o(0),o(1)]}}return h.range=d(Xc),h.rangeRound=d(l1),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),h}}function qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function tL(){var t=zo(Oy()(Sr));return t.copy=function(){return qo(t,tL())},As.apply(t,arguments)}function nL(){var t=h1(Oy()).domain([1,10]);return t.copy=function(){return qo(t,nL()).base(t.base())},As.apply(t,arguments)}function rL(){var t=d1(Oy());return t.copy=function(){return qo(t,rL()).constant(t.constant())},As.apply(t,arguments)}function S1(){var t=m1(Oy());return t.copy=function(){return qo(t,S1()).exponent(t.exponent())},As.apply(t,arguments)}function Gee(){return S1.apply(null,arguments).exponent(.5)}function iL(){var t=[],e=Sr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ed(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Oo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>jJ(t,a/r))},n.copy=function(){return iL(e).domain(t)},As.apply(n,arguments)}function Cy(){var t=0,e=.5,n=1,r=1,i,a,o,u,f,h=Sr,d,p=!1,y;function b(x){return isNaN(x=+x)?y:(x=.5+((x=+d(x))-a)*(r*x<r*a?u:f),h(p?Math.max(0,Math.min(1,x)):x))}b.domain=function(x){return arguments.length?([t,e,n]=x,i=d(t=+t),a=d(e=+e),o=d(n=+n),u=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(x){return arguments.length?(p=!!x,b):p},b.interpolator=function(x){return arguments.length?(h=x,b):h};function w(x){return function(S){var A,R,C;return arguments.length?([A,R,C]=S,h=aZ(x,[A,R,C]),b):[h(0),h(.5),h(1)]}}return b.range=w(Xc),b.rangeRound=w(l1),b.unknown=function(x){return arguments.length?(y=x,b):y},function(x){return d=x,i=x(t),a=x(e),o=x(n),u=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,b}}function aL(){var t=zo(Cy()(Sr));return t.copy=function(){return qo(t,aL())},As.apply(t,arguments)}function sL(){var t=h1(Cy()).domain([.1,1,10]);return t.copy=function(){return qo(t,sL()).base(t.base())},As.apply(t,arguments)}function oL(){var t=d1(Cy());return t.copy=function(){return qo(t,oL()).constant(t.constant())},As.apply(t,arguments)}function T1(){var t=m1(Cy());return t.copy=function(){return qo(t,T1()).exponent(t.exponent())},As.apply(t,arguments)}function Wee(){return T1.apply(null,arguments).exponent(.5)}const Th=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:a1,scaleDiverging:aL,scaleDivergingLog:sL,scaleDivergingPow:T1,scaleDivergingSqrt:Wee,scaleDivergingSymlog:oL,scaleIdentity:V4,scaleImplicit:ux,scaleLinear:U4,scaleLog:B4,scaleOrdinal:i1,scalePoint:IJ,scalePow:p1,scaleQuantile:F4,scaleQuantize:H4,scaleRadial:q4,scaleSequential:tL,scaleSequentialLog:nL,scaleSequentialPow:S1,scaleSequentialQuantile:iL,scaleSequentialSqrt:Gee,scaleSequentialSymlog:rL,scaleSqrt:CZ,scaleSymlog:z4,scaleThreshold:K4,scaleTime:Hee,scaleUtc:Kee,tickFormat:L4},Symbol.toStringTag,{value:"Module"}));var Fo=t=>t.chartData,Yee=se([Fo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Py=(t,e,n,r)=>r?Yee(t):Fo(t);function Bc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ai(e)&&ai(n))return!0}return!1}function DN(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Xee(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(ai(n))i=n;else if(typeof n=="function")return;if(ai(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Bc(o))return o}}function Qee(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Bc(r))return DN(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,u;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Pe(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&_2.test(i)){var f=_2.exec(i);if(f==null||e==null)o=void 0;else{var h=+f[1];o=e[0]-h}}else o=e?.[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(Pe(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e?.[1]))}catch{}else if(typeof a=="string"&&w2.test(a)){var d=w2.exec(a);if(d==null||e==null)u=void 0;else{var p=+d[1];u=e[1]+p}}else u=e?.[1];var y=[o,u];if(Bc(y))return e==null?y:DN(y,e,n)}}}var Qc=1e9,Jee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},O1,Jt=!0,ki="[DecimalError] ",ql=ki+"Invalid argument: ",A1=ki+"Exponent out of range: ",Jc=Math.floor,Ol=Math.pow,Zee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ei,Hn=1e7,Ft=7,lL=9007199254740991,Rg=Jc(lL/Ft),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ft;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return ds(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return Vt(ds(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return xn(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ei))throw Error(ki+"NaN");if(n.s<1)throw Error(ki+(n.s?"NaN":"-Infinity"));return n.eq(ei)?new r(0):(Jt=!1,e=ds(od(n,a),od(t,a),a),Jt=!0,Vt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fL(e,t):uL(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ki+"NaN");return n.s?(Jt=!1,e=ds(n,t,0,1).times(t),Jt=!0,n.minus(e)):Vt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return cL(this)};Te.naturalLogarithm=Te.ln=function(){return od(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?uL(e,t):fL(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ql+t);if(e=xn(i)+1,r=i.d.length-1,n=r*Ft+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,a,o,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ki+"NaN")}for(t=xn(u),Jt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=wa(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Jc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=o=n+3;;)if(a=r,r=a.plus(ds(u,a,o+2)).times(.5),wa(a.d).slice(0,o)===(e=wa(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Vt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;o+=4}return Jt=!0,Vt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,a,o,u,f,h,d=this,p=d.constructor,y=d.d,b=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,f=y.length,h=b.length,f<h&&(a=y,y=b,b=a,o=f,f=h,h=o),a=[],o=f+h,r=o;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)u=a[i]+b[r]*y[i-r-1]+e,a[i--]=u%Hn|0,e=u/Hn|0;a[i]=(a[i]+e)%Hn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Jt?Vt(t,p.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Da(t,0,Qc),e===void 0?e=r.rounding:Da(e,0,8),Vt(n,t+xn(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Xl(r,!0):(Da(t,0,Qc),e===void 0?e=i.rounding:Da(e,0,8),r=Vt(new i(r),t+1,e),n=Xl(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Xl(i):(Da(t,0,Qc),e===void 0?e=a.rounding:Da(e,0,8),r=Vt(new a(i),t+xn(i)+1,e),n=Xl(r.abs(),!1,t+xn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),xn(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,a,o,u=this,f=u.constructor,h=12,d=+(t=new f(t));if(!t.s)return new f(ei);if(u=new f(u),!u.s){if(t.s<1)throw Error(ki+"Infinity");return u}if(u.eq(ei))return u;if(r=f.precision,t.eq(ei))return Vt(u,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=u.s,o){if((n=d<0?-d:d)<=lL){for(i=new f(ei),e=Math.ceil(r/Ft+4),Jt=!1;n%2&&(i=i.times(u),IN(i.d,e)),n=Jc(n/2),n!==0;)u=u.times(u),IN(u.d,e);return Jt=!0,t.s<0?new f(ei).div(i):Vt(i,r)}}else if(a<0)throw Error(ki+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Jt=!1,i=t.times(od(u,r+h)),Jt=!0,i=cL(i),i.s=a,i};Te.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=xn(i),r=Xl(i,n<=a.toExpNeg||n>=a.toExpPos)):(Da(t,1,Qc),e===void 0?e=a.rounding:Da(e,0,8),i=Vt(new a(i),t,e),n=xn(i),r=Xl(i,t<=n||n<=a.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Da(t,1,Qc),e===void 0?e=r.rounding:Da(e,0,8)),Vt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=xn(t),n=t.constructor;return Xl(t,e<=n.toExpNeg||e>=n.toExpPos)};function uL(t,e){var n,r,i,a,o,u,f,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Jt?Vt(e,p):e;if(f=t.d,h=e.d,o=t.e,i=e.e,f=f.slice(),a=o-i,a){for(a<0?(r=f,a=-a,u=h.length):(r=h,i=o,u=f.length),o=Math.ceil(p/Ft),u=o>u?o+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=f.length,a=h.length,u-a<0&&(a=u,r=h,h=f,f=r),n=0;a;)n=(f[--a]=f[a]+h[a]+n)/Hn|0,f[a]%=Hn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Jt?Vt(e,p):e}function Da(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ql+t)}function wa(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Ft-r.length,n&&(a+=po(n)),a+=r;o=t[e],r=o+"",n=Ft-r.length,n&&(a+=po(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ds=(function(){function t(r,i){var a,o=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+o,r[u]=a%Hn|0,o=a/Hn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var u,f;if(a!=o)f=a>o?1:-1;else for(u=f=0;u<a;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Hn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var u,f,h,d,p,y,b,w,x,S,A,R,C,L,U,D,j,k,M=r.constructor,V=r.s==i.s?1:-1,z=r.d,q=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(ki+"Division by zero");for(f=r.e-i.e,j=q.length,U=z.length,b=new M(V),w=b.d=[],h=0;q[h]==(z[h]||0);)++h;if(q[h]>(z[h]||0)&&--f,a==null?R=a=M.precision:o?R=a+(xn(r)-xn(i))+1:R=a,R<0)return new M(0);if(R=R/Ft+2|0,h=0,j==1)for(d=0,q=q[0],R++;(h<U||d)&&R--;h++)C=d*Hn+(z[h]||0),w[h]=C/q|0,d=C%q|0;else{for(d=Hn/(q[0]+1)|0,d>1&&(q=t(q,d),z=t(z,d),j=q.length,U=z.length),L=j,x=z.slice(0,j),S=x.length;S<j;)x[S++]=0;k=q.slice(),k.unshift(0),D=q[0],q[1]>=Hn/2&&++D;do d=0,u=e(q,x,j,S),u<0?(A=x[0],j!=S&&(A=A*Hn+(x[1]||0)),d=A/D|0,d>1?(d>=Hn&&(d=Hn-1),p=t(q,d),y=p.length,S=x.length,u=e(p,x,y,S),u==1&&(d--,n(p,j<y?k:q,y))):(d==0&&(u=d=1),p=q.slice()),y=p.length,y<S&&p.unshift(0),n(x,p,S),u==-1&&(S=x.length,u=e(q,x,j,S),u<1&&(d++,n(x,j<S?k:q,S))),S=x.length):u===0&&(d++,x=[0]),w[h++]=d,u&&x[0]?x[S++]=z[L]||0:(x=[z[L]],S=1);while((L++<U||x[0]!==void 0)&&R--)}return w[0]||w.shift(),b.e=f,Vt(b,o?a+xn(b)+1:a)}})();function cL(t,e){var n,r,i,a,o,u,f=0,h=0,d=t.constructor,p=d.precision;if(xn(t)>16)throw Error(A1+xn(t));if(!t.s)return new d(ei);for(Jt=!1,u=p,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),h+=5;for(r=Math.log(Ol(2,h))/Math.LN10*2+5|0,u+=r,n=i=a=new d(ei),d.precision=u;;){if(i=Vt(i.times(t),u),n=n.times(++f),o=a.plus(ds(i,n,u)),wa(o.d).slice(0,u)===wa(a.d).slice(0,u)){for(;h--;)a=Vt(a.times(a),u);return d.precision=p,e==null?(Jt=!0,Vt(a,p)):a}a=o}}function xn(t){for(var e=t.e*Ft,n=t.d[0];n>=10;n/=10)e++;return e}function j_(t,e,n){if(e>t.LN10.sd())throw Jt=!0,n&&(t.precision=n),Error(ki+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function po(t){for(var e="";t--;)e+="0";return e}function od(t,e){var n,r,i,a,o,u,f,h,d,p=1,y=10,b=t,w=b.d,x=b.constructor,S=x.precision;if(b.s<1)throw Error(ki+(b.s?"NaN":"-Infinity"));if(b.eq(ei))return new x(0);if(e==null?(Jt=!1,h=S):h=e,b.eq(10))return e==null&&(Jt=!0),j_(x,h);if(h+=y,x.precision=h,n=wa(w),r=n.charAt(0),a=xn(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=wa(b.d),r=n.charAt(0),p++;a=xn(b),r>1?(b=new x("0."+n),a++):b=new x(r+"."+n.slice(1))}else return f=j_(x,h+2,S).times(a+""),b=od(new x(r+"."+n.slice(1)),h-y).plus(f),x.precision=S,e==null?(Jt=!0,Vt(b,S)):b;for(u=o=b=ds(b.minus(ei),b.plus(ei),h),d=Vt(b.times(b),h),i=3;;){if(o=Vt(o.times(d),h),f=u.plus(ds(o,new x(i),h)),wa(f.d).slice(0,h)===wa(u.d).slice(0,h))return u=u.times(2),a!==0&&(u=u.plus(j_(x,h+2,S).times(a+""))),u=ds(u,new x(p),h),x.precision=S,e==null?(Jt=!0,Vt(u,S)):u;u=f,i+=2}}function kN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Jc(n/Ft),t.d=[],r=(n+1)%Ft,n<0&&(r+=Ft),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ft;r<i;)t.d.push(+e.slice(r,r+=Ft));e=e.slice(r),r=Ft-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Jt&&(t.e>Rg||t.e<-Rg))throw Error(A1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,n){var r,i,a,o,u,f,h,d,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Ft,i=e,h=p[d=0];else{if(d=Math.ceil((r+1)/Ft),a=p.length,d>=a)return t;for(h=a=p[d],o=1;a>=10;a/=10)o++;r%=Ft,i=r-Ft+o}if(n!==void 0&&(a=Ol(10,o-i-1),u=h/a%10|0,f=e<0||p[d+1]!==void 0||h%a,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/Ol(10,o-i):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(a=xn(t),p.length=1,e=e-a-1,p[0]=Ol(10,(Ft-e%Ft)%Ft),t.e=Jc(-e/Ft)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=d,a=1,d--):(p.length=d+1,a=Ol(10,Ft-r),p[d]=i>0?(h/Ol(10,o-i)%Ol(10,i)|0)*a:0),f)for(;;)if(d==0){(p[0]+=a)==Hn&&(p[0]=1,++t.e);break}else{if(p[d]+=a,p[d]!=Hn)break;p[d--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Jt&&(t.e>Rg||t.e<-Rg))throw Error(A1+xn(t));return t}function fL(t,e){var n,r,i,a,o,u,f,h,d,p,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Jt?Vt(e,b):e;if(f=t.d,p=e.d,r=e.e,h=t.e,f=f.slice(),o=h-r,o){for(d=o<0,d?(n=f,o=-o,u=p.length):(n=p,r=h,u=f.length),i=Math.max(Math.ceil(b/Ft),u)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=p.length,d=i<u,d&&(u=i),i=0;i<u;i++)if(f[i]!=p[i]){d=f[i]<p[i];break}o=0}for(d&&(n=f,f=p,p=n,e.s=-e.s),u=f.length,i=p.length-u;i>0;--i)f[u++]=0;for(i=p.length;i>o;){if(f[--i]<p[i]){for(a=i;a&&f[--a]===0;)f[a]=Hn-1;--f[a],f[i]+=Hn}f[i]-=p[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Jt?Vt(e,b):e):new y(0)}function Xl(t,e,n){var r,i=xn(t),a=wa(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+po(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+po(-i-1)+a,n&&(r=n-o)>0&&(a+=po(r))):i>=o?(a+=po(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+po(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=po(r))),t.s<0?"-"+a:a}function IN(t,e){if(t.length>e)return t.length=e,!0}function hL(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ql+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return kN(o,a.toString())}else if(typeof a!="string")throw Error(ql+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Zee.test(a))kN(o,a);else throw Error(ql+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hL,i.config=i.set=ete,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ete(t){if(!t||typeof t!="object")throw Error(ki+"Object expected");var e,n,r,i=["precision",1,Qc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Jc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ql+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ql+n+": "+r);return this}var O1=hL(Jee);ei=new O1(1);const Nt=O1;var tte=t=>t,dL={},mL=t=>t===dL,MN=t=>function e(){return arguments.length===0||arguments.length===1&&mL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},pL=(t,e)=>t===1?e:MN(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==dL).length;return a>=t?e(...r):pL(t-a,MN(function(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];var h=r.map(d=>mL(d)?u.shift():d);return e(...h,...u)}))}),Ry=t=>pL(t.length,t),dx=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},nte=Ry((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),rte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return tte;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((u,f)=>f(u),a(...arguments))}},mx=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),gL=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((o,u)=>{var f;return o===((f=e)===null||f===void 0?void 0:f[u])})||(e=i,n=t(...i)),n}};function yL(t){var e;return t===0?e=1:e=Math.floor(new Nt(t).abs().log(10).toNumber())+1,e}function vL(t,e,n){for(var r=new Nt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Ry((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Ry((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Ry((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var bL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},_L=(t,e,n)=>{if(t.lte(0))return new Nt(0);var r=yL(t.toNumber()),i=new Nt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,u=new Nt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),f=u.mul(i);return e?new Nt(f.toNumber()):new Nt(Math.ceil(f.toNumber()))},ite=(t,e,n)=>{var r=new Nt(1),i=new Nt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Nt(10).pow(yL(t)-1),i=new Nt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Nt(Math.floor(t)))}else t===0?i=new Nt(Math.floor((e-1)/2)):n||(i=new Nt(Math.floor(t)));var o=Math.floor((e-1)/2),u=rte(nte(f=>i.add(new Nt(f-o).mul(r)).toNumber()),dx);return u(0,e)},wL=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Nt(0),tickMin:new Nt(0),tickMax:new Nt(0)};var o=_L(new Nt(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new Nt(0):(u=new Nt(e).add(n).div(2),u=u.sub(new Nt(u).mod(o)));var f=Math.ceil(u.sub(e).div(o).toNumber()),h=Math.ceil(new Nt(n).sub(u).div(o).toNumber()),d=f+h+1;return d>r?wL(e,n,r,i,a+1):(d<r&&(h=n>0?h+(r-d):h,f=n>0?f:f+(r-d)),{step:o,tickMin:u.sub(new Nt(f).mul(o)),tickMax:u.add(new Nt(h).mul(o))})};function ate(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,u]=bL([e,n]);if(o===-1/0||u===1/0){var f=u===1/0?[o,...dx(0,r-1).map(()=>1/0)]:[...dx(0,r-1).map(()=>-1/0),u];return e>n?mx(f):f}if(o===u)return ite(o,r,i);var{step:h,tickMin:d,tickMax:p}=wL(o,u,a,i,0),y=vL(d,p.add(new Nt(.1).mul(h)),h);return e>n?mx(y):y}function ste(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=bL([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var u=Math.max(e,2),f=_L(new Nt(o).sub(a).div(u-1),i,0),h=[...vL(new Nt(a),new Nt(o),f),o];return i===!1&&(h=h.map(d=>Math.round(d))),n>r?mx(h):h}var ote=gL(ate),lte=gL(ste),xL=t=>t.rootProps.maxBarSize,ute=t=>t.rootProps.barGap,EL=t=>t.rootProps.barCategoryGap,cte=t=>t.rootProps.barSize,Ny=t=>t.rootProps.stackOffset,C1=t=>t.options.chartName,P1=t=>t.rootProps.syncId,SL=t=>t.rootProps.syncMethod,R1=t=>t.options.eventEmitter,ss={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Jr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},jy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},fte={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ss.angleAxisId,includeHidden:!1,name:void 0,reversed:ss.reversed,scale:ss.scale,tick:ss.tick,tickCount:void 0,ticks:void 0,type:ss.type,unit:void 0},hte={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,ticks:void 0,type:Jr.type,unit:void 0},dte={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ss.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ss.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ss.scale,tick:ss.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},mte={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,ticks:void 0,type:"category",unit:void 0},N1=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?dte:fte,j1=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?mte:hte,Dy=t=>t.polarOptions,D1=se([Ss,Ts,Wn],aX),TL=se([Dy,D1],(t,e)=>{if(t!=null)return Ji(t.innerRadius,e,0)}),AL=se([Dy,D1],(t,e)=>{if(t!=null)return Ji(t.outerRadius,e,e*.8)}),pte=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},OL=se([Dy],pte);se([N1,OL],jy);var CL=se([D1,TL,AL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});se([j1,CL],jy);var PL=se([St,Dy,TL,AL,Ss,Ts],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:u,startAngle:f,endAngle:h}=e;return{cx:Ji(o,i,i/2),cy:Ji(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Sn=(t,e)=>e,ky=(t,e,n)=>n;function k1(t){return t?.id}var In=t=>{var e=St(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Zc=t=>t.tooltip.settings.axisId,Mn=t=>{var e=In(t),n=Zc(t);return Od(t,e,n)};function RL(t,e,n){var{chartData:r=[]}=e,i=n?.dataKey,a=new Map;return t.forEach(o=>{var u,f=(u=o.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var h=k1(o);f.forEach((d,p)=>{var y=i==null?p:String(Kn(d,i,null)),b=Kn(d,o.dataKey,0),w;a.has(y)?w=a.get(y):w={},Object.assign(w,{[h]:b}),a.set(y,w)})}}),Array.from(a.values())}function Iy(t){return t.stackId!=null&&t.dataKey!=null}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){gte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gte(t,e,n){return(e=yte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yte(t){var e=vte(t,"string");return typeof e=="symbol"?e:e+""}function vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var px=[0,"auto"],Yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Os=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Yr},Xr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:px,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:vy},Ho=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??Xr},bte={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},I1=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??bte},Mr=(t,e,n)=>{switch(e){case"xAxis":return Os(t,n);case"yAxis":return Ho(t,n);case"zAxis":return I1(t,n);case"angleAxis":return N1(t,n);case"radiusAxis":return j1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},_te=(t,e,n)=>{switch(e){case"xAxis":return Os(t,n);case"yAxis":return Ho(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Od=(t,e,n)=>{switch(e){case"xAxis":return Os(t,n);case"yAxis":return Ho(t,n);case"angleAxis":return N1(t,n);case"radiusAxis":return j1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},NL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function jL(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var My=t=>t.graphicalItems.cartesianItems,wte=se([Sn,ky],jL),DL=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Cd=se([My,Mr,wte],DL),kL=se([Cd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Iy)),IL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),ML=se([Cd],IL),LL=t=>t.map(e=>e.data).filter(Boolean).flat(1),xte=se([Cd],LL),UL=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},M1=se([xte,Py],UL),VL=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Kn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Kn(i,r)}))):t.map(r=>({value:r})),Ly=se([M1,Mr,Cd],VL);function $L(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function cu(t){return t.filter(e=>ja(e)||e instanceof Date).map(Number).filter(e=>ni(e)===!1)}function Ete(t,e,n){return!n||typeof e!="number"||ni(e)?[]:n.length?cu(n.flatMap(r=>{var i=Kn(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!ai(a)||!ai(o)))return[e-a,e+o]})):[]}var Ste=se([kL,Py,Mn],RL),BL=(t,e,n)=>{var r={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,u]=a,f=u.map(k1);return[o,{stackedData:wX(t,f,n),graphicalItems:u}]}))},gx=se([Ste,kL,Ny],BL),zL=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=AX(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Tte=se([gx,Fo,Sn],zL),qL=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(o=>{var u,f,h=(u=r[o.id])===null||u===void 0?void 0:u.filter(p=>$L(i,p)),d=Kn(a,(f=e.dataKey)!==null&&f!==void 0?f:o.dataKey);return{value:d,errorDomain:Ete(a,d,h)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:Kn(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),Uy=t=>t.errorBars,FL=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>$L(n,r));se([ML,Uy,Sn],FL);var Ate=se([M1,Mr,ML,Uy,Sn],qL);function Ote(t){var{value:e}=t;if(ja(e)||e instanceof Date)return e}var UN=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=cu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Cte=(t,e,n)=>{var r=t.map(Ote).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&rM(r))?O4(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},L1=t=>{var e;if(t==null||!("domain"in t))return px;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=cu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:px},jg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),u=Math.max(...a);return[o,u]}},HL=t=>t.referenceElements.dots,ef=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Pte=se([HL,Sn,ky],ef),KL=t=>t.referenceElements.areas,Rte=se([KL,Sn,ky],ef),GL=t=>t.referenceElements.lines,Nte=se([GL,Sn,ky],ef),WL=(t,e)=>{var n=cu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},jte=se(Pte,Sn,WL),YL=(t,e)=>{var n=cu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Dte=se([Rte,Sn],YL),XL=(t,e)=>{var n=cu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},kte=se(Nte,Sn,XL),Ite=se(jte,kte,Dte,(t,e,n)=>jg(t,n,e)),Mte=se([Mr],L1),QL=(t,e,n,r,i,a,o)=>{var u=Xee(e,t.allowDataOverflow);if(u!=null)return u;var f=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",h=f?jg(n,i,UN(r)):jg(i,UN(r));return Qee(e,h,t.allowDataOverflow)},Lte=se([Mr,Mte,Tte,Ate,Ite,St,Sn],QL),Ute=[0,1],JL=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:u,type:f}=t,h=Bo(e,a);return h&&u==null?O4(0,n.length):f==="category"?Cte(r,t,h):i==="expand"?Ute:o}},U1=se([Mr,St,M1,Ly,Ny,Sn,Lte],JL),ZL=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(wd(a));return u in Th?u:"point"}}},Pd=se([Mr,St,NL,C1,Sn],ZL);function Vte(t){if(t!=null){if(t in Th)return Th[t]();var e="scale".concat(wd(t));if(e in Th)return Th[e]()}}function V1(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Vte(e);if(i!=null){var a=i.domain(n).range(r);return gX(a),a}}}var e3=(t,e,n)=>{var r=L1(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Bc(t))return ote(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Bc(t))return lte(t,e.tickCount,e.allowDecimals)}},$1=se([U1,Od,Pd],e3),t3=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Bc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(o,u)]}return e},$te=se([Mr,U1,$1,Sn],t3),Bte=se(Ly,Mr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(cu(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),n3=se(Bte,St,EL,Wn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ai(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Ji(n,t*a),u=t*a/2;return u-o-(u-o)/a*o}return 0}),zte=(t,e)=>{var n=Os(t,e);return n==null||typeof n.padding!="string"?0:n3(t,"xAxis",e,n.padding)},qte=(t,e)=>{var n=Ho(t,e);return n==null||typeof n.padding!="string"?0:n3(t,"yAxis",e,n.padding)},Fte=se(Os,zte,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Hte=se(Ho,qte,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Kte=se([Wn,Fte,_y,by,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Gte=se([Wn,St,Hte,_y,by,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Rd=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Kte(t,n,r);case"yAxis":return Gte(t,n,r);case"zAxis":return(i=I1(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return OL(t);case"radiusAxis":return CL(t,n);default:return}},r3=se([Mr,Rd],jy),tf=se([Mr,Pd,$te,r3],V1);se([Cd,Uy,Sn],FL);function i3(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Vy=(t,e)=>e,$y=(t,e,n)=>n,Wte=se(XE,Vy,$y,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(i3)),Yte=se(QE,Vy,$y,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(i3)),a3=(t,e)=>({width:t.width,height:e.height}),Xte=(t,e)=>{var n=typeof e.width=="number"?e.width:vy;return{width:n,height:t.height}},s3=se(Wn,Os,a3),Qte=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Jte=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Zte=se(Ts,Wn,Wte,Vy,$y,(t,e,n,r,i)=>{var a={},o;return n.forEach(u=>{var f=a3(e,u);o==null&&(o=Qte(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;a[u.id]=o-Number(h)*f.height,o+=(h?-1:1)*f.height}),a}),ene=se(Ss,Wn,Yte,Vy,$y,(t,e,n,r,i)=>{var a={},o;return n.forEach(u=>{var f=Xte(e,u);o==null&&(o=Jte(e,r,t));var h=r==="left"&&!i||r==="right"&&i;a[u.id]=o-Number(h)*f.width,o+=(h?-1:1)*f.width}),a}),tne=(t,e)=>{var n=Wn(t),r=Os(t,e);if(r!=null){var i=Zte(t,r.orientation,r.mirror),a=i[e];return a==null?{x:n.left,y:0}:{x:n.left,y:a}}},nne=(t,e)=>{var n=Wn(t),r=Ho(t,e);if(r!=null){var i=ene(t,r.orientation,r.mirror),a=i[e];return a==null?{x:0,y:n.top}:{x:a,y:n.top}}},o3=se(Wn,Ho,(t,e)=>{var n=typeof e.width=="number"?e.width:vy;return{width:n,height:t.height}}),VN=(t,e,n)=>{switch(e){case"xAxis":return s3(t,n).width;case"yAxis":return o3(t,n).height;default:return}},l3=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,u=Bo(t,r),f=e.map(h=>h.value);if(o&&u&&a==="category"&&i&&rM(f))return f}},B1=se([St,Ly,Mr,Sn],l3),u3=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Bo(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},z1=se([St,Ly,Od,Sn],u3),$N=se([St,_te,Pd,tf,B1,z1,Rd,$1,Sn],(t,e,n,r,i,a,o,u,f)=>{if(e==null)return null;var h=Bo(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:u,range:o,realScaleType:n,scale:r}}),rne=(t,e,n,r,i,a,o,u,f)=>{if(!(e==null||r==null)){var h=Bo(t,f),{type:d,ticks:p,tickCount:y}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=d==="category"&&r.bandwidth?r.bandwidth()/b:0;w=f==="angleAxis"&&a!=null&&a.length>=2?Dr(a[0]-a[1])*2*w:w;var x=p||i;if(x){var S=x.map((A,R)=>{var C=o?o.indexOf(A):A;return{index:R,coordinate:r(C)+w,value:A,offset:w}});return S.filter(A=>!ni(A.coordinate))}return h&&u?u.map((A,R)=>({coordinate:r(A)+w,value:A,index:R,offset:w})):r.ticks?r.ticks(y).map(A=>({coordinate:r(A)+w,value:A,offset:w})):r.domain().map((A,R)=>({coordinate:r(A)+w,value:o?o[A]:A,index:R,offset:w}))}},c3=se([St,Od,Pd,tf,$1,Rd,B1,z1,Sn],rne),ine=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Bo(t,o),{tickCount:f}=e,h=0;return h=o==="angleAxis"&&r?.length>=2?Dr(r[0]-r[1])*2*h:h,u&&a?a.map((d,p)=>({coordinate:n(d)+h,value:d,index:p,offset:h})):n.ticks?n.ticks(f).map(d=>({coordinate:n(d)+h,value:d,offset:h})):n.domain().map((d,p)=>({coordinate:n(d)+h,value:i?i[d]:d,index:p,offset:h}))}},Io=se([St,Od,tf,Rd,B1,z1,Sn],ine),Mo=se(Mr,tf,(t,e)=>{if(!(t==null||e==null))return Ng(Ng({},t),{},{scale:e})}),ane=se([Mr,Pd,U1,r3],V1);se((t,e,n)=>I1(t,n),ane,(t,e)=>{if(!(t==null||e==null))return Ng(Ng({},t),{},{scale:e})});var sne=se([St,XE,QE],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),f3=t=>t.options.defaultTooltipEventType,h3=t=>t.options.validateTooltipEventTypes;function d3(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function q1(t,e){var n=f3(t),r=h3(t);return d3(e,n,r)}function one(t){return Le(e=>q1(e,t))}var m3=(t,e)=>{var n,r=Number(e);if(!(ni(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},lne=t=>t.tooltip.settings,bo={active:!1,index:null,dataKey:void 0,coordinate:void 0},une={itemInteraction:{click:bo,hover:bo},axisInteraction:{click:bo,hover:bo},keyboardInteraction:bo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},p3=si({name:"tooltip",initialState:une,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=hs(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:cne,removeTooltipEntrySettings:fne,setTooltipSettingsState:hne,setActiveMouseOverItemIndex:g3,mouseLeaveItem:dne,mouseLeaveChart:y3,setActiveClickItemIndex:mne,setMouseOverAxisIndex:v3,setMouseClickAxisIndex:pne,setSyncInteraction:yx,setKeyboardInteraction:vx}=p3.actions,gne=p3.reducer;function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(r){yne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yne(t,e,n){return(e=vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=bne(t,"string");return typeof e=="symbol"?e:e+""}function bne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ne(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function wne(t){return t.index!=null}var b3=(t,e,n,r)=>{if(e==null)return bo;var i=_ne(t,e,n);if(i==null)return bo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(wne(i)){if(a)return vp(vp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return vp(vp({},bo),{},{coordinate:i.coordinate})},F1=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!ai(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},_3=(t,e,n,r,i,a,o,u)=>{if(!(a==null||u==null)){var f=o[0],h=f==null?void 0:u(f.positions,a);if(h!=null)return h;var d=i?.[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},w3=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Nd=t=>t.options.tooltipPayloadSearcher,nf=t=>t.tooltip;function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){xne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xne(t,e,n){return(e=Ene(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ene(t){var e=Sne(t,"string");return typeof e=="symbol"?e:e+""}function Sne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tne(t,e){return t??e}var x3=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:d}=n,p=[];return t.reduce((y,b)=>{var w,{dataDefinedOnItem:x,settings:S}=b,A=Tne(x,u),R=Array.isArray(A)?l4(A,h,d):A,C=(w=S?.dataKey)!==null&&w!==void 0?w:r?.dataKey,L=S?.nameKey,U;if(r!=null&&r.dataKey&&Array.isArray(R)&&!Array.isArray(R[0])&&o==="axis"?U=iM(R,r.dataKey,i):U=a(R,e,f,L),Array.isArray(U))U.forEach(j=>{var k=qN(qN({},S),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});y.push(x2({tooltipEntrySettings:k,dataKey:j.dataKey,payload:j.payload,value:Kn(j.payload,j.dataKey),name:j.name}))});else{var D;y.push(x2({tooltipEntrySettings:S,dataKey:C,payload:U,value:Kn(U,C),name:(D=Kn(U,L))!==null&&D!==void 0?D:S?.name}))}return y},p)}},H1=se([Mn,St,NL,C1,In],ZL),Ane=se([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),One=se([In,Zc],jL),jd=se([Ane,Mn,One],DL),Cne=se([jd],t=>t.filter(Iy)),Pne=se([jd],LL),rf=se([Pne,Fo],UL),Rne=se([Cne,Fo,Mn],RL),K1=se([rf,Mn,jd],VL),Nne=se([Mn],L1),jne=se([jd],t=>t.filter(Iy)),Dne=se([Rne,jne,Ny],BL),kne=se([Dne,Fo,In],zL),Ine=se([jd],IL),Mne=se([rf,Mn,Ine,Uy,In],qL),Lne=se([HL,In,Zc],ef),Une=se([Lne,In],WL),Vne=se([KL,In,Zc],ef),$ne=se([Vne,In],YL),Bne=se([GL,In,Zc],ef),zne=se([Bne,In],XL),qne=se([Une,zne,$ne],jg),Fne=se([Mn,Nne,kne,Mne,qne,St,In],QL),E3=se([Mn,St,rf,K1,Ny,In,Fne],JL),Hne=se([E3,Mn,H1],e3),Kne=se([Mn,E3,Hne,In],t3),S3=t=>{var e=In(t),n=Zc(t),r=!1;return Rd(t,e,n,r)},T3=se([Mn,S3],jy),A3=se([Mn,H1,Kne,T3],V1),Gne=se([St,K1,Mn,In],l3),Wne=se([St,K1,Mn,In],u3),Yne=(t,e,n,r,i,a,o,u)=>{if(e){var{type:f}=e,h=Bo(t,u);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=f==="category"&&r.bandwidth?r.bandwidth()/d:0;return p=u==="angleAxis"&&i!=null&&i?.length>=2?Dr(i[0]-i[1])*2*p:p,h&&o?o.map((y,b)=>({coordinate:r(y)+p,value:y,index:b,offset:p})):r.domain().map((y,b)=>({coordinate:r(y)+p,value:a?a[y]:y,index:b,offset:p}))}}},Cs=se([St,Mn,H1,A3,S3,Gne,Wne,In],Yne),G1=se([f3,h3,lne],(t,e,n)=>d3(n.shared,t,e)),O3=t=>t.tooltip.settings.trigger,W1=t=>t.tooltip.settings.defaultIndex,By=se([nf,G1,O3,W1],b3),Ql=se([By,rf],F1),C3=se([Cs,Ql],m3),P3=se([By],t=>{if(t)return t.dataKey}),R3=se([nf,G1,O3,W1],w3),Xne=se([Ss,Ts,St,Wn,Cs,W1,R3,Nd],_3),Qne=se([By,Xne],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Jne=se([By],t=>t.active),Zne=se([R3,Ql,Fo,Mn,C3,Nd,G1],x3),ere=se([Zne],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tre(t,e,n){return(e=nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nre(t){var e=rre(t,"string");return typeof e=="symbol"?e:e+""}function rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ire=()=>Le(Mn),are=()=>{var t=ire(),e=Le(Cs),n=Le(A3);return td(HN(HN({},t),{},{scale:n}),e)},sre=()=>Le(C1),Y1=(t,e)=>e,N3=(t,e,n)=>n,X1=(t,e,n,r)=>r,ore=se(Cs,t=>cy(t,e=>e.coordinate)),Q1=se([nf,Y1,N3,X1],b3),j3=se([Q1,rf],F1),lre=(t,e,n)=>{if(e!=null){var r=nf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},D3=se([nf,Y1,N3,X1],w3),Dg=se([Ss,Ts,St,Wn,Cs,X1,D3,Nd],_3),ure=se([Q1,Dg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),k3=se(Cs,j3,m3),cre=se([D3,j3,Fo,Mn,k3,Nd,Y1],x3),fre=se([Q1],t=>({isActive:t.active,activeIndex:t.index})),hre=(t,e,n,r,i,a,o,u)=>{if(!(!t||!e||!r||!i||!a)){var f=OX(t.chartX,t.chartY,e,n,u);if(f){var h=PX(f,e),d=mX(h,o,a,r,i),p=CX(e,a,d,f);return{activeIndex:String(d),activeCoordinate:p}}}};function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bx.apply(null,arguments)}function KN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(n),!0).forEach(function(r){dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dre(t,e,n){return(e=mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=pre(t,"string");return typeof e=="symbol"?e:e+""}function pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gre(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:u,tooltipEventType:f,chartName:h}=t,d=e,p=n,y=r;if(!u||!d||h!=="ScatterChart"&&f!=="axis")return null;var b,w;if(h==="ScatterChart")b=d,w=RQ;else if(h==="BarChart")b=NQ(o,d,i,a),w=E4;else if(o==="radial"){var{cx:x,cy:S,radius:A,startAngle:R,endAngle:C}=S4(d);b={cx:x,cy:S,startAngle:R,endAngle:C,innerRadius:A,outerRadius:A},w=A4}else b={points:pJ(o,d,i)},w=g4;var L=typeof u=="object"&&"className"in u?u.className:void 0,U=bp(bp(bp(bp({stroke:"#ccc",pointerEvents:"none"},i),b),on(u,!1)),{},{payload:p,payloadIndex:y,className:jt("recharts-tooltip-cursor",L)});return O.isValidElement(u)?O.cloneElement(u,U):O.createElement(w,U)}function yre(t){var e=are(),n=d4(),r=wy(),i=sre();return O.createElement(gre,bx({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var I3=O.createContext(null),vre=()=>O.useContext(I3),D_={exports:{}},GN;function bre(){return GN||(GN=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,d){this.fn=f,this.context=h,this.once=d||!1}function a(f,h,d,p,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var b=new i(d,p||f,y),w=n?n+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function o(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],d,p;if(this._eventsCount===0)return h;for(p in d=this._events)e.call(d,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},u.prototype.listeners=function(h){var d=n?n+h:h,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,w=new Array(b);y<b;y++)w[y]=p[y].fn;return w},u.prototype.listenerCount=function(h){var d=n?n+h:h,p=this._events[d];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,d,p,y,b,w){var x=n?n+h:h;if(!this._events[x])return!1;var S=this._events[x],A=arguments.length,R,C;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),A){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,d),!0;case 3:return S.fn.call(S.context,d,p),!0;case 4:return S.fn.call(S.context,d,p,y),!0;case 5:return S.fn.call(S.context,d,p,y,b),!0;case 6:return S.fn.call(S.context,d,p,y,b,w),!0}for(C=1,R=new Array(A-1);C<A;C++)R[C-1]=arguments[C];S.fn.apply(S.context,R)}else{var L=S.length,U;for(C=0;C<L;C++)switch(S[C].once&&this.removeListener(h,S[C].fn,void 0,!0),A){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,d);break;case 3:S[C].fn.call(S[C].context,d,p);break;case 4:S[C].fn.call(S[C].context,d,p,y);break;default:if(!R)for(U=1,R=new Array(A-1);U<A;U++)R[U-1]=arguments[U];S[C].fn.apply(S[C].context,R)}}return!0},u.prototype.on=function(h,d,p){return a(this,h,d,p,!1)},u.prototype.once=function(h,d,p){return a(this,h,d,p,!0)},u.prototype.removeListener=function(h,d,p,y){var b=n?n+h:h;if(!this._events[b])return this;if(!d)return o(this,b),this;var w=this._events[b];if(w.fn)w.fn===d&&(!y||w.once)&&(!p||w.context===p)&&o(this,b);else{for(var x=0,S=[],A=w.length;x<A;x++)(w[x].fn!==d||y&&!w[x].once||p&&w[x].context!==p)&&S.push(w[x]);S.length?this._events[b]=S.length===1?S[0]:S:o(this,b)}return this},u.prototype.removeAllListeners=function(h){var d;return h?(d=n?n+h:h,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(D_)),D_.exports}var _re=bre();const wre=ea(_re);var ld=new wre,_x="recharts.syncEvent.tooltip",WN="recharts.syncEvent.brush";function M3(t,e){if(e){var n=Number.parseInt(e,10);if(!ni(n))return t?.[n]}}var xre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},L3=si({name:"options",initialState:xre,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ere=L3.reducer,{createEventEmitter:Sre}=L3.actions;function Tre(t){return t.tooltip.syncInteraction}var Are={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},U3=si({name:"chartData",initialState:Are,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:YN,setDataStartEndIndexes:Ore,setComputedData:tce}=U3.actions,Cre=U3.reducer,V3=()=>{};function Pre(){var t=Le(P1),e=Le(R1),n=En(),r=Le(SL),i=Le(Cs),a=wy(),o=JE(),u=Le(f=>f.rootProps.className);O.useEffect(()=>{if(t==null)return V3;var f=(h,d,p)=>{if(e!==p&&t===h){if(r==="index"){n(d);return}if(i!=null){var y;if(typeof r=="function"){var b={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},w=r(i,b);y=i[w]}else r==="value"&&(y=i.find(D=>String(D.value)===d.payload.label));var{coordinate:x}=d.payload;if(y==null||d.payload.active===!1||x==null||o==null){n(yx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:A}=x,R=Math.min(S,o.x+o.width),C=Math.min(A,o.y+o.height),L={x:a==="horizontal"?y.coordinate:R,y:a==="horizontal"?C:y.coordinate},U=yx({active:d.payload.active,coordinate:L,dataKey:d.payload.dataKey,index:String(y.index),label:d.payload.label});n(U)}}};return ld.on(_x,f),()=>{ld.off(_x,f)}},[u,n,e,t,r,i,a,o])}function Rre(){var t=Le(P1),e=Le(R1),n=En();O.useEffect(()=>{if(t==null)return V3;var r=(i,a,o)=>{e!==o&&t===i&&n(Ore(a))};return ld.on(WN,r),()=>{ld.off(WN,r)}},[n,e,t])}function Nre(){var t=En();O.useEffect(()=>{t(Sre())},[t]),Pre(),Rre()}function jre(t,e,n,r,i,a){var o=Le(y=>lre(y,t,e)),u=Le(R1),f=Le(P1),h=Le(SL),d=Le(Tre),p=d?.active;O.useEffect(()=>{if(!p&&f!=null&&u!=null){var y=yx({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});ld.emit(_x,f,y,u)}},[p,n,o,i,r,u,f,h,a])}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){Dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dre(t,e,n){return(e=kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kre(t){var e=Ire(t,"string");return typeof e=="symbol"?e:e+""}function Ire(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mre(t){return t.dataKey}function Lre(t,e){return O.isValidElement(t)?O.cloneElement(t,e):typeof t=="function"?O.createElement(t,e):O.createElement(lQ,e)}var JN=[],Ure={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Yc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function J1(t){var e=Ia(t,Ure),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:u,isAnimationActive:f,offset:h,payloadUniqBy:d,position:p,reverseDirection:y,useTranslate3d:b,wrapperStyle:w,cursor:x,shared:S,trigger:A,defaultIndex:R,portal:C,axisId:L}=e,U=En(),D=typeof R=="number"?String(R):R;O.useEffect(()=>{U(hne({shared:S,trigger:A,axisId:L,active:n,defaultIndex:D}))},[U,S,A,L,n,D]);var j=JE(),k=p4(),M=one(S),{activeIndex:V,isActive:z}=Le(Ue=>fre(Ue,M,A,D)),q=Le(Ue=>cre(Ue,M,A,D)),$=Le(Ue=>k3(Ue,M,A,D)),ve=Le(Ue=>ure(Ue,M,A,D)),we=q,G=vre(),re=n??z,[pe,xe]=LM([we,re]),H=M==="axis"?$:void 0;jre(M,A,ve,H,V,re);var oe=C??G;if(oe==null)return null;var ie=we??JN;re||(ie=JN),u&&ie.length&&(ie=jM(we.filter(Ue=>Ue.value!=null&&(Ue.hide!==!0||e.includeHidden)),d,Mre));var me=ie.length>0,Ae=O.createElement(pQ,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:f,active:re,coordinate:ve,hasPayload:me,offset:h,position:p,reverseDirection:y,useTranslate3d:b,viewBox:j,wrapperStyle:w,lastBoundingBox:pe,innerRef:xe,hasPortalFromProps:!!C},Lre(o,QN(QN({},e),{},{payload:ie,label:H,active:re,coordinate:ve,accessibilityLayer:k})));return O.createElement(O.Fragment,null,$x.createPortal(Ae,oe),re&&O.createElement(yre,{cursor:x,tooltipEventType:M,coordinate:ve,payload:we,index:V}))}var k_={},I_={},M_={},ZN;function Vre(){return ZN||(ZN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,u=null;const f=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),d=()=>{u!==null&&(n.apply(o,u),o=void 0,u=null)},p=()=>{h&&d(),x()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},w=()=>{y!==null&&(clearTimeout(y),y=null)},x=()=>{w(),o=void 0,u=null},S=()=>{d()},A=function(...R){if(i?.aborted)return;o=this,u=R;const C=y==null;b(),f&&C&&d()};return A.schedule=b,A.cancel=x,A.flush=S,i?.addEventListener("abort",x,{once:!0}),A}t.debounce=e})(M_)),M_}var ej;function $re(){return ej||(ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vre();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:u=!0,maxWait:f}=a,h=Array(2);o&&(h[0]="leading"),u&&(h[1]="trailing");let d,p=null;const y=e.debounce(function(...x){d=r.apply(this,x),p=null},i,{edges:h}),b=function(...x){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(d=r.apply(this,x),p=Date.now(),y.cancel(),y.schedule(),d):(y.apply(this,x),d)},w=()=>(y.flush(),d);return b.cancel=y.cancel,b.flush=w,b}t.debounce=n})(I_)),I_}var tj;function Bre(){return tj||(tj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$re();function n(r,i=0,a={}){const{leading:o=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:u})}t.throttle=n})(k_)),k_}var L_,nj;function zre(){return nj||(nj=1,L_=Bre().throttle),L_}var qre=zre();const Fre=ea(qre);var Ih=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rj(Object(n),!0).forEach(function(r){Hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hre(t,e,n){return(e=Kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kre(t){var e=Gre(t,"string");return typeof e=="symbol"?e:e+""}function Gre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zy=O.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:u,maxHeight:f,children:h,debounce:d=0,id:p,className:y,onResize:b,style:w={}}=t,x=O.useRef(null),S=O.useRef();S.current=b,O.useImperativeHandle(e,()=>x.current);var[A,R]=O.useState({containerWidth:r.width,containerHeight:r.height}),C=O.useCallback((U,D)=>{R(j=>{var k=Math.round(U),M=Math.round(D);return j.containerWidth===k&&j.containerHeight===M?j:{containerWidth:k,containerHeight:M}})},[]);O.useEffect(()=>{var U=M=>{var V,{width:z,height:q}=M[0].contentRect;C(z,q),(V=S.current)===null||V===void 0||V.call(S,z,q)};d>0&&(U=Fre(U,d,{trailing:!0,leading:!1}));var D=new ResizeObserver(U),{width:j,height:k}=x.current.getBoundingClientRect();return C(j,k),D.observe(x.current),()=>{D.disconnect()}},[C,d]);var L=O.useMemo(()=>{var{containerWidth:U,containerHeight:D}=A;if(U<0||D<0)return null;Ih(kl(i)||kl(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Ih(!n||n>0,"The aspect(%s) must be greater than zero.",n);var j=kl(i)?U:i,k=kl(a)?D:a;return n&&n>0&&(j?k=j/n:k&&(j=k*n),f&&k>f&&(k=f)),Ih(j>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,k,i,a,o,u,n),O.Children.map(h,M=>O.cloneElement(M,{width:j,height:k,style:U_({width:j,height:k},M.props.style)}))},[n,h,a,f,u,o,A,i]);return O.createElement("div",{id:p?"".concat(p):void 0,className:jt("recharts-responsive-container",y),style:U_(U_({},w),{},{width:i,height:a,minWidth:o,minHeight:u,maxHeight:f}),ref:x},O.createElement("div",{style:{width:0,height:0,overflow:"visible"}},L))}),$3=t=>null;$3.displayName="Cell";function Wre(t,e,n){return(e=Yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Xre(t,"string");return typeof e=="symbol"?e:e+""}function Xre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Qre{constructor(e){Wre(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(n),!0).forEach(function(r){Zre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zre(t,e,n){return(e=eie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eie(t){var e=tie(t,"string");return typeof e=="symbol"?e:e+""}function tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nie={cacheSize:2e3,enableCache:!0},B3=Jre({},nie),aj=new Qre(B3.cacheSize),rie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sj="recharts_measurement_span";function iie(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(u)}var oj=(t,e)=>{try{var n=document.getElementById(sj);n||(n=document.createElement("span"),n.setAttribute("id",sj),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,rie,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Mh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Yc.isSsr)return{width:0,height:0};if(!B3.enableCache)return oj(e,n);var r=iie(e,n),i=aj.get(r);if(i)return i;var a=oj(e,n);return aj.set(r,a),a},lj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,z3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oie=Object.keys(z3),gc="NaN";function lie(t,e){return t*z3[e]}class Rr{static parse(e){var n,[,r,i]=(n=sie.exec(e))!==null&&n!==void 0?n:[];return new Rr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ni(e)&&(this.unit=""),n!==""&&!aie.test(n)&&(this.num=NaN,this.unit=""),oie.includes(n)&&(this.num=lie(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Rr(NaN,""):new Rr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Rr(NaN,""):new Rr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Rr(NaN,""):new Rr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Rr(NaN,""):new Rr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ni(this.num)}}function q3(t){if(t.includes(gc))return gc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=lj.exec(e))!==null&&n!==void 0?n:[],o=Rr.parse(r??""),u=Rr.parse(a??""),f=i==="*"?o.multiply(u):o.divide(u);if(f.isNaN())return gc;e=e.replace(lj,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,d,p,y]=(h=uj.exec(e))!==null&&h!==void 0?h:[],b=Rr.parse(d??""),w=Rr.parse(y??""),x=p==="+"?b.add(w):b.subtract(w);if(x.isNaN())return gc;e=e.replace(uj,x.toString())}return e}var cj=/\(([^()]*)\)/;function uie(t){for(var e=t,n;(n=cj.exec(e))!=null;){var[,r]=n;e=e.replace(cj,q3(r))}return e}function cie(t){var e=t.replace(/\s+/g,"");return e=uie(e),e=q3(e),e}function fie(t){try{return cie(t)}catch{return gc}}function V_(t){var e=fie(t.slice(5,-1));return e===gc?"":e}var hie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],die=["dx","dy","angle","className","breakAll"];function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(null,arguments)}function fj(t,e){if(t==null)return{};var n,r,i=mie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var F3=/[ \f\n\r\t\v\u2028\u2029]+/,H3=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Gt(e)||(n?i=e.toString().split(""):i=e.toString().split(F3));var a=i.map(u=>({word:u,width:Mh(u,r).width})),o=n?0:Mh(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},pie=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:u,breakAll:f}=t,h=Pe(a),d=o,p=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((q,$)=>{var{word:ve,width:we}=$,G=q[q.length-1];if(G&&(r==null||i||G.width+we+n<Number(r)))G.words.push(ve),G.width+=we+n;else{var re={words:[ve],width:we};q.push(re)}return q},[])},y=p(e),b=V=>V.reduce((z,q)=>z.width>q.width?z:q);if(!h||i)return y;var w=y.length>a||b(y).width>Number(r);if(!w)return y;for(var x="…",S=V=>{var z=d.slice(0,V),q=H3({breakAll:f,style:u,children:z+x}).wordsWithComputedWidth,$=p(q),ve=$.length>a||b($).width>Number(r);return[ve,$]},A=0,R=d.length-1,C=0,L;A<=R&&C<=d.length-1;){var U=Math.floor((A+R)/2),D=U-1,[j,k]=S(D),[M]=S(U);if(!j&&!M&&(A=U+1),j&&M&&(R=U-1),!j&&M){L=k;break}C++}return L||y},hj=t=>{var e=Gt(t)?[]:t.toString().split(F3);return[{words:e}]},gie=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!Yc.isSsr){var u,f,h=H3({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:d,spaceWidth:p}=h;u=d,f=p}else return hj(r);return pie({breakAll:a,children:r,maxLines:o,style:i},u,f,e,n)}return hj(r)},dj="#808080",Z1=O.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:u="start",verticalAnchor:f="end",fill:h=dj}=t,d=fj(t,hie),p=O.useMemo(()=>gie({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:y,dy:b,angle:w,className:x,breakAll:S}=d,A=fj(d,die);if(!ja(n)||!ja(r))return null;var R=n+(Pe(y)?y:0),C=r+(Pe(b)?b:0),L;switch(f){case"start":L=V_("calc(".concat(a,")"));break;case"middle":L=V_("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:L=V_("calc(".concat(p.length-1," * -").concat(i,")"));break}var U=[];if(o){var D=p[0].width,{width:j}=d;U.push("scale(".concat(Pe(j)?j/D:1,")"))}return w&&U.push("rotate(".concat(w,", ").concat(R,", ").concat(C,")")),U.length&&(A.transform=U.join(" ")),O.createElement("text",wx({},on(A,!0),{ref:e,x:R,y:C,className:jt("recharts-text",x),textAnchor:u,fill:h.includes("url")?dj:h}),p.map((k,M)=>{var V=k.words.join(S?"":" ");return O.createElement("tspan",{x:R,dy:M===0?L:i,key:"".concat(V,"-").concat(M)},V)}))});Z1.displayName="Text";var yie=["offset"],vie=["labelRef"];function mj(t,e){if(t==null)return{};var n,r,i=bie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(n),!0).forEach(function(r){_ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ie(t,e,n){return(e=wie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wie(t){var e=xie(t,"string");return typeof e=="symbol"?e:e+""}function xie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function os(){return os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},os.apply(null,arguments)}var Eie=t=>{var{value:e,formatter:n}=t,r=Gt(t.children)?e:t.children;return typeof n=="function"?n(r):r},eS=t=>t!=null&&typeof t=="function",Sie=(t,e)=>{var n=Dr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Tie=(t,e,n,r)=>{var{position:i,offset:a,className:o}=t,{cx:u,cy:f,innerRadius:h,outerRadius:d,startAngle:p,endAngle:y,clockWise:b}=r,w=(h+d)/2,x=Sie(p,y),S=x>=0?1:-1,A,R;i==="insideStart"?(A=p+S*a,R=b):i==="insideEnd"?(A=y-S*a,R=!b):i==="end"&&(A=y+S*a,R=b),R=x<=0?R:!R;var C=sr(u,f,w,A),L=sr(u,f,w,A+(R?1:-1)*359),U="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(R?0:1,`,
    `).concat(L.x,",").concat(L.y),D=Gt(t.id)?Jh("recharts-radial-line-"):t.id;return O.createElement("text",os({},n,{dominantBaseline:"central",className:jt("recharts-radial-bar-label",o)}),O.createElement("defs",null,O.createElement("path",{id:D,d:U})),O.createElement("textPath",{xlinkHref:"#".concat(D)},e))},Aie=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}=t,h=(u+f)/2;if(n==="outside"){var{x:d,y:p}=sr(r,i,o+e,h);return{x:d,y:p,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+o)/2,{x:b,y:w}=sr(r,i,y,h);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Oie=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:a,y:o,width:u,height:f}=e,h=f>=0?1:-1,d=h*r,p=h>0?"end":"start",y=h>0?"start":"end",b=u>=0?1:-1,w=b*r,x=b>0?"end":"start",S=b>0?"start":"end";if(i==="top"){var A={x:a+u/2,y:o-h*r,textAnchor:"middle",verticalAnchor:p};return sn(sn({},A),n?{height:Math.max(o-n.y,0),width:u}:{})}if(i==="bottom"){var R={x:a+u/2,y:o+f+d,textAnchor:"middle",verticalAnchor:y};return sn(sn({},R),n?{height:Math.max(n.y+n.height-(o+f),0),width:u}:{})}if(i==="left"){var C={x:a-w,y:o+f/2,textAnchor:x,verticalAnchor:"middle"};return sn(sn({},C),n?{width:Math.max(C.x-n.x,0),height:f}:{})}if(i==="right"){var L={x:a+u+w,y:o+f/2,textAnchor:S,verticalAnchor:"middle"};return sn(sn({},L),n?{width:Math.max(n.x+n.width-L.x,0),height:f}:{})}var U=n?{width:u,height:f}:{};return i==="insideLeft"?sn({x:a+w,y:o+f/2,textAnchor:S,verticalAnchor:"middle"},U):i==="insideRight"?sn({x:a+u-w,y:o+f/2,textAnchor:x,verticalAnchor:"middle"},U):i==="insideTop"?sn({x:a+u/2,y:o+d,textAnchor:"middle",verticalAnchor:y},U):i==="insideBottom"?sn({x:a+u/2,y:o+f-d,textAnchor:"middle",verticalAnchor:p},U):i==="insideTopLeft"?sn({x:a+w,y:o+d,textAnchor:S,verticalAnchor:y},U):i==="insideTopRight"?sn({x:a+u-w,y:o+d,textAnchor:x,verticalAnchor:y},U):i==="insideBottomLeft"?sn({x:a+w,y:o+f-d,textAnchor:S,verticalAnchor:p},U):i==="insideBottomRight"?sn({x:a+u-w,y:o+f-d,textAnchor:x,verticalAnchor:p},U):i&&typeof i=="object"&&(Pe(i.x)||kl(i.x))&&(Pe(i.y)||kl(i.y))?sn({x:a+Ji(i.x,u),y:o+Ji(i.y,f),textAnchor:"end",verticalAnchor:"end"},U):sn({x:a+u/2,y:o+f/2,textAnchor:"middle",verticalAnchor:"middle"},U)},Cie=t=>"cx"in t&&Pe(t.cx);function Zr(t){var{offset:e=5}=t,n=mj(t,yie),r=sn({offset:e},n),{viewBox:i,position:a,value:o,children:u,content:f,className:h="",textBreakAll:d,labelRef:p}=r,y=Le(PL),b=JE(),w=a==="center"?b:y??b,x=i||w;if(!x||Gt(o)&&Gt(u)&&!O.isValidElement(f)&&typeof f!="function")return null;var S=sn(sn({},r),{},{viewBox:x});if(O.isValidElement(f)){var{labelRef:A}=S,R=mj(S,vie);return O.cloneElement(f,R)}var C;if(typeof f=="function"){if(C=O.createElement(f,S),O.isValidElement(C))return C}else C=Eie(r);var L=Cie(x),U=on(r,!0);if(L&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Tie(r,C,U,x);var D=L?Aie(x,r.offset,r.position):Oie(r,x);return O.createElement(Z1,os({ref:p,className:jt("recharts-label",h)},U,D,{breakAll:d}),C)}Zr.displayName="Label";var K3=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:a,r:o,radius:u,innerRadius:f,outerRadius:h,x:d,y:p,top:y,left:b,width:w,height:x,clockWise:S,labelViewBox:A}=t;if(A)return A;if(Pe(w)&&Pe(x)){if(Pe(d)&&Pe(p))return{x:d,y:p,width:w,height:x};if(Pe(y)&&Pe(b))return{x:y,y:b,width:w,height:x}}if(Pe(d)&&Pe(p))return{x:d,y:p,width:0,height:0};if(Pe(e)&&Pe(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:f||0,outerRadius:h||u||o||0,clockWise:S};if(t.viewBox)return t.viewBox},Pie=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?O.createElement(Zr,os({key:"label-implicit"},r)):ja(t)?O.createElement(Zr,os({key:"label-implicit",value:t},r)):O.isValidElement(t)?t.type===Zr?O.cloneElement(t,sn({key:"label-implicit"},r)):O.createElement(Zr,os({key:"label-implicit",content:t},r)):eS(t)?O.createElement(Zr,os({key:"label-implicit",content:t},r)):t&&typeof t=="object"?O.createElement(Zr,os({},t,{key:"label-implicit"},r)):null},Rie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:a}=e,o=K3(e),u=NE(i,Zr).map((h,d)=>O.cloneElement(h,{viewBox:n||o,key:"label-".concat(d)}));if(!r)return u;var f=Pie(e.label,n||o,a);return[f,...u]};Zr.parseViewBox=K3;Zr.renderCallByParent=Rie;var $_={},B_={},gj;function Nie(){return gj||(gj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(B_)),B_}var z_={},yj;function jie(){return yj||(yj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(z_)),z_}var vj;function Die(){return vj||(vj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nie(),n=jie(),r=VE();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})($_)),$_}var q_,bj;function kie(){return bj||(bj=1,q_=Die().last),q_}var Iie=kie();const Mie=ea(Iie);var Lie=["valueAccessor"],Uie=["data","dataKey","clockWise","id","textBreakAll"];function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(null,arguments)}function _j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_j(Object(n),!0).forEach(function(r){Vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vie(t,e,n){return(e=$ie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ie(t){var e=Bie(t,"string");return typeof e=="symbol"?e:e+""}function Bie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xj(t,e){if(t==null)return{};var n,r,i=zie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qie=t=>Array.isArray(t.value)?Mie(t.value):t.value;function Pa(t){var{valueAccessor:e=qie}=t,n=xj(t,Lie),{data:r,dataKey:i,clockWise:a,id:o,textBreakAll:u}=n,f=xj(n,Uie);return!r||!r.length?null:O.createElement(Zi,{className:"recharts-label-list"},r.map((h,d)=>{var p=Gt(i)?e(h,d):Kn(h&&h.payload,i),y=Gt(o)?{}:{id:"".concat(o,"-").concat(d)};return O.createElement(Zr,kg({},on(h,!0),f,y,{parentViewBox:h.parentViewBox,value:p,textBreakAll:u,viewBox:Zr.parseViewBox(Gt(a)?h:wj(wj({},h),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Pa.displayName="LabelList";function Fie(t,e){return t?t===!0?O.createElement(Pa,{key:"labelList-implicit",data:e}):O.isValidElement(t)||eS(t)?O.createElement(Pa,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?O.createElement(Pa,kg({data:e},t,{key:"labelList-implicit"})):null:null}function Hie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=NE(r,Pa).map((o,u)=>O.cloneElement(o,{data:e,key:"labelList-".concat(u)}));if(!n)return i;var a=Fie(t.label,e);return[a,...i]}Pa.renderCallByParent=Hie;function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xx.apply(null,arguments)}var G3=t=>{var{cx:e,cy:n,r,className:i}=t,a=jt("recharts-dot",i);return e===+e&&n===+n&&r===+r?O.createElement("circle",xx({},ou(t),RE(t),{className:a,cx:e,cy:n,r})):null},Kie={radiusAxis:{},angleAxis:{}},W3=si({name:"polarAxis",initialState:Kie,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:nce,removeRadiusAxis:rce,addAngleAxis:ice,removeAngleAxis:ace}=W3.actions,Gie=W3.reducer,F_={},Ej;function Wie(){return Ej||(Ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(F_)),F_}var H_,Sj;function Yie(){return Sj||(Sj=1,H_=Wie().isPlainObject),H_}var Xie=Yie();const Qie=ea(Xie);function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(null,arguments)}var Tj=(t,e,n,r,i)=>{var a=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},Jie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zie=t=>{var e=Ia(t,Jie),n=O.useRef(),[r,i]=O.useState(-1);O.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&i(S)}catch{}},[]);var{x:a,y:o,upperWidth:u,lowerWidth:f,height:h,className:d}=e,{animationEasing:p,animationDuration:y,animationBegin:b,isUpdateAnimationActive:w}=e;if(a!==+a||o!==+o||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var x=jt("recharts-trapezoid",d);return w?O.createElement(bg,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:h,x:a,y:o},to:{upperWidth:u,lowerWidth:f,height:h,x:a,y:o},duration:y,animationEasing:p,isActive:w},S=>{var{upperWidth:A,lowerWidth:R,height:C,x:L,y:U}=S;return O.createElement(bg,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:p},O.createElement("path",Ig({},on(e,!0),{className:x,d:Tj(L,U,A,R,C),ref:n})))}):O.createElement("g",null,O.createElement("path",Ig({},on(e,!0),{className:x,d:Tj(a,o,u,f,h)})))},eae=["option","shapeType","propTransformer","activeClassName","isActive"];function tae(t,e){if(t==null)return{};var n,r,i=nae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach(function(r){rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rae(t,e,n){return(e=iae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iae(t){var e=aae(t,"string");return typeof e=="symbol"?e:e+""}function aae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sae(t,e){return Mg(Mg({},e),t)}function oae(t,e){return t==="symbols"}function Oj(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return O.createElement(E4,n);case"trapezoid":return O.createElement(Zie,n);case"sector":return O.createElement(A4,n);case"symbols":if(oae(e))return O.createElement(ME,n);break;default:return null}}function lae(t){return O.isValidElement(t)?t.props:t}function uae(t){var{option:e,shapeType:n,propTransformer:r=sae,activeClassName:i="recharts-active-shape",isActive:a}=t,o=tae(t,eae),u;if(O.isValidElement(e))u=O.cloneElement(e,Mg(Mg({},o),lae(e)));else if(typeof e=="function")u=e(o);else if(Qie(e)&&typeof e!="boolean"){var f=r(e,o);u=O.createElement(Oj,{shapeType:n,elementProps:f})}else{var h=o;u=O.createElement(Oj,{shapeType:n,elementProps:h})}return a?O.createElement(Zi,{className:i},u):u}var Y3=(t,e)=>{var n=En();return(r,i)=>a=>{t?.(r,i,a),n(g3({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},X3=t=>{var e=En();return(n,r)=>i=>{t?.(n,r,i),e(dne())}},Q3=(t,e)=>{var n=En();return(r,i)=>a=>{t?.(r,i,a),n(mne({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function J3(t){var{fn:e,args:n}=t,r=En(),i=Ir();return O.useEffect(()=>{if(!i){var a=e(n);return r(cne(a)),()=>{r(fne(a))}}},[e,n,r,i]),null}var cae=()=>{};function Z3(t){var{legendPayload:e}=t,n=En(),r=Ir();return O.useEffect(()=>r?cae:(n(FX(e)),()=>{n(HX(e))}),[n,r,e]),null}function e6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=O.useRef(Jh(e)),r=O.useRef(t);return r.current!==t&&(n.current=Jh(e),r.current=t),n.current}var K_,fae=()=>{var[t]=O.useState(()=>Jh("uid-"));return t},hae=(K_=mV.useId)!==null&&K_!==void 0?K_:fae;function dae(t,e){var n=hae();return e||(t?"".concat(t,"-").concat(n):n)}var mae=O.createContext(void 0),t6=t=>{var{id:e,type:n,children:r}=t,i=dae("recharts-".concat(n),e);return O.createElement(mae.Provider,{value:i},r(i))},pae={cartesianItems:[],polarItems:[]},n6=si({name:"graphicalItems",initialState:pae,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=hs(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=hs(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=hs(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:gae,replaceCartesianGraphicalItem:yae,removeCartesianGraphicalItem:vae,addPolarGraphicalItem:sce,removePolarGraphicalItem:oce}=n6.actions,bae=n6.reducer;function r6(t){var e=En(),n=O.useRef(null);return O.useEffect(()=>{n.current===null?e(gae(t)):n.current!==t&&e(yae({prev:n.current,next:t})),n.current=t},[e,t]),O.useEffect(()=>()=>{n.current&&(e(vae(n.current)),n.current=null)},[e]),null}function _ae(){}var wae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Cj={t:0},G_={t:1};function i6(t){var e=Ia(t,wae),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:u,onAnimationStart:f,children:h}=e,d=x4("JavascriptAnimate",e.animationManager),[p,y]=O.useState(n?Cj:G_),b=O.useRef(null);return O.useEffect(()=>{n||y(G_)},[n]),O.useEffect(()=>{if(!n||!r)return _ae;var w=w4(Cj,G_,b4(a),i,y,d.getTimeoutController()),x=()=>{b.current=w()};return d.start([f,o,x,i,u]),()=>{d.stop(),b.current&&b.current(),u()}},[n,r,i,a,o,f,u,d]),h(p.t)}var xae=se([Wn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Eae=se([xae,Ss,Ts],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),tS=()=>Le(Eae),Sae=()=>Le(ere);function Pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(n),!0).forEach(function(r){Tae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tae(t,e,n){return(e=Aae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aae(t){var e=Oae(t,"string");return typeof e=="symbol"?e:e+""}function Oae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cae=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=Rj(Rj({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},on(i,!1)),RE(i)),u;return O.isValidElement(i)?u=O.cloneElement(i,o):typeof i=="function"?u=i(o):u=O.createElement(G3,o),O.createElement(Zi,{className:"recharts-active-dot"},u)};function Pae(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Le(Ql),o=Sae();if(e==null||o==null)return null;var u=e.find(f=>o.includes(f.payload));return Gt(u)?null:Cae({point:u,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var Rae="Invariant failed";function Nae(t,e){throw new Error(Rae)}var jae=["x","y"];function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ex.apply(null,arguments)}function Nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nj(Object(n),!0).forEach(function(r){Dae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dae(t,e,n){return(e=kae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kae(t){var e=Iae(t,"string");return typeof e=="symbol"?e:e+""}function Iae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mae(t,e){if(t==null)return{};var n,r,i=Lae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Uae(t,e){var{x:n,y:r}=t,i=Mae(t,jae),a="".concat(n),o=parseInt(a,10),u="".concat(r),f=parseInt(u,10),h="".concat(e.height||i.height),d=parseInt(h,10),p="".concat(e.width||i.width),y=parseInt(p,10);return gh(gh(gh(gh(gh({},e),i),o?{x:o}:{}),f?{y:f}:{}),{},{height:d,width:y,name:e.name,radius:e.radius})}function a6(t){return O.createElement(uae,Ex({shapeType:"rectangle",propTransformer:Uae,activeClassName:"recharts-active-bar"},t))}var Vae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Pe(e))return e;var a=Pe(r)||Gt(r);return a?e(r,i):(a||Nae(),n)}},$ae={},s6=si({name:"errorBars",initialState:$ae,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:lce,removeErrorBar:uce}=s6.actions,Bae=s6.reducer,zae=["children"];function qae(t,e){if(t==null)return{};var n,r,i=Fae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Kae=O.createContext(Hae);function o6(t){var{children:e}=t,n=qae(t,zae);return O.createElement(Kae.Provider,{value:n},e)}function nS(t,e){var n,r,i=Le(h=>Os(h,t)),a=Le(h=>Ho(h,e)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Yr.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Xr.allowDataOverflow,f=o||u;return{needClip:f,needClipX:o,needClipY:u}}function l6(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=tS(),{needClipX:a,needClipY:o,needClip:u}=nS(e,n);if(!u)return null;var{x:f,y:h,width:d,height:p}=i;return O.createElement("clipPath",{id:"clipPath-".concat(r)},O.createElement("rect",{x:a?f:f-d/2,y:o?h:h-p/2,width:a?d:d*2,height:o?p:p*2}))}var Gae=["onMouseEnter","onMouseLeave","onClick"],Wae=["value","background","tooltipPosition"],Yae=["id"],Xae=["onMouseEnter","onClick","onMouseLeave"];function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zc.apply(null,arguments)}function jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jj(Object(n),!0).forEach(function(r){Qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qae(t,e,n){return(e=Jae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jae(t){var e=Zae(t,"string");return typeof e=="symbol"?e:e+""}function Zae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lg(t,e){if(t==null)return{};var n,r,i=ese(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ese(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tse=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:yy(n,e),payload:t}]};function nse(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:yy(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:u}}}function rse(t){var e=Le(Ql),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:u,onClick:f}=a,h=Lg(a,Gae),d=Y3(o,r),p=X3(u),y=Q3(f,r);if(!i||n==null)return null;var b=on(i,!1);return O.createElement(O.Fragment,null,n.map((w,x)=>{var{value:S,background:A,tooltipPosition:R}=w,C=Lg(w,Wae);if(!A)return null;var L=d(w,x),U=p(w,x),D=y(w,x),j=gr(gr(gr(gr(gr({option:i,isActive:String(x)===e},C),{},{fill:"#eee"},A),b),sy(h,w,x)),{},{onMouseEnter:L,onMouseLeave:U,onClick:D,dataKey:r,index:x,className:"recharts-bar-background-rectangle"});return O.createElement(a6,zc({key:"background-bar-".concat(x)},j))}))}function u6(t){var{data:e,props:n,showLabels:r}=t,i=ou(n),{id:a}=i,o=Lg(i,Yae),{shape:u,dataKey:f,activeBar:h}=n,d=Le(Ql),p=Le(P3),{onMouseEnter:y,onClick:b,onMouseLeave:w}=n,x=Lg(n,Xae),S=Y3(y,f),A=X3(w),R=Q3(b,f);return e?O.createElement(O.Fragment,null,e.map((C,L)=>{var U=h&&String(L)===d&&(p==null||f===p),D=U?h:u,j=gr(gr(gr({},o),C),{},{isActive:U,option:D,index:L,dataKey:f});return O.createElement(Zi,zc({className:"recharts-bar-rectangle"},sy(x,C,L),{onMouseEnter:S(C,L),onMouseLeave:A(C,L),onClick:R(C,L),key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(L)}),O.createElement(a6,j))}),r&&Pa.renderCallByParent(n,e)):null}function ise(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:d}=e,p=n.current,y=e6(e,"recharts-bar-"),[b,w]=O.useState(!1),x=O.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),S=O.useCallback(()=>{typeof d=="function"&&d(),w(!0)},[d]);return O.createElement(i6,{begin:o,duration:u,isActive:a,easing:f,onAnimationEnd:x,onAnimationStart:S,key:y},A=>{var R=A===1?r:r?.map((C,L)=>{var U=p&&p[L];if(U)return gr(gr({},C),{},{x:Gi(U.x,C.x,A),y:Gi(U.y,C.y,A),width:Gi(U.width,C.width,A),height:Gi(U.height,C.height,A)});if(i==="horizontal"){var D=Gi(0,C.height,A);return gr(gr({},C),{},{y:C.y+C.height-D,height:D})}var j=Gi(0,C.width,A);return gr(gr({},C),{},{width:j})});return A>0&&(n.current=R??null),R==null?null:O.createElement(Zi,null,O.createElement(u6,{props:e,data:R,showLabels:!b}))})}function ase(t){var{data:e,isAnimationActive:n}=t,r=O.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?O.createElement(ise,{previousRectanglesRef:r,props:t}):O.createElement(u6,{props:t,data:e,showLabels:!0})}var c6=0,sse=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Kn(t,e)}};class ose extends O.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:u,background:f,id:h}=this.props;if(e)return null;var d=jt("recharts-bar",i),p=h;return O.createElement(Zi,{className:d,id:h},u&&O.createElement("defs",null,O.createElement(l6,{clipPathId:p,xAxisId:a,yAxisId:o})),O.createElement(Zi,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},O.createElement(rse,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),O.createElement(ase,this.props)),this.props.children)}}var lse={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Yc.isSsr,legendType:"rect",minPointSize:c6,xAxisId:0,yAxisId:0};function use(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:d}=t,{needClip:p}=nS(e,n),y=wy(),b=Ir(),w=NE(t.children,$3),x=Le(R=>Mse(R,e,n,b,t.id,w));if(y!=="vertical"&&y!=="horizontal")return null;var S,A=x?.[0];return A==null||A.height==null||A.width==null?S=0:S=y==="vertical"?A.height/2:A.width/2,O.createElement(o6,{xAxisId:e,yAxisId:n,data:x,dataPointFormatter:sse,errorBarOffset:S},O.createElement(ose,zc({},t,{layout:y,needClip:p,data:x,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:d})))}function cse(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:d,displayedData:p,offset:y,cells:b}=t,w=e==="horizontal"?u:o,x=d?w.scale.domain():null,S=EX({numericAxis:w});return p.map((A,R)=>{var C,L,U,D,j,k;d?C=yX(d[R],x):(C=Kn(A,n),Array.isArray(C)||(C=[S,C]));var M=Vae(r,c6)(C[1],R);if(e==="horizontal"){var V,[z,q]=[u.scale(C[0]),u.scale(C[1])];L=b2({axis:o,ticks:f,bandSize:a,offset:i.offset,entry:A,index:R}),U=(V=q??z)!==null&&V!==void 0?V:void 0,D=i.size;var $=z-q;if(j=ni($)?0:$,k={x:L,y:y.top,width:D,height:y.height},Math.abs(M)>0&&Math.abs(j)<Math.abs(M)){var ve=Dr(j||M)*(Math.abs(M)-Math.abs(j));U-=ve,j+=ve}}else{var[we,G]=[o.scale(C[0]),o.scale(C[1])];if(L=we,U=b2({axis:u,ticks:h,bandSize:a,offset:i.offset,entry:A,index:R}),D=G-we,j=i.size,k={x:y.left,y:U,width:y.width,height:j},Math.abs(M)>0&&Math.abs(D)<Math.abs(M)){var re=Dr(D||M)*(Math.abs(M)-Math.abs(D));D+=re}}if(L==null||U==null||D==null||j==null)return null;var pe=gr(gr({},A),{},{x:L,y:U,width:D,height:j,value:d?C:C[1],payload:A,background:k,tooltipPosition:{x:L+D/2,y:U+j/2}},b&&b[R]&&b[R].props);return pe}).filter(Boolean)}function qy(t){var e=Ia(t,lse),n=Ir();return O.createElement(t6,{id:e.id,type:"bar"},r=>O.createElement(O.Fragment,null,O.createElement(Z3,{legendPayload:tse(e)}),O.createElement(J3,{fn:nse,args:e}),O.createElement(r6,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:xX(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),O.createElement(use,zc({},e,{id:r}))))}qy.displayName="Bar";function Dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dj(Object(n),!0).forEach(function(r){fse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fse(t,e,n){return(e=hse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hse(t){var e=dse(t,"string");return typeof e=="symbol"?e:e+""}function dse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mse=(t,e)=>e,pse=(t,e,n)=>n,gse=(t,e,n,r)=>r,yse=(t,e,n,r,i)=>i,Dd=se([My,yse],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),vse=se([Dd],t=>t?.maxBarSize),bse=(t,e,n,r,i,a)=>a,kj=(t,e,n)=>{var r=n??t;if(!Gt(r))return Ji(r,e,0)},_se=se([St,My,mse,pse,gse],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),wse=(t,e,n,r)=>{var i=St(t);return i==="horizontal"?gx(t,"yAxis",n,r):gx(t,"xAxis",e,r)},xse=(t,e,n)=>{var r=St(t);return r==="horizontal"?VN(t,"xAxis",e):VN(t,"yAxis",n)},Ese=(t,e,n)=>{var r={},i=t.filter(Iy),a=t.filter(h=>h.stackId==null),o=i.reduce((h,d)=>(h[d.stackId]||(h[d.stackId]=[]),h[d.stackId].push(d),h),r),u=Object.entries(o).map(h=>{var[d,p]=h,y=p.map(w=>w.dataKey),b=kj(e,n,p[0].barSize);return{stackId:d,dataKeys:y,barSize:b}}),f=a.map(h=>{var d=[h.dataKey].filter(y=>y!=null),p=kj(e,n,h.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...u,...f]},Sse=se([_se,cte,xse],Ese),Tse=(t,e,n,r,i)=>{var a,o,u=Dd(t,e,n,r,i);if(u!=null){var f=St(t),h=xL(t),{maxBarSize:d}=u,p=Gt(d)?h:d,y,b;return f==="horizontal"?(y=Mo(t,"xAxis",e,r),b=Io(t,"xAxis",e,r)):(y=Mo(t,"yAxis",n,r),b=Io(t,"yAxis",n,r)),(a=(o=td(y,b,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},f6=(t,e,n,r)=>{var i=St(t),a,o;return i==="horizontal"?(a=Mo(t,"xAxis",e,r),o=Io(t,"xAxis",e,r)):(a=Mo(t,"yAxis",n,r),o=Io(t,"yAxis",n,r)),td(a,o)};function Ase(t,e,n,r,i){var a=r.length;if(!(a<1)){var o=Ji(t,n,0,!0),u,f=[];if(ai(r[0].barSize)){var h=!1,d=n/a,p=r.reduce((A,R)=>A+(R.barSize||0),0);p+=(a-1)*o,p>=n&&(p-=(a-1)*o,o=0),p>=n&&d>0&&(h=!0,d*=.9,p=a*d);var y=(n-p)/2>>0,b={offset:y-o,size:0};u=r.reduce((A,R)=>{var C,L={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:b.offset+b.size+o,size:h?d:(C=R.barSize)!==null&&C!==void 0?C:0}},U=[...A,L];return b=U[U.length-1].position,U},f)}else{var w=Ji(e,n,0,!0);n-2*w-(a-1)*o<=0&&(o=0);var x=(n-2*w-(a-1)*o)/a;x>1&&(x>>=0);var S=ai(i)?Math.min(x,i):x;u=r.reduce((A,R,C)=>[...A,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:w+(x+o)*C+(x-S)/2,size:S}}],f)}return u}}var Ose=(t,e,n,r,i,a,o)=>{var u=Gt(o)?e:o,f=Ase(n,r,i!==a?i:a,t,u);return i!==a&&f!=null&&(f=f.map(h=>_p(_p({},h),{},{position:_p(_p({},h.position),{},{offset:h.position.offset-i/2})}))),f},Cse=se([Sse,xL,ute,EL,Tse,f6,vse],Ose),Pse=(t,e,n,r)=>Mo(t,"xAxis",e,r),Rse=(t,e,n,r)=>Mo(t,"yAxis",n,r),Nse=(t,e,n,r)=>Io(t,"xAxis",e,r),jse=(t,e,n,r)=>Io(t,"yAxis",n,r),Dse=se([Cse,Dd],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),kse=(t,e)=>{var n=k1(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},Ise=se([wse,Dd],kse),Mse=se([Wn,Pse,Rse,Nse,jse,Dse,St,Py,f6,Ise,Dd,bse],(t,e,n,r,i,a,o,u,f,h,d,p)=>{var{chartData:y,dataStartIndex:b,dataEndIndex:w}=u;if(!(d==null||a==null||o!=="horizontal"&&o!=="vertical"||e==null||n==null||r==null||i==null||f==null)){var{data:x}=d,S;if(x!=null&&x.length>0?S=x:S=y?.slice(b,w+1),S!=null)return cse({layout:o,barSettings:d,pos:a,bandSize:f,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:h,displayedData:S,offset:t,cells:p})}}),Lse=t=>{var{chartData:e}=t,n=En(),r=Ir();return O.useEffect(()=>r?()=>{}:(n(YN(e)),()=>{n(YN(void 0))}),[e,n,r]),null},Ij={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},h6=si({name:"brush",initialState:Ij,reducers:{setBrushSettings(t,e){return e.payload==null?Ij:e.payload}}}),{setBrushSettings:cce}=h6.actions,Use=h6.reducer;function Vse(t,e,n){return(e=$se(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $se(t){var e=Bse(t,"string");return typeof e=="symbol"?e:e+""}function Bse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rS{static create(e){return new rS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Vse(rS,"EPS",1e-4);function zse(t){return(t%180+180)%180}var qse=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=zse(i),o=a*Math.PI/180,u=Math.atan(r/n),f=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(f)},Fse={dots:[],areas:[],lines:[]},d6=si({name:"referenceElements",initialState:Fse,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=hs(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=hs(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=hs(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:fce,removeDot:hce,addArea:dce,removeArea:mce,addLine:pce,removeLine:gce}=d6.actions,Hse=d6.reducer,Kse=O.createContext(void 0),Gse=t=>{var{children:e}=t,[n]=O.useState("".concat(Jh("recharts"),"-clip")),r=tS();if(r==null)return null;var{x:i,y:a,width:o,height:u}=r;return O.createElement(Kse.Provider,{value:n},O.createElement("defs",null,O.createElement("clipPath",{id:n},O.createElement("rect",{x:i,y:a,height:u,width:o}))),e)};function W_(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function m6(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Wse(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return qse(r,n)}function Yse(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:u}=t;return e===1?{start:r?i:a,end:r?i+o:a+u}:{start:r?i+o:a+u,end:r?i:a}}function Ug(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Xse(t,e){return m6(t,e+1)}function Qse(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:u}=e,f=0,h=1,d=o,p=function(){var w=r?.[f];if(w===void 0)return{v:m6(r,h)};var x=f,S,A=()=>(S===void 0&&(S=n(w,x)),S),R=w.coordinate,C=f===0||Ug(t,R,A,d,u);C||(f=0,d=o,h+=1),C&&(d=R+t*(A()/2+i),f+=h)},y;h<=a.length;)if(y=p(),y)return y.v;return[]}function Mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(n),!0).forEach(function(r){Jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jse(t,e,n){return(e=Zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=eoe(t,"string");return typeof e=="symbol"?e:e+""}function eoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function toe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:u}=e,{end:f}=e,h=function(y){var b=a[y],w,x=()=>(w===void 0&&(w=n(b,y)),w);if(y===o-1){var S=t*(b.coordinate+t*x()/2-f);a[y]=b=hr(hr({},b),{},{tickCoord:S>0?b.coordinate-S*t:b.coordinate})}else a[y]=b=hr(hr({},b),{},{tickCoord:b.coordinate});var A=Ug(t,b.tickCoord,x,u,f);A&&(f=b.tickCoord-t*(x()/2+i),a[y]=hr(hr({},b),{},{isShow:!0}))},d=o-1;d>=0;d--)h(d);return a}function noe(t,e,n,r,i,a){var o=(r||[]).slice(),u=o.length,{start:f,end:h}=e;if(a){var d=r[u-1],p=n(d,u-1),y=t*(d.coordinate+t*p/2-h);o[u-1]=d=hr(hr({},d),{},{tickCoord:y>0?d.coordinate-y*t:d.coordinate});var b=Ug(t,d.tickCoord,()=>p,f,h);b&&(h=d.tickCoord-t*(p/2+i),o[u-1]=hr(hr({},d),{},{isShow:!0}))}for(var w=a?u-1:u,x=function(R){var C=o[R],L,U=()=>(L===void 0&&(L=n(C,R)),L);if(R===0){var D=t*(C.coordinate-t*U()/2-f);o[R]=C=hr(hr({},C),{},{tickCoord:D<0?C.coordinate-D*t:C.coordinate})}else o[R]=C=hr(hr({},C),{},{tickCoord:C.coordinate});var j=Ug(t,C.tickCoord,U,f,h);j&&(f=C.tickCoord+t*(U()/2+i),o[R]=hr(hr({},C),{},{isShow:!0}))},S=0;S<w;S++)x(S);return o}function iS(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:u,interval:f,tickFormatter:h,unit:d,angle:p}=t;if(!i||!i.length||!r)return[];if(Pe(f)||Yc.isSsr){var y;return(y=Xse(i,Pe(f)?f:0))!==null&&y!==void 0?y:[]}var b=[],w=u==="top"||u==="bottom"?"width":"height",x=d&&w==="width"?Mh(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(C,L)=>{var U=typeof h=="function"?h(C.value,L):C.value;return w==="width"?Wse(Mh(U,{fontSize:e,letterSpacing:n}),x,p):Mh(U,{fontSize:e,letterSpacing:n})[w]},A=i.length>=2?Dr(i[1].coordinate-i[0].coordinate):1,R=Yse(a,A,w);return f==="equidistantPreserveStart"?Qse(A,R,S,i,o):(f==="preserveStart"||f==="preserveStartEnd"?b=noe(A,R,S,i,o,f==="preserveStartEnd"):b=toe(A,R,S,i,o),b.filter(C=>C.isShow))}var roe=["viewBox"],ioe=["viewBox"];function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(null,arguments)}function Lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(n),!0).forEach(function(r){aS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uj(t,e){if(t==null)return{};var n,r,i=aoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aS(t,e,n){return(e=soe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function soe(t){var e=ooe(t,"string");return typeof e=="symbol"?e:e+""}function ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ko extends O.Component{constructor(e){super(e),this.tickRefs=O.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=Uj(e,roe),a=this.props,{viewBox:o}=a,u=Uj(a,ioe);return!W_(r,o)||!W_(i,u)||!W_(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:a,orientation:o,tickSize:u,mirror:f,tickMargin:h}=this.props,d,p,y,b,w,x,S=f?-1:1,A=e.tickSize||u,R=Pe(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":d=p=e.coordinate,b=r+ +!f*a,y=b-S*A,x=y-S*h,w=R;break;case"left":y=b=e.coordinate,p=n+ +!f*i,d=p-S*A,w=d-S*h,x=R;break;case"right":y=b=e.coordinate,p=n+ +f*i,d=p+S*A,w=d+S*h,x=R;break;default:d=p=e.coordinate,b=r+ +f*a,y=b+S*A,x=y+S*h,w=R;break}return{line:{x1:d,y1:y,x2:p,y2:b},tick:{x:w,y:x}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:u}=this.props,f=Pn(Pn(Pn({},on(this.props,!1)),on(u,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);f=Pn(Pn({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);f=Pn(Pn({},f),{},{x1:e+d*r,y1:n,x2:e+d*r,y2:n+i})}return O.createElement("line",yc({},f,{className:jt("recharts-cartesian-axis-line",Gl(u,"className"))}))}static renderTickItem(e,n,r){var i,a=jt(n.className,"recharts-cartesian-axis-tick-value");if(O.isValidElement(e))i=O.cloneElement(e,Pn(Pn({},n),{},{className:a}));else if(typeof e=="function")i=e(Pn(Pn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=jt(o,e.className)),i=O.createElement(Z1,yc({},n,{className:o}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:o,tickFormatter:u,unit:f,padding:h}=this.props,d=iS(Pn(Pn({},this.props),{},{ticks:r}),e,n),p=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=ou(this.props),w=on(o,!1),x=Pn(Pn({},b),{},{fill:"none"},on(i,!1)),S=d.map((A,R)=>{var{line:C,tick:L}=this.getTickLineCoord(A),U=Pn(Pn(Pn(Pn({textAnchor:p,verticalAnchor:y},b),{},{stroke:"none",fill:a},w),L),{},{index:R,payload:A,visibleTicksCount:d.length,tickFormatter:u,padding:h});return O.createElement(Zi,yc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},sy(this.props,A,R)),i&&O.createElement("line",yc({},x,C,{className:jt("recharts-cartesian-axis-tick-line",Gl(i,"className"))})),o&&Ko.renderTickItem(o,U,"".concat(typeof u=="function"?u(A.value,R):A.value).concat(f||"")))});return S.length>0?O.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:a}=this.props;if(a)return null;var{ticks:o}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:O.createElement(Zi,{className:jt("recharts-cartesian-axis",i),ref:u=>{if(u){var f=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var h=f[0];if(h){var d=window.getComputedStyle(h).fontSize,p=window.getComputedStyle(h).letterSpacing;(d!==this.state.fontSize||p!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),Zr.renderCallByParent(this.props))}}aS(Ko,"displayName","CartesianAxis");aS(Ko,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var loe=["x1","y1","x2","y2","key"],uoe=["offset"],coe=["xAxisId","yAxisId"],foe=["xAxisId","yAxisId"];function Vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vj(Object(n),!0).forEach(function(r){hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hoe(t,e,n){return(e=doe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function doe(t){var e=moe(t,"string");return typeof e=="symbol"?e:e+""}function moe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ul.apply(null,arguments)}function Vg(t,e){if(t==null)return{};var n,r,i=poe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function poe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var goe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:u}=t;return O.createElement("rect",{x:r,y:i,ry:u,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function p6(t,e){var n;if(O.isValidElement(t))n=O.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:o,key:u}=e,f=Vg(e,loe),h=ou(f),{offset:d}=h,p=Vg(h,uoe);n=O.createElement("line",Ul({},p,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:u}))}return n}function yoe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,u=Vg(t,coe),f=i.map((h,d)=>{var p=yr(yr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(d),index:d});return p6(r,p)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function voe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,u=Vg(t,foe),f=i.map((h,d)=>{var p=yr(yr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(d),index:d});return p6(r,p)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function boe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length)return null;var h=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==h[0]&&h.unshift(0);var d=h.map((p,y)=>{var b=!h[y+1],w=b?i+o-p:h[y+1]-p;if(w<=0)return null;var x=y%e.length;return O.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:w,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function _oe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==h[0]&&h.unshift(0);var d=h.map((p,y)=>{var b=!h[y+1],w=b?i+o-p:h[y+1]-p;if(w<=0)return null;var x=y%n.length;return O.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:w,height:u,stroke:"none",fill:n[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var woe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return u4(iS(yr(yr(yr({},Ko.defaultProps),n),{},{ticks:c4(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},xoe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return u4(iS(yr(yr(yr({},Ko.defaultProps),n),{},{ticks:c4(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Eoe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function g6(t){var e=ZE(),n=e1(),r=d4(),i=yr(yr({},Ia(t,Eoe)),{},{x:Pe(t.x)?t.x:r.left,y:Pe(t.y)?t.y:r.top,width:Pe(t.width)?t.width:r.width,height:Pe(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:u,y:f,width:h,height:d,syncWithTicks:p,horizontalValues:y,verticalValues:b}=i,w=Ir(),x=Le(M=>$N(M,"xAxis",a,w)),S=Le(M=>$N(M,"yAxis",o,w));if(!Pe(h)||h<=0||!Pe(d)||d<=0||!Pe(u)||u!==+u||!Pe(f)||f!==+f)return null;var A=i.verticalCoordinatesGenerator||woe,R=i.horizontalCoordinatesGenerator||xoe,{horizontalPoints:C,verticalPoints:L}=i;if((!C||!C.length)&&typeof R=="function"){var U=y&&y.length,D=R({yAxis:S?yr(yr({},S),{},{ticks:U?y:S.ticks}):void 0,width:e,height:n,offset:r},U?!0:p);Ih(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(C=D)}if((!L||!L.length)&&typeof A=="function"){var j=b&&b.length,k=A({xAxis:x?yr(yr({},x),{},{ticks:j?b:x.ticks}):void 0,width:e,height:n,offset:r},j?!0:p);Ih(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(L=k)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(goe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),O.createElement(boe,Ul({},i,{horizontalPoints:C})),O.createElement(_oe,Ul({},i,{verticalPoints:L})),O.createElement(yoe,Ul({},i,{offset:r,horizontalPoints:C,xAxis:x,yAxis:S})),O.createElement(voe,Ul({},i,{offset:r,verticalPoints:L,xAxis:x,yAxis:S})))}g6.displayName="CartesianGrid";var y6=(t,e,n,r)=>Mo(t,"xAxis",e,r),v6=(t,e,n,r)=>Io(t,"xAxis",e,r),b6=(t,e,n,r)=>Mo(t,"yAxis",n,r),_6=(t,e,n,r)=>Io(t,"yAxis",n,r),Soe=se([St,y6,b6,v6,_6],(t,e,n,r,i)=>Bo(t,"xAxis")?td(e,r,!1):td(n,i,!1)),Toe=(t,e,n,r,i)=>i;function Aoe(t){return t.type==="line"}var Ooe=se([My,Toe],(t,e)=>t.filter(Aoe).find(n=>n.id===e)),Coe=se([St,y6,b6,v6,_6,Ooe,Soe,Py],(t,e,n,r,i,a,o,u)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:d}=u;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:p,data:y}=a,b;if(y!=null&&y.length>0?b=y:b=f?.slice(h,d+1),b!=null)return Yoe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:b})}}),Poe=["id"],Roe=["type","layout","connectNulls","needClip"],Noe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function $j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(n),!0).forEach(function(r){joe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function joe(t,e,n){return(e=Doe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Doe(t){var e=koe(t,"string");return typeof e=="symbol"?e:e+""}function koe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sS(t,e){if(t==null)return{};var n,r,i=Ioe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ioe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(null,arguments)}var Moe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:yy(n,e),payload:t}]};function Loe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:u,unit:f}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:yy(o,e),hide:u,type:t.tooltipType,color:t.stroke,unit:f}}}var w6=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Uoe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Voe=(t,e,n)=>{var r=n.reduce((p,y)=>p+y);if(!r)return w6(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,u=[],f=0,h=0;f<n.length;h+=n[f],++f)if(h+n[f]>a){u=[...n.slice(0,f),a-h];break}var d=u.length%2===0?[0,o]:[o];return[...Uoe(n,i),...u,...d].map(p=>"".concat(p,"px")).join(", ")};function $oe(t,e){var n;if(O.isValidElement(t))n=O.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=jt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=O.createElement(G3,Jl({},e,{className:r}))}return n}function Boe(t,e){return t==null?!1:e?!0:t.length===1}function zoe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r;if(!Boe(n,i))return null;var{id:u}=r,f=sS(r,Poe),h=oM(i),d=ou(f),p=on(i,!0),y=n.map((w,x)=>{var S=Wi(Wi(Wi({key:"dot-".concat(x),r:3},d),p),{},{index:x,cx:w.x,cy:w.y,dataKey:a,value:w.value,payload:w.payload,points:n});return $oe(i,S)}),b={clipPath:o?"url(#clipPath-".concat(h?"":"dots-").concat(e,")"):void 0};return O.createElement(Zi,Jl({className:"recharts-line-dots",key:"dots"},b),y)}function Sx(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a,showLabels:o}=t,{type:u,layout:f,connectNulls:h,needClip:d}=a,p=sS(a,Roe),y=Wi(Wi({},on(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:u,layout:f,connectNulls:h,strokeDasharray:i??a.strokeDasharray});return O.createElement(O.Fragment,null,r?.length>1&&O.createElement(g4,Jl({},y,{pathRef:n})),O.createElement(zoe,{points:r,clipPathId:e,props:a}),o&&Pa.renderCallByParent(a,r))}function qoe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Foe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:u,isAnimationActive:f,animationBegin:h,animationDuration:d,animationEasing:p,animateNewValues:y,width:b,height:w,onAnimationEnd:x,onAnimationStart:S}=n,A=i.current,R=e6(n,"recharts-line-"),[C,L]=O.useState(!1),U=O.useCallback(()=>{typeof x=="function"&&x(),L(!1)},[x]),D=O.useCallback(()=>{typeof S=="function"&&S(),L(!0)},[S]),j=qoe(r.current),k=a.current;return O.createElement(i6,{begin:h,duration:d,isActive:f,easing:p,onAnimationEnd:U,onAnimationStart:D,key:R},M=>{var V=Gi(k,j+k,M),z=Math.min(V,j),q;if(u){var $="".concat(u).split(/[,\s]+/gim).map(G=>parseFloat(G));q=Voe(z,j,$)}else q=w6(j,z);if(A){var ve=A.length/o.length,we=M===1?o:o.map((G,re)=>{var pe=Math.floor(re*ve);if(A[pe]){var xe=A[pe];return Wi(Wi({},G),{},{x:Gi(xe.x,G.x,M),y:Gi(xe.y,G.y,M)})}return y?Wi(Wi({},G),{},{x:Gi(b*2,G.x,M),y:Gi(w/2,G.y,M)}):Wi(Wi({},G),{},{x:G.x,y:G.y})});return i.current=we,O.createElement(Sx,{props:n,points:we,clipPathId:e,pathRef:r,showLabels:!C,strokeDasharray:q})}return M>0&&j>0&&(i.current=o,a.current=z),O.createElement(Sx,{props:n,points:o,clipPathId:e,pathRef:r,showLabels:!C,strokeDasharray:q})})}function Hoe(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:i}=n,a=O.useRef(null),o=O.useRef(0),u=O.useRef(null),f=a.current;return i&&r&&r.length&&f!==r?O.createElement(Foe,{props:n,clipPathId:e,previousPointsRef:a,longestAnimatedLengthRef:o,pathRef:u}):O.createElement(Sx,{props:n,points:r,clipPathId:e,pathRef:u,showLabels:!0})}var Koe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Kn(t.payload,e)});class Goe extends O.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:o,yAxisId:u,top:f,left:h,width:d,height:p,id:y,needClip:b}=this.props;if(n)return null;var w=jt("recharts-line",a),x=y,{r:S=3,strokeWidth:A=2}=(e=on(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},R=oM(r),C=S*2+A;return O.createElement(O.Fragment,null,O.createElement(Zi,{className:w},b&&O.createElement("defs",null,O.createElement(l6,{clipPathId:x,xAxisId:o,yAxisId:u}),!R&&O.createElement("clipPath",{id:"clipPath-dots-".concat(x)},O.createElement("rect",{x:h-C/2,y:f-C/2,width:d+C,height:p+C}))),O.createElement(Hoe,{props:this.props,clipPathId:x}),O.createElement(o6,{xAxisId:o,yAxisId:u,data:i,dataPointFormatter:Koe,errorBarOffset:0},this.props.children)),O.createElement(Pae,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var x6={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Yc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Woe(t){var e=Ia(t,x6),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:u,dot:f,hide:h,isAnimationActive:d,label:p,legendType:y,xAxisId:b,yAxisId:w,id:x}=e,S=sS(e,Noe),{needClip:A}=nS(b,w),R=tS(),C=wy(),L=Ir(),U=Le(V=>Coe(V,b,w,L,x));if(C!=="horizontal"&&C!=="vertical"||U==null||R==null)return null;var{height:D,width:j,x:k,y:M}=R;return O.createElement(Goe,Jl({},S,{id:x,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:d,hide:h,label:p,legendType:y,xAxisId:b,yAxisId:w,points:U,layout:C,height:D,width:j,left:k,top:M,needClip:A}))}function Yoe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:u,displayedData:f}=t;return f.map((h,d)=>{var p=Kn(h,o);if(e==="horizontal"){var y=v2({axis:n,ticks:i,bandSize:u,entry:h,index:d}),b=Gt(p)?null:r.scale(p);return{x:y,y:b,value:p,payload:h}}var w=Gt(p)?null:n.scale(p),x=v2({axis:r,ticks:a,bandSize:u,entry:h,index:d});return w==null||x==null?null:{x:w,y:x,value:p,payload:h}}).filter(Boolean)}function E6(t){var e=Ia(t,x6),n=Ir();return O.createElement(t6,{id:e.id,type:"line"},r=>O.createElement(O.Fragment,null,O.createElement(Z3,{legendPayload:Moe(e)}),O.createElement(J3,{fn:Loe,args:e}),O.createElement(r6,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),O.createElement(Woe,Jl({},e,{id:r}))))}E6.displayName="Line";function Bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bj(Object(n),!0).forEach(function(r){Xoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xoe(t,e,n){return(e=Qoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qoe(t){var e=Joe(t,"string");return typeof e=="symbol"?e:e+""}function Joe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zoe={xAxis:{},yAxis:{},zAxis:{}},S6=si({name:"cartesianAxis",initialState:Zoe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=zj(zj({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:ele,removeXAxis:tle,addYAxis:nle,removeYAxis:rle,addZAxis:yce,removeZAxis:vce,updateYAxisWidth:ile}=S6.actions,ale=S6.reducer,sle=["children"],ole=["dangerouslySetInnerHTML","ticks"];function T6(t,e,n){return(e=lle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lle(t){var e=ule(t,"string");return typeof e=="symbol"?e:e+""}function ule(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tx.apply(null,arguments)}function A6(t,e){if(t==null)return{};var n,r,i=cle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fle(t){var e=En(),n=O.useMemo(()=>{var{children:a}=t,o=A6(t,sle);return o},[t]),r=Le(a=>Os(a,n.id)),i=n===r;return O.useEffect(()=>(e(ele(n)),()=>{e(tle(n))}),[n,e]),i?t.children:null}var hle=t=>{var{xAxisId:e,className:n}=t,r=Le(h4),i=Ir(),a="xAxis",o=Le(b=>tf(b,a,e,i)),u=Le(b=>c3(b,a,e,i)),f=Le(b=>s3(b,e)),h=Le(b=>tne(b,e));if(f==null||h==null)return null;var{dangerouslySetInnerHTML:d,ticks:p}=t,y=A6(t,ole);return O.createElement(Ko,Tx({},y,{scale:o,x:h.x,y:h.y,width:f.width,height:f.height,className:jt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u}))},dle=t=>{var e,n,r,i,a;return O.createElement(fle,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter},O.createElement(hle,t))};class af extends O.Component{render(){return O.createElement(dle,this.props)}}T6(af,"displayName","XAxis");T6(af,"defaultProps",{allowDataOverflow:Yr.allowDataOverflow,allowDecimals:Yr.allowDecimals,allowDuplicatedCategory:Yr.allowDuplicatedCategory,height:Yr.height,hide:!1,mirror:Yr.mirror,orientation:Yr.orientation,padding:Yr.padding,reversed:Yr.reversed,scale:Yr.scale,tickCount:Yr.tickCount,type:Yr.type,xAxisId:0});var mle=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>o&&(o=p.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+a,h=o+f+u+(n?r:0);return Math.round(h)}return 0},ple=["dangerouslySetInnerHTML","ticks"];function O6(t,e,n){return(e=gle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gle(t){var e=yle(t,"string");return typeof e=="symbol"?e:e+""}function yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ax.apply(null,arguments)}function vle(t,e){if(t==null)return{};var n,r,i=ble(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ble(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _le(t){var e=En();return O.useEffect(()=>(e(nle(t)),()=>{e(rle(t))}),[t,e]),null}var wle=t=>{var e,{yAxisId:n,className:r,width:i,label:a}=t,o=O.useRef(null),u=O.useRef(null),f=Le(h4),h=Ir(),d=En(),p="yAxis",y=Le(C=>tf(C,p,n,h)),b=Le(C=>o3(C,n)),w=Le(C=>nne(C,n)),x=Le(C=>c3(C,p,n,h));if(O.useLayoutEffect(()=>{var C;if(!(i!=="auto"||!b||eS(a)||O.isValidElement(a))){var L=o.current,U=L==null||(C=L.tickRefs)===null||C===void 0?void 0:C.current,{tickSize:D,tickMargin:j}=L.props,k=mle({ticks:U,label:u.current,labelGapWithTick:5,tickSize:D,tickMargin:j});Math.round(b.width)!==Math.round(k)&&d(ile({id:n,width:k}))}},[o,o==null||(e=o.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,b?.width,b,d,a,n,i]),b==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:A}=t,R=vle(t,ple);return O.createElement(Ko,Ax({},R,{ref:o,labelRef:u,scale:y,x:w.x,y:w.y,width:b.width,height:b.height,className:jt("recharts-".concat(p," ").concat(p),r),viewBox:f,ticks:x}))},xle=t=>{var e,n,r,i,a;return O.createElement(O.Fragment,null,O.createElement(_le,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter}),O.createElement(wle,t))},Ele={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:Xr.allowDecimals,allowDuplicatedCategory:Xr.allowDuplicatedCategory,hide:!1,mirror:Xr.mirror,orientation:Xr.orientation,padding:Xr.padding,reversed:Xr.reversed,scale:Xr.scale,tickCount:Xr.tickCount,type:Xr.type,width:Xr.width,yAxisId:0};class sf extends O.Component{render(){return O.createElement(xle,this.props)}}O6(sf,"displayName","YAxis");O6(sf,"defaultProps",Ele);var Y_={exports:{}},X_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qj;function Sle(){if(qj)return X_;qj=1;var t=qc();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,u=t.useDebugValue;return X_.useSyncExternalStoreWithSelector=function(f,h,d,p,y){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=o(function(){function S(U){if(!A){if(A=!0,R=U,U=p(U),y!==void 0&&w.hasValue){var D=w.value;if(y(D,U))return C=D}return C=U}if(D=C,n(R,U))return D;var j=p(U);return y!==void 0&&y(D,j)?(R=U,D):(R=U,C=j)}var A=!1,R,C,L=d===void 0?null:d;return[function(){return S(h())},L===null?void 0:function(){return S(L())}]},[h,d,p,y]);var x=r(f,b[0],b[1]);return a(function(){w.hasValue=!0,w.value=x},[x]),u(x),x},X_}var Fj;function Tle(){return Fj||(Fj=1,Y_.exports=Sle()),Y_.exports}Tle();function Ale(t){t()}function Ole(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Ale(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Hj={notify(){},get:()=>[]};function Cle(t,e){let n,r=Hj,i=0,a=!1;function o(x){d();const S=r.subscribe(x);let A=!1;return()=>{A||(A=!0,S(),p())}}function u(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return a}function d(){i++,n||(n=t.subscribe(f),r=Ole())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Hj)}function y(){a||(a=!0,d())}function b(){a&&(a=!1,p())}const w={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return w}var Ple=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rle=Ple(),Nle=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jle=Nle(),Dle=()=>Rle||jle?O.useLayoutEffect:O.useEffect,kle=Dle(),Ile=Symbol.for("react-redux-context"),Mle=typeof globalThis<"u"?globalThis:{};function Lle(){if(!O.createContext)return{};const t=Mle[Ile]??=new Map;let e=t.get(O.createContext);return e||(e=O.createContext(null),t.set(O.createContext,e)),e}var Ule=Lle();function Vle(t){const{children:e,context:n,serverState:r,store:i}=t,a=O.useMemo(()=>{const f=Cle(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),o=O.useMemo(()=>i.getState(),[i]);kle(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),o!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,o]);const u=n||Ule;return O.createElement(u.Provider,{value:a},e)}var $le=Vle,Ble=(t,e)=>e,oS=se([Ble,St,PL,In,T3,Cs,ore,Wn],hre),lS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},C6=Di("mouseClick"),P6=xd();P6.startListening({actionCreator:C6,effect:(t,e)=>{var n=t.payload,r=oS(e.getState(),lS(n));r?.activeIndex!=null&&e.dispatch(pne({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Ox=Di("mouseMove"),R6=xd();R6.startListening({actionCreator:Ox,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=q1(r,r.tooltip.settings.shared),a=oS(r,lS(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(v3({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(y3()))}});function zle(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var Kj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},N6=si({name:"rootProps",initialState:Kj,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Kj.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),qle=N6.reducer,{updateOptions:Fle}=N6.actions,j6=si({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:bce}=j6.actions,Hle=j6.reducer,D6=Di("keyDown"),k6=Di("focus"),uS=xd();uS.startListening({actionCreator:D6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(F1(i,rf(n))),u=Cs(n);if(a==="Enter"){var f=Dg(n,"axis","hover",String(i.index));e.dispatch(vx({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=sne(n),d=h==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,y=o+p*d;if(!(u==null||y>=u.length||y<0)){var b=Dg(n,"axis","hover",String(y));e.dispatch(vx({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});uS.startListening({actionCreator:k6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Dg(n,"axis","hover",String(a));e.dispatch(vx({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Ai=Di("externalEvent"),I6=xd();I6.startListening({actionCreator:Ai,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Qne(n),activeDataKey:P3(n),activeIndex:Ql(n),activeLabel:C3(n),activeTooltipIndex:Ql(n),isTooltipActive:Jne(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Kle=se([nf],t=>t.tooltipItemPayloads),Gle=se([Kle,Nd,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),M6=Di("touchMove"),L6=xd();L6.startListening({actionCreator:M6,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=q1(r,r.tooltip.settings.shared);if(i==="axis"){var a=oS(r,lS({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(v3({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,u=n.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(NX),d=(o=f.getAttribute(jX))!==null&&o!==void 0?o:void 0,p=Gle(e.getState(),h,d);e.dispatch(g3({activeDataKey:d,activeIndex:h,activeCoordinate:p}))}}});var Wle=VM({brush:Use,cartesianAxis:ale,chartData:Cre,errorBars:Bae,graphicalItems:bae,layout:eX,legend:KX,options:Ere,polarAxis:Gie,polarOptions:Hle,referenceElements:Hse,rootProps:qle,tooltip:gne}),Yle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return TY({reducer:Wle,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([P6.middleware,R6.middleware,uS.middleware,I6.middleware,L6.middleware]),devTools:{serialize:{replacer:zle},name:"recharts-".concat(n)}})};function Xle(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Ir(),a=O.useRef(null);if(i)return n;a.current==null&&(a.current=Yle(e,r));var o=FE;return O.createElement($le,{context:o,store:a.current},n)}function Qle(t){var{layout:e,width:n,height:r,margin:i}=t,a=En(),o=Ir();return O.useEffect(()=>{o||(a(QY(e)),a(JY({width:n,height:r})),a(XY(i)))},[a,o,e,n,r,i]),null}function Jle(t){var e=En();return O.useEffect(()=>{e(Fle(t))},[e,t]),null}var Zle=["children"];function eue(t,e){if(t==null)return{};var n,r,i=tue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(null,arguments)}var nue={width:"100%",height:"100%"},rue=O.forwardRef((t,e)=>{var n=ZE(),r=e1(),i=p4();if(!gg(n)||!gg(r))return null;var{children:a,otherAttributes:o,title:u,desc:f}=t,h,d;return typeof o.tabIndex=="number"?h=o.tabIndex:h=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0,O.createElement(jE,$g({},o,{title:u,desc:f,role:d,tabIndex:h,width:n,height:r,style:nue,ref:e}),a)}),iue=t=>{var{children:e}=t,n=Le(_y);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return O.createElement(jE,{width:r,height:i,x:o,y:a},e)},Gj=O.forwardRef((t,e)=>{var{children:n}=t,r=eue(t,Zle),i=Ir();return i?O.createElement(iue,null,n):O.createElement(rue,$g({ref:e},r),n)});function aue(){var t=En(),[e,n]=O.useState(null),r=Le(RX);return O.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;ai(a)&&a!==r&&t(ZY(a))}},[e,t,r]),n}function Wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(n),!0).forEach(function(r){oue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oue(t,e,n){return(e=lue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lue(t){var e=uue(t,"string");return typeof e=="symbol"?e:e+""}function uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cue=O.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:d,onMouseMove:p,onMouseUp:y,onTouchEnd:b,onTouchMove:w,onTouchStart:x,style:S,width:A}=t,R=En(),[C,L]=O.useState(null),[U,D]=O.useState(null);Nre();var j=aue(),k=O.useCallback(ie=>{j(ie),typeof e=="function"&&e(ie),L(ie),D(ie)},[j,e,L,D]),M=O.useCallback(ie=>{R(C6(ie)),R(Ai({handler:a,reactEvent:ie}))},[R,a]),V=O.useCallback(ie=>{R(Ox(ie)),R(Ai({handler:h,reactEvent:ie}))},[R,h]),z=O.useCallback(ie=>{R(y3()),R(Ai({handler:d,reactEvent:ie}))},[R,d]),q=O.useCallback(ie=>{R(Ox(ie)),R(Ai({handler:p,reactEvent:ie}))},[R,p]),$=O.useCallback(()=>{R(k6())},[R]),ve=O.useCallback(ie=>{R(D6(ie.key))},[R]),we=O.useCallback(ie=>{R(Ai({handler:o,reactEvent:ie}))},[R,o]),G=O.useCallback(ie=>{R(Ai({handler:u,reactEvent:ie}))},[R,u]),re=O.useCallback(ie=>{R(Ai({handler:f,reactEvent:ie}))},[R,f]),pe=O.useCallback(ie=>{R(Ai({handler:y,reactEvent:ie}))},[R,y]),xe=O.useCallback(ie=>{R(Ai({handler:x,reactEvent:ie}))},[R,x]),H=O.useCallback(ie=>{R(M6(ie)),R(Ai({handler:w,reactEvent:ie}))},[R,w]),oe=O.useCallback(ie=>{R(Ai({handler:b,reactEvent:ie}))},[R,b]);return O.createElement(I3.Provider,{value:C},O.createElement(lM.Provider,{value:U},O.createElement("div",{className:jt("recharts-wrapper",r),style:sue({position:"relative",cursor:"default",width:A,height:i},S),onClick:M,onContextMenu:we,onDoubleClick:G,onFocus:$,onKeyDown:ve,onMouseDown:re,onMouseEnter:V,onMouseLeave:z,onMouseMove:q,onMouseUp:pe,onTouchEnd:oe,onTouchMove:H,onTouchStart:xe,ref:k},n)))}),fue=["children","className","width","height","style","compact","title","desc"];function hue(t,e){if(t==null)return{};var n,r,i=due(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function due(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mue=O.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:o,compact:u,title:f,desc:h}=t,d=hue(t,fue),p=ou(d);return u?O.createElement(Gj,{otherAttributes:p,title:f,desc:h},n):O.createElement(cue,{className:r,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},O.createElement(Gj,{otherAttributes:p,title:f,desc:h,ref:e},O.createElement(Gse,null,n)))}),pue=["width","height"];function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cx.apply(null,arguments)}function gue(t,e){if(t==null)return{};var n,r,i=yue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vue={top:5,right:5,bottom:5,left:5},bue={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vue,reverseStackOrder:!1,syncMethod:"index"},U6=O.forwardRef(function(e,n){var r,i=Ia(e.categoricalChartProps,bue),{width:a,height:o}=i,u=gue(i,pue);if(!gg(a)||!gg(o))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,categoricalChartProps:y}=e,b={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return O.createElement(Xle,{preloadedState:{options:b},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:f},O.createElement(Lse,{chartData:y.data}),O.createElement(Qle,{width:a,height:o,layout:i.layout,margin:i.margin}),O.createElement(Jle,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),O.createElement(mue,Cx({},u,{width:a,height:o,ref:n})))}),_ue=["axis"],wue=O.forwardRef((t,e)=>O.createElement(U6,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_ue,tooltipPayloadSearcher:M3,categoricalChartProps:t,ref:e})),xue=["axis","item"],cS=O.forwardRef((t,e)=>O.createElement(U6,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xue,tooltipPayloadSearcher:M3,categoricalChartProps:t,ref:e}));const Eue=({categories:t})=>{const{teamStats:e,columnPercentiles:n,currentViewingTeam:r}=Gn(),i=(o,u)=>!u||o<=u.p10?0:o>=u.p90?100:o<=u.p25?0+25*((o-u.p10)/(u.p25-u.p10)):o<=u.p75?25+50*((o-u.p25)/(u.p75-u.p25)):75+25*((o-u.p75)/(u.p90-u.p75)),a=O.useMemo(()=>t.map(o=>{const u=e[r]?.[o]?.q3??0,f=n[o]?.q3,h=f?i(u,f):0;return{category:o.replace(/([A-Z])/g," $1").replace(/^./,d=>d.toUpperCase()),value:Math.min(100,h)}}),[t,e,n,r]);return E.jsxs("div",{className:"w-full h-102 bg-white rounded-xl p-4 shadow-md mt-5 pb-15",children:[E.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Team Percentile Comparison"}),E.jsx(zy,{width:"100%",height:"100%",children:E.jsxs(cS,{data:a,margin:{top:20,right:20,bottom:40,left:40},children:[E.jsx(af,{dataKey:"category",angle:-25,textAnchor:"end",interval:0}),E.jsx(sf,{type:"number",domain:[0,100],tickFormatter:o=>`${o.toFixed(0)}%`}),E.jsx(J1,{formatter:o=>`${o.toFixed(1)}%`,animationDuration:50}),E.jsx(qy,{dataKey:"value",fill:"#f69f3bff",radius:[4,4,0,0],maxBarSize:50,animationDuration:500,children:E.jsx(Pa,{dataKey:"value",position:"top",formatter:o=>`${Number(o).toFixed(0)}%`})})]})})]})};function Sue(){const{forms:t,teamInfo:e,teamStats:n,teamImages:r,loadData:i,loadTeamImages:a,loading:o,currentViewingTeam:u,setCurrentViewingTeam:f,tbaData:h,aiOverviews:d,pitForms:p}=Gn();O.useEffect(()=>{a(),i()},[]);const y=r[u],[b,w]=O.useState("total_points"),[x,S]=O.useState("comments"),[A,R]=O.useState({key:null,direction:null}),C=V=>{let z=V.replace(/_/g," ");return z=z.replace(/([A-Z])/g," $1"),z=z.charAt(0).toUpperCase()+z.slice(1),z.replace(/\s+/g," ").trim()},L=O.useMemo(()=>(console.log(t),!t||t.length===0?[]:t.filter(V=>Number(V.team_number)===Number(u)).sort((V,z)=>(V.match_number??0)-(z.match_number??0))),[t,u]),U=V=>{let z="desc";A.key===V&&(A.direction==="desc"?z="asc":A.direction==="asc"&&(z=null)),R({key:z?V:null,direction:z})},D=O.useMemo(()=>!A.key||!A.direction?L:[...L].sort((V,z)=>{const q=A.key==="match_number"?V.match_number:Number(V[A.key]??0),$=A.key==="match_number"?z.match_number:Number(z[A.key]??0);return A.direction==="asc"?q-$:$-q}),[L,A]),j=V=>A.key!==V?E.jsx("div",{}):A.direction==="desc"?E.jsx(SD,{size:24,className:"inline ml-1 text-orange-600"}):E.jsx(TD,{size:24,className:"inline ml-1 text-orange-600"}),k=O.useMemo(()=>L.length===0?[]:L.filter(V=>V.match_type=="match").map(V=>({match:V.match_number,value:Number(V[b]??0)})),[L,b]),M=O.useMemo(()=>p.find(V=>Number(V.team_number)===Number(u)),[u,p]);return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx(Vo,{}),E.jsx("main",{className:"pt-20 px-4 md:px-6",children:o||!t.length?E.jsx("div",{className:"text-orange-500 text-lg font-semibold",children:"Loading data..."}):E.jsxs("div",{className:"max-w-3xl mx-auto",children:[E.jsx("div",{className:"mb-6 fixed left-5 top-21 bg-gray-100 px-4 py-2 rounded-lg shadow-md",children:E.jsx(Oa,{view:u,setView:f,label:"Team: ",options:Object.keys(n).map(Number)})}),y&&E.jsx("img",{src:y,alt:`Team ${u}`,className:"w-40 h-40 object-contain mb-3 relative ml-auto"}),!y&&E.jsx("div",{className:"mt-16"}),E.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:[E.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Team ",u," - ",e[u]?.nickname??""]}),E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-sm",children:"Rank"}),E.jsx("p",{className:"text-lg font-semibold",children:h?.rankings?.find(V=>V.team_key===`frc${u}`)?.rank??"N/A"})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-sm",children:"Record"}),E.jsxs("p",{className:"text-lg font-semibold",children:[h?.rankings?.find(V=>V.team_key===`frc${u}`)?.record?.wins??0,"-",h?.rankings?.find(V=>V.team_key===`frc${u}`)?.record?.losses??0,"-",h?.rankings?.find(V=>V.team_key===`frc${u}`)?.record?.ties??0]})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-sm",children:"OPR"}),E.jsx("p",{className:"text-lg font-semibold",children:Math.round((Number(h?.oprs[`frc${u}`])??0)*10)/10})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-sm",children:"Quartile 3 Points"}),E.jsx("p",{className:"text-lg font-semibold",children:n[u]?.total_points?.q3??0})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-sm",children:"Auto Points"}),E.jsx("p",{className:"text-lg font-semibold",children:n[u]?.auto_points?.q3??0})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-sm",children:"Tele Points"}),E.jsx("p",{className:"text-lg font-semibold",children:n[u]?.tele_points?.q3??0})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-sm",children:"Endgame Points"}),E.jsx("p",{className:"text-lg font-semibold",children:n[u]?.endgame_points?.q3??0})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-sm",children:"Total Gamepieces"}),E.jsx("p",{className:"text-lg font-semibold",children:n[u]?.total_gamepieces?.q3??0})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[E.jsx("p",{className:"text-gray-500 text-sm",children:"Max Algae Net"}),E.jsx("p",{className:"text-lg font-semibold",children:n[u]?.tele_made_net?.max??0})]})]})]}),d[u]&&E.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[E.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"CoScout Analysis"}),E.jsxs("div",{className:"space-y-3 text-sm",children:[E.jsxs("div",{className:" bg-gray-50 p-3 rounded-lg border border-gray-200",children:[E.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Auto:"})," ",E.jsx("span",{className:"text-gray-700",children:d[u].auto})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[E.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Coral:"})," ",E.jsx("span",{className:"text-gray-700",children:d[u].coral})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[E.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Algae:"})," ",E.jsx("span",{className:"text-gray-700",children:d[u].algae})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[E.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Endgame:"})," ",E.jsx("span",{className:"text-gray-700",children:d[u].endgame})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[E.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Strengths:"})," ",E.jsx("span",{className:"text-gray-700",children:d[u].strengths})]}),E.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-300",children:[E.jsx("span",{className:"text-lg font-semibold text-red-600",children:"Concerns:"})," ",E.jsx("span",{className:"text-gray-700",children:d[u].concerns})]}),E.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:E.jsx("span",{className:"text-gray-600 italic",children:d[u].adjectives})})]})]}),E.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[E.jsx("h3",{className:"text-xl font-bold mb-4",children:"Consistency Graph"}),E.jsx("div",{className:"mb-4",children:E.jsx(Oa,{view:b,setView:w,label:"Field: ",options:wo.filter(V=>V!=="team_number")})}),E.jsx(zy,{width:"100%",height:300,children:E.jsxs(wue,{data:k,children:[E.jsx(g6,{strokeDasharray:"3 3"}),E.jsx(af,{dataKey:"match",label:{value:"Match",position:"insideBottom",offset:-5}}),E.jsx(sf,{}),E.jsx(J1,{animationDuration:50,labelFormatter:V=>`Match ${V}`}),E.jsx(E6,{type:"monotone",dataKey:"value",stroke:"#d8aa84ff",strokeWidth:2,animationDuration:750})]})})]}),E.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[E.jsxs("div",{className:"flex gap-2 mb-4",children:[E.jsx("button",{onClick:()=>S("comments"),className:`px-4 py-2 rounded-full font-medium transition cursor-pointer ${x==="comments"?"bg-orange-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Comments"}),E.jsx("button",{onClick:()=>S("pitScout"),className:`px-4 py-2 rounded-full font-medium transition cursor-pointer ${x==="pitScout"?"bg-orange-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Pit Scouting"})]}),x==="comments"&&E.jsx("div",{children:E.jsx("div",{className:"max-h-64 overflow-y-auto space-y-3 border border-gray-200 rounded p-3",children:L.length>0?L.filter(V=>V.comments).map(V=>E.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[E.jsxs("span",{className:"font-semibold text-orange-600",children:[V.match_type=="match"?"Match "+V.match_number:Tue(V.match_type)+" match",":"]})," ",E.jsx("span",{className:"text-gray-800",children:V.comments})]},V.id)):E.jsx("div",{className:"text-gray-500",children:"No comments available for this team."})})}),x==="pitScout"&&(M?E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[E.jsx("p",{className:"text-gray-500 text-sm",children:"Driver Experience"}),E.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.driver_experience||"N/A"})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[E.jsx("p",{className:"text-gray-500 text-sm",children:"Autos"}),E.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.auto_description||"N/A"})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[E.jsx("p",{className:"text-gray-500 text-sm",children:"Algae Details"}),E.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.algae_description||"N/A"})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[E.jsx("p",{className:"text-gray-500 text-sm",children:"Climb Details"}),E.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.endgame_description||"N/A"})]}),E.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[E.jsx("p",{className:"text-gray-500 text-sm",children:"Final Comments"}),E.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.comments||"N/A"})]})]}):E.jsx("p",{className:"text-gray-500",children:"No pit scout data for this team."}))]}),E.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[E.jsx("h3",{className:"text-xl font-bold mb-4",children:"Match Stats"}),E.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:E.jsxs("table",{className:"min-w-full",children:[E.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-orange-100",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700 cursor-pointer hover:bg-orange-200 transition-colors select-none border-b-2 border-orange-300",onClick:()=>U("match_number"),children:E.jsxs("div",{className:"flex items-center justify-center",children:["Match #",j("match_number")]})}),wo.filter(V=>V!="team_number").map(V=>E.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700 text-sm min-w-20 cursor-pointer hover:bg-orange-200 transition-colors select-none border-b-2 border-orange-300",onClick:()=>U(V),children:E.jsxs("div",{className:"flex items-center justify-center",children:[C(V),j(V)]})},V))]})}),E.jsx("tbody",{className:"divide-y divide-gray-200",children:D.length>0?D.map((V,z)=>E.jsxs("tr",{className:`transition-colors ${z%2===0?"bg-white hover:bg-gray-50":"bg-gray-50 hover:bg-gray-100"}`,children:[E.jsx("td",{className:"px-4 py-3 text-center font-medium text-gray-900",children:V.match_type!="match"?V.match_type.toUpperCase():V.match_number}),wo.filter(q=>q!="team_number").map(q=>E.jsx("td",{className:"px-4 py-3 text-center text-gray-700",children:V[q]??0},q))]},V.id)):E.jsx("tr",{children:E.jsx("td",{className:"px-4 py-8 text-center text-gray-500",colSpan:wo.length+1,children:"No match data available for this team."})})})]})})]}),E.jsxs("div",{className:"mt-8 max-w-3xl mx-auto",children:[E.jsx("h3",{className:"text-xl font-bold mb-4",children:"Match Schedule"}),E.jsx("div",{className:"space-y-2",children:h?.matches.filter(V=>V.alliances.red.team_keys.includes(`frc${u}`)||V.alliances.blue.team_keys.includes(`frc${u}`)).sort((V,z)=>{const q=["qf","sf","f"],$=q.includes(V.comp_level),ve=q.includes(z.comp_level);return $&&!ve?1:!$&&ve?-1:V.match_number-z.match_number}).map(V=>{const z=V.alliances.red.team_keys.includes(`frc${u}`),q=z?V.alliances.red:V.alliances.blue,$=z?V.alliances.blue:V.alliances.red,ve=q.score,we=$.score,G=V.winning_alliance?V.winning_alliance==="red"?"Red":V.winning_alliance==="blue"?"Blue":"Tie":null,re=["qf","sf","f"].includes(V.comp_level)?V.comp_level.toUpperCase():null;return E.jsxs("div",{className:`flex flex-row sm:flex-row justify-between items-center sm:items-center px-3 py-1 rounded-lg shadow-sm 
                        ${z?"bg-red-50":"bg-blue-50"}`,children:[E.jsxs("button",{className:"flex flex-row gap-3 p-3 cursor-pointer rounded-md hover:bg-gray-300 transition-bg duration-150",onClick:()=>{if(V.videos?.length>0){const pe=V.videos[0];let xe="";pe.type==="youtube"?xe=`https://www.youtube.com/watch?v=${pe.key}`:pe.type==="tba"&&(xe=`https://www.thebluealliance.com/match/${pe.key}`),xe&&window.open(xe,"_blank")}},children:["                                                    ",V.videos?.length>0&&E.jsx("div",{children:E.jsx(hB,{color:"gray",size:24})}),E.jsxs("div",{className:"font-semibold mb-1 sm:mb-0",children:[re?"Match":"Qual"," ",V.match_number," ",re&&E.jsxs("span",{className:"ml-2 text-sm text-red-600 font-bold",children:["[",re,"]"]})]})]}),E.jsxs("div",{className:"text-gray-700 mb-1 sm:mb-0",children:[E.jsx("div",{className:`${z?"bg-red-200":"bg-blue-200"} px-3 flex flex-row  justify-around rounded-md font-bold mb-1`,children:q.team_keys.map(pe=>pe.replace("frc","")).join(", ")}),E.jsx("div",{className:`${z?"bg-blue-200":"bg-red-200"} px-3 flex flex-row  justify-around rounded-md`,children:$.team_keys.map(pe=>pe.replace("frc","")).join(", ")})]}),E.jsx("div",{className:"text-right mt-1 sm:mt-0",children:ve!=null&&we!=null?E.jsxs("div",{children:[E.jsxs("div",{className:"font-bold text-lg",children:[ve," - ",we]}),G&&E.jsx("div",{className:`text-sm font-semibold ${G===(z?"Red":"Blue")?"text-green-600":"text-red-600"}`,children:G===(z?"Red":"Blue")?"Win":"Loss"})]}):V.time?E.jsx("div",{className:"text-sm text-gray-500",children:new Date(V.time*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}):E.jsx("div",{className:"text-sm text-gray-400",children:"TBD"})})]},V.key)})})]}),E.jsx(Eue,{categories:["total_coral","auto_points","tele_points","endgame_points","total_algae","total_gamepieces"]}),E.jsx("div",{className:"mb-30"})]})}),E.jsx($o,{}),E.jsx(su,{})]})}function Tue(t){return typeof t!="string"||t.length===0?t:t.charAt(0).toUpperCase()+t.slice(1)}function Aue({data:t,category:e,show:n}){const r=[...t].sort((p,y)=>y.value-p.value),[i,a]=O.useState(!1),[o,u]=O.useState(-1);fd();const{setCurrentViewingTeam:f,forms:h,teamInfo:d}=Gn();return E.jsxs("div",{className:"flex flex-row gap-0 w-full mb-10 justify-center",children:[E.jsx(AE,{isOpen:i,onClose:()=>a(!1),forms:h,teamNumber:o,teamInfo:d}),E.jsxs("div",{className:"flex flex-col gap-1 flex-1 max-w-xl min-w-50",children:[E.jsxs("div",{className:"grid grid-cols-3 bg-gray-700 text-white font-bold px-0 py-1 rounded grid-cols-[25%_25%_auto]",children:[E.jsx("div",{className:"text-center cursor-pointer",children:"Rank"}),E.jsx("div",{className:"text-center cursor-pointer",children:"Team"}),E.jsx("div",{className:"text-center cursor-pointer truncate",children:e})]}),r.map((p,y)=>E.jsxs("div",{className:`grid grid-cols-3 px-0 py-1 border-b border-gray-300 grid-cols-[25%_25%_auto] ${y%2===0?"bg-gray-100":"bg-gray-200"}`,children:[E.jsx("div",{className:"text-center",children:y+1}),E.jsx("div",{className:"text-center cursor-pointer hover:text-orange-500 hover:font-bold transition duartion-250",onClick:()=>{u(Number(p.team)),a(!0)},children:p.team}),E.jsx("div",{className:"text-center",children:p.value})]},p.team))]}),n&&E.jsx("div",{className:"flex-3 h-[50px * data.length] pt-8",children:E.jsx(zy,{width:"100%",height:"100%",children:E.jsxs(cS,{data:r,layout:"vertical",margin:{left:20},children:[E.jsx(af,{type:"number",hide:!0}),E.jsx(sf,{type:"category",dataKey:"team",hide:!0,interval:0}),E.jsx(J1,{isAnimationActive:!1}),E.jsx(qy,{dataKey:"value",fill:"#FF7F50",label:{position:"insideRight",fill:"white"}})]})})})]})}const Oue=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()};function Cue(){const{teamStats:t,loading:e,loadData:n}=Gn();fd();const[r,i]=O.useState("total_points"),[a,o]=O.useState("median"),[u,f]=O.useState(!0),h=Object.entries(t).map(([d,p])=>({team:d,value:p[r][a]})).sort((d,p)=>p.value-d.value);return O.useEffect(()=>{n()},[]),E.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[E.jsx(Vo,{}),E.jsxs("main",{className:"pt-20 px-0 md:px-6",children:[e?E.jsx("div",{className:"text-orange-500",children:"Loading data..."}):E.jsxs("div",{children:[E.jsxs("div",{className:"flex flex-col lg:flex-row gap-5",children:[E.jsx(Oa,{view:r,setView:i,label:"Category:",options:wo.filter(d=>d!="team_number")}),E.jsx(Oa,{view:a,setView:o,label:"Type:",options:["min","mean","median","q3","max"]}),E.jsx(Oa,{view:u,setView:d=>f(d===!0||d==="true"),label:"Show graph:",options:[!0,!1]})]}),E.jsx("div",{className:"h-10"}),E.jsx(Aue,{data:h,category:Oue(r),show:u})]}),E.jsx($o,{}),E.jsx(su,{})]})]})}function Pue(){const{loading:t,loadData:e,eventName:n,setEventName:r,eventKeys:i,usePracticeData:a,setUsePracticeData:o,teamInfo:u,forms:f,tbaData:h,pitForms:d}=Gn();O.useEffect(()=>{e()},[]);const y=PI(NI,{model:"gemini-2.5-flash",generationConfig:{temperature:.6,topP:.1,topK:16},systemInstruction:"You are a scouting assistant on team 3197, the hexhounds, competing in FRC robotics. give helpful tips that will help our team win, use insights from our data to answer questions"});async function b(){const A=[`Provide a team overview for each team. Make it a few sentences, specifically touch on any struggles, what their auto does, endgame capabilities, tele-operated scoring, algae/coral capabilities, and how good they are for picking. It is good to cite match numbers for specifics, but if match_type is practice or pre, then cite it as practice or pre match instead of the match number. If match number is over 500, then say practice match instead of number. Respond with short sentences/commas in the following format as a VALID JSON, 9999 being their team number:
            {
            [
            9999: {
                "auto": "Talk about their known auto modes from matches & pit scouting, where they start, consistency, etc. There is no defense in auto period",
                "coral": "Talk about their known coral capabilities from matches & pit scouting, what levels they can do, consistency, etc",
                "algae": "Talk about their known algae capabilities from matches & pit scouting, consistency, etc",
                "endgame": "Talk about their known endgames from matches & pit scouting, how long it takes to climb, consistency, etc",
                "strengths": "Talk about their relative strengths, what could make them better from other teams",
                "concerns": "This is the most important, talk about any known issues, worries, bad matches, concerns about the team & robot, it is critical to cite match numbers/ practice or pre here",
                "adjectives": "describe the words with a couple adjectives (such as strong, inconsistent, swift, etc)",
            }
            ]
        }
            `,"Only include the teams in the array below...",JSON.stringify([...new Set(f.map(U=>U.team_number))]),JSON.stringify(u),JSON.stringify(f),JSON.stringify(h),JSON.stringify(d)];var R;try{R=await y.generateContent(A),alert("Successfully generated overviews... uploading now.")}catch(U){alert("Error: "+U)}return(R?.response??null)?.text()??"{}"}async function w(){const A=["Provide match analysis for each match. If it is completed then analyze how each team performed in a sentence or two and why one alliance won. If it is upcoming provide ideas for how each alliance can win and your prediction.","Respond in a json format with 'match' concatenated with the number as the key followed by the output.","Make it concise, interesting to read as a quick overview for someone who missed the match and wants to know why one alliance won. you may add critical feedback or sarcasm but be professional and not mean","Scoring guide: auto : {l1: 3, l2: 4, l3: 6, l4: 7, leave: 3, algaenet:4, algaeProcessor:2}, tele : {l1: 2, l2:3, l3: 4, l4: 5, algaenet:4, algaeProcessor:2}, endgame: {deep climb: 12, park: 2, can only have one or the other}","Only do qual matches, not playoff (f, sf, etc)",JSON.stringify(u),JSON.stringify(f),JSON.stringify(h),JSON.stringify(d)];var R;try{R=await y.generateContent(A),alert("Successfully generated overviews... uploading now.")}catch(U){alert("Error: "+U)}return(R?.response??null)?.text()??"{}"}async function x(){try{alert("Sending message to ai...");const A=await b();console.warn(A);const R=A.replace(/`/g,"").replace("json","");console.warn(R);const C=JSON.parse(R);console.warn(C);const L=Xp(Yh,"aiOverview","overview");await uP(L,C,{merge:!0}),alert("All good! Finished fully.")}catch(A){alert("Error: "+A)}}async function S(){try{alert("Sending message to ai...");const A=await w();console.warn(A);const R=A.replace(/`/g,"").replace("json","");console.warn(R);const C=JSON.parse(R);console.warn(C);const L=Xp(Yh,"aiOverview","match");await uP(L,C,{merge:!0}),alert("All good! Finished fully.")}catch(A){alert("Error: "+A)}}return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx(Vo,{}),E.jsx("main",{className:"pt-20 px-0 md:px-6 pr-10",children:t?E.jsx("div",{className:"text-orange-500",children:"Loading data..."}):E.jsxs("div",{className:"flex flex-col items-center gap-2",children:[E.jsx(Oa,{view:n,setView:r,label:"Event Name: ",options:i}),E.jsx(Oa,{view:a,setView:o,label:"Include practice/pre scout data ",options:[!0,!1]}),E.jsx("button",{className:"cursor-pointer border-2 border-orange-400 px-2 py-1 text-lg rounded-md hover:bg-orange-700 hover:text-white transition duration-500",onClick:()=>{prompt("Put in a password to prevent abuse:")==="TyTy77"&&(alert("Generating ai overviews, play stay on the page until it either errors or succeeds... please close this dialogue."),x())},children:"Generate Team Overviews"}),E.jsx("button",{className:"cursor-pointer border-2 border-orange-400 px-2 py-1 text-lg rounded-md hover:bg-orange-700 hover:text-white transition duration-500",onClick:()=>{prompt("Put in a password to prevent abuse:")==="TyTy77"&&(alert("Generating ai overviews, play stay on the page until it either errors or succeeds... please close this dialogue."),S())},children:"Generate Match Overviews"})]})}),E.jsx($o,{})]})}function Rue(){const{loading:t,loadData:e,forms:n,tbaData:r,pitForms:i,teamInfo:a}=Gn(),[o,u]=O.useState(""),[f,h]=O.useState([{message:"Hi ai.",sender:"you"},{message:"Hey human!",sender:"ai"}]),[d,p]=O.useState(!1),b=PI(NI,{model:"gemini-2.5-flash",generationConfig:{temperature:.6,topP:.1,topK:16},systemInstruction:"You are a scouting assistant on team 3197, the hexhounds, competing in FRC robotics. give helpful tips that will help our team win, use insights from our data to answer questions"});async function w(x){const S=x;p(!0),u(""),h(U=>[...U,{message:S,sender:"you"}]);const A=["For team names you can reference teamInfo nickname data supplied, favor totalPoints in our scouting data more than opr","If they ask about a team using its name, find its corresponding number in teamInfo and then answer","Getting rank points help you improve rank. 3 for winning, 1 for 14+ points in endgame, 1 for auto mobility + 1 or more coral, and one for 4 levels with 5+ coral","Try to be as quick and concise as possible. don't write more than one or two paragraphs unless it asks for analysis","Scoring guide: auto : {l1: 3, l2: 4, l3: 6, l4: 7, leave: 3, algaenet:4, algaeProcessor:2}, tele : {l1: 2, l2:3, l3: 4, l4: 5, algaenet:4, algaeProcessor:2}, endgame: {deep climb: 12, park: 2, can only have one or the other}","Use scoring rules, team roles, and match strategies",S,JSON.stringify(a),JSON.stringify(n),JSON.stringify(r),JSON.stringify(i)],L=(await b.generateContent(A)).response.text();return p(!1),h(U=>[...U,{message:L,sender:"ai"}]),L}return O.useEffect(()=>{e()},[]),E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx(Vo,{}),E.jsx("main",{className:"pt-20 px-4 md:px-6 h-screen flex flex-col items-center pb-10",children:t?E.jsx("div",{className:"text-orange-500",children:"Loading data..."}):E.jsxs("div",{className:"flex flex-col items-center w-full max-w-4xl h-full gap-4",children:[E.jsx("div",{className:"text-2xl px-5 py-2 md:px-10 md:py-5 bg-gray-100 shadow-lg rounded-lg text-center w-full",children:"CoScout, the scouting assistant."}),E.jsxs("div",{className:"flex-1 w-full bg-gray-50 border-2 border-gray-100 rounded-lg p-4 md:p-5 flex flex-col gap-2 md:gap-4 overflow-y-auto",children:[f.map((x,S)=>{const A=x.sender==="you",R=C=>C.split(/\n/).flatMap(U=>U.startsWith("* ")?["*",U.slice(2)]:[U]).map((U,D)=>{if(U==="*")return E.jsx("br",{},D);const j=U.split(/\*\*/);return E.jsxs("div",{className:U.startsWith("*")?"flex gap-2":"",children:[U.startsWith("*")&&E.jsx("span",{children:"•"}),j.map((k,M)=>M%2===1?E.jsx("strong",{children:k},M):k)]},D)});return E.jsx("div",{className:`px-3 py-2 rounded-md shadow-sm max-w-full sm:max-w-[80%] my-1 self-${A?"end":"start"} ${A?"bg-orange-300":"bg-gray-200"}`,children:R(x.message)},S)}),d&&E.jsx("div",{className:"flex justify-start sm:justify-start",children:E.jsx(G$,{size:28,className:"animate-pulse"})})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-end w-full",children:[E.jsx("textarea",{value:o,onChange:x=>u(x.target.value),placeholder:"Send text here...",rows:3,className:"border-2 border-gray-400 active:border-gray-500 resize-none text-md px-4 py-3 bg-gray-100 shadow-lg rounded-lg w-full sm:w-auto flex-1"}),E.jsx("button",{onClick:()=>{o.length>0&&w(o)},className:"bg-orange-300 w-full sm:w-16 h-12 flex items-center justify-center rounded-lg cursor-pointer hover:shadow-lg hover:bg-orange-400 transition duration-200",children:E.jsx(iB,{size:28})})]})]})}),E.jsx($o,{}),E.jsx(su,{})]})}const Nue=({matchObject:t})=>{const{forms:e}=Gn(),n=t.alliances.blue.team_keys.map(h=>h.replace(/^frc/,"")),r=t.alliances.red.team_keys.map(h=>h.replace(/^frc/,"")),i=[...n,...r],a=["#FF0000","#FF4D4D","#CC0000"],o=["#3B82F6","#60A5FA","#1E40AF"],u=e.filter(h=>h.matchNumber==t.match_number&&i.includes(h.teamNumber));var f={match:t.match_number};return u.map(h=>{f[`${n.includes(String(h.teamNumber))?"b":"R"}${String(h.teamNumber)}`]=h.totalPoints}),E.jsxs("div",{className:"w-full h-35 bg-white rounded-xl p-1 shadow-md mt-5 flex flex-col",children:[E.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Scoring Distribution"}),E.jsx(zy,{width:"100%",height:"100%",children:E.jsxs(cS,{layout:"vertical",data:[f],children:[E.jsx(af,{type:"number",domain:[0,100],tickFormatter:h=>`${h.toFixed(0)}%`,hide:!0}),E.jsx(sf,{type:"category",dataKey:"match",width:10,hide:!0}),E.jsx(xy,{verticalAlign:"top",height:36,formatter:h=>h.replace("R","").replace("b","")}),Object.keys(f).sort().map((h,d)=>{if(h!="match")return E.jsx(qy,{dataKey:h,stackId:"stack",fill:h.includes("R")?a.pop():o.pop(),children:E.jsx(Pa,{dataKey:h,position:"center",formatter:p=>`${p}`,fill:"white",offset:0})},d)})]})})]})},Yj="viewingModeMatches",Xj="viewingTeamMatches";function jue(){const{loadData:t,tbaData:e,eventName:n,aiMatches:r,forms:i,teamStats:a}=Gn(),[o,u]=O.useState([]),[f,h]=O.useState(null),[d,p]=O.useState(!1),[y,b]=O.useState(sessionStorage.getItem(Yj)??"All"),[w,x]=O.useState(parseInt(sessionStorage.getItem(Xj)??"3197")),S={};return e?.rankings?.rankings&&e.rankings.rankings.forEach(A=>{S[`frc${A.team_key}`]=A.rank}),O.useEffect(()=>{sessionStorage.setItem(Yj,y)},[y]),O.useEffect(()=>{sessionStorage.setItem(Xj,String(w))},[w]),O.useEffect(()=>{if(!e){t();return}if(e.matches){p(!0);const A=[...e.matches].sort((R,C)=>{const L=["qm","ef","qf","sf","f"],U=L.indexOf(R.comp_level),D=L.indexOf(C.comp_level);return U!==D?U-D:R.match_number-C.match_number});u(A),p(!1)}},[e,t]),E.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[E.jsx(Vo,{}),E.jsxs("main",{className:"pt-20 px-2 md:px-6 flex flex-col items-center",children:[E.jsxs("h2",{className:"text-xl font-semibold mb-3",children:["Matches for Event: ",n]}),E.jsx(Oa,{view:y,setView:b,label:"View: ",options:["All","Team","Hypothetical"]}),y=="Team"&&E.jsx("div",{className:"mt-4",children:E.jsx(Oa,{view:w,setView:x,label:"Viewing team: ",options:Object.keys(a).map(Number)})}),E.jsx("div",{className:"h-10"}),d?E.jsx("div",{className:"text-orange-500 text-center",children:"Loading matches..."}):y!="Hypothetical"&&E.jsx("div",{className:"flex flex-col gap-2",children:o.filter(A=>y=="All"||[...A.alliances.red.team_keys.map(R=>R.replace("frc","")),...A.alliances.blue.team_keys.map(R=>R.replace("frc",""))].includes(String(w))).map(A=>{const{red:R,blue:C}=A.alliances,L=R.score!=null&&C.score!=null?R.score>C.score?"red":C.score>R.score?"blue":"tie":null,U=f===A.key;return E.jsxs("div",{className:"w-full max-w-xl ml-auto mr-auto p-3 rounded-lg shadow-sm bg-white border-2 border-gray-200 hover:border-gray-500 h-auto transition",children:[E.jsx("button",{className:"w-full transition cursor-pointer",onClick:()=>h(U?null:A.key),children:E.jsxs("div",{className:"flex flex-row items-center justify-between mt-1",children:[E.jsx("div",{className:`flex flex-col items-end text-md ${L==="red"?"text-red-500 font-bold":"text-red-900 font-regular"}`,children:R.team_keys.map(D=>{const j=D.replace("frc","");return E.jsxs("div",{className:"flex gap-1",children:[E.jsx("span",{children:j}),S[D]&&E.jsxs("span",{className:"text-gray-400",children:["#",S[D]]})]},D)})}),E.jsxs("div",{className:"mx-3 flex flex-col items-center font-bold justify-center gap-2",children:[E.jsxs("div",{className:"font-medium",children:[A.comp_level.toUpperCase()," ",A.match_number]}),R.score!=null&&C.score!=null?E.jsx(E.Fragment,{children:E.jsxs("div",{className:`px-2 py-0.5 rounded text-xl ${L==="red"?"bg-red-100 text-red-700":L==="blue"?"bg-blue-100 text-blue-700":"bg-gray-100"}`,children:[R.score," - ",C.score]})}):E.jsx("div",{className:"text-gray-400",children:"Upcoming"})]}),E.jsx("div",{className:`flex flex-col items-start text-md ${L==="blue"?"text-blue-500 font-bold":"text-blue-900 font-regular"}`,children:C.team_keys.map(D=>{const j=D.replace("frc","");return E.jsxs("div",{className:"flex gap-1",children:[E.jsx("span",{children:j}),S[D]&&E.jsxs("span",{className:"text-gray-400",children:["#",S[D]]})]},D)})})]})}),E.jsxs("div",{className:`mt-2 border-t pt-2 text-md text-gray-600 space-y-1 overflow-y-auto transition-all duration-300 ${U?"max-h-70 opacity-100":"max-h-0 opacity-0"}`,children:[A.time&&E.jsxs("div",{children:["Time:"," ",new Date(A.time*1e3).toLocaleString([],{hour:"2-digit",minute:"2-digit"})]}),A.videos?.length?E.jsxs("div",{className:"flex flex-row items-center",children:["Videos:"," ",A.videos.map(D=>{const j=D.type==="youtube"?`https://www.youtube.com/watch?v=${D.key}`:`https://www.thebluealliance.com/match/${A.key}`;return E.jsx("button",{onClick:()=>window.open(j,"_blank"),className:"ml-2 cursor-pointer bg-gray-50 hover:bg-gray-200 transition px-2 py-1 rounded-sm",children:E.jsx(bB,{className:"hover:scale-[1.25] transition",color:"darkorange"})})})]}):E.jsx("div",{children:"No videos yet"}),U&&E.jsx(Nue,{matchObject:A}),r["match"+A.match_number]&&A.comp_level==="qm"&&E.jsxs("div",{className:"mt-0 bg-white p-2",children:[E.jsx("h3",{className:"text-md font-bold mb-2",children:"CoScout Analysis"}),E.jsx("h5",{className:"text-sm mb-4",children:r["match"+A.match_number]})]})]})]},A.key)})}),E.jsx($o,{}),E.jsx(su,{})]})]})}function Due(){const{teamStats:t,loading:e,loadData:n}=Gn();return O.useEffect(()=>{n()},[]),E.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[E.jsx(Vo,{}),E.jsxs("main",{className:"pt-20 px-0 md:px-6",children:[e?E.jsx("div",{className:"text-orange-500",children:"Loading data..."}):E.jsx("div",{}),E.jsx($o,{}),E.jsx(su,{})]})]})}function kue(t,e){const n=["tele_l4","tele_l3","tele_l2","tele_l1"];let i=0;for(const a of t){const o={tele_l4:0,tele_l3:0,tele_l2:0,tele_l1:0};a.forEach(f=>{let h=f.total_coral??0;for(const d of n){const p=fS({forms:e,team:f.team_number,key:d,matchPercentageThresh:d==="tele_l1"?.25:.1});if(p||console.error(f.team_number+" CANNOT DO "+d),!p||o[d]>=5)continue;const y=5-o[d],b=Math.min(h,y);if(o[d]+=b,h-=b,h<=0)break}}),n.every(f=>o[f]>=5)&&i++}return console.warn(i),Math.round(i/t.length*100*10)/10}function Iue(t,e){const n=["tele_l4","tele_l3","tele_l2","tele_l1"];let i=0;for(const a of t){const o={tele_l4:0,tele_l3:0,tele_l2:0,tele_l1:0};a.forEach(h=>{let d=h.total_coral??0;for(const p of n){const y=fS({forms:e,team:h.team_number,key:p,matchPercentageThresh:p==="tele_l1"?.25:.1});if(y||console.error(h.team_number+" CANNOT DO "+p),!y||o[p]>=5)continue;const b=5-o[p],w=Math.min(d,b);if(o[p]+=w,d-=w,d<=0)break}}),n.filter(h=>o[h]>=5).length>=3&&i++}return console.warn(i),Math.round(i/t.length*100*10)/10}function Mue(t){return Math.round(t.map(e=>e.map(n=>n.endgame_points).reduce((n,r)=>n+r,0)).filter(e=>e>=14).length/t.length*100*10)/10}function fS({forms:t,team:e,key:n,matchPercentageThresh:r}){let i=t.filter(a=>a.team_number==e);return i.filter(a=>a[n]).length/i.length>r}function Lue(t,e){var n=[];const i=["tele_l4","tele_l3","tele_made_net","tele_l2","tele_l1"];for(const a of t){const o={tele_l4:0,tele_l3:0,tele_made_net:0,tele_l2:0,tele_l1:0};let u=a.map(f=>f.auto_points+f.endgame_points).reduce((f,h)=>f+h,0);a.forEach(f=>{let h=f.tele_l4??0+f.tele_l3??0+f.tele_l2??0+f.tele_l1??0,d=f.tele_made_net??0;for(const y of i){const b=fS({forms:e,team:f.team_number,key:y,matchPercentageThresh:y==="tele_l1"?.25:.1});if(b||console.error(f.team_number+" CANNOT DO "+y),!b||o[y]>=12)continue;const w=12-o[y];var p;if(y=="tele_made_net"?p=Math.min(d,w):p=Math.min(h,w),o[y]+=p,y=="tele_made_net"?d-=p:h-=p,h<=0)break}}),u+=o.tele_l4*5,u+=o.tele_l3*4,u+=o.tele_made_net*4,u+=o.tele_l2*3,u+=o.tele_l1*2,n.push(u)}return n.sort((a,o)=>a-o)}function Px({teams:t,forms:e}){let n=0,r=0,i=0,a=0,o=0,u=0,f=0,h=0;console.log("Running predictions...");const d=t.map(w=>e.filter(x=>x.team_number===w));console.log(d);let p=[];function y(w){return w.length===0?[]:w.reduce((x,S)=>x.flatMap(A=>S.map(R=>[...A,R])),[[]])}p=y(d);const b=Lue(p,e);return n=b[b.length-1],r=b[0],u=cF(b),f=jI(b),h=uF(b),{maximumScore:Math.round(10*n)/10,minimumScore:Math.round(10*r)/10,rankPointScore:Math.round(10*i)/10,rankPointLikelihood:Math.round(10*a)/10,defendedScores:Math.round(10*o)/10,meanScore:Math.round(10*u)/10,medianScore:Math.round(10*f)/10,q3Score:Math.round(10*h)/10,percentageCoralCoopRP:Iue(p,e),percentageCoralNormalRP:kue(p,e),percentageBargeRP:Mue(p)}}function Uue({allianceA:t,allianceB:e,forms:n}){const r=Px({teams:t,forms:n}),i=Px({teams:e,forms:n});return{allianceScorePredictionA:r,allianceScorePredictionB:i,winningPercentages:[]}}const Vue=[{id:"auto-viewer",name:"Auto Position Viewer",icon:AD},{id:"match-prediction",name:"Match Predictor",icon:PD},{id:"alliance-selection",name:"Alliance Selection",icon:CD},{id:"ranking",name:"Rank Simulation",icon:OD}];function $ue(){const[t,e]=O.useState("match-prediction"),[n,r]=O.useState(!1),{forms:i,teamStats:a,loading:o,columnPercentiles:u,loadData:f,teamInfo:h}=Gn();return O.useEffect(()=>{f()},[]),E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx(Vo,{}),E.jsxs("main",{className:"pt-16 flex h-screen",children:[E.jsxs("div",{className:`bg-white border-r border-gray-200 transition-all duration-300 ${n?"w-16":"w-64"} flex flex-col shadow-lg`,children:[E.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[!n&&E.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Sandboxes"}),E.jsx("button",{onClick:()=>r(!n),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:n?E.jsx(q$,{size:20,className:"text-gray-600"}):E.jsx(B$,{size:20,className:"text-gray-600"})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:Vue.map(d=>{const p=d.icon;return E.jsxs("button",{onClick:()=>e(d.id),className:`w-full cursor-pointer flex items-center gap-3 p-3 rounded-lg transition mb-2 ${t===d.id?"bg-orange-100 text-orange-700 font-semibold":"text-gray-700 hover:bg-gray-100"}`,title:n?d.name:"",children:[E.jsx(p,{size:20}),!n&&E.jsx("span",{className:"text-sm whitespace-nowrap",children:d.name})]},d.id)})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto",children:o?E.jsx("div",{className:"text-orange-500 m-15 text-2xl font-bold animate-bounce",children:"Loading data..."}):E.jsxs("div",{className:"p-6",children:[t==="auto-viewer"&&E.jsx(Bue,{}),t==="match-prediction"&&E.jsx(zue,{}),t==="alliance-selection"&&E.jsx(que,{}),t==="strategy-sim"&&E.jsx(Fue,{})]})})]}),E.jsx($o,{}),E.jsx(su,{})]})}function Bue(){const[t,e]=O.useState("1234"),[n,r]=O.useState([{x:100,y:100,team:"1234",label:"Start"},{x:300,y:150,team:"1234",label:"Score 1"},{x:500,y:200,team:"1234",label:"Score 2"}]);return E.jsx("div",{className:"max-w-6xl mx-auto",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[E.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[E.jsx(AD,{className:"text-orange-500"}),"Auto Position Viewer"]}),E.jsx("p",{className:"text-gray-600 mb-4",children:"Visualize autonomous routines and starting positions for teams"}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Number"}),E.jsx("input",{type:"text",value:t,onChange:i=>e(i.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter team number"})]}),E.jsx("div",{className:"relative bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border-2 border-blue-300 h-96 overflow-hidden",children:E.jsxs("svg",{className:"w-full h-full",children:[E.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#fieldPattern)",opacity:"0.1"}),E.jsx("defs",{children:E.jsx("pattern",{id:"fieldPattern",x:"0",y:"0",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:E.jsx("rect",{x:"0",y:"0",width:"50",height:"50",fill:"none",stroke:"#2563eb",strokeWidth:"0.5"})})}),n.map((i,a)=>E.jsxs("g",{children:[a>0&&E.jsx("line",{x1:n[a-1].x,y1:n[a-1].y,x2:i.x,y2:i.y,stroke:"#f97316",strokeWidth:"3",strokeDasharray:"5,5"}),E.jsx("circle",{cx:i.x,cy:i.y,r:"15",fill:"#f97316",stroke:"white",strokeWidth:"2"}),E.jsx("text",{x:i.x,y:i.y+30,textAnchor:"middle",className:"text-xs font-semibold fill-gray-700",children:i.label})]},a))]})}),E.jsx("div",{className:"mt-4 text-sm text-gray-500",children:E.jsx("p",{children:"Click positions to add waypoints • Drag to reposition"})})]})})}function zue(){const[t,e]=O.useState([-1,-1,-1]),[n,r]=O.useState([-1,-1,-1]),[i,a]=O.useState(null),[o,u]=O.useState(null),{forms:f,teamStats:h,loading:d,columnPercentiles:p,loadData:y,teamInfo:b}=Gn(),w=()=>{x=="Single"?a(Px({teams:t.filter(A=>A!=-1),forms:f})):x=="Double"&&u(Uue({allianceA:t.filter(A=>A!=-1),allianceB:n.filter(A=>A!=-1),forms:f}))},[x,S]=O.useState("Single");return E.jsx("div",{className:"max-w-4xl mx-auto mb-50",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[E.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[E.jsx(PD,{className:"text-orange-500"}),"Hypothetical Match Predictor"]}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Predict match outcomes based on team statistics"}),E.jsx(Oa,{view:x,setView:S,label:"Prediction type",options:["Single","Double"]}),E.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6 mt-6",children:[E.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-orange-300",children:[E.jsx("h3",{className:"text-lg font-bold text-black-700 mb-3",children:"Alliance A"}),t.map((A,R)=>E.jsxs("select",{value:A,onChange:C=>{const L=[...t];L[R]=parseInt(C.target.value),e(L)},className:"w-full px-3 py-2 mb-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[E.jsx("option",{children:"Blank slot"},-1),Object.keys(h).map(C=>h[parseInt(C)]).map((C,L)=>E.jsx("option",{children:C.team_number?.mean},L))]},R))]}),x=="Double"&&E.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-orange-300",children:[E.jsx("h3",{className:"text-lg font-bold text-black-700 mb-3",children:"Alliance B"}),n.map((A,R)=>E.jsxs("select",{value:A,onChange:C=>{const L=[...n];L[R]=parseInt(C.target.value),r(L)},className:"w-full px-3 py-2 mb-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[E.jsx("option",{children:"Blank slot"},-1),Object.keys(h).map(C=>h[parseInt(C)]).map((C,L)=>E.jsx("option",{children:C.team_number?.mean},L))]},R))]})]}),E.jsx("button",{onClick:w,className:"w-full bg-orange-500 text-white py-3 rounded-lg font-semibold hover:bg-orange-600 transition shadow-md",children:"Predict Match Outcome"}),x=="Single"&&i?.meanScore&&E.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-6 border-2 border-gray-300",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Predicted Outcome"}),E.jsxs("div",{className:"flex justify-around items-center gap-x-20 gap-y-5 flex-wrap",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.minimumScore}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Minimum"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.meanScore}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Mean"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.medianScore}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Median"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.q3Score}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"3rd Quartile"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.maximumScore}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Maximum"})]}),E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:[i.percentageCoralCoopRP,"%"]}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (COOP)"})]}),E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:[i.percentageCoralNormalRP,"%"]}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (No COOP)"})]}),E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:[i.percentageBargeRP,"%"]}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Barge RP"})]})]})]}),x=="Double"&&o?.allianceScorePredictionA&&E.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-6 border-2 border-gray-300",children:[E.jsx("div",{className:"flex justify-around items-center gap-5 flex-wrap",children:o.winningPercentages.map(A=>E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[A.description,":"]}),E.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:["A Win: ",A.allianceWinningPercentageA,"%"]}),E.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:["B Win: ",A.allianceWinningPercentageA,"%"]})]}))}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Alliance A:"}),E.jsxs("div",{className:"flex justify-around items-center gap-x-20 gap-y-5 flex-wrap",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.minimumScore>o.allianceScorePredictionB.minimumScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.minimumScore}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Minimum"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.meanScore>o.allianceScorePredictionB.meanScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.meanScore}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Mean"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.medianScore>o.allianceScorePredictionB.medianScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.medianScore}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Median"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.q3Score>o.allianceScorePredictionB.q3Score?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.q3Score}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"3rd Quartile"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.maximumScore>o.allianceScorePredictionB.maximumScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.maximumScore}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Maximum"})]}),E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageCoralCoopRP,"%"]}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (COOP)"})]}),E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageCoralNormalRP,"%"]}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (No COOP)"})]}),E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageBargeRP,"%"]}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Barge RP"})]})]}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 mt-15 text-center",children:"Alliance B:"}),E.jsxs("div",{className:"flex justify-around items-center gap-x-20 gap-y-5 flex-wrap",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.minimumScore>o.allianceScorePredictionA.minimumScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.minimumScore}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Minimum"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.meanScore>o.allianceScorePredictionA.meanScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.meanScore}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Mean"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.medianScore>o.allianceScorePredictionA.medianScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.medianScore}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Median"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.q3Score>o.allianceScorePredictionA.q3Score?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.q3Score}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"3rd Quartile"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.maximumScore>o.allianceScorePredictionA.maximumScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.maximumScore}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Maximum"})]}),E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageCoralCoopRP,"%"]}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (COOP)"})]}),E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageCoralNormalRP,"%"]}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (No COOP)"})]}),E.jsxs("div",{className:"text-center",children:[E.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageBargeRP,"%"]}),E.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Barge RP"})]})]})]})]})})}function que(){const{forms:t,teamStats:e,tbaData:n,teamInfo:r}=Gn(),i=C=>{if(!(A.role=="backup"&&A.seed>8)){let L=x;L[A.seed-1][A.role]=e[C.team_number],S(L)}A.role=="captain"?R(L=>({seed:L.seed,role:"first_pick"})):A.role=="first_pick"?A.seed<8?R(L=>({seed:L.seed+1,role:"captain"})):R(L=>({seed:8,role:"second_pick"})):A.role=="second_pick"?A.seed>1?R(L=>({seed:L.seed-1,role:"second_pick"})):R(L=>({seed:1,role:"backup"})):A.role=="backup"&&A.seed<8&&R(L=>({seed:L.seed+1,role:"backup"}))};function a(){const C=[...x];let L=A.seed,U=A.role;A.role==="first_pick"?U="captain":A.role==="captain"?A.seed>1&&(L=A.seed-1,U="first_pick"):A.role==="second_pick"?A.seed<8?L=A.seed+1:U="captain":A.role==="backup"&&(A.seed>1?L=A.seed-1:(U="second_pick",L=8));const D=L-1;C[D][U]={},S(C),R({seed:L,role:U})}function o(C){const L=["Seed","Captain","First Pick","Second Pick","Backup"].join("	"),U=C.map(j=>[j.seed,j.captain?.team_number?.mean??"-",j.first_pick?.team_number?.mean??"-",j.second_pick?.team_number?.mean??"-",j.backup?.team_number?.mean??"-"].join("	")),D=[L,...U].join(`
`);navigator.clipboard.writeText(D).then(()=>{console.log("✅ Alliances copied to clipboard (paste into Google Sheets!)")}).catch(j=>{console.error("❌ Failed to copy alliances:",j)})}const[u,f]=O.useState(!1),[h,d]=O.useState(-1),[p,y]=O.useState("Rank"),[b,w]=O.useState([]),[x,S]=O.useState([]),[A,R]=O.useState({role:"captain",seed:1});return O.useEffect(()=>{if(e&&t&&n){let C=[];Object.keys(e).forEach(U=>{const D=e[parseInt(U)];console.log(D),C.push({team_number:D.team_number.mean,rank:n?.rankings?.find(j=>j.team_key===`frc${D.team_number.mean}`)?.rank??-1,total_points:D.total_points.q3,opr:D.opr.q3})});const L=Array.from({length:8},(U,D)=>({seed:D+1,captain:{},first_pick:{},second_pick:{},backup:{}}));S(L),console.log(A),w(C)}},[e,n]),E.jsxs("div",{className:"max-w-6xl mx-auto",children:[E.jsx(AE,{isOpen:u,onClose:()=>f(!1),forms:t,teamNumber:h,teamInfo:r}),E.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[E.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[E.jsx(CD,{className:"text-orange-500"}),"Mock Alliance Selection"]}),E.jsxs("div",{className:"grid md:grid-cols-[1fr_2fr] gap-6",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex flex-col xl:flex-row justify-between align-center my-3 xl:gap-5",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Available Teams"}),E.jsxs("div",{className:"flex flex-row justify-end align-center gap-2 py-1 h-10",children:[E.jsx("button",{onClick:()=>y("Number"),className:`${p=="Number"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"Number"}),E.jsx("button",{onClick:()=>y("Rank"),className:`${p=="Rank"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"Rank"}),E.jsx("button",{onClick:()=>y("OPR"),className:`${p=="OPR"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"OPR"}),E.jsx("button",{onClick:()=>y("Points"),className:`${p=="Points"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"Points"})]})]}),E.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:b.filter(C=>!x.flatMap(L=>[L.captain.team_number?.max??0,L.first_pick.team_number?.max??0,L.second_pick.team_number?.max??0,L.backup.team_number?.max??0]).includes(C.team_number)).sort((C,L)=>{switch(p){case"Number":return C.team_number-L.team_number;case"OPR":return L.opr-C.opr;case"Points":return L.total_points-C.total_points;default:return C.rank-L.rank}}).map(C=>E.jsxs("div",{onClick:()=>i(C),className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-orange-50 hover:border-orange-300 cursor-pointer transition",children:[E.jsxs("div",{children:[E.jsxs("span",{className:"font-bold text-gray-800",children:["Team ",C.team_number]}),E.jsxs("span",{className:"text-sm text-gray-500 ml-4",children:["Rank ",C.rank]})]}),E.jsxs("div",{className:"text-sm text-gray-600",children:["OPR: ",C.opr]}),E.jsxs("div",{className:"text-sm text-gray-600",children:["Q3 Pts: ",C.total_points]})]},C.team_number))})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex flex-row justify-between align-center",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Alliances:"}),E.jsxs("div",{className:"text-center text-gray-400 flex flex-row items-center gap-3",children:[E.jsx("h3",{className:"select-none",children:"Click a team to add next pick/captain."}),E.jsx(H$,{onClick:()=>o(x),className:"m-2 hover:scale-115 transition rounded-md cursor-pointer",size:24,color:"black"}),E.jsx(gB,{onClick:()=>a(),className:"m-2 hover:scale-115 transition rounded-md cursor-pointer",size:24,color:"black"})]})]}),E.jsxs("div",{className:"grid grid-rows-9 w-full gap-3",children:[E.jsxs("div",{className:"flex flex-row justify-between gap-5 w-full",children:[E.jsxs("div",{className:"flex flex-row justify-between gap-3 flex-3 text-gray-700 text-sm",children:[E.jsx("h2",{children:"Seed"}),E.jsx("h2",{className:" flex-1 rounded-lg text-center",children:"Captain"}),E.jsx("h2",{className:"flex-1 rounded-lg text-center",children:"1st pick"}),E.jsx("h2",{className:" flex-1 rounded-lg text-center",children:"2nd pick"}),E.jsx("h2",{className:"flex-1 rounded-lg text-center",children:"Backup"})]}),E.jsx("div",{className:"flex flex-row justify-center gap-3 flex-1 text-gray-700 text-sm",children:E.jsx("h2",{children:"Predicted score"})})]}),x.map(C=>E.jsxs("div",{className:"flex flex-row justify-between gap-5 w-full",children:[E.jsxs("div",{className:"flex flex-row justify-between gap-3 flex-3 text-lg",children:[E.jsx("h2",{children:C.seed??"-"}),E.jsx("h2",{onClick:C.captain.team_number?.mean?()=>{d(C.captain.team_number?.mean),f(!0)}:()=>{},className:`${A.role=="captain"&&A.seed==C.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:C.captain.team_number?.mean??"-"}),E.jsx("h2",{onClick:C.first_pick.team_number?.mean?()=>{d(C.first_pick.team_number?.mean),f(!0)}:()=>{},className:`${A.role=="first_pick"&&A.seed==C.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:C.first_pick.team_number?.mean??"-"}),E.jsx("h2",{onClick:C.second_pick.team_number?.mean?()=>{d(C.second_pick.team_number?.mean),f(!0)}:()=>{},className:`${A.role=="second_pick"&&A.seed==C.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:C.second_pick.team_number?.mean??"-"}),E.jsx("h2",{onClick:C.backup.team_number?.mean?()=>{d(C.backup.team_number?.mean),f(!0)}:()=>{},className:`${A.role=="backup"&&A.seed==C.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:C.backup.team_number?.mean??"-"})]}),E.jsx("div",{className:"flex flex-row justify-center gap-3 flex-1 ",children:E.jsx("h2",{children:(C.captain.total_points?.q3??0)+(C.first_pick.total_points?.q3??0)+(C.second_pick.total_points?.q3??0)})})]}))]})]})]})]})]})}function Fue(){const[t,e]=O.useState({autoPoints:20,telePoints:60,endgamePoints:15}),n=t.autoPoints+t.telePoints+t.endgamePoints;return E.jsx("div",{className:"max-w-4xl mx-auto",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[E.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[E.jsx(OD,{className:"text-orange-500"}),"Strategy Simulator"]}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Plan and simulate different match strategies"}),E.jsxs("div",{className:"space-y-4 mb-6",children:[E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Auto Points: ",t.autoPoints]}),E.jsx("input",{type:"range",min:"0",max:"50",value:t.autoPoints,onChange:r=>e({...t,autoPoints:parseInt(r.target.value)}),className:"w-full accent-orange-500"})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tele Points: ",t.telePoints]}),E.jsx("input",{type:"range",min:"0",max:"100",value:t.telePoints,onChange:r=>e({...t,telePoints:parseInt(r.target.value)}),className:"w-full accent-orange-500"})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Endgame Points: ",t.endgamePoints]}),E.jsx("input",{type:"range",min:"0",max:"30",value:t.endgamePoints,onChange:r=>e({...t,endgamePoints:parseInt(r.target.value)}),className:"w-full accent-orange-500"})]})]}),E.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg p-6 border-2 border-orange-300",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Projected Score"}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-6xl font-bold text-orange-600",children:n}),E.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Total Points"})]}),E.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-2xl font-bold text-gray-700",children:t.autoPoints}),E.jsx("div",{className:"text-xs text-gray-500",children:"Auto"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-2xl font-bold text-gray-700",children:t.telePoints}),E.jsx("div",{className:"text-xs text-gray-500",children:"Tele"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-2xl font-bold text-gray-700",children:t.endgamePoints}),E.jsx("div",{className:"text-xs text-gray-500",children:"Endgame"})]})]})]})]})})}const Hue=g$([{path:"/",element:E.jsx(WK,{}),errorElement:E.jsx(JK,{})},{path:"teams",element:E.jsx(Sue,{})},{path:"ranks",element:E.jsx(Cue,{})},{path:"settings",element:E.jsx(Pue,{})},{path:"coscout",element:E.jsx(Rue,{})},{path:"match",element:E.jsx(jue,{})},{path:"picklist",element:E.jsx(Due,{})},{path:"sandbox",element:E.jsx($ue,{})}]);_V.createRoot(document.getElementById("root")).render(E.jsx(O.StrictMode,{children:E.jsx(C$,{router:Hue})}));
