function RV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function fi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function CV(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var yb={exports:{}},xd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AP;function jV(){if(AP)return xd;AP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return xd.Fragment=e,xd.jsx=n,xd.jsxs=n,xd}var TP;function NV(){return TP||(TP=1,yb.exports=jV()),yb.exports}var _=NV(),vb={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OP;function kV(){if(OP)return tt;OP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function S(H,oe,ie){this.props=H,this.context=oe,this.refs=E,this.updater=ie||b}S.prototype.isReactComponent={},S.prototype.setState=function(H,oe){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,oe,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function O(){}O.prototype=S.prototype;function R(H,oe,ie){this.props=H,this.context=oe,this.refs=E,this.updater=ie||b}var P=R.prototype=new O;P.constructor=R,x(P,S.prototype),P.isPureReactComponent=!0;var V=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function k(H,oe,ie,me,Pe,$e){return ie=$e.ref,{$$typeof:t,type:H,key:oe,ref:ie!==void 0?ie:null,props:$e}}function I(H,oe){return k(H.type,oe,void 0,void 0,void 0,H.props)}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function q(H){var oe={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ie){return oe[ie]})}var z=/\/+/g;function B(H,oe){return typeof H=="object"&&H!==null&&H.key!=null?q(""+H.key):oe.toString(36)}function M(){}function le(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(M,M):(H.status="pending",H.then(function(oe){H.status==="pending"&&(H.status="fulfilled",H.value=oe)},function(oe){H.status==="pending"&&(H.status="rejected",H.reason=oe)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function be(H,oe,ie,me,Pe){var $e=typeof H;($e==="undefined"||$e==="boolean")&&(H=null);var Ve=!1;if(H===null)Ve=!0;else switch($e){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(H.$$typeof){case t:case e:Ve=!0;break;case h:return Ve=H._init,be(Ve(H._payload),oe,ie,me,Pe)}}if(Ve)return Pe=Pe(H),Ve=me===""?"."+B(H,0):me,V(Pe)?(ie="",Ve!=null&&(ie=Ve.replace(z,"$&/")+"/"),be(Pe,oe,ie,"",function(we){return we})):Pe!=null&&(L(Pe)&&(Pe=I(Pe,ie+(Pe.key==null||H&&H.key===Pe.key?"":(""+Pe.key).replace(z,"$&/")+"/")+Ve)),oe.push(Pe)),1;Ve=0;var on=me===""?".":me+":";if(V(H))for(var Ot=0;Ot<H.length;Ot++)me=H[Ot],$e=on+B(me,Ot),Ve+=be(me,oe,ie,$e,Pe);else if(Ot=y(H),typeof Ot=="function")for(H=Ot.call(H),Ot=0;!(me=H.next()).done;)me=me.value,$e=on+B(me,Ot++),Ve+=be(me,oe,ie,$e,Pe);else if($e==="object"){if(typeof H.then=="function")return be(le(H),oe,ie,me,Pe);throw oe=String(H),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function G(H,oe,ie){if(H==null)return H;var me=[],Pe=0;return be(H,me,"","",function($e){return oe.call(ie,$e,Pe++)}),me}function ae(H){if(H._status===-1){var oe=H._result;oe=oe(),oe.then(function(ie){(H._status===0||H._status===-1)&&(H._status=1,H._result=ie)},function(ie){(H._status===0||H._status===-1)&&(H._status=2,H._result=ie)}),H._status===-1&&(H._status=0,H._result=oe)}if(H._status===1)return H._result.default;throw H._result}var ve=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function Se(){}return tt.Children={map:G,forEach:function(H,oe,ie){G(H,function(){oe.apply(this,arguments)},ie)},count:function(H){var oe=0;return G(H,function(){oe++}),oe},toArray:function(H){return G(H,function(oe){return oe})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},tt.Component=S,tt.Fragment=n,tt.Profiler=i,tt.PureComponent=R,tt.StrictMode=r,tt.Suspense=f,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,tt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return D.H.useMemoCache(H)}},tt.cache=function(H){return function(){return H.apply(null,arguments)}},tt.cloneElement=function(H,oe,ie){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var me=x({},H.props),Pe=H.key,$e=void 0;if(oe!=null)for(Ve in oe.ref!==void 0&&($e=void 0),oe.key!==void 0&&(Pe=""+oe.key),oe)!j.call(oe,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&oe.ref===void 0||(me[Ve]=oe[Ve]);var Ve=arguments.length-2;if(Ve===1)me.children=ie;else if(1<Ve){for(var on=Array(Ve),Ot=0;Ot<Ve;Ot++)on[Ot]=arguments[Ot+2];me.children=on}return k(H.type,Pe,void 0,void 0,$e,me)},tt.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},tt.createElement=function(H,oe,ie){var me,Pe={},$e=null;if(oe!=null)for(me in oe.key!==void 0&&($e=""+oe.key),oe)j.call(oe,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Pe[me]=oe[me]);var Ve=arguments.length-2;if(Ve===1)Pe.children=ie;else if(1<Ve){for(var on=Array(Ve),Ot=0;Ot<Ve;Ot++)on[Ot]=arguments[Ot+2];Pe.children=on}if(H&&H.defaultProps)for(me in Ve=H.defaultProps,Ve)Pe[me]===void 0&&(Pe[me]=Ve[me]);return k(H,$e,void 0,void 0,null,Pe)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(H){return{$$typeof:u,render:H}},tt.isValidElement=L,tt.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:ae}},tt.memo=function(H,oe){return{$$typeof:d,type:H,compare:oe===void 0?null:oe}},tt.startTransition=function(H){var oe=D.T,ie={};D.T=ie;try{var me=H(),Pe=D.S;Pe!==null&&Pe(ie,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Se,ve)}catch($e){ve($e)}finally{D.T=oe}},tt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},tt.use=function(H){return D.H.use(H)},tt.useActionState=function(H,oe,ie){return D.H.useActionState(H,oe,ie)},tt.useCallback=function(H,oe){return D.H.useCallback(H,oe)},tt.useContext=function(H){return D.H.useContext(H)},tt.useDebugValue=function(){},tt.useDeferredValue=function(H,oe){return D.H.useDeferredValue(H,oe)},tt.useEffect=function(H,oe,ie){var me=D.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(H,oe)},tt.useId=function(){return D.H.useId()},tt.useImperativeHandle=function(H,oe,ie){return D.H.useImperativeHandle(H,oe,ie)},tt.useInsertionEffect=function(H,oe){return D.H.useInsertionEffect(H,oe)},tt.useLayoutEffect=function(H,oe){return D.H.useLayoutEffect(H,oe)},tt.useMemo=function(H,oe){return D.H.useMemo(H,oe)},tt.useOptimistic=function(H,oe){return D.H.useOptimistic(H,oe)},tt.useReducer=function(H,oe,ie){return D.H.useReducer(H,oe,ie)},tt.useRef=function(H){return D.H.useRef(H)},tt.useState=function(H){return D.H.useState(H)},tt.useSyncExternalStore=function(H,oe,ie){return D.H.useSyncExternalStore(H,oe,ie)},tt.useTransition=function(){return D.H.useTransition()},tt.version="19.1.1",tt}var PP;function rf(){return PP||(PP=1,vb.exports=kV()),vb.exports}var A=rf();const Id=fi(A),DV=RV({__proto__:null,default:Id},[A]);var bb={exports:{}},Ed={},_b={exports:{}},wb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP;function IV(){return RP||(RP=1,(function(t){function e(G,ae){var ve=G.length;G.push(ae);e:for(;0<ve;){var Se=ve-1>>>1,H=G[Se];if(0<i(H,ae))G[Se]=ae,G[ve]=H,ve=Se;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ae=G[0],ve=G.pop();if(ve!==ae){G[0]=ve;e:for(var Se=0,H=G.length,oe=H>>>1;Se<oe;){var ie=2*(Se+1)-1,me=G[ie],Pe=ie+1,$e=G[Pe];if(0>i(me,ve))Pe<H&&0>i($e,me)?(G[Se]=$e,G[Pe]=ve,Se=Pe):(G[Se]=me,G[ie]=ve,Se=ie);else if(Pe<H&&0>i($e,ve))G[Se]=$e,G[Pe]=ve,Se=Pe;else break e}}return ae}function i(G,ae){var ve=G.sortIndex-ae.sortIndex;return ve!==0?ve:G.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var f=[],d=[],h=1,p=null,y=3,b=!1,x=!1,E=!1,S=!1,O=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function V(G){for(var ae=n(d);ae!==null;){if(ae.callback===null)r(d);else if(ae.startTime<=G)r(d),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=n(d)}}function D(G){if(E=!1,V(G),!x)if(n(f)!==null)x=!0,j||(j=!0,B());else{var ae=n(d);ae!==null&&be(D,ae.startTime-G)}}var j=!1,k=-1,I=5,L=-1;function q(){return S?!0:!(t.unstable_now()-L<I)}function z(){if(S=!1,j){var G=t.unstable_now();L=G;var ae=!0;try{e:{x=!1,E&&(E=!1,R(k),k=-1),b=!0;var ve=y;try{t:{for(V(G),p=n(f);p!==null&&!(p.expirationTime>G&&q());){var Se=p.callback;if(typeof Se=="function"){p.callback=null,y=p.priorityLevel;var H=Se(p.expirationTime<=G);if(G=t.unstable_now(),typeof H=="function"){p.callback=H,V(G),ae=!0;break t}p===n(f)&&r(f),V(G)}else r(f);p=n(f)}if(p!==null)ae=!0;else{var oe=n(d);oe!==null&&be(D,oe.startTime-G),ae=!1}}break e}finally{p=null,y=ve,b=!1}ae=void 0}}finally{ae?B():j=!1}}}var B;if(typeof P=="function")B=function(){P(z)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,le=M.port2;M.port1.onmessage=z,B=function(){le.postMessage(null)}}else B=function(){O(z,0)};function be(G,ae){k=O(function(){G(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(G){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var ve=y;y=ae;try{return G()}finally{y=ve}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ve=y;y=G;try{return ae()}finally{y=ve}},t.unstable_scheduleCallback=function(G,ae,ve){var Se=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Se+ve:Se):ve=Se,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ve+H,G={id:h++,callback:ae,priorityLevel:G,startTime:ve,expirationTime:H,sortIndex:-1},ve>Se?(G.sortIndex=ve,e(d,G),n(f)===null&&G===n(d)&&(E?(R(k),k=-1):E=!0,be(D,ve-Se))):(G.sortIndex=H,e(f,G),x||b||(x=!0,j||(j=!0,B()))),G},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(G){var ae=y;return function(){var ve=y;y=ae;try{return G.apply(this,arguments)}finally{y=ve}}}})(wb)),wb}var CP;function MV(){return CP||(CP=1,_b.exports=IV()),_b.exports}var xb={exports:{}},dr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP;function LV(){if(jP)return dr;jP=1;var t=rf();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:d,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dr.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,h)},dr.flushSync=function(f){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=d,r.p=h,r.d.f()}},dr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},dr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},dr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,p=u(h,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):h==="script"&&r.d.X(f,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},dr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},dr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=u(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},dr.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},dr.requestFormReset=function(f){r.d.r(f)},dr.unstable_batchedUpdates=function(f,d){return f(d)},dr.useFormState=function(f,d,h){return o.H.useFormState(f,d,h)},dr.useFormStatus=function(){return o.H.useHostTransitionStatus()},dr.version="19.1.1",dr}var NP;function pD(){if(NP)return xb.exports;NP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xb.exports=LV(),xb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kP;function $V(){if(kP)return Ed;kP=1;var t=MV(),e=rf(),n=pD();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,c=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(c=l.return),s=l.return;while(s)}return l.tag===3?c:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var c=s,m=l;;){var v=c.return;if(v===null)break;var w=v.alternate;if(w===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===c)return u(v),s;if(w===m)return u(v),l;w=w.sibling}throw Error(r(188))}if(c.return!==m.return)c=v,m=w;else{for(var N=!1,$=v.child;$;){if($===c){N=!0,c=v,m=w;break}if($===m){N=!0,m=v,c=w;break}$=$.sibling}if(!N){for($=w.child;$;){if($===c){N=!0,c=w,m=v;break}if($===m){N=!0,m=w,c=v;break}$=$.sibling}if(!N)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:l}function d(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=d(s),l!==null)return l;s=s.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function le(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case j:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case P:return(s.displayName||"Context")+".Provider";case R:return(s._context.displayName||"Context")+".Consumer";case V:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return l=s.displayName||null,l!==null?l:le(s.type)||"Memo";case I:l=s._payload,s=s._init;try{return le(s(l))}catch{}}return null}var be=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Se=[],H=-1;function oe(s){return{current:s}}function ie(s){0>H||(s.current=Se[H],Se[H]=null,H--)}function me(s,l){H++,Se[H]=s.current,s.current=l}var Pe=oe(null),$e=oe(null),Ve=oe(null),on=oe(null);function Ot(s,l){switch(me(Ve,l),me($e,s),me(Pe,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?ZO(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=ZO(l),s=eP(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ie(Pe),me(Pe,s)}function we(){ie(Pe),ie($e),ie(Ve)}function De(s){s.memoizedState!==null&&me(on,s);var l=Pe.current,c=eP(l,s.type);l!==c&&(me($e,s),me(Pe,c))}function Ke(s){$e.current===s&&(ie(Pe),ie($e)),on.current===s&&(ie(on),yd._currentValue=ve)}var pe=Object.prototype.hasOwnProperty,Jt=t.unstable_scheduleCallback,et=t.unstable_cancelCallback,dn=t.unstable_shouldYield,vn=t.unstable_requestPaint,nn=t.unstable_now,Vs=t.unstable_getCurrentPriorityLevel,rl=t.unstable_ImmediatePriority,Us=t.unstable_UserBlockingPriority,Fa=t.unstable_NormalPriority,qi=t.unstable_LowPriority,hi=t.unstable_IdlePriority,Bs=t.log,zs=t.unstable_setDisableYieldValue,Et=null,nt=null;function cr(s){if(typeof Bs=="function"&&zs(s),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Et,s)}catch{}}var bn=Math.clz32?Math.clz32:ua,Eu=Math.log,mi=Math.LN2;function ua(s){return s>>>=0,s===0?32:31-(Eu(s)/mi|0)|0}var ca=256,fa=4194304;function qr(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ha(s,l,c){var m=s.pendingLanes;if(m===0)return 0;var v=0,w=s.suspendedLanes,N=s.pingedLanes;s=s.warmLanes;var $=m&134217727;return $!==0?(m=$&~w,m!==0?v=qr(m):(N&=$,N!==0?v=qr(N):c||(c=$&~s,c!==0&&(v=qr(c))))):($=m&~w,$!==0?v=qr($):N!==0?v=qr(N):c||(c=m&~s,c!==0&&(v=qr(c)))),v===0?0:l!==0&&l!==v&&(l&w)===0&&(w=v&-v,c=l&-l,w>=c||w===32&&(c&4194048)!==0)?l:v}function pi(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function qs(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ka(){var s=ca;return ca<<=1,(ca&4194048)===0&&(ca=256),s}function il(){var s=fa;return fa<<=1,(fa&62914560)===0&&(fa=4194304),s}function gi(s){for(var l=[],c=0;31>c;c++)l.push(s);return l}function Fi(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Fs(s,l,c,m,v,w){var N=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var $=s.entanglements,F=s.expirationTimes,Z=s.hiddenUpdates;for(c=N&~c;0<c;){var ue=31-bn(c),fe=1<<ue;$[ue]=0,F[ue]=-1;var ne=Z[ue];if(ne!==null)for(Z[ue]=null,ue=0;ue<ne.length;ue++){var re=ne[ue];re!==null&&(re.lane&=-536870913)}c&=~fe}m!==0&&wr(s,m,0),w!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=w&~(N&~l))}function wr(s,l,c){s.pendingLanes|=l,s.suspendedLanes&=~l;var m=31-bn(l);s.entangledLanes|=l,s.entanglements[m]=s.entanglements[m]|1073741824|c&4194090}function da(s,l){var c=s.entangledLanes|=l;for(s=s.entanglements;c;){var m=31-bn(c),v=1<<m;v&l|s[m]&l&&(s[m]|=l),c&=~v}}function ha(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Hs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function K(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:bP(s.type))}function X(s,l){var c=ae.p;try{return ae.p=s,l()}finally{ae.p=c}}var ee=Math.random().toString(36).slice(2),de="__reactFiber$"+ee,ye="__reactProps$"+ee,xe="__reactContainer$"+ee,Ie="__reactEvents$"+ee,je="__reactListeners$"+ee,Ne="__reactHandles$"+ee,Ue="__reactResources$"+ee,ke="__reactMarker$"+ee;function Re(s){delete s[de],delete s[ye],delete s[Ie],delete s[je],delete s[Ne]}function Ze(s){var l=s[de];if(l)return l;for(var c=s.parentNode;c;){if(l=c[xe]||c[de]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(s=iP(s);s!==null;){if(c=s[de])return c;s=iP(s)}return l}s=c,c=s.parentNode}return null}function mt(s){if(s=s[de]||s[xe]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Ct(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function St(s){var l=s[Ue];return l||(l=s[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ye(s){s[ke]=!0}var At=new Set,jr={};function Zn(s,l){Bn(s,l),Bn(s+"Capture",l)}function Bn(s,l){for(jr[s]=l,s=0;s<l.length;s++)At.add(l[s])}var xr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ks={},Fr={};function yi(s){return pe.call(Fr,s)?!0:pe.call(Ks,s)?!1:xr.test(s)?Fr[s]=!0:(Ks[s]=!0,!1)}function Hr(s,l,c){if(yi(l))if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+c)}}function Er(s,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+c)}}function Fe(s,l,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(l,c,""+m)}}var Zt,Hi;function er(s){if(Zt===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);Zt=l&&l[1]||"",Hi=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+s+Hi}var Ht=!1;function Ki(s,l){if(!s||Ht)return"";Ht=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ne=re}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(re){ne=re}s.call(fe.prototype)}}else{try{throw Error()}catch(re){ne=re}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),N=w[0],$=w[1];if(N&&$){var F=N.split(`
`),Z=$.split(`
`);for(v=m=0;m<F.length&&!F[m].includes("DetermineComponentFrameRoot");)m++;for(;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;if(m===F.length||v===Z.length)for(m=F.length-1,v=Z.length-1;1<=m&&0<=v&&F[m]!==Z[v];)v--;for(;1<=m&&0<=v;m--,v--)if(F[m]!==Z[v]){if(m!==1||v!==1)do if(m--,v--,0>v||F[m]!==Z[v]){var ue=`
`+F[m].replace(" at new "," at ");return s.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",s.displayName)),ue}while(1<=m&&0<=v);break}}}finally{Ht=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?er(c):""}function Gs(s){switch(s.tag){case 26:case 27:case 5:return er(s.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 15:return Ki(s.type,!1);case 11:return Ki(s.type.render,!1);case 1:return Ki(s.type,!0);case 31:return er("Activity");default:return""}}function Ws(s){try{var l="";do l+=Gs(s),s=s.return;while(s);return l}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Sr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Af(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function wv(s){var l=Af(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),m=""+s[l];if(!s.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,w=c.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return v.call(this)},set:function(N){m=""+N,w.call(this,N)}}),Object.defineProperty(s,l,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(N){m=""+N},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Su(s){s._valueTracker||(s._valueTracker=wv(s))}function Tf(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var c=l.getValue(),m="";return s&&(m=Af(s)?s.checked?"true":"false":s.value),s=m,s!==c?(l.setValue(s),!0):!1}function al(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var xv=/[\n"\\]/g;function _n(s){return s.replace(xv,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Kr(s,l,c,m,v,w,N,$){s.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.type=N:s.removeAttribute("type"),l!=null?N==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Sr(l)):s.value!==""+Sr(l)&&(s.value=""+Sr(l)):N!=="submit"&&N!=="reset"||s.removeAttribute("value"),l!=null?Ys(s,N,Sr(l)):c!=null?Ys(s,N,Sr(c)):m!=null&&s.removeAttribute("value"),v==null&&w!=null&&(s.defaultChecked=!!w),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?s.name=""+Sr($):s.removeAttribute("name")}function sl(s,l,c,m,v,w,N,$){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),l!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;c=c!=null?""+Sr(c):"",l=l!=null?""+Sr(l):c,$||l===s.value||(s.value=l),s.defaultValue=l}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=$?s.checked:!!m,s.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.name=N)}function Ys(s,l,c){l==="number"&&al(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Ga(s,l,c,m){if(s=s.options,l){l={};for(var v=0;v<c.length;v++)l["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=l.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&m&&(s[c].defaultSelected=!0)}else{for(c=""+Sr(c),l=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,m&&(s[v].defaultSelected=!0);return}l!==null||s[v].disabled||(l=s[v])}l!==null&&(l.selected=!0)}}function Dt(s,l,c){if(l!=null&&(l=""+Sr(l),l!==s.value&&(s.value=l),c==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=c!=null?""+Sr(c):""}function ol(s,l,c,m){if(l==null){if(m!=null){if(c!=null)throw Error(r(92));if(be(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),l=c}c=Sr(l),s.defaultValue=c,m=s.textContent,m===c&&m!==""&&m!==null&&(s.value=m)}function vi(s,l){if(l){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=l;return}}s.textContent=l}var ll=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function om(s,l,c){var m=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":m?s.setProperty(l,c):typeof c!="number"||c===0||ll.has(l)?l==="float"?s.cssFloat=c:s[l]=(""+c).trim():s[l]=c+"px"}function Of(s,l,c){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var v in l)m=l[v],l.hasOwnProperty(v)&&c[v]!==m&&om(s,v,m)}else for(var w in l)l.hasOwnProperty(w)&&om(s,w,l[w])}function Pf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ev=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Au(s){return Sv.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Wa=null;function bi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ya=null,Xa=null;function Rf(s){var l=mt(s);if(l&&(s=l.stateNode)){var c=s[ye]||null;e:switch(s=l.stateNode,l.type){case"input":if(Kr(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+_n(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var m=c[l];if(m!==s&&m.form===s.form){var v=m[ye]||null;if(!v)throw Error(r(90));Kr(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<c.length;l++)m=c[l],m.form===s.form&&Tf(m)}break e;case"textarea":Dt(s,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&Ga(s,!!c.multiple,l,!1)}}}var ma=!1;function lm(s,l,c){if(ma)return s(l,c);ma=!0;try{var m=s(l);return m}finally{if(ma=!1,(Ya!==null||Xa!==null)&&(tp(),Ya&&(l=Ya,s=Xa,Xa=Ya=null,Rf(l),s)))for(l=0;l<s.length;l++)Rf(s[l])}}function ul(s,l){var c=s.stateNode;if(c===null)return null;var m=c[ye]||null;if(m===null)return null;c=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,l,typeof c));return c}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_i=!1;if(Gi)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){_i=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{_i=!1}var pa=null,Xs=null,Qa=null;function Cf(){if(Qa)return Qa;var s,l=Xs,c=l.length,m,v="value"in pa?pa.value:pa.textContent,w=v.length;for(s=0;s<c&&l[s]===v[s];s++);var N=c-s;for(m=1;m<=N&&l[c-m]===v[w-m];m++);return Qa=v.slice(s,1<m?1-m:void 0)}function ga(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function ya(){return!0}function jf(){return!1}function zn(s){function l(c,m,v,w,N){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(c=s[$],this[$]=c?c(w):w[$]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ya:jf,this.isPropagationStopped=jf,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),l}var Pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tu=zn(Pt),fl=h({},Pt,{view:0,detail:0}),um=zn(fl),Ou,Pu,va,dl=h({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pl,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==va&&(va&&s.type==="mousemove"?(Ou=s.screenX-va.screenX,Pu=s.screenY-va.screenY):Pu=Ou=0,va=s),Ou)},movementY:function(s){return"movementY"in s?s.movementY:Pu}}),wi=zn(dl),cm=h({},dl,{dataTransfer:0}),Av=zn(cm),hl=h({},fl,{relatedTarget:0}),Ru=zn(hl),Nf=h({},Pt,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=zn(Nf),fm=h({},Pt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ju=zn(fm),Tv=h({},Pt,{data:0}),kf=zn(Tv),ml={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Df(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=hm[s])?!!l[s]:!1}function pl(){return Df}var mm=h({},fl,{key:function(s){if(s.key){var l=ml[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=ga(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?dm[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pl,charCode:function(s){return s.type==="keypress"?ga(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ga(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Nu=zn(mm),pm=h({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),If=zn(pm),Ja=h({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pl}),gm=zn(Ja),ym=h({},Pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vm=zn(ym),bm=h({},dl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ku=zn(bm),Ar=h({},Pt,{newState:0,oldState:0}),_m=zn(Ar),wm=[9,13,27,32],ba=Gi&&"CompositionEvent"in window,g=null;Gi&&"documentMode"in document&&(g=document.documentMode);var T=Gi&&"TextEvent"in window&&!g,C=Gi&&(!ba||g&&8<g&&11>=g),U=" ",Q=!1;function se(s,l){switch(s){case"keyup":return wm.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var pt=!1;function Cn(s,l){switch(s){case"compositionend":return _e(l);case"keypress":return l.which!==32?null:(Q=!0,U);case"textInput":return s=l.data,s===U&&Q?null:s;default:return null}}function gt(s,l){if(pt)return s==="compositionend"||!ba&&se(s,l)?(s=Cf(),Qa=Xs=pa=null,pt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return C&&l.locale!=="ko"?null:l.data;default:return null}}var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!qn[s.type]:l==="textarea"}function Za(s,l,c,m){Ya?Xa?Xa.push(m):Xa=[m]:Ya=m,l=op(l,"onChange"),0<l.length&&(c=new Tu("onChange","change",null,c,m),s.push({event:c,listeners:l}))}var tr=null,_a=null;function Mf(s){WO(s,0)}function xm(s){var l=Ct(s);if(Tf(l))return s}function pA(s,l){if(s==="change")return l}var gA=!1;if(Gi){var Ov;if(Gi){var Pv="oninput"in document;if(!Pv){var yA=document.createElement("div");yA.setAttribute("oninput","return;"),Pv=typeof yA.oninput=="function"}Ov=Pv}else Ov=!1;gA=Ov&&(!document.documentMode||9<document.documentMode)}function vA(){tr&&(tr.detachEvent("onpropertychange",bA),_a=tr=null)}function bA(s){if(s.propertyName==="value"&&xm(_a)){var l=[];Za(l,_a,s,bi(s)),lm(Mf,l)}}function a$(s,l,c){s==="focusin"?(vA(),tr=l,_a=c,tr.attachEvent("onpropertychange",bA)):s==="focusout"&&vA()}function s$(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return xm(_a)}function o$(s,l){if(s==="click")return xm(l)}function l$(s,l){if(s==="input"||s==="change")return xm(l)}function u$(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Gr=typeof Object.is=="function"?Object.is:u$;function Lf(s,l){if(Gr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var c=Object.keys(s),m=Object.keys(l);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!pe.call(l,v)||!Gr(s[v],l[v]))return!1}return!0}function _A(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function wA(s,l){var c=_A(s);s=0;for(var m;c;){if(c.nodeType===3){if(m=s+c.textContent.length,s<=l&&m>=l)return{node:c,offset:l-s};s=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=_A(c)}}function xA(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?xA(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function EA(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=al(s.document);l instanceof s.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)s=l.contentWindow;else break;l=al(s.document)}return l}function Rv(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var c$=Gi&&"documentMode"in document&&11>=document.documentMode,Du=null,Cv=null,$f=null,jv=!1;function SA(s,l,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;jv||Du==null||Du!==al(m)||(m=Du,"selectionStart"in m&&Rv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),$f&&Lf($f,m)||($f=m,m=op(Cv,"onSelect"),0<m.length&&(l=new Tu("onSelect","select",null,l,c),s.push({event:l,listeners:m}),l.target=Du)))}function gl(s,l){var c={};return c[s.toLowerCase()]=l.toLowerCase(),c["Webkit"+s]="webkit"+l,c["Moz"+s]="moz"+l,c}var Iu={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionrun:gl("Transition","TransitionRun"),transitionstart:gl("Transition","TransitionStart"),transitioncancel:gl("Transition","TransitionCancel"),transitionend:gl("Transition","TransitionEnd")},Nv={},AA={};Gi&&(AA=document.createElement("div").style,"AnimationEvent"in window||(delete Iu.animationend.animation,delete Iu.animationiteration.animation,delete Iu.animationstart.animation),"TransitionEvent"in window||delete Iu.transitionend.transition);function yl(s){if(Nv[s])return Nv[s];if(!Iu[s])return s;var l=Iu[s],c;for(c in l)if(l.hasOwnProperty(c)&&c in AA)return Nv[s]=l[c];return s}var TA=yl("animationend"),OA=yl("animationiteration"),PA=yl("animationstart"),f$=yl("transitionrun"),d$=yl("transitionstart"),h$=yl("transitioncancel"),RA=yl("transitionend"),CA=new Map,kv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kv.push("scrollEnd");function Wi(s,l){CA.set(s,l),Zn(l,[s])}var jA=new WeakMap;function xi(s,l){if(typeof s=="object"&&s!==null){var c=jA.get(s);return c!==void 0?c:(l={value:s,source:l,stack:Ws(l)},jA.set(s,l),l)}return{value:s,source:l,stack:Ws(l)}}var Ei=[],Mu=0,Dv=0;function Em(){for(var s=Mu,l=Dv=Mu=0;l<s;){var c=Ei[l];Ei[l++]=null;var m=Ei[l];Ei[l++]=null;var v=Ei[l];Ei[l++]=null;var w=Ei[l];if(Ei[l++]=null,m!==null&&v!==null){var N=m.pending;N===null?v.next=v:(v.next=N.next,N.next=v),m.pending=v}w!==0&&NA(c,v,w)}}function Sm(s,l,c,m){Ei[Mu++]=s,Ei[Mu++]=l,Ei[Mu++]=c,Ei[Mu++]=m,Dv|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function Iv(s,l,c,m){return Sm(s,l,c,m),Am(s)}function Lu(s,l){return Sm(s,null,null,l),Am(s)}function NA(s,l,c){s.lanes|=c;var m=s.alternate;m!==null&&(m.lanes|=c);for(var v=!1,w=s.return;w!==null;)w.childLanes|=c,m=w.alternate,m!==null&&(m.childLanes|=c),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(v=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,v&&l!==null&&(v=31-bn(c),s=w.hiddenUpdates,m=s[v],m===null?s[v]=[l]:m.push(l),l.lane=c|536870912),w):null}function Am(s){if(50<ud)throw ud=0,B0=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var $u={};function m$(s,l,c,m){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(s,l,c,m){return new m$(s,l,c,m)}function Mv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function es(s,l){var c=s.alternate;return c===null?(c=Wr(s.tag,l,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=l,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,l=s.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function kA(s,l){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,l=c.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Tm(s,l,c,m,v,w){var N=0;if(m=s,typeof s=="function")Mv(s)&&(N=1);else if(typeof s=="string")N=gV(s,c,Pe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case L:return s=Wr(31,c,l,v),s.elementType=L,s.lanes=w,s;case x:return vl(c.children,v,w,l);case E:N=8,v|=24;break;case S:return s=Wr(12,c,l,v|2),s.elementType=S,s.lanes=w,s;case D:return s=Wr(13,c,l,v),s.elementType=D,s.lanes=w,s;case j:return s=Wr(19,c,l,v),s.elementType=j,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:case P:N=10;break e;case R:N=9;break e;case V:N=11;break e;case k:N=14;break e;case I:N=16,m=null;break e}N=29,c=Error(r(130,s===null?"null":typeof s,"")),m=null}return l=Wr(N,c,l,v),l.elementType=s,l.type=m,l.lanes=w,l}function vl(s,l,c,m){return s=Wr(7,s,m,l),s.lanes=c,s}function Lv(s,l,c){return s=Wr(6,s,null,l),s.lanes=c,s}function $v(s,l,c){return l=Wr(4,s.children!==null?s.children:[],s.key,l),l.lanes=c,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var Vu=[],Uu=0,Om=null,Pm=0,Si=[],Ai=0,bl=null,ts=1,ns="";function _l(s,l){Vu[Uu++]=Pm,Vu[Uu++]=Om,Om=s,Pm=l}function DA(s,l,c){Si[Ai++]=ts,Si[Ai++]=ns,Si[Ai++]=bl,bl=s;var m=ts;s=ns;var v=32-bn(m)-1;m&=~(1<<v),c+=1;var w=32-bn(l)+v;if(30<w){var N=v-v%5;w=(m&(1<<N)-1).toString(32),m>>=N,v-=N,ts=1<<32-bn(l)+v|c<<v|m,ns=w+s}else ts=1<<w|c<<v|m,ns=s}function Vv(s){s.return!==null&&(_l(s,1),DA(s,1,0))}function Uv(s){for(;s===Om;)Om=Vu[--Uu],Vu[Uu]=null,Pm=Vu[--Uu],Vu[Uu]=null;for(;s===bl;)bl=Si[--Ai],Si[Ai]=null,ns=Si[--Ai],Si[Ai]=null,ts=Si[--Ai],Si[Ai]=null}var Tr=null,ln=null,Tt=!1,wl=null,wa=!1,Bv=Error(r(519));function xl(s){var l=Error(r(418,""));throw Bf(xi(l,s)),Bv}function IA(s){var l=s.stateNode,c=s.type,m=s.memoizedProps;switch(l[de]=s,l[ye]=m,c){case"dialog":ct("cancel",l),ct("close",l);break;case"iframe":case"object":case"embed":ct("load",l);break;case"video":case"audio":for(c=0;c<fd.length;c++)ct(fd[c],l);break;case"source":ct("error",l);break;case"img":case"image":case"link":ct("error",l),ct("load",l);break;case"details":ct("toggle",l);break;case"input":ct("invalid",l),sl(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Su(l);break;case"select":ct("invalid",l);break;case"textarea":ct("invalid",l),ol(l,m.value,m.defaultValue,m.children),Su(l)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||m.suppressHydrationWarning===!0||JO(l.textContent,c)?(m.popover!=null&&(ct("beforetoggle",l),ct("toggle",l)),m.onScroll!=null&&ct("scroll",l),m.onScrollEnd!=null&&ct("scrollend",l),m.onClick!=null&&(l.onclick=lp),l=!0):l=!1,l||xl(s)}function MA(s){for(Tr=s.return;Tr;)switch(Tr.tag){case 5:case 13:wa=!1;return;case 27:case 3:wa=!0;return;default:Tr=Tr.return}}function Vf(s){if(s!==Tr)return!1;if(!Tt)return MA(s),Tt=!0,!1;var l=s.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||rb(s.type,s.memoizedProps)),c=!c),c&&ln&&xl(s),MA(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(l===0){ln=Xi(s.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++;s=s.nextSibling}ln=null}}else l===27?(l=ln,ho(s.type)?(s=ob,ob=null,ln=s):ln=l):ln=Tr?Xi(s.stateNode.nextSibling):null;return!0}function Uf(){ln=Tr=null,Tt=!1}function LA(){var s=wl;return s!==null&&(Dr===null?Dr=s:Dr.push.apply(Dr,s),wl=null),s}function Bf(s){wl===null?wl=[s]:wl.push(s)}var zv=oe(null),El=null,rs=null;function Qs(s,l,c){me(zv,l._currentValue),l._currentValue=c}function is(s){s._currentValue=zv.current,ie(zv)}function qv(s,l,c){for(;s!==null;){var m=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),s===c)break;s=s.return}}function Fv(s,l,c,m){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var w=v.dependencies;if(w!==null){var N=v.child;w=w.firstContext;e:for(;w!==null;){var $=w;w=v;for(var F=0;F<l.length;F++)if($.context===l[F]){w.lanes|=c,$=w.alternate,$!==null&&($.lanes|=c),qv(w.return,c,s),m||(N=null);break e}w=$.next}}else if(v.tag===18){if(N=v.return,N===null)throw Error(r(341));N.lanes|=c,w=N.alternate,w!==null&&(w.lanes|=c),qv(N,c,s),N=null}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===s){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}}function zf(s,l,c,m){s=null;for(var v=l,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var N=v.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var $=v.type;Gr(v.pendingProps.value,N.value)||(s!==null?s.push($):s=[$])}}else if(v===on.current){if(N=v.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(yd):s=[yd])}v=v.return}s!==null&&Fv(l,s,c,m),l.flags|=262144}function Rm(s){for(s=s.firstContext;s!==null;){if(!Gr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Sl(s){El=s,rs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function fr(s){return $A(El,s)}function Cm(s,l){return El===null&&Sl(s),$A(s,l)}function $A(s,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},rs===null){if(s===null)throw Error(r(308));rs=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else rs=rs.next=l;return c}var p$=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(c,m){s.push(m)}};this.abort=function(){l.aborted=!0,s.forEach(function(c){return c()})}},g$=t.unstable_scheduleCallback,y$=t.unstable_NormalPriority,Nn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hv(){return{controller:new p$,data:new Map,refCount:0}}function qf(s){s.refCount--,s.refCount===0&&g$(y$,function(){s.controller.abort()})}var Ff=null,Kv=0,Bu=0,zu=null;function v$(s,l){if(Ff===null){var c=Ff=[];Kv=0,Bu=W0(),zu={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Kv++,l.then(VA,VA),l}function VA(){if(--Kv===0&&Ff!==null){zu!==null&&(zu.status="fulfilled");var s=Ff;Ff=null,Bu=0,zu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function b$(s,l){var c=[],m={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return s.then(function(){m.status="fulfilled",m.value=l;for(var v=0;v<c.length;v++)(0,c[v])(l)},function(v){for(m.status="rejected",m.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),m}var UA=G.S;G.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&v$(s,l),UA!==null&&UA(s,l)};var Al=oe(null);function Gv(){var s=Al.current;return s!==null?s:Kt.pooledCache}function jm(s,l){l===null?me(Al,Al.current):me(Al,l.pool)}function BA(){var s=Gv();return s===null?null:{parent:Nn._currentValue,pool:s}}var Hf=Error(r(460)),zA=Error(r(474)),Nm=Error(r(542)),Wv={then:function(){}};function qA(s){return s=s.status,s==="fulfilled"||s==="rejected"}function km(){}function FA(s,l,c){switch(c=s[c],c===void 0?s.push(l):c!==l&&(l.then(km,km),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,KA(s),s;default:if(typeof l.status=="string")l.then(km,km);else{if(s=Kt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(m){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=m}},function(m){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,KA(s),s}throw Kf=l,Hf}}var Kf=null;function HA(){if(Kf===null)throw Error(r(459));var s=Kf;return Kf=null,s}function KA(s){if(s===Hf||s===Nm)throw Error(r(483))}var Js=!1;function Yv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xv(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Zs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function eo(s,l,c){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(jt&2)!==0){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,l=Am(s),NA(s,null,c),l}return Sm(s,m,l,c),Am(s)}function Gf(s,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var m=l.lanes;m&=s.pendingLanes,c|=m,l.lanes=c,da(s,c)}}function Qv(s,l){var c=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var N={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?v=w=N:w=w.next=N,c=c.next}while(c!==null);w===null?v=w=l:w=w.next=l}else v=w=l;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=l}var Jv=!1;function Wf(){if(Jv){var s=zu;if(s!==null)throw s}}function Yf(s,l,c,m){Jv=!1;var v=s.updateQueue;Js=!1;var w=v.firstBaseUpdate,N=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var F=$,Z=F.next;F.next=null,N===null?w=Z:N.next=Z,N=F;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,$=ue.lastBaseUpdate,$!==N&&($===null?ue.firstBaseUpdate=Z:$.next=Z,ue.lastBaseUpdate=F))}if(w!==null){var fe=v.baseState;N=0,ue=Z=F=null,$=w;do{var ne=$.lane&-536870913,re=ne!==$.lane;if(re?(yt&ne)===ne:(m&ne)===ne){ne!==0&&ne===Bu&&(Jv=!0),ue!==null&&(ue=ue.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var We=s,qe=$;ne=l;var Lt=c;switch(qe.tag){case 1:if(We=qe.payload,typeof We=="function"){fe=We.call(Lt,fe,ne);break e}fe=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=qe.payload,ne=typeof We=="function"?We.call(Lt,fe,ne):We,ne==null)break e;fe=h({},fe,ne);break e;case 2:Js=!0}}ne=$.callback,ne!==null&&(s.flags|=64,re&&(s.flags|=8192),re=v.callbacks,re===null?v.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ue===null?(Z=ue=re,F=fe):ue=ue.next=re,N|=ne;if($=$.next,$===null){if($=v.shared.pending,$===null)break;re=$,$=re.next,re.next=null,v.lastBaseUpdate=re,v.shared.pending=null}}while(!0);ue===null&&(F=fe),v.baseState=F,v.firstBaseUpdate=Z,v.lastBaseUpdate=ue,w===null&&(v.shared.lanes=0),lo|=N,s.lanes=N,s.memoizedState=fe}}function GA(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function WA(s,l){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)GA(c[s],l)}var qu=oe(null),Dm=oe(0);function YA(s,l){s=fs,me(Dm,s),me(qu,l),fs=s|l.baseLanes}function Zv(){me(Dm,fs),me(qu,qu.current)}function e0(){fs=Dm.current,ie(qu),ie(Dm)}var to=0,rt=null,It=null,wn=null,Im=!1,Fu=!1,Tl=!1,Mm=0,Xf=0,Hu=null,_$=0;function hn(){throw Error(r(321))}function t0(s,l){if(l===null)return!1;for(var c=0;c<l.length&&c<s.length;c++)if(!Gr(s[c],l[c]))return!1;return!0}function n0(s,l,c,m,v,w){return to=w,rt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,G.H=s===null||s.memoizedState===null?NT:kT,Tl=!1,w=c(m,v),Tl=!1,Fu&&(w=QA(l,c,m,v)),XA(s),w}function XA(s){G.H=zm;var l=It!==null&&It.next!==null;if(to=0,wn=It=rt=null,Im=!1,Xf=0,Hu=null,l)throw Error(r(300));s===null||Fn||(s=s.dependencies,s!==null&&Rm(s)&&(Fn=!0))}function QA(s,l,c,m){rt=s;var v=0;do{if(Fu&&(Hu=null),Xf=0,Fu=!1,25<=v)throw Error(r(301));if(v+=1,wn=It=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}G.H=O$,w=l(c,m)}while(Fu);return w}function w$(){var s=G.H,l=s.useState()[0];return l=typeof l.then=="function"?Qf(l):l,s=s.useState()[0],(It!==null?It.memoizedState:null)!==s&&(rt.flags|=1024),l}function r0(){var s=Mm!==0;return Mm=0,s}function i0(s,l,c){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~c}function a0(s){if(Im){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Im=!1}to=0,wn=It=rt=null,Fu=!1,Xf=Mm=0,Hu=null}function Nr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?rt.memoizedState=wn=s:wn=wn.next=s,wn}function xn(){if(It===null){var s=rt.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var l=wn===null?rt.memoizedState:wn.next;if(l!==null)wn=l,It=s;else{if(s===null)throw rt.alternate===null?Error(r(467)):Error(r(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},wn===null?rt.memoizedState=wn=s:wn=wn.next=s}return wn}function s0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qf(s){var l=Xf;return Xf+=1,Hu===null&&(Hu=[]),s=FA(Hu,s,l),l=rt,(wn===null?l.memoizedState:wn.next)===null&&(l=l.alternate,G.H=l===null||l.memoizedState===null?NT:kT),s}function Lm(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Qf(s);if(s.$$typeof===P)return fr(s)}throw Error(r(438,String(s)))}function o0(s){var l=null,c=rt.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var m=rt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=s0(),rt.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(s),m=0;m<s;m++)c[m]=q;return l.index++,c}function as(s,l){return typeof l=="function"?l(s):l}function $m(s){var l=xn();return l0(l,It,s)}function l0(s,l,c){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var v=s.baseQueue,w=m.pending;if(w!==null){if(v!==null){var N=v.next;v.next=w.next,w.next=N}l.baseQueue=v=w,m.pending=null}if(w=s.baseState,v===null)s.memoizedState=w;else{l=v.next;var $=N=null,F=null,Z=l,ue=!1;do{var fe=Z.lane&-536870913;if(fe!==Z.lane?(yt&fe)===fe:(to&fe)===fe){var ne=Z.revertLane;if(ne===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),fe===Bu&&(ue=!0);else if((to&ne)===ne){Z=Z.next,ne===Bu&&(ue=!0);continue}else fe={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?($=F=fe,N=w):F=F.next=fe,rt.lanes|=ne,lo|=ne;fe=Z.action,Tl&&c(w,fe),w=Z.hasEagerState?Z.eagerState:c(w,fe)}else ne={lane:fe,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?($=F=ne,N=w):F=F.next=ne,rt.lanes|=fe,lo|=fe;Z=Z.next}while(Z!==null&&Z!==l);if(F===null?N=w:F.next=$,!Gr(w,s.memoizedState)&&(Fn=!0,ue&&(c=zu,c!==null)))throw c;s.memoizedState=w,s.baseState=N,s.baseQueue=F,m.lastRenderedState=w}return v===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function u0(s){var l=xn(),c=l.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var m=c.dispatch,v=c.pending,w=l.memoizedState;if(v!==null){c.pending=null;var N=v=v.next;do w=s(w,N.action),N=N.next;while(N!==v);Gr(w,l.memoizedState)||(Fn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),c.lastRenderedState=w}return[w,m]}function JA(s,l,c){var m=rt,v=xn(),w=Tt;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=l();var N=!Gr((It||v).memoizedState,c);N&&(v.memoizedState=c,Fn=!0),v=v.queue;var $=tT.bind(null,m,v,s);if(Jf(2048,8,$,[s]),v.getSnapshot!==l||N||wn!==null&&wn.memoizedState.tag&1){if(m.flags|=2048,Ku(9,Vm(),eT.bind(null,m,v,c,l),null),Kt===null)throw Error(r(349));w||(to&124)!==0||ZA(m,l,c)}return c}function ZA(s,l,c){s.flags|=16384,s={getSnapshot:l,value:c},l=rt.updateQueue,l===null?(l=s0(),rt.updateQueue=l,l.stores=[s]):(c=l.stores,c===null?l.stores=[s]:c.push(s))}function eT(s,l,c,m){l.value=c,l.getSnapshot=m,nT(l)&&rT(s)}function tT(s,l,c){return c(function(){nT(l)&&rT(s)})}function nT(s){var l=s.getSnapshot;s=s.value;try{var c=l();return!Gr(s,c)}catch{return!0}}function rT(s){var l=Lu(s,2);l!==null&&Zr(l,s,2)}function c0(s){var l=Nr();if(typeof s=="function"){var c=s;if(s=c(),Tl){cr(!0);try{c()}finally{cr(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:s},l}function iT(s,l,c,m){return s.baseState=c,l0(s,It,typeof m=="function"?m:as)}function x$(s,l,c,m,v){if(Bm(s))throw Error(r(485));if(s=l.action,s!==null){var w={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};G.T!==null?c(!0):w.isTransition=!1,m(w),c=l.pending,c===null?(w.next=l.pending=w,aT(l,w)):(w.next=c.next,l.pending=c.next=w)}}function aT(s,l){var c=l.action,m=l.payload,v=s.state;if(l.isTransition){var w=G.T,N={};G.T=N;try{var $=c(v,m),F=G.S;F!==null&&F(N,$),sT(s,l,$)}catch(Z){f0(s,l,Z)}finally{G.T=w}}else try{w=c(v,m),sT(s,l,w)}catch(Z){f0(s,l,Z)}}function sT(s,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){oT(s,l,m)},function(m){return f0(s,l,m)}):oT(s,l,c)}function oT(s,l,c){l.status="fulfilled",l.value=c,lT(l),s.state=c,l=s.pending,l!==null&&(c=l.next,c===l?s.pending=null:(c=c.next,l.next=c,aT(s,c)))}function f0(s,l,c){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=c,lT(l),l=l.next;while(l!==m)}s.action=null}function lT(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function uT(s,l){return l}function cT(s,l){if(Tt){var c=Kt.formState;if(c!==null){e:{var m=rt;if(Tt){if(ln){t:{for(var v=ln,w=wa;v.nodeType!==8;){if(!w){v=null;break t}if(v=Xi(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){ln=Xi(v.nextSibling),m=v.data==="F!";break e}}xl(m)}m=!1}m&&(l=c[0])}}return c=Nr(),c.memoizedState=c.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uT,lastRenderedState:l},c.queue=m,c=RT.bind(null,rt,m),m.dispatch=c,m=c0(!1),w=g0.bind(null,rt,!1,m.queue),m=Nr(),v={state:l,dispatch:null,action:s,pending:null},m.queue=v,c=x$.bind(null,rt,v,w,c),v.dispatch=c,m.memoizedState=s,[l,c,!1]}function fT(s){var l=xn();return dT(l,It,s)}function dT(s,l,c){if(l=l0(s,l,uT)[0],s=$m(as)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Qf(l)}catch(N){throw N===Hf?Nm:N}else m=l;l=xn();var v=l.queue,w=v.dispatch;return c!==l.memoizedState&&(rt.flags|=2048,Ku(9,Vm(),E$.bind(null,v,c),null)),[m,w,s]}function E$(s,l){s.action=l}function hT(s){var l=xn(),c=It;if(c!==null)return dT(l,c,s);xn(),l=l.memoizedState,c=xn();var m=c.queue.dispatch;return c.memoizedState=s,[l,m,!1]}function Ku(s,l,c,m){return s={tag:s,create:c,deps:m,inst:l,next:null},l=rt.updateQueue,l===null&&(l=s0(),rt.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=s.next=s:(m=c.next,c.next=s,s.next=m,l.lastEffect=s),s}function Vm(){return{destroy:void 0,resource:void 0}}function mT(){return xn().memoizedState}function Um(s,l,c,m){var v=Nr();m=m===void 0?null:m,rt.flags|=s,v.memoizedState=Ku(1|l,Vm(),c,m)}function Jf(s,l,c,m){var v=xn();m=m===void 0?null:m;var w=v.memoizedState.inst;It!==null&&m!==null&&t0(m,It.memoizedState.deps)?v.memoizedState=Ku(l,w,c,m):(rt.flags|=s,v.memoizedState=Ku(1|l,w,c,m))}function pT(s,l){Um(8390656,8,s,l)}function gT(s,l){Jf(2048,8,s,l)}function yT(s,l){return Jf(4,2,s,l)}function vT(s,l){return Jf(4,4,s,l)}function bT(s,l){if(typeof l=="function"){s=s();var c=l(s);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function _T(s,l,c){c=c!=null?c.concat([s]):null,Jf(4,4,bT.bind(null,l,s),c)}function d0(){}function wT(s,l){var c=xn();l=l===void 0?null:l;var m=c.memoizedState;return l!==null&&t0(l,m[1])?m[0]:(c.memoizedState=[s,l],s)}function xT(s,l){var c=xn();l=l===void 0?null:l;var m=c.memoizedState;if(l!==null&&t0(l,m[1]))return m[0];if(m=s(),Tl){cr(!0);try{s()}finally{cr(!1)}}return c.memoizedState=[m,l],m}function h0(s,l,c){return c===void 0||(to&1073741824)!==0?s.memoizedState=l:(s.memoizedState=c,s=AO(),rt.lanes|=s,lo|=s,c)}function ET(s,l,c,m){return Gr(c,l)?c:qu.current!==null?(s=h0(s,c,m),Gr(s,l)||(Fn=!0),s):(to&42)===0?(Fn=!0,s.memoizedState=c):(s=AO(),rt.lanes|=s,lo|=s,l)}function ST(s,l,c,m,v){var w=ae.p;ae.p=w!==0&&8>w?w:8;var N=G.T,$={};G.T=$,g0(s,!1,l,c);try{var F=v(),Z=G.S;if(Z!==null&&Z($,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ue=b$(F,m);Zf(s,l,ue,Jr(s))}else Zf(s,l,m,Jr(s))}catch(fe){Zf(s,l,{then:function(){},status:"rejected",reason:fe},Jr())}finally{ae.p=w,G.T=N}}function S$(){}function m0(s,l,c,m){if(s.tag!==5)throw Error(r(476));var v=AT(s).queue;ST(s,v,l,ve,c===null?S$:function(){return TT(s),c(m)})}function AT(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:ve},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:c},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function TT(s){var l=AT(s).next.queue;Zf(s,l,{},Jr())}function p0(){return fr(yd)}function OT(){return xn().memoizedState}function PT(){return xn().memoizedState}function A$(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var c=Jr();s=Zs(c);var m=eo(l,s,c);m!==null&&(Zr(m,l,c),Gf(m,l,c)),l={cache:Hv()},s.payload=l;return}l=l.return}}function T$(s,l,c){var m=Jr();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Bm(s)?CT(l,c):(c=Iv(s,l,c,m),c!==null&&(Zr(c,s,m),jT(c,l,m)))}function RT(s,l,c){var m=Jr();Zf(s,l,c,m)}function Zf(s,l,c,m){var v={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Bm(s))CT(l,v);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var N=l.lastRenderedState,$=w(N,c);if(v.hasEagerState=!0,v.eagerState=$,Gr($,N))return Sm(s,l,v,0),Kt===null&&Em(),!1}catch{}finally{}if(c=Iv(s,l,v,m),c!==null)return Zr(c,s,m),jT(c,l,m),!0}return!1}function g0(s,l,c,m){if(m={lane:2,revertLane:W0(),action:m,hasEagerState:!1,eagerState:null,next:null},Bm(s)){if(l)throw Error(r(479))}else l=Iv(s,c,m,2),l!==null&&Zr(l,s,2)}function Bm(s){var l=s.alternate;return s===rt||l!==null&&l===rt}function CT(s,l){Fu=Im=!0;var c=s.pending;c===null?l.next=l:(l.next=c.next,c.next=l),s.pending=l}function jT(s,l,c){if((c&4194048)!==0){var m=l.lanes;m&=s.pendingLanes,c|=m,l.lanes=c,da(s,c)}}var zm={readContext:fr,use:Lm,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn},NT={readContext:fr,use:Lm,useCallback:function(s,l){return Nr().memoizedState=[s,l===void 0?null:l],s},useContext:fr,useEffect:pT,useImperativeHandle:function(s,l,c){c=c!=null?c.concat([s]):null,Um(4194308,4,bT.bind(null,l,s),c)},useLayoutEffect:function(s,l){return Um(4194308,4,s,l)},useInsertionEffect:function(s,l){Um(4,2,s,l)},useMemo:function(s,l){var c=Nr();l=l===void 0?null:l;var m=s();if(Tl){cr(!0);try{s()}finally{cr(!1)}}return c.memoizedState=[m,l],m},useReducer:function(s,l,c){var m=Nr();if(c!==void 0){var v=c(l);if(Tl){cr(!0);try{c(l)}finally{cr(!1)}}}else v=l;return m.memoizedState=m.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},m.queue=s,s=s.dispatch=T$.bind(null,rt,s),[m.memoizedState,s]},useRef:function(s){var l=Nr();return s={current:s},l.memoizedState=s},useState:function(s){s=c0(s);var l=s.queue,c=RT.bind(null,rt,l);return l.dispatch=c,[s.memoizedState,c]},useDebugValue:d0,useDeferredValue:function(s,l){var c=Nr();return h0(c,s,l)},useTransition:function(){var s=c0(!1);return s=ST.bind(null,rt,s.queue,!0,!1),Nr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,c){var m=rt,v=Nr();if(Tt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=l(),Kt===null)throw Error(r(349));(yt&124)!==0||ZA(m,l,c)}v.memoizedState=c;var w={value:c,getSnapshot:l};return v.queue=w,pT(tT.bind(null,m,w,s),[s]),m.flags|=2048,Ku(9,Vm(),eT.bind(null,m,w,c,l),null),c},useId:function(){var s=Nr(),l=Kt.identifierPrefix;if(Tt){var c=ns,m=ts;c=(m&~(1<<32-bn(m)-1)).toString(32)+c,l="«"+l+"R"+c,c=Mm++,0<c&&(l+="H"+c.toString(32)),l+="»"}else c=_$++,l="«"+l+"r"+c.toString(32)+"»";return s.memoizedState=l},useHostTransitionStatus:p0,useFormState:cT,useActionState:cT,useOptimistic:function(s){var l=Nr();l.memoizedState=l.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=g0.bind(null,rt,!0,c),c.dispatch=l,[s,l]},useMemoCache:o0,useCacheRefresh:function(){return Nr().memoizedState=A$.bind(null,rt)}},kT={readContext:fr,use:Lm,useCallback:wT,useContext:fr,useEffect:gT,useImperativeHandle:_T,useInsertionEffect:yT,useLayoutEffect:vT,useMemo:xT,useReducer:$m,useRef:mT,useState:function(){return $m(as)},useDebugValue:d0,useDeferredValue:function(s,l){var c=xn();return ET(c,It.memoizedState,s,l)},useTransition:function(){var s=$m(as)[0],l=xn().memoizedState;return[typeof s=="boolean"?s:Qf(s),l]},useSyncExternalStore:JA,useId:OT,useHostTransitionStatus:p0,useFormState:fT,useActionState:fT,useOptimistic:function(s,l){var c=xn();return iT(c,It,s,l)},useMemoCache:o0,useCacheRefresh:PT},O$={readContext:fr,use:Lm,useCallback:wT,useContext:fr,useEffect:gT,useImperativeHandle:_T,useInsertionEffect:yT,useLayoutEffect:vT,useMemo:xT,useReducer:u0,useRef:mT,useState:function(){return u0(as)},useDebugValue:d0,useDeferredValue:function(s,l){var c=xn();return It===null?h0(c,s,l):ET(c,It.memoizedState,s,l)},useTransition:function(){var s=u0(as)[0],l=xn().memoizedState;return[typeof s=="boolean"?s:Qf(s),l]},useSyncExternalStore:JA,useId:OT,useHostTransitionStatus:p0,useFormState:hT,useActionState:hT,useOptimistic:function(s,l){var c=xn();return It!==null?iT(c,It,s,l):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:o0,useCacheRefresh:PT},Gu=null,ed=0;function qm(s){var l=ed;return ed+=1,Gu===null&&(Gu=[]),FA(Gu,s,l)}function td(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Fm(s,l){throw l.$$typeof===p?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function DT(s){var l=s._init;return l(s._payload)}function IT(s){function l(Y,W){if(s){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function c(Y,W){if(!s)return null;for(;W!==null;)l(Y,W),W=W.sibling;return null}function m(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function v(Y,W){return Y=es(Y,W),Y.index=0,Y.sibling=null,Y}function w(Y,W,J){return Y.index=J,s?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=67108866,W):J):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function N(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function $(Y,W,J,ce){return W===null||W.tag!==6?(W=Lv(J,Y.mode,ce),W.return=Y,W):(W=v(W,J),W.return=Y,W)}function F(Y,W,J,ce){var Ce=J.type;return Ce===x?ue(Y,W,J.props.children,ce,J.key):W!==null&&(W.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&DT(Ce)===W.type)?(W=v(W,J.props),td(W,J),W.return=Y,W):(W=Tm(J.type,J.key,J.props,null,Y.mode,ce),td(W,J),W.return=Y,W)}function Z(Y,W,J,ce){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=$v(J,Y.mode,ce),W.return=Y,W):(W=v(W,J.children||[]),W.return=Y,W)}function ue(Y,W,J,ce,Ce){return W===null||W.tag!==7?(W=vl(J,Y.mode,ce,Ce),W.return=Y,W):(W=v(W,J),W.return=Y,W)}function fe(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Lv(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return J=Tm(W.type,W.key,W.props,null,Y.mode,J),td(J,W),J.return=Y,J;case b:return W=$v(W,Y.mode,J),W.return=Y,W;case I:var ce=W._init;return W=ce(W._payload),fe(Y,W,J)}if(be(W)||B(W))return W=vl(W,Y.mode,J,null),W.return=Y,W;if(typeof W.then=="function")return fe(Y,qm(W),J);if(W.$$typeof===P)return fe(Y,Cm(Y,W),J);Fm(Y,W)}return null}function ne(Y,W,J,ce){var Ce=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ce!==null?null:$(Y,W,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case y:return J.key===Ce?F(Y,W,J,ce):null;case b:return J.key===Ce?Z(Y,W,J,ce):null;case I:return Ce=J._init,J=Ce(J._payload),ne(Y,W,J,ce)}if(be(J)||B(J))return Ce!==null?null:ue(Y,W,J,ce,null);if(typeof J.then=="function")return ne(Y,W,qm(J),ce);if(J.$$typeof===P)return ne(Y,W,Cm(Y,J),ce);Fm(Y,J)}return null}function re(Y,W,J,ce,Ce){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Y=Y.get(J)||null,$(W,Y,""+ce,Ce);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:return Y=Y.get(ce.key===null?J:ce.key)||null,F(W,Y,ce,Ce);case b:return Y=Y.get(ce.key===null?J:ce.key)||null,Z(W,Y,ce,Ce);case I:var at=ce._init;return ce=at(ce._payload),re(Y,W,J,ce,Ce)}if(be(ce)||B(ce))return Y=Y.get(J)||null,ue(W,Y,ce,Ce,null);if(typeof ce.then=="function")return re(Y,W,J,qm(ce),Ce);if(ce.$$typeof===P)return re(Y,W,J,Cm(W,ce),Ce);Fm(W,ce)}return null}function We(Y,W,J,ce){for(var Ce=null,at=null,Me=W,He=W=0,Kn=null;Me!==null&&He<J.length;He++){Me.index>He?(Kn=Me,Me=null):Kn=Me.sibling;var wt=ne(Y,Me,J[He],ce);if(wt===null){Me===null&&(Me=Kn);break}s&&Me&&wt.alternate===null&&l(Y,Me),W=w(wt,W,He),at===null?Ce=wt:at.sibling=wt,at=wt,Me=Kn}if(He===J.length)return c(Y,Me),Tt&&_l(Y,He),Ce;if(Me===null){for(;He<J.length;He++)Me=fe(Y,J[He],ce),Me!==null&&(W=w(Me,W,He),at===null?Ce=Me:at.sibling=Me,at=Me);return Tt&&_l(Y,He),Ce}for(Me=m(Me);He<J.length;He++)Kn=re(Me,Y,He,J[He],ce),Kn!==null&&(s&&Kn.alternate!==null&&Me.delete(Kn.key===null?He:Kn.key),W=w(Kn,W,He),at===null?Ce=Kn:at.sibling=Kn,at=Kn);return s&&Me.forEach(function(vo){return l(Y,vo)}),Tt&&_l(Y,He),Ce}function qe(Y,W,J,ce){if(J==null)throw Error(r(151));for(var Ce=null,at=null,Me=W,He=W=0,Kn=null,wt=J.next();Me!==null&&!wt.done;He++,wt=J.next()){Me.index>He?(Kn=Me,Me=null):Kn=Me.sibling;var vo=ne(Y,Me,wt.value,ce);if(vo===null){Me===null&&(Me=Kn);break}s&&Me&&vo.alternate===null&&l(Y,Me),W=w(vo,W,He),at===null?Ce=vo:at.sibling=vo,at=vo,Me=Kn}if(wt.done)return c(Y,Me),Tt&&_l(Y,He),Ce;if(Me===null){for(;!wt.done;He++,wt=J.next())wt=fe(Y,wt.value,ce),wt!==null&&(W=w(wt,W,He),at===null?Ce=wt:at.sibling=wt,at=wt);return Tt&&_l(Y,He),Ce}for(Me=m(Me);!wt.done;He++,wt=J.next())wt=re(Me,Y,He,wt.value,ce),wt!==null&&(s&&wt.alternate!==null&&Me.delete(wt.key===null?He:wt.key),W=w(wt,W,He),at===null?Ce=wt:at.sibling=wt,at=wt);return s&&Me.forEach(function(PV){return l(Y,PV)}),Tt&&_l(Y,He),Ce}function Lt(Y,W,J,ce){if(typeof J=="object"&&J!==null&&J.type===x&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case y:e:{for(var Ce=J.key;W!==null;){if(W.key===Ce){if(Ce=J.type,Ce===x){if(W.tag===7){c(Y,W.sibling),ce=v(W,J.props.children),ce.return=Y,Y=ce;break e}}else if(W.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&DT(Ce)===W.type){c(Y,W.sibling),ce=v(W,J.props),td(ce,J),ce.return=Y,Y=ce;break e}c(Y,W);break}else l(Y,W);W=W.sibling}J.type===x?(ce=vl(J.props.children,Y.mode,ce,J.key),ce.return=Y,Y=ce):(ce=Tm(J.type,J.key,J.props,null,Y.mode,ce),td(ce,J),ce.return=Y,Y=ce)}return N(Y);case b:e:{for(Ce=J.key;W!==null;){if(W.key===Ce)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){c(Y,W.sibling),ce=v(W,J.children||[]),ce.return=Y,Y=ce;break e}else{c(Y,W);break}else l(Y,W);W=W.sibling}ce=$v(J,Y.mode,ce),ce.return=Y,Y=ce}return N(Y);case I:return Ce=J._init,J=Ce(J._payload),Lt(Y,W,J,ce)}if(be(J))return We(Y,W,J,ce);if(B(J)){if(Ce=B(J),typeof Ce!="function")throw Error(r(150));return J=Ce.call(J),qe(Y,W,J,ce)}if(typeof J.then=="function")return Lt(Y,W,qm(J),ce);if(J.$$typeof===P)return Lt(Y,W,Cm(Y,J),ce);Fm(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,W!==null&&W.tag===6?(c(Y,W.sibling),ce=v(W,J),ce.return=Y,Y=ce):(c(Y,W),ce=Lv(J,Y.mode,ce),ce.return=Y,Y=ce),N(Y)):c(Y,W)}return function(Y,W,J,ce){try{ed=0;var Ce=Lt(Y,W,J,ce);return Gu=null,Ce}catch(Me){if(Me===Hf||Me===Nm)throw Me;var at=Wr(29,Me,null,Y.mode);return at.lanes=ce,at.return=Y,at}finally{}}}var Wu=IT(!0),MT=IT(!1),Ti=oe(null),xa=null;function no(s){var l=s.alternate;me(kn,kn.current&1),me(Ti,s),xa===null&&(l===null||qu.current!==null||l.memoizedState!==null)&&(xa=s)}function LT(s){if(s.tag===22){if(me(kn,kn.current),me(Ti,s),xa===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(xa=s)}}else ro()}function ro(){me(kn,kn.current),me(Ti,Ti.current)}function ss(s){ie(Ti),xa===s&&(xa=null),ie(kn)}var kn=oe(0);function Hm(s){for(var l=s;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||sb(c)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function y0(s,l,c,m){l=s.memoizedState,c=c(m,l),c=c==null?l:h({},l,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var v0={enqueueSetState:function(s,l,c){s=s._reactInternals;var m=Jr(),v=Zs(m);v.payload=l,c!=null&&(v.callback=c),l=eo(s,v,m),l!==null&&(Zr(l,s,m),Gf(l,s,m))},enqueueReplaceState:function(s,l,c){s=s._reactInternals;var m=Jr(),v=Zs(m);v.tag=1,v.payload=l,c!=null&&(v.callback=c),l=eo(s,v,m),l!==null&&(Zr(l,s,m),Gf(l,s,m))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var c=Jr(),m=Zs(c);m.tag=2,l!=null&&(m.callback=l),l=eo(s,m,c),l!==null&&(Zr(l,s,c),Gf(l,s,c))}};function $T(s,l,c,m,v,w,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,w,N):l.prototype&&l.prototype.isPureReactComponent?!Lf(c,m)||!Lf(v,w):!0}function VT(s,l,c,m){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,m),l.state!==s&&v0.enqueueReplaceState(l,l.state,null)}function Ol(s,l){var c=l;if("ref"in l){c={};for(var m in l)m!=="ref"&&(c[m]=l[m])}if(s=s.defaultProps){c===l&&(c=h({},c));for(var v in s)c[v]===void 0&&(c[v]=s[v])}return c}var Km=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function UT(s){Km(s)}function BT(s){console.error(s)}function zT(s){Km(s)}function Gm(s,l){try{var c=s.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function qT(s,l,c){try{var m=s.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function b0(s,l,c){return c=Zs(c),c.tag=3,c.payload={element:null},c.callback=function(){Gm(s,l)},c}function FT(s){return s=Zs(s),s.tag=3,s}function HT(s,l,c,m){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var w=m.value;s.payload=function(){return v(w)},s.callback=function(){qT(l,c,m)}}var N=c.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(s.callback=function(){qT(l,c,m),typeof v!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var $=m.stack;this.componentDidCatch(m.value,{componentStack:$!==null?$:""})})}function P$(s,l,c,m,v){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=c.alternate,l!==null&&zf(l,c,v,!0),c=Ti.current,c!==null){switch(c.tag){case 13:return xa===null?q0():c.alternate===null&&un===0&&(un=3),c.flags&=-257,c.flags|=65536,c.lanes=v,m===Wv?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([m]):l.add(m),H0(s,m,v)),!1;case 22:return c.flags|=65536,m===Wv?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([m]):c.add(m)),H0(s,m,v)),!1}throw Error(r(435,c.tag))}return H0(s,m,v),q0(),!1}if(Tt)return l=Ti.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,m!==Bv&&(s=Error(r(422),{cause:m}),Bf(xi(s,c)))):(m!==Bv&&(l=Error(r(423),{cause:m}),Bf(xi(l,c))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,m=xi(m,c),v=b0(s.stateNode,m,v),Qv(s,v),un!==4&&(un=2)),!1;var w=Error(r(520),{cause:m});if(w=xi(w,c),ld===null?ld=[w]:ld.push(w),un!==4&&(un=2),l===null)return!0;m=xi(m,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,s=v&-v,c.lanes|=s,s=b0(c.stateNode,m,s),Qv(c,s),!1;case 1:if(l=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(uo===null||!uo.has(w))))return c.flags|=65536,v&=-v,c.lanes|=v,v=FT(v),HT(v,s,c,m),Qv(c,v),!1}c=c.return}while(c!==null);return!1}var KT=Error(r(461)),Fn=!1;function nr(s,l,c,m){l.child=s===null?MT(l,null,c,m):Wu(l,s.child,c,m)}function GT(s,l,c,m,v){c=c.render;var w=l.ref;if("ref"in m){var N={};for(var $ in m)$!=="ref"&&(N[$]=m[$])}else N=m;return Sl(l),m=n0(s,l,c,N,w,v),$=r0(),s!==null&&!Fn?(i0(s,l,v),os(s,l,v)):(Tt&&$&&Vv(l),l.flags|=1,nr(s,l,m,v),l.child)}function WT(s,l,c,m,v){if(s===null){var w=c.type;return typeof w=="function"&&!Mv(w)&&w.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=w,YT(s,l,w,m,v)):(s=Tm(c.type,null,m,l,l.mode,v),s.ref=l.ref,s.return=l,l.child=s)}if(w=s.child,!O0(s,v)){var N=w.memoizedProps;if(c=c.compare,c=c!==null?c:Lf,c(N,m)&&s.ref===l.ref)return os(s,l,v)}return l.flags|=1,s=es(w,m),s.ref=l.ref,s.return=l,l.child=s}function YT(s,l,c,m,v){if(s!==null){var w=s.memoizedProps;if(Lf(w,m)&&s.ref===l.ref)if(Fn=!1,l.pendingProps=m=w,O0(s,v))(s.flags&131072)!==0&&(Fn=!0);else return l.lanes=s.lanes,os(s,l,v)}return _0(s,l,c,m,v)}function XT(s,l,c){var m=l.pendingProps,v=m.children,w=s!==null?s.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=w!==null?w.baseLanes|c:c,s!==null){for(v=l.child=s.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;l.childLanes=w&~m}else l.childLanes=0,l.child=null;return QT(s,l,m,c)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&jm(l,w!==null?w.cachePool:null),w!==null?YA(l,w):Zv(),LT(l);else return l.lanes=l.childLanes=536870912,QT(s,l,w!==null?w.baseLanes|c:c,c)}else w!==null?(jm(l,w.cachePool),YA(l,w),ro(),l.memoizedState=null):(s!==null&&jm(l,null),Zv(),ro());return nr(s,l,v,c),l.child}function QT(s,l,c,m){var v=Gv();return v=v===null?null:{parent:Nn._currentValue,pool:v},l.memoizedState={baseLanes:c,cachePool:v},s!==null&&jm(l,null),Zv(),LT(l),s!==null&&zf(s,l,m,!0),null}function Wm(s,l){var c=l.ref;if(c===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(l.flags|=4194816)}}function _0(s,l,c,m,v){return Sl(l),c=n0(s,l,c,m,void 0,v),m=r0(),s!==null&&!Fn?(i0(s,l,v),os(s,l,v)):(Tt&&m&&Vv(l),l.flags|=1,nr(s,l,c,v),l.child)}function JT(s,l,c,m,v,w){return Sl(l),l.updateQueue=null,c=QA(l,m,c,v),XA(s),m=r0(),s!==null&&!Fn?(i0(s,l,w),os(s,l,w)):(Tt&&m&&Vv(l),l.flags|=1,nr(s,l,c,w),l.child)}function ZT(s,l,c,m,v){if(Sl(l),l.stateNode===null){var w=$u,N=c.contextType;typeof N=="object"&&N!==null&&(w=fr(N)),w=new c(m,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=v0,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=m,w.state=l.memoizedState,w.refs={},Yv(l),N=c.contextType,w.context=typeof N=="object"&&N!==null?fr(N):$u,w.state=l.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(y0(l,c,N,m),w.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&v0.enqueueReplaceState(w,w.state,null),Yf(l,m,w,v),Wf(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(s===null){w=l.stateNode;var $=l.memoizedProps,F=Ol(c,$);w.props=F;var Z=w.context,ue=c.contextType;N=$u,typeof ue=="object"&&ue!==null&&(N=fr(ue));var fe=c.getDerivedStateFromProps;ue=typeof fe=="function"||typeof w.getSnapshotBeforeUpdate=="function",$=l.pendingProps!==$,ue||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||($||Z!==N)&&VT(l,w,m,N),Js=!1;var ne=l.memoizedState;w.state=ne,Yf(l,m,w,v),Wf(),Z=l.memoizedState,$||ne!==Z||Js?(typeof fe=="function"&&(y0(l,c,fe,m),Z=l.memoizedState),(F=Js||$T(l,c,F,m,ne,Z,N))?(ue||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Z),w.props=m,w.state=Z,w.context=N,m=F):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{w=l.stateNode,Xv(s,l),N=l.memoizedProps,ue=Ol(c,N),w.props=ue,fe=l.pendingProps,ne=w.context,Z=c.contextType,F=$u,typeof Z=="object"&&Z!==null&&(F=fr(Z)),$=c.getDerivedStateFromProps,(Z=typeof $=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==fe||ne!==F)&&VT(l,w,m,F),Js=!1,ne=l.memoizedState,w.state=ne,Yf(l,m,w,v),Wf();var re=l.memoizedState;N!==fe||ne!==re||Js||s!==null&&s.dependencies!==null&&Rm(s.dependencies)?(typeof $=="function"&&(y0(l,c,$,m),re=l.memoizedState),(ue=Js||$T(l,c,ue,m,ne,re,F)||s!==null&&s.dependencies!==null&&Rm(s.dependencies))?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,re,F),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,re,F)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===s.memoizedProps&&ne===s.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&ne===s.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=re),w.props=m,w.state=re,w.context=F,m=ue):(typeof w.componentDidUpdate!="function"||N===s.memoizedProps&&ne===s.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&ne===s.memoizedState||(l.flags|=1024),m=!1)}return w=m,Wm(s,l),m=(l.flags&128)!==0,w||m?(w=l.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,s!==null&&m?(l.child=Wu(l,s.child,null,v),l.child=Wu(l,null,c,v)):nr(s,l,c,v),l.memoizedState=w.state,s=l.child):s=os(s,l,v),s}function eO(s,l,c,m){return Uf(),l.flags|=256,nr(s,l,c,m),l.child}var w0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function x0(s){return{baseLanes:s,cachePool:BA()}}function E0(s,l,c){return s=s!==null?s.childLanes&~c:0,l&&(s|=Oi),s}function tO(s,l,c){var m=l.pendingProps,v=!1,w=(l.flags&128)!==0,N;if((N=w)||(N=s!==null&&s.memoizedState===null?!1:(kn.current&2)!==0),N&&(v=!0,l.flags&=-129),N=(l.flags&32)!==0,l.flags&=-33,s===null){if(Tt){if(v?no(l):ro(),Tt){var $=ln,F;if(F=$){e:{for(F=$,$=wa;F.nodeType!==8;){if(!$){$=null;break e}if(F=Xi(F.nextSibling),F===null){$=null;break e}}$=F}$!==null?(l.memoizedState={dehydrated:$,treeContext:bl!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},F=Wr(18,null,null,0),F.stateNode=$,F.return=l,l.child=F,Tr=l,ln=null,F=!0):F=!1}F||xl(l)}if($=l.memoizedState,$!==null&&($=$.dehydrated,$!==null))return sb($)?l.lanes=32:l.lanes=536870912,null;ss(l)}return $=m.children,m=m.fallback,v?(ro(),v=l.mode,$=Ym({mode:"hidden",children:$},v),m=vl(m,v,c,null),$.return=l,m.return=l,$.sibling=m,l.child=$,v=l.child,v.memoizedState=x0(c),v.childLanes=E0(s,N,c),l.memoizedState=w0,m):(no(l),S0(l,$))}if(F=s.memoizedState,F!==null&&($=F.dehydrated,$!==null)){if(w)l.flags&256?(no(l),l.flags&=-257,l=A0(s,l,c)):l.memoizedState!==null?(ro(),l.child=s.child,l.flags|=128,l=null):(ro(),v=m.fallback,$=l.mode,m=Ym({mode:"visible",children:m.children},$),v=vl(v,$,c,null),v.flags|=2,m.return=l,v.return=l,m.sibling=v,l.child=m,Wu(l,s.child,null,c),m=l.child,m.memoizedState=x0(c),m.childLanes=E0(s,N,c),l.memoizedState=w0,l=v);else if(no(l),sb($)){if(N=$.nextSibling&&$.nextSibling.dataset,N)var Z=N.dgst;N=Z,m=Error(r(419)),m.stack="",m.digest=N,Bf({value:m,source:null,stack:null}),l=A0(s,l,c)}else if(Fn||zf(s,l,c,!1),N=(c&s.childLanes)!==0,Fn||N){if(N=Kt,N!==null&&(m=c&-c,m=(m&42)!==0?1:ha(m),m=(m&(N.suspendedLanes|c))!==0?0:m,m!==0&&m!==F.retryLane))throw F.retryLane=m,Lu(s,m),Zr(N,s,m),KT;$.data==="$?"||q0(),l=A0(s,l,c)}else $.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=F.treeContext,ln=Xi($.nextSibling),Tr=l,Tt=!0,wl=null,wa=!1,s!==null&&(Si[Ai++]=ts,Si[Ai++]=ns,Si[Ai++]=bl,ts=s.id,ns=s.overflow,bl=l),l=S0(l,m.children),l.flags|=4096);return l}return v?(ro(),v=m.fallback,$=l.mode,F=s.child,Z=F.sibling,m=es(F,{mode:"hidden",children:m.children}),m.subtreeFlags=F.subtreeFlags&65011712,Z!==null?v=es(Z,v):(v=vl(v,$,c,null),v.flags|=2),v.return=l,m.return=l,m.sibling=v,l.child=m,m=v,v=l.child,$=s.child.memoizedState,$===null?$=x0(c):(F=$.cachePool,F!==null?(Z=Nn._currentValue,F=F.parent!==Z?{parent:Z,pool:Z}:F):F=BA(),$={baseLanes:$.baseLanes|c,cachePool:F}),v.memoizedState=$,v.childLanes=E0(s,N,c),l.memoizedState=w0,m):(no(l),c=s.child,s=c.sibling,c=es(c,{mode:"visible",children:m.children}),c.return=l,c.sibling=null,s!==null&&(N=l.deletions,N===null?(l.deletions=[s],l.flags|=16):N.push(s)),l.child=c,l.memoizedState=null,c)}function S0(s,l){return l=Ym({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Ym(s,l){return s=Wr(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function A0(s,l,c){return Wu(l,s.child,null,c),s=S0(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function nO(s,l,c){s.lanes|=l;var m=s.alternate;m!==null&&(m.lanes|=l),qv(s.return,l,c)}function T0(s,l,c,m,v){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=c,w.tailMode=v)}function rO(s,l,c){var m=l.pendingProps,v=m.revealOrder,w=m.tail;if(nr(s,l,m.children,c),m=kn.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&nO(s,c,l);else if(s.tag===19)nO(s,c,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}switch(me(kn,m),v){case"forwards":for(c=l.child,v=null;c!==null;)s=c.alternate,s!==null&&Hm(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=l.child,l.child=null):(v=c.sibling,c.sibling=null),T0(l,!1,v,c,w);break;case"backwards":for(c=null,v=l.child,l.child=null;v!==null;){if(s=v.alternate,s!==null&&Hm(s)===null){l.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}T0(l,!0,c,null,w);break;case"together":T0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function os(s,l,c){if(s!==null&&(l.dependencies=s.dependencies),lo|=l.lanes,(c&l.childLanes)===0)if(s!==null){if(zf(s,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,c=es(s,s.pendingProps),l.child=c,c.return=l;s.sibling!==null;)s=s.sibling,c=c.sibling=es(s,s.pendingProps),c.return=l;c.sibling=null}return l.child}function O0(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Rm(s)))}function R$(s,l,c){switch(l.tag){case 3:Ot(l,l.stateNode.containerInfo),Qs(l,Nn,s.memoizedState.cache),Uf();break;case 27:case 5:De(l);break;case 4:Ot(l,l.stateNode.containerInfo);break;case 10:Qs(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(no(l),l.flags|=128,null):(c&l.child.childLanes)!==0?tO(s,l,c):(no(l),s=os(s,l,c),s!==null?s.sibling:null);no(l);break;case 19:var v=(s.flags&128)!==0;if(m=(c&l.childLanes)!==0,m||(zf(s,l,c,!1),m=(c&l.childLanes)!==0),v){if(m)return rO(s,l,c);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),me(kn,kn.current),m)break;return null;case 22:case 23:return l.lanes=0,XT(s,l,c);case 24:Qs(l,Nn,s.memoizedState.cache)}return os(s,l,c)}function iO(s,l,c){if(s!==null)if(s.memoizedProps!==l.pendingProps)Fn=!0;else{if(!O0(s,c)&&(l.flags&128)===0)return Fn=!1,R$(s,l,c);Fn=(s.flags&131072)!==0}else Fn=!1,Tt&&(l.flags&1048576)!==0&&DA(l,Pm,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var m=l.elementType,v=m._init;if(m=v(m._payload),l.type=m,typeof m=="function")Mv(m)?(s=Ol(m,s),l.tag=1,l=ZT(null,l,m,s,c)):(l.tag=0,l=_0(null,l,m,s,c));else{if(m!=null){if(v=m.$$typeof,v===V){l.tag=11,l=GT(null,l,m,s,c);break e}else if(v===k){l.tag=14,l=WT(null,l,m,s,c);break e}}throw l=le(m)||m,Error(r(306,l,""))}}return l;case 0:return _0(s,l,l.type,l.pendingProps,c);case 1:return m=l.type,v=Ol(m,l.pendingProps),ZT(s,l,m,v,c);case 3:e:{if(Ot(l,l.stateNode.containerInfo),s===null)throw Error(r(387));m=l.pendingProps;var w=l.memoizedState;v=w.element,Xv(s,l),Yf(l,m,null,c);var N=l.memoizedState;if(m=N.cache,Qs(l,Nn,m),m!==w.cache&&Fv(l,[Nn],c,!0),Wf(),m=N.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:N.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=eO(s,l,m,c);break e}else if(m!==v){v=xi(Error(r(424)),l),Bf(v),l=eO(s,l,m,c);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ln=Xi(s.firstChild),Tr=l,Tt=!0,wl=null,wa=!0,c=MT(l,null,m,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Uf(),m===v){l=os(s,l,c);break e}nr(s,l,m,c)}l=l.child}return l;case 26:return Wm(s,l),s===null?(c=lP(l.type,null,l.pendingProps,null))?l.memoizedState=c:Tt||(c=l.type,s=l.pendingProps,m=up(Ve.current).createElement(c),m[de]=l,m[ye]=s,ir(m,c,s),Ye(m),l.stateNode=m):l.memoizedState=lP(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return De(l),s===null&&Tt&&(m=l.stateNode=aP(l.type,l.pendingProps,Ve.current),Tr=l,wa=!0,v=ln,ho(l.type)?(ob=v,ln=Xi(m.firstChild)):ln=v),nr(s,l,l.pendingProps.children,c),Wm(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Tt&&((v=m=ln)&&(m=rV(m,l.type,l.pendingProps,wa),m!==null?(l.stateNode=m,Tr=l,ln=Xi(m.firstChild),wa=!1,v=!0):v=!1),v||xl(l)),De(l),v=l.type,w=l.pendingProps,N=s!==null?s.memoizedProps:null,m=w.children,rb(v,w)?m=null:N!==null&&rb(v,N)&&(l.flags|=32),l.memoizedState!==null&&(v=n0(s,l,w$,null,null,c),yd._currentValue=v),Wm(s,l),nr(s,l,m,c),l.child;case 6:return s===null&&Tt&&((s=c=ln)&&(c=iV(c,l.pendingProps,wa),c!==null?(l.stateNode=c,Tr=l,ln=null,s=!0):s=!1),s||xl(l)),null;case 13:return tO(s,l,c);case 4:return Ot(l,l.stateNode.containerInfo),m=l.pendingProps,s===null?l.child=Wu(l,null,m,c):nr(s,l,m,c),l.child;case 11:return GT(s,l,l.type,l.pendingProps,c);case 7:return nr(s,l,l.pendingProps,c),l.child;case 8:return nr(s,l,l.pendingProps.children,c),l.child;case 12:return nr(s,l,l.pendingProps.children,c),l.child;case 10:return m=l.pendingProps,Qs(l,l.type,m.value),nr(s,l,m.children,c),l.child;case 9:return v=l.type._context,m=l.pendingProps.children,Sl(l),v=fr(v),m=m(v),l.flags|=1,nr(s,l,m,c),l.child;case 14:return WT(s,l,l.type,l.pendingProps,c);case 15:return YT(s,l,l.type,l.pendingProps,c);case 19:return rO(s,l,c);case 31:return m=l.pendingProps,c=l.mode,m={mode:m.mode,children:m.children},s===null?(c=Ym(m,c),c.ref=l.ref,l.child=c,c.return=l,l=c):(c=es(s.child,m),c.ref=l.ref,l.child=c,c.return=l,l=c),l;case 22:return XT(s,l,c);case 24:return Sl(l),m=fr(Nn),s===null?(v=Gv(),v===null&&(v=Kt,w=Hv(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=c),v=w),l.memoizedState={parent:m,cache:v},Yv(l),Qs(l,Nn,v)):((s.lanes&c)!==0&&(Xv(s,l),Yf(l,null,null,c),Wf()),v=s.memoizedState,w=l.memoizedState,v.parent!==m?(v={parent:m,cache:m},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),Qs(l,Nn,m)):(m=w.cache,Qs(l,Nn,m),m!==v.cache&&Fv(l,[Nn],c,!0))),nr(s,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ls(s){s.flags|=4}function aO(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!hP(l)){if(l=Ti.current,l!==null&&((yt&4194048)===yt?xa!==null:(yt&62914560)!==yt&&(yt&536870912)===0||l!==xa))throw Kf=Wv,zA;s.flags|=8192}}function Xm(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?il():536870912,s.lanes|=l,Ju|=l)}function nd(s,l){if(!Tt)switch(s.tailMode){case"hidden":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function rn(s){var l=s.alternate!==null&&s.alternate.child===s.child,c=0,m=0;if(l)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=m,s.childLanes=c,l}function C$(s,l,c){var m=l.pendingProps;switch(Uv(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(l),null;case 1:return rn(l),null;case 3:return c=l.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),is(Nn),we(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Vf(l)?ls(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,LA())),rn(l),null;case 26:return c=l.memoizedState,s===null?(ls(l),c!==null?(rn(l),aO(l,c)):(rn(l),l.flags&=-16777217)):c?c!==s.memoizedState?(ls(l),rn(l),aO(l,c)):(rn(l),l.flags&=-16777217):(s.memoizedProps!==m&&ls(l),rn(l),l.flags&=-16777217),null;case 27:Ke(l),c=Ve.current;var v=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==m&&ls(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return rn(l),null}s=Pe.current,Vf(l)?IA(l):(s=aP(v,m,c),l.stateNode=s,ls(l))}return rn(l),null;case 5:if(Ke(l),c=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&ls(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return rn(l),null}if(s=Pe.current,Vf(l))IA(l);else{switch(v=up(Ve.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof m.is=="string"?v.createElement("select",{is:m.is}):v.createElement("select"),m.multiple?s.multiple=!0:m.size&&(s.size=m.size);break;default:s=typeof m.is=="string"?v.createElement(c,{is:m.is}):v.createElement(c)}}s[de]=l,s[ye]=m;e:for(v=l.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===l)break e;for(;v.sibling===null;){if(v.return===null||v.return===l)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}l.stateNode=s;e:switch(ir(s,c,m),c){case"button":case"input":case"select":case"textarea":s=!!m.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ls(l)}}return rn(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==m&&ls(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(s=Ve.current,Vf(l)){if(s=l.stateNode,c=l.memoizedProps,m=null,v=Tr,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}s[de]=l,s=!!(s.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||JO(s.nodeValue,c)),s||xl(l)}else s=up(s).createTextNode(m),s[de]=l,l.stateNode=s}return rn(l),null;case 13:if(m=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=Vf(l),m!==null&&m.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[de]=l}else Uf(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;rn(l),v=!1}else v=LA(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(ss(l),l):(ss(l),null)}if(ss(l),(l.flags&128)!==0)return l.lanes=c,l;if(c=m!==null,s=s!==null&&s.memoizedState!==null,c){m=l.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==v&&(m.flags|=2048)}return c!==s&&c&&(l.child.flags|=8192),Xm(l,l.updateQueue),rn(l),null;case 4:return we(),s===null&&J0(l.stateNode.containerInfo),rn(l),null;case 10:return is(l.type),rn(l),null;case 19:if(ie(kn),v=l.memoizedState,v===null)return rn(l),null;if(m=(l.flags&128)!==0,w=v.rendering,w===null)if(m)nd(v,!1);else{if(un!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(w=Hm(s),w!==null){for(l.flags|=128,nd(v,!1),s=w.updateQueue,l.updateQueue=s,Xm(l,s),l.subtreeFlags=0,s=c,c=l.child;c!==null;)kA(c,s),c=c.sibling;return me(kn,kn.current&1|2),l.child}s=s.sibling}v.tail!==null&&nn()>Zm&&(l.flags|=128,m=!0,nd(v,!1),l.lanes=4194304)}else{if(!m)if(s=Hm(w),s!==null){if(l.flags|=128,m=!0,s=s.updateQueue,l.updateQueue=s,Xm(l,s),nd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!Tt)return rn(l),null}else 2*nn()-v.renderingStartTime>Zm&&c!==536870912&&(l.flags|=128,m=!0,nd(v,!1),l.lanes=4194304);v.isBackwards?(w.sibling=l.child,l.child=w):(s=v.last,s!==null?s.sibling=w:l.child=w,v.last=w)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=nn(),l.sibling=null,s=kn.current,me(kn,m?s&1|2:s&1),l):(rn(l),null);case 22:case 23:return ss(l),e0(),m=l.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(c&536870912)!==0&&(l.flags&128)===0&&(rn(l),l.subtreeFlags&6&&(l.flags|=8192)):rn(l),c=l.updateQueue,c!==null&&Xm(l,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==c&&(l.flags|=2048),s!==null&&ie(Al),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),is(Nn),rn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function j$(s,l){switch(Uv(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return is(Nn),we(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Ke(l),null;case 13:if(ss(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Uf()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ie(kn),null;case 4:return we(),null;case 10:return is(l.type),null;case 22:case 23:return ss(l),e0(),s!==null&&ie(Al),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return is(Nn),null;case 25:return null;default:return null}}function sO(s,l){switch(Uv(l),l.tag){case 3:is(Nn),we();break;case 26:case 27:case 5:Ke(l);break;case 4:we();break;case 13:ss(l);break;case 19:ie(kn);break;case 10:is(l.type);break;case 22:case 23:ss(l),e0(),s!==null&&ie(Al);break;case 24:is(Nn)}}function rd(s,l){try{var c=l.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&s)===s){m=void 0;var w=c.create,N=c.inst;m=w(),N.destroy=m}c=c.next}while(c!==v)}}catch($){Bt(l,l.return,$)}}function io(s,l,c){try{var m=l.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var w=v.next;m=w;do{if((m.tag&s)===s){var N=m.inst,$=N.destroy;if($!==void 0){N.destroy=void 0,v=l;var F=c,Z=$;try{Z()}catch(ue){Bt(v,F,ue)}}}m=m.next}while(m!==w)}}catch(ue){Bt(l,l.return,ue)}}function oO(s){var l=s.updateQueue;if(l!==null){var c=s.stateNode;try{WA(l,c)}catch(m){Bt(s,s.return,m)}}}function lO(s,l,c){c.props=Ol(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(m){Bt(s,l,m)}}function id(s,l){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof c=="function"?s.refCleanup=c(m):c.current=m}}catch(v){Bt(s,l,v)}}function Ea(s,l){var c=s.ref,m=s.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(v){Bt(s,l,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Bt(s,l,v)}else c.current=null}function uO(s){var l=s.type,c=s.memoizedProps,m=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(v){Bt(s,s.return,v)}}function P0(s,l,c){try{var m=s.stateNode;J$(m,s.type,c,l),m[ye]=l}catch(v){Bt(s,s.return,v)}}function cO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ho(s.type)||s.tag===4}function R0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||cO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ho(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function C0(s,l,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(s),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=lp));else if(m!==4&&(m===27&&ho(s.type)&&(c=s.stateNode,l=null),s=s.child,s!==null))for(C0(s,l,c),s=s.sibling;s!==null;)C0(s,l,c),s=s.sibling}function Qm(s,l,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?c.insertBefore(s,l):c.appendChild(s);else if(m!==4&&(m===27&&ho(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Qm(s,l,c),s=s.sibling;s!==null;)Qm(s,l,c),s=s.sibling}function fO(s){var l=s.stateNode,c=s.memoizedProps;try{for(var m=s.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);ir(l,m,c),l[de]=s,l[ye]=c}catch(w){Bt(s,s.return,w)}}var us=!1,mn=!1,j0=!1,dO=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function N$(s,l){if(s=s.containerInfo,tb=pp,s=EA(s),Rv(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var N=0,$=-1,F=-1,Z=0,ue=0,fe=s,ne=null;t:for(;;){for(var re;fe!==c||v!==0&&fe.nodeType!==3||($=N+v),fe!==w||m!==0&&fe.nodeType!==3||(F=N+m),fe.nodeType===3&&(N+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ne=fe,fe=re;for(;;){if(fe===s)break t;if(ne===c&&++Z===v&&($=N),ne===w&&++ue===m&&(F=N),(re=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=re}c=$===-1||F===-1?null:{start:$,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(nb={focusedElem:s,selectionRange:c},pp=!1,Hn=l;Hn!==null;)if(l=Hn,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,Hn=s;else for(;Hn!==null;){switch(l=Hn,w=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,c=l,v=w.memoizedProps,w=w.memoizedState,m=c.stateNode;try{var We=Ol(c.type,v,c.elementType===c.type);s=m.getSnapshotBeforeUpdate(We,w),m.__reactInternalSnapshotBeforeUpdate=s}catch(qe){Bt(c,c.return,qe)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,c=s.nodeType,c===9)ab(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ab(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Hn=s;break}Hn=l.return}}function hO(s,l,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:ao(s,c),m&4&&rd(5,c);break;case 1:if(ao(s,c),m&4)if(s=c.stateNode,l===null)try{s.componentDidMount()}catch(N){Bt(c,c.return,N)}else{var v=Ol(c.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(v,l,s.__reactInternalSnapshotBeforeUpdate)}catch(N){Bt(c,c.return,N)}}m&64&&oO(c),m&512&&id(c,c.return);break;case 3:if(ao(s,c),m&64&&(s=c.updateQueue,s!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{WA(s,l)}catch(N){Bt(c,c.return,N)}}break;case 27:l===null&&m&4&&fO(c);case 26:case 5:ao(s,c),l===null&&m&4&&uO(c),m&512&&id(c,c.return);break;case 12:ao(s,c);break;case 13:ao(s,c),m&4&&gO(s,c),m&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=B$.bind(null,c),aV(s,c))));break;case 22:if(m=c.memoizedState!==null||us,!m){l=l!==null&&l.memoizedState!==null||mn,v=us;var w=mn;us=m,(mn=l)&&!w?so(s,c,(c.subtreeFlags&8772)!==0):ao(s,c),us=v,mn=w}break;case 30:break;default:ao(s,c)}}function mO(s){var l=s.alternate;l!==null&&(s.alternate=null,mO(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Re(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var en=null,kr=!1;function cs(s,l,c){for(c=c.child;c!==null;)pO(s,l,c),c=c.sibling}function pO(s,l,c){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Et,c)}catch{}switch(c.tag){case 26:mn||Ea(c,l),cs(s,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:mn||Ea(c,l);var m=en,v=kr;ho(c.type)&&(en=c.stateNode,kr=!1),cs(s,l,c),hd(c.stateNode),en=m,kr=v;break;case 5:mn||Ea(c,l);case 6:if(m=en,v=kr,en=null,cs(s,l,c),en=m,kr=v,en!==null)if(kr)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(c.stateNode)}catch(w){Bt(c,l,w)}else try{en.removeChild(c.stateNode)}catch(w){Bt(c,l,w)}break;case 18:en!==null&&(kr?(s=en,rP(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),wd(s)):rP(en,c.stateNode));break;case 4:m=en,v=kr,en=c.stateNode.containerInfo,kr=!0,cs(s,l,c),en=m,kr=v;break;case 0:case 11:case 14:case 15:mn||io(2,c,l),mn||io(4,c,l),cs(s,l,c);break;case 1:mn||(Ea(c,l),m=c.stateNode,typeof m.componentWillUnmount=="function"&&lO(c,l,m)),cs(s,l,c);break;case 21:cs(s,l,c);break;case 22:mn=(m=mn)||c.memoizedState!==null,cs(s,l,c),mn=m;break;default:cs(s,l,c)}}function gO(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{wd(s)}catch(c){Bt(l,l.return,c)}}function k$(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new dO),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new dO),l;default:throw Error(r(435,s.tag))}}function N0(s,l){var c=k$(s);l.forEach(function(m){var v=z$.bind(null,s,m);c.has(m)||(c.add(m),m.then(v,v))})}function Yr(s,l){var c=l.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m],w=s,N=l,$=N;e:for(;$!==null;){switch($.tag){case 27:if(ho($.type)){en=$.stateNode,kr=!1;break e}break;case 5:en=$.stateNode,kr=!1;break e;case 3:case 4:en=$.stateNode.containerInfo,kr=!0;break e}$=$.return}if(en===null)throw Error(r(160));pO(w,N,v),en=null,kr=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)yO(l,s),l=l.sibling}var Yi=null;function yO(s,l){var c=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Yr(l,s),Xr(s),m&4&&(io(3,s,s.return),rd(3,s),io(5,s,s.return));break;case 1:Yr(l,s),Xr(s),m&512&&(mn||c===null||Ea(c,c.return)),m&64&&us&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var v=Yi;if(Yr(l,s),Xr(s),m&512&&(mn||c===null||Ea(c,c.return)),m&4){var w=c!==null?c.memoizedState:null;if(m=s.memoizedState,c===null)if(m===null)if(s.stateNode===null){e:{m=s.type,c=s.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":w=v.getElementsByTagName("title")[0],(!w||w[ke]||w[de]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(m),v.head.insertBefore(w,v.querySelector("head > title"))),ir(w,m,c),w[de]=s,Ye(w),m=w;break e;case"link":var N=fP("link","href",v).get(m+(c.href||""));if(N){for(var $=0;$<N.length;$++)if(w=N[$],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){N.splice($,1);break t}}w=v.createElement(m),ir(w,m,c),v.head.appendChild(w);break;case"meta":if(N=fP("meta","content",v).get(m+(c.content||""))){for($=0;$<N.length;$++)if(w=N[$],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){N.splice($,1);break t}}w=v.createElement(m),ir(w,m,c),v.head.appendChild(w);break;default:throw Error(r(468,m))}w[de]=s,Ye(w),m=w}s.stateNode=m}else dP(v,s.type,s.stateNode);else s.stateNode=cP(v,m,s.memoizedProps);else w!==m?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,m===null?dP(v,s.type,s.stateNode):cP(v,m,s.memoizedProps)):m===null&&s.stateNode!==null&&P0(s,s.memoizedProps,c.memoizedProps)}break;case 27:Yr(l,s),Xr(s),m&512&&(mn||c===null||Ea(c,c.return)),c!==null&&m&4&&P0(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Yr(l,s),Xr(s),m&512&&(mn||c===null||Ea(c,c.return)),s.flags&32){v=s.stateNode;try{vi(v,"")}catch(re){Bt(s,s.return,re)}}m&4&&s.stateNode!=null&&(v=s.memoizedProps,P0(s,v,c!==null?c.memoizedProps:v)),m&1024&&(j0=!0);break;case 6:if(Yr(l,s),Xr(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,c=s.stateNode;try{c.nodeValue=m}catch(re){Bt(s,s.return,re)}}break;case 3:if(dp=null,v=Yi,Yi=cp(l.containerInfo),Yr(l,s),Yi=v,Xr(s),m&4&&c!==null&&c.memoizedState.isDehydrated)try{wd(l.containerInfo)}catch(re){Bt(s,s.return,re)}j0&&(j0=!1,vO(s));break;case 4:m=Yi,Yi=cp(s.stateNode.containerInfo),Yr(l,s),Xr(s),Yi=m;break;case 12:Yr(l,s),Xr(s);break;case 13:Yr(l,s),Xr(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&($0=nn()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,N0(s,m)));break;case 22:v=s.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,Z=us,ue=mn;if(us=Z||v,mn=ue||F,Yr(l,s),mn=ue,us=Z,Xr(s),m&8192)e:for(l=s.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(c===null||F||us||mn||Pl(s)),c=null,l=s;;){if(l.tag===5||l.tag===26){if(c===null){F=c=l;try{if(w=F.stateNode,v)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{$=F.stateNode;var fe=F.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;$.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Bt(F,F.return,re)}}}else if(l.tag===6){if(c===null){F=l;try{F.stateNode.nodeValue=v?"":F.memoizedProps}catch(re){Bt(F,F.return,re)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=s.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,N0(s,c))));break;case 19:Yr(l,s),Xr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,N0(s,m)));break;case 30:break;case 21:break;default:Yr(l,s),Xr(s)}}function Xr(s){var l=s.flags;if(l&2){try{for(var c,m=s.return;m!==null;){if(cO(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,w=R0(s);Qm(s,w,v);break;case 5:var N=c.stateNode;c.flags&32&&(vi(N,""),c.flags&=-33);var $=R0(s);Qm(s,$,N);break;case 3:case 4:var F=c.stateNode.containerInfo,Z=R0(s);C0(s,Z,F);break;default:throw Error(r(161))}}catch(ue){Bt(s,s.return,ue)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function vO(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;vO(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function ao(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)hO(s,l.alternate,l),l=l.sibling}function Pl(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:io(4,l,l.return),Pl(l);break;case 1:Ea(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&lO(l,l.return,c),Pl(l);break;case 27:hd(l.stateNode);case 26:case 5:Ea(l,l.return),Pl(l);break;case 22:l.memoizedState===null&&Pl(l);break;case 30:Pl(l);break;default:Pl(l)}s=s.sibling}}function so(s,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,v=s,w=l,N=w.flags;switch(w.tag){case 0:case 11:case 15:so(v,w,c),rd(4,w);break;case 1:if(so(v,w,c),m=w,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Z){Bt(m,m.return,Z)}if(m=w,v=m.updateQueue,v!==null){var $=m.stateNode;try{var F=v.shared.hiddenCallbacks;if(F!==null)for(v.shared.hiddenCallbacks=null,v=0;v<F.length;v++)GA(F[v],$)}catch(Z){Bt(m,m.return,Z)}}c&&N&64&&oO(w),id(w,w.return);break;case 27:fO(w);case 26:case 5:so(v,w,c),c&&m===null&&N&4&&uO(w),id(w,w.return);break;case 12:so(v,w,c);break;case 13:so(v,w,c),c&&N&4&&gO(v,w);break;case 22:w.memoizedState===null&&so(v,w,c),id(w,w.return);break;case 30:break;default:so(v,w,c)}l=l.sibling}}function k0(s,l){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&qf(c))}function D0(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&qf(s))}function Sa(s,l,c,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)bO(s,l,c,m),l=l.sibling}function bO(s,l,c,m){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Sa(s,l,c,m),v&2048&&rd(9,l);break;case 1:Sa(s,l,c,m);break;case 3:Sa(s,l,c,m),v&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&qf(s)));break;case 12:if(v&2048){Sa(s,l,c,m),s=l.stateNode;try{var w=l.memoizedProps,N=w.id,$=w.onPostCommit;typeof $=="function"&&$(N,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(F){Bt(l,l.return,F)}}else Sa(s,l,c,m);break;case 13:Sa(s,l,c,m);break;case 23:break;case 22:w=l.stateNode,N=l.alternate,l.memoizedState!==null?w._visibility&2?Sa(s,l,c,m):ad(s,l):w._visibility&2?Sa(s,l,c,m):(w._visibility|=2,Yu(s,l,c,m,(l.subtreeFlags&10256)!==0)),v&2048&&k0(N,l);break;case 24:Sa(s,l,c,m),v&2048&&D0(l.alternate,l);break;default:Sa(s,l,c,m)}}function Yu(s,l,c,m,v){for(v=v&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=s,N=l,$=c,F=m,Z=N.flags;switch(N.tag){case 0:case 11:case 15:Yu(w,N,$,F,v),rd(8,N);break;case 23:break;case 22:var ue=N.stateNode;N.memoizedState!==null?ue._visibility&2?Yu(w,N,$,F,v):ad(w,N):(ue._visibility|=2,Yu(w,N,$,F,v)),v&&Z&2048&&k0(N.alternate,N);break;case 24:Yu(w,N,$,F,v),v&&Z&2048&&D0(N.alternate,N);break;default:Yu(w,N,$,F,v)}l=l.sibling}}function ad(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=s,m=l,v=m.flags;switch(m.tag){case 22:ad(c,m),v&2048&&k0(m.alternate,m);break;case 24:ad(c,m),v&2048&&D0(m.alternate,m);break;default:ad(c,m)}l=l.sibling}}var sd=8192;function Xu(s){if(s.subtreeFlags&sd)for(s=s.child;s!==null;)_O(s),s=s.sibling}function _O(s){switch(s.tag){case 26:Xu(s),s.flags&sd&&s.memoizedState!==null&&vV(Yi,s.memoizedState,s.memoizedProps);break;case 5:Xu(s);break;case 3:case 4:var l=Yi;Yi=cp(s.stateNode.containerInfo),Xu(s),Yi=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=sd,sd=16777216,Xu(s),sd=l):Xu(s));break;default:Xu(s)}}function wO(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function od(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];Hn=m,EO(m,s)}wO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)xO(s),s=s.sibling}function xO(s){switch(s.tag){case 0:case 11:case 15:od(s),s.flags&2048&&io(9,s,s.return);break;case 3:od(s);break;case 12:od(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Jm(s)):od(s);break;default:od(s)}}function Jm(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];Hn=m,EO(m,s)}wO(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:io(8,l,l.return),Jm(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,Jm(l));break;default:Jm(l)}s=s.sibling}}function EO(s,l){for(;Hn!==null;){var c=Hn;switch(c.tag){case 0:case 11:case 15:io(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:qf(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Hn=m;else e:for(c=s;Hn!==null;){m=Hn;var v=m.sibling,w=m.return;if(mO(m),m===c){Hn=null;break e}if(v!==null){v.return=w,Hn=v;break e}Hn=w}}}var D$={getCacheForType:function(s){var l=fr(Nn),c=l.data.get(s);return c===void 0&&(c=s(),l.data.set(s,c)),c}},I$=typeof WeakMap=="function"?WeakMap:Map,jt=0,Kt=null,ut=null,yt=0,Nt=0,Qr=null,oo=!1,Qu=!1,I0=!1,fs=0,un=0,lo=0,Rl=0,M0=0,Oi=0,Ju=0,ld=null,Dr=null,L0=!1,$0=0,Zm=1/0,ep=null,uo=null,rr=0,co=null,Zu=null,ec=0,V0=0,U0=null,SO=null,ud=0,B0=null;function Jr(){if((jt&2)!==0&&yt!==0)return yt&-yt;if(G.T!==null){var s=Bu;return s!==0?s:W0()}return K()}function AO(){Oi===0&&(Oi=(yt&536870912)===0||Tt?Ka():536870912);var s=Ti.current;return s!==null&&(s.flags|=32),Oi}function Zr(s,l,c){(s===Kt&&(Nt===2||Nt===9)||s.cancelPendingCommit!==null)&&(tc(s,0),fo(s,yt,Oi,!1)),Fi(s,c),((jt&2)===0||s!==Kt)&&(s===Kt&&((jt&2)===0&&(Rl|=c),un===4&&fo(s,yt,Oi,!1)),Aa(s))}function TO(s,l,c){if((jt&6)!==0)throw Error(r(327));var m=!c&&(l&124)===0&&(l&s.expiredLanes)===0||pi(s,l),v=m?$$(s,l):F0(s,l,!0),w=m;do{if(v===0){Qu&&!m&&fo(s,l,0,!1);break}else{if(c=s.current.alternate,w&&!M$(c)){v=F0(s,l,!1),w=!1;continue}if(v===2){if(w=l,s.errorRecoveryDisabledLanes&w)var N=0;else N=s.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){l=N;e:{var $=s;v=ld;var F=$.current.memoizedState.isDehydrated;if(F&&(tc($,N).flags|=256),N=F0($,N,!1),N!==2){if(I0&&!F){$.errorRecoveryDisabledLanes|=w,Rl|=w,v=4;break e}w=Dr,Dr=v,w!==null&&(Dr===null?Dr=w:Dr.push.apply(Dr,w))}v=N}if(w=!1,v!==2)continue}}if(v===1){tc(s,0),fo(s,l,0,!0);break}e:{switch(m=s,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:fo(m,l,Oi,!oo);break e;case 2:Dr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=$0+300-nn(),10<v)){if(fo(m,l,Oi,!oo),Ha(m,0,!0)!==0)break e;m.timeoutHandle=tP(OO.bind(null,m,c,Dr,ep,L0,l,Oi,Rl,Ju,oo,w,2,-0,0),v);break e}OO(m,c,Dr,ep,L0,l,Oi,Rl,Ju,oo,w,0,-0,0)}}break}while(!0);Aa(s)}function OO(s,l,c,m,v,w,N,$,F,Z,ue,fe,ne,re){if(s.timeoutHandle=-1,fe=l.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(gd={stylesheets:null,count:0,unsuspend:yV},_O(l),fe=bV(),fe!==null)){s.cancelPendingCommit=fe(DO.bind(null,s,l,w,c,m,v,N,$,F,ue,1,ne,re)),fo(s,w,N,!Z);return}DO(s,l,w,c,m,v,N,$,F)}function M$(s){for(var l=s;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var v=c[m],w=v.getSnapshot;v=v.value;try{if(!Gr(w(),v))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function fo(s,l,c,m){l&=~M0,l&=~Rl,s.suspendedLanes|=l,s.pingedLanes&=~l,m&&(s.warmLanes|=l),m=s.expirationTimes;for(var v=l;0<v;){var w=31-bn(v),N=1<<w;m[w]=-1,v&=~N}c!==0&&wr(s,c,l)}function tp(){return(jt&6)===0?(cd(0),!1):!0}function z0(){if(ut!==null){if(Nt===0)var s=ut.return;else s=ut,rs=El=null,a0(s),Gu=null,ed=0,s=ut;for(;s!==null;)sO(s.alternate,s),s=s.return;ut=null}}function tc(s,l){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,eV(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),z0(),Kt=s,ut=c=es(s.current,null),yt=l,Nt=0,Qr=null,oo=!1,Qu=pi(s,l),I0=!1,Ju=Oi=M0=Rl=lo=un=0,Dr=ld=null,L0=!1,(l&8)!==0&&(l|=l&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=l;0<m;){var v=31-bn(m),w=1<<v;l|=s[v],m&=~w}return fs=l,Em(),c}function PO(s,l){rt=null,G.H=zm,l===Hf||l===Nm?(l=HA(),Nt=3):l===zA?(l=HA(),Nt=4):Nt=l===KT?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Qr=l,ut===null&&(un=1,Gm(s,xi(l,s.current)))}function RO(){var s=G.H;return G.H=zm,s===null?zm:s}function CO(){var s=G.A;return G.A=D$,s}function q0(){un=4,oo||(yt&4194048)!==yt&&Ti.current!==null||(Qu=!0),(lo&134217727)===0&&(Rl&134217727)===0||Kt===null||fo(Kt,yt,Oi,!1)}function F0(s,l,c){var m=jt;jt|=2;var v=RO(),w=CO();(Kt!==s||yt!==l)&&(ep=null,tc(s,l)),l=!1;var N=un;e:do try{if(Nt!==0&&ut!==null){var $=ut,F=Qr;switch(Nt){case 8:z0(),N=6;break e;case 3:case 2:case 9:case 6:Ti.current===null&&(l=!0);var Z=Nt;if(Nt=0,Qr=null,nc(s,$,F,Z),c&&Qu){N=0;break e}break;default:Z=Nt,Nt=0,Qr=null,nc(s,$,F,Z)}}L$(),N=un;break}catch(ue){PO(s,ue)}while(!0);return l&&s.shellSuspendCounter++,rs=El=null,jt=m,G.H=v,G.A=w,ut===null&&(Kt=null,yt=0,Em()),N}function L$(){for(;ut!==null;)jO(ut)}function $$(s,l){var c=jt;jt|=2;var m=RO(),v=CO();Kt!==s||yt!==l?(ep=null,Zm=nn()+500,tc(s,l)):Qu=pi(s,l);e:do try{if(Nt!==0&&ut!==null){l=ut;var w=Qr;t:switch(Nt){case 1:Nt=0,Qr=null,nc(s,l,w,1);break;case 2:case 9:if(qA(w)){Nt=0,Qr=null,NO(l);break}l=function(){Nt!==2&&Nt!==9||Kt!==s||(Nt=7),Aa(s)},w.then(l,l);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:qA(w)?(Nt=0,Qr=null,NO(l)):(Nt=0,Qr=null,nc(s,l,w,7));break;case 5:var N=null;switch(ut.tag){case 26:N=ut.memoizedState;case 5:case 27:var $=ut;if(!N||hP(N)){Nt=0,Qr=null;var F=$.sibling;if(F!==null)ut=F;else{var Z=$.return;Z!==null?(ut=Z,np(Z)):ut=null}break t}}Nt=0,Qr=null,nc(s,l,w,5);break;case 6:Nt=0,Qr=null,nc(s,l,w,6);break;case 8:z0(),un=6;break e;default:throw Error(r(462))}}V$();break}catch(ue){PO(s,ue)}while(!0);return rs=El=null,G.H=m,G.A=v,jt=c,ut!==null?0:(Kt=null,yt=0,Em(),un)}function V$(){for(;ut!==null&&!dn();)jO(ut)}function jO(s){var l=iO(s.alternate,s,fs);s.memoizedProps=s.pendingProps,l===null?np(s):ut=l}function NO(s){var l=s,c=l.alternate;switch(l.tag){case 15:case 0:l=JT(c,l,l.pendingProps,l.type,void 0,yt);break;case 11:l=JT(c,l,l.pendingProps,l.type.render,l.ref,yt);break;case 5:a0(l);default:sO(c,l),l=ut=kA(l,fs),l=iO(c,l,fs)}s.memoizedProps=s.pendingProps,l===null?np(s):ut=l}function nc(s,l,c,m){rs=El=null,a0(l),Gu=null,ed=0;var v=l.return;try{if(P$(s,v,l,c,yt)){un=1,Gm(s,xi(c,s.current)),ut=null;return}}catch(w){if(v!==null)throw ut=v,w;un=1,Gm(s,xi(c,s.current)),ut=null;return}l.flags&32768?(Tt||m===1?s=!0:Qu||(yt&536870912)!==0?s=!1:(oo=s=!0,(m===2||m===9||m===3||m===6)&&(m=Ti.current,m!==null&&m.tag===13&&(m.flags|=16384))),kO(l,s)):np(l)}function np(s){var l=s;do{if((l.flags&32768)!==0){kO(l,oo);return}s=l.return;var c=C$(l.alternate,l,fs);if(c!==null){ut=c;return}if(l=l.sibling,l!==null){ut=l;return}ut=l=s}while(l!==null);un===0&&(un=5)}function kO(s,l){do{var c=j$(s.alternate,s);if(c!==null){c.flags&=32767,ut=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(s=s.sibling,s!==null)){ut=s;return}ut=s=c}while(s!==null);un=6,ut=null}function DO(s,l,c,m,v,w,N,$,F){s.cancelPendingCommit=null;do rp();while(rr!==0);if((jt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=Dv,Fs(s,c,w,N,$,F),s===Kt&&(ut=Kt=null,yt=0),Zu=l,co=s,ec=c,V0=w,U0=v,SO=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,q$(Fa,function(){return VO(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,v=ae.p,ae.p=2,N=jt,jt|=4;try{N$(s,l,c)}finally{jt=N,ae.p=v,G.T=m}}rr=1,IO(),MO(),LO()}}function IO(){if(rr===1){rr=0;var s=co,l=Zu,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=G.T,G.T=null;var m=ae.p;ae.p=2;var v=jt;jt|=4;try{yO(l,s);var w=nb,N=EA(s.containerInfo),$=w.focusedElem,F=w.selectionRange;if(N!==$&&$&&$.ownerDocument&&xA($.ownerDocument.documentElement,$)){if(F!==null&&Rv($)){var Z=F.start,ue=F.end;if(ue===void 0&&(ue=Z),"selectionStart"in $)$.selectionStart=Z,$.selectionEnd=Math.min(ue,$.value.length);else{var fe=$.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),We=$.textContent.length,qe=Math.min(F.start,We),Lt=F.end===void 0?qe:Math.min(F.end,We);!re.extend&&qe>Lt&&(N=Lt,Lt=qe,qe=N);var Y=wA($,qe),W=wA($,Lt);if(Y&&W&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==W.node||re.focusOffset!==W.offset)){var J=fe.createRange();J.setStart(Y.node,Y.offset),re.removeAllRanges(),qe>Lt?(re.addRange(J),re.extend(W.node,W.offset)):(J.setEnd(W.node,W.offset),re.addRange(J))}}}}for(fe=[],re=$;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<fe.length;$++){var ce=fe[$];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}pp=!!tb,nb=tb=null}finally{jt=v,ae.p=m,G.T=c}}s.current=l,rr=2}}function MO(){if(rr===2){rr=0;var s=co,l=Zu,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=G.T,G.T=null;var m=ae.p;ae.p=2;var v=jt;jt|=4;try{hO(s,l.alternate,l)}finally{jt=v,ae.p=m,G.T=c}}rr=3}}function LO(){if(rr===4||rr===3){rr=0,vn();var s=co,l=Zu,c=ec,m=SO;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?rr=5:(rr=0,Zu=co=null,$O(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(uo=null),Hs(c),l=l.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Et,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=G.T,v=ae.p,ae.p=2,G.T=null;try{for(var w=s.onRecoverableError,N=0;N<m.length;N++){var $=m[N];w($.value,{componentStack:$.stack})}}finally{G.T=l,ae.p=v}}(ec&3)!==0&&rp(),Aa(s),v=s.pendingLanes,(c&4194090)!==0&&(v&42)!==0?s===B0?ud++:(ud=0,B0=s):ud=0,cd(0)}}function $O(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,qf(l)))}function rp(s){return IO(),MO(),LO(),VO()}function VO(){if(rr!==5)return!1;var s=co,l=V0;V0=0;var c=Hs(ec),m=G.T,v=ae.p;try{ae.p=32>c?32:c,G.T=null,c=U0,U0=null;var w=co,N=ec;if(rr=0,Zu=co=null,ec=0,(jt&6)!==0)throw Error(r(331));var $=jt;if(jt|=4,xO(w.current),bO(w,w.current,N,c),jt=$,cd(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Et,w)}catch{}return!0}finally{ae.p=v,G.T=m,$O(s,l)}}function UO(s,l,c){l=xi(c,l),l=b0(s.stateNode,l,2),s=eo(s,l,2),s!==null&&(Fi(s,2),Aa(s))}function Bt(s,l,c){if(s.tag===3)UO(s,s,c);else for(;l!==null;){if(l.tag===3){UO(l,s,c);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(uo===null||!uo.has(m))){s=xi(c,s),c=FT(2),m=eo(l,c,2),m!==null&&(HT(c,m,l,s),Fi(m,2),Aa(m));break}}l=l.return}}function H0(s,l,c){var m=s.pingCache;if(m===null){m=s.pingCache=new I$;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(c)||(I0=!0,v.add(c),s=U$.bind(null,s,l,c),l.then(s,s))}function U$(s,l,c){var m=s.pingCache;m!==null&&m.delete(l),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Kt===s&&(yt&c)===c&&(un===4||un===3&&(yt&62914560)===yt&&300>nn()-$0?(jt&2)===0&&tc(s,0):M0|=c,Ju===yt&&(Ju=0)),Aa(s)}function BO(s,l){l===0&&(l=il()),s=Lu(s,l),s!==null&&(Fi(s,l),Aa(s))}function B$(s){var l=s.memoizedState,c=0;l!==null&&(c=l.retryLane),BO(s,c)}function z$(s,l){var c=0;switch(s.tag){case 13:var m=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),BO(s,c)}function q$(s,l){return Jt(s,l)}var ip=null,rc=null,K0=!1,ap=!1,G0=!1,Cl=0;function Aa(s){s!==rc&&s.next===null&&(rc===null?ip=rc=s:rc=rc.next=s),ap=!0,K0||(K0=!0,H$())}function cd(s,l){if(!G0&&ap){G0=!0;do for(var c=!1,m=ip;m!==null;){if(s!==0){var v=m.pendingLanes;if(v===0)var w=0;else{var N=m.suspendedLanes,$=m.pingedLanes;w=(1<<31-bn(42|s)+1)-1,w&=v&~(N&~$),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,HO(m,w))}else w=yt,w=Ha(m,m===Kt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||pi(m,w)||(c=!0,HO(m,w));m=m.next}while(c);G0=!1}}function F$(){zO()}function zO(){ap=K0=!1;var s=0;Cl!==0&&(Z$()&&(s=Cl),Cl=0);for(var l=nn(),c=null,m=ip;m!==null;){var v=m.next,w=qO(m,l);w===0?(m.next=null,c===null?ip=v:c.next=v,v===null&&(rc=c)):(c=m,(s!==0||(w&3)!==0)&&(ap=!0)),m=v}cd(s)}function qO(s,l){for(var c=s.suspendedLanes,m=s.pingedLanes,v=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var N=31-bn(w),$=1<<N,F=v[N];F===-1?(($&c)===0||($&m)!==0)&&(v[N]=qs($,l)):F<=l&&(s.expiredLanes|=$),w&=~$}if(l=Kt,c=yt,c=Ha(s,s===l?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,c===0||s===l&&(Nt===2||Nt===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&et(m),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||pi(s,c)){if(l=c&-c,l===s.callbackPriority)return l;switch(m!==null&&et(m),Hs(c)){case 2:case 8:c=Us;break;case 32:c=Fa;break;case 268435456:c=hi;break;default:c=Fa}return m=FO.bind(null,s),c=Jt(c,m),s.callbackPriority=l,s.callbackNode=c,l}return m!==null&&m!==null&&et(m),s.callbackPriority=2,s.callbackNode=null,2}function FO(s,l){if(rr!==0&&rr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(rp()&&s.callbackNode!==c)return null;var m=yt;return m=Ha(s,s===Kt?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(TO(s,m,l),qO(s,nn()),s.callbackNode!=null&&s.callbackNode===c?FO.bind(null,s):null)}function HO(s,l){if(rp())return null;TO(s,l,!0)}function H$(){tV(function(){(jt&6)!==0?Jt(rl,F$):zO()})}function W0(){return Cl===0&&(Cl=Ka()),Cl}function KO(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Au(""+s)}function GO(s,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,s.id&&c.setAttribute("form",s.id),l.parentNode.insertBefore(c,l),s=new FormData(s),c.parentNode.removeChild(c),s}function K$(s,l,c,m,v){if(l==="submit"&&c&&c.stateNode===v){var w=KO((v[ye]||null).action),N=m.submitter;N&&(l=(l=N[ye]||null)?KO(l.formAction):N.getAttribute("formAction"),l!==null&&(w=l,N=null));var $=new Tu("action","action",null,m,v);s.push({event:$,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Cl!==0){var F=N?GO(v,N):new FormData(v);m0(c,{pending:!0,data:F,method:v.method,action:w},null,F)}}else typeof w=="function"&&($.preventDefault(),F=N?GO(v,N):new FormData(v),m0(c,{pending:!0,data:F,method:v.method,action:w},w,F))},currentTarget:v}]})}}for(var Y0=0;Y0<kv.length;Y0++){var X0=kv[Y0],G$=X0.toLowerCase(),W$=X0[0].toUpperCase()+X0.slice(1);Wi(G$,"on"+W$)}Wi(TA,"onAnimationEnd"),Wi(OA,"onAnimationIteration"),Wi(PA,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi(f$,"onTransitionRun"),Wi(d$,"onTransitionStart"),Wi(h$,"onTransitionCancel"),Wi(RA,"onTransitionEnd"),Bn("onMouseEnter",["mouseout","mouseover"]),Bn("onMouseLeave",["mouseout","mouseover"]),Bn("onPointerEnter",["pointerout","pointerover"]),Bn("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fd));function WO(s,l){l=(l&4)!==0;for(var c=0;c<s.length;c++){var m=s[c],v=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var N=m.length-1;0<=N;N--){var $=m[N],F=$.instance,Z=$.currentTarget;if($=$.listener,F!==w&&v.isPropagationStopped())break e;w=$,v.currentTarget=Z;try{w(v)}catch(ue){Km(ue)}v.currentTarget=null,w=F}else for(N=0;N<m.length;N++){if($=m[N],F=$.instance,Z=$.currentTarget,$=$.listener,F!==w&&v.isPropagationStopped())break e;w=$,v.currentTarget=Z;try{w(v)}catch(ue){Km(ue)}v.currentTarget=null,w=F}}}}function ct(s,l){var c=l[Ie];c===void 0&&(c=l[Ie]=new Set);var m=s+"__bubble";c.has(m)||(YO(l,s,2,!1),c.add(m))}function Q0(s,l,c){var m=0;l&&(m|=4),YO(c,s,m,l)}var sp="_reactListening"+Math.random().toString(36).slice(2);function J0(s){if(!s[sp]){s[sp]=!0,At.forEach(function(c){c!=="selectionchange"&&(Y$.has(c)||Q0(c,!1,s),Q0(c,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[sp]||(l[sp]=!0,Q0("selectionchange",!1,l))}}function YO(s,l,c,m){switch(bP(l)){case 2:var v=xV;break;case 8:v=EV;break;default:v=db}c=v.bind(null,l,c,s),v=void 0,!_i||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?s.addEventListener(l,c,{capture:!0,passive:v}):s.addEventListener(l,c,!0):v!==void 0?s.addEventListener(l,c,{passive:v}):s.addEventListener(l,c,!1)}function Z0(s,l,c,m,v){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var $=m.stateNode.containerInfo;if($===v)break;if(N===4)for(N=m.return;N!==null;){var F=N.tag;if((F===3||F===4)&&N.stateNode.containerInfo===v)return;N=N.return}for(;$!==null;){if(N=Ze($),N===null)return;if(F=N.tag,F===5||F===6||F===26||F===27){m=w=N;continue e}$=$.parentNode}}m=m.return}lm(function(){var Z=w,ue=bi(c),fe=[];e:{var ne=CA.get(s);if(ne!==void 0){var re=Tu,We=s;switch(s){case"keypress":if(ga(c)===0)break e;case"keydown":case"keyup":re=Nu;break;case"focusin":We="focus",re=Ru;break;case"focusout":We="blur",re=Ru;break;case"beforeblur":case"afterblur":re=Ru;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=wi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=gm;break;case TA:case OA:case PA:re=Cu;break;case RA:re=vm;break;case"scroll":case"scrollend":re=um;break;case"wheel":re=ku;break;case"copy":case"cut":case"paste":re=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=If;break;case"toggle":case"beforetoggle":re=_m}var qe=(l&4)!==0,Lt=!qe&&(s==="scroll"||s==="scrollend"),Y=qe?ne!==null?ne+"Capture":null:ne;qe=[];for(var W=Z,J;W!==null;){var ce=W;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||Y===null||(ce=ul(W,Y),ce!=null&&qe.push(dd(W,ce,J))),Lt)break;W=W.return}0<qe.length&&(ne=new re(ne,We,null,c,ue),fe.push({event:ne,listeners:qe}))}}if((l&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",ne&&c!==Wa&&(We=c.relatedTarget||c.fromElement)&&(Ze(We)||We[xe]))break e;if((re||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(We=c.relatedTarget||c.toElement,re=Z,We=We?Ze(We):null,We!==null&&(Lt=a(We),qe=We.tag,We!==Lt||qe!==5&&qe!==27&&qe!==6)&&(We=null)):(re=null,We=Z),re!==We)){if(qe=wi,ce="onMouseLeave",Y="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(qe=If,ce="onPointerLeave",Y="onPointerEnter",W="pointer"),Lt=re==null?ne:Ct(re),J=We==null?ne:Ct(We),ne=new qe(ce,W+"leave",re,c,ue),ne.target=Lt,ne.relatedTarget=J,ce=null,Ze(ue)===Z&&(qe=new qe(Y,W+"enter",We,c,ue),qe.target=J,qe.relatedTarget=Lt,ce=qe),Lt=ce,re&&We)t:{for(qe=re,Y=We,W=0,J=qe;J;J=ic(J))W++;for(J=0,ce=Y;ce;ce=ic(ce))J++;for(;0<W-J;)qe=ic(qe),W--;for(;0<J-W;)Y=ic(Y),J--;for(;W--;){if(qe===Y||Y!==null&&qe===Y.alternate)break t;qe=ic(qe),Y=ic(Y)}qe=null}else qe=null;re!==null&&XO(fe,ne,re,qe,!1),We!==null&&Lt!==null&&XO(fe,Lt,We,qe,!0)}}e:{if(ne=Z?Ct(Z):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Ce=pA;else if(jn(ne))if(gA)Ce=l$;else{Ce=s$;var at=a$}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?Z&&Pf(Z.elementType)&&(Ce=pA):Ce=o$;if(Ce&&(Ce=Ce(s,Z))){Za(fe,Ce,c,ue);break e}at&&at(s,ne,Z),s==="focusout"&&Z&&ne.type==="number"&&Z.memoizedProps.value!=null&&Ys(ne,"number",ne.value)}switch(at=Z?Ct(Z):window,s){case"focusin":(jn(at)||at.contentEditable==="true")&&(Du=at,Cv=Z,$f=null);break;case"focusout":$f=Cv=Du=null;break;case"mousedown":jv=!0;break;case"contextmenu":case"mouseup":case"dragend":jv=!1,SA(fe,c,ue);break;case"selectionchange":if(c$)break;case"keydown":case"keyup":SA(fe,c,ue)}var Me;if(ba)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else pt?se(s,c)&&(He="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(He="onCompositionStart");He&&(C&&c.locale!=="ko"&&(pt||He!=="onCompositionStart"?He==="onCompositionEnd"&&pt&&(Me=Cf()):(pa=ue,Xs="value"in pa?pa.value:pa.textContent,pt=!0)),at=op(Z,He),0<at.length&&(He=new kf(He,s,null,c,ue),fe.push({event:He,listeners:at}),Me?He.data=Me:(Me=_e(c),Me!==null&&(He.data=Me)))),(Me=T?Cn(s,c):gt(s,c))&&(He=op(Z,"onBeforeInput"),0<He.length&&(at=new kf("onBeforeInput","beforeinput",null,c,ue),fe.push({event:at,listeners:He}),at.data=Me)),K$(fe,s,Z,c,ue)}WO(fe,l)})}function dd(s,l,c){return{instance:s,listener:l,currentTarget:c}}function op(s,l){for(var c=l+"Capture",m=[];s!==null;){var v=s,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=ul(s,c),v!=null&&m.unshift(dd(s,v,w)),v=ul(s,l),v!=null&&m.push(dd(s,v,w))),s.tag===3)return m;s=s.return}return[]}function ic(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function XO(s,l,c,m,v){for(var w=l._reactName,N=[];c!==null&&c!==m;){var $=c,F=$.alternate,Z=$.stateNode;if($=$.tag,F!==null&&F===m)break;$!==5&&$!==26&&$!==27||Z===null||(F=Z,v?(Z=ul(c,w),Z!=null&&N.unshift(dd(c,Z,F))):v||(Z=ul(c,w),Z!=null&&N.push(dd(c,Z,F)))),c=c.return}N.length!==0&&s.push({event:l,listeners:N})}var X$=/\r\n?/g,Q$=/\u0000|\uFFFD/g;function QO(s){return(typeof s=="string"?s:""+s).replace(X$,`
`).replace(Q$,"")}function JO(s,l){return l=QO(l),QO(s)===l}function lp(){}function Mt(s,l,c,m,v,w){switch(c){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||vi(s,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&vi(s,""+m);break;case"className":Er(s,"class",m);break;case"tabIndex":Er(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(s,c,m);break;case"style":Of(s,m,w);break;case"data":if(l!=="object"){Er(s,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||c!=="href")){s.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=Au(""+m),s.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(l!=="input"&&Mt(s,l,"name",v.name,v,null),Mt(s,l,"formEncType",v.formEncType,v,null),Mt(s,l,"formMethod",v.formMethod,v,null),Mt(s,l,"formTarget",v.formTarget,v,null)):(Mt(s,l,"encType",v.encType,v,null),Mt(s,l,"method",v.method,v,null),Mt(s,l,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=Au(""+m),s.setAttribute(c,m);break;case"onClick":m!=null&&(s.onclick=lp);break;case"onScroll":m!=null&&ct("scroll",s);break;case"onScrollEnd":m!=null&&ct("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}c=Au(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""+m):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":m===!0?s.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,m):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(c,m):s.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(c):s.setAttribute(c,m);break;case"popover":ct("beforetoggle",s),ct("toggle",s),Hr(s,"popover",m);break;case"xlinkActuate":Fe(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Fe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Fe(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Fe(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Fe(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Fe(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Hr(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ev.get(c)||c,Hr(s,c,m))}}function eb(s,l,c,m,v,w){switch(c){case"style":Of(s,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof m=="string"?vi(s,m):(typeof m=="number"||typeof m=="bigint")&&vi(s,""+m);break;case"onScroll":m!=null&&ct("scroll",s);break;case"onScrollEnd":m!=null&&ct("scrollend",s);break;case"onClick":m!=null&&(s.onclick=lp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jr.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),l=c.slice(2,v?c.length-7:void 0),w=s[ye]||null,w=w!=null?w[c]:null,typeof w=="function"&&s.removeEventListener(l,w,v),typeof m=="function")){typeof w!="function"&&w!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(l,m,v);break e}c in s?s[c]=m:m===!0?s.setAttribute(c,""):Hr(s,c,m)}}}function ir(s,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",s),ct("load",s);var m=!1,v=!1,w;for(w in c)if(c.hasOwnProperty(w)){var N=c[w];if(N!=null)switch(w){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Mt(s,l,w,N,c,null)}}v&&Mt(s,l,"srcSet",c.srcSet,c,null),m&&Mt(s,l,"src",c.src,c,null);return;case"input":ct("invalid",s);var $=w=N=v=null,F=null,Z=null;for(m in c)if(c.hasOwnProperty(m)){var ue=c[m];if(ue!=null)switch(m){case"name":v=ue;break;case"type":N=ue;break;case"checked":F=ue;break;case"defaultChecked":Z=ue;break;case"value":w=ue;break;case"defaultValue":$=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,l));break;default:Mt(s,l,m,ue,c,null)}}sl(s,w,$,F,Z,N,v,!1),Su(s);return;case"select":ct("invalid",s),m=N=w=null;for(v in c)if(c.hasOwnProperty(v)&&($=c[v],$!=null))switch(v){case"value":w=$;break;case"defaultValue":N=$;break;case"multiple":m=$;default:Mt(s,l,v,$,c,null)}l=w,c=N,s.multiple=!!m,l!=null?Ga(s,!!m,l,!1):c!=null&&Ga(s,!!m,c,!0);return;case"textarea":ct("invalid",s),w=v=m=null;for(N in c)if(c.hasOwnProperty(N)&&($=c[N],$!=null))switch(N){case"value":m=$;break;case"defaultValue":v=$;break;case"children":w=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Mt(s,l,N,$,c,null)}ol(s,m,v,w),Su(s);return;case"option":for(F in c)if(c.hasOwnProperty(F)&&(m=c[F],m!=null))switch(F){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Mt(s,l,F,m,c,null)}return;case"dialog":ct("beforetoggle",s),ct("toggle",s),ct("cancel",s),ct("close",s);break;case"iframe":case"object":ct("load",s);break;case"video":case"audio":for(m=0;m<fd.length;m++)ct(fd[m],s);break;case"image":ct("error",s),ct("load",s);break;case"details":ct("toggle",s);break;case"embed":case"source":case"link":ct("error",s),ct("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(m=c[Z],m!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Mt(s,l,Z,m,c,null)}return;default:if(Pf(l)){for(ue in c)c.hasOwnProperty(ue)&&(m=c[ue],m!==void 0&&eb(s,l,ue,m,c,void 0));return}}for($ in c)c.hasOwnProperty($)&&(m=c[$],m!=null&&Mt(s,l,$,m,c,null))}function J$(s,l,c,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,N=null,$=null,F=null,Z=null,ue=null;for(re in c){var fe=c[re];if(c.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":F=fe;default:m.hasOwnProperty(re)||Mt(s,l,re,null,m,fe)}}for(var ne in m){var re=m[ne];if(fe=c[ne],m.hasOwnProperty(ne)&&(re!=null||fe!=null))switch(ne){case"type":w=re;break;case"name":v=re;break;case"checked":Z=re;break;case"defaultChecked":ue=re;break;case"value":N=re;break;case"defaultValue":$=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,l));break;default:re!==fe&&Mt(s,l,ne,re,m,fe)}}Kr(s,N,$,F,Z,ue,w,v);return;case"select":re=N=$=ne=null;for(w in c)if(F=c[w],c.hasOwnProperty(w)&&F!=null)switch(w){case"value":break;case"multiple":re=F;default:m.hasOwnProperty(w)||Mt(s,l,w,null,m,F)}for(v in m)if(w=m[v],F=c[v],m.hasOwnProperty(v)&&(w!=null||F!=null))switch(v){case"value":ne=w;break;case"defaultValue":$=w;break;case"multiple":N=w;default:w!==F&&Mt(s,l,v,w,m,F)}l=$,c=N,m=re,ne!=null?Ga(s,!!c,ne,!1):!!m!=!!c&&(l!=null?Ga(s,!!c,l,!0):Ga(s,!!c,c?[]:"",!1));return;case"textarea":re=ne=null;for($ in c)if(v=c[$],c.hasOwnProperty($)&&v!=null&&!m.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Mt(s,l,$,null,m,v)}for(N in m)if(v=m[N],w=c[N],m.hasOwnProperty(N)&&(v!=null||w!=null))switch(N){case"value":ne=v;break;case"defaultValue":re=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&Mt(s,l,N,v,m,w)}Dt(s,ne,re);return;case"option":for(var We in c)if(ne=c[We],c.hasOwnProperty(We)&&ne!=null&&!m.hasOwnProperty(We))switch(We){case"selected":s.selected=!1;break;default:Mt(s,l,We,null,m,ne)}for(F in m)if(ne=m[F],re=c[F],m.hasOwnProperty(F)&&ne!==re&&(ne!=null||re!=null))switch(F){case"selected":s.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Mt(s,l,F,ne,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in c)ne=c[qe],c.hasOwnProperty(qe)&&ne!=null&&!m.hasOwnProperty(qe)&&Mt(s,l,qe,null,m,ne);for(Z in m)if(ne=m[Z],re=c[Z],m.hasOwnProperty(Z)&&ne!==re&&(ne!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:Mt(s,l,Z,ne,m,re)}return;default:if(Pf(l)){for(var Lt in c)ne=c[Lt],c.hasOwnProperty(Lt)&&ne!==void 0&&!m.hasOwnProperty(Lt)&&eb(s,l,Lt,void 0,m,ne);for(ue in m)ne=m[ue],re=c[ue],!m.hasOwnProperty(ue)||ne===re||ne===void 0&&re===void 0||eb(s,l,ue,ne,m,re);return}}for(var Y in c)ne=c[Y],c.hasOwnProperty(Y)&&ne!=null&&!m.hasOwnProperty(Y)&&Mt(s,l,Y,null,m,ne);for(fe in m)ne=m[fe],re=c[fe],!m.hasOwnProperty(fe)||ne===re||ne==null&&re==null||Mt(s,l,fe,ne,m,re)}var tb=null,nb=null;function up(s){return s.nodeType===9?s:s.ownerDocument}function ZO(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eP(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function rb(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ib=null;function Z$(){var s=window.event;return s&&s.type==="popstate"?s===ib?!1:(ib=s,!0):(ib=null,!1)}var tP=typeof setTimeout=="function"?setTimeout:void 0,eV=typeof clearTimeout=="function"?clearTimeout:void 0,nP=typeof Promise=="function"?Promise:void 0,tV=typeof queueMicrotask=="function"?queueMicrotask:typeof nP<"u"?function(s){return nP.resolve(null).then(s).catch(nV)}:tP;function nV(s){setTimeout(function(){throw s})}function ho(s){return s==="head"}function rP(s,l){var c=l,m=0,v=0;do{var w=c.nextSibling;if(s.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(0<m&&8>m){c=m;var N=s.ownerDocument;if(c&1&&hd(N.documentElement),c&2&&hd(N.body),c&4)for(c=N.head,hd(c),N=c.firstChild;N;){var $=N.nextSibling,F=N.nodeName;N[ke]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&N.rel.toLowerCase()==="stylesheet"||c.removeChild(N),N=$}}if(v===0){s.removeChild(w),wd(l);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:m=c.charCodeAt(0)-48;else m=0;c=w}while(c);wd(l)}function ab(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ab(c),Re(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function rV(s,l,c,m){for(;s.nodeType===1;){var v=c;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[ke])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=Xi(s.nextSibling),s===null)break}return null}function iV(s,l,c){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Xi(s.nextSibling),s===null))return null;return s}function sb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function aV(s,l){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")l();else{var m=function(){l(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function Xi(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var ob=null;function iP(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return s;l--}else c==="/$"&&l++}s=s.previousSibling}return null}function aP(s,l,c){switch(l=up(c),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function hd(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Re(s)}var Pi=new Map,sP=new Set;function cp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ds=ae.d;ae.d={f:sV,r:oV,D:lV,C:uV,L:cV,m:fV,X:hV,S:dV,M:mV};function sV(){var s=ds.f(),l=tp();return s||l}function oV(s){var l=mt(s);l!==null&&l.tag===5&&l.type==="form"?TT(l):ds.r(s)}var ac=typeof document>"u"?null:document;function oP(s,l,c){var m=ac;if(m&&typeof l=="string"&&l){var v=_n(l);v='link[rel="'+s+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),sP.has(v)||(sP.add(v),s={rel:s,crossOrigin:c,href:l},m.querySelector(v)===null&&(l=m.createElement("link"),ir(l,"link",s),Ye(l),m.head.appendChild(l)))}}function lV(s){ds.D(s),oP("dns-prefetch",s,null)}function uV(s,l){ds.C(s,l),oP("preconnect",s,l)}function cV(s,l,c){ds.L(s,l,c);var m=ac;if(m&&s&&l){var v='link[rel="preload"][as="'+_n(l)+'"]';l==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+_n(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+_n(c.imageSizes)+'"]')):v+='[href="'+_n(s)+'"]';var w=v;switch(l){case"style":w=sc(s);break;case"script":w=oc(s)}Pi.has(w)||(s=h({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:s,as:l},c),Pi.set(w,s),m.querySelector(v)!==null||l==="style"&&m.querySelector(md(w))||l==="script"&&m.querySelector(pd(w))||(l=m.createElement("link"),ir(l,"link",s),Ye(l),m.head.appendChild(l)))}}function fV(s,l){ds.m(s,l);var c=ac;if(c&&s){var m=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+_n(m)+'"][href="'+_n(s)+'"]',w=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=oc(s)}if(!Pi.has(w)&&(s=h({rel:"modulepreload",href:s},l),Pi.set(w,s),c.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(pd(w)))return}m=c.createElement("link"),ir(m,"link",s),Ye(m),c.head.appendChild(m)}}}function dV(s,l,c){ds.S(s,l,c);var m=ac;if(m&&s){var v=St(m).hoistableStyles,w=sc(s);l=l||"default";var N=v.get(w);if(!N){var $={loading:0,preload:null};if(N=m.querySelector(md(w)))$.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":l},c),(c=Pi.get(w))&&lb(s,c);var F=N=m.createElement("link");Ye(F),ir(F,"link",s),F._p=new Promise(function(Z,ue){F.onload=Z,F.onerror=ue}),F.addEventListener("load",function(){$.loading|=1}),F.addEventListener("error",function(){$.loading|=2}),$.loading|=4,fp(N,l,m)}N={type:"stylesheet",instance:N,count:1,state:$},v.set(w,N)}}}function hV(s,l){ds.X(s,l);var c=ac;if(c&&s){var m=St(c).hoistableScripts,v=oc(s),w=m.get(v);w||(w=c.querySelector(pd(v)),w||(s=h({src:s,async:!0},l),(l=Pi.get(v))&&ub(s,l),w=c.createElement("script"),Ye(w),ir(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(v,w))}}function mV(s,l){ds.M(s,l);var c=ac;if(c&&s){var m=St(c).hoistableScripts,v=oc(s),w=m.get(v);w||(w=c.querySelector(pd(v)),w||(s=h({src:s,async:!0,type:"module"},l),(l=Pi.get(v))&&ub(s,l),w=c.createElement("script"),Ye(w),ir(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(v,w))}}function lP(s,l,c,m){var v=(v=Ve.current)?cp(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=sc(c.href),c=St(v).hoistableStyles,m=c.get(l),m||(m={type:"style",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=sc(c.href);var w=St(v).hoistableStyles,N=w.get(s);if(N||(v=v.ownerDocument||v,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,N),(w=v.querySelector(md(s)))&&!w._p&&(N.instance=w,N.state.loading=5),Pi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Pi.set(s,c),w||pV(v,s,c,N.state))),l&&m===null)throw Error(r(528,""));return N}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=oc(c),c=St(v).hoistableScripts,m=c.get(l),m||(m={type:"script",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function sc(s){return'href="'+_n(s)+'"'}function md(s){return'link[rel="stylesheet"]['+s+"]"}function uP(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function pV(s,l,c,m){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=s.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),ir(l,"link",c),Ye(l),s.head.appendChild(l))}function oc(s){return'[src="'+_n(s)+'"]'}function pd(s){return"script[async]"+s}function cP(s,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var m=s.querySelector('style[data-href~="'+_n(c.href)+'"]');if(m)return l.instance=m,Ye(m),m;var v=h({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),Ye(m),ir(m,"style",v),fp(m,c.precedence,s),l.instance=m;case"stylesheet":v=sc(c.href);var w=s.querySelector(md(v));if(w)return l.state.loading|=4,l.instance=w,Ye(w),w;m=uP(c),(v=Pi.get(v))&&lb(m,v),w=(s.ownerDocument||s).createElement("link"),Ye(w);var N=w;return N._p=new Promise(function($,F){N.onload=$,N.onerror=F}),ir(w,"link",m),l.state.loading|=4,fp(w,c.precedence,s),l.instance=w;case"script":return w=oc(c.src),(v=s.querySelector(pd(w)))?(l.instance=v,Ye(v),v):(m=c,(v=Pi.get(w))&&(m=h({},c),ub(m,v)),s=s.ownerDocument||s,v=s.createElement("script"),Ye(v),ir(v,"link",m),s.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,fp(m,c.precedence,s));return l.instance}function fp(s,l,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,w=v,N=0;N<m.length;N++){var $=m[N];if($.dataset.precedence===l)w=$;else if(w!==v)break}w?w.parentNode.insertBefore(s,w.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(s,l.firstChild))}function lb(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function ub(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var dp=null;function fP(s,l,c){if(dp===null){var m=new Map,v=dp=new Map;v.set(c,m)}else v=dp,m=v.get(c),m||(m=new Map,v.set(c,m));if(m.has(s))return m;for(m.set(s,null),c=c.getElementsByTagName(s),v=0;v<c.length;v++){var w=c[v];if(!(w[ke]||w[de]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(l)||"";N=s+N;var $=m.get(N);$?$.push(w):m.set(N,[w])}}return m}function dP(s,l,c){s=s.ownerDocument||s,s.head.insertBefore(c,l==="title"?s.querySelector("head > title"):null)}function gV(s,l,c){if(c===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function hP(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var gd=null;function yV(){}function vV(s,l,c){if(gd===null)throw Error(r(475));var m=gd;if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=sc(c.href),w=s.querySelector(md(v));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(m.count++,m=hp.bind(m),s.then(m,m)),l.state.loading|=4,l.instance=w,Ye(w);return}w=s.ownerDocument||s,c=uP(c),(v=Pi.get(v))&&lb(c,v),w=w.createElement("link"),Ye(w);var N=w;N._p=new Promise(function($,F){N.onload=$,N.onerror=F}),ir(w,"link",c),l.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=hp.bind(m),s.addEventListener("load",l),s.addEventListener("error",l))}}function bV(){if(gd===null)throw Error(r(475));var s=gd;return s.stylesheets&&s.count===0&&cb(s,s.stylesheets),0<s.count?function(l){var c=setTimeout(function(){if(s.stylesheets&&cb(s,s.stylesheets),s.unsuspend){var m=s.unsuspend;s.unsuspend=null,m()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(c)}}:null}function hp(){if(this.count--,this.count===0){if(this.stylesheets)cb(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var mp=null;function cb(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,mp=new Map,l.forEach(_V,s),mp=null,hp.call(s))}function _V(s,l){if(!(l.state.loading&4)){var c=mp.get(s);if(c)var m=c.get(null);else{c=new Map,mp.set(s,c);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var N=v[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(c.set(N.dataset.precedence,N),m=N)}m&&c.set(null,m)}v=l.instance,N=v.getAttribute("data-precedence"),w=c.get(N)||m,w===m&&c.set(null,v),c.set(N,v),this.count++,m=hp.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),w?w.parentNode.insertBefore(v,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),l.state.loading|=4}}var yd={$$typeof:P,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function wV(s,l,c,m,v,w,N,$){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function mP(s,l,c,m,v,w,N,$,F,Z,ue,fe){return s=new wV(s,l,c,N,$,F,Z,fe),l=1,w===!0&&(l|=24),w=Wr(3,null,null,l),s.current=w,w.stateNode=s,l=Hv(),l.refCount++,s.pooledCache=l,l.refCount++,w.memoizedState={element:m,isDehydrated:c,cache:l},Yv(w),s}function pP(s){return s?(s=$u,s):$u}function gP(s,l,c,m,v,w){v=pP(v),m.context===null?m.context=v:m.pendingContext=v,m=Zs(l),m.payload={element:c},w=w===void 0?null:w,w!==null&&(m.callback=w),c=eo(s,m,l),c!==null&&(Zr(c,s,l),Gf(c,s,l))}function yP(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<l?c:l}}function fb(s,l){yP(s,l),(s=s.alternate)&&yP(s,l)}function vP(s){if(s.tag===13){var l=Lu(s,67108864);l!==null&&Zr(l,s,67108864),fb(s,67108864)}}var pp=!0;function xV(s,l,c,m){var v=G.T;G.T=null;var w=ae.p;try{ae.p=2,db(s,l,c,m)}finally{ae.p=w,G.T=v}}function EV(s,l,c,m){var v=G.T;G.T=null;var w=ae.p;try{ae.p=8,db(s,l,c,m)}finally{ae.p=w,G.T=v}}function db(s,l,c,m){if(pp){var v=hb(m);if(v===null)Z0(s,l,m,gp,c),_P(s,m);else if(AV(v,s,l,c,m))m.stopPropagation();else if(_P(s,m),l&4&&-1<SV.indexOf(s)){for(;v!==null;){var w=mt(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=qr(w.pendingLanes);if(N!==0){var $=w;for($.pendingLanes|=2,$.entangledLanes|=2;N;){var F=1<<31-bn(N);$.entanglements[1]|=F,N&=~F}Aa(w),(jt&6)===0&&(Zm=nn()+500,cd(0))}}break;case 13:$=Lu(w,2),$!==null&&Zr($,w,2),tp(),fb(w,2)}if(w=hb(m),w===null&&Z0(s,l,m,gp,c),w===v)break;v=w}v!==null&&m.stopPropagation()}else Z0(s,l,m,null,c)}}function hb(s){return s=bi(s),mb(s)}var gp=null;function mb(s){if(gp=null,s=Ze(s),s!==null){var l=a(s);if(l===null)s=null;else{var c=l.tag;if(c===13){if(s=o(l),s!==null)return s;s=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return gp=s,null}function bP(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vs()){case rl:return 2;case Us:return 8;case Fa:case qi:return 32;case hi:return 268435456;default:return 32}default:return 32}}var pb=!1,mo=null,po=null,go=null,vd=new Map,bd=new Map,yo=[],SV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _P(s,l){switch(s){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":vd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":bd.delete(l.pointerId)}}function _d(s,l,c,m,v,w){return s===null||s.nativeEvent!==w?(s={blockedOn:l,domEventName:c,eventSystemFlags:m,nativeEvent:w,targetContainers:[v]},l!==null&&(l=mt(l),l!==null&&vP(l)),s):(s.eventSystemFlags|=m,l=s.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),s)}function AV(s,l,c,m,v){switch(l){case"focusin":return mo=_d(mo,s,l,c,m,v),!0;case"dragenter":return po=_d(po,s,l,c,m,v),!0;case"mouseover":return go=_d(go,s,l,c,m,v),!0;case"pointerover":var w=v.pointerId;return vd.set(w,_d(vd.get(w)||null,s,l,c,m,v)),!0;case"gotpointercapture":return w=v.pointerId,bd.set(w,_d(bd.get(w)||null,s,l,c,m,v)),!0}return!1}function wP(s){var l=Ze(s.target);if(l!==null){var c=a(l);if(c!==null){if(l=c.tag,l===13){if(l=o(c),l!==null){s.blockedOn=l,X(s.priority,function(){if(c.tag===13){var m=Jr();m=ha(m);var v=Lu(c,m);v!==null&&Zr(v,c,m),fb(c,m)}});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function yp(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var c=hb(s.nativeEvent);if(c===null){c=s.nativeEvent;var m=new c.constructor(c.type,c);Wa=m,c.target.dispatchEvent(m),Wa=null}else return l=mt(c),l!==null&&vP(l),s.blockedOn=c,!1;l.shift()}return!0}function xP(s,l,c){yp(s)&&c.delete(l)}function TV(){pb=!1,mo!==null&&yp(mo)&&(mo=null),po!==null&&yp(po)&&(po=null),go!==null&&yp(go)&&(go=null),vd.forEach(xP),bd.forEach(xP)}function vp(s,l){s.blockedOn===l&&(s.blockedOn=null,pb||(pb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TV)))}var bp=null;function EP(s){bp!==s&&(bp=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bp===s&&(bp=null);for(var l=0;l<s.length;l+=3){var c=s[l],m=s[l+1],v=s[l+2];if(typeof m!="function"){if(mb(m||c)===null)continue;break}var w=mt(c);w!==null&&(s.splice(l,3),l-=3,m0(w,{pending:!0,data:v,method:c.method,action:m},m,v))}}))}function wd(s){function l(F){return vp(F,s)}mo!==null&&vp(mo,s),po!==null&&vp(po,s),go!==null&&vp(go,s),vd.forEach(l),bd.forEach(l);for(var c=0;c<yo.length;c++){var m=yo[c];m.blockedOn===s&&(m.blockedOn=null)}for(;0<yo.length&&(c=yo[0],c.blockedOn===null);)wP(c),c.blockedOn===null&&yo.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var v=c[m],w=c[m+1],N=v[ye]||null;if(typeof w=="function")N||EP(c);else if(N){var $=null;if(w&&w.hasAttribute("formAction")){if(v=w,N=w[ye]||null)$=N.formAction;else if(mb(v)!==null)continue}else $=N.action;typeof $=="function"?c[m+1]=$:(c.splice(m,3),m-=3),EP(c)}}}function gb(s){this._internalRoot=s}_p.prototype.render=gb.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var c=l.current,m=Jr();gP(c,m,s,l,null,null)},_p.prototype.unmount=gb.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;gP(s.current,2,null,s,null,null),tp(),l[xe]=null}};function _p(s){this._internalRoot=s}_p.prototype.unstable_scheduleHydration=function(s){if(s){var l=K();s={blockedOn:null,target:s,priority:l};for(var c=0;c<yo.length&&l!==0&&l<yo[c].priority;c++);yo.splice(c,0,s),c===0&&wP(s)}};var SP=e.version;if(SP!=="19.1.1")throw Error(r(527,SP,"19.1.1"));ae.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var OV={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wp.isDisabled&&wp.supportsFiber)try{Et=wp.inject(OV),nt=wp}catch{}}return Ed.createRoot=function(s,l){if(!i(s))throw Error(r(299));var c=!1,m="",v=UT,w=BT,N=zT,$=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&($=l.unstable_transitionCallbacks)),l=mP(s,1,!1,null,null,c,m,v,w,N,$,null),s[xe]=l.current,J0(s),new gb(l)},Ed.hydrateRoot=function(s,l,c){if(!i(s))throw Error(r(299));var m=!1,v="",w=UT,N=BT,$=zT,F=null,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&($=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(F=c.unstable_transitionCallbacks),c.formState!==void 0&&(Z=c.formState)),l=mP(s,1,!0,l,c??null,m,v,w,N,$,F,Z),l.context=pP(null),c=l.current,m=Jr(),m=ha(m),v=Zs(m),v.callback=null,eo(c,v,m),c=m,l.current.lanes=c,Fi(l,c),Aa(l),s[xe]=l.current,J0(s),new _p(l)},Ed.version="19.1.1",Ed}var DP;function VV(){if(DP)return bb.exports;DP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bb.exports=$V(),bb.exports}var UV=VV();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gD=t=>{throw TypeError(t)},BV=(t,e,n)=>e.has(t)||gD("Cannot "+n),Eb=(t,e,n)=>(BV(t,e,"read from private field"),n?n.call(t):e.get(t)),zV=(t,e,n)=>e.has(t)?gD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),IP="popstate";function qV(t={}){function e(i,a){let{pathname:o="/",search:u="",hash:f=""}=Rs(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),rh("",{pathname:o,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let f=i.location.href,d=f.indexOf("#");u=d===-1?f:f.slice(0,d)}return u+"#"+(typeof a=="string"?a:$o(a))}function r(i,a){gn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return HV(e,n,r,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FV(){return Math.random().toString(36).substring(2,10)}function MP(t,e){return{usr:t.state,key:t.key,idx:e}}function rh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rs(e):e,state:n,key:e&&e.key||r||FV()}}function $o({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function HV(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,u="POP",f=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function p(){u="POP";let S=h(),O=S==null?null:S-d;d=S,f&&f({action:u,location:E.location,delta:O})}function y(S,O){u="PUSH";let R=rh(E.location,S,O);n&&n(R,S),d=h()+1;let P=MP(R,d),V=E.createHref(R);try{o.pushState(P,"",V)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(V)}a&&f&&f({action:u,location:E.location,delta:1})}function b(S,O){u="REPLACE";let R=rh(E.location,S,O);n&&n(R,S),d=h();let P=MP(R,d),V=E.createHref(R);o.replaceState(P,"",V),a&&f&&f({action:u,location:E.location,delta:0})}function x(S){return yD(S)}let E={get action(){return u},get location(){return t(i,o)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(IP,p),f=S,()=>{i.removeEventListener(IP,p),f=null}},createHref(S){return e(i,S)},createURL:x,encodeLocation(S){let O=x(S);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:b,go(S){return o.go(S)}};return E}function yD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:$o(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Md,LP=class{constructor(t){if(zV(this,Md,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Eb(this,Md).has(t))return Eb(this,Md).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Eb(this,Md).set(t,e)}};Md=new WeakMap;var KV=new Set(["lazy","caseSensitive","path","id","index","children"]);function GV(t){return KV.has(t)}var WV=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function YV(t){return WV.has(t)}function XV(t){return t.index===!0}function ih(t,e,n=[],r={},i=!1){return t.map((a,o)=>{let u=[...n,String(o)],f=typeof a.id=="string"?a.id:u.join("-");if(ft(a.index!==!0||!a.children,"Cannot specify children on an index route"),ft(i||!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),XV(a)){let d={...a,...e(a),id:f};return r[f]=d,d}else{let d={...a,...e(a),id:f,children:void 0};return r[f]=d,a.children&&(d.children=ih(a.children,e,u,r,i)),d}})}function To(t,e,n="/"){return Yp(t,e,n,!1)}function Yp(t,e,n,r){let i=typeof e=="string"?Rs(e):e,a=$i(i.pathname||"/",n);if(a==null)return null;let o=vD(t);JV(o);let u=null;for(let f=0;u==null&&f<o.length;++f){let d=uU(a);u=oU(o[f],d,r)}return u}function QV(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function vD(t,e=[],n=[],r="",i=!1){let a=(o,u,f=i,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&f)return;ft(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=Na([r,h.relativePath]),y=n.concat(h);o.children&&o.children.length>0&&(ft(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),vD(o.children,e,y,p,f)),!(o.path==null&&!o.index)&&e.push({path:p,score:aU(p,o.index),routesMeta:y})};return t.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))a(o,u);else for(let f of bD(o.path))a(o,u,!0,f)}),e}function bD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=bD(r.join("/")),u=[];return u.push(...o.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...o),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function JV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ZV=/^:[\w-]+$/,eU=3,tU=2,nU=1,rU=10,iU=-2,$P=t=>t==="*";function aU(t,e){let n=t.split("/"),r=n.length;return n.some($P)&&(r+=iU),e&&(r+=tU),n.filter(i=>!$P(i)).reduce((i,a)=>i+(ZV.test(a)?eU:a===""?nU:rU),r)}function sU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function oU(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let u=0;u<r.length;++u){let f=r[u],d=u===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=og({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},h),y=f.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=og({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Na([a,p.pathname]),pathnameBase:hU(Na([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=Na([a,p.pathnameBase]))}return o}function og(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:p},y)=>{if(h==="*"){let x=u[y]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const b=u[y];return p&&!b?d[h]=void 0:d[h]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function lU(t,e=!1,n=!0){gn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function $i(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cU({basename:t,pathname:e}){return e==="/"?t:Na([t,e])}function fU(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Rs(t):t;return{pathname:n?n.startsWith("/")?n:dU(n,e):e,search:mU(r),hash:pU(i)}}function dU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _D(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function m1(t){let e=_D(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function p1(t,e,n,r=!1){let i;typeof t=="string"?i=Rs(t):(i={...t},ft(!i.pathname||!i.pathname.includes("?"),Sb("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),Sb("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),Sb("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,u;if(o==null)u=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}u=p>=0?e[p]:"/"}let f=fU(i,u),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||h)&&(f.pathname+="/"),f}var Na=t=>t.join("/").replace(/\/\/+/g,"/"),hU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,lg=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ah(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var wD=["POST","PUT","PATCH","DELETE"],gU=new Set(wD),yU=["GET",...wD],vU=new Set(yU),bU=new Set([301,302,303,307,308]),_U=new Set([307,308]),Ab={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wU={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g1=t=>xU.test(t),EU=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),xD="remix-router-transitions",ED=Symbol("ResetLoaderData");function SU(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ft(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||EU,a={},o=ih(t.routes,i,void 0,a),u,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let d=t.dataStrategy||RU,h={...t.future},p=null,y=new Set,b=null,x=null,E=null,S=t.hydrationData!=null,O=To(o,t.history.location,f),R=!1,P=null,V;if(O==null&&!t.patchRoutesOnNavigation){let K=ki(404,{pathname:t.history.location.pathname}),{matches:X,route:ee}=xp(o);V=!0,O=X,P={[ee.id]:K}}else if(O&&!t.hydrationData&&wr(O,o,t.history.location.pathname).active&&(O=null),O)if(O.some(K=>K.route.lazy))V=!1;else if(!O.some(K=>K.route.loader))V=!0;else{let K=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null;if(X){let ee=O.findIndex(de=>X[de.route.id]!==void 0);V=O.slice(0,ee+1).every(de=>!Mw(de.route,K,X))}else V=O.every(ee=>!Mw(ee.route,K,X))}else{V=!1,O=[];let K=wr(null,o,t.history.location.pathname);K.active&&K.matches&&(R=!0,O=K.matches)}let D,j={historyAction:t.history.action,location:t.history.location,matches:O,initialized:V,navigation:Ab,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},k="POP",I=!1,L,q=!1,z=new Map,B=null,M=!1,le=!1,be=new Set,G=new Map,ae=0,ve=-1,Se=new Map,H=new Set,oe=new Map,ie=new Map,me=new Set,Pe=new Map,$e,Ve=null;function on(){if(p=t.history.listen(({action:K,location:X,delta:ee})=>{if($e){$e(),$e=void 0;return}gn(Pe.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=qs({currentLocation:j.location,nextLocation:X,historyAction:K});if(de&&ee!=null){let ye=new Promise(xe=>{$e=xe});t.history.go(ee*-1),pi(de,{state:"blocked",location:X,proceed(){pi(de,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),ye.then(()=>t.history.go(ee))},reset(){let xe=new Map(j.blockers);xe.set(de,Sd),De({blockers:xe})}});return}return et(K,X)}),n){FU(e,z);let K=()=>HU(e,z);e.addEventListener("pagehide",K),B=()=>e.removeEventListener("pagehide",K)}return j.initialized||et("POP",j.location,{initialHydration:!0}),D}function Ot(){p&&p(),B&&B(),y.clear(),L&&L.abort(),j.fetchers.forEach((K,X)=>bn(X)),j.blockers.forEach((K,X)=>Ha(X))}function we(K){return y.add(K),()=>y.delete(K)}function De(K,X={}){K.matches&&(K.matches=K.matches.map(ye=>{let xe=a[ye.route.id],Ie=ye.route;return Ie.element!==xe.element||Ie.errorElement!==xe.errorElement||Ie.hydrateFallbackElement!==xe.hydrateFallbackElement?{...ye,route:xe}:ye})),j={...j,...K};let ee=[],de=[];j.fetchers.forEach((ye,xe)=>{ye.state==="idle"&&(me.has(xe)?ee.push(xe):de.push(xe))}),me.forEach(ye=>{!j.fetchers.has(ye)&&!G.has(ye)&&ee.push(ye)}),[...y].forEach(ye=>ye(j,{deletedFetchers:ee,viewTransitionOpts:X.viewTransitionOpts,flushSync:X.flushSync===!0})),ee.forEach(ye=>bn(ye)),de.forEach(ye=>j.fetchers.delete(ye))}function Ke(K,X,{flushSync:ee}={}){let de=j.actionData!=null&&j.navigation.formMethod!=null&&$r(j.navigation.formMethod)&&j.navigation.state==="loading"&&K.state?._isRedirect!==!0,ye;X.actionData?Object.keys(X.actionData).length>0?ye=X.actionData:ye=null:de?ye=j.actionData:ye=null;let xe=X.loaderData?WP(j.loaderData,X.loaderData,X.matches||[],X.errors):j.loaderData,Ie=j.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((ke,Re)=>Ie.set(Re,Sd)));let je=M?!1:Fs(K,X.matches||j.matches),Ne=I===!0||j.navigation.formMethod!=null&&$r(j.navigation.formMethod)&&K.state?._isRedirect!==!0;u&&(o=u,u=void 0),M||k==="POP"||(k==="PUSH"?t.history.push(K,K.state):k==="REPLACE"&&t.history.replace(K,K.state));let Ue;if(k==="POP"){let ke=z.get(j.location.pathname);ke&&ke.has(K.pathname)?Ue={currentLocation:j.location,nextLocation:K}:z.has(K.pathname)&&(Ue={currentLocation:K,nextLocation:j.location})}else if(q){let ke=z.get(j.location.pathname);ke?ke.add(K.pathname):(ke=new Set([K.pathname]),z.set(j.location.pathname,ke)),Ue={currentLocation:j.location,nextLocation:K}}De({...X,actionData:ye,loaderData:xe,historyAction:k,location:K,initialized:!0,navigation:Ab,revalidation:"idle",restoreScrollPosition:je,preventScrollReset:Ne,blockers:Ie},{viewTransitionOpts:Ue,flushSync:ee===!0}),k="POP",I=!1,q=!1,M=!1,le=!1,Ve?.resolve(),Ve=null}async function pe(K,X){if(typeof K=="number"){t.history.go(K);return}let ee=Iw(j.location,j.matches,f,K,X?.fromRouteId,X?.relative),{path:de,submission:ye,error:xe}=VP(!1,ee,X),Ie=j.location,je=rh(j.location,de,X&&X.state);je={...je,...t.history.encodeLocation(je)};let Ne=X&&X.replace!=null?X.replace:void 0,Ue="PUSH";Ne===!0?Ue="REPLACE":Ne===!1||ye!=null&&$r(ye.formMethod)&&ye.formAction===j.location.pathname+j.location.search&&(Ue="REPLACE");let ke=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Re=(X&&X.flushSync)===!0,Ze=qs({currentLocation:Ie,nextLocation:je,historyAction:Ue});if(Ze){pi(Ze,{state:"blocked",location:je,proceed(){pi(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),pe(K,X)},reset(){let mt=new Map(j.blockers);mt.set(Ze,Sd),De({blockers:mt})}});return}await et(Ue,je,{submission:ye,pendingError:xe,preventScrollReset:ke,replace:X&&X.replace,enableViewTransition:X&&X.viewTransition,flushSync:Re})}function Jt(){Ve||(Ve=KU()),zs(),De({revalidation:"loading"});let K=Ve.promise;return j.navigation.state==="submitting"?K:j.navigation.state==="idle"?(et(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),K):(et(k||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:q===!0}),K)}async function et(K,X,ee){L&&L.abort(),L=null,k=K,M=(ee&&ee.startUninterruptedRevalidation)===!0,Fi(j.location,j.matches),I=(ee&&ee.preventScrollReset)===!0,q=(ee&&ee.enableViewTransition)===!0;let de=u||o,ye=ee&&ee.overrideNavigation,xe=ee?.initialHydration&&j.matches&&j.matches.length>0&&!R?j.matches:To(de,X,f),Ie=(ee&&ee.flushSync)===!0;if(xe&&j.initialized&&!le&&LU(j.location,X)&&!(ee&&ee.submission&&$r(ee.submission.formMethod))){Ke(X,{matches:xe},{flushSync:Ie});return}let je=wr(xe,de,X.pathname);if(je.active&&je.matches&&(xe=je.matches),!xe){let{error:St,notFoundMatches:Ye,route:At}=Ka(X.pathname);Ke(X,{matches:Ye,loaderData:{},errors:{[At.id]:St}},{flushSync:Ie});return}L=new AbortController;let Ne=_c(t.history,X,L.signal,ee&&ee.submission),Ue=t.unstable_getContext?await t.unstable_getContext():new LP,ke;if(ee&&ee.pendingError)ke=[Oo(xe).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&$r(ee.submission.formMethod)){let St=await dn(Ne,X,ee.submission,xe,Ue,je.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:Ie});if(St.shortCircuited)return;if(St.pendingActionResult){let[Ye,At]=St.pendingActionResult;if(ri(At)&&ah(At.error)&&At.error.status===404){L=null,Ke(X,{matches:St.matches,loaderData:{},errors:{[Ye]:At.error}});return}}xe=St.matches||xe,ke=St.pendingActionResult,ye=Tb(X,ee.submission),Ie=!1,je.active=!1,Ne=_c(t.history,Ne.url,Ne.signal)}let{shortCircuited:Re,matches:Ze,loaderData:mt,errors:Ct}=await vn(Ne,X,xe,Ue,je.active,ye,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,Ie,ke);Re||(L=null,Ke(X,{matches:Ze||xe,...YP(ke),loaderData:mt,errors:Ct}))}async function dn(K,X,ee,de,ye,xe,Ie,je={}){zs();let Ne=zU(X,ee);if(De({navigation:Ne},{flushSync:je.flushSync===!0}),xe){let Re=await da(de,X.pathname,K.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){if(Re.partialMatches.length===0){let{matches:mt,route:Ct}=xp(o);return{matches:mt,pendingActionResult:[Ct.id,{type:"error",error:Re.error}]}}let Ze=Oo(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[Ze,{type:"error",error:Re.error}]}}else if(Re.matches)de=Re.matches;else{let{notFoundMatches:Ze,error:mt,route:Ct}=Ka(X.pathname);return{matches:Ze,pendingActionResult:[Ct.id,{type:"error",error:mt}]}}}let Ue,ke=Xp(de,X);if(!ke.route.action&&!ke.route.lazy)Ue={type:"error",error:ki(405,{method:K.method,pathname:X.pathname,routeId:ke.route.id})};else{let Re=Cc(i,a,K,de,ke,Ie?[]:r,ye),Ze=await hi(K,Re,ye,null);if(Ue=Ze[ke.route.id],!Ue){for(let mt of de)if(Ze[mt.route.id]){Ue=Ze[mt.route.id];break}}if(K.signal.aborted)return{shortCircuited:!0}}if(zl(Ue)){let Re;return je&&je.replace!=null?Re=je.replace:Re=HP(Ue.response.headers.get("Location"),new URL(K.url),f)===j.location.pathname+j.location.search,await qi(K,Ue,!0,{submission:ee,replace:Re}),{shortCircuited:!0}}if(ri(Ue)){let Re=Oo(de,ke.route.id);return(je&&je.replace)!==!0&&(k="PUSH"),{matches:de,pendingActionResult:[Re.route.id,Ue,ke.route.id]}}return{matches:de,pendingActionResult:[ke.route.id,Ue]}}async function vn(K,X,ee,de,ye,xe,Ie,je,Ne,Ue,ke,Re){let Ze=xe||Tb(X,Ie),mt=Ie||je||QP(Ze),Ct=!M&&!Ue;if(ye){if(Ct){let Zt=nn(Re);De({navigation:Ze,...Zt!==void 0?{actionData:Zt}:{}},{flushSync:ke})}let Fe=await da(ee,X.pathname,K.signal);if(Fe.type==="aborted")return{shortCircuited:!0};if(Fe.type==="error"){if(Fe.partialMatches.length===0){let{matches:Hi,route:er}=xp(o);return{matches:Hi,loaderData:{},errors:{[er.id]:Fe.error}}}let Zt=Oo(Fe.partialMatches).route.id;return{matches:Fe.partialMatches,loaderData:{},errors:{[Zt]:Fe.error}}}else if(Fe.matches)ee=Fe.matches;else{let{error:Zt,notFoundMatches:Hi,route:er}=Ka(X.pathname);return{matches:Hi,loaderData:{},errors:{[er.id]:Zt}}}}let St=u||o,{dsMatches:Ye,revalidatingFetchers:At}=UP(K,de,i,a,t.history,j,ee,mt,X,Ue?[]:r,Ue===!0,le,be,me,oe,H,St,f,t.patchRoutesOnNavigation!=null,Re);if(ve=++ae,!t.dataStrategy&&!Ye.some(Fe=>Fe.shouldLoad)&&!Ye.some(Fe=>Fe.route.unstable_middleware)&&At.length===0){let Fe=ca();return Ke(X,{matches:ee,loaderData:{},errors:Re&&ri(Re[1])?{[Re[0]]:Re[1].error}:null,...YP(Re),...Fe?{fetchers:new Map(j.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(Ct){let Fe={};if(!ye){Fe.navigation=Ze;let Zt=nn(Re);Zt!==void 0&&(Fe.actionData=Zt)}At.length>0&&(Fe.fetchers=Vs(At)),De(Fe,{flushSync:ke})}At.forEach(Fe=>{mi(Fe.key),Fe.controller&&G.set(Fe.key,Fe.controller)});let jr=()=>At.forEach(Fe=>mi(Fe.key));L&&L.signal.addEventListener("abort",jr);let{loaderResults:Zn,fetcherResults:Bn}=await Bs(Ye,At,K,de);if(K.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",jr),At.forEach(Fe=>G.delete(Fe.key));let xr=Ep(Zn);if(xr)return await qi(K,xr.result,!0,{replace:Ne}),{shortCircuited:!0};if(xr=Ep(Bn),xr)return H.add(xr.key),await qi(K,xr.result,!0,{replace:Ne}),{shortCircuited:!0};let{loaderData:Ks,errors:Fr}=GP(j,ee,Zn,Re,At,Bn);Ue&&j.errors&&(Fr={...j.errors,...Fr});let yi=ca(),Hr=fa(ve),Er=yi||Hr||At.length>0;return{matches:ee,loaderData:Ks,errors:Fr,...Er?{fetchers:new Map(j.fetchers)}:{}}}function nn(K){if(K&&!ri(K[1]))return{[K[0]]:K[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function Vs(K){return K.forEach(X=>{let ee=j.fetchers.get(X.key),de=Ad(void 0,ee?ee.data:void 0);j.fetchers.set(X.key,de)}),new Map(j.fetchers)}async function rl(K,X,ee,de){mi(K);let ye=(de&&de.flushSync)===!0,xe=u||o,Ie=Iw(j.location,j.matches,f,ee,X,de?.relative),je=To(xe,Ie,f),Ne=wr(je,xe,Ie);if(Ne.active&&Ne.matches&&(je=Ne.matches),!je){nt(K,X,ki(404,{pathname:Ie}),{flushSync:ye});return}let{path:Ue,submission:ke,error:Re}=VP(!0,Ie,de);if(Re){nt(K,X,Re,{flushSync:ye});return}let Ze=t.unstable_getContext?await t.unstable_getContext():new LP,mt=(de&&de.preventScrollReset)===!0;if(ke&&$r(ke.formMethod)){await Us(K,X,Ue,je,Ze,Ne.active,ye,mt,ke);return}oe.set(K,{routeId:X,path:Ue}),await Fa(K,X,Ue,je,Ze,Ne.active,ye,mt,ke)}async function Us(K,X,ee,de,ye,xe,Ie,je,Ne){zs(),oe.delete(K);let Ue=j.fetchers.get(K);Et(K,qU(Ne,Ue),{flushSync:Ie});let ke=new AbortController,Re=_c(t.history,ee,ke.signal,Ne);if(xe){let Ht=await da(de,new URL(Re.url).pathname,Re.signal,K);if(Ht.type==="aborted")return;if(Ht.type==="error"){nt(K,X,Ht.error,{flushSync:Ie});return}else if(Ht.matches)de=Ht.matches;else{nt(K,X,ki(404,{pathname:ee}),{flushSync:Ie});return}}let Ze=Xp(de,ee);if(!Ze.route.action&&!Ze.route.lazy){let Ht=ki(405,{method:Ne.formMethod,pathname:ee,routeId:X});nt(K,X,Ht,{flushSync:Ie});return}G.set(K,ke);let mt=ae,Ct=Cc(i,a,Re,de,Ze,r,ye),Ye=(await hi(Re,Ct,ye,K))[Ze.route.id];if(Re.signal.aborted){G.get(K)===ke&&G.delete(K);return}if(me.has(K)){if(zl(Ye)||ri(Ye)){Et(K,xo(void 0));return}}else{if(zl(Ye))if(G.delete(K),ve>mt){Et(K,xo(void 0));return}else return H.add(K),Et(K,Ad(Ne)),qi(Re,Ye,!1,{fetcherSubmission:Ne,preventScrollReset:je});if(ri(Ye)){nt(K,X,Ye.error);return}}let At=j.navigation.location||j.location,jr=_c(t.history,At,ke.signal),Zn=u||o,Bn=j.navigation.state!=="idle"?To(Zn,j.navigation.location,f):j.matches;ft(Bn,"Didn't find any matches after fetcher action");let xr=++ae;Se.set(K,xr);let Ks=Ad(Ne,Ye.data);j.fetchers.set(K,Ks);let{dsMatches:Fr,revalidatingFetchers:yi}=UP(jr,ye,i,a,t.history,j,Bn,Ne,At,r,!1,le,be,me,oe,H,Zn,f,t.patchRoutesOnNavigation!=null,[Ze.route.id,Ye]);yi.filter(Ht=>Ht.key!==K).forEach(Ht=>{let Ki=Ht.key,Gs=j.fetchers.get(Ki),Ws=Ad(void 0,Gs?Gs.data:void 0);j.fetchers.set(Ki,Ws),mi(Ki),Ht.controller&&G.set(Ki,Ht.controller)}),De({fetchers:new Map(j.fetchers)});let Hr=()=>yi.forEach(Ht=>mi(Ht.key));ke.signal.addEventListener("abort",Hr);let{loaderResults:Er,fetcherResults:Fe}=await Bs(Fr,yi,jr,ye);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",Hr),Se.delete(K),G.delete(K),yi.forEach(Ht=>G.delete(Ht.key)),j.fetchers.has(K)){let Ht=xo(Ye.data);j.fetchers.set(K,Ht)}let Zt=Ep(Er);if(Zt)return qi(jr,Zt.result,!1,{preventScrollReset:je});if(Zt=Ep(Fe),Zt)return H.add(Zt.key),qi(jr,Zt.result,!1,{preventScrollReset:je});let{loaderData:Hi,errors:er}=GP(j,Bn,Er,void 0,yi,Fe);fa(xr),j.navigation.state==="loading"&&xr>ve?(ft(k,"Expected pending action"),L&&L.abort(),Ke(j.navigation.location,{matches:Bn,loaderData:Hi,errors:er,fetchers:new Map(j.fetchers)})):(De({errors:er,loaderData:WP(j.loaderData,Hi,Bn,er),fetchers:new Map(j.fetchers)}),le=!1)}async function Fa(K,X,ee,de,ye,xe,Ie,je,Ne){let Ue=j.fetchers.get(K);Et(K,Ad(Ne,Ue?Ue.data:void 0),{flushSync:Ie});let ke=new AbortController,Re=_c(t.history,ee,ke.signal);if(xe){let At=await da(de,new URL(Re.url).pathname,Re.signal,K);if(At.type==="aborted")return;if(At.type==="error"){nt(K,X,At.error,{flushSync:Ie});return}else if(At.matches)de=At.matches;else{nt(K,X,ki(404,{pathname:ee}),{flushSync:Ie});return}}let Ze=Xp(de,ee);G.set(K,ke);let mt=ae,Ct=Cc(i,a,Re,de,Ze,r,ye),Ye=(await hi(Re,Ct,ye,K))[Ze.route.id];if(G.get(K)===ke&&G.delete(K),!Re.signal.aborted){if(me.has(K)){Et(K,xo(void 0));return}if(zl(Ye))if(ve>mt){Et(K,xo(void 0));return}else{H.add(K),await qi(Re,Ye,!1,{preventScrollReset:je});return}if(ri(Ye)){nt(K,X,Ye.error);return}Et(K,xo(Ye.data))}}async function qi(K,X,ee,{submission:de,fetcherSubmission:ye,preventScrollReset:xe,replace:Ie}={}){X.response.headers.has("X-Remix-Revalidate")&&(le=!0);let je=X.response.headers.get("Location");ft(je,"Expected a Location header on the redirect Response"),je=HP(je,new URL(K.url),f);let Ne=rh(j.location,je,{_isRedirect:!0});if(n){let Ct=!1;if(X.response.headers.has("X-Remix-Reload-Document"))Ct=!0;else if(g1(je)){const St=yD(je,!0);Ct=St.origin!==e.location.origin||$i(St.pathname,f)==null}if(Ct){Ie?e.location.replace(je):e.location.assign(je);return}}L=null;let Ue=Ie===!0||X.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Re,formEncType:Ze}=j.navigation;!de&&!ye&&ke&&Re&&Ze&&(de=QP(j.navigation));let mt=de||ye;if(_U.has(X.response.status)&&mt&&$r(mt.formMethod))await et(Ue,Ne,{submission:{...mt,formAction:je},preventScrollReset:xe||I,enableViewTransition:ee?q:void 0});else{let Ct=Tb(Ne,de);await et(Ue,Ne,{overrideNavigation:Ct,fetcherSubmission:ye,preventScrollReset:xe||I,enableViewTransition:ee?q:void 0})}}async function hi(K,X,ee,de){let ye,xe={};try{ye=await jU(d,K,X,de,ee,!1)}catch(Ie){return X.filter(je=>je.shouldLoad).forEach(je=>{xe[je.route.id]={type:"error",error:Ie}}),xe}if(K.signal.aborted)return xe;for(let[Ie,je]of Object.entries(ye))if(UU(je)){let Ne=je.result;xe[Ie]={type:"redirect",response:IU(Ne,K,Ie,X,f)}}else xe[Ie]=await DU(je);return xe}async function Bs(K,X,ee,de){let ye=hi(ee,K,de,null),xe=Promise.all(X.map(async Ne=>{if(Ne.matches&&Ne.match&&Ne.request&&Ne.controller){let ke=(await hi(Ne.request,Ne.matches,de,Ne.key))[Ne.match.route.id];return{[Ne.key]:ke}}else return Promise.resolve({[Ne.key]:{type:"error",error:ki(404,{pathname:Ne.path})}})})),Ie=await ye,je=(await xe).reduce((Ne,Ue)=>Object.assign(Ne,Ue),{});return{loaderResults:Ie,fetcherResults:je}}function zs(){le=!0,oe.forEach((K,X)=>{G.has(X)&&be.add(X),mi(X)})}function Et(K,X,ee={}){j.fetchers.set(K,X),De({fetchers:new Map(j.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function nt(K,X,ee,de={}){let ye=Oo(j.matches,X);bn(K),De({errors:{[ye.route.id]:ee},fetchers:new Map(j.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function cr(K){return ie.set(K,(ie.get(K)||0)+1),me.has(K)&&me.delete(K),j.fetchers.get(K)||wU}function bn(K){let X=j.fetchers.get(K);G.has(K)&&!(X&&X.state==="loading"&&Se.has(K))&&mi(K),oe.delete(K),Se.delete(K),H.delete(K),me.delete(K),be.delete(K),j.fetchers.delete(K)}function Eu(K){let X=(ie.get(K)||0)-1;X<=0?(ie.delete(K),me.add(K)):ie.set(K,X),De({fetchers:new Map(j.fetchers)})}function mi(K){let X=G.get(K);X&&(X.abort(),G.delete(K))}function ua(K){for(let X of K){let ee=cr(X),de=xo(ee.data);j.fetchers.set(X,de)}}function ca(){let K=[],X=!1;for(let ee of H){let de=j.fetchers.get(ee);ft(de,`Expected fetcher: ${ee}`),de.state==="loading"&&(H.delete(ee),K.push(ee),X=!0)}return ua(K),X}function fa(K){let X=[];for(let[ee,de]of Se)if(de<K){let ye=j.fetchers.get(ee);ft(ye,`Expected fetcher: ${ee}`),ye.state==="loading"&&(mi(ee),Se.delete(ee),X.push(ee))}return ua(X),X.length>0}function qr(K,X){let ee=j.blockers.get(K)||Sd;return Pe.get(K)!==X&&Pe.set(K,X),ee}function Ha(K){j.blockers.delete(K),Pe.delete(K)}function pi(K,X){let ee=j.blockers.get(K)||Sd;ft(ee.state==="unblocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="proceeding"||ee.state==="blocked"&&X.state==="unblocked"||ee.state==="proceeding"&&X.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${X.state}`);let de=new Map(j.blockers);de.set(K,X),De({blockers:de})}function qs({currentLocation:K,nextLocation:X,historyAction:ee}){if(Pe.size===0)return;Pe.size>1&&gn(!1,"A router only supports one blocker at a time");let de=Array.from(Pe.entries()),[ye,xe]=de[de.length-1],Ie=j.blockers.get(ye);if(!(Ie&&Ie.state==="proceeding")&&xe({currentLocation:K,nextLocation:X,historyAction:ee}))return ye}function Ka(K){let X=ki(404,{pathname:K}),ee=u||o,{matches:de,route:ye}=xp(ee);return{notFoundMatches:de,route:ye,error:X}}function il(K,X,ee){if(b=K,E=X,x=ee||null,!S&&j.navigation===Ab){S=!0;let de=Fs(j.location,j.matches);de!=null&&De({restoreScrollPosition:de})}return()=>{b=null,E=null,x=null}}function gi(K,X){return x&&x(K,X.map(de=>QV(de,j.loaderData)))||K.key}function Fi(K,X){if(b&&E){let ee=gi(K,X);b[ee]=E()}}function Fs(K,X){if(b){let ee=gi(K,X),de=b[ee];if(typeof de=="number")return de}return null}function wr(K,X,ee){if(t.patchRoutesOnNavigation)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:Yp(X,ee,f,!0)}}else return{active:!0,matches:Yp(X,ee,f,!0)||[]};return{active:!1,matches:null}}async function da(K,X,ee,de){if(!t.patchRoutesOnNavigation)return{type:"success",matches:K};let ye=K;for(;;){let xe=u==null,Ie=u||o,je=a;try{await t.patchRoutesOnNavigation({signal:ee,path:X,matches:ye,fetcherKey:de,patch:(ke,Re)=>{ee.aborted||BP(ke,Re,Ie,je,i,!1)}})}catch(ke){return{type:"error",error:ke,partialMatches:ye}}finally{xe&&!ee.aborted&&(o=[...o])}if(ee.aborted)return{type:"aborted"};let Ne=To(Ie,X,f);if(Ne)return{type:"success",matches:Ne};let Ue=Yp(Ie,X,f,!0);if(!Ue||ye.length===Ue.length&&ye.every((ke,Re)=>ke.route.id===Ue[Re].route.id))return{type:"success",matches:null};ye=Ue}}function ha(K){a={},u=ih(K,i,void 0,a)}function Hs(K,X,ee=!1){let de=u==null;BP(K,X,u||o,a,i,ee),de&&(o=[...o],De({}))}return D={get basename(){return f},get future(){return h},get state(){return j},get routes(){return o},get window(){return e},initialize:on,subscribe:we,enableScrollRestoration:il,navigate:pe,fetch:rl,revalidate:Jt,createHref:K=>t.history.createHref(K),encodeLocation:K=>t.history.encodeLocation(K),getFetcher:cr,deleteFetcher:Eu,dispose:Ot,getBlocker:qr,deleteBlocker:Ha,patchRoutes:Hs,_internalFetchControllers:G,_internalSetRoutes:ha,_internalSetStateDoNotUseOrYouWillBreakYourApp(K){De(K)}},D}function AU(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Iw(t,e,n,r,i,a){let o,u;if(i){o=[];for(let d of e)if(o.push(d),d.route.id===i){u=d;break}}else o=e,u=e[e.length-1];let f=p1(r||".",m1(o),$i(t.pathname,n)||t.pathname,a==="path");if(r==null&&(f.search=t.search,f.hash=t.hash),(r==null||r===""||r===".")&&u){let d=y1(f.search);if(u.route.index&&!d)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&d){let h=new URLSearchParams(f.search),p=h.getAll("index");h.delete("index"),p.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();f.search=y?`?${y}`:""}}return n!=="/"&&(f.pathname=cU({basename:n,pathname:f.pathname})),$o(f)}function VP(t,e,n){if(!n||!AU(n))return{path:e};if(n.formMethod&&!BU(n.formMethod))return{path:e,error:ki(405,{method:n.formMethod})};let r=()=>({path:e,error:ki(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),o=RD(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!$r(a))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[b,x])=>`${y}${b}=${x}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!$r(a))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}ft(typeof FormData=="function","FormData is not available in this environment");let u,f;if(n.formData)u=$w(n.formData),f=n.formData;else if(n.body instanceof FormData)u=$w(n.body),f=n.body;else if(n.body instanceof URLSearchParams)u=n.body,f=KP(u);else if(n.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(n.body),f=KP(u)}catch{return r()}let d={formMethod:a,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if($r(d.formMethod))return{path:e,submission:d};let h=Rs(e);return t&&h.search&&y1(h.search)&&u.append("index",""),h.search=`?${u}`,{path:$o(h),submission:d}}function UP(t,e,n,r,i,a,o,u,f,d,h,p,y,b,x,E,S,O,R,P){let V=P?ri(P[1])?P[1].error:P[1].data:void 0,D=i.createURL(a.location),j=i.createURL(f),k;if(h&&a.errors){let M=Object.keys(a.errors)[0];k=o.findIndex(le=>le.route.id===M)}else if(P&&ri(P[1])){let M=P[0];k=o.findIndex(le=>le.route.id===M)-1}let I=P?P[1].statusCode:void 0,L=I&&I>=400,q={currentUrl:D,currentParams:a.matches[0]?.params||{},nextUrl:j,nextParams:o[0].params,...u,actionResult:V,actionStatus:I},z=o.map((M,le)=>{let{route:be}=M,G=null;if(k!=null&&le>k?G=!1:be.lazy?G=!0:be.loader==null?G=!1:h?G=Mw(be,a.loaderData,a.errors):TU(a.loaderData,a.matches[le],M)&&(G=!0),G!==null)return Lw(n,r,t,M,d,e,G);let ae=L?!1:p||D.pathname+D.search===j.pathname+j.search||D.search!==j.search||OU(a.matches[le],M),ve={...q,defaultShouldRevalidate:ae},Se=ug(M,ve);return Lw(n,r,t,M,d,e,Se,ve)}),B=[];return x.forEach((M,le)=>{if(h||!o.some(ie=>ie.route.id===M.routeId)||b.has(le))return;let be=a.fetchers.get(le),G=be&&be.state!=="idle"&&be.data===void 0,ae=To(S,M.path,O);if(!ae){if(R&&G)return;B.push({key:le,routeId:M.routeId,path:M.path,matches:null,match:null,request:null,controller:null});return}if(E.has(le))return;let ve=Xp(ae,M.path),Se=new AbortController,H=_c(i,M.path,Se.signal),oe=null;if(y.has(le))y.delete(le),oe=Cc(n,r,H,ae,ve,d,e);else if(G)p&&(oe=Cc(n,r,H,ae,ve,d,e));else{let ie={...q,defaultShouldRevalidate:L?!1:p};ug(ve,ie)&&(oe=Cc(n,r,H,ae,ve,d,e,ie))}oe&&B.push({key:le,routeId:M.routeId,path:M.path,matches:oe,match:ve,request:H,controller:Se})}),{dsMatches:z,revalidatingFetchers:B}}function Mw(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function TU(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function OU(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ug(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function BP(t,e,n,r,i,a){let o;if(t){let d=r[t];ft(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),o=d.children}else o=n;let u=[],f=[];if(e.forEach(d=>{let h=o.find(p=>SD(d,p));h?f.push({existingRoute:h,newRoute:d}):u.push(d)}),u.length>0){let d=ih(u,i,[t||"_","patch",String(o?.length||"0")],r);o.push(...d)}if(a&&f.length>0)for(let d=0;d<f.length;d++){let{existingRoute:h,newRoute:p}=f[d],y=h,[b]=ih([p],i,[],{},!0);Object.assign(y,{element:b.element?b.element:y.element,errorElement:b.errorElement?b.errorElement:y.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:y.hydrateFallbackElement})}}function SD(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>SD(n,i))):!1}var zP=new WeakMap,AD=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(ft(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[t];if(!a)return;let o=zP.get(i);o||(o={},zP.set(i,o));let u=o[t];if(u)return u;let f=(async()=>{let d=GV(t),p=i[t]!==void 0&&t!=="hasErrorBoundary";if(d)gn(!d,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),o[t]=Promise.resolve();else if(p)gn(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let y=await a();y!=null&&(Object.assign(i,{[t]:y}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(y=>y===void 0)&&(i.lazy=void 0))})();return o[t]=f,f},qP=new WeakMap;function PU(t,e,n,r,i){let a=n[t.id];if(ft(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let h=qP.get(a);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let p=(async()=>{ft(typeof t.lazy=="function","No lazy route function found");let y=await t.lazy(),b={};for(let x in y){let E=y[x];if(E===void 0)continue;let S=YV(x),R=a[x]!==void 0&&x!=="hasErrorBoundary";S?gn(!S,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?gn(!R,`Route "${a.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):b[x]=E}Object.assign(a,b),Object.assign(a,{...r(a),lazy:void 0})})();return qP.set(a,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(t.lazy),u=[],f;for(let h of o){if(i&&i.includes(h))continue;let p=AD({key:h,route:t,manifest:n,mapRouteProperties:r});p&&(u.push(p),h===e&&(f=p))}let d=u.length>0?Promise.all(u).then(()=>{}):void 0;return d?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:f}}async function FP(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,a)=>{n[e[a].route.id]=i}),n}async function RU(t){return t.matches.some(e=>e.route.unstable_middleware)?TD(t,()=>FP(t)):FP(t)}function TD(t,e){return CU(t,e,r=>r,$U,n);function n(r,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:r}}));{let{matches:o}=t,u=Math.min(o.findIndex(d=>d.route.id===i)||0,o.findIndex(d=>d.unstable_shouldCallHandler())||0),f=Oo(o,o[u].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:r}})}}}async function CU(t,e,n,r,i){let{matches:a,request:o,params:u,context:f}=t,d=a.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(y=>[p.route.id,y]):[]);return await OD({request:o,params:u,context:f},d,e,n,r,i)}async function OD(t,e,n,r,i,a,o=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason??new Error(`Request aborted: ${u.method} ${u.url}`);let f=e[o];if(!f)return await n();let[d,h]=f,p,y=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await OD(t,e,n,r,i,a,o+1)},p.value}catch(b){return p={value:await a(b,d,p)},p.value}};try{let b=await h(t,y),x=b!=null?r(b):void 0;return i(x)?x:p?x??p.value:(p={value:await y()},p.value)}catch(b){return await a(b,d,p)}}function PD(t,e,n,r,i){let a=AD({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),o=PU(r.route,$r(n.method)?"action":"loader",e,t,i);return{middleware:a,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function Lw(t,e,n,r,i,a,o,u=null){let f=!1,d=PD(t,e,n,r,i);return{...r,_lazyPromises:d,shouldLoad:o,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(h){return f=!0,u?typeof h=="boolean"?ug(r,{...u,defaultShouldRevalidate:h}):ug(r,u):o},resolve(h){return f||o||h&&!$r(n.method)&&(r.route.lazy||r.route.loader)?NU({request:n,match:r,lazyHandlerPromise:d?.handler,lazyRoutePromise:d?.route,handlerOverride:h,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Cc(t,e,n,r,i,a,o,u=null){return r.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:PD(t,e,n,f,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Lw(t,e,n,f,a,o,!0,u))}async function jU(t,e,n,r,i,a){n.some(d=>d._lazyPromises?.middleware)&&await Promise.all(n.map(d=>d._lazyPromises?.middleware));let o={request:e,params:n[0].params,context:i,matches:n},f=await t({...o,fetcherKey:r,unstable_runClientMiddleware:d=>{let h=o;return TD(h,()=>d({...h,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(d=>[d._lazyPromises?.handler,d._lazyPromises?.route]))}catch{}return f}async function NU({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:a}){let o,u,f=$r(t.method),d=f?"action":"loader",h=p=>{let y,b=new Promise((S,O)=>y=O);u=()=>y(),t.signal.addEventListener("abort",u);let x=S=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${e.route.id}]`)):p({request:t,params:e.params,context:a},...S!==void 0?[S]:[]),E=(async()=>{try{return{type:"data",result:await(i?i(O=>x(O)):x())}}catch(S){return{type:"error",result:S}}})();return Promise.race([E,b])};try{let p=f?e.route.action:e.route.loader;if(n||r)if(p){let y,[b]=await Promise.all([h(p).catch(x=>{y=x}),n,r]);if(y!==void 0)throw y;o=b}else{await n;let y=f?e.route.action:e.route.loader;if(y)[o]=await Promise.all([h(y),r]);else if(d==="action"){let b=new URL(t.url),x=b.pathname+b.search;throw ki(405,{method:t.method,pathname:x,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(p)o=await h(p);else{let y=new URL(t.url),b=y.pathname+y.search;throw ki(404,{pathname:b})}}catch(p){return{type:"error",result:p}}finally{u&&t.signal.removeEventListener("abort",u)}return o}async function kU(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function DU(t){let{result:e,type:n}=t;if(CD(e)){let r;try{r=await kU(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new lg(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?XP(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new lg(e.init?.status||500,void 0,e.data),statusCode:ah(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ah(e)?e.status:void 0}:XP(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function IU(t,e,n,r,i){let a=t.headers.get("Location");if(ft(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!g1(a)){let o=r.slice(0,r.findIndex(u=>u.route.id===n)+1);a=Iw(new URL(e.url),o,i,a),t.headers.set("Location",a)}return t}function HP(t,e,n){if(g1(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=$i(i.pathname,n)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function _c(t,e,n,r){let i=t.createURL(RD(e)).toString(),a={signal:n};if(r&&$r(r.formMethod)){let{formMethod:o,formEncType:u}=r;a.method=o.toUpperCase(),u==="application/json"?(a.headers=new Headers({"Content-Type":u}),a.body=JSON.stringify(r.json)):u==="text/plain"?a.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?a.body=$w(r.formData):a.body=r.formData}return new Request(i,a)}function $w(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function KP(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function MU(t,e,n,r=!1,i=!1){let a={},o=null,u,f=!1,d={},h=n&&ri(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let y=p.route.id,b=e[y];if(ft(!zl(b),"Cannot handle redirect results in processLoaderData"),ri(b)){let x=b.error;if(h!==void 0&&(x=h,h=void 0),o=o||{},i)o[y]=x;else{let E=Oo(t,y);o[E.route.id]==null&&(o[E.route.id]=x)}r||(a[y]=ED),f||(f=!0,u=ah(b.error)?b.error.status:500),b.headers&&(d[y]=b.headers)}else a[y]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(u=b.statusCode),b.headers&&(d[y]=b.headers)}),h!==void 0&&n&&(o={[n[0]]:h},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:o,statusCode:u||200,loaderHeaders:d}}function GP(t,e,n,r,i,a){let{loaderData:o,errors:u}=MU(e,n,r);return i.filter(f=>!f.matches||f.matches.some(d=>d.shouldLoad)).forEach(f=>{let{key:d,match:h,controller:p}=f;if(p&&p.signal.aborted)return;let y=a[d];if(ft(y,"Did not find corresponding fetcher result"),ri(y)){let b=Oo(t.matches,h?.route.id);u&&u[b.route.id]||(u={...u,[b.route.id]:y.error}),t.fetchers.delete(d)}else if(zl(y))ft(!1,"Unhandled fetcher revalidation redirect");else{let b=xo(y.data);t.fetchers.set(d,b)}}),{loaderData:o,errors:u}}function WP(t,e,n,r){let i=Object.entries(e).filter(([,a])=>a!==ED).reduce((a,[o,u])=>(a[o]=u,a),{});for(let a of n){let o=a.route.id;if(!e.hasOwnProperty(o)&&t.hasOwnProperty(o)&&a.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function YP(t){return t?ri(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Oo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function xp(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ki(t,{pathname:e,routeId:n,method:r,type:i,message:a}={}){let o="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(o="Bad Request",r&&e&&n?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):t===403?(o="Forbidden",u=`Route "${n}" does not match URL "${e}"`):t===404?(o="Not Found",u=`No route matches URL "${e}"`):t===405&&(o="Method Not Allowed",r&&e&&n?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new lg(t||500,o,new Error(u),!0)}function Ep(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(zl(i))return{key:r,result:i}}}function RD(t){let e=typeof t=="string"?Rs(t):t;return $o({...e,hash:""})}function LU(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function $U(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&VU(n))}function VU(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function UU(t){return CD(t.result)&&bU.has(t.result.status)}function ri(t){return t.type==="error"}function zl(t){return(t&&t.type)==="redirect"}function XP(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function CD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function BU(t){return vU.has(t.toUpperCase())}function $r(t){return gU.has(t.toUpperCase())}function y1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Xp(t,e){let n=typeof e=="string"?Rs(e).search:e.search;if(t[t.length-1].route.index&&y1(n||""))return t[t.length-1];let r=_D(t);return r[r.length-1]}function QP(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:a,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Tb(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function zU(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ad(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qU(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function xo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function FU(t,e){try{let n=t.sessionStorage.getItem(xD);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function HU(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(xD,JSON.stringify(n))}catch(r){gn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function KU(){let t,e,n=new Promise((r,i)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var du=A.createContext(null);du.displayName="DataRouter";var kh=A.createContext(null);kh.displayName="DataRouterState";A.createContext(!1);var v1=A.createContext({isTransitioning:!1});v1.displayName="ViewTransition";var jD=A.createContext(new Map);jD.displayName="Fetchers";var GU=A.createContext(null);GU.displayName="Await";var za=A.createContext(null);za.displayName="Navigation";var _y=A.createContext(null);_y.displayName="Location";var Cs=A.createContext({outlet:null,matches:[],isDataRoute:!1});Cs.displayName="Route";var b1=A.createContext(null);b1.displayName="RouteError";function WU(t,{relative:e}={}){ft(Dh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(za),{hash:i,pathname:a,search:o}=Mh(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Na([n,a])),r.createHref({pathname:u,search:o,hash:i})}function Dh(){return A.useContext(_y)!=null}function Yo(){return ft(Dh(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(_y).location}var ND="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kD(t){A.useContext(za).static||A.useLayoutEffect(t)}function Ih(){let{isDataRoute:t}=A.useContext(Cs);return t?sB():YU()}function YU(){ft(Dh(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(du),{basename:e,navigator:n}=A.useContext(za),{matches:r}=A.useContext(Cs),{pathname:i}=Yo(),a=JSON.stringify(m1(r)),o=A.useRef(!1);return kD(()=>{o.current=!0}),A.useCallback((f,d={})=>{if(gn(o.current,ND),!o.current)return;if(typeof f=="number"){n.go(f);return}let h=p1(f,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Na([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,i,t])}A.createContext(null);function Mh(t,{relative:e}={}){let{matches:n}=A.useContext(Cs),{pathname:r}=Yo(),i=JSON.stringify(m1(n));return A.useMemo(()=>p1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function XU(t,e,n,r,i){ft(Dh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=A.useContext(za),{matches:o}=A.useContext(Cs),u=o[o.length-1],f=u?u.params:{},d=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let R=p&&p.path||"";ID(d,!p||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let y=Yo(),b;b=y;let x=b.pathname||"/",E=x;if(h!=="/"){let R=h.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=To(t,{pathname:E});return gn(p||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),gn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),tB(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Na([h,a.encodeLocation?a.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?h:Na([h,a.encodeLocation?a.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,n,r,i)}function QU(){let t=DD(),e=ah(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,o)}var JU=A.createElement(QU,null),ZU=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(Cs.Provider,{value:this.props.routeContext},A.createElement(b1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eB({routeContext:t,match:e,children:n}){let r=A.useContext(du);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Cs.Provider,{value:t},n)}function tB(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n?.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);ft(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,f=-1;if(n)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=d),h.route.id){let{loaderData:p,errors:y}=n,b=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let y,b=!1,x=null,E=null;n&&(y=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||JU,u&&(f<0&&p===0?(ID("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):f===p&&(b=!0,E=h.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,p+1)),O=()=>{let R;return y?R=x:b?R=E:h.route.Component?R=A.createElement(h.route.Component,null):h.route.element?R=h.route.element:R=d,A.createElement(eB,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:R})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?A.createElement(ZU,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:O(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):O()},null)}function _1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nB(t){let e=A.useContext(du);return ft(e,_1(t)),e}function rB(t){let e=A.useContext(kh);return ft(e,_1(t)),e}function iB(t){let e=A.useContext(Cs);return ft(e,_1(t)),e}function w1(t){let e=iB(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function aB(){return w1("useRouteId")}function DD(){let t=A.useContext(b1),e=rB("useRouteError"),n=w1("useRouteError");return t!==void 0?t:e.errors?.[n]}function sB(){let{router:t}=nB("useNavigate"),e=w1("useNavigate"),n=A.useRef(!1);return kD(()=>{n.current=!0}),A.useCallback(async(i,a={})=>{gn(n.current,ND),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var JP={};function ID(t,e,n){!e&&!JP[t]&&(JP[t]=!0,gn(!1,n))}var ZP={};function eR(t,e){!t&&!ZP[e]&&(ZP[e]=!0,console.warn(e))}function oB(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&gn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:A.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&gn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:A.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&gn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:A.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var lB=["HydrateFallback","hydrateFallbackElement"],uB=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function cB({router:t,flushSync:e,unstable_onError:n}){let[r,i]=A.useState(t.state),[a,o]=A.useState(),[u,f]=A.useState({isTransitioning:!1}),[d,h]=A.useState(),[p,y]=A.useState(),[b,x]=A.useState(),E=A.useRef(new Map),S=A.useCallback(D=>{i(j=>(D.errors&&n&&Object.entries(D.errors).forEach(([k,I])=>{j.errors?.[k]!==I&&n(I)}),D))},[n]),O=A.useCallback((D,{deletedFetchers:j,flushSync:k,viewTransitionOpts:I})=>{D.fetchers.forEach((q,z)=>{q.data!==void 0&&E.current.set(z,q.data)}),j.forEach(q=>E.current.delete(q)),eR(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let L=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(eR(I==null||L,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!I||!L){e&&k?e(()=>S(D)):A.startTransition(()=>S(D));return}if(e&&k){e(()=>{p&&(d&&d.resolve(),p.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let q=t.window.document.startViewTransition(()=>{e(()=>S(D))});q.finished.finally(()=>{e(()=>{h(void 0),y(void 0),o(void 0),f({isTransitioning:!1})})}),e(()=>y(q));return}p?(d&&d.resolve(),p.skipTransition(),x({state:D,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(o(D),f({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[t.window,e,p,d,S]);A.useLayoutEffect(()=>t.subscribe(O),[t,O]),A.useEffect(()=>{u.isTransitioning&&!u.flushSync&&h(new uB)},[u]),A.useEffect(()=>{if(d&&a&&t.window){let D=a,j=d.promise,k=t.window.document.startViewTransition(async()=>{A.startTransition(()=>S(D)),await j});k.finished.finally(()=>{h(void 0),y(void 0),o(void 0),f({isTransitioning:!1})}),y(k)}},[a,d,t.window,S]),A.useEffect(()=>{d&&a&&r.location.key===a.location.key&&d.resolve()},[d,p,r.location,a]),A.useEffect(()=>{!u.isTransitioning&&b&&(o(b.state),f({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),x(void 0))},[u.isTransitioning,b]);let R=A.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:D=>t.navigate(D),push:(D,j,k)=>t.navigate(D,{state:j,preventScrollReset:k?.preventScrollReset}),replace:(D,j,k)=>t.navigate(D,{replace:!0,state:j,preventScrollReset:k?.preventScrollReset})}),[t]),P=t.basename||"/",V=A.useMemo(()=>({router:t,navigator:R,static:!1,basename:P,unstable_onError:n}),[t,R,P,n]);return A.createElement(A.Fragment,null,A.createElement(du.Provider,{value:V},A.createElement(kh.Provider,{value:r},A.createElement(jD.Provider,{value:E.current},A.createElement(v1.Provider,{value:u},A.createElement(hB,{basename:P,location:r.location,navigationType:r.historyAction,navigator:R},A.createElement(fB,{routes:t.routes,future:t.future,state:r,unstable_onError:n})))))),null)}var fB=A.memo(dB);function dB({routes:t,future:e,state:n,unstable_onError:r}){return XU(t,void 0,n,r,e)}function hB({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){ft(!Dh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=Rs(n));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:y="default"}=n,b=A.useMemo(()=>{let x=$i(f,o);return x==null?null:{location:{pathname:x,search:d,hash:h,state:p,key:y},navigationType:r}},[o,f,d,h,p,y,r]);return gn(b!=null,`<Router basename="${o}"> is not able to match the URL "${f}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:A.createElement(za.Provider,{value:u},A.createElement(_y.Provider,{children:e,value:b}))}var Qp="get",Jp="application/x-www-form-urlencoded";function wy(t){return t!=null&&typeof t.tagName=="string"}function mB(t){return wy(t)&&t.tagName.toLowerCase()==="button"}function pB(t){return wy(t)&&t.tagName.toLowerCase()==="form"}function gB(t){return wy(t)&&t.tagName.toLowerCase()==="input"}function yB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vB(t,e){return t.button===0&&(!e||e==="_self")&&!yB(t)}var Sp=null;function bB(){if(Sp===null)try{new FormData(document.createElement("form"),0),Sp=!1}catch{Sp=!0}return Sp}var _B=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ob(t){return t!=null&&!_B.has(t)?(gn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jp}"`),null):t}function wB(t,e){let n,r,i,a,o;if(pB(t)){let u=t.getAttribute("action");r=u?$i(u,e):null,n=t.getAttribute("method")||Qp,i=Ob(t.getAttribute("enctype"))||Jp,a=new FormData(t)}else if(mB(t)||gB(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?$i(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Qp,i=Ob(t.getAttribute("formenctype"))||Ob(u.getAttribute("enctype"))||Jp,a=new FormData(u,t),!bB()){let{name:d,type:h,value:p}=t;if(h==="image"){let y=d?`${d}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else d&&a.append(d,p)}}else{if(wy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qp,r=null,i=Jp,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function x1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xB(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&$i(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function EB(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SB(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function AB(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await EB(a,n);return o.links?o.links():[]}return[]}));return RB(r.flat(1).filter(SB).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function tR(t,e,n,r,i,a){let o=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,u=(f,d)=>n[d].pathname!==f.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,d)=>o(f,d)||u(f,d)):a==="data"?e.filter((f,d)=>{let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(o(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function TB(t,e,{includeHydrateFallback:n}={}){return OB(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function OB(t){return[...new Set(t)]}function PB(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function RB(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(PB(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function MD(){let t=A.useContext(du);return x1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function CB(){let t=A.useContext(kh);return x1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var E1=A.createContext(void 0);E1.displayName="FrameworkContext";function LD(){let t=A.useContext(E1);return x1(t,"You must render this element inside a <HydratedRouter> element"),t}function jB(t,e){let n=A.useContext(E1),[r,i]=A.useState(!1),[a,o]=A.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=e,y=A.useRef(null);A.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let E=O=>{O.forEach(R=>{o(R.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[t]),A.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let b=()=>{i(!0)},x=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:Td(u,b),onBlur:Td(f,x),onMouseEnter:Td(d,b),onMouseLeave:Td(h,x),onTouchStart:Td(p,b)}]:[!1,y,{}]}function Td(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function NB({page:t,...e}){let{router:n}=MD(),r=A.useMemo(()=>To(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(DB,{page:t,matches:r,...e}):null}function kB(t){let{manifest:e,routeModules:n}=LD(),[r,i]=A.useState([]);return A.useEffect(()=>{let a=!1;return AB(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function DB({page:t,matches:e,...n}){let r=Yo(),{manifest:i,routeModules:a}=LD(),{basename:o}=MD(),{loaderData:u,matches:f}=CB(),d=A.useMemo(()=>tR(t,e,f,i,r,"data"),[t,e,f,i,r]),h=A.useMemo(()=>tR(t,e,f,i,r,"assets"),[t,e,f,i,r]),p=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,E=!1;if(e.forEach(O=>{let R=i.routes[O.route.id];!R||!R.hasLoader||(!d.some(P=>P.route.id===O.route.id)&&O.route.id in u&&a[O.route.id]?.shouldRevalidate||R.hasClientLoader?E=!0:x.add(O.route.id))}),x.size===0)return[];let S=xB(t,o,"data");return E&&x.size>0&&S.searchParams.set("_routes",e.filter(O=>x.has(O.route.id)).map(O=>O.route.id).join(",")),[S.pathname+S.search]},[o,u,r,i,d,e,t,a]),y=A.useMemo(()=>TB(h,i),[h,i]),b=kB(h);return A.createElement(A.Fragment,null,p.map(x=>A.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),y.map(x=>A.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),b.map(({key:x,link:E})=>A.createElement("link",{key:x,nonce:n.nonce,...E})))}function IB(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $D=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$D&&(window.__reactRouterVersion="7.8.2")}catch{}function MB(t,e){return SU({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:qV({window:e?.window}),hydrationData:LB(),routes:t,mapRouteProperties:oB,hydrationRouteProperties:lB,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function LB(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:$B(t.errors)}),t}function $B(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new lg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let o=new a(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}var VD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jc=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:u,target:f,to:d,preventScrollReset:h,viewTransition:p,...y},b){let{basename:x}=A.useContext(za),E=typeof d=="string"&&VD.test(d),S,O=!1;if(typeof d=="string"&&E&&(S=d,$D))try{let L=new URL(window.location.href),q=d.startsWith("//")?new URL(L.protocol+d):new URL(d),z=$i(q.pathname,x);q.origin===L.origin&&z!=null?d=z+q.search+q.hash:O=!0}catch{gn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=WU(d,{relative:i}),[P,V,D]=jB(r,y),j=zB(d,{replace:o,state:u,target:f,preventScrollReset:h,relative:i,viewTransition:p});function k(L){e&&e(L),L.defaultPrevented||j(L)}let I=A.createElement("a",{...y,...D,href:S||R,onClick:O||a?e:k,ref:IB(b,V),target:f,"data-discover":!E&&n==="render"?"true":void 0});return P&&!E?A.createElement(A.Fragment,null,I,A.createElement(NB,{page:R})):I});jc.displayName="Link";var VB=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:u,children:f,...d},h){let p=Mh(o,{relative:d.relative}),y=Yo(),b=A.useContext(kh),{navigator:x,basename:E}=A.useContext(za),S=b!=null&&GB(p)&&u===!0,O=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,R=y.pathname,P=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(R=R.toLowerCase(),P=P?P.toLowerCase():null,O=O.toLowerCase()),P&&E&&(P=$i(P,E)||P);const V=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let D=R===O||!i&&R.startsWith(O)&&R.charAt(V)==="/",j=P!=null&&(P===O||!i&&P.startsWith(O)&&P.charAt(O.length)==="/"),k={isActive:D,isPending:j,isTransitioning:S},I=D?e:void 0,L;typeof r=="function"?L=r(k):L=[r,D?"active":null,j?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let q=typeof a=="function"?a(k):a;return A.createElement(jc,{...d,"aria-current":I,className:L,ref:h,style:q,to:o,viewTransition:u},typeof f=="function"?f(k):f)});VB.displayName="NavLink";var UB=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Qp,action:u,onSubmit:f,relative:d,preventScrollReset:h,viewTransition:p,...y},b)=>{let x=HB(),E=KB(u,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&VD.test(u),R=P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let V=P.nativeEvent.submitter,D=V?.getAttribute("formmethod")||o;x(V||P.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:p})};return A.createElement("form",{ref:b,method:S,action:E,onSubmit:r?f:R,...y,"data-discover":!O&&t==="render"?"true":void 0})});UB.displayName="Form";function BB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UD(t){let e=A.useContext(du);return ft(e,BB(t)),e}function zB(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let u=Ih(),f=Yo(),d=Mh(t,{relative:a});return A.useCallback(h=>{if(vB(h,e)){h.preventDefault();let p=n!==void 0?n:$o(f)===$o(d);u(t,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[f,u,d,n,r,e,t,i,a,o])}var qB=0,FB=()=>`__${String(++qB)}__`;function HB(){let{router:t}=UD("useSubmit"),{basename:e}=A.useContext(za),n=aB();return A.useCallback(async(r,i={})=>{let{action:a,method:o,encType:u,formData:f,body:d}=wB(r,e);if(i.navigate===!1){let h=i.fetcherKey||FB();await t.fetch(h,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||o,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||o,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function KB(t,{relative:e}={}){let{basename:n}=A.useContext(za),r=A.useContext(Cs);ft(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Mh(t||".",{relative:e})},o=Yo();if(t==null){a.search=o.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Na([n,a.pathname])),$o(a)}function GB(t,{relative:e}={}){let n=A.useContext(v1);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=UD("useViewTransitionState"),i=Mh(t,{relative:e});if(!n.isTransitioning)return!1;let a=$i(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=$i(n.nextLocation.pathname,r)||n.nextLocation.pathname;return og(i.pathname,o)!=null||og(i.pathname,a)!=null}var S1=pD();function WB(t){return A.createElement(cB,{flushSync:S1.flushSync,...t})}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),nR=t=>{const e=XB(t);return e.charAt(0).toUpperCase()+e.slice(1)},BD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),QB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...u},f)=>A.createElement("svg",{ref:f,...JB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:BD("lucide",i),...!a&&!QB(u)&&{"aria-hidden":"true"},...u},[...o.map(([d,h])=>A.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=(t,e)=>{const n=A.forwardRef(({className:r,...i},a)=>A.createElement(ZB,{ref:a,iconNode:e,className:BD(`lucide-${YB(nR(t))}`,`lucide-${t}`,r),...i}));return n.displayName=nR(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],zD=Ut("arrow-down",e9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qD=Ut("arrow-left",t9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],cg=Ut("arrow-right",n9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],i9=Ut("arrow-up-down",r9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],FD=Ut("arrow-up",a9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 16a2 2 0 0 1-2 2H8.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 4 20.286V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2z",key:"11gyqh"}],["path",{d:"M9 11v2",key:"1ueba0"}]],o9=Ut("bot-message-square",s9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],u9=Ut("chevron-left",l9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],f9=Ut("chevron-right",c9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],h9=Ut("copy",d9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],p9=Ut("ellipsis",m9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],y9=Ut("eye-off",g9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],b9=Ut("highlighter",v9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],w9=Ut("menu",_9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],E9=Ut("refresh-cw",x9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vw=Ut("search",S9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],T9=Ut("send",A9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],P9=Ut("settings-2",O9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C9=Ut("settings",R9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m8 14 4-4 4 4",key:"fy2ptz"}]],N9=Ut("square-chevron-up",j9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}]],D9=Ut("square-play",k9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],A1=Ut("target",I9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],L9=Ut("trending-up",M9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],HD=Ut("trophy",$9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],U9=Ut("undo-2",V9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],KD=Ut("users",B9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],q9=Ut("video",z9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],H9=Ut("x",F9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],GD=Ut("zap",K9),G9="/ScoutingOffseason2025/assets/icon-CcJZ9g6Y.png",rR=t=>{let e;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const y=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(b=>b(e,y))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>f,subscribe:d=>(n.add(d),()=>n.delete(d))},f=e=t(r,i,u);return u},W9=(t=>t?rR(t):rR),Y9=t=>t;function X9(t,e=Y9){const n=Id.useSyncExternalStore(t.subscribe,Id.useCallback(()=>e(t.getState()),[t,e]),Id.useCallback(()=>e(t.getInitialState()),[t,e]));return Id.useDebugValue(n),n}const iR=t=>{const e=W9(t),n=r=>X9(e,r);return Object.assign(n,e),n},Q9=(t=>t?iR(t):iR),J9=()=>{};var aR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Z9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],u=t[n++],f=((i&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},YD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,u=o?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,h=a>>2,p=(a&3)<<4|u>>4;let y=(u&15)<<2|d>>6,b=d&63;f||(b=64,o||(y=64)),r.push(n[h],n[p],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Z9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||d==null||p==null)throw new ez;const y=a<<2|u>>4;if(r.push(y),d!==64){const b=u<<4&240|d>>2;if(r.push(b),p!==64){const x=d<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ez extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tz=function(t){const e=WD(t);return YD.encodeByteArray(e,!0)},fg=function(t){return tz(t).replace(/\./g,"")},nz=function(t){try{return YD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=()=>rz().__FIREBASE_DEFAULTS__,az=()=>{if(typeof process>"u"||typeof aR>"u")return;const t=aR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nz(t[1]);return e&&JSON.parse(e)},T1=()=>{try{return J9()||iz()||az()||sz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oz=t=>T1()?.emulatorHosts?.[t],lz=t=>{const e=oz(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},XD=()=>T1()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uz=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cz(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[fg(JSON.stringify(n)),fg(JSON.stringify(o)),""].join(".")}const Fd={};function dz(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fd))Fd[e]?t.emulator.push(e):t.prod.push(e);return t}function hz(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sR=!1;function mz(t,e){if(typeof window>"u"||typeof document>"u"||!O1(window.location.host)||Fd[t]===e||Fd[t]||sR)return;Fd[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=dz().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{sR=!0,o()},y}function h(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=hz(r),b=n("text"),x=document.getElementById(b)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),O=n("preprendIcon"),R=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const P=y.element;u(P),h(S,E);const V=d();f(R,O),P.append(R,x,S,V),document.body.appendChild(P)}a?(x.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gz(){const t=T1()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yz(){return!gz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vz(){try{return typeof indexedDB=="object"}catch{return!1}}function bz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z="FirebaseError";class hu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_z,Object.setPrototypeOf(this,hu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,QD.prototype.create)}}class QD{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?wz(a,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new hu(i,u,r)}}function wz(t,e){return t.replace(xz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xz=/\{\$([^}]+)}/g;function dg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(oR(a)&&oR(o)){if(!dg(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){return t&&t._delegate?t._delegate:t}class Mc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ez=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Az(e))try{this.getOrInitializeService({instanceIdentifier:kl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=kl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kl){return this.instances.has(e)}getOptions(e=kl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kl){return this.component?this.component.multipleInstances?e:kl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Sz(t){return t===kl?void 0:t}function Az(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ez(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(bt||(bt={}));const Oz={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},Pz=bt.INFO,Rz={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},Cz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Rz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P1{constructor(e){this.name=e,this._logLevel=Pz,this._logHandler=Cz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Oz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const jz=(t,e)=>e.some(n=>t instanceof n);let lR,uR;function Nz(){return lR||(lR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kz(){return uR||(uR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JD=new WeakMap,Uw=new WeakMap,ZD=new WeakMap,Pb=new WeakMap,R1=new WeakMap;function Dz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(No(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&JD.set(n,t)}).catch(()=>{}),R1.set(e,t),e}function Iz(t){if(Uw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Uw.set(t,e)}let Bw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return No(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Mz(t){Bw=t(Bw)}function Lz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rb(this),e,...n);return ZD.set(r,e.sort?e.sort():[e]),No(r)}:kz().includes(t)?function(...e){return t.apply(Rb(this),e),No(JD.get(this))}:function(...e){return No(t.apply(Rb(this),e))}}function $z(t){return typeof t=="function"?Lz(t):(t instanceof IDBTransaction&&Iz(t),jz(t,Nz())?new Proxy(t,Bw):t)}function No(t){if(t instanceof IDBRequest)return Dz(t);if(Pb.has(t))return Pb.get(t);const e=$z(t);return e!==t&&(Pb.set(t,e),R1.set(e,t)),e}const Rb=t=>R1.get(t);function Vz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),u=No(o);return r&&o.addEventListener("upgradeneeded",f=>{r(No(o.result),f.oldVersion,f.newVersion,No(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const Uz=["get","getKey","getAll","getAllKeys","count"],Bz=["put","add","delete","clear"],Cb=new Map;function cR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cb.get(e))return Cb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Bz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Uz.includes(n)))return;const a=async function(o,...u){const f=this.transaction(o,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&f.done]))[0]};return Cb.set(e,a),a}Mz(t=>({...t,get:(e,n,r)=>cR(e,n)||t.get(e,n,r),has:(e,n)=>!!cR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qz(t){return t.getComponent()?.type==="VERSION"}const zw="@firebase/app",fR="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new P1("@firebase/app"),Fz="@firebase/app-compat",Hz="@firebase/analytics-compat",Kz="@firebase/analytics",Gz="@firebase/app-check-compat",Wz="@firebase/app-check",Yz="@firebase/auth",Xz="@firebase/auth-compat",Qz="@firebase/database",Jz="@firebase/data-connect",Zz="@firebase/database-compat",e8="@firebase/functions",t8="@firebase/functions-compat",n8="@firebase/installations",r8="@firebase/installations-compat",i8="@firebase/messaging",a8="@firebase/messaging-compat",s8="@firebase/performance",o8="@firebase/performance-compat",l8="@firebase/remote-config",u8="@firebase/remote-config-compat",c8="@firebase/storage",f8="@firebase/storage-compat",d8="@firebase/firestore",h8="@firebase/ai",m8="@firebase/firestore-compat",p8="firebase",g8="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="[DEFAULT]",y8={[zw]:"fire-core",[Fz]:"fire-core-compat",[Kz]:"fire-analytics",[Hz]:"fire-analytics-compat",[Wz]:"fire-app-check",[Gz]:"fire-app-check-compat",[Yz]:"fire-auth",[Xz]:"fire-auth-compat",[Qz]:"fire-rtdb",[Jz]:"fire-data-connect",[Zz]:"fire-rtdb-compat",[e8]:"fire-fn",[t8]:"fire-fn-compat",[n8]:"fire-iid",[r8]:"fire-iid-compat",[i8]:"fire-fcm",[a8]:"fire-fcm-compat",[s8]:"fire-perf",[o8]:"fire-perf-compat",[l8]:"fire-rc",[u8]:"fire-rc-compat",[c8]:"fire-gcs",[f8]:"fire-gcs-compat",[d8]:"fire-fst",[m8]:"fire-fst-compat",[h8]:"fire-vertex","fire-js":"fire-js",[p8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=new Map,v8=new Map,Fw=new Map;function dR(t,e){try{t.container.addComponent(e)}catch(n){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oh(t){const e=t.name;if(Fw.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;Fw.set(e,t);for(const n of hg.values())dR(n,t);for(const n of v8.values())dR(n,t);return!0}function eI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tI(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ko=new QD("app","Firebase",b8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=g8;function nI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:qw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ko.create("bad-app-name",{appName:String(i)});if(n||(n=XD()),!n)throw ko.create("no-options");const a=hg.get(i);if(a){if(dg(n,a.options)&&dg(r,a.config))return a;throw ko.create("duplicate-app",{appName:i})}const o=new Tz(i);for(const f of Fw.values())o.addComponent(f);const u=new _8(n,r,o);return hg.set(i,u),u}function rI(t=qw){const e=hg.get(t);if(!e&&t===qw&&XD())return nI();if(!e)throw ko.create("no-app",{appName:t});return e}function Do(t,e,n){let r=y8[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(o.join(" "));return}oh(new Mc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8="firebase-heartbeat-database",E8=1,lh="firebase-heartbeat-store";let jb=null;function iI(){return jb||(jb=Vz(x8,E8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ko.create("idb-open",{originalErrorMessage:t.message})})),jb}async function S8(t){try{const n=(await iI()).transaction(lh),r=await n.objectStore(lh).get(aI(t));return await n.done,r}catch(e){if(e instanceof hu)_s.warn(e.message);else{const n=ko.create("idb-get",{originalErrorMessage:e?.message});_s.warn(n.message)}}}async function hR(t,e){try{const r=(await iI()).transaction(lh,"readwrite");await r.objectStore(lh).put(e,aI(t)),await r.done}catch(n){if(n instanceof hu)_s.warn(n.message);else{const r=ko.create("idb-set",{originalErrorMessage:n?.message});_s.warn(r.message)}}}function aI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=1024,T8=30;class O8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>T8){const i=C8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mR(),{heartbeatsToSend:n,unsentEntries:r}=P8(this._heartbeatsCache.heartbeats),i=fg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return _s.warn(e),""}}}function mR(){return new Date().toISOString().substring(0,10)}function P8(t,e=A8){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),pR(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class R8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vz()?bz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await S8(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pR(t){return fg(JSON.stringify({version:2,heartbeats:t})).length}function C8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(t){oh(new Mc("platform-logger",e=>new zz(e),"PRIVATE")),oh(new Mc("heartbeat",e=>new O8(e),"PRIVATE")),Do(zw,fR,t),Do(zw,fR,"esm2020"),Do("fire-js","")}j8("");var gR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Io,sI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function L(){}L.prototype=I.prototype,k.D=I.prototype,k.prototype=new L,k.prototype.constructor=k,k.C=function(q,z,B){for(var M=Array(arguments.length-2),le=2;le<arguments.length;le++)M[le-2]=arguments[le];return I.prototype[z].apply(q,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,I,L){L||(L=0);var q=Array(16);if(typeof I=="string")for(var z=0;16>z;++z)q[z]=I.charCodeAt(L++)|I.charCodeAt(L++)<<8|I.charCodeAt(L++)<<16|I.charCodeAt(L++)<<24;else for(z=0;16>z;++z)q[z]=I[L++]|I[L++]<<8|I[L++]<<16|I[L++]<<24;I=k.g[0],L=k.g[1],z=k.g[2];var B=k.g[3],M=I+(B^L&(z^B))+q[0]+3614090360&4294967295;I=L+(M<<7&4294967295|M>>>25),M=B+(z^I&(L^z))+q[1]+3905402710&4294967295,B=I+(M<<12&4294967295|M>>>20),M=z+(L^B&(I^L))+q[2]+606105819&4294967295,z=B+(M<<17&4294967295|M>>>15),M=L+(I^z&(B^I))+q[3]+3250441966&4294967295,L=z+(M<<22&4294967295|M>>>10),M=I+(B^L&(z^B))+q[4]+4118548399&4294967295,I=L+(M<<7&4294967295|M>>>25),M=B+(z^I&(L^z))+q[5]+1200080426&4294967295,B=I+(M<<12&4294967295|M>>>20),M=z+(L^B&(I^L))+q[6]+2821735955&4294967295,z=B+(M<<17&4294967295|M>>>15),M=L+(I^z&(B^I))+q[7]+4249261313&4294967295,L=z+(M<<22&4294967295|M>>>10),M=I+(B^L&(z^B))+q[8]+1770035416&4294967295,I=L+(M<<7&4294967295|M>>>25),M=B+(z^I&(L^z))+q[9]+2336552879&4294967295,B=I+(M<<12&4294967295|M>>>20),M=z+(L^B&(I^L))+q[10]+4294925233&4294967295,z=B+(M<<17&4294967295|M>>>15),M=L+(I^z&(B^I))+q[11]+2304563134&4294967295,L=z+(M<<22&4294967295|M>>>10),M=I+(B^L&(z^B))+q[12]+1804603682&4294967295,I=L+(M<<7&4294967295|M>>>25),M=B+(z^I&(L^z))+q[13]+4254626195&4294967295,B=I+(M<<12&4294967295|M>>>20),M=z+(L^B&(I^L))+q[14]+2792965006&4294967295,z=B+(M<<17&4294967295|M>>>15),M=L+(I^z&(B^I))+q[15]+1236535329&4294967295,L=z+(M<<22&4294967295|M>>>10),M=I+(z^B&(L^z))+q[1]+4129170786&4294967295,I=L+(M<<5&4294967295|M>>>27),M=B+(L^z&(I^L))+q[6]+3225465664&4294967295,B=I+(M<<9&4294967295|M>>>23),M=z+(I^L&(B^I))+q[11]+643717713&4294967295,z=B+(M<<14&4294967295|M>>>18),M=L+(B^I&(z^B))+q[0]+3921069994&4294967295,L=z+(M<<20&4294967295|M>>>12),M=I+(z^B&(L^z))+q[5]+3593408605&4294967295,I=L+(M<<5&4294967295|M>>>27),M=B+(L^z&(I^L))+q[10]+38016083&4294967295,B=I+(M<<9&4294967295|M>>>23),M=z+(I^L&(B^I))+q[15]+3634488961&4294967295,z=B+(M<<14&4294967295|M>>>18),M=L+(B^I&(z^B))+q[4]+3889429448&4294967295,L=z+(M<<20&4294967295|M>>>12),M=I+(z^B&(L^z))+q[9]+568446438&4294967295,I=L+(M<<5&4294967295|M>>>27),M=B+(L^z&(I^L))+q[14]+3275163606&4294967295,B=I+(M<<9&4294967295|M>>>23),M=z+(I^L&(B^I))+q[3]+4107603335&4294967295,z=B+(M<<14&4294967295|M>>>18),M=L+(B^I&(z^B))+q[8]+1163531501&4294967295,L=z+(M<<20&4294967295|M>>>12),M=I+(z^B&(L^z))+q[13]+2850285829&4294967295,I=L+(M<<5&4294967295|M>>>27),M=B+(L^z&(I^L))+q[2]+4243563512&4294967295,B=I+(M<<9&4294967295|M>>>23),M=z+(I^L&(B^I))+q[7]+1735328473&4294967295,z=B+(M<<14&4294967295|M>>>18),M=L+(B^I&(z^B))+q[12]+2368359562&4294967295,L=z+(M<<20&4294967295|M>>>12),M=I+(L^z^B)+q[5]+4294588738&4294967295,I=L+(M<<4&4294967295|M>>>28),M=B+(I^L^z)+q[8]+2272392833&4294967295,B=I+(M<<11&4294967295|M>>>21),M=z+(B^I^L)+q[11]+1839030562&4294967295,z=B+(M<<16&4294967295|M>>>16),M=L+(z^B^I)+q[14]+4259657740&4294967295,L=z+(M<<23&4294967295|M>>>9),M=I+(L^z^B)+q[1]+2763975236&4294967295,I=L+(M<<4&4294967295|M>>>28),M=B+(I^L^z)+q[4]+1272893353&4294967295,B=I+(M<<11&4294967295|M>>>21),M=z+(B^I^L)+q[7]+4139469664&4294967295,z=B+(M<<16&4294967295|M>>>16),M=L+(z^B^I)+q[10]+3200236656&4294967295,L=z+(M<<23&4294967295|M>>>9),M=I+(L^z^B)+q[13]+681279174&4294967295,I=L+(M<<4&4294967295|M>>>28),M=B+(I^L^z)+q[0]+3936430074&4294967295,B=I+(M<<11&4294967295|M>>>21),M=z+(B^I^L)+q[3]+3572445317&4294967295,z=B+(M<<16&4294967295|M>>>16),M=L+(z^B^I)+q[6]+76029189&4294967295,L=z+(M<<23&4294967295|M>>>9),M=I+(L^z^B)+q[9]+3654602809&4294967295,I=L+(M<<4&4294967295|M>>>28),M=B+(I^L^z)+q[12]+3873151461&4294967295,B=I+(M<<11&4294967295|M>>>21),M=z+(B^I^L)+q[15]+530742520&4294967295,z=B+(M<<16&4294967295|M>>>16),M=L+(z^B^I)+q[2]+3299628645&4294967295,L=z+(M<<23&4294967295|M>>>9),M=I+(z^(L|~B))+q[0]+4096336452&4294967295,I=L+(M<<6&4294967295|M>>>26),M=B+(L^(I|~z))+q[7]+1126891415&4294967295,B=I+(M<<10&4294967295|M>>>22),M=z+(I^(B|~L))+q[14]+2878612391&4294967295,z=B+(M<<15&4294967295|M>>>17),M=L+(B^(z|~I))+q[5]+4237533241&4294967295,L=z+(M<<21&4294967295|M>>>11),M=I+(z^(L|~B))+q[12]+1700485571&4294967295,I=L+(M<<6&4294967295|M>>>26),M=B+(L^(I|~z))+q[3]+2399980690&4294967295,B=I+(M<<10&4294967295|M>>>22),M=z+(I^(B|~L))+q[10]+4293915773&4294967295,z=B+(M<<15&4294967295|M>>>17),M=L+(B^(z|~I))+q[1]+2240044497&4294967295,L=z+(M<<21&4294967295|M>>>11),M=I+(z^(L|~B))+q[8]+1873313359&4294967295,I=L+(M<<6&4294967295|M>>>26),M=B+(L^(I|~z))+q[15]+4264355552&4294967295,B=I+(M<<10&4294967295|M>>>22),M=z+(I^(B|~L))+q[6]+2734768916&4294967295,z=B+(M<<15&4294967295|M>>>17),M=L+(B^(z|~I))+q[13]+1309151649&4294967295,L=z+(M<<21&4294967295|M>>>11),M=I+(z^(L|~B))+q[4]+4149444226&4294967295,I=L+(M<<6&4294967295|M>>>26),M=B+(L^(I|~z))+q[11]+3174756917&4294967295,B=I+(M<<10&4294967295|M>>>22),M=z+(I^(B|~L))+q[2]+718787259&4294967295,z=B+(M<<15&4294967295|M>>>17),M=L+(B^(z|~I))+q[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(z+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+z&4294967295,k.g[3]=k.g[3]+B&4294967295}r.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var L=I-this.blockSize,q=this.B,z=this.h,B=0;B<I;){if(z==0)for(;B<=L;)i(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<I;)if(q[z++]=k.charCodeAt(B++),z==this.blockSize){i(this,q),z=0;break}}else for(;B<I;)if(q[z++]=k[B++],z==this.blockSize){i(this,q),z=0;break}}this.h=z,this.o+=I},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var L=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=L&255,L/=256;for(this.u(k),k=Array(16),I=L=0;4>I;++I)for(var q=0;32>q;q+=8)k[L++]=this.g[I]>>>q&255;return k};function a(k,I){var L=u;return Object.prototype.hasOwnProperty.call(L,k)?L[k]:L[k]=I(k)}function o(k,I){this.h=I;for(var L=[],q=!0,z=k.length-1;0<=z;z--){var B=k[z]|0;q&&B==I||(L[z]=B,q=!1)}this.g=L}var u={};function f(k){return-128<=k&&128>k?a(k,function(I){return new o([I|0],0>I?-1:0)}):new o([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return p;if(0>k)return S(d(-k));for(var I=[],L=1,q=0;k>=L;q++)I[q]=k/L|0,L*=4294967296;return new o(I,0)}function h(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return S(h(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=d(Math.pow(I,8)),q=p,z=0;z<k.length;z+=8){var B=Math.min(8,k.length-z),M=parseInt(k.substring(z,z+B),I);8>B?(B=d(Math.pow(I,B)),q=q.j(B).add(d(M))):(q=q.j(L),q=q.add(d(M)))}return q}var p=f(0),y=f(1),b=f(16777216);t=o.prototype,t.m=function(){if(E(this))return-S(this).m();for(var k=0,I=1,L=0;L<this.g.length;L++){var q=this.i(L);k+=(0<=q?q:4294967296+q)*I,I*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(x(this))return"0";if(E(this))return"-"+S(this).toString(k);for(var I=d(Math.pow(k,6)),L=this,q="";;){var z=V(L,I).g;L=O(L,z.j(I));var B=((0<L.g.length?L.g[0]:L.h)>>>0).toString(k);if(L=z,x(L))return B+q;for(;6>B.length;)B="0"+B;q=B+q}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function x(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function E(k){return k.h==-1}t.l=function(k){return k=O(this,k),E(k)?-1:x(k)?0:1};function S(k){for(var I=k.g.length,L=[],q=0;q<I;q++)L[q]=~k.g[q];return new o(L,~k.h).add(y)}t.abs=function(){return E(this)?S(this):this},t.add=function(k){for(var I=Math.max(this.g.length,k.g.length),L=[],q=0,z=0;z<=I;z++){var B=q+(this.i(z)&65535)+(k.i(z)&65535),M=(B>>>16)+(this.i(z)>>>16)+(k.i(z)>>>16);q=M>>>16,B&=65535,M&=65535,L[z]=M<<16|B}return new o(L,L[L.length-1]&-2147483648?-1:0)};function O(k,I){return k.add(S(I))}t.j=function(k){if(x(this)||x(k))return p;if(E(this))return E(k)?S(this).j(S(k)):S(S(this).j(k));if(E(k))return S(this.j(S(k)));if(0>this.l(b)&&0>k.l(b))return d(this.m()*k.m());for(var I=this.g.length+k.g.length,L=[],q=0;q<2*I;q++)L[q]=0;for(q=0;q<this.g.length;q++)for(var z=0;z<k.g.length;z++){var B=this.i(q)>>>16,M=this.i(q)&65535,le=k.i(z)>>>16,be=k.i(z)&65535;L[2*q+2*z]+=M*be,R(L,2*q+2*z),L[2*q+2*z+1]+=B*be,R(L,2*q+2*z+1),L[2*q+2*z+1]+=M*le,R(L,2*q+2*z+1),L[2*q+2*z+2]+=B*le,R(L,2*q+2*z+2)}for(q=0;q<I;q++)L[q]=L[2*q+1]<<16|L[2*q];for(q=I;q<2*I;q++)L[q]=0;return new o(L,0)};function R(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function P(k,I){this.g=k,this.h=I}function V(k,I){if(x(I))throw Error("division by zero");if(x(k))return new P(p,p);if(E(k))return I=V(S(k),I),new P(S(I.g),S(I.h));if(E(I))return I=V(k,S(I)),new P(S(I.g),I.h);if(30<k.g.length){if(E(k)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var L=y,q=I;0>=q.l(k);)L=D(L),q=D(q);var z=j(L,1),B=j(q,1);for(q=j(q,2),L=j(L,2);!x(q);){var M=B.add(q);0>=M.l(k)&&(z=z.add(L),B=M),q=j(q,1),L=j(L,1)}return I=O(k,z.j(I)),new P(z,I)}for(z=p;0<=k.l(I);){for(L=Math.max(1,Math.floor(k.m()/I.m())),q=Math.ceil(Math.log(L)/Math.LN2),q=48>=q?1:Math.pow(2,q-48),B=d(L),M=B.j(I);E(M)||0<M.l(k);)L-=q,B=d(L),M=B.j(I);x(B)&&(B=y),z=z.add(B),k=O(k,M)}return new P(z,k)}t.A=function(k){return V(this,k).h},t.and=function(k){for(var I=Math.max(this.g.length,k.g.length),L=[],q=0;q<I;q++)L[q]=this.i(q)&k.i(q);return new o(L,this.h&k.h)},t.or=function(k){for(var I=Math.max(this.g.length,k.g.length),L=[],q=0;q<I;q++)L[q]=this.i(q)|k.i(q);return new o(L,this.h|k.h)},t.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),L=[],q=0;q<I;q++)L[q]=this.i(q)^k.i(q);return new o(L,this.h^k.h)};function D(k){for(var I=k.g.length+1,L=[],q=0;q<I;q++)L[q]=k.i(q)<<1|k.i(q-1)>>>31;return new o(L,k.h)}function j(k,I){var L=I>>5;I%=32;for(var q=k.g.length-L,z=[],B=0;B<q;B++)z[B]=0<I?k.i(B+L)>>>I|k.i(B+L+1)<<32-I:k.i(B+L);return new o(z,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Io=o}).apply(typeof gR<"u"?gR:typeof self<"u"?self:typeof window<"u"?window:{});var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oI,Ld,lI,Zp,Hw,uI,cI,fI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,T,C){return g==Array.prototype||g==Object.prototype||(g[T]=C.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ap=="object"&&Ap];for(var T=0;T<g.length;++T){var C=g[T];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var C=r;g=g.split(".");for(var U=0;U<g.length-1;U++){var Q=g[U];if(!(Q in C))break e;C=C[Q]}g=g[g.length-1],U=C[g],T=T(U),T!=U&&T!=null&&e(C,g,{configurable:!0,writable:!0,value:T})}}function a(g,T){g instanceof String&&(g+="");var C=0,U=!1,Q={next:function(){if(!U&&C<g.length){var se=C++;return{value:T(se,g[se]),done:!1}}return U=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(g){return g||function(){return a(this,function(T,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function f(g){var T=typeof g;return T=T!="object"?T:g?Array.isArray(g)?"array":T:"null",T=="array"||T=="object"&&typeof g.length=="number"}function d(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function h(g,T,C){return g.call.apply(g.bind,arguments)}function p(g,T,C){if(!g)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,U),g.apply(T,Q)}}return function(){return g.apply(T,arguments)}}function y(g,T,C){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function b(g,T){var C=Array.prototype.slice.call(arguments,1);return function(){var U=C.slice();return U.push.apply(U,arguments),g.apply(this,U)}}function x(g,T){function C(){}C.prototype=T.prototype,g.aa=T.prototype,g.prototype=new C,g.prototype.constructor=g,g.Qb=function(U,Q,se){for(var _e=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)_e[pt-2]=arguments[pt];return T.prototype[Q].apply(U,_e)}}function E(g){const T=g.length;if(0<T){const C=Array(T);for(let U=0;U<T;U++)C[U]=g[U];return C}return[]}function S(g,T){for(let C=1;C<arguments.length;C++){const U=arguments[C];if(f(U)){const Q=g.length||0,se=U.length||0;g.length=Q+se;for(let _e=0;_e<se;_e++)g[Q+_e]=U[_e]}else g.push(U)}}class O{constructor(T,C){this.i=T,this.j=C,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function R(g){return/^[\s\xa0]*$/.test(g)}function P(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function V(g){return V[" "](g),g}V[" "]=function(){};var D=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function j(g,T,C){for(const U in g)T.call(C,g[U],U,g)}function k(g,T){for(const C in g)T.call(void 0,g[C],C,g)}function I(g){const T={};for(const C in g)T[C]=g[C];return T}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(g,T){let C,U;for(let Q=1;Q<arguments.length;Q++){U=arguments[Q];for(C in U)g[C]=U[C];for(let se=0;se<L.length;se++)C=L[se],Object.prototype.hasOwnProperty.call(U,C)&&(g[C]=U[C])}}function z(g){var T=1;g=g.split(":");const C=[];for(;0<T&&g.length;)C.push(g.shift()),T--;return g.length&&C.push(g.join(":")),C}function B(g){u.setTimeout(()=>{throw g},0)}function M(){var g=Se;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class le{constructor(){this.h=this.g=null}add(T,C){const U=be.get();U.set(T,C),this.h?this.h.next=U:this.g=U,this.h=U}}var be=new O(()=>new G,g=>g.reset());class G{constructor(){this.next=this.g=this.h=null}set(T,C){this.h=T,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ve=!1,Se=new le,H=()=>{const g=u.Promise.resolve(void 0);ae=()=>{g.then(oe)}};var oe=()=>{for(var g;g=M();){try{g.h.call(g.g)}catch(C){B(C)}var T=be;T.j(g),100>T.h&&(T.h++,g.next=T.g,T.g=g)}ve=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Pe=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const C=()=>{};u.addEventListener("test",C,T),u.removeEventListener("test",C,T)}catch{}return g})();function $e(g,T){if(me.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var C=this.type=g.type,U=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget){if(D){e:{try{V(T.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(T=null)}}else C=="mouseover"?T=g.fromElement:C=="mouseout"&&(T=g.toElement);this.relatedTarget=T,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ve[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&$e.aa.h.call(this)}}x($e,me);var Ve={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var on="closure_listenable_"+(1e6*Math.random()|0),Ot=0;function we(g,T,C,U,Q){this.listener=g,this.proxy=null,this.src=T,this.type=C,this.capture=!!U,this.ha=Q,this.key=++Ot,this.da=this.fa=!1}function De(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ke(g){this.src=g,this.g={},this.h=0}Ke.prototype.add=function(g,T,C,U,Q){var se=g.toString();g=this.g[se],g||(g=this.g[se]=[],this.h++);var _e=Jt(g,T,U,Q);return-1<_e?(T=g[_e],C||(T.fa=!1)):(T=new we(T,this.src,se,!!U,Q),T.fa=C,g.push(T)),T};function pe(g,T){var C=T.type;if(C in g.g){var U=g.g[C],Q=Array.prototype.indexOf.call(U,T,void 0),se;(se=0<=Q)&&Array.prototype.splice.call(U,Q,1),se&&(De(T),g.g[C].length==0&&(delete g.g[C],g.h--))}}function Jt(g,T,C,U){for(var Q=0;Q<g.length;++Q){var se=g[Q];if(!se.da&&se.listener==T&&se.capture==!!C&&se.ha==U)return Q}return-1}var et="closure_lm_"+(1e6*Math.random()|0),dn={};function vn(g,T,C,U,Q){if(Array.isArray(T)){for(var se=0;se<T.length;se++)vn(g,T[se],C,U,Q);return null}return C=zs(C),g&&g[on]?g.K(T,C,d(U)?!!U.capture:!1,Q):nn(g,T,C,!1,U,Q)}function nn(g,T,C,U,Q,se){if(!T)throw Error("Invalid event type");var _e=d(Q)?!!Q.capture:!!Q,pt=hi(g);if(pt||(g[et]=pt=new Ke(g)),C=pt.add(T,C,U,_e,se),C.proxy)return C;if(U=Vs(),C.proxy=U,U.src=g,U.listener=C,g.addEventListener)Pe||(Q=_e),Q===void 0&&(Q=!1),g.addEventListener(T.toString(),U,Q);else if(g.attachEvent)g.attachEvent(Fa(T.toString()),U);else if(g.addListener&&g.removeListener)g.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Vs(){function g(C){return T.call(g.src,g.listener,C)}const T=qi;return g}function rl(g,T,C,U,Q){if(Array.isArray(T))for(var se=0;se<T.length;se++)rl(g,T[se],C,U,Q);else U=d(U)?!!U.capture:!!U,C=zs(C),g&&g[on]?(g=g.i,T=String(T).toString(),T in g.g&&(se=g.g[T],C=Jt(se,C,U,Q),-1<C&&(De(se[C]),Array.prototype.splice.call(se,C,1),se.length==0&&(delete g.g[T],g.h--)))):g&&(g=hi(g))&&(T=g.g[T.toString()],g=-1,T&&(g=Jt(T,C,U,Q)),(C=-1<g?T[g]:null)&&Us(C))}function Us(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[on])pe(T.i,g);else{var C=g.type,U=g.proxy;T.removeEventListener?T.removeEventListener(C,U,g.capture):T.detachEvent?T.detachEvent(Fa(C),U):T.addListener&&T.removeListener&&T.removeListener(U),(C=hi(T))?(pe(C,g),C.h==0&&(C.src=null,T[et]=null)):De(g)}}}function Fa(g){return g in dn?dn[g]:dn[g]="on"+g}function qi(g,T){if(g.da)g=!0;else{T=new $e(T,this);var C=g.listener,U=g.ha||g.src;g.fa&&Us(g),g=C.call(U,T)}return g}function hi(g){return g=g[et],g instanceof Ke?g:null}var Bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function zs(g){return typeof g=="function"?g:(g[Bs]||(g[Bs]=function(T){return g.handleEvent(T)}),g[Bs])}function Et(){ie.call(this),this.i=new Ke(this),this.M=this,this.F=null}x(Et,ie),Et.prototype[on]=!0,Et.prototype.removeEventListener=function(g,T,C,U){rl(this,g,T,C,U)};function nt(g,T){var C,U=g.F;if(U)for(C=[];U;U=U.F)C.push(U);if(g=g.M,U=T.type||T,typeof T=="string")T=new me(T,g);else if(T instanceof me)T.target=T.target||g;else{var Q=T;T=new me(U,g),q(T,Q)}if(Q=!0,C)for(var se=C.length-1;0<=se;se--){var _e=T.g=C[se];Q=cr(_e,U,!0,T)&&Q}if(_e=T.g=g,Q=cr(_e,U,!0,T)&&Q,Q=cr(_e,U,!1,T)&&Q,C)for(se=0;se<C.length;se++)_e=T.g=C[se],Q=cr(_e,U,!1,T)&&Q}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var g=this.i,T;for(T in g.g){for(var C=g.g[T],U=0;U<C.length;U++)De(C[U]);delete g.g[T],g.h--}}this.F=null},Et.prototype.K=function(g,T,C,U){return this.i.add(String(g),T,!1,C,U)},Et.prototype.L=function(g,T,C,U){return this.i.add(String(g),T,!0,C,U)};function cr(g,T,C,U){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();for(var Q=!0,se=0;se<T.length;++se){var _e=T[se];if(_e&&!_e.da&&_e.capture==C){var pt=_e.listener,Cn=_e.ha||_e.src;_e.fa&&pe(g.i,_e),Q=pt.call(Cn,U)!==!1&&Q}}return Q&&!U.defaultPrevented}function bn(g,T,C){if(typeof g=="function")C&&(g=y(g,C));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:u.setTimeout(g,T||0)}function Eu(g){g.g=bn(()=>{g.g=null,g.i&&(g.i=!1,Eu(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class mi extends ie{constructor(T,C){super(),this.m=T,this.l=C,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(g){ie.call(this),this.h=g,this.g={}}x(ua,ie);var ca=[];function fa(g){j(g.g,function(T,C){this.g.hasOwnProperty(C)&&Us(T)},g),g.g={}}ua.prototype.N=function(){ua.aa.N.call(this),fa(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qr=u.JSON.stringify,Ha=u.JSON.parse,pi=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function qs(){}qs.prototype.h=null;function Ka(g){return g.h||(g.h=g.i())}function il(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){me.call(this,"d")}x(Fi,me);function Fs(){me.call(this,"c")}x(Fs,me);var wr={},da=null;function ha(){return da=da||new Et}wr.La="serverreachability";function Hs(g){me.call(this,wr.La,g)}x(Hs,me);function K(g){const T=ha();nt(T,new Hs(T))}wr.STAT_EVENT="statevent";function X(g,T){me.call(this,wr.STAT_EVENT,g),this.stat=T}x(X,me);function ee(g){const T=ha();nt(T,new X(T,g))}wr.Ma="timingevent";function de(g,T){me.call(this,wr.Ma,g),this.size=T}x(de,me);function ye(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},T)}function xe(){this.g=!0}xe.prototype.xa=function(){this.g=!1};function Ie(g,T,C,U,Q,se){g.info(function(){if(g.g)if(se)for(var _e="",pt=se.split("&"),Cn=0;Cn<pt.length;Cn++){var gt=pt[Cn].split("=");if(1<gt.length){var qn=gt[0];gt=gt[1];var jn=qn.split("_");_e=2<=jn.length&&jn[1]=="type"?_e+(qn+"="+gt+"&"):_e+(qn+"=redacted&")}}else _e=null;else _e=se;return"XMLHTTP REQ ("+U+") [attempt "+Q+"]: "+T+`
`+C+`
`+_e})}function je(g,T,C,U,Q,se,_e){g.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Q+"]: "+T+`
`+C+`
`+se+" "+_e})}function Ne(g,T,C,U){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+ke(g,C)+(U?" "+U:"")})}function Ue(g,T){g.info(function(){return"TIMEOUT: "+T})}xe.prototype.info=function(){};function ke(g,T){if(!g.g)return T;if(!T)return null;try{var C=JSON.parse(T);if(C){for(g=0;g<C.length;g++)if(Array.isArray(C[g])){var U=C[g];if(!(2>U.length)){var Q=U[1];if(Array.isArray(Q)&&!(1>Q.length)){var se=Q[0];if(se!="noop"&&se!="stop"&&se!="close")for(var _e=1;_e<Q.length;_e++)Q[_e]=""}}}}return qr(C)}catch{return T}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ze={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mt;function Ct(){}x(Ct,qs),Ct.prototype.g=function(){return new XMLHttpRequest},Ct.prototype.i=function(){return{}},mt=new Ct;function St(g,T,C,U){this.j=g,this.i=T,this.l=C,this.R=U||1,this.U=new ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ye}function Ye(){this.i=null,this.g="",this.h=!1}var At={},jr={};function Zn(g,T,C){g.L=1,g.v=ol(Kr(T)),g.m=C,g.P=!0,Bn(g,null)}function Bn(g,T){g.F=Date.now(),Fr(g),g.A=Kr(g.v);var C=g.A,U=g.R;Array.isArray(U)||(U=[String(U)]),Rf(C.i,"t",U),g.C=0,C=g.j.J,g.h=new Ye,g.g=vm(g.j,C?T:null,!g.m),0<g.O&&(g.M=new mi(y(g.Y,g,g.g),g.O)),T=g.U,C=g.g,U=g.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(ca[0]=Q.toString()),Q=ca);for(var se=0;se<Q.length;se++){var _e=vn(C,Q[se],U||T.handleEvent,!1,T.h||T);if(!_e)break;T.g[_e.key]=_e}T=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,T)):(g.u="GET",g.g.ea(g.A,g.u,null,T)),K(),Ie(g.i,g.u,g.A,g.l,g.R,g.m)}St.prototype.ca=function(g){g=g.target;const T=this.M;T&&wi(g)==3?T.j():this.Y(g)},St.prototype.Y=function(g){try{if(g==this.g)e:{const jn=wi(this.g);var T=this.g.Ba();const Za=this.g.Z();if(!(3>jn)&&(jn!=3||this.g&&(this.h.h||this.g.oa()||cm(this.g)))){this.J||jn!=4||T==7||(T==8||0>=Za?K(3):K(2)),Hr(this);var C=this.g.Z();this.X=C;t:if(xr(this)){var U=cm(this.g);g="";var Q=U.length,se=wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),Er(this);var _e="";break t}this.h.i=new u.TextDecoder}for(T=0;T<Q;T++)this.h.h=!0,g+=this.h.i.decode(U[T],{stream:!(se&&T==Q-1)});U.length=0,this.h.g+=g,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=C==200,je(this.i,this.u,this.A,this.l,this.R,jn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Cn=this.g;if((pt=Cn.g?Cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(pt)){var gt=pt;break t}}gt=null}if(C=gt)Ne(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zt(this,C);else{this.o=!1,this.s=3,ee(12),Fe(this),Er(this);break e}}if(this.P){C=!0;let tr;for(;!this.J&&this.C<_e.length;)if(tr=Ks(this,_e),tr==jr){jn==4&&(this.s=4,ee(14),C=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==At){this.s=4,ee(15),Ne(this.i,this.l,_e,"[Invalid Chunk]"),C=!1;break}else Ne(this.i,this.l,tr,null),Zt(this,tr);if(xr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jn!=4||_e.length!=0||this.h.h||(this.s=1,ee(16),C=!1),this.o=this.o&&C,!C)Ne(this.i,this.l,_e,"[Invalid Chunked Response]"),Fe(this),Er(this);else if(0<_e.length&&!this.W){this.W=!0;var qn=this.j;qn.g==this&&qn.ba&&!qn.M&&(qn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),pl(qn),qn.M=!0,ee(11))}}else Ne(this.i,this.l,_e,null),Zt(this,_e);jn==4&&Fe(this),this.o&&!this.J&&(jn==4?pm(this.j,this):(this.o=!1,Fr(this)))}else Av(this.g),C==400&&0<_e.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Fe(this),Er(this)}}}catch{}finally{}};function xr(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Ks(g,T){var C=g.C,U=T.indexOf(`
`,C);return U==-1?jr:(C=Number(T.substring(C,U)),isNaN(C)?At:(U+=1,U+C>T.length?jr:(T=T.slice(U,U+C),g.C=U+C,T)))}St.prototype.cancel=function(){this.J=!0,Fe(this)};function Fr(g){g.S=Date.now()+g.I,yi(g,g.I)}function yi(g,T){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ye(y(g.ba,g),T)}function Hr(g){g.B&&(u.clearTimeout(g.B),g.B=null)}St.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Ue(this.i,this.A),this.L!=2&&(K(),ee(17)),Fe(this),this.s=2,Er(this)):yi(this,this.S-g)};function Er(g){g.j.G==0||g.J||pm(g.j,g)}function Fe(g){Hr(g);var T=g.M;T&&typeof T.ma=="function"&&T.ma(),g.M=null,fa(g.U),g.g&&(T=g.g,g.g=null,T.abort(),T.ma())}function Zt(g,T){try{var C=g.j;if(C.G!=0&&(C.g==g||Gs(C.h,g))){if(!g.K&&Gs(C.h,g)&&C.G==3){try{var U=C.Da.g.parse(T)}catch{U=null}if(Array.isArray(U)&&U.length==3){var Q=U;if(Q[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<g.F)Nu(C),Cu(C);else break e;Df(C),ee(18)}}else C.za=Q[1],0<C.za-C.T&&37500>Q[2]&&C.F&&C.v==0&&!C.C&&(C.C=ye(y(C.Za,C),6e3));if(1>=Ki(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Ja(C,11)}else if((g.K||C.g==g)&&Nu(C),!R(T))for(Q=C.Da.g.parse(T),T=0;T<Q.length;T++){let gt=Q[T];if(C.T=gt[0],gt=gt[1],C.G==2)if(gt[0]=="c"){C.K=gt[1],C.ia=gt[2];const qn=gt[3];qn!=null&&(C.la=qn,C.j.info("VER="+C.la));const jn=gt[4];jn!=null&&(C.Aa=jn,C.j.info("SVER="+C.Aa));const Za=gt[5];Za!=null&&typeof Za=="number"&&0<Za&&(U=1.5*Za,C.L=U,C.j.info("backChannelRequestTimeoutMs_="+U)),U=C;const tr=g.g;if(tr){const _a=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var se=U.h;se.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ws(se,se.h),se.h=null))}if(U.D){const Mf=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Mf&&(U.ya=Mf,Dt(U.I,U.D,Mf))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-g.F,C.j.info("Handshake RTT: "+C.R+"ms")),U=C;var _e=g;if(U.qa=ym(U,U.J?U.ia:null,U.W),_e.K){Sr(U.h,_e);var pt=_e,Cn=U.L;Cn&&(pt.I=Cn),pt.B&&(Hr(pt),Fr(pt)),U.g=_e}else hm(U);0<C.i.length&&ju(C)}else gt[0]!="stop"&&gt[0]!="close"||Ja(C,7);else C.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?Ja(C,7):Nf(C):gt[0]!="noop"&&C.l&&C.l.ta(gt),C.v=0)}}K(4)}catch{}}var Hi=class{constructor(g,T){this.g=g,this.map=T}};function er(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ht(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ki(g){return g.h?1:g.g?g.g.size:0}function Gs(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Ws(g,T){g.g?g.g.add(T):g.h=T}function Sr(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}er.prototype.cancel=function(){if(this.i=Af(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Af(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const C of g.g.values())T=T.concat(C.D);return T}return E(g.i)}function wv(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(f(g)){for(var T=[],C=g.length,U=0;U<C;U++)T.push(g[U]);return T}T=[],C=0;for(U in g)T[C++]=g[U];return T}function Su(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(f(g)||typeof g=="string"){var T=[];g=g.length;for(var C=0;C<g;C++)T.push(C);return T}T=[],C=0;for(const U in g)T[C++]=U;return T}}}function Tf(g,T){if(g.forEach&&typeof g.forEach=="function")g.forEach(T,void 0);else if(f(g)||typeof g=="string")Array.prototype.forEach.call(g,T,void 0);else for(var C=Su(g),U=wv(g),Q=U.length,se=0;se<Q;se++)T.call(void 0,U[se],C&&C[se],g)}var al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xv(g,T){if(g){g=g.split("&");for(var C=0;C<g.length;C++){var U=g[C].indexOf("="),Q=null;if(0<=U){var se=g[C].substring(0,U);Q=g[C].substring(U+1)}else se=g[C];T(se,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function _n(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof _n){this.h=g.h,sl(this,g.j),this.o=g.o,this.g=g.g,Ys(this,g.s),this.l=g.l;var T=g.i,C=new Wa;C.i=T.i,T.g&&(C.g=new Map(T.g),C.h=T.h),Ga(this,C),this.m=g.m}else g&&(T=String(g).match(al))?(this.h=!1,sl(this,T[1]||"",!0),this.o=vi(T[2]||""),this.g=vi(T[3]||"",!0),Ys(this,T[4]),this.l=vi(T[5]||"",!0),Ga(this,T[6]||"",!0),this.m=vi(T[7]||"")):(this.h=!1,this.i=new Wa(null,this.h))}_n.prototype.toString=function(){var g=[],T=this.j;T&&g.push(ll(T,Of,!0),":");var C=this.g;return(C||T=="file")&&(g.push("//"),(T=this.o)&&g.push(ll(T,Of,!0),"@"),g.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&g.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&g.push("/"),g.push(ll(C,C.charAt(0)=="/"?Ev:Pf,!0))),(C=this.i.toString())&&g.push("?",C),(C=this.m)&&g.push("#",ll(C,Au)),g.join("")};function Kr(g){return new _n(g)}function sl(g,T,C){g.j=C?vi(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function Ys(g,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);g.s=T}else g.s=null}function Ga(g,T,C){T instanceof Wa?(g.i=T,lm(g.i,g.h)):(C||(T=ll(T,Sv)),g.i=new Wa(T,g.h))}function Dt(g,T,C){g.i.set(T,C)}function ol(g){return Dt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function vi(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ll(g,T,C){return typeof g=="string"?(g=encodeURI(g).replace(T,om),C&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function om(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Of=/[#\/\?@]/g,Pf=/[#\?:]/g,Ev=/[#\?]/g,Sv=/[#\?@]/g,Au=/#/g;function Wa(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function bi(g){g.g||(g.g=new Map,g.h=0,g.i&&xv(g.i,function(T,C){g.add(decodeURIComponent(T.replace(/\+/g," ")),C)}))}t=Wa.prototype,t.add=function(g,T){bi(this),this.i=null,g=ma(this,g);var C=this.g.get(g);return C||this.g.set(g,C=[]),C.push(T),this.h+=1,this};function Ya(g,T){bi(g),T=ma(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function Xa(g,T){return bi(g),T=ma(g,T),g.g.has(T)}t.forEach=function(g,T){bi(this),this.g.forEach(function(C,U){C.forEach(function(Q){g.call(T,Q,U,this)},this)},this)},t.na=function(){bi(this);const g=Array.from(this.g.values()),T=Array.from(this.g.keys()),C=[];for(let U=0;U<T.length;U++){const Q=g[U];for(let se=0;se<Q.length;se++)C.push(T[U])}return C},t.V=function(g){bi(this);let T=[];if(typeof g=="string")Xa(this,g)&&(T=T.concat(this.g.get(ma(this,g))));else{g=Array.from(this.g.values());for(let C=0;C<g.length;C++)T=T.concat(g[C])}return T},t.set=function(g,T){return bi(this),this.i=null,g=ma(this,g),Xa(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=this.V(g),0<g.length?String(g[0]):T):T};function Rf(g,T,C){Ya(g,T),0<C.length&&(g.i=null,g.g.set(ma(g,T),E(C)),g.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(var C=0;C<T.length;C++){var U=T[C];const se=encodeURIComponent(String(U)),_e=this.V(U);for(U=0;U<_e.length;U++){var Q=se;_e[U]!==""&&(Q+="="+encodeURIComponent(String(_e[U]))),g.push(Q)}}return this.i=g.join("&")};function ma(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function lm(g,T){T&&!g.j&&(bi(g),g.i=null,g.g.forEach(function(C,U){var Q=U.toLowerCase();U!=Q&&(Ya(this,U),Rf(this,Q,C))},g)),g.j=T}function ul(g,T){const C=new xe;if(u.Image){const U=new Image;U.onload=b(_i,C,"TestLoadImage: loaded",!0,T,U),U.onerror=b(_i,C,"TestLoadImage: error",!1,T,U),U.onabort=b(_i,C,"TestLoadImage: abort",!1,T,U),U.ontimeout=b(_i,C,"TestLoadImage: timeout",!1,T,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=g}else T(!1)}function Gi(g,T){const C=new xe,U=new AbortController,Q=setTimeout(()=>{U.abort(),_i(C,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:U.signal}).then(se=>{clearTimeout(Q),se.ok?_i(C,"TestPingServer: ok",!0,T):_i(C,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Q),_i(C,"TestPingServer: error",!1,T)})}function _i(g,T,C,U,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),U(C)}catch{}}function cl(){this.g=new pi}function pa(g,T,C){const U=C||"";try{Tf(g,function(Q,se){let _e=Q;d(Q)&&(_e=qr(Q)),T.push(U+se+"="+encodeURIComponent(_e))})}catch(Q){throw T.push(U+"type="+encodeURIComponent("_badmap")),Q}}function Xs(g){this.l=g.Ub||null,this.j=g.eb||!1}x(Xs,qs),Xs.prototype.g=function(){return new Qa(this.l,this.j)},Xs.prototype.i=(function(g){return function(){return g}})({});function Qa(g,T){Et.call(this),this.D=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Qa,Et),t=Qa.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=T,this.readyState=1,ya(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(T.body=g),(this.D||u).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ga(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cf(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cf(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?ga(this):ya(this),this.readyState==3&&Cf(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,ga(this))},t.Qa=function(g){this.g&&(this.response=g,ga(this))},t.ga=function(){this.g&&ga(this)};function ga(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ya(g)}t.setRequestHeader=function(g,T){this.u.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var C=T.next();!C.done;)C=C.value,g.push(C[0]+": "+C[1]),C=T.next();return g.join(`\r
`)};function ya(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function jf(g){let T="";return j(g,function(C,U){T+=U,T+=":",T+=C,T+=`\r
`}),T}function zn(g,T,C){e:{for(U in C){var U=!1;break e}U=!0}U||(C=jf(C),typeof g=="string"?C!=null&&encodeURIComponent(String(C)):Dt(g,T,C))}function Pt(g){Et.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Pt,Et);var Tu=/^https?$/i,fl=["POST","PUT"];t=Pt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,T,C,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mt.g(),this.v=this.o?Ka(this.o):Ka(mt),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(se){um(this,se);return}if(g=C||"",C=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Q in U)C.set(Q,U[Q]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const se of U.keys())C.set(se,U.get(se));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(C.keys()).find(se=>se.toLowerCase()=="content-type"),Q=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(fl,T,void 0))||U||Q||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,_e]of C)this.g.setRequestHeader(se,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dl(this),this.u=!0,this.g.send(g),this.u=!1}catch(se){um(this,se)}};function um(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.m=5,Ou(g),va(g)}function Ou(g){g.A||(g.A=!0,nt(g,"complete"),nt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,nt(this,"complete"),nt(this,"abort"),va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),va(this,!0)),Pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pu(this):this.bb())},t.bb=function(){Pu(this)};function Pu(g){if(g.h&&typeof o<"u"&&(!g.v[1]||wi(g)!=4||g.Z()!=2)){if(g.u&&wi(g)==4)bn(g.Ea,0,g);else if(nt(g,"readystatechange"),wi(g)==4){g.h=!1;try{const _e=g.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var C;if(!(C=T)){var U;if(U=_e===0){var Q=String(g.D).match(al)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),U=!Tu.test(Q?Q.toLowerCase():"")}C=U}if(C)nt(g,"complete"),nt(g,"success");else{g.m=6;try{var se=2<wi(g)?g.g.statusText:""}catch{se=""}g.l=se+" ["+g.Z()+"]",Ou(g)}}finally{va(g)}}}}function va(g,T){if(g.g){dl(g);const C=g.g,U=g.v[0]?()=>{}:null;g.g=null,g.v=null,T||nt(g,"ready");try{C.onreadystatechange=U}catch{}}}function dl(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function wi(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),Ha(T)}};function cm(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Av(g){const T={};g=(g.g&&2<=wi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<g.length;U++){if(R(g[U]))continue;var C=z(g[U]);const Q=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const se=T[Q]||[];T[Q]=se,se.push(C)}k(T,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hl(g,T,C){return C&&C.internalChannelParams&&C.internalChannelParams[g]||T}function Ru(g){this.Aa=0,this.i=[],this.j=new xe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hl("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hl("baseRetryDelayMs",5e3,g),this.cb=hl("retryDelaySeedMs",1e4,g),this.Wa=hl("forwardChannelMaxRetries",2,g),this.wa=hl("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new er(g&&g.concurrentRequestLimit),this.Da=new cl,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ru.prototype,t.la=8,t.G=1,t.connect=function(g,T,C,U){ee(0),this.W=g,this.H=T||{},C&&U!==void 0&&(this.H.OSID=C,this.H.OAID=U),this.F=this.X,this.I=ym(this,null,this.W),ju(this)};function Nf(g){if(fm(g),g.G==3){var T=g.U++,C=Kr(g.I);if(Dt(C,"SID",g.K),Dt(C,"RID",T),Dt(C,"TYPE","terminate"),ml(g,C),T=new St(g,g.j,T),T.L=2,T.v=ol(Kr(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(T.v.toString(),"")}catch{}!C&&u.Image&&(new Image().src=T.v,C=!0),C||(T.g=vm(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Fr(T)}gm(g)}function Cu(g){g.g&&(pl(g),g.g.cancel(),g.g=null)}function fm(g){Cu(g),g.u&&(u.clearTimeout(g.u),g.u=null),Nu(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function ju(g){if(!Ht(g.h)&&!g.s){g.s=!0;var T=g.Ga;ae||H(),ve||(ae(),ve=!0),Se.add(T,g),g.B=0}}function Tv(g,T){return Ki(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=T.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ye(y(g.Ga,g,T),If(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Q=new St(this,this.j,g);let se=this.o;if(this.S&&(se?(se=I(se),q(se,this.S)):se=this.S),this.m!==null||this.O||(Q.H=se,se=null),this.P)e:{for(var T=0,C=0;C<this.i.length;C++){t:{var U=this.i[C];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(T+=U,4096<T){T=C;break e}if(T===4096||C===this.i.length-1){T=C+1;break e}}T=1e3}else T=1e3;T=dm(this,Q,T),C=Kr(this.I),Dt(C,"RID",g),Dt(C,"CVER",22),this.D&&Dt(C,"X-HTTP-Session-Id",this.D),ml(this,C),se&&(this.O?T="headers="+encodeURIComponent(String(jf(se)))+"&"+T:this.m&&zn(C,this.m,se)),Ws(this.h,Q),this.Ua&&Dt(C,"TYPE","init"),this.P?(Dt(C,"$req",T),Dt(C,"SID","null"),Q.T=!0,Zn(Q,C,null)):Zn(Q,C,T),this.G=2}}else this.G==3&&(g?kf(this,g):this.i.length==0||Ht(this.h)||kf(this))};function kf(g,T){var C;T?C=T.l:C=g.U++;const U=Kr(g.I);Dt(U,"SID",g.K),Dt(U,"RID",C),Dt(U,"AID",g.T),ml(g,U),g.m&&g.o&&zn(U,g.m,g.o),C=new St(g,g.j,C,g.B+1),g.m===null&&(C.H=g.o),T&&(g.i=T.D.concat(g.i)),T=dm(g,C,1e3),C.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Ws(g.h,C),Zn(C,U,T)}function ml(g,T){g.H&&j(g.H,function(C,U){Dt(T,U,C)}),g.l&&Tf({},function(C,U){Dt(T,U,C)})}function dm(g,T,C){C=Math.min(g.i.length,C);var U=g.l?y(g.l.Na,g.l,g):null;e:{var Q=g.i;let se=-1;for(;;){const _e=["count="+C];se==-1?0<C?(se=Q[0].g,_e.push("ofs="+se)):se=0:_e.push("ofs="+se);let pt=!0;for(let Cn=0;Cn<C;Cn++){let gt=Q[Cn].g;const qn=Q[Cn].map;if(gt-=se,0>gt)se=Math.max(0,Q[Cn].g-100),pt=!1;else try{pa(qn,_e,"req"+gt+"_")}catch{U&&U(qn)}}if(pt){U=_e.join("&");break e}}}return g=g.i.splice(0,C),T.D=g,U}function hm(g){if(!g.g&&!g.u){g.Y=1;var T=g.Fa;ae||H(),ve||(ae(),ve=!0),Se.add(T,g),g.v=0}}function Df(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ye(y(g.Fa,g),If(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,mm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ye(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Cu(this),mm(this))};function pl(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function mm(g){g.g=new St(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var T=Kr(g.qa);Dt(T,"RID","rpc"),Dt(T,"SID",g.K),Dt(T,"AID",g.T),Dt(T,"CI",g.F?"0":"1"),!g.F&&g.ja&&Dt(T,"TO",g.ja),Dt(T,"TYPE","xmlhttp"),ml(g,T),g.m&&g.o&&zn(T,g.m,g.o),g.L&&(g.g.I=g.L);var C=g.g;g=g.ia,C.L=1,C.v=ol(Kr(T)),C.m=null,C.P=!0,Bn(C,g)}t.Za=function(){this.C!=null&&(this.C=null,Cu(this),Df(this),ee(19))};function Nu(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function pm(g,T){var C=null;if(g.g==T){Nu(g),pl(g),g.g=null;var U=2}else if(Gs(g.h,T))C=T.D,Sr(g.h,T),U=1;else return;if(g.G!=0){if(T.o)if(U==1){C=T.m?T.m.length:0,T=Date.now()-T.F;var Q=g.B;U=ha(),nt(U,new de(U,C)),ju(g)}else hm(g);else if(Q=T.s,Q==3||Q==0&&0<T.X||!(U==1&&Tv(g,T)||U==2&&Df(g)))switch(C&&0<C.length&&(T=g.h,T.i=T.i.concat(C)),Q){case 1:Ja(g,5);break;case 4:Ja(g,10);break;case 3:Ja(g,6);break;default:Ja(g,2)}}}function If(g,T){let C=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(C*=2),C*T}function Ja(g,T){if(g.j.info("Error code "+T),T==2){var C=y(g.fb,g),U=g.Xa;const Q=!U;U=new _n(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||sl(U,"https"),ol(U),Q?ul(U.toString(),C):Gi(U.toString(),C)}else ee(2);g.G=0,g.l&&g.l.sa(T),gm(g),fm(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function gm(g){if(g.G=0,g.ka=[],g.l){const T=Af(g.h);(T.length!=0||g.i.length!=0)&&(S(g.ka,T),S(g.ka,g.i),g.h.i.length=0,E(g.i),g.i.length=0),g.l.ra()}}function ym(g,T,C){var U=C instanceof _n?Kr(C):new _n(C);if(U.g!="")T&&(U.g=T+"."+U.g),Ys(U,U.s);else{var Q=u.location;U=Q.protocol,T=T?T+"."+Q.hostname:Q.hostname,Q=+Q.port;var se=new _n(null);U&&sl(se,U),T&&(se.g=T),Q&&Ys(se,Q),C&&(se.l=C),U=se}return C=g.D,T=g.ya,C&&T&&Dt(U,C,T),Dt(U,"VER",g.la),ml(g,U),U}function vm(g,T,C){if(T&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Ca&&!g.pa?new Pt(new Xs({eb:C})):new Pt(g.pa),T.Ha(g.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bm(){}t=bm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ku(){}ku.prototype.g=function(g,T){return new Ar(g,T)};function Ar(g,T){Et.call(this),this.g=new Ru(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(g?g["X-WebChannel-Client-Profile"]=T.va:g={"X-WebChannel-Client-Profile":T.va}),this.g.S=g,(g=T&&T.Sb)&&!R(g)&&(this.g.m=g),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!R(T)&&(this.g.D=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new ba(this)}x(Ar,Et),Ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){Nf(this.g)},Ar.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var C={};C.__data__=g,g=C}else this.u&&(C={},C.__data__=qr(g),g=C);T.i.push(new Hi(T.Ya++,g)),T.G==3&&ju(T)},Ar.prototype.N=function(){this.g.l=null,delete this.j,Nf(this.g),delete this.g,Ar.aa.N.call(this)};function _m(g){Fi.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const C in T){g=C;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}x(_m,Fi);function wm(){Fs.call(this),this.status=1}x(wm,Fs);function ba(g){this.g=g}x(ba,bm),ba.prototype.ua=function(){nt(this.g,"a")},ba.prototype.ta=function(g){nt(this.g,new _m(g))},ba.prototype.sa=function(g){nt(this.g,new wm)},ba.prototype.ra=function(){nt(this.g,"b")},ku.prototype.createWebChannel=ku.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,fI=function(){return new ku},cI=function(){return ha()},uI=wr,Hw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Zp=Re,Ze.COMPLETE="complete",lI=Ze,il.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Ld=il,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,oI=Pt}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});const yR="@firebase/firestore",vR="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=new P1("@firebase/firestore");function wc(){return ru.logLevel}function Ae(t,...e){if(ru.logLevel<=bt.DEBUG){const n=e.map(C1);ru.debug(`Firestore (${af}): ${t}`,...n)}}function ws(t,...e){if(ru.logLevel<=bt.ERROR){const n=e.map(C1);ru.error(`Firestore (${af}): ${t}`,...n)}}function Lc(t,...e){if(ru.logLevel<=bt.WARN){const n=e.map(C1);ru.warn(`Firestore (${af}): ${t}`,...n)}}function C1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dI(t,r,n)}function dI(t,e,n){let r=`FIRESTORE (${af}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ws(r),new Error(r)}function Rt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||dI(e,i,r)}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends hu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pr.UNAUTHENTICATED)))}shutdown(){}}class k8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class D8{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Rt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Mo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Mo,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Mo)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string",31837,{l:r}),new hI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string",2055,{h:e}),new pr(e)}}class I8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new I8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tI(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Rt(this.o===void 0,3512);const r=a=>{a.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bR(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=$8(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function dt(t,e){return t<e?-1:t>e?1:0}function Kw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Nb(i)===Nb(a)?dt(i,a):Nb(i)?1:-1}return dt(t.length,e.length)}const V8=55296,U8=57343;function Nb(t){const e=t.charCodeAt(0);return e>=V8&&e<=U8}function $c(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="__name__";class Oa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Oa.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return dt(e.length,n.length)}static compareSegments(e,n){const r=Oa.isNumericId(e),i=Oa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Oa.extractNumericId(e).compare(Oa.extractNumericId(n)):Kw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}}class an extends Oa{construct(e,n,r){return new an(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new an(n)}static emptyPath(){return new an([])}}const B8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends Oa{construct(e,n,r){return new lr(e,n,r)}static isValidIdentifier(e){return B8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_R}static keyField(){return new lr([_R])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Le(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Le(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Le(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Le(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lr(n)}static emptyPath(){return new lr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(an.fromString(e))}static fromName(e){return new ze(an.fromString(e).popFirst(5))}static empty(){return new ze(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&an.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return an.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new an(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t,e,n){if(!n)throw new Le(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q8(t,e,n,r){if(e===!0&&r===!0)throw new Le(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wR(t){if(!ze.isDocumentKey(t))throw new Le(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function N1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function uh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=N1(t);throw new Le(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lh(t,e){if(!mI(t))throw new Le(ge.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Le(ge.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=-62135596800,ER=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ER);return new Xt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xR)throw new Le(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ER}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lh(e,Xt._jsonSchema))return new Xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xt._jsonSchemaVersion="firestore/timestamp/1.0",Xt._jsonSchema={type:Tn("string",Xt._jsonSchemaVersion),seconds:Tn("number"),nanoseconds:Tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Xt(0,0))}static max(){return new Xe(new Xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=-1;function F8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new Xt(n+1,0):new Xt(n,r));return new Vo(i,ze.empty(),e)}function H8(t){return new Vo(t.readTime,t.key,ch)}class Vo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vo(Xe.min(),ze.empty(),ch)}static max(){return new Vo(Xe.max(),ze.empty(),ch)}}function K8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ze.comparator(t.documentKey,e.documentKey),n!==0?n:dt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==G8)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,r)=>{n(e)}))}static reject(e){return new he(((n,r)=>{r(e)}))}static waitFor(e){return new he(((n,r)=>{let i=0,a=0,o=!1;e.forEach((u=>{++i,u.next((()=>{++a,o&&a===i&&n()}),(f=>r(f)))})),o=!0,a===i&&n()}))}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next((i=>i?he.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new he(((r,i)=>{const a=e.length,o=new Array(a);let u=0;for(let f=0;f<a;f++){const d=f;n(e[d]).next((h=>{o[d]=h,++u,u===a&&r(o)}),(h=>i(h)))}}))}static doWhile(e,n){return new he(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Y8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function of(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=-1;function Ey(t){return t==null}function mg(t){return t===0&&1/t==-1/0}function X8(t){return typeof t=="number"&&Number.isInteger(t)&&!mg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="";function Q8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=SR(e)),e=J8(t.get(n),e);return SR(e)}function J8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case pI:n+="";break;default:n+=a}}return n}function SR(t){return t+pI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n){this.comparator=e,this.root=n||sr.EMPTY}insert(e,n){return new sn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tp(this.root,e,this.comparator,!0)}}class Tp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??sr.RED,this.left=i??sr.EMPTY,this.right=a??sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new sr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TR(this.data.getIterator())}getIteratorFrom(e){return new TR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ln(this.comparator);return n.data=e,n}}class TR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new ia([])}unionWith(e){let n=new Ln(lr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ia(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $c(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new yI("Invalid base64 string: "+a):a}})(e);return new ur(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new ur(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const Z8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(t){if(Rt(!!t,39018),typeof t=="string"){let e=0;const n=Z8.exec(t);if(Rt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pn(t.seconds),nanos:pn(t.nanos)}}function pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bo(t){return typeof t=="string"?ur.fromBase64String(t):ur.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="server_timestamp",bI="__type__",_I="__previous_value__",wI="__local_write_time__";function D1(t){return(t?.mapValue?.fields||{})[bI]?.stringValue===vI}function Sy(t){const e=t.mapValue.fields[_I];return D1(e)?Sy(e):e}function fh(t){const e=Uo(t.mapValue.fields[wI].timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e,n,r,i,a,o,u,f,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=h}}const pg="(default)";class dh{constructor(e,n){this.projectId=e,this.database=n||pg}static empty(){return new dh("","")}get isDefaultDatabase(){return this.database===pg}isEqual(e){return e instanceof dh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="__type__",tq="__max__",Op={mapValue:{}},EI="__vector__",gg="value";function zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?D1(t)?4:rq(t)?9007199254740991:nq(t)?10:11:Ge(28295,{value:t})}function $a(t,e){if(t===e)return!0;const n=zo(t);if(n!==zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fh(t).isEqual(fh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Uo(i.timestampValue),u=Uo(a.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Bo(i.bytesValue).isEqual(Bo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return pn(i.geoPointValue.latitude)===pn(a.geoPointValue.latitude)&&pn(i.geoPointValue.longitude)===pn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return pn(i.integerValue)===pn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=pn(i.doubleValue),u=pn(a.doubleValue);return o===u?mg(o)===mg(u):isNaN(o)&&isNaN(u)}return!1})(t,e);case 9:return $c(t.arrayValue.values||[],e.arrayValue.values||[],$a);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},u=a.mapValue.fields||{};if(AR(o)!==AR(u))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(u[f]===void 0||!$a(o[f],u[f])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function hh(t,e){return(t.values||[]).find((n=>$a(n,e)))!==void 0}function Vc(t,e){if(t===e)return 0;const n=zo(t),r=zo(e);if(n!==r)return dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dt(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const u=pn(a.integerValue||a.doubleValue),f=pn(o.integerValue||o.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return OR(t.timestampValue,e.timestampValue);case 4:return OR(fh(t),fh(e));case 5:return Kw(t.stringValue,e.stringValue);case 6:return(function(a,o){const u=Bo(a),f=Bo(o);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const u=a.split("/"),f=o.split("/");for(let d=0;d<u.length&&d<f.length;d++){const h=dt(u[d],f[d]);if(h!==0)return h}return dt(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const u=dt(pn(a.latitude),pn(o.latitude));return u!==0?u:dt(pn(a.longitude),pn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return PR(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const u=a.fields||{},f=o.fields||{},d=u[gg]?.arrayValue,h=f[gg]?.arrayValue,p=dt(d?.values?.length||0,h?.values?.length||0);return p!==0?p:PR(d,h)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===Op.mapValue&&o===Op.mapValue)return 0;if(a===Op.mapValue)return 1;if(o===Op.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),d=o.fields||{},h=Object.keys(d);f.sort(),h.sort();for(let p=0;p<f.length&&p<h.length;++p){const y=Kw(f[p],h[p]);if(y!==0)return y;const b=Vc(u[f[p]],d[h[p]]);if(b!==0)return b}return dt(f.length,h.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function OR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dt(t,e);const n=Uo(t),r=Uo(e),i=dt(n.seconds,r.seconds);return i!==0?i:dt(n.nanos,r.nanos)}function PR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Vc(n[i],r[i]);if(a)return a}return dt(n.length,r.length)}function Uc(t){return Gw(t)}function Gw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Uo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Bo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ze.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Gw(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${Gw(n.fields[o])}`;return i+"}"})(t.mapValue):Ge(61005,{value:t})}function eg(t){switch(zo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sy(t);return e?16+eg(e):16;case 5:return 2*t.stringValue.length;case 6:return Bo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+eg(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return mu(r.fields,((a,o)=>{i+=a.length+eg(o)})),i})(t.mapValue);default:throw Ge(13486,{value:t})}}function Ww(t){return!!t&&"integerValue"in t}function I1(t){return!!t&&"arrayValue"in t}function RR(t){return!!t&&"nullValue"in t}function CR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tg(t){return!!t&&"mapValue"in t}function nq(t){return(t?.mapValue?.fields||{})[xI]?.stringValue===EI}function Hd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return mu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Hd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hd(t.arrayValue.values[n]);return e}return{...t}}function rq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hd(n)}setAll(e){let n=lr.emptyPath(),r={},i=[];e.forEach(((o,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=Hd(o):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());tg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $a(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];tg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mu(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Ii(Hd(this.value))}}function SI(t){const e=[];return mu(t.fields,((n,r)=>{const i=new lr([n]);if(tg(r)){const a=SI(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new ia(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,i,a,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}static newInvalidDocument(e){return new yr(e,0,Xe.min(),Xe.min(),Xe.min(),Ii.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,Xe.min(),Xe.min(),Ii.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,Xe.min(),Xe.min(),Ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.position=e,this.inclusive=n}}function jR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=ze.comparator(ze.fromName(o.referenceValue),n.key):r=Vc(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function NR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$a(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n="asc"){this.field=e,this.dir=n}}function iq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{}class Mn extends AI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sq(e,n,r):n==="array-contains"?new uq(e,r):n==="in"?new cq(e,r):n==="not-in"?new fq(e,r):n==="array-contains-any"?new dq(e,r):new Mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oq(e,r):new lq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vc(n,this.value)):n!==null&&zo(this.value)===zo(n)&&this.matchesComparison(Vc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Va extends AI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Va(e,n)}matches(e){return TI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TI(t){return t.op==="and"}function OI(t){return aq(t)&&TI(t)}function aq(t){for(const e of t.filters)if(e instanceof Va)return!1;return!0}function Yw(t){if(t instanceof Mn)return t.field.canonicalString()+t.op.toString()+Uc(t.value);if(OI(t))return t.filters.map((e=>Yw(e))).join(",");{const e=t.filters.map((n=>Yw(n))).join(",");return`${t.op}(${e})`}}function PI(t,e){return t instanceof Mn?(function(r,i){return i instanceof Mn&&r.op===i.op&&r.field.isEqual(i.field)&&$a(r.value,i.value)})(t,e):t instanceof Va?(function(r,i){return i instanceof Va&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,u)=>a&&PI(o,i.filters[u])),!0):!1})(t,e):void Ge(19439)}function RI(t){return t instanceof Mn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Uc(n.value)}`})(t):t instanceof Va?(function(n){return n.op.toString()+" {"+n.getFilters().map(RI).join(" ,")+"}"})(t):"Filter"}class sq extends Mn{constructor(e,n,r){super(e,n,r),this.key=ze.fromName(r.referenceValue)}matches(e){const n=ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class oq extends Mn{constructor(e,n){super(e,"in",n),this.keys=CI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class lq extends Mn{constructor(e,n){super(e,"not-in",n),this.keys=CI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function CI(t,e){return(e.arrayValue?.values||[]).map((n=>ze.fromName(n.referenceValue)))}class uq extends Mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return I1(n)&&hh(n.arrayValue,this.value)}}class cq extends Mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hh(this.value.arrayValue,n)}}class fq extends Mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hh(this.value.arrayValue,n)}}class dq extends Mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!I1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>hh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,n=null,r=[],i=[],a=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.Te=null}}function kR(t,e=null,n=[],r=[],i=null,a=null,o=null){return new hq(t,e,n,r,i,a,o)}function M1(t){const e=Je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Yw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Ey(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Uc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Uc(r))).join(",")),e.Te=n}return e.Te}function L1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NR(t.startAt,e.startAt)&&NR(t.endAt,e.endAt)}function Xw(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n=null,r=[],i=[],a=null,o="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mq(t,e,n,r,i,a,o,u){return new Ay(t,e,n,r,i,a,o,u)}function $1(t){return new Ay(t)}function DR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pq(t){return t.collectionGroup!==null}function Kd(t){const e=Je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Ln(lr.comparator);return o.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new vg(a,r))})),n.has(lr.keyField().canonicalString())||e.Ie.push(new vg(lr.keyField(),r))}return e.Ie}function ka(t){const e=Je(t);return e.Ee||(e.Ee=gq(e,Kd(t))),e.Ee}function gq(t,e){if(t.limitType==="F")return kR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new vg(i.field,a)}));const n=t.endAt?new yg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yg(t.startAt.position,t.startAt.inclusive):null;return kR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qw(t,e,n){return new Ay(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ty(t,e){return L1(ka(t),ka(e))&&t.limitType===e.limitType}function jI(t){return`${M1(ka(t))}|lt:${t.limitType}`}function xc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>RI(i))).join(", ")}]`),Ey(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Uc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Uc(i))).join(",")),`Target(${r})`})(ka(t))}; limitType=${t.limitType})`}function Oy(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ze.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Kd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,u,f){const d=jR(o,u,f);return o.inclusive?d<=0:d<0})(r.startAt,Kd(r),i)||r.endAt&&!(function(o,u,f){const d=jR(o,u,f);return o.inclusive?d>=0:d>0})(r.endAt,Kd(r),i))})(t,e)}function yq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NI(t){return(e,n)=>{let r=!1;for(const i of Kd(t)){const a=vq(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function vq(t,e,n){const r=t.field.isKeyField()?ze.comparator(e.key,n.key):(function(a,o,u){const f=o.data.field(a),d=u.data.field(a);return f!==null&&d!==null?Vc(f,d):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mu(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return gI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq=new sn(ze.comparator);function xs(){return bq}const kI=new sn(ze.comparator);function $d(...t){let e=kI;for(const n of t)e=e.insert(n.key,n);return e}function DI(t){let e=kI;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ql(){return Gd()}function II(){return Gd()}function Gd(){return new pu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const _q=new sn(ze.comparator),wq=new Ln(ze.comparator);function ht(...t){let e=wq;for(const n of t)e=e.add(n);return e}const xq=new Ln(dt);function Eq(){return xq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mg(e)?"-0":e}}function MI(t){return{integerValue:""+t}}function Sq(t,e){return X8(e)?MI(e):V1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this._=void 0}}function Aq(t,e,n){return t instanceof bg?(function(i,a){const o={fields:{[bI]:{stringValue:vI},[wI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&D1(a)&&(a=Sy(a)),a&&(o.fields[_I]=a),{mapValue:o}})(n,e):t instanceof mh?$I(t,e):t instanceof ph?VI(t,e):(function(i,a){const o=LI(i,a),u=IR(o)+IR(i.Ae);return Ww(o)&&Ww(i.Ae)?MI(u):V1(i.serializer,u)})(t,e)}function Tq(t,e,n){return t instanceof mh?$I(t,e):t instanceof ph?VI(t,e):n}function LI(t,e){return t instanceof _g?(function(r){return Ww(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class bg extends Py{}class mh extends Py{constructor(e){super(),this.elements=e}}function $I(t,e){const n=UI(e);for(const r of t.elements)n.some((i=>$a(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ph extends Py{constructor(e){super(),this.elements=e}}function VI(t,e){let n=UI(e);for(const r of t.elements)n=n.filter((i=>!$a(i,r)));return{arrayValue:{values:n}}}class _g extends Py{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function IR(t){return pn(t.integerValue||t.doubleValue)}function UI(t){return I1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Oq(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof mh&&i instanceof mh||r instanceof ph&&i instanceof ph?$c(r.elements,i.elements,$a):r instanceof _g&&i instanceof _g?$a(r.Ae,i.Ae):r instanceof bg&&i instanceof bg})(t.transform,e.transform)}class Pq{constructor(e,n){this.version=e,this.transformResults=n}}class ys{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ng(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ry{}function BI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qI(t.key,ys.none()):new $h(t.key,t.data,ys.none());{const n=t.data,r=Ii.empty();let i=new Ln(lr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new gu(t.key,r,new ia(i.toArray()),ys.none())}}function Rq(t,e,n){t instanceof $h?(function(i,a,o){const u=i.value.clone(),f=LR(i.fieldTransforms,a,o.transformResults);u.setAll(f),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):t instanceof gu?(function(i,a,o){if(!ng(i.precondition,a))return void a.convertToUnknownDocument(o.version);const u=LR(i.fieldTransforms,a,o.transformResults),f=a.data;f.setAll(zI(i)),f.setAll(u),a.convertToFoundDocument(o.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Wd(t,e,n,r){return t instanceof $h?(function(a,o,u,f){if(!ng(a.precondition,o))return u;const d=a.value.clone(),h=$R(a.fieldTransforms,f,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof gu?(function(a,o,u,f){if(!ng(a.precondition,o))return u;const d=$R(a.fieldTransforms,f,o),h=o.data;return h.setAll(zI(a)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,o,u){return ng(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(t,e,n)}function Cq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=LI(r.transform,i||null);a!=null&&(n===null&&(n=Ii.empty()),n.set(r.field,a))}return n||null}function MR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$c(r,i,((a,o)=>Oq(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $h extends Ry{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gu extends Ry{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function zI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function LR(t,e,n){const r=new Map;Rt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,u=e.data.field(a.field);r.set(a.field,Tq(o,u,n[i]))}return r}function $R(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,Aq(a,o,e))}return r}class qI extends Ry{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jq extends Ry{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Rq(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=II();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let u=this.applyToLocalView(o,a.mutatedFields);u=n.has(i.key)?null:u;const f=BI(o,u);f!==null&&r.set(i.key,f),o.isValidDocument()||o.convertToNoDocument(Xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ht())}isEqual(e){return this.batchId===e.batchId&&$c(this.mutations,e.mutations,((n,r)=>MR(n,r)))&&$c(this.baseMutations,e.baseMutations,((n,r)=>MR(n,r)))}}class U1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return _q})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new U1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,vt;function Iq(t){switch(t){case ge.OK:return Ge(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function FI(t){if(t===void 0)return ws("GRPC error has no .code"),ge.UNKNOWN;switch(t){case En.OK:return ge.OK;case En.CANCELLED:return ge.CANCELLED;case En.UNKNOWN:return ge.UNKNOWN;case En.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case En.INTERNAL:return ge.INTERNAL;case En.UNAVAILABLE:return ge.UNAVAILABLE;case En.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case En.NOT_FOUND:return ge.NOT_FOUND;case En.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case En.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case En.ABORTED:return ge.ABORTED;case En.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case En.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case En.DATA_LOSS:return ge.DATA_LOSS;default:return Ge(39323,{code:t})}}(vt=En||(En={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq=new Io([4294967295,4294967295],0);function VR(t){const e=Mq().encode(t),n=new sI;return n.update(e),new Uint8Array(n.digest())}function UR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Io([n,r],0),new Io([i,a],0)]}class B1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vd(`Invalid padding: ${n}`);if(r<0)throw new Vd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Io.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Io.fromNumber(r)));return i.compare(Lq)===1&&(i=new Io([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VR(e),[r,i]=UR(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new B1(a,i,n);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.ge===0)return;const n=VR(e),[r,i]=UR(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cy(Xe.min(),i,new sn(dt),xs(),ht())}}class Vh{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vh(r,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class HI{constructor(e,n){this.targetId=e,this.Ce=n}}class KI{constructor(e,n,r=ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class BR{constructor(){this.ve=0,this.Fe=zR(),this.Me=ur.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ht(),n=ht(),r=ht();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ge(38017,{changeType:a})}})),new Vh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=zR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $q{constructor(e){this.Ge=e,this.ze=new Map,this.je=xs(),this.Je=Pp(),this.He=Pp(),this.Ye=new sn(dt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Xw(a))if(r===0){const o=new ze(a.path);this.et(n,o,yr.newNoDocument(o,Xe.min()))}else Rt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),f=u?this.ct(u,e,o):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,u;try{o=Bo(r).toUint8Array()}catch(f){if(f instanceof yI)return Lc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new B1(o,i,a)}catch(f){return Lc(f instanceof Vd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const u=this.ot(o);if(u){if(a.current&&Xw(u.target)){const f=new ze(u.target.path);this.It(f).has(o)||this.Et(o,f)||this.et(o,f,yr.newNoDocument(f,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=ht();this.He.forEach(((a,o)=>{let u=!0;o.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new Cy(e,n,this.Ye,this.je,r);return this.je=xs(),this.Je=Pp(),this.He=Pp(),this.Ye=new sn(dt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new BR,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ln(dt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ln(dt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BR),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pp(){return new sn(ze.comparator)}function zR(){return new sn(ze.comparator)}const Vq={asc:"ASCENDING",desc:"DESCENDING"},Uq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bq={and:"AND",or:"OR"};class zq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jw(t,e){return t.useProto3Json||Ey(e)?e:{value:e}}function wg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qq(t,e){return wg(t,e.toTimestamp())}function Da(t){return Rt(!!t,49232),Xe.fromTimestamp((function(n){const r=Uo(n);return new Xt(r.seconds,r.nanos)})(t))}function z1(t,e){return Zw(t,e).canonicalString()}function Zw(t,e){const n=(function(i){return new an(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function WI(t){const e=an.fromString(t);return Rt(ZI(e),10190,{key:e.toString()}),e}function ex(t,e){return z1(t.databaseId,e.path)}function kb(t,e){const n=WI(e);if(n.get(1)!==t.databaseId.projectId)throw new Le(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Le(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ze(XI(n))}function YI(t,e){return z1(t.databaseId,e)}function Fq(t){const e=WI(t);return e.length===4?an.emptyPath():XI(e)}function tx(t){return new an(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XI(t){return Rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qR(t,e,n){return{name:ex(t,e),fields:n.value.mapValue.fields}}function Hq(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ge(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,h){return d.useProto3Json?(Rt(h===void 0||typeof h=="string",58123),ur.fromBase64String(h||"")):(Rt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ur.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(d){const h=d.code===void 0?ge.UNKNOWN:FI(d.code);return new Le(h,d.message||"")})(o);n=new KI(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=kb(t,r.document.name),a=Da(r.document.updateTime),o=r.document.createTime?Da(r.document.createTime):Xe.min(),u=new Ii({mapValue:{fields:r.document.fields}}),f=yr.newFoundDocument(i,a,o,u),d=r.targetIds||[],h=r.removedTargetIds||[];n=new rg(d,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=kb(t,r.document),a=r.readTime?Da(r.readTime):Xe.min(),o=yr.newNoDocument(i,a),u=r.removedTargetIds||[];n=new rg([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=kb(t,r.document),a=r.removedTargetIds||[];n=new rg([],a,i,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new Dq(i,a),u=r.targetId;n=new HI(u,o)}}return n}function Kq(t,e){let n;if(e instanceof $h)n={update:qR(t,e.key,e.value)};else if(e instanceof qI)n={delete:ex(t,e.key)};else if(e instanceof gu)n={update:qR(t,e.key,e.data),updateMask:t7(e.fieldMask)};else{if(!(e instanceof jq))return Ge(16599,{Vt:e.type});n={verify:ex(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const u=o.transform;if(u instanceof bg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof mh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ph)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof _g)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw Ge(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:qq(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ge(27497)})(t,e.precondition)),n}function Gq(t,e){return t&&t.length>0?(Rt(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?Da(i.updateTime):Da(a);return o.isEqual(Xe.min())&&(o=Da(a)),new Pq(o,i.transformResults||[])})(n,e)))):[]}function Wq(t,e){return{documents:[YI(t,e.path)]}}function Yq(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YI(t,i);const a=(function(d){if(d.length!==0)return JI(Va.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(d){if(d.length!==0)return d.map((h=>(function(y){return{field:Ec(y.field),direction:Jq(y.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=Jw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function Xq(t){let e=Fq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(p){const y=QI(p);return y instanceof Va&&OI(y)?y.getFilters():[y]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((y=>(function(x){return new vg(Sc(x.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let y;return y=typeof p=="object"?p.value:p,Ey(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(p){const y=!!p.before,b=p.values||[];return new yg(b,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const y=!p.before,b=p.values||[];return new yg(b,y)})(n.endAt)),mq(e,i,o,a,u,"F",f,d)}function Qq(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sc(n.unaryFilter.field);return Mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Sc(n.unaryFilter.field);return Mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Sc(n.unaryFilter.field);return Mn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Sc(n.unaryFilter.field);return Mn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Mn.create(Sc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Va.create(n.compositeFilter.filters.map((r=>QI(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function Jq(t){return Vq[t]}function Zq(t){return Uq[t]}function e7(t){return Bq[t]}function Ec(t){return{fieldPath:t.canonicalString()}}function Sc(t){return lr.fromServerFormat(t.fieldPath)}function JI(t){return t instanceof Mn?(function(n){if(n.op==="=="){if(CR(n.value))return{unaryFilter:{field:Ec(n.field),op:"IS_NAN"}};if(RR(n.value))return{unaryFilter:{field:Ec(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CR(n.value))return{unaryFilter:{field:Ec(n.field),op:"IS_NOT_NAN"}};if(RR(n.value))return{unaryFilter:{field:Ec(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ec(n.field),op:Zq(n.op),value:n.value}}})(t):t instanceof Va?(function(n){const r=n.getFilters().map((i=>JI(i)));return r.length===1?r[0]:{compositeFilter:{op:e7(n.op),filters:r}}})(t):Ge(54877,{filter:t})}function t7(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ZI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r,i,a=Xe.min(),o=Xe.min(),u=ur.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.yt=e}}function r7(t){const e=Xq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(){this.Cn=new a7}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Vo.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class a7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ln(an.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ln(an.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eM=41943040;class Lr{static withCacheSize(e){return new Lr(e,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr.DEFAULT_COLLECTION_PERCENTILE=10,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lr.DEFAULT=new Lr(eM,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lr.DISABLED=new Lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bc(0)}static cr(){return new Bc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="LruGarbageCollector",s7=1048576;function KR([t,e],[n,r]){const i=dt(t,n);return i===0?dt(e,r):i}class o7{constructor(e){this.Ir=e,this.buffer=new Ln(KR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();KR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class l7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ae(HR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){of(n)?Ae(HR,"Ignoring IndexedDB error during garbage collection: ",n):await sf(n)}await this.Vr(3e5)}))}}class u7{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(xy.ce);const r=new o7(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(FR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,u,f,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),wc()<=bt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(u-o)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${p} documents in `+(d-f)+`ms
Total Duration: ${d-h}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function c7(t,e){return new u7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this.changes=new pu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Wd(r.mutation,i,ia.empty(),Xt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ht()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ht()){const i=ql();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=$d();return a.forEach(((u,f)=>{o=o.insert(u,f.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=ql();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ht())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,u)=>{n.set(o,u)}))}))}computeViews(e,n,r,i){let a=xs();const o=Gd(),u=(function(){return Gd()})();return n.forEach(((f,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof gu)?a=a.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Wd(h.mutation,d,h.mutation.getFieldMask(),Xt.now())):o.set(d.key,ia.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((d,h)=>o.set(d,h))),n.forEach(((d,h)=>u.set(d,new d7(h,o.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Gd();let i=new sn(((o,u)=>o-u)),a=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const u of o)u.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let h=r.get(f)||ia.empty();h=u.applyToLocalView(d,h),r.set(f,h);const p=(i.get(u.batchId)||ht()).add(f);i=i.insert(u.batchId,p)}))})).next((()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,h=f.value,p=II();h.forEach((y=>{if(!a.has(y)){const b=BI(n.get(y),r.get(y));b!==null&&p.set(y,b),a=a.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return he.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return ze.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):he.resolve(ql());let u=ch,f=a;return o.next((d=>he.forEach(d,((h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(h)?he.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{f=f.insert(h,y)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,f,d,ht()))).next((h=>({batchId:u,changes:DI(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ze(n)).next((r=>{let i=$d();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=$d();return this.indexManager.getCollectionParents(e,a).next((u=>he.forEach(u,(f=>{const d=(function(p,y){return new Ay(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((p,y)=>{o=o.insert(p,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((f,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,yr.newInvalidDocument(h)))}));let u=$d();return o.forEach(((f,d)=>{const h=a.get(f);h!==void 0&&Wd(h.mutation,d,ia.empty(),Xt.now()),Oy(n,d)&&(u=u.insert(f,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Da(i.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:r7(i.bundledQuery),readTime:Da(i.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(){this.overlays=new sn(ze.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ql();return he.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),he.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const i=ql(),a=n.length+1,o=new ze(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return he.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new sn(((d,h)=>d-h));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=a.get(d.largestBatchId);h===null&&(h=ql(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const u=ql(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,h)=>u.set(d,h))),!(u.size()>=i)););return he.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kq(n,r));let a=this.qr.get(n);a===void 0&&(a=ht(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(){this.sessionToken=ur.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.Qr=new Ln(Wn.$r),this.Ur=new Ln(Wn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Wn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ze(new an([])),r=new Wn(n,e),i=new Wn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ze(new an([])),r=new Wn(n,e),i=new Wn(n,e+1);let a=ht();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new Wn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ze.comparator(e.key,n.key)||dt(e.Yr,n.Yr)}static Kr(e,n){return dt(e.Yr,n.Yr)||ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ln(Wn.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Nq(a,n,r,i);this.mutationQueue.push(o);for(const u of i)this.Zr=this.Zr.add(new Wn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return he.resolve(o)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?k1:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const u=this.Xr(o.Yr);a.push(u)})),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ln(dt);return n.forEach((i=>{const a=new Wn(i,0),o=new Wn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(u=>{r=r.add(u.Yr)}))})),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ze.isDocumentKey(a)||(a=a.child(""));const o=new Wn(new ze(a),0);let u=new Ln(dt);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(f.Yr)),!0)}),o),he.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(n.mutations,(i=>{const a=new Wn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Wn(n,0),i=this.Zr.firstAfterOrEqual(r);return he.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.ri=e,this.docs=(function(){return new sn(ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=xs();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():yr.newInvalidDocument(i))})),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=xs();const o=n.path,u=new ze(o.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:h}}=f.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||K8(H8(h),r)<=0||(i.has(h.key)||Oy(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ge(9500)}ii(e,n){return he.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new b7(this)}getSize(e){return he.resolve(this.size)}}class b7 extends f7{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e){this.persistence=e,this.si=new pu((n=>M1(n)),L1),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.oi=0,this._i=new q1,this.targetCount=0,this.ai=Bc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Bc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),he.waitFor(a).next((()=>i))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),he.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n){this.ui={},this.overlays={},this.ci=new xy(0),this.li=!1,this.li=!0,this.hi=new g7,this.referenceDelegate=e(this),this.Pi=new _7(this),this.indexManager=new i7,this.remoteDocumentCache=(function(i){return new v7(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new n7(n),this.Ii=new m7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new p7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new y7(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ae("MemoryPersistence","Starting transaction:",e);const i=new w7(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return he.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class w7 extends W8{constructor(e){super(),this.currentSequenceNumber=e}}class F1{constructor(e){this.persistence=e,this.Ri=new q1,this.Vi=null}static mi(e){return new F1(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(r=>{const i=ze.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xg{constructor(e,n){this.persistence=e,this.pi=new pu((r=>Q8(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=c7(this,n)}static mi(e,n){return new xg(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return he.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?he.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((u=>{u||(r++,a.removeEntry(o,Xe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eg(e.data.value)),n}br(e,n,r){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return he.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ht(),i=ht();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new H1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yz()?8:Y8(pz())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new x7;return this.Ss(e,n,o).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,o,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(wc()<=bt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",xc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(wc()<=bt.DEBUG&&Ae("QueryEngine","Query:",xc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(wc()<=bt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",xc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ka(n))):he.resolve())}ys(e,n){if(DR(n))return he.resolve(null);let r=ka(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Qw(n,null,"F"),r=ka(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=ht(...a);return this.ps.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(n,u);return this.Cs(n,d,o,f.readTime)?this.ys(e,Qw(n,null,"F")):this.vs(e,d,n,f)}))))})))))}ws(e,n,r,i){return DR(n)||i.isEqual(Xe.min())?he.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?he.resolve(null):(wc()<=bt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xc(n)),this.vs(e,o,n,F8(i,ch)).next((u=>u)))}))}Ds(e,n){let r=new Ln(NI(e));return n.forEach(((i,a)=>{Oy(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return wc()<=bt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",xc(n)),this.ps.getDocumentsMatchingQuery(e,n,Vo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="LocalStore",S7=3e8;class A7{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new sn(dt),this.xs=new pu((a=>M1(a)),L1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function T7(t,e,n,r){return new A7(t,e,n,r)}async function nM(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],u=[];let f=ht();for(const d of i){o.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}for(const d of a){u.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:u})))}))}))}function O7(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,h){const p=d.batch,y=p.keys();let b=he.resolve();return y.forEach((x=>{b=b.next((()=>h.getEntry(f,x))).next((E=>{const S=d.docVersions.get(x);Rt(S!==null,48541),E.version.compareTo(S)<0&&(p.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),h.addEntry(E)))}))})),b.next((()=>u.mutationQueue.removeMutationBatch(f,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=ht();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function rM(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function P7(t,e){const n=Je(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((h,p)=>{const y=i.get(p);if(!y)return;u.push(n.Pi.removeMatchingKeys(a,h.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,h.addedDocuments,p))));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(ur.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):h.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(h.resumeToken,r)),i=i.insert(p,b),(function(E,S,O){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=S7?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(y,b,h)&&u.push(n.Pi.updateTargetData(a,b))}));let f=xs(),d=ht();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),u.push(R7(a,o,e.documentUpdates).next((h=>{f=h.ks,d=h.qs}))),!r.isEqual(Xe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(h)}return he.waitFor(u).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,d))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function R7(t,e,n){let r=ht(),i=ht();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=xs();return n.forEach(((u,f)=>{const d=a.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(e.removeEntry(u,f.readTime),o=o.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),o=o.insert(u,f)):Ae(K1,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:o,qs:i}}))}function C7(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=k1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function j7(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,he.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new Co(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function nx(t,e,n){const r=Je(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!of(o))throw o;Ae(K1,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function GR(t,e,n){const r=Je(t);let i=Xe.min(),a=ht();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(f,d,h){const p=Je(f),y=p.xs.get(h);return y!==void 0?he.resolve(p.Ms.get(y)):p.Pi.getTargetData(d,h)})(r,o,ka(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Xe.min(),n?a:ht()))).next((u=>(N7(r,yq(e),u),{documents:u,Qs:a})))))}function N7(t,e,n){let r=t.Os.get(e)||Xe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class WR{constructor(){this.activeTargetIds=Eq()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k7{constructor(){this.Mo=new WR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new WR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="ConnectivityMonitor";class XR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ae(YR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ae(YR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp=null;function rx(){return Rp===null?Rp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rp++,"0x"+Rp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="RestConnection",I7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===pg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=rx(),u=this.zo(e,n.toUriEncodedString());Ae(Db,`Sending RPC '${e}' ${o}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:d}=new URL(u),h=O1(d);return this.Jo(e,u,f,r,h).then((p=>(Ae(Db,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Lc(Db,`RPC '${e}' ${o} failed with error: `,p,"url: ",u,"request:",r),p}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+af})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=I7[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class $7 extends M7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=rx();return new Promise(((u,f)=>{const d=new oI;d.setWithCredentials(!0),d.listenOnce(lI.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Zp.NO_ERROR:const p=d.getResponseJson();Ae(hr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),u(p);break;case Zp.TIMEOUT:Ae(hr,`RPC '${e}' ${o} timed out`),f(new Le(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Zp.HTTP_ERROR:const y=d.getStatus();if(Ae(hr,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const x=b?.error;if(x&&x.status&&x.message){const E=(function(O){const R=O.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(R)>=0?R:ge.UNKNOWN})(x.status);f(new Le(E,x.message))}else f(new Le(ge.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Le(ge.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ae(hr,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(i);Ae(hr,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=rx(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fI(),u=cI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const h=a.join("");Ae(hr,`Creating RPC '${e}' stream ${i}: ${h}`,f);const p=o.createWebChannel(h,f);this.I_(p);let y=!1,b=!1;const x=new L7({Yo:S=>{b?Ae(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(y||(Ae(hr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Ae(hr,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),E=(S,O,R)=>{S.listen(O,(P=>{try{R(P)}catch(V){setTimeout((()=>{throw V}),0)}}))};return E(p,Ld.EventType.OPEN,(()=>{b||(Ae(hr,`RPC '${e}' stream ${i} transport opened.`),x.o_())})),E(p,Ld.EventType.CLOSE,(()=>{b||(b=!0,Ae(hr,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(p))})),E(p,Ld.EventType.ERROR,(S=>{b||(b=!0,Lc(hr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),x.a_(new Le(ge.UNAVAILABLE,"The operation could not be completed")))})),E(p,Ld.EventType.MESSAGE,(S=>{if(!b){const O=S.data[0];Rt(!!O,16349);const R=O,P=R?.error||R[0]?.error;if(P){Ae(hr,`RPC '${e}' stream ${i} received error:`,P);const V=P.status;let D=(function(I){const L=En[I];if(L!==void 0)return FI(L)})(V),j=P.message;D===void 0&&(D=ge.INTERNAL,j="Unknown error status: "+V+" with message "+P.message),b=!0,x.a_(new Le(D,j)),p.close()}else Ae(hr,`RPC '${e}' stream ${i} received:`,O),x.u_(O)}})),E(u,uI.STAT_EVENT,(S=>{S.stat===Hw.PROXY?Ae(hr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Hw.NOPROXY&&Ae(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ib(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){return new zq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="PersistentStream";class aM{constructor(e,n,r,i,a,o,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(ws(n.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Le(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(QR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ae(QR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class V7 extends aM{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Hq(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Xe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Xe.min():o.readTime?Da(o.readTime):Xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=tx(this.serializer),n.addTarget=(function(a,o){let u;const f=o.target;if(u=Xw(f)?{documents:Wq(a,f)}:{query:Yq(a,f).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=GI(a,o.resumeToken);const d=Jw(a,o.expectedCount);d!==null&&(u.expectedCount=d)}else if(o.snapshotVersion.compareTo(Xe.min())>0){u.readTime=wg(a,o.snapshotVersion.toTimestamp());const d=Jw(a,o.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=Qq(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=tx(this.serializer),n.removeTarget=e,this.q_(n)}}class U7 extends aM{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Gq(e.writeResults,e.commitTime),r=Da(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=tx(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Kq(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{}class z7 extends B7{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Le(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,Zw(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Le(ge.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Ho(e,Zw(n,r),i,o,u,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(ge.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class q7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="RemoteStore";class F7{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{yu(this)&&(Ae(iu,"Restarting streams for network reachability change."),await(async function(f){const d=Je(f);d.Ea.add(4),await Uh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Ny(d)})(this))}))})),this.Ra=new q7(r,i)}}async function Ny(t){if(yu(t))for(const e of t.da)await e(!0)}async function Uh(t){for(const e of t.da)await e(!1)}function sM(t,e){const n=Je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),X1(n)?Y1(n):lf(n).O_()&&W1(n,e))}function G1(t,e){const n=Je(t),r=lf(n);n.Ia.delete(e),r.O_()&&oM(n,e),n.Ia.size===0&&(r.O_()?r.L_():yu(n)&&n.Ra.set("Unknown"))}function W1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lf(t).Y_(e)}function oM(t,e){t.Va.Ue(e),lf(t).Z_(e)}function Y1(t){t.Va=new $q({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),lf(t).start(),t.Ra.ua()}function X1(t){return yu(t)&&!lf(t).x_()&&t.Ia.size>0}function yu(t){return Je(t).Ea.size===0}function lM(t){t.Va=void 0}async function H7(t){t.Ra.set("Online")}async function K7(t){t.Ia.forEach(((e,n)=>{W1(t,e)}))}async function G7(t,e){lM(t),X1(t)?(t.Ra.ha(e),Y1(t)):t.Ra.set("Unknown")}async function W7(t,e,n){if(t.Ra.set("Online"),e instanceof KI&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Ae(iu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eg(t,r)}else if(e instanceof rg?t.Va.Ze(e):e instanceof HI?t.Va.st(e):t.Va.tt(e),!n.isEqual(Xe.min()))try{const r=await rM(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const u=a.Va.Tt(o);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const h=a.Ia.get(d);h&&a.Ia.set(d,h.withResumeToken(f.resumeToken,o))}})),u.targetMismatches.forEach(((f,d)=>{const h=a.Ia.get(f);if(!h)return;a.Ia.set(f,h.withResumeToken(ur.EMPTY_BYTE_STRING,h.snapshotVersion)),oM(a,f);const p=new Co(h.target,f,d,h.sequenceNumber);W1(a,p)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Ae(iu,"Failed to raise snapshot:",r),await Eg(t,r)}}async function Eg(t,e,n){if(!of(e))throw e;t.Ea.add(1),await Uh(t),t.Ra.set("Offline"),n||(n=()=>rM(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae(iu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ny(t)}))}function uM(t,e){return e().catch((n=>Eg(t,n,e)))}async function ky(t){const e=Je(t),n=qo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:k1;for(;Y7(e);)try{const i=await C7(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,X7(e,i)}catch(i){await Eg(e,i)}cM(e)&&fM(e)}function Y7(t){return yu(t)&&t.Ta.length<10}function X7(t,e){t.Ta.push(e);const n=qo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function cM(t){return yu(t)&&!qo(t).x_()&&t.Ta.length>0}function fM(t){qo(t).start()}async function Q7(t){qo(t).ra()}async function J7(t){const e=qo(t);for(const n of t.Ta)e.ea(n.mutations)}async function Z7(t,e,n){const r=t.Ta.shift(),i=U1.from(r,e,n);await uM(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await ky(t)}async function eF(t,e){e&&qo(t).X_&&await(async function(r,i){if((function(o){return Iq(o)&&o!==ge.ABORTED})(i.code)){const a=r.Ta.shift();qo(r).B_(),await uM(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await ky(r)}})(t,e),cM(t)&&fM(t)}async function JR(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Ae(iu,"RemoteStore received new credentials");const r=yu(n);n.Ea.add(3),await Uh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ny(n)}async function tF(t,e){const n=Je(t);e?(n.Ea.delete(2),await Ny(n)):e||(n.Ea.add(2),await Uh(n),n.Ra.set("Unknown"))}function lf(t){return t.ma||(t.ma=(function(n,r,i){const a=Je(n);return a.sa(),new V7(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:H7.bind(null,t),t_:K7.bind(null,t),r_:G7.bind(null,t),H_:W7.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),X1(t)?Y1(t):t.Ra.set("Unknown")):(await t.ma.stop(),lM(t))}))),t.ma}function qo(t){return t.fa||(t.fa=(function(n,r,i){const a=Je(n);return a.sa(),new U7(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Q7.bind(null,t),r_:eF.bind(null,t),ta:J7.bind(null,t),na:Z7.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ky(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae(iu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,u=new Q1(e,n,o,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J1(t,e){if(ws("AsyncQueue",`${e}: ${t}`),of(t))return new Le(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{static emptySet(e){return new Nc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ze.comparator(n.key,r.key):(n,r)=>ze.comparator(n.key,r.key),this.keyedMap=$d(),this.sortedSet=new sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.ga=new sn(ze.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class zc{constructor(e,n,r,i,a,o,u,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((u=>{o.push({type:0,doc:u})})),new zc(e,n,Nc.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ty(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rF{constructor(){this.queries=eC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Je(n),a=i.queries;i.queries=eC(),a.forEach(((o,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Le(ge.ABORTED,"Firestore shutting down"))}}function eC(){return new pu((t=>jI(t)),Ty)}async function iF(t,e){const n=Je(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new nF,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const u=J1(o,`Initialization of query '${xc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Z1(n)}async function aF(t,e){const n=Je(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sF(t,e){const n=Je(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const u of o.Sa)u.Fa(i)&&(r=!0);o.wa=i}}r&&Z1(n)}function oF(t,e,n){const r=Je(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function Z1(t){t.Ca.forEach((e=>{e.next()}))}var ix,tC;(tC=ix||(ix={})).Ma="default",tC.Cache="cache";class lF{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=zc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ix.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.key=e}}class hM{constructor(e){this.key=e}}class uF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ht(),this.mutatedKeys=ht(),this.eu=NI(e),this.tu=new Nc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ZR,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const y=i.get(h),b=Oy(this.query,p)?p:null,x=!!y&&this.mutatedKeys.has(y.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;y&&b?y.data.isEqual(b.data)?x!==E&&(r.track({type:3,doc:b}),S=!0):this.su(y,b)||(r.track({type:2,doc:b}),S=!0,(f&&this.eu(b,f)>0||d&&this.eu(b,d)<0)&&(u=!0)):!y&&b?(r.track({type:0,doc:b}),S=!0):y&&!b&&(r.track({type:1,doc:y}),S=!0,(f||d)&&(u=!0)),S&&(b?(o=o.add(b),a=E?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,p)=>(function(b,x){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:S})}};return E(b)-E(x)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,d=f!==this.Za;return this.Za=f,o.length!==0||d?{snapshot:new zc(this.query,e.tu,a,o,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ht(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new hM(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new dM(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ht();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return zc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eE="SyncEngine";class cF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fF{constructor(e){this.key=e,this.hu=!1}}class dF{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new pu((u=>jI(u)),Ty),this.Iu=new Map,this.Eu=new Set,this.du=new sn(ze.comparator),this.Au=new Map,this.Ru=new q1,this.Vu={},this.mu=new Map,this.fu=Bc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hF(t,e,n=!0){const r=bM(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await mM(r,e,n,!0),i}async function mF(t,e){const n=bM(t);await mM(n,e,!0,!1)}async function mM(t,e,n,r){const i=await j7(t.localStore,ka(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await pF(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&sM(t.remoteStore,i),u}async function pF(t,e,n,r,i){t.pu=(p,y,b)=>(async function(E,S,O,R){let P=S.view.ru(O);P.Cs&&(P=await GR(E.localStore,S.query,!1).then((({documents:k})=>S.view.ru(k,P))));const V=R&&R.targetChanges.get(S.targetId),D=R&&R.targetMismatches.get(S.targetId)!=null,j=S.view.applyChanges(P,E.isPrimaryClient,V,D);return rC(E,S.targetId,j.au),j.snapshot})(t,p,y,b);const a=await GR(t.localStore,e,!0),o=new uF(e,a.Qs),u=o.ru(a.documents),f=Vh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(u,t.isPrimaryClient,f);rC(t,n,d.au);const h=new cF(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function gF(t,e,n){const r=Je(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!Ty(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await nx(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&G1(r.remoteStore,i.targetId),ax(r,i.targetId)})).catch(sf)):(ax(r,i.targetId),await nx(r.localStore,i.targetId,!0))}async function yF(t,e){const n=Je(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),G1(n.remoteStore,r.targetId))}async function vF(t,e,n){const r=AF(t);try{const i=await(function(o,u){const f=Je(o),d=Xt.now(),h=u.reduce(((b,x)=>b.add(x.key)),ht());let p,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let x=xs(),E=ht();return f.Ns.getEntries(b,h).next((S=>{x=S,x.forEach(((O,R)=>{R.isValidDocument()||(E=E.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,x))).next((S=>{p=S;const O=[];for(const R of u){const P=Cq(R,p.get(R.key).overlayedDocument);P!=null&&O.push(new gu(R.key,P,SI(P.value.mapValue),ys.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,O,u)})).next((S=>{y=S;const O=S.applyToLocalDocumentSet(p,E);return f.documentOverlayCache.saveOverlays(b,S.batchId,O)}))})).then((()=>({batchId:y.batchId,changes:DI(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,u,f){let d=o.Vu[o.currentUser.toKey()];d||(d=new sn(dt)),d=d.insert(u,f),o.Vu[o.currentUser.toKey()]=d})(r,i.batchId,n),await Bh(r,i.changes),await ky(r.remoteStore)}catch(i){const a=J1(i,"Failed to persist write");n.reject(a)}}async function pM(t,e){const n=Je(t);try{const r=await P7(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Rt(o.hu,14607):i.removedDocuments.size>0&&(Rt(o.hu,42227),o.hu=!1))})),await Bh(n,r,e)}catch(r){await sf(r)}}function nC(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const u=o.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(o,u){const f=Je(o);f.onlineState=u;let d=!1;f.queries.forEach(((h,p)=>{for(const y of p.Sa)y.va(u)&&(d=!0)})),d&&Z1(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bF(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new sn(ze.comparator);o=o.insert(a,yr.newNoDocument(a,Xe.min()));const u=ht().add(a),f=new Cy(Xe.min(),new Map,new sn(dt),o,u);await pM(r,f),r.du=r.du.remove(a),r.Au.delete(e),tE(r)}else await nx(r.localStore,e,!1).then((()=>ax(r,e,n))).catch(sf)}async function _F(t,e){const n=Je(t),r=e.batch.batchId;try{const i=await O7(n.localStore,e);yM(n,r,null),gM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bh(n,i)}catch(i){await sf(i)}}async function wF(t,e,n){const r=Je(t);try{const i=await(function(o,u){const f=Je(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return f.mutationQueue.lookupMutationBatch(d,u).next((p=>(Rt(p!==null,37113),h=p.keys(),f.mutationQueue.removeMutationBatch(d,p)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,h,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>f.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);yM(r,e,n),gM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bh(r,i)}catch(i){await sf(i)}}function gM(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function yM(t,e,n){const r=Je(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function ax(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||vM(t,r)}))}function vM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(G1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),tE(t))}function rC(t,e,n){for(const r of n)r instanceof dM?(t.Ru.addReference(r.key,e),xF(t,r)):r instanceof hM?(Ae(eE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||vM(t,r.key)):Ge(19791,{wu:r})}function xF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ae(eE,"New document in limbo: "+n),t.Eu.add(r),tE(t))}function tE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ze(an.fromString(e)),r=t.fu.next();t.Au.set(r,new fF(n)),t.du=t.du.insert(n,r),sM(t.remoteStore,new Co(ka($1(n.path)),r,"TargetPurposeLimboResolution",xy.ce))}}async function Bh(t,e,n){const r=Je(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{o.push(r.pu(f,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const h=d?!d.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,h?"current":"not-current")}if(d){i.push(d);const h=H1.As(f.targetId,d);a.push(h)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(f,d){const h=Je(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>he.forEach(d,(y=>he.forEach(y.Es,(b=>h.persistence.referenceDelegate.addReference(p,y.targetId,b))).next((()=>he.forEach(y.ds,(b=>h.persistence.referenceDelegate.removeReference(p,y.targetId,b)))))))))}catch(p){if(!of(p))throw p;Ae(K1,"Failed to update sequence numbers: "+p)}for(const p of d){const y=p.targetId;if(!p.fromCache){const b=h.Ms.get(y),x=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(x);h.Ms=h.Ms.insert(y,E)}}})(r.localStore,a))}async function EF(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Ae(eE,"User change. New user:",e.toKey());const r=await nM(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((u=>{u.forEach((f=>{f.reject(new Le(ge.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bh(n,r.Ls)}}function SF(t,e){const n=Je(t),r=n.Au.get(e);if(r&&r.hu)return ht().add(r.key);{let i=ht();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const u=n.Tu.get(o);i=i.unionWith(u.view.nu)}return i}}function bM(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bF.bind(null,e),e.Pu.H_=sF.bind(null,e.eventManager),e.Pu.yu=oF.bind(null,e.eventManager),e}function AF(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_F.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wF.bind(null,e),e}class Sg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return T7(this.persistence,new E7,e.initialUser,this.serializer)}Cu(e){return new tM(F1.mi,this.serializer)}Du(e){return new k7}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sg.provider={build:()=>new Sg};class TF extends Sg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Rt(this.persistence.referenceDelegate instanceof xg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new l7(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Lr.withCacheSize(this.cacheSizeBytes):Lr.DEFAULT;return new tM((r=>xg.mi(r,n)),this.serializer)}}class sx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EF.bind(null,this.syncEngine),await tF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rF})()}createDatastore(e){const n=jy(e.databaseInfo.databaseId),r=(function(a){return new $7(a)})(e.databaseInfo);return(function(a,o,u,f){return new z7(a,o,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,u){return new F7(r,i,a,o,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>nC(this.syncEngine,n,0)),(function(){return XR.v()?new XR:new D7})())}createSyncEngine(e,n){return(function(i,a,o,u,f,d,h){const p=new dF(i,a,o,u,f,d);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Je(n);Ae(iu,"RemoteStore shutting down."),r.Ea.add(5),await Uh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sx.provider={build:()=>new sx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="FirestoreClient";class PF{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=j1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{Ae(Fo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ae(Fo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=J1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Mb(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(Fo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await nM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function iC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RF(t);Ae(Fo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>JR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>JR(e.remoteStore,i))),t._onlineComponents=e}async function RF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(Fo,"Using user provided OfflineComponentProvider");try{await Mb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ge.FAILED_PRECONDITION||i.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Lc("Error using user provided cache. Falling back to memory cache: "+n),await Mb(t,new Sg)}}else Ae(Fo,"Using default OfflineComponentProvider"),await Mb(t,new TF(void 0));return t._offlineComponents}async function _M(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(Fo,"Using user provided OnlineComponentProvider"),await iC(t,t._uninitializedComponentsProvider._online)):(Ae(Fo,"Using default OnlineComponentProvider"),await iC(t,new sx))),t._onlineComponents}function CF(t){return _M(t).then((e=>e.syncEngine))}async function jF(t){const e=await _M(t),n=e.eventManager;return n.onListen=hF.bind(null,e.syncEngine),n.onUnlisten=gF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yF.bind(null,e.syncEngine),n}function NF(t,e,n={}){const r=new Mo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,f,d){const h=new OF({next:y=>{h.Nu(),o.enqueueAndForget((()=>aF(a,p)));const b=y.docs.has(u);!b&&y.fromCache?d.reject(new Le(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&f&&f.source==="server"?d.reject(new Le(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new lF($1(u.path),h,{includeMetadataChanges:!0,qa:!0});return iF(a,p)})(await jF(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="firestore.googleapis.com",sC=!0;class oC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Le(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xM,this.ssl=sC}else this.host=e.host,this.ssl=e.ssl??sC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s7)throw new Le(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Le(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Le(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Le(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new N8;switch(r.type){case"firstParty":return new M8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=aC.get(n);r&&(Ae("ComponentProvider","Removing Datastore"),aC.delete(n),r.terminate())})(this),Promise.resolve()}}function kF(t,e,n,r={}){t=uh(t,nE);const i=O1(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(cz(`https://${u}`),mz("Firestore",!0)),a.host!==xM&&a.host!==u&&Lc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:u,ssl:i,emulatorOptions:r};if(!dg(f,o)&&(t._setSettings(f),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=pr.MOCK_USER;else{d=fz(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Le(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new pr(p)}t._authCredentials=new k8(new hI(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rE(this.firestore,e,this._query)}}class Xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}toJSON(){return{type:Xn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lh(n,Xn._jsonSchema))return new Xn(e,r||null,new ze(an.fromString(n.referencePath)))}}Xn._jsonSchemaVersion="firestore/documentReference/1.0",Xn._jsonSchema={type:Tn("string",Xn._jsonSchemaVersion),referencePath:Tn("string")};class gh extends rE{constructor(e,n,r){super(e,n,$1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new ze(e))}withConverter(e){return new gh(this.firestore,e,this._path)}}function Ag(t,e,...n){if(t=sh(t),arguments.length===1&&(e=j1.newId()),z8("doc","path",e),t instanceof nE){const r=an.fromString(e,...n);return wR(r),new Xn(t,null,new ze(r))}{if(!(t instanceof Xn||t instanceof gh))throw new Le(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(an.fromString(e,...n));return wR(r),new Xn(t.firestore,t instanceof gh?t.converter:null,new ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="AsyncQueue";class uC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iM(this,"async_queue_retry"),this._c=()=>{const r=Ib();r&&Ae(lC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ib();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ib();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Mo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!of(e))throw e;Ae(lC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",cC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Q1.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ge(47125,{Pc:cC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class iE extends nE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uC,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uC(e),this._firestoreClient=void 0,await e}}}function DF(t,e){const n=typeof t=="object"?t:rI(),r=typeof t=="string"?t:pg,i=eI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=lz("firestore");a&&kF(i,...a)}return i}function EM(t){if(t._terminated)throw new Le(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IF(t),t._firestoreClient}function IF(t){const e=t._freezeSettings(),n=(function(i,a,o,u){return new eq(i,a,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,wM(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new PF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mi(ur.fromBase64String(e))}catch(n){throw new Le(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mi(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lh(e,Mi._jsonSchema))return Mi.fromBase64String(e.bytes)}}Mi._jsonSchemaVersion="firestore/bytes/1.0",Mi._jsonSchema={type:Tn("string",Mi._jsonSchemaVersion),bytes:Tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Le(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ia._jsonSchemaVersion}}static fromJSON(e){if(Lh(e,Ia._jsonSchema))return new Ia(e.latitude,e.longitude)}}Ia._jsonSchemaVersion="firestore/geoPoint/1.0",Ia._jsonSchema={type:Tn("string",Ia._jsonSchemaVersion),latitude:Tn("number"),longitude:Tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ma._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lh(e,Ma._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ma(e.vectorValues);throw new Le(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ma._jsonSchemaVersion="firestore/vectorValue/1.0",Ma._jsonSchema={type:Tn("string",Ma._jsonSchemaVersion),vectorValues:Tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=/^__.*__$/;class LF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gu(e,this.data,this.fieldMask,n,this.fieldTransforms):new $h(e,this.data,n,this.fieldTransforms)}}function AM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:t})}}class sE{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AM(this.Ac)&&MF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $F{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jy(e)}Cc(e,n,r,i=!1){return new sE({Ac:e,methodName:n,Dc:r,path:lr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VF(t){const e=t._freezeSettings(),n=jy(t._databaseId);return new $F(t._databaseId,!!e.ignoreUndefinedProperties,n)}function UF(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);RM("Data must be an object, but it was:",o,r);const u=OM(r,o);let f,d;if(a.merge)f=new ia(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const y=BF(e,p,n);if(!o.contains(y))throw new Le(ge.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);qF(h,y)||h.push(y)}f=new ia(h),d=o.fieldTransforms.filter((p=>f.covers(p.field)))}else f=null,d=o.fieldTransforms;return new LF(new Ii(u),f,d)}function TM(t,e){if(PM(t=sh(t)))return RM("Unsupported field value:",e,t),OM(t,e);if(t instanceof SM)return(function(r,i){if(!AM(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const u of r){let f=TM(u,i.wc(o));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=sh(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Sq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Xt.fromDate(r);return{timestampValue:wg(i.serializer,a)}}if(r instanceof Xt){const a=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wg(i.serializer,a)}}if(r instanceof Ia)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mi)return{bytesValue:GI(i.serializer,r._byteString)};if(r instanceof Xn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:z1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ma)return(function(o,u){return{mapValue:{fields:{[xI]:{stringValue:EI},[gg]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return V1(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${N1(r)}`)})(t,e)}function OM(t,e){const n={};return gI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mu(t,((r,i)=>{const a=TM(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function PM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof Ia||t instanceof Mi||t instanceof Xn||t instanceof SM||t instanceof Ma)}function RM(t,e,n){if(!PM(n)||!mI(n)){const r=N1(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function BF(t,e,n){if((e=sh(e))instanceof aE)return e._internalPath;if(typeof e=="string")return CM(t,e);throw Tg("Field path arguments must be of type string or ",t,!1,void 0,n)}const zF=new RegExp("[~\\*/\\[\\]]");function CM(t,e,n){if(e.search(zF)>=0)throw Tg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new aE(...e.split("."))._internalPath}catch{throw Tg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tg(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||o)&&(f+=" (found",a&&(f+=` in field ${r}`),o&&(f+=` in document ${i}`),f+=")"),new Le(ge.INVALID_ARGUMENT,u+t+f)}function qF(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(NM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FF extends jM{data(){return super.data()}}function NM(t,e){return typeof e=="string"?CM(t,e):e instanceof aE?e._internalPath:e._delegate._internalPath}class HF{convertValue(e,n="none"){switch(zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mu(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[gg].arrayValue?.values?.map((r=>pn(r.doubleValue)));return new Ma(n)}convertGeoPoint(e){return new Ia(pn(e.latitude),pn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fh(e));default:return null}}convertTimestamp(e){const n=Uo(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=an.fromString(e);Rt(ZI(r),9688,{name:e});const i=new dh(r.get(1),r.get(3)),a=new ze(r.popFirst(5));return i.isEqual(n)||ws(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ud{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xl extends jM{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ig(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(NM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xl._jsonSchema={type:Tn("string",Xl._jsonSchemaVersion),bundleSource:Tn("string","DocumentSnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class ig extends Xl{data(e={}){return super.data(e)}}class Yd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ud(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ig(this._firestore,this._userDataWriter,r.key,r,new Ud(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((u=>{const f=new ig(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ud(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const f=new ig(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ud(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return u.type!==0&&(d=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),h=o.indexOf(u.doc.key)),{type:GF(u.type),doc:f,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=j1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){t=uh(t,Xn);const e=uh(t.firestore,iE);return NF(EM(e),t._key).then((n=>XF(e,t,n)))}Yd._jsonSchemaVersion="firestore/querySnapshot/1.0",Yd._jsonSchema={type:Tn("string",Yd._jsonSchemaVersion),bundleSource:Tn("string","QuerySnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class WF extends HF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function fC(t,e,n){t=uh(t,Xn);const r=uh(t.firestore,iE),i=KF(t.converter,e,n);return YF(r,[UF(VF(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ys.none())])}function YF(t,e){return(function(r,i){const a=new Mo;return r.asyncQueue.enqueueAndForget((async()=>vF(await CF(r),i,a))),a.promise})(EM(t),e)}function XF(t,e,n){const r=n.docs.get(e._key),i=new WF(t);return new Xl(t,i,e._key,r,new Ud(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){af=i})(w8),oh(new Mc("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),u=new iE(new D8(r.getProvider("auth-internal")),new L8(o,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Le(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dh(d.options.projectId,h)})(o,i),o);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Do(yR,vR,e),Do(yR,vR,"esm2020")})();var dC="@firebase/ai",ox="2.1.0";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc="AI",hC="us-central1",QF="https://firebasevertexai.googleapis.com",JF="v1beta",mC=ox,ZF="gl-js",eH=180*1e3,tH="gemini-2.0-flash-lite";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=["user","model","function","system"],DM={HARM_SEVERITY_UNSUPPORTED:"HARM_SEVERITY_UNSUPPORTED"},gC={SAFETY:"SAFETY",RECITATION:"RECITATION"},yC={ONLY_ON_DEVICE:"only_on_device",ONLY_IN_CLOUD:"only_in_cloud"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={ERROR:"error",REQUEST_ERROR:"request-error",RESPONSE_ERROR:"response-error",FETCH_ERROR:"fetch-error",INVALID_CONTENT:"invalid-content",API_NOT_ENABLED:"api-not-enabled",INVALID_SCHEMA:"invalid-schema",NO_API_KEY:"no-api-key",NO_APP_ID:"no-app-id",NO_MODEL:"no-model",NO_PROJECT_ID:"no-project-id",PARSE_FAILED:"parse-failed",UNSUPPORTED:"unsupported"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.backendType=e}}class zh extends IM{constructor(){super(js.GOOGLE_AI)}}class Dy extends IM{constructor(e=hC){super(js.VERTEX_AI),e?this.location=e:this.location=hC}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e,n,r,i){this.app=e,this.backend=n;const a=i?.getImmediate({optional:!0}),o=r?.getImmediate({optional:!0});this.auth=o||null,this.appCheck=a||null,n instanceof Dy?this.location=n.location:this.location=""}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends hu{constructor(e,n,r){const i=qc,a=`${i}/${e}`,o=`${i}: ${n} (${a})`;super(e,o),this.code=e,this.customErrorData=r,Error.captureStackTrace&&Error.captureStackTrace(this,it),Object.setPrototypeOf(this,it.prototype),this.toString=()=>o}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(t){if(t instanceof zh)return`${qc}/googleai`;if(t instanceof Dy)return`${qc}/vertexai/${t.location}`;throw new it(st.ERROR,`Invalid backend: ${JSON.stringify(t.backendType)}`)}function iH(t){const e=t.split("/");if(e[0]!==qc)throw new it(st.ERROR,`Invalid instance identifier, unknown prefix '${e[0]}'`);switch(e[1]){case"vertexai":const r=e[2];if(!r)throw new it(st.ERROR,`Invalid instance identifier, unknown location '${t}'`);return new Dy(r);case"googleai":return new zh;default:throw new it(st.ERROR,`Invalid instance identifier string: '${t}'`)}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){if(e.app?.options?.apiKey)if(e.app?.options?.projectId)if(e.app?.options?.appId){if(this._apiSettings={apiKey:e.app.options.apiKey,project:e.app.options.projectId,appId:e.app.options.appId,automaticDataCollectionEnabled:e.app.automaticDataCollectionEnabled,location:e.location,backend:e.backend},tI(e.app)&&e.app.settings.appCheckToken){const r=e.app.settings.appCheckToken;this._apiSettings.getAppCheckToken=()=>Promise.resolve({token:r})}else e.appCheck&&(this._apiSettings.getAppCheckToken=()=>e.appCheck.getToken());e.auth&&(this._apiSettings.getAuthToken=()=>e.auth.getToken()),this.model=Xd.normalizeModelName(n,this._apiSettings.backend.backendType)}else throw new it(st.NO_APP_ID,'The "appId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid app ID.');else throw new it(st.NO_PROJECT_ID,'The "projectId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid project ID.');else throw new it(st.NO_API_KEY,'The "apiKey" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid API key.')}static normalizeModelName(e,n){return n===js.GOOGLE_AI?Xd.normalizeGoogleAIModelName(e):Xd.normalizeVertexAIModelName(e)}static normalizeGoogleAIModelName(e){return`models/${e}`}static normalizeVertexAIModelName(e){let n;return e.includes("/")?e.startsWith("models/")?n=`publishers/google/${e}`:n=e:n=`publishers/google/models/${e}`,n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new P1("@firebase/vertexai");/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yh;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.PREDICT="predict"})(yh||(yh={}));class MM{constructor(e,n,r,i,a){this.model=e,this.task=n,this.apiSettings=r,this.stream=i,this.requestOptions=a}toString(){const e=new URL(this.baseUrl);return e.pathname=`/${this.apiVersion}/${this.modelPath}:${this.task}`,e.search=this.queryParams.toString(),e.toString()}get baseUrl(){return this.requestOptions?.baseUrl||QF}get apiVersion(){return JF}get modelPath(){if(this.apiSettings.backend instanceof zh)return`projects/${this.apiSettings.project}/${this.model}`;if(this.apiSettings.backend instanceof Dy)return`projects/${this.apiSettings.project}/locations/${this.apiSettings.backend.location}/${this.model}`;throw new it(st.ERROR,`Invalid backend: ${JSON.stringify(this.apiSettings.backend)}`)}get queryParams(){const e=new URLSearchParams;return this.stream&&e.set("alt","sse"),e}}function aH(){const t=[];return t.push(`${ZF}/${mC}`),t.push(`fire/${mC}`),t.join(" ")}async function sH(t){const e=new Headers;if(e.append("Content-Type","application/json"),e.append("x-goog-api-client",aH()),e.append("x-goog-api-key",t.apiSettings.apiKey),t.apiSettings.automaticDataCollectionEnabled&&e.append("X-Firebase-Appid",t.apiSettings.appId),t.apiSettings.getAppCheckToken){const n=await t.apiSettings.getAppCheckToken();n&&(e.append("X-Firebase-AppCheck",n.token),n.error&&gr.warn(`Unable to obtain a valid App Check token: ${n.error.message}`))}if(t.apiSettings.getAuthToken){const n=await t.apiSettings.getAuthToken();n&&e.append("Authorization",`Firebase ${n.accessToken}`)}return e}async function oH(t,e,n,r,i,a){const o=new MM(t,e,n,r,a);return{url:o.toString(),fetchOptions:{method:"POST",headers:await sH(o),body:i}}}async function oE(t,e,n,r,i,a){const o=new MM(t,e,n,r,a);let u,f;try{const d=await oH(t,e,n,r,i,a),h=a?.timeout!=null&&a.timeout>=0?a.timeout:eH,p=new AbortController;if(f=setTimeout(()=>p.abort(),h),d.fetchOptions.signal=p.signal,u=await fetch(d.url,d.fetchOptions),!u.ok){let y="",b;try{const x=await u.json();y=x.error.message,x.error.details&&(y+=` ${JSON.stringify(x.error.details)}`,b=x.error.details)}catch{}throw u.status===403&&b&&b.some(x=>x.reason==="SERVICE_DISABLED")&&b.some(x=>x.links?.[0]?.description.includes("Google developers console API activation"))?new it(st.API_NOT_ENABLED,`The Firebase AI SDK requires the Firebase AI API ('firebasevertexai.googleapis.com') to be enabled in your Firebase project. Enable this API by visiting the Firebase Console at https://console.firebase.google.com/project/${o.apiSettings.project}/genai/ and clicking "Get started". If you enabled this API recently, wait a few minutes for the action to propagate to our systems and then retry.`,{status:u.status,statusText:u.statusText,errorDetails:b}):new it(st.FETCH_ERROR,`Error fetching from ${o}: [${u.status} ${u.statusText}] ${y}`,{status:u.status,statusText:u.statusText,errorDetails:b})}}catch(d){let h=d;throw d.code!==st.FETCH_ERROR&&d.code!==st.API_NOT_ENABLED&&d instanceof Error&&(h=new it(st.ERROR,`Error fetching from ${o.toString()}: ${d.message}`),h.stack=d.stack),h}finally{f&&clearTimeout(f)}return u}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t){return t.candidates&&!t.candidates[0].hasOwnProperty("index")&&(t.candidates[0].index=0),lH(t)}function lH(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&gr.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),ag(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${So(t)}. Response body stored in error.response`,{response:t});return uH(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Text not available. ${So(t)}`,{response:t});return""},t.inlineDataParts=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&gr.warn(`This response had ${t.candidates.length} candidates. Returning data from the first candidate only. Access response.candidates directly to use the other candidates.`),ag(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${So(t)}. Response body stored in error.response`,{response:t});return fH(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Data not available. ${So(t)}`,{response:t})},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&gr.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ag(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${So(t)}. Response body stored in error.response`,{response:t});return cH(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Function call not available. ${So(t)}`,{response:t})},t}function uH(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.text&&e.push(n.text);return e.length>0?e.join(""):""}function cH(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.functionCall&&e.push(n.functionCall);if(e.length>0)return e}function fH(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.inlineData&&e.push(n);if(e.length>0)return e}const dH=[gC.RECITATION,gC.SAFETY];function ag(t){return!!t.finishReason&&dH.some(e=>e===t.finishReason)}function So(t){let e="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)e+="Response was blocked",t.promptFeedback?.blockReason&&(e+=` due to ${t.promptFeedback.blockReason}`),t.promptFeedback?.blockReasonMessage&&(e+=`: ${t.promptFeedback.blockReasonMessage}`);else if(t.candidates?.[0]){const n=t.candidates[0];ag(n)&&(e+=`Candidate was blocked due to ${n.finishReason}`,n.finishMessage&&(e+=`: ${n.finishMessage}`))}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t){if(t.safetySettings?.forEach(e=>{if(e.method)throw new it(st.UNSUPPORTED,"SafetySetting.method is not supported in the the Gemini Developer API. Please remove this property.")}),t.generationConfig?.topK){const e=Math.round(t.generationConfig.topK);e!==t.generationConfig.topK&&(gr.warn("topK in GenerationConfig has been rounded to the nearest integer to match the format for requests to the Gemini Developer API."),t.generationConfig.topK=e)}return t}function lE(t){return{candidates:t.candidates?mH(t.candidates):void 0,prompt:t.promptFeedback?pH(t.promptFeedback):void 0,usageMetadata:t.usageMetadata}}function hH(t,e){return{generateContentRequest:{model:e,...t}}}function mH(t){const e=[];let n;return e&&t.forEach(r=>{let i;if(r.citationMetadata&&(i={citations:r.citationMetadata.citationSources}),r.safetyRatings&&(n=r.safetyRatings.map(o=>({...o,severity:o.severity??DM.HARM_SEVERITY_UNSUPPORTED,probabilityScore:o.probabilityScore??0,severityScore:o.severityScore??0}))),r.content?.parts.some(o=>o?.videoMetadata))throw new it(st.UNSUPPORTED,"Part.videoMetadata is not supported in the Gemini Developer API. Please remove this property.");const a={index:r.index,content:r.content,finishReason:r.finishReason,finishMessage:r.finishMessage,safetyRatings:n,citationMetadata:i,groundingMetadata:r.groundingMetadata};e.push(a)}),e}function pH(t){const e=[];return t.safetyRatings.forEach(r=>{e.push({category:r.category,probability:r.probability,severity:r.severity??DM.HARM_SEVERITY_UNSUPPORTED,probabilityScore:r.probabilityScore??0,severityScore:r.severityScore??0,blocked:r.blocked})}),{blockReason:t.blockReason,safetyRatings:e,blockReasonMessage:t.blockReasonMessage}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function gH(t,e){const n=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=bH(n),[i,a]=r.tee();return{stream:vH(i,e),response:yH(a,e)}}async function yH(t,e){const n=[],r=t.getReader();for(;;){const{done:i,value:a}=await r.read();if(i){let o=_H(n);return e.backend.backendType===js.GOOGLE_AI&&(o=lE(o)),Og(o)}n.push(a)}}async function*vH(t,e){const n=t.getReader();for(;;){const{value:r,done:i}=await n.read();if(i)break;let a;e.backend.backendType===js.GOOGLE_AI?a=Og(lE(r)):a=Og(r),yield a}}function bH(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return e.read().then(({value:o,done:u})=>{if(u){if(i.trim()){r.error(new it(st.PARSE_FAILED,"Failed to parse stream"));return}r.close();return}i+=o;let f=i.match(vC),d;for(;f;){try{d=JSON.parse(f[1])}catch{r.error(new it(st.PARSE_FAILED,`Error parsing JSON response: "${f[1]}`));return}r.enqueue(d),i=i.substring(f[0].length),f=i.match(vC)}return a()})}}})}function _H(t){const n={promptFeedback:t[t.length-1]?.promptFeedback};for(const r of t)if(r.candidates)for(const i of r.candidates){const a=i.index||0;if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:i.index}),n.candidates[a].citationMetadata=i.citationMetadata,n.candidates[a].finishReason=i.finishReason,n.candidates[a].finishMessage=i.finishMessage,n.candidates[a].safetyRatings=i.safetyRatings,n.candidates[a].groundingMetadata=i.groundingMetadata,i.content&&i.content.parts){n.candidates[a].content||(n.candidates[a].content={role:i.content.role||"user",parts:[]});const o={};for(const u of i.content.parts){if(u.text!==void 0){if(u.text==="")continue;o.text=u.text}if(u.functionCall&&(o.functionCall=u.functionCall),Object.keys(o).length===0)throw new it(st.INVALID_CONTENT,"Part should have at least one property, but there are none. This is likely caused by a malformed response from the backend.");n.candidates[a].content.parts.push(o)}}}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wH(t,e,n,r){return t.backend.backendType===js.GOOGLE_AI&&(n=LM(n)),oE(e,yh.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r)}async function $M(t,e,n,r,i){let a;return r&&await r.isAvailable(n)?a=await r.generateContentStream(n):a=await wH(t,e,n,i),gH(a,t)}async function xH(t,e,n,r){return t.backend.backendType===js.GOOGLE_AI&&(n=LM(n)),oE(e,yh.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)}async function VM(t,e,n,r,i){let a;r&&await r.isAvailable(n)?a=await r.generateContent(n):a=await xH(t,e,n,i);const o=await EH(a,t);return{response:Og(o)}}async function EH(t,e){const n=await t.json();return e.backend.backendType===js.GOOGLE_AI?lE(n):n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function lx(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return SH(e)}function SH(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),i=!0):(e.parts.push(a),r=!0);if(r&&i)throw new it(st.INVALID_CONTENT,"Within a single message, FunctionResponse cannot be mixed with other type of Part in the request for sending chat message.");if(!r&&!i)throw new it(st.INVALID_CONTENT,"No Content is provided for sending chat message.");return r?e:n}function Lb(t){let e;return t.contents?e=t:e={contents:[lx(t)]},t.systemInstruction&&(e.systemInstruction=UM(t.systemInstruction)),e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=["text","inlineData","functionCall","functionResponse"],AH={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]},_C={user:["model"],function:["model"],model:["user","function"],system:[]};function TH(t){let e=null;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new it(st.INVALID_CONTENT,`First Content should be with role 'user', got ${r}`);if(!pC.includes(r))throw new it(st.INVALID_CONTENT,`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(pC)}`);if(!Array.isArray(i))throw new it(st.INVALID_CONTENT,"Content should have 'parts' but property with an array of Parts");if(i.length===0)throw new it(st.INVALID_CONTENT,"Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0};for(const u of i)for(const f of bC)f in u&&(a[f]+=1);const o=AH[r];for(const u of bC)if(!o.includes(u)&&a[u]>0)throw new it(st.INVALID_CONTENT,`Content with role '${r}' can't contain '${u}' part`);if(e&&!_C[r].includes(e.role))throw new it(st.INVALID_CONTENT,`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(_C)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="SILENT_ERROR";class OH{constructor(e,n,r,i,a){this.model=n,this.chromeAdapter=r,this.params=i,this.requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiSettings=e,i?.history&&(TH(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){await this._sendPromise;const n=lx(e),r={safetySettings:this.params?.safetySettings,generationConfig:this.params?.generationConfig,tools:this.params?.tools,toolConfig:this.params?.toolConfig,systemInstruction:this.params?.systemInstruction,contents:[...this._history,n]};let i={};return this._sendPromise=this._sendPromise.then(()=>VM(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions)).then(a=>{if(a.response.candidates&&a.response.candidates.length>0){this._history.push(n);const o={parts:a.response.candidates?.[0].content.parts||[],role:a.response.candidates?.[0].content.role||"model"};this._history.push(o)}else{const o=So(a.response);o&&gr.warn(`sendMessage() was unsuccessful. ${o}. Inspect response object for details.`)}i=a}),await this._sendPromise,i}async sendMessageStream(e){await this._sendPromise;const n=lx(e),r={safetySettings:this.params?.safetySettings,generationConfig:this.params?.generationConfig,tools:this.params?.tools,toolConfig:this.params?.toolConfig,systemInstruction:this.params?.systemInstruction,contents:[...this._history,n]},i=$M(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>i).catch(a=>{throw new Error(wC)}).then(a=>a.response).then(a=>{if(a.candidates&&a.candidates.length>0){this._history.push(n);const o={...a.candidates[0].content};o.role||(o.role="model"),this._history.push(o)}else{const o=So(a);o&&gr.warn(`sendMessageStream() was unsuccessful. ${o}. Inspect response object for details.`)}}).catch(a=>{a.message!==wC&&gr.error(a)}),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PH(t,e,n,r){let i="";if(t.backend.backendType===js.GOOGLE_AI){const o=hH(n,e);i=JSON.stringify(o)}else i=JSON.stringify(n);return(await oE(e,yh.COUNT_TOKENS,t,!1,i,r)).json()}async function RH(t,e,n,r,i){return r&&await r.isAvailable(n)?(await r.countTokens(n)).json():PH(t,e,n,i)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH extends Xd{constructor(e,n,r,i){super(e,n.model),this.chromeAdapter=i,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=UM(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=Lb(e);return VM(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}async generateContentStream(e){const n=Lb(e);return $M(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}startChat(e){return new OH(this._apiSettings,this.model,this.chromeAdapter,{tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,generationConfig:this.generationConfig,safetySettings:this.safetySettings,...e},this.requestOptions)}async countTokens(e){const n=Lb(e);return RH(this._apiSettings,this.model,n,this.chromeAdapter)}}var $l;(function(t){t.UNAVAILABLE="unavailable",t.DOWNLOADABLE="downloadable",t.DOWNLOADING="downloading",t.AVAILABLE="available"})($l||($l={}));/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,r={createOptions:{expectedInputs:[{type:"image"}]}}){this.languageModelProvider=e,this.mode=n,this.onDeviceParams=r,this.isDownloading=!1}async isAvailable(e){if(!this.mode)return gr.debug("On-device inference unavailable because mode is undefined."),!1;if(this.mode===yC.ONLY_IN_CLOUD)return gr.debug('On-device inference unavailable because mode is "only_in_cloud".'),!1;const n=await this.downloadIfAvailable();if(this.mode===yC.ONLY_ON_DEVICE){if(n===$l.UNAVAILABLE)throw new it(st.API_NOT_ENABLED,"Local LanguageModel API not available in this environment.");return(n===$l.DOWNLOADABLE||n===$l.DOWNLOADING)&&(gr.debug("Waiting for download of LanguageModel to complete."),await this.downloadPromise),!0}return n!==$l.AVAILABLE?(gr.debug(`On-device inference unavailable because availability is "${n}".`),!1):Ji.isOnDeviceRequest(e)?!0:(gr.debug("On-device inference unavailable because request is incompatible."),!1)}async generateContent(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Ji.toLanguageModelMessage)),i=await n.prompt(r,this.onDeviceParams.promptOptions);return Ji.toResponse(i)}async generateContentStream(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Ji.toLanguageModelMessage)),i=n.promptStreaming(r,this.onDeviceParams.promptOptions);return Ji.toStreamResponse(i)}async countTokens(e){throw new it(st.REQUEST_ERROR,"Count Tokens is not yet available for on-device model.")}static isOnDeviceRequest(e){if(e.contents.length===0)return gr.debug("Empty prompt rejected for on-device inference."),!1;for(const n of e.contents){if(n.role==="function")return gr.debug('"Function" role rejected for on-device inference.'),!1;for(const r of n.parts)if(r.inlineData&&Ji.SUPPORTED_MIME_TYPES.indexOf(r.inlineData.mimeType)===-1)return gr.debug(`Unsupported mime type "${r.inlineData.mimeType}" rejected for on-device inference.`),!1}return!0}async downloadIfAvailable(){const e=await this.languageModelProvider?.availability(this.onDeviceParams.createOptions);return e===$l.DOWNLOADABLE&&this.download(),e}download(){this.isDownloading||(this.isDownloading=!0,this.downloadPromise=this.languageModelProvider?.create(this.onDeviceParams.createOptions).finally(()=>{this.isDownloading=!1}))}static async toLanguageModelMessage(e){const n=await Promise.all(e.parts.map(Ji.toLanguageModelMessageContent));return{role:Ji.toLanguageModelMessageRole(e.role),content:n}}static async toLanguageModelMessageContent(e){if(e.text)return{type:"text",value:e.text};if(e.inlineData){const r=await(await fetch(`data:${e.inlineData.mimeType};base64,${e.inlineData.data}`)).blob();return{type:"image",value:await createImageBitmap(r)}}throw new it(st.REQUEST_ERROR,"Processing of this Part type is not currently supported.")}static toLanguageModelMessageRole(e){return e==="model"?"assistant":"user"}async createSession(){if(!this.languageModelProvider)throw new it(st.UNSUPPORTED,"Chrome AI requested for unsupported browser version.");const e=await this.languageModelProvider.create(this.onDeviceParams.createOptions);return this.oldSession&&this.oldSession.destroy(),this.oldSession=e,e}static toResponse(e){return{json:async()=>({candidates:[{content:{parts:[{text:e}]}}]})}}static toStreamResponse(e){const n=new TextEncoder;return{body:e.pipeThrough(new TransformStream({transform(r,i){const a=JSON.stringify({candidates:[{content:{role:"model",parts:[{text:r}]}}]});i.enqueue(n.encode(`data: ${a}

`))}}))}}}Ji.SUPPORTED_MIME_TYPES=["image/jpeg","image/png"];/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(t=rI(),e={backend:new zh}){t=sh(t);const n=eI(t,qc),r=rH(e.backend);return n.getImmediate({identifier:r})}function BM(t,e,n){const r=e;let i;if(r.mode?i=r.inCloudParams||{model:tH}:i=e,!i.model)throw new it(st.NO_MODEL,"Must provide a model name. Example: getGenerativeModel({ model: 'my-model-name' })");let a;return typeof window<"u"&&r.mode&&(a=new Ji(window.LanguageModel,r.mode,r.onDeviceParams)),new CH(t,i,n,a)}function NH(){oh(new Mc(qc,(t,{instanceIdentifier:e})=>{if(!e)throw new it(st.ERROR,"AIService instance identifier is undefined.");const n=iH(e),r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new nH(r,n,i,a)},"PUBLIC").setMultipleInstances(!0)),Do(dC,ox),Do(dC,ox,"esm2020")}NH();var kH="firebase",DH="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Do(kH,DH,"app");const IH={apiKey:"AIzaSyCwWrLjCbvrbWeEKCdz6X1kQsRqudLogvk",authDomain:"robotics-3c92c.firebaseapp.com",projectId:"robotics-3c92c",storageBucket:"robotics-3c92c.firebasestorage.app",messagingSenderId:"286446162060",appId:"1:286446162060:web:30976ed5981cb902d4eba9",measurementId:"G-LMVZ79XKBW"},zM=nI(IH),Pg=DF(zM),qM=jH(zM,{backend:new zh}),jo=["team_number","opr","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","auto_made_net","auto_missed_net","auto_made_processor","auto_l4","auto_l3","auto_l2","auto_l1","auto_missed_coral","tele_made_net","tele_missed_net","tele_processor","tele_l4","tele_l3","tele_l2","tele_l1","tele_missed_coral","driver_rating"],xC=["opr","team_number","match_number","driver_station","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","auto_mobility","auto_made_net","auto_missed_net","auto_made_processor","auto_l4","auto_l3","auto_l2","auto_l1","auto_missed_coral","tele_made_net","tele_missed_net","tele_processor","tele_l4","tele_l3","tele_l2","tele_l1","tele_missed_coral","endgame_type","comments","lost_comms","auto_start_position","driver_rating","disabled"];function FM(t){if(t.length===0)return 0;const e=[...t].sort((r,i)=>r-i),n=Math.floor(e.length/2);return e.length%2===0?(e[n-1]+e[n])/2:e[n]}function MH(t){if(t.length===0)return 0;const e=[...t].sort((r,i)=>r-i),n=e.slice(Math.ceil(e.length/2));return FM(n)}const LH=t=>t.length?t.reduce((e,n)=>e+n,0)/t.length:0,$H="modulepreload",VH=function(t){return"/ScoutingOffseason2025/"+t},EC={},qh=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var o=d;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");i=d(n.map(h=>{if(h=VH(h),h in EC)return;EC[h]=!0;const p=h.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":$H,p||(b.as="script"),b.crossOrigin="",b.href=h,f&&b.setAttribute("nonce",f),document.head.appendChild(b),p)return new Promise((x,E)=>{b.addEventListener("load",x),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return i.then(u=>{for(const f of u||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})},UH=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qh(async()=>{const{default:r}=await Promise.resolve().then(()=>uf);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class uE extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class SC extends uE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class AC extends uE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class TC extends uE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ux;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ux||(ux={}));var BH=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};class zH{constructor(e,{headers:n={},customFetch:r,region:i=ux.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=UH(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return BH(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:a,method:o,body:u,signal:f}=r;let d={},{region:h}=r;h||(h=this.region);const p=new URL(`${this.url}/${n}`);h&&h!=="any"&&(d["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(d["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(d["Content-Type"]="application/json",y=JSON.stringify(u)));const b=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:y,signal:f}).catch(O=>{throw O.name==="AbortError"?O:new SC(O)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new AC(b);if(!b.ok)throw new TC(b);let E=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return E==="application/json"?S=yield b.json():E==="application/octet-stream"?S=yield b.blob():E==="text/event-stream"?S=b:E==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new SC(a)}:{data:null,error:a,response:a instanceof TC||a instanceof AC?a.context:void 0}}})}}var Gn={},lc={},uc={},cc={},fc={},dc={},qH=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fc=qH();const FH=Fc.fetch,HM=Fc.fetch.bind(Fc),KM=Fc.Headers,HH=Fc.Request,KH=Fc.Response,uf=Object.freeze(Object.defineProperty({__proto__:null,Headers:KM,Request:HH,Response:KH,default:HM,fetch:FH},Symbol.toStringTag,{value:"Module"})),GH=CV(uf);var Cp={},OC;function GM(){if(OC)return Cp;OC=1,Object.defineProperty(Cp,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Cp.default=t,Cp}var PC;function WM(){if(PC)return dc;PC=1;var t=dc&&dc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(dc,"__esModule",{value:!0});const e=t(GH),n=t(GM());class r{constructor(a){var o,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,p,y,b;let x=null,E=null,S=null,O=d.status,R=d.statusText;if(d.ok){if(this.method!=="HEAD"){const j=await d.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?E=j:E=JSON.parse(j))}const V=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),D=(y=d.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");V&&D&&D.length>1&&(S=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(x={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,S=null,O=406,R="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const V=await d.text();try{x=JSON.parse(V),Array.isArray(x)&&d.status===404&&(E=[],x=null,O=200,R="OK")}catch{d.status===404&&V===""?(O=204,R="No Content"):x={message:V}}if(x&&this.isMaybeSingle&&(!((b=x?.details)===null||b===void 0)&&b.includes("0 rows"))&&(x=null,O=200,R="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:E,count:S,status:O,statusText:R}});return this.shouldThrowOnError||(f=f.catch(d=>{var h,p,y;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(p=d?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=d?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),f.then(a,o)}returns(){return this}overrideTypes(){return this}}return dc.default=r,dc}var RC;function YM(){if(RC)return fc;RC=1;var t=fc&&fc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fc,"__esModule",{value:!0});const e=t(WM());class n extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:u,referencedTable:f=u}={}){const d=f?`${f}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:u=o}={}){const f=typeof u>"u"?"offset":`${u}.offset`,d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:u=!1,wal:f=!1,format:d="text"}={}){var h;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${y}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return fc.default=n,fc}var CC;function cE(){if(CC)return cc;CC=1;var t=cc&&cc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cc,"__esModule",{value:!0});const e=t(YM());class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${f}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return cc.default=n,cc}var jC;function XM(){if(jC)return uc;jC=1;var t=uc&&uc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(uc,"__esModule",{value:!0});const e=t(cE());class n{constructor(i,{headers:a={},schema:o,fetch:u}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=u}select(i,a){const{head:o=!1,count:u}=a??{},f=o?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var u;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:u,defaultToNull:f=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:a}={}){var o;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return uc.default=n,uc}var NC;function WH(){if(NC)return lc;NC=1;var t=lc&&lc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(lc,"__esModule",{value:!0});const e=t(XM()),n=t(cE());class r{constructor(a,{headers:o={},schema:u,fetch:f}={}){this.url=a,this.headers=new Headers(o),this.schemaName=u,this.fetch=f}from(a){const o=new URL(`${this.url}/${a}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:u=!1,get:f=!1,count:d}={}){var h;let p;const y=new URL(`${this.url}/rpc/${a}`);let b;u||f?(p=u?"HEAD":"GET",Object.entries(o).filter(([E,S])=>S!==void 0).map(([E,S])=>[E,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([E,S])=>{y.searchParams.append(E,S)})):(p="POST",b=o);const x=new Headers(this.headers);return d&&x.set("Prefer",`count=${d}`),new n.default({method:p,url:y,headers:x,schema:this.schemaName,body:b,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return lc.default=r,lc}var kC;function YH(){if(kC)return Gn;kC=1;var t=Gn&&Gn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.PostgrestError=Gn.PostgrestBuilder=Gn.PostgrestTransformBuilder=Gn.PostgrestFilterBuilder=Gn.PostgrestQueryBuilder=Gn.PostgrestClient=void 0;const e=t(WH());Gn.PostgrestClient=e.default;const n=t(XM());Gn.PostgrestQueryBuilder=n.default;const r=t(cE());Gn.PostgrestFilterBuilder=r.default;const i=t(YM());Gn.PostgrestTransformBuilder=i.default;const a=t(WM());Gn.PostgrestBuilder=a.default;const o=t(GM());return Gn.PostgrestError=o.default,Gn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Gn}var XH=YH();const QH=fi(XH),{PostgrestClient:JH,PostgrestQueryBuilder:vhe,PostgrestFilterBuilder:bhe,PostgrestTransformBuilder:_he,PostgrestBuilder:whe,PostgrestError:xhe}=QH;class ZH{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const eK="2.75.0",tK=`realtime-js/${eK}`,nK="1.0.0",cx=1e4,rK=1e3,iK=100;var Qd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Qd||(Qd={}));var In;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(In||(In={}));var Zi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Zi||(Zi={}));var fx;(function(t){t.websocket="websocket"})(fx||(fx={}));var Vl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Vl||(Vl={}));class aK{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const u=r.decode(e.slice(o,o+i));o=o+i;const f=r.decode(e.slice(o,o+a));o=o+a;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:u,event:f,payload:d}}}class QM{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Gt||(Gt={}));const DC=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=sK(o,t,e,i),a),{}):{}},sK=(t,e,n,r)=>{const i=e.find(u=>u.name===t),a=i?.type,o=n[t];return a&&!r.includes(a)?JM(a,o):dx(o)},JM=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return cK(e,n)}switch(t){case Gt.bool:return oK(e);case Gt.float4:case Gt.float8:case Gt.int2:case Gt.int4:case Gt.int8:case Gt.numeric:case Gt.oid:return lK(e);case Gt.json:case Gt.jsonb:return uK(e);case Gt.timestamp:return fK(e);case Gt.abstime:case Gt.date:case Gt.daterange:case Gt.int4range:case Gt.int8range:case Gt.money:case Gt.reltime:case Gt.text:case Gt.time:case Gt.timestamptz:case Gt.timetz:case Gt.tsrange:case Gt.tstzrange:return dx(e);default:return dx(e)}},dx=t=>t,oK=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},lK=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},uK=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},cK=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(u=>JM(e,u))}return t},fK=t=>typeof t=="string"?t.replace(" ","T"):t,ZM=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class $b{constructor(e,n,r={},i=cx){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var IC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(IC||(IC={}));class Jd{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jd.syncState(this.state,i,a,o),this.pendingDiffs.forEach(f=>{this.state=Jd.syncDiff(this.state,f,a,o)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Jd.syncDiff(this.state,i,a,o),u())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),u={},f={};return this.map(a,(d,h)=>{o[d]||(f[d]=h)}),this.map(o,(d,h)=>{const p=a[d];if(p){const y=h.map(S=>S.presence_ref),b=p.map(S=>S.presence_ref),x=h.filter(S=>b.indexOf(S.presence_ref)<0),E=p.filter(S=>y.indexOf(S.presence_ref)<0);x.length>0&&(u[d]=x),E.length>0&&(f[d]=E)}else u[d]=h}),this.syncDiff(a,{joins:u,leaves:f},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,f)=>{var d;const h=(d=e[u])!==null&&d!==void 0?d:[];if(e[u]=this.cloneDeep(f),h.length>0){const p=e[u].map(b=>b.presence_ref),y=h.filter(b=>p.indexOf(b.presence_ref)<0);e[u].unshift(...y)}r(u,h,f)}),this.map(o,(u,f)=>{let d=e[u];if(!d)return;const h=f.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),e[u]=d,i(u,d,f),d.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var MC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(MC||(MC={}));var Zd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zd||(Zd={}));var hs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(hs||(hs={}));class fE{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=In.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $b(this,Zi.join,this.params,this.timeout),this.rejoinTimer=new QM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=In.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=In.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=In.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=In.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=In.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zi.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new Jd(this),this.broadcastEndpointURL=ZM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==In.closed){const{config:{broadcast:o,presence:u,private:f}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Zd.PRESENCE]&&this.bindings[Zd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},y={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(hs.CHANNEL_ERROR,b)),this._onClose(()=>e?.(hs.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket.setAuth(),b===void 0){e?.(hs.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,S=(x=E?.length)!==null&&x!==void 0?x:0,O=[];for(let R=0;R<S;R++){const P=E[R],{filter:{event:V,schema:D,table:j,filter:k}}=P,I=b&&b[R];if(I&&I.event===V&&I.schema===D&&I.table===j&&I.filter===k)O.push(Object.assign(Object.assign({},P),{id:I.id}));else{this.unsubscribe(),this.state=In.errored,e?.(hs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(hs.SUBSCRIBED);return}}).receive("error",b=>{this.state=In.errored,e?.(hs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(hs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===In.joined&&e===Zd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,u,f;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=In.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new $b(this,Zi.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=In.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $b(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>iK){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:u,error:f,leave:d,join:h}=Zi;if(r&&[u,f,d,h].indexOf(o)>=0&&r!==this._joinRef())return;let y=this._onMessage(o,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var x,E,S;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((S=(E=b.filter)===null||E===void 0?void 0:E.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(b=>b.callback(y,r)):(a=this.bindings[o])===null||a===void 0||a.filter(b=>{var x,E,S,O,R,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const V=b.id,D=(x=b.filter)===null||x===void 0?void 0:x.event;return V&&((E=n.ids)===null||E===void 0?void 0:E.includes(V))&&(D==="*"||D?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const V=(R=(O=b?.filter)===null||O===void 0?void 0:O.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return V==="*"||V===((P=n?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:E,table:S,commit_timestamp:O,type:R,errors:P}=x;y=Object.assign(Object.assign({},{schema:E,table:S,commit_timestamp:O,eventType:R,new:{},old:{},errors:P}),this._getPayloadRecords(x))}b.callback(y,r)})}_isClosed(){return this.state===In.closed}_isJoined(){return this.state===In.joined}_isJoining(){return this.state===In.joining}_isLeaving(){return this.state===In.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&fE.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zi.close,{},e)}_onError(e){this._on(Zi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=In.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=DC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=DC(e.columns,e.old_record)),n}}const Vb=()=>{},jp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dK=[1e3,2e3,5e3,1e4],hK=1e4,mK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pK{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cx,this.transport=null,this.heartbeatIntervalMs=jp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vb,this.ref=0,this.reconnectTimer=null,this.logger=Vb,this.conn=null,this.sendBuffer=[],this.serializer=new aK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>qh(async()=>{const{default:u}=await Promise.resolve().then(()=>uf);return{default:u}},void 0).then(({default:u})=>u(...o)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${fx.websocket}`,this.httpEndpoint=ZM(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ZH.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nK}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qd.connecting:return Vl.Connecting;case Qd.open:return Vl.Open;case Qd.closing:return Vl.Closing;default:return Vl.Closed}}isConnected(){return this.connectionState()===Vl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new fE(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rK,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},jp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,u=o?`(${o})`:"",f=a.status||"";this.log("receive",`${f} ${r} ${i} ${u}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([mK],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:tK};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Zi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new QM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,u,f,d,h;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:cx,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:jp.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:Vb,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(p=>dK[p-1]||hK),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((p,y)=>y(JSON.stringify(p))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class dE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function An(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class gK extends dE{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hx extends dE{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var yK=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};const e4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qh(async()=>{const{default:r}=await Promise.resolve().then(()=>uf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},vK=()=>yK(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qh(()=>Promise.resolve().then(()=>uf),void 0)).Response:Response}),mx=t=>{if(Array.isArray(t))return t.map(n=>mx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=mx(r)}),e},bK=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var vu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};const Ub=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_K=(t,e,n)=>vu(void 0,void 0,void 0,function*(){const r=yield vK();t instanceof r&&!n?.noResolveJson?t.json().then(i=>{const a=t.status||500,o=i?.statusCode||a+"";e(new gK(Ub(i),a,o))}).catch(i=>{e(new hx(Ub(i),i))}):e(new hx(Ub(t),t))}),wK=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(bK(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Fh(t,e,n,r,i,a){return vu(this,void 0,void 0,function*(){return new Promise((o,u)=>{t(n,wK(e,r,i,a)).then(f=>{if(!f.ok)throw f;return r?.noResolveJson?f:f.json()}).then(f=>o(f)).catch(f=>_K(f,u,r))})})}function Rg(t,e,n,r){return vu(this,void 0,void 0,function*(){return Fh(t,"GET",e,n,r)})}function Ta(t,e,n,r,i){return vu(this,void 0,void 0,function*(){return Fh(t,"POST",e,r,i,n)})}function px(t,e,n,r,i){return vu(this,void 0,void 0,function*(){return Fh(t,"PUT",e,r,i,n)})}function xK(t,e,n,r){return vu(this,void 0,void 0,function*(){return Fh(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function t4(t,e,n,r,i){return vu(this,void 0,void 0,function*(){return Fh(t,"DELETE",e,r,i,n)})}var EK=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};class SK{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return EK(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(An(e))return{data:null,error:e};throw e}})}}var AK=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};class TK{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new SK(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return AK(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(An(e))return{data:null,error:e};throw e}})}}var Ir=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};const OK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},LC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class PK{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=e4(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return Ir(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},LC),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const f=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),f&&a.append("metadata",this.encodeMetadata(f))):(a=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i?.headers&&(u=Object.assign(Object.assign({},u),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield(e=="PUT"?px:Ta)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:u},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(An(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Ir(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Ir(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",n);try{let f;const d=Object.assign({upsert:LC.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",d.cacheControl)):(f=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield px(this.fetch,u.toString(),f,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(An(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return Ir(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Ta(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),u=o.searchParams.get("token");if(!u)throw new dE("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ir(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ir(this,void 0,void 0,function*(){try{return{data:yield Ta(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Ir(this,void 0,void 0,function*(){try{return{data:{path:(yield Ta(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Ir(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ta(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Ir(this,void 0,void 0,function*(){try{const i=yield Ta(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",u=this._getFinalPath(e),f=()=>Rg(this.fetch,`${this.url}/${i}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new TK(f,this.shouldThrowOnError)}info(e){return Ir(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Rg(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:mx(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}exists(e){return Ir(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield xK(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r)&&r instanceof hx){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const u=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&i.push(f);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${d}`)}}}remove(e){return Ir(this,void 0,void 0,function*(){try{return{data:yield t4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ir(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},OK),n),{prefix:e||""});return{data:yield Ta(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}listV2(e,n){return Ir(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ta(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const RK="2.75.0",CK={"X-Client-Info":`storage-js/${RK}`};var hc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};class jK{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CK),n),this.fetch=e4(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return hc(this,void 0,void 0,function*(){try{return{data:yield Rg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(An(e))return{data:null,error:e};throw e}})}getBucket(e){return hc(this,void 0,void 0,function*(){try{return{data:yield Rg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}createBucket(e){return hc(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ta(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return hc(this,void 0,void 0,function*(){try{return{data:yield px(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}emptyBucket(e){return hc(this,void 0,void 0,function*(){try{return{data:yield Ta(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}deleteBucket(e){return hc(this,void 0,void 0,function*(){try{return{data:yield t4(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}}class NK extends jK{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new PK(this.url,this.headers,e,this.fetch)}}const kK="2.75.0";let Bd="";typeof Deno<"u"?Bd="deno":typeof document<"u"?Bd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bd="react-native":Bd="node";const DK={"X-Client-Info":`supabase-js-${Bd}/${kK}`},IK={headers:DK},MK={schema:"public"},LK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$K={};var VK=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};const UK=t=>{let e;return t?e=t:typeof fetch>"u"?e=HM:e=fetch,(...n)=>e(...n)},BK=()=>typeof Headers>"u"?KM:Headers,zK=(t,e,n)=>{const r=UK(n),i=BK();return(a,o)=>VK(void 0,void 0,void 0,function*(){var u;const f=(u=yield e())!==null&&u!==void 0?u:t;let d=new i(o?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),r(a,Object.assign(Object.assign({},o),{headers:d}))})};var qK=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};function FK(t){return t.endsWith("/")?t:t+"/"}function HK(t,e){var n,r;const{db:i,auth:a,realtime:o,global:u}=t,{db:f,auth:d,realtime:h,global:p}=e,y={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=u?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>qK(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function KK(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(FK(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const n4="2.75.0",Ac=30*1e3,gx=3,Bb=gx*Ac,GK="http://localhost:9999",WK="supabase.auth.token",YK={"X-Client-Info":`gotrue-js/${n4}`},yx="X-Supabase-Api-Version",r4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QK=600*1e3;class vh extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class JK extends vh{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ZK(t){return Be(t)&&t.name==="AuthApiError"}class Ul extends vh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Xo extends vh{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Eo extends Xo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eG(t){return Be(t)&&t.name==="AuthSessionMissingError"}class mc extends Xo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Np extends Xo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kp extends Xo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tG(t){return Be(t)&&t.name==="AuthImplicitGrantRedirectError"}class $C extends Xo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vx extends Xo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function zb(t){return Be(t)&&t.name==="AuthRetryableFetchError"}class VC extends Xo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class bx extends Xo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UC=` 	
\r=`.split(""),nG=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<UC.length;e+=1)t[UC[e].charCodeAt(0)]=-2;for(let e=0;e<Cg.length;e+=1)t[Cg[e].charCodeAt(0)]=e;return t})();function BC(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Cg[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Cg[r]),e.queuedBits-=6}}function i4(t,e,n){const r=nG[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zC(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{aG(o,r,n)};for(let o=0;o<t.length;o+=1)i4(t.charCodeAt(o),i,a);return e.join("")}function rG(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function iG(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}rG(r,e)}}function aG(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function kc(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)i4(t.charCodeAt(i),n,r);return new Uint8Array(e)}function sG(t){const e=[];return iG(t,n=>e.push(n)),new Uint8Array(e)}function Fl(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>BC(i,n,r)),BC(null,n,r),e.join("")}function oG(t){return Math.round(Date.now()/1e3)+t}function lG(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ei=()=>typeof window<"u"&&typeof document<"u",jl={tested:!1,writable:!1},a4=()=>{if(!ei())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jl.tested)return jl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),jl.tested=!0,jl.writable=!0}catch{jl.tested=!0,jl.writable=!1}return jl.writable};function uG(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const s4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qh(async()=>{const{default:r}=await Promise.resolve().then(()=>uf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},cG=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Tc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Nl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bo=async(t,e)=>{await t.removeItem(e)};class Iy{constructor(){this.promise=new Iy.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Iy.promiseConstructor=Promise;function qb(t){const e=t.split(".");if(e.length!==3)throw new bx("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!XK.test(e[r]))throw new bx("JWT not in base64url format");return{header:JSON.parse(zC(e[0])),payload:JSON.parse(zC(e[1])),signature:kc(e[2]),raw:{header:e[0],payload:e[1]}}}async function fG(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function dG(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function hG(t){return("0"+t.toString(16)).substr(-2)}function mG(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,hG).join("")}async function pG(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function gG(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await pG(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pc(t,e,n=!1){const r=mG();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Tc(t,`${e}-code-verifier`,i);const a=await gG(r);return[a,r===a?"plain":"s256"]}const yG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vG(t){const e=t.headers.get(yx);if(!e||!e.match(yG))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function bG(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _G(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gc(t){if(!wG.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fb(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qC(t){return JSON.parse(JSON.stringify(t))}var xG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Dl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),EG=[502,503,504];async function FC(t){var e;if(!cG(t))throw new vx(Dl(t),0);if(EG.includes(t.status))throw new vx(Dl(t),t.status);let n;try{n=await t.json()}catch(a){throw new Ul(Dl(a),a)}let r;const i=vG(t);if(i&&i.getTime()>=r4["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new VC(Dl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Eo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new VC(Dl(n),t.status,n.weak_password.reasons);throw new JK(Dl(n),t.status||500,r)}const SG=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Qe(t,e,n,r){var i;const a=Object.assign({},r?.headers);a[yx]||(a[yx]=r4["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",f=await AG(t,e,n+u,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function AG(t,e,n,r,i,a){const o=SG(e,r,i,a);let u;try{u=await t(n,Object.assign({},o))}catch(f){throw console.error(f),new vx(Dl(f),0)}if(u.ok||await FC(u),r?.noResolveJson)return u;try{return await u.json()}catch(f){await FC(f)}}function Qi(t){var e;let n=null;PG(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=oG(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function HC(t){const e=Qi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Po(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function TG(t){return{data:t,error:null}}function OG(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=xG(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},f=Object.assign({},o);return{data:{properties:u,user:f},error:null}}function KC(t){return t}function PG(t){return t.access_token&&t.refresh_token&&t.expires_in}const Hb=["global","local","others"];var RG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class CG{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=s4(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Hb[0]){if(Hb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hb.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Po})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=RG(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:OG,redirectTo:n?.redirectTo})}catch(n){if(Be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Po})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,u,f;try{const d={nextPage:null,lastPage:0,total:0},h=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:KC});if(h.error)throw h.error;const p=await h.json(),y=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);d[`${S}Page`]=E}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Be(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){gc(e);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Po})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){gc(e);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Po})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){gc(e);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Po})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){gc(e.userId);try{const{data:n,error:r}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteFactor(e){gc(e.userId),gc(e.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,o,u,f;try{const d={nextPage:null,lastPage:0,total:0},h=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:KC});if(h.error)throw h.error;const p=await h.json(),y=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);d[`${S}Page`]=E}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Be(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}}function GC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const yc={debug:!!(globalThis&&a4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class o4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jG extends o4{}async function NG(t,e,n){yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),yc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new jG(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function kG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function l4(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function DG(t){return parseInt(t,16)}function IG(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function MG(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:u,requestId:f,resources:d,scheme:h,uri:p,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=l4(t.address),x=h?`${h}://${r}`:r,E=t.statement?`${t.statement}
`:"",S=`${x} wants you to sign in with your Ethereum account:
${b}

${E}`;let O=`URI: ${p}
Version: ${y}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(O+=`
Expiration Time: ${i.toISOString()}`),u&&(O+=`
Not Before: ${u.toISOString()}`),f&&(O+=`
Request ID: ${f}`),d){let R=`
Resources:`;for(const P of d){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);R+=`
- ${P}`}O+=R}return`${S}
${O}`}class Sn extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class jg extends Sn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function LG({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Sn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Sn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Sn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Sn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Sn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Sn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Sn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Sn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(c4(o)){if(a.rp.id!==o)return new Sn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Sn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Sn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function $G({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Sn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Sn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(c4(r)){if(n.rpId!==r)return new Sn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Sn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var u4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class VG{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const UG=new VG;function BG(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=u4(t,["challenge","user","excludeCredentials"]),a=kc(e).buffer,o=Object.assign(Object.assign({},n),{id:kc(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const d=r[f];u.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:kc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function zG(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=u4(t,["challenge","allowCredentials"]),i=kc(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const u=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},u),{id:kc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function qG(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Fl(new Uint8Array(t.response.attestationObject)),clientDataJSON:Fl(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function FG(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Fl(new Uint8Array(i.authenticatorData)),clientDataJSON:Fl(new Uint8Array(i.clientDataJSON)),signature:Fl(new Uint8Array(i.signature)),userHandle:i.userHandle?Fl(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function c4(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function WC(){var t,e;return!!(ei()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function HG(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new jg("Browser returned unexpected credential type",e)}:{data:null,error:new jg("Empty credential response",e)}}catch(e){return{data:null,error:LG({error:e,options:t})}}}async function KG(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new jg("Browser returned unexpected credential type",e)}:{data:null,error:new jg("Empty credential response",e)}}catch(e){return{data:null,error:$G({error:e,options:t})}}}const GG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},WG={userVerification:"preferred",hints:["security-key"]};function Ng(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(e(o)){const u=r[a];e(u)?r[a]=Ng(u,o):r[a]=Ng(o)}else r[a]=o}return r}function YG(t,e){return Ng(GG,t,e||{})}function XG(t,e){return Ng(WG,t,e||{})}class QG{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:u};const f=i??UG.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=YG(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:p}=await HG({publicKey:d,signal:f});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=XG(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:p}=await KG(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:f}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new Ul("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new vh("rpId is required for WebAuthn authentication")};try{if(!WC())return{data:null,error:new Ul("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:u};const{webauthn:f}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new Ul("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new vh("rpId is required for WebAuthn registration")};try{if(!WC())return{data:null,error:new Ul("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:u};const{data:f,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return f?this._verify({factorId:o.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new Ul("Unexpected error in register",o)}}}}kG();const JG={url:GK,storageKey:WK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function YC(t,e,n){return await n()}const vc={};class bh{get jwks(){var e,n;return(n=(e=vc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){vc[this.storageKey]=Object.assign(Object.assign({},vc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=vc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vc[this.storageKey]=Object.assign(Object.assign({},vc[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bh.nextInstanceID,bh.nextInstanceID+=1,this.instanceID>0&&ei()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},JG),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new CG({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=s4(i.fetch),this.lock=i.lock||YC,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ei()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=NG:this.lock=YC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new QG(this)},this.persistSession?(i.storage?this.storage=i.storage:a4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=GC(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=GC(this.memoryStorage)),ei()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${n4}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=uG(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ei()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),tG(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Be(n)?{error:n}:{error:new Ul("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Qi}),{data:o,error:u}=a;if(u||!o)return{data:{user:null,session:null},error:u};const f=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:h,password:p,options:y}=e;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await pc(this.storage,this.storageKey)),a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:h,password:p,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:x},xform:Qi})}else if("phone"in e){const{phone:h,password:p,options:y}=e;a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Qi})}else throw new Np("You must provide either an email or phone number and a password");const{data:o,error:u}=a;if(u||!o)return{data:{user:null,session:null},error:u};const f=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:u}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:HC})}else if("phone"in e){const{phone:a,password:o,options:u}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:HC})}else throw new Np("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new mc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,o,u,f,d,h,p,y;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:E,wallet:S,statement:O,options:R}=e;let P;if(ei())if(typeof S=="object")P=S;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")P=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=S}const V=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href),D=await P.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=l4(D[0]);let k=(r=R?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const L=await P.request({method:"eth_chainId"});k=DG(L)}const I={domain:V.host,address:j,statement:O,uri:V.href,version:"1",chainId:k,nonce:(i=R?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=R?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=R?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=R?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=R?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=R?.signInWithEthereum)===null||h===void 0?void 0:h.resources};b=MG(I),x=await P.request({method:"personal_sign",params:[IG(b),j]})}try{const{data:E,error:S}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Qi});if(S)throw S;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new mc}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:S})}catch(E){if(Be(E))return{data:{user:null,session:null},error:E};throw E}}async signInWithSolana(e){var n,r,i,a,o,u,f,d,h,p,y,b;let x,E;if("message"in e)x=e.message,E=e.signature;else{const{chain:S,wallet:O,statement:R,options:P}=e;let V;if(ei())if(typeof O=="object")V=O;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))V=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=O}const D=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in V&&V.signIn){const j=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),R?{statement:R}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),E=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${D.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=P?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=P?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((o=P?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((u=P?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((f=P?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((d=P?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((p=(h=P?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...P.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await V.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=j}}try{const{data:S,error:O}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Fl(E)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Qi});if(O)throw O;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new mc}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:O})}catch(S){if(Be(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await Nl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Qi});if(await bo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new mc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Be(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,u=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Qi}),{data:f,error:d}=u;return d?{data:{user:null,session:null},error:d}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new mc}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:d})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:u,options:f}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await pc(this.storage,this.storageKey));const{error:p}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:u,options:f}=e,{data:d,error:h}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new Np("You must provide either an email or phone number.")}catch(u){if(Be(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:u}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Qi});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const f=o.session,d=o.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(i){if(Be(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await pc(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:TG})}catch(a){if(Be(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Eo;const{error:i}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Be(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:u}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:u}}throw new Np("You must provide either an email or phone number and a type")}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Nl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Bb:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Nl(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Fb()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,d,h)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,d,h))})}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Po}):await this._useSession(async n=>{var r,i,a;const{data:o,error:u}=n;if(u)throw u;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Eo}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Po})})}catch(n){if(Be(n))return eG(n)&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Eo;const o=i.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await pc(this.storage,this.storageKey));const{data:d,error:h}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:o.access_token,xform:Po});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Eo;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=qb(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Be(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:u}=n;if(u)throw u;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Eo;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ei())throw new kp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new kp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $C("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $C("No code detected.");const{data:R,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:u,expires_at:f,token_type:d}=e;if(!a||!u||!o||!d)throw new kp("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let y=h+p;f&&(y=parseInt(f));const b=y-h;b*1e3<=Ac&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const x=y-p;h-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,y,h):h-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,y,h);const{data:E,error:S}=await this._getUser(a);if(S)throw S;const O={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:y,refresh_token:o,token_type:d,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(r){if(Be(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Nl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:u}=await this.admin.signOut(o,e);if(u&&!(ZK(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=lG(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await pc(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Be(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,u,f,d,h;const{data:p,error:y}=a;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",b,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return ei()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(Be(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:u,token:f,access_token:d,nonce:h}=e,p=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:f,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Qi}),{data:y,error:b}=p;return b?{data:{user:null,session:null},error:b}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new mc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:b})}catch(i){if(Be(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await dG(async i=>(i>0&&await fG(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qi})),(i,a)=>{const o=200*Math.pow(2,i);return a&&zb(a)&&Date.now()+o-r<Ac})}catch(r){if(this._debug(n,"error",r),Be(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ei()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Nl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Nl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Tc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:Fb()}else if(i&&!i.user&&!i.user){const o=await Nl(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await bo(this.storage,this.storageKey+"-user"),await Tc(this.storage,this.storageKey,i)):i.user=Fb()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bb;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Bb}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),zb(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(i.access_token);!u&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Eo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Iy;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Eo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),Be(a)){const o={data:null,error:a};return zb(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(f){a.push(f)}});if(await Promise.all(o),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Tc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=qC(i);await Tc(this.storage,this.storageKey,a)}else{const i=qC(n);await Tc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await bo(this.storage,this.storageKey),await bo(this.storage,this.storageKey+"-code-verifier"),await bo(this.storage,this.storageKey+"-user"),this.userStorage&&await bo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ei()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ac);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ac);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ac}ms, refresh threshold is ${gx} ticks`),i<=gx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof o4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ei()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await pc(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:d}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&f.type==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?qG(e.webauthn.credential_response):FG(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:f}=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(n){if(Be(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:BG(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:zG(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Be(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=qb(i.access_token);let u=null;o.aal&&(u=o.aal);let f=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const h=o.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+QK>i)return r;const{data:a,error:o}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:b,error:x}=await this.getSession();if(x||!b.session)return{data:null,error:x};r=b.session.access_token}const{header:i,payload:a,signature:o,raw:{header:u,payload:f}}=qb(r);n?.allowExpired||bG(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:o},error:null}}const h=_G(i.alg),p=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,sG(`${u}.${f}`)))throw new bx("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}}bh.nextInstanceID=0;const ZG=bh;class eW extends ZG{constructor(e){super(e)}}var tW=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};class nW{constructor(e,n,r){var i,a,o;this.supabaseUrl=e,this.supabaseKey=n;const u=KK(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:MK,realtime:$K,auth:Object.assign(Object.assign({},LK),{storageKey:f}),global:IK},h=HK(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=zK(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new JH(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new NK(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new zH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return tW(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:u,lock:f,debug:d},h,p){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eW({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),h),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:u,lock:f,debug:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new pK(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rW=(t,e,n)=>new nW(t,e,n);function iW(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}iW()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aW="https://odzsnrjocdmbajksnzpk.supabase.co",sW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9kenNucmpvY2RtYmFqa3NuenBrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkyNjk3NTcsImV4cCI6MjA3NDg0NTc1N30.LE8xoK5-rmAXnRJBx60-tNEIQq350sEs43PLoYWtQ8M",hE=rW(aW,sW),Bl="sBluV8DKQA0hTvJ2ABC9U3VDZunUGUSehxuDPvtNC8SQ3Q5XHvQVt0nm3X7cvP7j";function oW(t){if(!t.length)return{max:0,min:0,median:0,mean:0,q3:0};const e=[...t].sort((u,f)=>u-f),n=e.at(-1)??0,r=e[0],i=e.length%2===0?Math.round((e[e.length/2-1]+e[e.length/2])/2*10)/10:e[Math.floor(e.length/2)],a=Math.round(e.reduce((u,f)=>u+f,0)/e.length*10)/10,o=e[Math.floor(e.length*.75)];return{max:n,min:r,median:i,mean:a,q3:o}}function lW(t){const e=t.reduce((r,i)=>(r[i.team_number]||(r[i.team_number]=[]),r[i.team_number].push(i),r),{}),n={};for(const[r,i]of Object.entries(e)){const a=Number(r),o={};Object.keys(i[0]).filter(u=>{const f=i[0][u];return typeof f=="number"||f===null}).forEach(u=>{const f=i.map(d=>typeof d[u]=="number"?d[u]:0).filter(d=>!isNaN(d));o[u]=oW(f)}),n[a]=o}return n}function uW(t){function e(r,i){if(!r.length)return 0;const a=i/100*(r.length-1),o=Math.floor(a),u=Math.ceil(a);return o===u?r[o]:r[o]+(r[u]-r[o])*(a-o)}const n={};for(const r of jo){if(!Object.values(t).some(o=>o[r]!==void 0))continue;n[r]={min:{p10:0,p25:0,p75:0,p90:0},max:{p10:0,p25:0,p75:0,p90:0},median:{p10:0,p25:0,p75:0,p90:0},mean:{p10:0,p25:0,p75:0,p90:0},q3:{p10:0,p25:0,p75:0,p90:0}};const a=["min","max","median","mean","q3"];for(const o of a){const u=Object.values(t).map(f=>f[r]?.[o]??0).filter(f=>typeof f=="number"&&!isNaN(f)).sort((f,d)=>f-d);n[r][o]={p10:e(u,10),p25:e(u,25),p75:e(u,75),p90:e(u,90)}}}return n}async function cW(t){try{const e=await fetch(`https://www.thebluealliance.com/api/v3/events/${t}/keys`,{headers:{"X-TBA-Auth-Key":Bl}});return e.ok?e.json():[]}catch(e){return console.error("Failed fetching events",e),[]}}async function fW(){const{data:t,error:e}=await hE.from("Pit Scouting").select("*");return t?t.filter(n=>n.team_number>0):[]}async function dW(t,e){if(!t||t==="XX")return null;try{const[n,r,i,a]=await Promise.all([fetch(`https://www.thebluealliance.com/api/v3/event/${t}/rankings`,{headers:{"X-TBA-Auth-Key":Bl}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/oprs`,{headers:{"X-TBA-Auth-Key":Bl}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/matches`,{headers:{"X-TBA-Auth-Key":Bl}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/teams`,{headers:{"X-TBA-Auth-Key":Bl}})]),o=await n.json(),u=await r.json(),f=await i.json(),d=await a.json();let h=[...new Set(e.map(y=>y.team_number).filter(y=>!d.map(b=>b.team_number).includes(y)))];const p={};return d.forEach(y=>{p[y.team_number]={name:y.name??`Team ${y.team_number}`,nickname:y.nickname??`Team ${y.team_number}`}}),await Promise.all(h.map(async y=>{const x=await(await fetch(`https://www.thebluealliance.com/api/v3/team/frc${y}`,{headers:{"X-TBA-Auth-Key":Bl}})).json();p[x.team_number]={name:x.name??`Team ${x.team_number}`,nickname:x.nickname??`Team ${x.team_number}`}})),console.log(p),{tbaData:{rankings:o?.rankings??[],oprs:u?.oprs??{},matches:f},teamInfo:p}}catch(n){return console.error("TBA fetch error",n),null}}async function hW(t){try{const e=new Date().getFullYear();return await(await fetch(`https://api.statbotics.io/v3/team_year/${String(t)}/${e}`)).json()}catch(e){return console.error("Statbotics fetch error",e),null}}async function mW(){const t=Ag(Pg,"aiOverview","overview"),e=await kM(t);if(!e.exists())return console.warn("No AI overviews found"),{};const n=e.data(),r={};return Object.entries(n).forEach(([i,a])=>{const o=Number(i);isNaN(o)||(r[o]=a)}),r}async function pW(){const t=Ag(Pg,"aiOverview","match"),e=await kM(t);if(!e.exists())return console.warn("No AI matches found"),{};const n=e.data(),r={};return Object.entries(n).forEach(([i,a])=>{const o=String(i);typeof a=="string"&&(r[o]=a)}),r}const Rn=Q9((t,e)=>({forms:[],pitForms:[],teamStats:{},columnPercentiles:{},loading:!0,eventKeys:[],tbaData:null,teamInfo:{},aiOverviews:{},aiMatches:{},eventName:localStorage.getItem("eventName")||"XX",currentViewingTeam:Number(localStorage.getItem("currentViewingTeam")||3197),usePracticeData:localStorage.getItem("usePracticeData")==="true",statboticsTeams:[],teamImage:[],loadTeamImage:async()=>{try{const n=await hE.storage.from("robot-images").getPublicUrl(`${e().eventName}/team${e().currentViewingTeam}`).data.publicUrl;console.log(n);const r=await yW(n),o=(await(await fetch(`https://www.thebluealliance.com/api/v3/team/frc${e().currentViewingTeam}/media/${new Date().getFullYear()}`,{headers:{"X-TBA-Auth-Key":Bl}})).json()).filter(u=>u.type!="avatar").map(u=>u.direct_url);t(r?{teamImage:[n,...o]}:{teamImage:o})}catch(n){console.error("Error loading team images:",n)}},loadStatbotics:async()=>{t({loading:!0});const n=await hW(e().currentViewingTeam);t({statboticsTeams:n??void 0,loading:!1})},setEventName:n=>{localStorage.setItem("eventName",n),t({eventName:n})},setCurrentViewingTeam:async n=>{t({loading:!0}),localStorage.setItem("currentViewingTeam",String(n)),t({currentViewingTeam:n,loading:!1})},setUsePracticeData:n=>{localStorage.setItem("usePracticeData",String(n)),t({usePracticeData:n})},loadData:async()=>{e().forms.length>0||await e().hotRefresh()},hotRefresh:async()=>{t({loading:!0});const n=new Date().getFullYear();e().loadTeamImage();const[r,i,a,o,u]=await Promise.all([cW(n),gW(),fW(),mW(),pW()]),f=await dW(e().eventName,i);console.log(i);const d=lW(i);console.log(d),f?.tbaData?.oprs&&Object.entries(f.tbaData.oprs).forEach(([p,y])=>{const b=Number(p.replace("frc",""));if(Object.keys(d).includes(String(b))){const x=Math.round(y*10)/10;d[b],d[b].opr={max:x,min:x,median:x,mean:x,q3:x}}}),Object.keys(d).forEach(p=>{const y=Number(p);d[y].opr||(d[y].opr={max:0,min:0,median:0,mean:0,q3:0})});const h=uW(d);t({forms:i,pitForms:a,teamStats:d,columnPercentiles:h,aiOverviews:o,aiMatches:u,eventKeys:r,tbaData:f?.tbaData??null,teamInfo:f?.teamInfo??{},loading:!1})}})),gW=async()=>{var t=["match"];Rn.getState().usePracticeData&&(t.push("practice"),t.push("pre"));const{data:e,error:n}=await hE.from("Live Data").select("*").in("match_type",t);return e?e.map(r=>({...r,opr:0})):[]};async function yW(t){try{return(await fetch(t,{method:"HEAD"})).ok}catch{return!1}}const XC=[{name:"Tables",path:"/"},{name:"Ranks",path:"/ranks"},{name:"Teams",path:"/teams"},{name:"Compare",path:"/compare"},{name:"Match",path:"/match"},{name:"Pick List",path:"/picklist"},{name:"Sandbox",path:"/sandbox"}];function sa(){const[t,e]=A.useState(!1),n=Yo(),[r,i]=A.useState(null),[a,o]=A.useState(!1),{forms:u,teamStats:f,setCurrentViewingTeam:d}=Rn(),h=A.useRef(null),p=A.useRef(null),y=Ih();return A.useEffect(()=>{function b(x){h.current&&!h.current.contains(x.target)&&p.current&&!p.current.contains(x.target)&&o(!1)}return i(null),document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[o]),_.jsxs("header",{className:"bg-gray-900 fixed w-full top-0 left-0 z-1091 select-none drop-shadow-lg",children:[_.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex justify-between items-center h-14",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("img",{src:G9,alt:"Logo",className:"h-12 w-12 object-contain"}),_.jsx("div",{className:"text-2xl font-bold text-orange-400 ml-5",children:"Scouting 2025"})]}),_.jsxs("nav",{className:"hidden lg:flex gap-4",children:[XC.map(b=>{const x=n.pathname===b.path;return _.jsxs(jc,{to:b.path,className:"relative text-orange-400 px-3 py-2 rounded group overflow-hidden font-medium text-lg",children:[x?_.jsx("span",{className:"absolute inset-0 bg-orange-600 group-hover:bg-orange-800 transition duration-300 rounded"}):_.jsx("span",{className:"absolute inset-0 bg-orange-600 scale-y-0 origin-top group-hover:scale-y-100 transition duration-300 rounded"}),_.jsx("span",{className:`relative ${x?"text-white":"group-hover:text-white transition-colors duration-500"}`,children:b.name})]},b.name)}),_.jsxs(jc,{to:"/coscout",className:"hidden relative text-orange-400 px-3 py-2 rounded group overflow-hidden font-medium text-xl",children:[_.jsx("span",{className:"absolute inset-0 bg-gray-500 scale-y-0 origin-top group-hover:scale-y-100 transition duration-300 rounded"}),_.jsx(o9,{color:"orange",size:28,className:"relative"})]}),_.jsxs("div",{ref:h,className:"relative w-30",children:[_.jsxs("div",{className:"flex items-center relative h-full",children:[_.jsx(Vw,{className:"absolute right-3 cursor-pointer hover:scale-105",color:"white"}),_.jsx("input",{type:"text",onChange:b=>{o(!0),i(parseInt(b.target.value))},className:"h-full bg-gray-600 rounded-md w-full text-white text-lg px-3 pr-10",placeholder:""})]}),a&&_.jsx("div",{className:"absolute top-full mt-1 left-0 w-full bg-white rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:Object.keys(f).map(b=>f[parseInt(b)]).filter(b=>b.team_number.mean.toString().includes(String(r))).map(b=>_.jsx("h1",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer rounded-md",onClick:()=>{d(b.team_number.max),y("/teams"),o(!1)},children:b.team_number.max},b.team_number.max))})]})]}),_.jsx("div",{className:"lg:hidden z-50 relative",children:_.jsx("button",{onClick:()=>e(!t),children:t?_.jsx(N9,{size:36,color:"white"}):_.jsx(w9,{size:32,color:"white"})})})]}),_.jsxs("div",{className:`lg:hidden fixed top-0 left-0 right-0 bg-gray-900 bg-opacity-95 flex flex-col items-center justify-center gap-4 py-4 h-auto text-2xl
          transform transition-transform-opacity duration-500
          ${t?"translate-y-0 opacity-100":"-translate-y-full opacity-0 pointer-events-none"}
        `,children:[XC.map(b=>{const x=n.pathname===b.path;return _.jsxs(jc,{to:b.path,className:"relative text-orange-400 px-6 py-2 rounded group overflow-hidden font-medium",onClick:()=>e(!1),children:[x&&_.jsx("span",{className:"absolute inset-0 bg-orange-600 rounded"}),_.jsx("span",{className:`relative ${x?"text-white":"group-hover:text-white transition-colors duration-300"}`,children:b.name})]},b.name)}),_.jsxs("div",{ref:p,className:"relative w-30 h-10",children:[_.jsxs("div",{className:"flex items-center relative h-full",children:[_.jsx(Vw,{className:"absolute right-3 cursor-pointer hover:scale-105",color:"white"}),_.jsx("input",{type:"text",pattern:"\\d*",onChange:b=>{o(!0),i(parseInt(b.target.value))},className:"h-full bg-gray-600 rounded-md w-full text-white text-lg px-3 pr-10",placeholder:""})]}),a&&_.jsx("div",{className:"absolute top-full mt-1 left-0 w-full bg-white rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:Object.keys(f).map(b=>f[parseInt(b)]).filter(b=>b.team_number.mean.toString().includes(String(r))).map(b=>_.jsx("h1",{className:"px-3 py-2 text-sm font-semibold hover:bg-gray-100 cursor-pointer rounded-md",onClick:()=>{d(b.team_number.max),y("/teams"),e(!1)},children:b.team_number.max},b.team_number.max))})]})]})]})}function qa(){const t=Rn(e=>e.hotRefresh);return _.jsx("button",{onClick:t,className:"fixed bottom-2 right-2 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-700 transition duration-300 z-50 cursor-pointer",title:"Reload Data",children:_.jsx(E9,{size:24})})}function Ns(){return _.jsx(jc,{to:"/settings",className:"fixed bottom-2 left-2 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-700 transition duration-300 z-50 cursor-pointer",children:_.jsx("div",{children:_.jsx(C9,{})})},"settings")}function mE({isOpen:t,onClose:e,forms:n,teamNumber:r,teamInfo:i,teamImages:a}){const{setCurrentViewingTeam:o,tbaData:u,teamStats:f}=Rn(),d=Ih(),p=(r?n.filter(y=>Number(y.team_number)===r).sort((y,b)=>(y.match_number??0)-(b.match_number??0)):[]).filter(y=>y.comments);return t?_.jsx("div",{className:"fixed inset-0 z-706 flex items-center justify-center bg-black/67",onClick:e,children:_.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[75vh] overflow-hidden flex flex-col m-4 pointer-events-auto",onClick:y=>y.stopPropagation(),children:[_.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Quick Team Overview"}),_.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition cursor-pointer",children:_.jsx(H9,{size:24,className:"text-gray-600"})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r?_.jsxs("div",{className:"space-y-6",children:[_.jsx("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-200",children:_.jsxs("div",{className:"w-full",children:[_.jsxs("div",{className:"p-4 flex justify-between w-full gap-4",children:[_.jsxs("h3",{className:"text-3xl font-bold text-gray-800",children:["Team ",r," - ",i&&i[r]?.nickname||"Unknown Team"]}),_.jsx("button",{onClick:()=>{o(r),d("/teams")},className:"px-5 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition font-medium cursor-pointer",children:"View Team Page"})]}),_.jsxs("div",{className:"text-base text-gray-800 mb-1 flex flex-row flex-wrap gap-2",children:[_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-xs",children:"Rank"}),_.jsx("p",{className:"text-md font-semibold",children:u?.rankings?.find(y=>y.team_key===`frc${r}`)?.rank??"N/A"})]}),_.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-xs",children:"OPR"}),_.jsx("p",{className:"text-md font-semibold",children:Math.round(Number(u?.oprs[`frc${r}`]??0)*10)/10})]}),_.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-xs",children:"Total Points"}),_.jsx("p",{className:"text-md font-semibold",children:f[r]?.total_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-xs",children:"Auto Points"}),_.jsx("p",{className:"text-md font-semibold",children:f[r]?.auto_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-xs",children:"Tele Points"}),_.jsx("p",{className:"text-md font-semibold",children:f[r]?.tele_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-xs",children:"Endgame Points"}),_.jsx("p",{className:"text-md font-semibold",children:f[r]?.endgame_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-xs",children:"Total Gamepieces"}),_.jsx("p",{className:"text-md font-semibold",children:f[r]?.total_gamepieces?.q3??0})]})]}),_.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[p.length," comment",p.length!==1?"s":""," found"]})]})}),p.length>0?_.jsx("div",{className:"space-y-3",children:p.map(y=>_.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 hover:shadow-md transition",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:y.match_type=="match"?"Match "+y.match_number:vW(y.match_type)+" Match"}),y.scout_name&&_.jsxs("span",{className:"text-xs text-gray-500",children:["by ",y.scout_name]})]}),_.jsx("p",{className:"text-gray-800 leading-relaxed",children:y.comments})]},y.id))}):_.jsxs("div",{className:"text-center py-12",children:[_.jsx("div",{className:"text-gray-400 mb-2",children:_.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),_.jsxs("p",{className:"text-gray-500 text-lg",children:["No comments available for Team ",r]})]})]}):_.jsxs("div",{className:"text-center py-20",children:[_.jsx("div",{className:"text-gray-400 mb-4",children:_.jsx(Vw,{className:"w-20 h-20 mx-auto"})}),_.jsx("p",{className:"text-gray-500 text-lg",children:"Enter a team number to view their comments"})]})}),_.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex justify-end",children:_.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition font-medium cursor-pointer",children:"Close"})})]})}):null}function vW(t){return typeof t!="string"||t.length===0?t:t.charAt(0).toUpperCase()+t.slice(1)}const bW=["opr","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","tele_made_net"],_W=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()},wW=t=>{alert(t||"No comment")},QC="tableTeamValueType";function xW(){const{forms:t,teamStats:e,loading:n,columnPercentiles:r,loadData:i,teamInfo:a}=Rn();A.useEffect(()=>{i()},[]);const[o,u]=A.useState(!1),[f,d]=A.useState(-1),[h,p]=A.useState("Team"),[y,b]=A.useState(sessionStorage.getItem(QC)??"Median"),[x,E]=A.useState(!0),[S,O]=A.useState(!0),[R,P]=A.useState(-1),[V,D]=A.useState(-1),[j,k]=A.useState({column:null,direction:null});A.useEffect(()=>{sessionStorage.setItem(QC,y)},[y]);const I=B=>{k(M=>M.column===B?M.direction==="desc"?{column:B,direction:"asc"}:M.direction==="asc"?{column:null,direction:null}:{column:B,direction:"desc"}:{column:B,direction:"desc"})},L=B=>j.column!==B?_.jsx(i9,{size:14,className:"inline ml-1 text-gray-600"}):j.direction==="desc"?_.jsx(zD,{size:14,className:"inline ml-1 text-orange-600"}):_.jsx(FD,{size:14,className:"inline ml-1 text-orange-600"});function q(B,M){return!M.column||!M.direction?B:[...B].sort((le,be)=>{let G=le[M.column??0]??0,ae=be[M.column??0]??0;return(M.column==="team_number"||M.column==="match_number")&&(G=Number(G),ae=Number(ae)),typeof G=="number"&&typeof ae=="number"&&!isNaN(G)&&!isNaN(ae)?M.direction==="asc"?G-ae:ae-G:M.direction==="asc"?String(G).localeCompare(String(ae)):String(ae).localeCompare(String(G))})}function z(B,M,le){return!M.column||!M.direction?B:[...B].sort((be,G)=>{const ae=be.stats[M.column??0][le]??0,ve=G.stats[M.column??0][le]??0;return typeof ae=="number"&&typeof ve=="number"?M.direction==="asc"?ae-ve:ve-ae:M.direction==="asc"?String(ae).localeCompare(String(ve)):String(ve).localeCompare(String(ae))})}return _.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(sa,{}),_.jsx(mE,{isOpen:o,onClose:()=>u(!1),forms:t,teamNumber:f,teamInfo:a}),_.jsxs("main",{className:"pt-20 px-0 md:px-6 pr-10",children:[n?_.jsx("div",{className:"text-orange-500 m-15 text-2xl font-bold animate-bounce",children:"Loading data..."}):_.jsxs("div",{className:"scrollbar-thin scrollbar-thumb-orange-500 scrollbar-track-gray-200 relative ",children:[_.jsx("button",{className:`fixed top-22 right-2 z-50 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-600 transition duration-500 cursor-pointer ${S?"opacity-0 pointer-events-none":"opacity-100"}`,onClick:()=>O(!0),children:_.jsx(P9,{size:24})}),_.jsxs("div",{className:`fixed top-18 right-0 ${S?"-translate-x-2 opacity-100":"translate-x-full opacity-0 pointer-events-none"} bg-gray-100 py-1.5 px-5 flex flex-row gap-4 items-center shadow-md w-fit rounded-lg hover:bg-gray-200 transition duration-500 z-40`,children:[_.jsx(EW,{view:h,setView:p}),h==="Team"&&_.jsx(SW,{view:y,setView:b}),h==="Raw"&&_.jsx(AW,{view:V,setView:D,teamStats:e}),_.jsx("button",{className:"ml-0 p-1 text-gray-600 hover:text-gray-800 transition cursor-pointer",onClick:()=>E(B=>!B),children:_.jsx(b9,{size:24,color:x?"darkorange":"currentColor"})}),_.jsx("button",{className:"ml-0 p-1 text-gray-600 hover:text-gray-800 transition cursor-pointer",onClick:()=>O(!1),children:_.jsx(y9,{size:24})})]}),_.jsxs("table",{className:`table-auto border-collapse w-full text-sm md:text-base mt-18 ml-0 mb-15 ${h==="Raw"?"shadow-lg rounded-lg overflow-hidden":"border border-gray-300"}`,children:[_.jsx("thead",{className:"sticky top-13 transition-top duration-250 pt-1",children:_.jsx("tr",{className:h==="Raw"?"bg-gradient-to-r from-orange-100 to-orange-100":"bg-gray-200 shadow-lg",children:(h==="Raw"?xC.filter(B=>B!="opr"):jo).map(B=>_.jsx("th",{onClick:()=>{I(B)},className:`${h==="Raw"?"border-b-2 border-orange-300 px-3 py-2 font-semibold text-gray-900":"border-t-1 border-b-1 border-gray-300 px-3 py-2"} text-center whitespace-nowrap cursor-pointer select-none hover:bg-orange-200 transition duration-250 ${j.column===B?h==="Raw"?"bg-orange-300":"bg-orange-400":""}`,children:_.jsxs("div",{className:"flex items-center justify-center gap-1",children:[_W(B),h==="Raw"?L(B):j.column===B&&_.jsx("span",{className:"text-xs font-bold text-orange-600",children:j.direction==="desc"?"▼":j.direction==="asc"?"▲":""})]})},B))})}),_.jsx("tbody",{children:h==="Raw"?q(t,j).filter(B=>V==-1||B.team_number==V).map((B,M)=>_.jsx("tr",{className:M%3!==0?"bg-white hover:bg-gray-50 transition-colors":"bg-gray-50 hover:bg-gray-100 transition-colors",children:xC.filter(le=>le!="opr").map(le=>_.jsx("td",{className:"border-y border-gray-200 px-3 py-2 text-center",children:le==="comments"?_.jsx("button",{onClick:()=>wW(B[le]),className:"px-3 py-1.5 bg-orange-500 text-white text-sm font-medium rounded-md hover:bg-orange-600 transition shadow-sm",children:"View"}):typeof B[le]=="boolean"?_.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B[le]?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:B[le]?"Yes":"No"}):le=="match_number"?_.jsx("span",{className:"font-medium text-gray-800",children:B.match_type=="match"?B[le]??"":B.match_type.toUpperCase()??""}):_.jsx("span",{className:"text-gray-700",children:B[le]??""})},le))},B.id)):z(Object.entries(e).map(([B,M])=>({teamNumber:B,stats:M})),j,y.toLowerCase()).map(({teamNumber:B,stats:M},le)=>{const be=M;return _.jsx("tr",{className:`${(le+1)%3===0&&R!==be.team_number[y.toLowerCase()]?"bg-gray-200 hover:bg-gray-300":"hover:bg-gray-100"} ${R==be.team_number[y.toLowerCase()]?"bg-orange-300 hover:bg-orange-400":""} transition duration-250`,onClick:()=>P(G=>G===be.team_number[y.toLowerCase()]?-1:be.team_number[y.toLowerCase()]),children:jo.map(G=>{const ae=be[G][y.toLowerCase()],{p10:ve,p25:Se,p75:H,p90:oe}=r[G][y.toLowerCase()]??{p10:0,p25:0,p75:1/0,p90:1/0};let ie=" rounded-md px-4 py-1 transition duration-250 ";return bW.includes(G)&&x&&(ae<=ve?ie=ie.concat(" bg-red-500/95 font-bold shadow-sm "):ae<=Se?ie=ie.concat(" bg-red-200/95 shadow-sm "):ae>=oe?ie=ie.concat(" bg-blue-300/95 font-bold shadow-sm "):ae>=H&&(ie=ie.concat(" bg-green-200/95 shadow-sm "))),_.jsx("td",{className:`cursor-${G=="team_number"?"pointer":"arrow"} ${G=="team_number"?"hover:font-bold":""} transition border-t-1 border-b-1 border-y-gray-500 px-3 py-3 text-center ${j.column===G?"border-x-orange-400 border-x-3":""}`,onClick:G=="team_number"?()=>{d(ae),u(!0)}:()=>{},children:_.jsx("span",{className:ie,children:ae})},G)})},B)})})]})]}),_.jsx(qa,{}),_.jsx(Ns,{})]})]})}function EW({view:t,setView:e}){return _.jsxs("div",{className:"my-0",children:[_.jsx("label",{htmlFor:"table-type-select",className:"mr-2 font-medium text-gray-700",children:"Table Type:"}),_.jsxs("select",{id:"table-type-select",value:t,onChange:n=>e(n.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-xl hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:[_.jsx("option",{value:"Raw",children:"Raw"}),_.jsx("option",{value:"Team",children:"Team"})]})]})}function SW({view:t,setView:e}){return _.jsxs("div",{className:"my-0 ml-2",children:[_.jsx("label",{htmlFor:"team-value-select",className:"mr-2 font-medium text-gray-700",children:"Value Type:"}),_.jsxs("select",{id:"team-value-select",value:t,onChange:n=>e(n.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-xl hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:[_.jsx("option",{value:"Max",children:"Max"}),_.jsx("option",{value:"Q3",children:"Q3"}),_.jsx("option",{value:"Median",children:"Median"}),_.jsx("option",{value:"Mean",children:"Mean"}),_.jsx("option",{value:"Min",children:"Min"})]})]})}function AW({view:t,setView:e,teamStats:n}){return _.jsxs("div",{className:"my-0 ml-2",children:[_.jsx("label",{htmlFor:"team-value-select",className:"mr-2 font-medium text-gray-700",children:"Team:"}),_.jsxs("select",{id:"team-value-select",value:t,onChange:r=>e(parseInt(r.target.value)),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-xl hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:[_.jsx("option",{value:-1,children:"ANY"}),Object.keys(n).map(r=>_.jsx("option",{value:n[r].team_number.max,children:n[r].team_number.max}))]})]})}function TW(){const t=DD();return console.error(t),_.jsxs("div",{id:"error-page",children:[_.jsx("h1",{children:"That page does not exist."}),_.jsx("p",{children:"Sorry, an unexpected error has occurred."}),_.jsx("p",{children:_.jsx("i",{children:t.statusText||t.message})})]})}const OW=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()};function Rr({view:t,setView:e,label:n,options:r}){return _.jsxs("div",{className:"my-0",children:[_.jsx("label",{className:"mr-2 font-medium text-gray-700",children:n}),_.jsx("select",{value:t,onChange:i=>e(i.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-lg hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:r.map(i=>_.jsxs("option",{value:String(i),children:[" ",typeof i=="string"?OW(i):String(i)," "]},String(i)))})]})}function f4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=f4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ot(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=f4(t))&&(r&&(r+=" "),r+=e);return r}var Kb={},Gb={},JC;function PW(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Gb)),Gb}var Wb={},ZC;function d4(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Wb)),Wb}var Yb={},ej;function h4(){return ej||(ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Yb)),Yb}var Xb={},tj;function pE(){return tj||(tj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,o="",u="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const d=n[a];u?d==="\\"&&a+1<i?(a++,o+=n[a]):d===u?u="":o+=d:f?d==='"'||d==="'"?u=d:d==="]"?(f=!1,r.push(o),o=""):o+=d:d==="["?(f=!0,o&&(r.push(o),o="")):d==="."?o&&(r.push(o),o=""):o+=d,a++}return o&&r.push(o),r}t.toPath=e})(Xb)),Xb}var nj;function gE(){return nj||(nj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PW(),n=d4(),r=h4(),i=pE();function a(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?n.isDeepKey(f)?a(u,i.toPath(f),d):d:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?d:h}default:{if(Array.isArray(f))return o(u,f,d);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?d:h}}}function o(u,f,d){if(f.length===0)return d;let h=u;for(let p=0;p<f.length;p++){if(h==null||e.isUnsafeProperty(f[p]))return d;h=h[f[p]]}return h===void 0?d:h}t.get=a})(Kb)),Kb}var Qb,rj;function RW(){return rj||(rj=1,Qb=gE().get),Qb}var CW=RW();const au=fi(CW);var Jb={exports:{}},$t={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ij;function jW(){if(ij)return $t;ij=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function x(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case i:case r:case f:case d:case y:return E;default:switch(E=E&&E.$$typeof,E){case o:case u:case p:case h:return E;case a:return E;default:return S}}case e:return S}}}return $t.ContextConsumer=a,$t.ContextProvider=o,$t.Element=t,$t.ForwardRef=u,$t.Fragment=n,$t.Lazy=p,$t.Memo=h,$t.Portal=e,$t.Profiler=i,$t.StrictMode=r,$t.Suspense=f,$t.SuspenseList=d,$t.isContextConsumer=function(E){return x(E)===a},$t.isContextProvider=function(E){return x(E)===o},$t.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},$t.isForwardRef=function(E){return x(E)===u},$t.isFragment=function(E){return x(E)===n},$t.isLazy=function(E){return x(E)===p},$t.isMemo=function(E){return x(E)===h},$t.isPortal=function(E){return x(E)===e},$t.isProfiler=function(E){return x(E)===i},$t.isStrictMode=function(E){return x(E)===r},$t.isSuspense=function(E){return x(E)===f},$t.isSuspenseList=function(E){return x(E)===d},$t.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===p||E.$$typeof===h||E.$$typeof===o||E.$$typeof===a||E.$$typeof===u||E.$$typeof===b||E.getModuleId!==void 0)},$t.typeOf=x,$t}var aj;function NW(){return aj||(aj=1,Jb.exports=jW()),Jb.exports}var kW=NW(),Br=t=>t===0?0:t>0?1:-1,oi=t=>typeof t=="number"&&t!=+t,Hl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Te=t=>(typeof t=="number"||t instanceof Number)&&!oi(t),Ua=t=>Te(t)||typeof t=="string",DW=0,_h=t=>{var e=++DW;return"".concat(t||"").concat(e)},oa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&typeof e!="string")return r;var a;if(Hl(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return oi(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},m4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},Dp=(t,e)=>Te(t)&&Te(e)?n=>t+n*(e-t):()=>e;function ea(t,e,n){return Te(t)&&Te(e)?t+n*(e-t):e}function p4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):au(r,e))===n)}var qt=t=>t===null||typeof t>"u",Hh=t=>qt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),IW=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function yE(t){if(typeof t!="string")return!1;var e=IW;return e.includes(t)}var MW=["viewBox","children"],sj=["points","pathLength"],Zb={svg:MW,polygon:sj,polyline:sj},vE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{yE(i)&&(r[i]=(a=>n[i](n,a)))}),r},LW=(t,e,n)=>r=>(t(e,n,r),null),cf=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];yE(i)&&typeof a=="function"&&(r||(r={}),r[i]=LW(a,e,n))}),r},$W=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function g4(t){if(typeof t!="string")return!1;var e=$W;return e.includes(t)}function Cr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return g4(r)});return Object.fromEntries(e)}var oj=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",lj=null,e_=null,y4=t=>{if(t===lj&&Array.isArray(e_))return e_;var e=[];return A.Children.forEach(t,n=>{qt(n)||(kW.isFragment(n)?e=e.concat(y4(n.props.children)):e.push(n))}),e_=e,lj=t,e};function bE(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>oj(i)):r=[oj(e)],y4(t).forEach(i=>{var a=au(i,"type.displayName")||au(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var v4=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,VW=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&Zb?.[r])!==null&&i!==void 0?i:[],o=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&a.includes(e)||g4(e)),f=!!n&&yE(e);return o||u||f},_t=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(A.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;VW((o=r)===null||o===void 0?void 0:o[a],a,e,n)&&(i[a]=r[a])}),i},UW=["children","width","height","viewBox","className","style","title","desc"];function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_x.apply(null,arguments)}function BW(t,e){if(t==null)return{};var n,r,i=zW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _E=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:u,title:f,desc:d}=t,h=BW(t,UW),p=a||{width:r,height:i,x:0,y:0},y=ot("recharts-surface",o);return A.createElement("svg",_x({},_t(h,!0,"svg"),{className:y,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),A.createElement("title",null,f),A.createElement("desc",null,d),n)}),qW=["children","className"];function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(null,arguments)}function FW(t,e){if(t==null)return{};var n,r,i=HW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pn=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=FW(t,qW),a=ot("recharts-layer",r);return A.createElement("g",wx({className:a},_t(i,!0),{ref:e}),n)}),b4=A.createContext(null),KW=()=>A.useContext(b4);function Wt(t){return function(){return t}}const _4=Math.cos,kg=Math.sin,la=Math.sqrt,Dg=Math.PI,My=2*Dg,xx=Math.PI,Ex=2*xx,Il=1e-6,GW=Ex-Il;function w4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function WW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return w4;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class YW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?w4:WW(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,f=r-e,d=i-n,h=o-e,p=u-n,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Il)if(!(Math.abs(p*f-d*h)>Il)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-o,x=i-u,E=f*f+d*d,S=b*b+x*x,O=Math.sqrt(E),R=Math.sqrt(y),P=a*Math.tan((xx-Math.acos((E+y-S)/(2*O*R)))/2),V=P/R,D=P/O;Math.abs(V-1)>Il&&this._append`L${e+V*h},${n+V*p}`,this._append`A${a},${a},0,0,${+(p*b>h*x)},${this._x1=e+D*f},${this._y1=n+D*d}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=e+u,h=n+f,p=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Il||Math.abs(this._y1-h)>Il)&&this._append`L${d},${h}`,r&&(y<0&&(y=y%Ex+Ex),y>GW?this._append`A${r},${r},0,1,${p},${e-u},${n-f}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:y>Il&&this._append`A${r},${r},0,${+(y>=xx)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function wE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new YW(e)}function xE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function x4(t){this._context=t}x4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ly(t){return new x4(t)}function E4(t){return t[0]}function S4(t){return t[1]}function A4(t,e){var n=Wt(!0),r=null,i=Ly,a=null,o=wE(u);t=typeof t=="function"?t:t===void 0?E4:Wt(t),e=typeof e=="function"?e:e===void 0?S4:Wt(e);function u(f){var d,h=(f=xE(f)).length,p,y=!1,b;for(r==null&&(a=i(b=o())),d=0;d<=h;++d)!(d<h&&n(p=f[d],d,f))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,d,f),+e(p,d,f));if(b)return a=null,b+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Wt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function Ip(t,e,n){var r=null,i=Wt(!0),a=null,o=Ly,u=null,f=wE(d);t=typeof t=="function"?t:t===void 0?E4:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?S4:Wt(+n);function d(p){var y,b,x,E=(p=xE(p)).length,S,O=!1,R,P=new Array(E),V=new Array(E);for(a==null&&(u=o(R=f())),y=0;y<=E;++y){if(!(y<E&&i(S=p[y],y,p))===O)if(O=!O)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),x=y-1;x>=b;--x)u.point(P[x],V[x]);u.lineEnd(),u.areaEnd()}O&&(P[y]=+t(S,y,p),V[y]=+e(S,y,p),u.point(r?+r(S,y,p):P[y],n?+n(S,y,p):V[y]))}if(R)return u=null,R+""||null}function h(){return A4().defined(i).curve(o).context(a)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:Wt(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Wt(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Wt(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:Wt(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Wt(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Wt(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Wt(!!p),d):i},d.curve=function(p){return arguments.length?(o=p,a!=null&&(u=o(a)),d):o},d.context=function(p){return arguments.length?(p==null?a=u=null:u=o(a=p),d):a},d}class T4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function XW(t){return new T4(t,!0)}function QW(t){return new T4(t,!1)}const EE={draw(t,e){const n=la(e/Dg);t.moveTo(n,0),t.arc(0,0,n,0,My)}},JW={draw(t,e){const n=la(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},O4=la(1/3),ZW=O4*2,eY={draw(t,e){const n=la(e/ZW),r=n*O4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},tY={draw(t,e){const n=la(e),r=-n/2;t.rect(r,r,n,n)}},nY=.8908130915292852,P4=kg(Dg/10)/kg(7*Dg/10),rY=kg(My/10)*P4,iY=-_4(My/10)*P4,aY={draw(t,e){const n=la(e*nY),r=rY*n,i=iY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=My*a/5,u=_4(o),f=kg(o);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},t_=la(3),sY={draw(t,e){const n=-la(e/(t_*3));t.moveTo(0,n*2),t.lineTo(-t_*n,-n),t.lineTo(t_*n,-n),t.closePath()}},Ri=-.5,Ci=la(3)/2,Sx=1/la(12),oY=(Sx/2+1)*3,lY={draw(t,e){const n=la(e/oY),r=n/2,i=n*Sx,a=r,o=n*Sx+n,u=-a,f=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(u,f),t.lineTo(Ri*r-Ci*i,Ci*r+Ri*i),t.lineTo(Ri*a-Ci*o,Ci*a+Ri*o),t.lineTo(Ri*u-Ci*f,Ci*u+Ri*f),t.lineTo(Ri*r+Ci*i,Ri*i-Ci*r),t.lineTo(Ri*a+Ci*o,Ri*o-Ci*a),t.lineTo(Ri*u+Ci*f,Ri*f-Ci*u),t.closePath()}};function uY(t,e){let n=null,r=wE(i);t=typeof t=="function"?t:Wt(t||EE),e=typeof e=="function"?e:Wt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Wt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Wt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Ig(){}function Mg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function R4(t){this._context=t}R4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cY(t){return new R4(t)}function C4(t){this._context=t}C4.prototype={areaStart:Ig,areaEnd:Ig,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Mg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fY(t){return new C4(t)}function j4(t){this._context=t}j4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Mg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dY(t){return new j4(t)}function N4(t){this._context=t}N4.prototype={areaStart:Ig,areaEnd:Ig,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function hY(t){return new N4(t)}function uj(t){return t<0?-1:1}function cj(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(uj(a)+uj(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function fj(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function n_(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,o-u*n,a,o)}function Lg(t){this._context=t}Lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:n_(this,this._t0,fj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,n_(this,fj(this,n=cj(this,t,e)),n);break;default:n_(this,this._t0,n=cj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function k4(t){this._context=new D4(t)}(k4.prototype=Object.create(Lg.prototype)).point=function(t,e){Lg.prototype.point.call(this,e,t)};function D4(t){this._context=t}D4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function mY(t){return new Lg(t)}function pY(t){return new k4(t)}function I4(t){this._context=t}I4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=dj(t),i=dj(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function dj(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function gY(t){return new I4(t)}function $y(t,e){this._context=t,this._t=e}$y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function yY(t){return new $y(t,.5)}function vY(t){return new $y(t,0)}function bY(t){return new $y(t,1)}function Hc(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,u=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ax(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function _Y(t,e){return t[e]}function wY(t){const e=[];return e.key=t,e}function xY(){var t=Wt([]),e=Ax,n=Hc,r=_Y;function i(a){var o=Array.from(t.apply(this,arguments),wY),u,f=o.length,d=-1,h;for(const p of a)for(u=0,++d;u<f;++u)(o[u][d]=[0,+r(p,o[u].key,d,a)]).data=p;for(u=0,h=xE(e(o));u<f;++u)o[h[u]].index=u;return n(o,h),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Wt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Wt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Ax:typeof a=="function"?a:Wt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Hc,i):n},i}function EY(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Hc(t,e)}}function SY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,u=0;o<i;++o)u+=t[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}Hc(t,e)}}function AY(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var u=0,f=0,d=0;u<o;++u){for(var h=t[e[u]],p=h[r][1]||0,y=h[r-1][1]||0,b=(p-y)/2,x=0;x<u;++x){var E=t[e[x]],S=E[r][1]||0,O=E[r-1][1]||0;b+=S-O}f+=p,d+=b*p}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,Hc(t,e)}}var TY=["type","size","sizeType"];function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tx.apply(null,arguments)}function hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(n),!0).forEach(function(r){OY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OY(t,e,n){return(e=PY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PY(t){var e=RY(t,"string");return typeof e=="symbol"?e:e+""}function RY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CY(t,e){if(t==null)return{};var n,r,i=jY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var M4={symbolCircle:EE,symbolCross:JW,symbolDiamond:eY,symbolSquare:tY,symbolStar:aY,symbolTriangle:sY,symbolWye:lY},NY=Math.PI/180,kY=t=>{var e="symbol".concat(Hh(t));return M4[e]||EE},DY=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*NY;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},IY=(t,e)=>{M4["symbol".concat(Hh(t))]=e},SE=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=CY(t,TY),a=mj(mj({},i),{},{type:e,size:n,sizeType:r}),o=()=>{var p=kY(e),y=uY().type(p).size(DY(n,r,e));return y()},{className:u,cx:f,cy:d}=a,h=_t(a,!0);return f===+f&&d===+d&&n===+n?A.createElement("path",Tx({},h,{className:ot("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(d,")"),d:o()})):null};SE.registerSymbol=IY;function Ox(){return Ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ox.apply(null,arguments)}function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(n),!0).forEach(function(r){AE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AE(t,e,n){return(e=LY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LY(t){var e=$Y(t,"string");return typeof e=="symbol"?e:e+""}function $Y(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ji=32;class TE extends A.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=ji/2,a=ji/6,o=ji/3,u=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline")return A.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:ji,y2:i,className:"recharts-legend-icon"});if(f==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(ji,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return A.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ji/8,"h").concat(ji,"v").concat(ji*3/4,"h").concat(-ji,"z"),className:"recharts-legend-icon"});if(A.isValidElement(e.legendIcon)){var d=MY({},e);return delete d.legendIcon,A.cloneElement(e.legendIcon,d)}return A.createElement(SE,{fill:u,cx:i,cy:i,size:ji,sizeType:"diameter",type:f})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,u={x:0,y:0,width:ji,height:ji},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var y=h.formatter||i,b=ot({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var x=h.inactive?a:h.color,E=y?y(h.value,h,p):h.value;return A.createElement("li",Ox({className:b,style:f,key:"legend-item-".concat(p)},cf(this.props,h,p)),A.createElement(_E,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(E," legend icon")},this.renderIcon(h,o)),A.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},E))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}AE(TE,"displayName","Legend");AE(TE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var r_={},i_={},gj;function VY(){return gj||(gj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],u=r(o);i.has(u)||i.set(u,o)}return Array.from(i.values())}t.uniqBy=e})(i_)),i_}var a_={},yj;function Vy(){return yj||(yj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(a_)),a_}var s_={},o_={},l_={},vj;function UY(){return vj||(vj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(l_)),l_}var bj;function OE(){return bj||(bj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UY();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(o_)),o_}var u_={},_j;function BY(){return _j||(_j=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(u_)),u_}var wj;function zY(){return wj||(wj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OE(),n=BY();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(s_)),s_}var c_={},f_={},xj;function qY(){return xj||(xj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(f_)),f_}var d_={},h_={},m_={},p_={},Ej;function L4(){return Ej||(Ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(p_)),p_}var g_={},Sj;function $4(){return Sj||(Sj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(g_)),g_}var y_={},Aj;function PE(){return Aj||(Aj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(y_)),y_}var Tj;function FY(){return Tj||(Tj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RE(),n=L4(),r=$4(),i=PE();function a(p,y,b){return typeof b!="function"?e.isMatch(p,y):o(p,y,function x(E,S,O,R,P,V){const D=b(E,S,O,R,P,V);return D!==void 0?!!D:o(E,S,x,V)},new Map)}function o(p,y,b,x){if(y===p)return!0;switch(typeof y){case"object":return u(p,y,b,x);case"function":return Object.keys(y).length>0?o(p,{...y},b,x):i.eq(p,y);default:return n.isObject(p)?typeof y=="string"?y==="":!0:i.eq(p,y)}}function u(p,y,b,x){if(y==null)return!0;if(Array.isArray(y))return d(p,y,b,x);if(y instanceof Map)return f(p,y,b,x);if(y instanceof Set)return h(p,y,b,x);const E=Object.keys(y);if(p==null)return E.length===0;if(E.length===0)return!0;if(x&&x.has(y))return x.get(y)===p;x&&x.set(y,p);try{for(let S=0;S<E.length;S++){const O=E[S];if(!r.isPrimitive(p)&&!(O in p)||y[O]===void 0&&p[O]!==void 0||y[O]===null&&p[O]!==null||!b(p[O],y[O],O,p,y,x))return!1}return!0}finally{x&&x.delete(y)}}function f(p,y,b,x){if(y.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,S]of y.entries()){const O=p.get(E);if(b(O,S,E,p,y,x)===!1)return!1}return!0}function d(p,y,b,x){if(y.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let S=0;S<y.length;S++){const O=y[S];let R=!1;for(let P=0;P<p.length;P++){if(E.has(P))continue;const V=p[P];let D=!1;if(b(V,O,S,p,y,x)&&(D=!0),D){E.add(P),R=!0;break}}if(!R)return!1}return!0}function h(p,y,b,x){return y.size===0?!0:p instanceof Set?d([...p],[...y],b,x):!1}t.isMatchWith=a,t.isSetMatch=h})(m_)),m_}var Oj;function RE(){return Oj||(Oj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FY();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(h_)),h_}var v_={},b_={},__={},Pj;function V4(){return Pj||(Pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(__)),__}var w_={},Rj;function CE(){return Rj||(Rj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(w_)),w_}var x_={},Cj;function jE(){return Cj||(Cj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",h="[object Array]",p="[object Function]",y="[object ArrayBuffer]",b="[object Object]",x="[object Error]",E="[object DataView]",S="[object Uint8Array]",O="[object Uint8ClampedArray]",R="[object Uint16Array]",P="[object Uint32Array]",V="[object BigUint64Array]",D="[object Int8Array]",j="[object Int16Array]",k="[object Int32Array]",I="[object BigInt64Array]",L="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=h,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=V,t.booleanTag=i,t.dataViewTag=E,t.dateTag=u,t.errorTag=x,t.float32ArrayTag=L,t.float64ArrayTag=q,t.functionTag=p,t.int16ArrayTag=j,t.int32ArrayTag=k,t.int8ArrayTag=D,t.mapTag=f,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=R,t.uint32ArrayTag=P,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=O})(x_)),x_}var E_={},jj;function HY(){return jj||(jj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(E_)),E_}var Nj;function U4(){return Nj||(Nj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V4(),n=CE(),r=jE(),i=$4(),a=HY();function o(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,y,b=new Map,x=void 0){const E=x?.(h,p,y,b);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const S=new Array(h.length);b.set(h,S);for(let O=0;O<h.length;O++)S[O]=u(h[O],O,y,b,x);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;b.set(h,S);for(const[O,R]of h)S.set(O,u(R,O,y,b,x));return S}if(h instanceof Set){const S=new Set;b.set(h,S);for(const O of h)S.add(u(O,void 0,y,b,x));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,S);for(let O=0;O<h.length;O++)S[O]=u(h[O],O,y,b,x);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,S),f(S,h,y,b,x),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return b.set(h,S),f(S,h,y,b,x),S}if(h instanceof Blob){const S=new Blob([h],{type:h.type});return b.set(h,S),f(S,h,y,b,x),S}if(h instanceof Error){const S=new h.constructor;return b.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,f(S,h,y,b,x),S}if(typeof h=="object"&&d(h)){const S=Object.create(Object.getPrototypeOf(h));return b.set(h,S),f(S,h,y,b,x),S}return h}function f(h,p,y=h,b,x){const E=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<E.length;S++){const O=E[S],R=Object.getOwnPropertyDescriptor(h,O);(R==null||R.writable)&&(h[O]=u(p[O],O,y,b,x))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=u,t.copyProperties=f})(b_)),b_}var kj;function KY(){return kj||(kj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(v_)),v_}var Dj;function GY(){return Dj||(Dj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RE(),n=KY();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(d_)),d_}var S_={},A_={},T_={},Ij;function WY(){return Ij||(Ij=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U4(),n=jE();function r(i,a){return e.cloneDeepWith(i,(o,u,f,d)=>{const h=a?.(o,u,f,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(T_)),T_}var Mj;function YY(){return Mj||(Mj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WY();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(A_)),A_}var O_={},P_={},Lj;function B4(){return Lj||(Lj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(P_)),P_}var R_={},$j;function XY(){return $j||($j=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CE();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(R_)),R_}var Vj;function QY(){return Vj||(Vj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d4(),n=B4(),r=XY(),i=pE();function a(o,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&o?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let d=o;for(let h=0;h<f.length;h++){const p=f[h];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=a})(O_)),O_}var Uj;function JY(){return Uj||(Uj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RE(),n=h4(),r=YY(),i=gE(),a=QY();function o(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(d){const h=i.get(d,u);return h===void 0?a.has(d,u):f===void 0?h===void 0:e.isMatch(h,f)}}t.matchesProperty=o})(S_)),S_}var Bj;function NE(){return Bj||(Bj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vy(),n=qY(),r=GY(),i=JY();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(c_)),c_}var zj;function ZY(){return zj||(zj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VY(),n=Vy(),r=zY(),i=NE();function a(o,u=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(u)):[]}t.uniqBy=a})(r_)),r_}var C_,qj;function eX(){return qj||(qj=1,C_=ZY().uniqBy),C_}var tX=eX();const Fj=fi(tX);function z4(t,e,n){return e===!0?Fj(t,n):typeof e=="function"?Fj(t,e):t}var j_={exports:{}},N_={},k_={exports:{}},D_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hj;function nX(){if(Hj)return D_;Hj=1;var t=rf();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function u(p,y){var b=y(),x=r({inst:{value:b,getSnapshot:y}}),E=x[0].inst,S=x[1];return a(function(){E.value=b,E.getSnapshot=y,f(E)&&S({inst:E})},[p,b,y]),i(function(){return f(E)&&S({inst:E}),p(function(){f(E)&&S({inst:E})})},[p]),o(b),b}function f(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch{return!0}}function d(p,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return D_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,D_}var Kj;function rX(){return Kj||(Kj=1,k_.exports=nX()),k_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj;function iX(){if(Gj)return N_;Gj=1;var t=rf(),e=rX();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,u=t.useMemo,f=t.useDebugValue;return N_.useSyncExternalStoreWithSelector=function(d,h,p,y,b){var x=a(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=u(function(){function O(j){if(!R){if(R=!0,P=j,j=y(j),b!==void 0&&E.hasValue){var k=E.value;if(b(k,j))return V=k}return V=j}if(k=V,r(P,j))return k;var I=y(j);return b!==void 0&&b(k,I)?(P=j,k):(P=j,V=I)}var R=!1,P,V,D=p===void 0?null:p;return[function(){return O(h())},D===null?void 0:function(){return O(D())}]},[h,p,y,b]);var S=i(d,x[0],x[1]);return o(function(){E.hasValue=!0,E.value=S},[S]),f(S),S},N_}var Wj;function aX(){return Wj||(Wj=1,j_.exports=iX()),j_.exports}var sX=aX(),kE=A.createContext(null),oX=t=>t,Qt=()=>{var t=A.useContext(kE);return t?t.store.dispatch:oX},sg=()=>{},lX=()=>sg,uX=(t,e)=>t===e;function Ee(t){var e=A.useContext(kE);return sX.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:lX,e?e.store.getState:sg,e?e.store.getState:sg,e?t:sg,uX)}function cX(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function fX(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function dX(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Yj=t=>Array.isArray(t)?t:[t];function hX(t){const e=Array.isArray(t[0])?t[0]:t;return dX(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function mX(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var pX=class{constructor(t){this.value=t}deref(){return this.value}},gX=typeof WeakRef<"u"?WeakRef:pX,yX=0,Xj=1;function Mp(){return{s:yX,v:void 0,o:null,p:null}}function q4(t,e={}){let n=Mp();const{resultEqualityCheck:r}=e;let i,a=0;function o(){let u=n;const{length:f}=arguments;for(let p=0,y=f;p<y;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let x=u.o;x===null&&(u.o=x=new WeakMap);const E=x.get(b);E===void 0?(u=Mp(),x.set(b,u)):u=E}else{let x=u.p;x===null&&(u.p=x=new Map);const E=x.get(b);E===void 0?(u=Mp(),x.set(b,u)):u=E}}const d=u;let h;if(u.s===Xj)h=u.v;else if(h=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new gX(h):h}return d.s=Xj,d.v=h,h}return o.clearCache=()=>{n=Mp(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function vX(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,u,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),cX(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...f},{memoize:p,memoizeOptions:y=[],argsMemoize:b=q4,argsMemoizeOptions:x=[]}=h,E=Yj(y),S=Yj(x),O=hX(i),R=p(function(){return a++,d.apply(null,arguments)},...E),P=b(function(){o++;const D=mX(O,arguments);return u=R.apply(null,D),u},...S);return Object.assign(P,{resultFunc:d,memoizedResultFunc:R,dependencies:O,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var te=vX(q4),bX=Object.assign((t,e=te)=>{fX(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,u,f)=>(o[n[f]]=u,o),{}))},{withTypes:()=>bX}),I_={},M_={},L_={},Qj;function _X(){return Qj||(Qj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),u=e(i);if(o===u&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-o:o-u}return 0};t.compareValues=n})(L_)),L_}var $_={},V_={},Jj;function F4(){return Jj||(Jj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(V_)),V_}var Zj;function wX(){return Zj||(Zj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})($_)),$_}var eN;function xX(){return eN||(eN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_X(),n=wX(),r=pE();function i(a,o,u,f){if(a==null)return[];u=f?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const d=(b,x)=>{let E=b;for(let S=0;S<x.length&&E!=null;++S)E=E[x[S]];return E},h=(b,x)=>x==null||b==null?x:typeof b=="object"&&"key"in b?Object.hasOwn(x,b.key)?x[b.key]:d(x,b.path):typeof b=="function"?b(x):Array.isArray(b)?d(x,b):typeof x=="object"?x[b]:x,p=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(x=>h(x,b))})).slice().sort((b,x)=>{for(let E=0;E<p.length;E++){const S=e.compareValues(b.criteria[E],x.criteria[E],u[E]);if(S!==0)return S}return 0}).map(b=>b.original)}t.orderBy=i})(M_)),M_}var U_={},tN;function EX(){return tN||(tN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(u,f)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&f<a?o(h,f+1):i.push(h)}};return o(n,0),i}t.flatten=e})(U_)),U_}var B_={},nN;function H4(){return nN||(nN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B4(),n=OE(),r=L4(),i=PE();function a(o,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],o):!1}t.isIterateeCall=a})(B_)),B_}var rN;function SX(){return rN||(rN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xX(),n=EX(),r=H4();function i(a,...o){const u=o.length;return u>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:u>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(I_)),I_}var z_,iN;function AX(){return iN||(iN=1,z_=SX().sortBy),z_}var TX=AX();const Uy=fi(TX);var K4=t=>t.legend.settings,OX=t=>t.legend.size,PX=t=>t.legend.payload,RX=te([PX,K4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Uy(r,n):r});function CX(){return Ee(RX)}var Lp=1;function G4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>Lp||Math.abs(o.left-e.left)>Lp||Math.abs(o.top-e.top)>Lp||Math.abs(o.width-e.width)>Lp)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ar(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var jX=typeof Symbol=="function"&&Symbol.observable||"@@observable",aN=jX,q_=()=>Math.random().toString(36).substring(7).split("").join("."),NX={INIT:`@@redux/INIT${q_()}`,REPLACE:`@@redux/REPLACE${q_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${q_()}`},$g=NX;function DE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function W4(t,e,n){if(typeof t!="function")throw new Error(ar(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ar(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ar(1));return n(W4)(t,e)}let r=t,i=e,a=new Map,o=a,u=0,f=!1;function d(){o===a&&(o=new Map,a.forEach((S,O)=>{o.set(O,S)}))}function h(){if(f)throw new Error(ar(3));return i}function p(S){if(typeof S!="function")throw new Error(ar(4));if(f)throw new Error(ar(5));let O=!0;d();const R=u++;return o.set(R,S),function(){if(O){if(f)throw new Error(ar(6));O=!1,d(),o.delete(R),a=null}}}function y(S){if(!DE(S))throw new Error(ar(7));if(typeof S.type>"u")throw new Error(ar(8));if(typeof S.type!="string")throw new Error(ar(17));if(f)throw new Error(ar(9));try{f=!0,i=r(i,S)}finally{f=!1}return(a=o).forEach(R=>{R()}),S}function b(S){if(typeof S!="function")throw new Error(ar(10));r=S,y({type:$g.REPLACE})}function x(){const S=p;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(ar(11));function R(){const V=O;V.next&&V.next(h())}return R(),{unsubscribe:S(R)}},[aN](){return this}}}return y({type:$g.INIT}),{dispatch:y,subscribe:p,getState:h,replaceReducer:b,[aN]:x}}function kX(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:$g.INIT})>"u")throw new Error(ar(12));if(typeof n(void 0,{type:$g.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ar(13))})}function Y4(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{kX(n)}catch(a){i=a}return function(o={},u){if(i)throw i;let f=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],y=n[p],b=o[p],x=y(b,u);if(typeof x>"u")throw u&&u.type,new Error(ar(14));d[p]=x,f=f||x!==b}return f=f||r.length!==Object.keys(o).length,f?d:o}}function Vg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function DX(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(ar(15))};const o={getState:i.getState,dispatch:(f,...d)=>a(f,...d)},u=t.map(f=>f(o));return a=Vg(...u)(i.dispatch),{...i,dispatch:a}}}function X4(t){return DE(t)&&"type"in t&&typeof t.type=="string"}var Q4=Symbol.for("immer-nothing"),sN=Symbol.for("immer-draftable"),li=Symbol.for("immer-state");function na(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Kc=Object.getPrototypeOf;function su(t){return!!t&&!!t[li]}function Es(t){return t?J4(t)||Array.isArray(t)||!!t[sN]||!!t.constructor?.[sN]||zy(t)||qy(t):!1}var IX=Object.prototype.constructor.toString();function J4(t){if(!t||typeof t!="object")return!1;const e=Kc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===IX}function Ug(t,e){By(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function By(t){const e=t[li];return e?e.type_:Array.isArray(t)?1:zy(t)?2:qy(t)?3:0}function Px(t,e){return By(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Z4(t,e,n){const r=By(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function MX(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function zy(t){return t instanceof Map}function qy(t){return t instanceof Set}function Ml(t){return t.copy_||t.base_}function Rx(t,e){if(zy(t))return new Map(t);if(qy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=J4(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[li];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],u=r[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[o]})}return Object.create(Kc(t),r)}else{const r=Kc(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function IE(t,e=!1){return Fy(t)||su(t)||!Es(t)||(By(t)>1&&(t.set=t.add=t.clear=t.delete=LX),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>IE(r,!0))),t}function LX(){na(2)}function Fy(t){return Object.isFrozen(t)}var $X={};function ou(t){const e=$X[t];return e||na(0,t),e}var wh;function e3(){return wh}function VX(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oN(t,e){e&&(ou("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Cx(t){jx(t),t.drafts_.forEach(UX),t.drafts_=null}function jx(t){t===wh&&(wh=t.parent_)}function lN(t){return wh=VX(wh,t)}function UX(t){const e=t[li];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function uN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[li].modified_&&(Cx(e),na(4)),Es(t)&&(t=Bg(e,t),e.parent_||zg(e,t)),e.patches_&&ou("Patches").generateReplacementPatches_(n[li].base_,t,e.patches_,e.inversePatches_)):t=Bg(e,n,[]),Cx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Q4?t:void 0}function Bg(t,e,n){if(Fy(e))return e;const r=e[li];if(!r)return Ug(e,(i,a)=>cN(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return zg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),Ug(a,(u,f)=>cN(t,r,i,u,f,n,o)),zg(t,i,!1),n&&t.patches_&&ou("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function cN(t,e,n,r,i,a,o){if(su(i)){const u=a&&e&&e.type_!==3&&!Px(e.assigned_,r)?a.concat(r):void 0,f=Bg(t,i,u);if(Z4(n,r,f),su(f))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Es(i)&&!Fy(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Bg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&zg(t,i)}}function zg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&IE(e,n)}function BX(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:e3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=ME;n&&(i=[r],a=xh);const{revoke:o,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=o,u}var ME={get(t,e){if(e===li)return t;const n=Ml(t);if(!Px(n,e))return zX(t,n,e);const r=n[e];return t.finalized_||!Es(r)?r:r===F_(t.base_,e)?(H_(t),t.copy_[e]=kx(r,t)):r},has(t,e){return e in Ml(t)},ownKeys(t){return Reflect.ownKeys(Ml(t))},set(t,e,n){const r=t3(Ml(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=F_(Ml(t),e),a=i?.[li];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(MX(n,i)&&(n!==void 0||Px(t.base_,e)))return!0;H_(t),Nx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return F_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,H_(t),Nx(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ml(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){na(11)},getPrototypeOf(t){return Kc(t.base_)},setPrototypeOf(){na(12)}},xh={};Ug(ME,(t,e)=>{xh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});xh.deleteProperty=function(t,e){return xh.set.call(this,t,e,void 0)};xh.set=function(t,e,n){return ME.set.call(this,t[0],e,n,t[0])};function F_(t,e){const n=t[li];return(n?Ml(n):t)[e]}function zX(t,e,n){const r=t3(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function t3(t,e){if(!(e in t))return;let n=Kc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Kc(n)}}function Nx(t){t.modified_||(t.modified_=!0,t.parent_&&Nx(t.parent_))}function H_(t){t.copy_||(t.copy_=Rx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var qX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(f=a,...d){return o.produce(f,h=>n.call(this,h,...d))}}typeof n!="function"&&na(6),r!==void 0&&typeof r!="function"&&na(7);let i;if(Es(e)){const a=lN(this),o=kx(e,void 0);let u=!0;try{i=n(o),u=!1}finally{u?Cx(a):jx(a)}return oN(a,r),uN(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Q4&&(i=void 0),this.autoFreeze_&&IE(i,!0),r){const a=[],o=[];ou("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else na(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...u)=>this.produceWithPatches(o,f=>e(f,...u));let r,i;return[this.produce(e,n,(o,u)=>{r=o,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Es(t)||na(8),su(t)&&(t=vs(t));const e=lN(this),n=kx(t,void 0);return n[li].isManual_=!0,jx(e),n}finishDraft(t,e){const n=t&&t[li];(!n||!n.isManual_)&&na(9);const{scope_:r}=n;return oN(r,e),uN(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ou("Patches").applyPatches_;return su(t)?r(t,e):this.produce(t,i=>r(i,e))}};function kx(t,e){const n=zy(t)?ou("MapSet").proxyMap_(t,e):qy(t)?ou("MapSet").proxySet_(t,e):BX(t,e);return(e?e.scope_:e3()).drafts_.push(n),n}function vs(t){return su(t)||na(10,t),n3(t)}function n3(t){if(!Es(t)||Fy(t))return t;const e=t[li];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Rx(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Rx(t,!0);return Ug(n,(r,i)=>{Z4(n,r,n3(i))}),e&&(e.finalized_=!1),n}var ui=new qX,r3=ui.produce;ui.produceWithPatches.bind(ui);ui.setAutoFreeze.bind(ui);ui.setUseStrictShallowCopy.bind(ui);ui.applyPatches.bind(ui);ui.createDraft.bind(ui);ui.finishDraft.bind(ui);function i3(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var FX=i3(),HX=i3,KX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vg:Vg.apply(null,arguments)};function Vi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(si(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>X4(r)&&r.type===t,n}var a3=class zd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,zd.prototype)}static get[Symbol.species](){return zd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new zd(...e[0].concat(this)):new zd(...e.concat(this))}};function fN(t){return Es(t)?r3(t,()=>{}):t}function $p(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function GX(t){return typeof t=="boolean"}var WX=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new a3;return n&&(GX(n)?o.push(FX):o.push(HX(n.extraArgument))),o},YX="RTK_autoBatch",dN=t=>e=>{setTimeout(e,t)},XX=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dN(10):t.type==="callback"?t.queueNotification:dN(t.timeout),d=()=>{o=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),y=r.subscribe(p);return u.add(h),()=>{y(),u.delete(h)}},dispatch(h){try{return i=!h?.meta?.[YX],a=!i,a&&(o||(o=!0,f(d))),r.dispatch(h)}finally{i=!0}}})},QX=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new a3(t);return r&&i.push(XX(typeof r=="object"?r:void 0)),i};function JX(t){const e=WX(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(DE(n))u=Y4(n);else throw new Error(si(1));let f;typeof r=="function"?f=r(e):f=e();let d=Vg;i&&(d=KX({trace:!1,...typeof i=="object"&&i}));const h=DX(...f),p=QX(h);let y=typeof o=="function"?o(p):p();const b=d(...y);return W4(u,a,b)}function s3(t){const e={},n=[];let r;const i={addCase(a,o){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(si(28));if(u in e)throw new Error(si(29));return e[u]=o,i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function ZX(t){return typeof t=="function"}function eQ(t,e){let[n,r,i]=s3(e),a;if(ZX(t))a=()=>fN(t());else{const u=fN(t);a=()=>u}function o(u=a(),f){let d=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,p)=>{if(p)if(su(h)){const b=p(h,f);return b===void 0?h:b}else{if(Es(h))return r3(h,y=>p(y,f));{const y=p(h,f);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},u)}return o.getInitialState=a,o}var tQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nQ=(t=21)=>{let e="",n=t;for(;n--;)e+=tQ[Math.random()*64|0];return e},rQ=Symbol.for("rtk-slice-createasyncthunk");function iQ(t,e){return`${t}/${e}`}function aQ({creators:t}={}){const e=t?.asyncThunk?.[rQ];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(si(11));const o=(typeof r.reducers=="function"?r.reducers(oQ()):r.reducers)||{},u=Object.keys(o),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(P,V){const D=typeof P=="string"?P:P.type;if(!D)throw new Error(si(12));if(D in f.sliceCaseReducersByType)throw new Error(si(13));return f.sliceCaseReducersByType[D]=V,d},addMatcher(P,V){return f.sliceMatchers.push({matcher:P,reducer:V}),d},exposeAction(P,V){return f.actionCreators[P]=V,d},exposeCaseReducer(P,V){return f.sliceCaseReducersByName[P]=V,d}};u.forEach(P=>{const V=o[P],D={reducerName:P,type:iQ(i,P),createNotation:typeof r.reducers=="function"};uQ(V)?fQ(D,V,d,e):lQ(D,V,d)});function h(){const[P={},V=[],D=void 0]=typeof r.extraReducers=="function"?s3(r.extraReducers):[r.extraReducers],j={...P,...f.sliceCaseReducersByType};return eQ(r.initialState,k=>{for(let I in j)k.addCase(I,j[I]);for(let I of f.sliceMatchers)k.addMatcher(I.matcher,I.reducer);for(let I of V)k.addMatcher(I.matcher,I.reducer);D&&k.addDefaultCase(D)})}const p=P=>P,y=new Map,b=new WeakMap;let x;function E(P,V){return x||(x=h()),x(P,V)}function S(){return x||(x=h()),x.getInitialState()}function O(P,V=!1){function D(k){let I=k[P];return typeof I>"u"&&V&&(I=$p(b,D,S)),I}function j(k=p){const I=$p(y,V,()=>new WeakMap);return $p(I,k,()=>{const L={};for(const[q,z]of Object.entries(r.selectors??{}))L[q]=sQ(z,k,()=>$p(b,k,S),V);return L})}return{reducerPath:P,getSelectors:j,get selectors(){return j(D)},selectSlice:D}}const R={name:i,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:S,...O(a),injectInto(P,{reducerPath:V,...D}={}){const j=V??a;return P.inject({reducerPath:j,reducer:E},D),{...R,...O(j,!0)}}};return R}}function sQ(t,e,n,r){function i(a,...o){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...o)}return i.unwrapped=t,i}var di=aQ();function oQ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function lQ({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!cQ(r))throw new Error(si(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?Vi(t,o):Vi(t))}function uQ(t){return t._reducerDefinitionType==="asyncThunk"}function cQ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function fQ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(si(18));const{payloadCreator:a,fulfilled:o,pending:u,rejected:f,settled:d,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),u&&r.addCase(p.pending,u),f&&r.addCase(p.rejected,f),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:o||Vp,pending:u||Vp,rejected:f||Vp,settled:d||Vp})}function Vp(){}var dQ="task",o3="listener",l3="completed",LE="cancelled",hQ=`task-${LE}`,mQ=`task-${l3}`,Dx=`${o3}-${LE}`,pQ=`${o3}-${l3}`,Hy=class{constructor(t){this.code=t,this.message=`${dQ} ${LE} (reason: ${t})`}name="TaskAbortError";message},$E=(t,e)=>{if(typeof t!="function")throw new TypeError(si(32))},qg=()=>{},u3=(t,e=qg)=>(t.catch(e),t),c3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ql=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Jl=t=>{if(t.aborted){const{reason:e}=t;throw new Hy(e)}};function f3(t,e){let n=qg;return new Promise((r,i)=>{const a=()=>i(new Hy(t.reason));if(t.aborted){a();return}n=c3(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=qg})}var gQ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Hy?"cancelled":"rejected",error:n}}finally{e?.()}},Fg=t=>e=>u3(f3(t,e).then(n=>(Jl(t),n))),d3=t=>{const e=Fg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Dc}=Object,hN={},Ky="listenerMiddleware",yQ=(t,e)=>{const n=r=>c3(t,()=>Ql(r,t.reason));return(r,i)=>{$E(r);const a=new AbortController;n(a);const o=gQ(async()=>{Jl(t),Jl(a.signal);const u=await r({pause:Fg(a.signal),delay:d3(a.signal),signal:a.signal});return Jl(a.signal),u},()=>Ql(a,mQ));return i?.autoJoin&&e.push(o.catch(qg)),{result:Fg(t)(o),cancel(){Ql(a,hQ)}}}},vQ=(t,e)=>{const n=async(r,i)=>{Jl(e);let a=()=>{};const u=[new Promise((f,d)=>{let h=t({predicate:r,effect:(p,y)=>{y.unsubscribe(),f([p,y.getState(),y.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await f3(e,Promise.race(u));return Jl(e),f}finally{a()}};return(r,i)=>u3(n(r,i))},h3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Vi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(si(21));return $E(a),{predicate:i,type:e,effect:a}},m3=Dc(t=>{const{type:e,predicate:n,effect:r}=h3(t);return{id:nQ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(si(22))}}},{withTypes:()=>m3}),mN=(t,e)=>{const{type:n,effect:r,predicate:i}=h3(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Ix=t=>{t.pending.forEach(e=>{Ql(e,Dx)})},bQ=t=>()=>{t.forEach(Ix),t.clear()},pN=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},p3=Dc(Vi(`${Ky}/add`),{withTypes:()=>p3}),_Q=Vi(`${Ky}/removeAll`),g3=Dc(Vi(`${Ky}/remove`),{withTypes:()=>g3}),wQ=(...t)=>{console.error(`${Ky}/error`,...t)},Kh=(t={})=>{const e=new Map,{extra:n,onError:r=wQ}=t;$E(r);const i=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),p=>{h.unsubscribe(),p?.cancelActive&&Ix(h)}),a=h=>{const p=mN(e,h)??m3(h);return i(p)};Dc(a,{withTypes:()=>a});const o=h=>{const p=mN(e,h);return p&&(p.unsubscribe(),h.cancelActive&&Ix(p)),!!p};Dc(o,{withTypes:()=>o});const u=async(h,p,y,b)=>{const x=new AbortController,E=vQ(a,x.signal),S=[];try{h.pending.add(x),await Promise.resolve(h.effect(p,Dc({},y,{getOriginalState:b,condition:(O,R)=>E(O,R).then(Boolean),take:E,delay:d3(x.signal),pause:Fg(x.signal),extra:n,signal:x.signal,fork:yQ(x.signal,S),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((O,R,P)=>{O!==x&&(Ql(O,Dx),P.delete(O))})},cancel:()=>{Ql(x,Dx),h.pending.delete(x)},throwIfCancelled:()=>{Jl(x.signal)}})))}catch(O){O instanceof Hy||pN(r,O,{raisedBy:"effect"})}finally{await Promise.all(S),Ql(x,pQ),h.pending.delete(x)}},f=bQ(e);return{middleware:h=>p=>y=>{if(!X4(y))return p(y);if(p3.match(y))return a(y.payload);if(_Q.match(y)){f();return}if(g3.match(y))return o(y.payload);let b=h.getState();const x=()=>{if(b===hN)throw new Error(si(23));return b};let E;try{if(E=p(y),e.size>0){const S=h.getState(),O=Array.from(e.values());for(const R of O){let P=!1;try{P=R.predicate(y,S,b)}catch(V){P=!1,pN(r,V,{raisedBy:"predicate"})}P&&u(R,y,h,x)}}}finally{b=hN}return E},startListening:a,stopListening:o,clearListeners:f}};function si(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},y3=di({name:"chartLayout",initialState:xQ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:EQ,setLayout:SQ,setChartSize:AQ,setScale:TQ}=y3.actions,OQ=y3.reducer;function gN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(n),!0).forEach(function(r){PQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PQ(t,e,n){return(e=RQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RQ(t){var e=CQ(t,"string");return typeof e=="symbol"?e:e+""}function CQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hg=Math.PI/180,jQ=t=>t*180/Math.PI,Vt=(t,e,n,r)=>({x:t+Math.cos(-Hg*r)*n,y:e+Math.sin(-Hg*r)*n}),NQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},kQ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},DQ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=kQ({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var u=(n-i)/o,f=Math.acos(u);return r>a&&(f=2*Math.PI-f),{radius:o,angle:jQ(f),angleInRadian:f}},IQ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},MQ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},LQ=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=DQ({x:n,y:r},e),{innerRadius:o,outerRadius:u}=e;if(i<o||i>u||i===0)return null;var{startAngle:f,endAngle:d}=IQ(e),h=a,p;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}return p?yN(yN({},e),{},{radius:i,angle:MQ(h,e)}):null},v3=t=>!A.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function b3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){$Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Q(t,e,n){return(e=VQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VQ(t){var e=UQ(t,"string");return typeof e=="symbol"?e:e+""}function UQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fn(t,e,n){return qt(t)||qt(e)?n:Ua(e)?au(t,e,n):typeof e=="function"?e(t):n}var BQ=(t,e,n,r,i)=>{var a,o=-1,u=(a=e?.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var d=f>0?n[f-1].coordinate:n[u-1].coordinate,h=n[f].coordinate,p=f>=u-1?n[0].coordinate:n[f+1].coordinate,y=void 0;if(Br(h-d)!==Br(p-h)){var b=[];if(Br(p-h)===Br(i[1]-i[0])){y=p;var x=h+i[1]-i[0];b[0]=Math.min(x,(x+d)/2),b[1]=Math.max(x,(x+d)/2)}else{y=d;var E=p+i[1]-i[0];b[0]=Math.min(h,(E+h)/2),b[1]=Math.max(h,(E+h)/2)}var S=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(t>S[0]&&t<=S[1]||t>=b[0]&&t<=b[1]){({index:o}=n[f]);break}}else{var O=Math.min(d,p),R=Math.max(d,p);if(t>(O+h)/2&&t<=(R+h)/2){({index:o}=n[f]);break}}}else if(e){for(var P=0;P<u;P++)if(P===0&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P>0&&P<u-1&&t>(e[P].coordinate+e[P-1].coordinate)/2&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P===u-1&&t>(e[P].coordinate+e[P-1].coordinate)/2){({index:o}=e[P]);break}}return o},zQ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:u}=e;if((u==="vertical"||u==="horizontal"&&o==="middle")&&a!=="center"&&Te(t[a]))return Di(Di({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&o!=="middle"&&Te(t[o]))return Di(Di({},t),{},{[o]:t[o]+(i||0)})}return t},ks=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",_3=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,o=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||o.push(e),a||o.push(n),o},w3=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:u,isCategorical:f,categoricalDomain:d,tickCount:h,ticks:p,niceTicks:y,axisType:b}=t;if(!o)return null;var x=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,E=i==="category"&&o.bandwidth?o.bandwidth()/x:0;if(E=b==="angleAxis"&&a&&a.length>=2?Br(a[0]-a[1])*2*E:E,p||y){var S=(p||y||[]).map((O,R)=>{var P=r?r.indexOf(O):O;return{coordinate:o(P)+E,value:O,offset:E,index:R}});return S.filter(O=>!oi(O.coordinate))}return f&&d?d.map((O,R)=>({coordinate:o(O)+E,value:O,index:R,offset:E})):o.ticks&&h!=null?o.ticks(h).map((O,R)=>({coordinate:o(O)+E,value:O,offset:E,index:R})):o.domain().map((O,R)=>({coordinate:o(O)+E,value:r?r[O]:O,index:R,offset:E}))},bN=1e-4,qQ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-bN,a=Math.max(r[0],r[1])+bN,o=t(e[0]),u=t(e[n-1]);(o<i||o>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},FQ=(t,e)=>{if(!e||e.length!==2||!Te(e[0])||!Te(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Te(t[0])||t[0]<n)&&(i[0]=n),(!Te(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},HQ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,o=0;o<e;++o){var u=oi(t[o][n][1])?t[o][n][0]:t[o][n][1];u>=0?(t[o][n][0]=i,t[o][n][1]=i+u,i=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+u,a=t[o][n][1])}},KQ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var o=oi(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},GQ={sign:HQ,expand:EY,none:Hc,silhouette:SY,wiggle:AY,positive:KQ},WQ=(t,e,n)=>{var r=GQ[n],i=xY().keys(e).value((a,o)=>+fn(a,o,0)).order(Ax).offset(r);return i(t)};function YQ(t){return t==null?void 0:String(t)}function _N(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qt(i[e.dataKey])){var u=p4(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var f=fn(i,qt(o)?e.dataKey:o);return qt(f)?null:e.scale(f)}var wN=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var u=fn(a,e.dataKey,e.scale.domain()[o]);return qt(u)?null:e.scale(u)-i/2+r},XQ=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},QQ=t=>{var e=t.flat(2).filter(Te);return[Math.min(...e),Math.max(...e)]},JQ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],ZQ=(t,e,n)=>{if(t!=null)return JQ(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:o}=a,u=o.reduce((f,d)=>{var h=b3(d,e,n),p=QQ(h);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},xN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lu=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Uy(e,h=>h.coordinate),a=1/0,o=1,u=i.length;o<u;o++){var f=i[o],d=i[o-1];a=Math.min((f.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function SN(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Di(Di({},e),{},{dataKey:n,payload:r,value:i,name:a})}function ff(t,e){if(t)return String(t);if(typeof e=="string")return e}function eJ(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?LQ({x:t,y:e},r):null}var tJ=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=r;return Di(Di(Di({},r),Vt(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var u=i.coordinate,{angle:f}=r;return Di(Di(Di({},r),Vt(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},nJ=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ds=t=>t.layout.width,Is=t=>t.layout.height,rJ=t=>t.layout.scale,x3=t=>t.layout.margin,VE=te(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),UE=te(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),iJ="data-recharts-item-index",aJ="data-recharts-item-data-key",Gy=60;function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){sJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sJ(t,e,n){return(e=oJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=lJ(t,"string");return typeof e=="symbol"?e:e+""}function lJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uJ=t=>t.brush.height,Qn=te([Ds,Is,x3,uJ,VE,UE,K4,OX],(t,e,n,r,i,a,o,u)=>{var f=a.reduce((x,E)=>{var{orientation:S}=E;if(!E.mirror&&!E.hide){var O=typeof E.width=="number"?E.width:Gy;return _o(_o({},x),{},{[S]:x[S]+O})}return x},{left:n.left||0,right:n.right||0}),d=i.reduce((x,E)=>{var{orientation:S}=E;return!E.mirror&&!E.hide?_o(_o({},x),{},{[S]:au(x,"".concat(S))+E.height}):x},{top:n.top||0,bottom:n.bottom||0}),h=_o(_o({},d),f),p=h.bottom;h.bottom+=r,h=zQ(h,o,u);var y=t-h.left-h.right,b=e-h.top-h.bottom;return _o(_o({brushBottom:p},h),{},{width:Math.max(y,0),height:Math.max(b,0)})}),cJ=te(Qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),E3=te(Ds,Is,(t,e)=>({x:0,y:0,width:t,height:e})),fJ=A.createContext(null),_r=()=>A.useContext(fJ)!=null,Wy=t=>t.brush,Yy=te([Wy,Qn,x3],(t,e,n)=>({height:t.height,x:Te(t.x)?t.x:e.left,y:Te(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Te(t.width)?t.width:e.width})),BE=()=>{var t,e=_r(),n=Ee(cJ),r=Ee(Yy),i=(t=Ee(Wy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},dJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},S3=()=>{var t;return(t=Ee(Qn))!==null&&t!==void 0?t:dJ},zE=()=>Ee(Ds),qE=()=>Ee(Is),hJ={top:0,right:0,bottom:0,left:0},mJ=()=>{var t;return(t=Ee(e=>e.layout.margin))!==null&&t!==void 0?t:hJ},lt=t=>t.layout.layoutType,Xy=()=>Ee(lt),pJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},A3=di({name:"legend",initialState:pJ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=vs(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:TN,setLegendSettings:gJ,addLegendPayload:T3,removeLegendPayload:O3}=A3.actions,yJ=A3.reducer,vJ=["contextPayload"];function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mx.apply(null,arguments)}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){FE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FE(t,e,n){return(e=bJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJ(t){var e=_J(t,"string");return typeof e=="symbol"?e:e+""}function _J(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wJ(t,e){if(t==null)return{};var n,r,i=xJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function EJ(t){return t.value}function SJ(t){var{contextPayload:e}=t,n=wJ(t,vJ),r=z4(e,t.payloadUniqBy,EJ),i=Gc(Gc({},n),{},{payload:r});return A.isValidElement(t.content)?A.cloneElement(t.content,i):typeof t.content=="function"?A.createElement(t.content,i):A.createElement(TE,i)}function AJ(t,e,n,r,i,a){var{layout:o,align:u,verticalAlign:f}=e,d,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&o==="vertical"?d={left:((r||0)-a.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?h={top:((i||0)-a.height)/2}:h=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Gc(Gc({},d),h)}function TJ(t){var e=Qt();return A.useEffect(()=>{e(gJ(t))},[e,t]),null}function OJ(t){var e=Qt();return A.useEffect(()=>(e(TN(t)),()=>{e(TN({width:0,height:0}))}),[e,t]),null}function PJ(t){var e=CX(),n=KW(),r=mJ(),{width:i,height:a,wrapperStyle:o,portal:u}=t,[f,d]=G4([e]),h=zE(),p=qE(),y=h-(r.left||0)-(r.right||0),b=Zl.getWidthOrHeight(t.layout,a,i,y),x=u?o:Gc(Gc({position:"absolute",width:b?.width||i||"auto",height:b?.height||a||"auto"},AJ(o,t,r,h,p,f)),o),E=u??n;if(E==null)return null;var S=A.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},A.createElement(TJ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),A.createElement(OJ,{width:f.width,height:f.height}),A.createElement(SJ,Mx({},t,b,{margin:r,chartWidth:h,chartHeight:p,contextPayload:e})));return S1.createPortal(S,E)}class Zl extends A.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Te(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return A.createElement(PJ,this.props)}}FE(Zl,"displayName","Legend");FE(Zl,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lx.apply(null,arguments)}function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){RJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RJ(t,e,n){return(e=CJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CJ(t){var e=jJ(t,"string");return typeof e=="symbol"?e:e+""}function jJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NJ(t){return Array.isArray(t)&&Ua(t[0])&&Ua(t[1])?t.join(" ~ "):t}var kJ=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:u,wrapperClassName:f,labelClassName:d,label:h,labelFormatter:p,accessibilityLayer:y=!1}=t,b=()=>{if(a&&a.length){var D={padding:0,margin:0},j=(u?Uy(a,u):a).map((k,I)=>{if(k.type==="none")return null;var L=k.formatter||o||NJ,{value:q,name:z}=k,B=q,M=z;if(L){var le=L(q,z,k,I,a);if(Array.isArray(le))[B,M]=le;else if(le!=null)B=le;else return null}var be=K_({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:be},Ua(M)?A.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Ua(M)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},B),A.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:D},j)}return null},x=K_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=K_({margin:0},i),S=!qt(h),O=S?h:"",R=ot("recharts-default-tooltip",f),P=ot("recharts-tooltip-label",d);S&&p&&a!==void 0&&a!==null&&(O=p(h,a));var V=y?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",Lx({className:R,style:x},V),A.createElement("p",{className:P,style:E},A.isValidElement(O)?O:"".concat(O)),b())},Od="recharts-tooltip-wrapper",DJ={visibility:"hidden"};function IJ(t){var{coordinate:e,translateX:n,translateY:r}=t;return ot(Od,{["".concat(Od,"-right")]:Te(n)&&e&&Te(e.x)&&n>=e.x,["".concat(Od,"-left")]:Te(n)&&e&&Te(e.x)&&n<e.x,["".concat(Od,"-bottom")]:Te(r)&&e&&Te(e.y)&&r>=e.y,["".concat(Od,"-top")]:Te(r)&&e&&Te(e.y)&&r<e.y})}function RN(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:u,viewBox:f,viewBoxDimension:d}=t;if(a&&Te(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return o[r]?h:p;var y=f[r];if(y==null)return 0;if(o[r]){var b=h,x=y;return b<x?Math.max(p,y):Math.max(h,y)}if(d==null)return 0;var E=p+u,S=y+d;return E>S?Math.max(h,y):Math.max(p,y)}function MJ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function LJ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:u,viewBox:f}=t,d,h,p;return o.height>0&&o.width>0&&n?(h=RN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:f,viewBoxDimension:f.width}),p=RN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:f,viewBoxDimension:f.height}),d=MJ({translateX:h,translateY:p,useTranslate3d:u})):d=DJ,{cssProperties:d,cssClasses:IJ({translateX:h,translateY:p,coordinate:n})}}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(r){$x(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $x(t,e,n){return(e=$J(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $J(t){var e=VJ(t,"string");return typeof e=="symbol"?e:e+""}function VJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class UJ extends A.PureComponent{constructor(){super(...arguments),$x(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$x(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:u,isAnimationActive:f,offset:d,position:h,reverseDirection:p,useTranslate3d:y,viewBox:b,wrapperStyle:x,lastBoundingBox:E,innerRef:S,hasPortalFromProps:O}=this.props,{cssClasses:R,cssProperties:P}=LJ({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:b}),V=O?{}:Up(Up({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),D=Up(Up({},V),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},x);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:D,ref:S},a)}}var BJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),bu={isSsr:BJ()},P3=()=>Ee(t=>t.rootProps.accessibilityLayer);function ci(t){return Number.isFinite(t)}function Wc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Vx(){return Vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vx.apply(null,arguments)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){zJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zJ(t,e,n){return(e=qJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qJ(t){var e=FJ(t,"string");return typeof e=="symbol"?e:e+""}function FJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kN={curveBasisClosed:fY,curveBasisOpen:dY,curveBasis:cY,curveBumpX:XW,curveBumpY:QW,curveLinearClosed:hY,curveLinear:Ly,curveMonotoneX:mY,curveMonotoneY:pY,curveNatural:gY,curveStep:yY,curveStepAfter:bY,curveStepBefore:vY},Bp=t=>ci(t.x)&&ci(t.y),Pd=t=>t.x,Rd=t=>t.y,HJ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Hh(t));return(n==="curveMonotone"||n==="curveBump")&&e?kN["".concat(n).concat(e==="vertical"?"Y":"X")]:kN[n]||Ly},KJ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=HJ(e,i),u=a?n.filter(Bp):n,f;if(Array.isArray(r)){var d=a?r.filter(p=>Bp(p)):r,h=u.map((p,y)=>NN(NN({},p),{},{base:d[y]}));return i==="vertical"?f=Ip().y(Rd).x1(Pd).x0(p=>p.base.x):f=Ip().x(Pd).y1(Rd).y0(p=>p.base.y),f.defined(Bp).curve(o),f(h)}return i==="vertical"&&Te(r)?f=Ip().y(Rd).x1(Pd).x0(r):Te(r)?f=Ip().x(Pd).y1(Rd).y0(r):f=A4().x(Pd).y(Rd),f.defined(Bp).curve(o),f(u)},R3=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?KJ(t):r;return A.createElement("path",Vx({},Cr(t),vE(t),{className:ot("recharts-curve",e),d:a===null?void 0:a,ref:i}))},GJ=["x","y","top","left","width","height","className"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ux.apply(null,arguments)}function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){YJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YJ(t,e,n){return(e=XJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XJ(t){var e=QJ(t,"string");return typeof e=="symbol"?e:e+""}function QJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JJ(t,e){if(t==null)return{};var n,r,i=ZJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var eZ=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),tZ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:u}=t,f=JJ(t,GJ),d=WJ({x:e,y:n,top:r,left:i,width:a,height:o},f);return!Te(e)||!Te(n)||!Te(a)||!Te(o)||!Te(r)||!Te(i)?null:A.createElement("path",Ux({},_t(d,!0),{className:ot("recharts-cross",u),d:eZ(e,n,a,o,r,i)}))};function nZ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){iZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iZ(t,e,n){return(e=aZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aZ(t){var e=sZ(t,"string");return typeof e=="symbol"?e:e+""}function sZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bi(t,e){var n=rZ({},t),r=e,i=Object.keys(e),a=i.reduce((o,u)=>(o[u]===void 0&&r[u]!==void 0&&(o[u]=r[u]),o),n);return a}var G_={},W_={},Y_={},MN;function oZ(){return MN||(MN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(Y_)),Y_}var LN;function lZ(){return LN||(LN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oZ(),n=V4(),r=CE(),i=jE(),a=PE();function o(d,h,p){return u(d,h,void 0,void 0,void 0,void 0,p)}function u(d,h,p,y,b,x,E){const S=E(d,h,p,y,b,x);if(S!==void 0)return S;if(typeof d==typeof h)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===h;case"number":return d===h||Object.is(d,h);case"function":return d===h;case"object":return f(d,h,x,E)}return f(d,h,x,E)}function f(d,h,p,y){if(Object.is(d,h))return!0;let b=r.getTag(d),x=r.getTag(h);if(b===i.argumentsTag&&(b=i.objectTag),x===i.argumentsTag&&(x=i.objectTag),b!==x)return!1;switch(b){case i.stringTag:return d.toString()===h.toString();case i.numberTag:{const O=d.valueOf(),R=h.valueOf();return a.eq(O,R)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(d.valueOf(),h.valueOf());case i.regexpTag:return d.source===h.source&&d.flags===h.flags;case i.functionTag:return d===h}p=p??new Map;const E=p.get(d),S=p.get(h);if(E!=null&&S!=null)return E===h;p.set(d,h),p.set(h,d);try{switch(b){case i.mapTag:{if(d.size!==h.size)return!1;for(const[O,R]of d.entries())if(!h.has(O)||!u(R,h.get(O),O,d,h,p,y))return!1;return!0}case i.setTag:{if(d.size!==h.size)return!1;const O=Array.from(d.values()),R=Array.from(h.values());for(let P=0;P<O.length;P++){const V=O[P],D=R.findIndex(j=>u(V,j,void 0,d,h,p,y));if(D===-1)return!1;R.splice(D,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(h)||d.length!==h.length)return!1;for(let O=0;O<d.length;O++)if(!u(d[O],h[O],O,d,h,p,y))return!1;return!0}case i.arrayBufferTag:return d.byteLength!==h.byteLength?!1:f(new Uint8Array(d),new Uint8Array(h),p,y);case i.dataViewTag:return d.byteLength!==h.byteLength||d.byteOffset!==h.byteOffset?!1:f(new Uint8Array(d),new Uint8Array(h),p,y);case i.errorTag:return d.name===h.name&&d.message===h.message;case i.objectTag:{if(!(f(d.constructor,h.constructor,p,y)||e.isPlainObject(d)&&e.isPlainObject(h)))return!1;const R=[...Object.keys(d),...n.getSymbols(d)],P=[...Object.keys(h),...n.getSymbols(h)];if(R.length!==P.length)return!1;for(let V=0;V<R.length;V++){const D=R[V],j=d[D];if(!Object.hasOwn(h,D))return!1;const k=h[D];if(!u(j,k,D,d,h,p,y))return!1}return!0}default:return!1}}finally{p.delete(d),p.delete(h)}}t.isEqualWith=o})(W_)),W_}var X_={},$N;function uZ(){return $N||($N=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(X_)),X_}var VN;function cZ(){return VN||(VN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lZ(),n=uZ();function r(i,a){return e.isEqualWith(i,a,n.noop)}t.isEqual=r})(G_)),G_}var Q_,UN;function fZ(){return UN||(UN=1,Q_=cZ().isEqual),Q_}var dZ=fZ();const hZ=fi(dZ);var Kg=1e-4,C3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],j3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),BN=(t,e)=>n=>{var r=C3(t,e);return j3(r,n)},mZ=(t,e)=>n=>{var r=C3(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return j3(i,n)},zN=function(){for(var e,n,r,i,a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=o[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else o.length===4&&([e,r,n,i]=o);var d=BN(e,n),h=BN(r,i),p=mZ(e,n),y=x=>x>1?1:x<0?0:x,b=x=>{for(var E=x>1?1:x,S=E,O=0;O<8;++O){var R=d(S)-E,P=p(S);if(Math.abs(R-E)<Kg||P<Kg)return h(S);S=y(S-R/P)}return h(S)};return b.isStepper=!1,b},pZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,u,f)=>{var d=-(o-u)*n,h=f*r,p=f+(d-h)*i/1e3,y=f*i/1e3+o;return Math.abs(y-u)<Kg&&Math.abs(p)<Kg?[u,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},N3=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zN(t);case"spring":return pZ();default:if(t.split("(")[0]==="cubic-bezier")return zN(t)}return typeof t=="function"?t:null};function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(n),!0).forEach(function(r){gZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gZ(t,e,n){return(e=yZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yZ(t){var e=vZ(t,"string");return typeof e=="symbol"?e:e+""}function vZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bZ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),_Z=(t,e,n)=>t.map(r=>"".concat(bZ(r)," ").concat(e,"ms ").concat(n)).join(","),wZ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Eh=(t,e)=>Object.keys(e).reduce((n,r)=>FN(FN({},n),{},{[r]:t(r,e[r])}),{});function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(r){xZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xZ(t,e,n){return(e=EZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EZ(t){var e=SZ(t,"string");return typeof e=="symbol"?e:e+""}function SZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gg=(t,e,n)=>t+(e-t)*n,Bx=t=>{var{from:e,to:n}=t;return e!==n},k3=(t,e,n)=>{var r=Eh((i,a)=>{if(Bx(a)){var[o,u]=t(a.from,a.to,a.velocity);return or(or({},a),{},{from:o,velocity:u})}return a},e);return n<1?Eh((i,a)=>Bx(a)?or(or({},a),{},{velocity:Gg(a.velocity,r[i].velocity,n),from:Gg(a.from,r[i].from,n)}):a,e):k3(t,r,n-1)};function AZ(t,e,n,r,i,a){var o,u=r.reduce((y,b)=>or(or({},y),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>Eh((y,b)=>b.from,u),d=()=>!Object.values(u).filter(Bx).length,h=null,p=y=>{o||(o=y);var b=y-o,x=b/n.dt;u=k3(n,u,x),i(or(or(or({},t),e),f())),o=y,d()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{h()})}function TZ(t,e,n,r,i,a,o){var u=null,f=i.reduce((p,y)=>or(or({},p),{},{[y]:[t[y],e[y]]}),{}),d,h=p=>{d||(d=p);var y=(p-d)/r,b=Eh((E,S)=>Gg(...S,n(y)),f);if(a(or(or(or({},t),e),b)),y<1)u=o.setTimeout(h);else{var x=Eh((E,S)=>Gg(...S,n(1)),f);a(or(or(or({},t),e),x))}};return()=>(u=o.setTimeout(h),()=>{u()})}const D3=(t,e,n,r,i,a)=>{var o=wZ(t,e);return n.isStepper===!0?AZ(t,e,n,o,i,a):TZ(t,e,n,r,o,i,a)};function OZ(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var u=o,[f,...d]=u;if(typeof f=="number"){i=t.setTimeout(a.bind(null,d),f);return}a(f),i=t.setTimeout(a.bind(null,d));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class PZ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function RZ(){return OZ(new PZ)}var CZ=A.createContext(RZ);function I3(t,e){var n=A.useContext(CZ);return A.useMemo(()=>e??n(t),[t,e,n])}var jZ=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function zx(){return zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zx.apply(null,arguments)}function NZ(t,e){if(t==null)return{};var n,r,i=kZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(n),!0).forEach(function(r){Kl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kl(t,e,n){return(e=DZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DZ(t){var e=IZ(t,"string");return typeof e=="symbol"?e:e+""}function IZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class HE extends A.PureComponent{constructor(e,n){super(e,n),Kl(this,"mounted",!1),Kl(this,"manager",void 0),Kl(this,"stopJSAnimation",null),Kl(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:a,to:o,children:u,duration:f,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:o});return}if(a){if(typeof u=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:a,to:o,from:u}=this.props,{style:f}=this.state;if(r){if(!n){var d={style:i?{[i]:o}:o};this.state&&f&&(i&&f[i]!==o||!i&&f!==o)&&this.setState(d);return}if(!(hZ(e.to,o)&&e.canBegin&&e.isActive)){var h=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=h||a?u:e.to;if(this.state&&f){var y={style:i?{[i]:p}:p};(i&&f[i]!==p||!i&&f!==p)&&this.setState(y)}this.runAnimation(wo(wo({},this.props),{},{from:p,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:a,begin:o,onAnimationEnd:u,onAnimationStart:f}=e,d=D3(n,r,N3(a),i,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=d()};this.manager.start([f,o,h,i,u])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:a,easing:o,onAnimationStart:u,onAnimationEnd:f,children:d}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof d=="function"||o==="spring"){this.runJSAnimation(e);return}var h=i?{[i]:a}:a,p=_Z(Object.keys(h),r,o);this.manager.start([u,n,wo(wo({},h),{},{transition:p}),r,f])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:a,easing:o,isActive:u,from:f,to:d,canBegin:h,onAnimationEnd:p,shouldReAnimate:y,onAnimationReStart:b,animationManager:x}=e,E=NZ(e,jZ),S=A.Children.count(n),O=this.state.style;if(typeof n=="function")return n(O);if(!u||S===0||i<=0)return n;var R=P=>{var{style:V={},className:D}=P.props,j=A.cloneElement(P,wo(wo({},E),{},{style:wo(wo({},V),O),className:D}));return j};return S===1?R(A.Children.only(n)):A.createElement("div",null,A.Children.map(n,P=>R(P)))}}Kl(HE,"displayName","Animate");Kl(HE,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Wg(t){var e,n=I3((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return A.createElement(HE,zx({},t,{animationManager:n}))}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(null,arguments)}var GN=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,y=4;p<y;p++)h[p]=i[p]>a?a:i[p];d="M".concat(t,",").concat(e+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+u*h[0],",").concat(e)),d+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+o*h[1])),d+="L ".concat(t+n,",").concat(e+r-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),d+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-o*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);d="M ".concat(t,",").concat(e+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+u*b,",").concat(e,`
            L `).concat(t+n-u*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(e+o*b,`
            L `).concat(t+n,",").concat(e+r-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-u*b,",").concat(e+r,`
            L `).concat(t+u*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+r-o*b," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},MZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},M3=t=>{var e=Bi(t,MZ),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&i(O)}catch{}},[]);var{x:a,y:o,width:u,height:f,radius:d,className:h}=e,{animationEasing:p,animationDuration:y,animationBegin:b,isAnimationActive:x,isUpdateAnimationActive:E}=e;if(a!==+a||o!==+o||u!==+u||f!==+f||u===0||f===0)return null;var S=ot("recharts-rectangle",h);return E?A.createElement(Wg,{canBegin:r>0,from:{width:u,height:f,x:a,y:o},to:{width:u,height:f,x:a,y:o},duration:y,animationEasing:p,isActive:E},O=>{var{width:R,height:P,x:V,y:D}=O;return A.createElement(Wg,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:x,easing:p},A.createElement("path",Yg({},_t(e,!0),{className:S,d:GN(V,D,R,P,d),ref:n})))}):A.createElement("path",Yg({},_t(e,!0),{className:S,d:GN(a,o,u,f,d)}))};function L3(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=Vt(e,n,r,i),u=Vt(e,n,r,a);return{points:[o,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qx.apply(null,arguments)}var LZ=(t,e)=>{var n=Br(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},zp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:u,cornerIsExternal:f}=t,d=u*(o?1:-1)+r,h=Math.asin(u/d)/Hg,p=f?i:i+a*h,y=Vt(e,n,d,p),b=Vt(e,n,r,p),x=f?i-a*h:i,E=Vt(e,n,d*Math.cos(h*Hg),x);return{center:y,circleTangency:b,lineTangency:E,theta:h}},$3=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,u=LZ(a,o),f=a+u,d=Vt(e,n,i,a),h=Vt(e,n,i,f),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var y=Vt(e,n,r,a),b=Vt(e,n,r,f);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},$Z=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:d}=t,h=Br(d-f),{circleTangency:p,lineTangency:y,theta:b}=zp({cx:e,cy:n,radius:i,angle:f,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:x,lineTangency:E,theta:S}=zp({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:u}),O=u?Math.abs(f-d):Math.abs(f-d)-b-S;if(O<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):$3({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var R="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:V,theta:D}=zp({cx:e,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:j,lineTangency:k,theta:I}=zp({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),L=u?Math.abs(f-d):Math.abs(f-d)-D-I;if(L<0&&a===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(L>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(V.x,",").concat(V.y,"Z")}else R+="L".concat(e,",").concat(n,"Z");return R},VZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},V3=t=>{var e=Bi(t,VZ),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h,className:p}=e;if(a<i||d===h)return null;var y=ot("recharts-sector",p),b=a-i,x=oa(o,b,0,!0),E;return x>0&&Math.abs(d-h)<360?E=$Z({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(x,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h}):E=$3({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),A.createElement("path",qx({},_t(e,!0),{className:y,d:E}))};function UZ(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:f,innerRadius:d,outerRadius:h,angle:p}=e,y=Vt(u,f,d,p),b=Vt(u,f,h,p);r=y.x,i=y.y,a=b.x,o=b.y}else return L3(e);return[{x:r,y:i},{x:a,y:o}]}var J_={},Z_={},ew={},WN;function BZ(){return WN||(WN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(ew)),ew}var YN;function zZ(){return YN||(YN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BZ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Z_)),Z_}var XN;function qZ(){return XN||(XN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H4(),n=zZ();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const u=Math.max(Math.ceil((a-i)/(o||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=i,i+=o;return f}t.range=r})(J_)),J_}var tw,QN;function FZ(){return QN||(QN=1,tw=qZ().range),tw}var HZ=FZ();const U3=fi(HZ);function Lo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KE(t){let e,n,r;t.length!==2?(e=Lo,n=(u,f)=>Lo(t(u),f),r=(u,f)=>t(u)-f):(e=t===Lo||t===KZ?t:GZ,n=t,r=t);function i(u,f,d=0,h=u.length){if(d<h){if(e(f,f)!==0)return h;do{const p=d+h>>>1;n(u[p],f)<0?d=p+1:h=p}while(d<h)}return d}function a(u,f,d=0,h=u.length){if(d<h){if(e(f,f)!==0)return h;do{const p=d+h>>>1;n(u[p],f)<=0?d=p+1:h=p}while(d<h)}return d}function o(u,f,d=0,h=u.length){const p=i(u,f,d,h-1);return p>d&&r(u[p-1],f)>-r(u[p],f)?p-1:p}return{left:i,center:o,right:a}}function GZ(){return 0}function B3(t){return t===null?NaN:+t}function*WZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const YZ=KE(Lo),Gh=YZ.right;KE(B3).center;class JN extends Map{constructor(e,n=JZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ZN(this,e))}has(e){return super.has(ZN(this,e))}set(e,n){return super.set(XZ(this,e),n)}delete(e){return super.delete(QZ(this,e))}}function ZN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function XZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function QZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function JZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ZZ(t=Lo){if(t===Lo)return z3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function z3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const eee=Math.sqrt(50),tee=Math.sqrt(10),nee=Math.sqrt(2);function Xg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=eee?10:a>=tee?5:a>=nee?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/o,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*o,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?Xg(t,e,n*2):[u,f,d]}function Fx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Xg(e,t,n):Xg(t,e,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(o<0)for(let d=0;d<u;++d)f[d]=(a-d)/-o;else for(let d=0;d<u;++d)f[d]=(a-d)*o;else if(o<0)for(let d=0;d<u;++d)f[d]=(i+d)/-o;else for(let d=0;d<u;++d)f[d]=(i+d)*o;return f}function Hx(t,e,n){return e=+e,t=+t,n=+n,Xg(t,e,n)[2]}function Kx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Hx(e,t,n):Hx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function e2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function t2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function q3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?z3:ZZ(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,h=Math.log(f),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(f-p)/f)*(d-f/2<0?-1:1),b=Math.max(n,Math.floor(e-d*p/f+y)),x=Math.min(r,Math.floor(e+(f-d)*p/f+y));q3(t,e,b,x,i)}const a=t[e];let o=n,u=r;for(Cd(t,n,e),i(t[r],a)>0&&Cd(t,n,r);o<u;){for(Cd(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Cd(t,n,u):(++u,Cd(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Cd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ree(t,e,n){if(t=Float64Array.from(WZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return t2(t);if(e>=1)return e2(t);var r,i=(r-1)*e,a=Math.floor(i),o=e2(q3(t,a).subarray(0,a+1)),u=t2(t.subarray(a+1));return o+(u-o)*(i-a)}}function iee(t,e,n=B3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function aee(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function zi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ms(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Gx=Symbol("implicit");function GE(){var t=new JN,e=[],n=[],r=Gx;function i(a){let o=t.get(a);if(o===void 0){if(r!==Gx)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new JN;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return GE(e,n).unknown(r)},zi.apply(i,arguments),i}function WE(){var t=GE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,u=!1,f=0,d=0,h=.5;delete t.unknown;function p(){var y=e().length,b=i<r,x=b?i:r,E=b?r:i;a=(E-x)/Math.max(1,y-f+d*2),u&&(a=Math.floor(a)),x+=(E-x-a*(y-f))*h,o=a*(1-f),u&&(x=Math.round(x),o=Math.round(o));var S=aee(y).map(function(O){return x+a*O});return n(b?S.reverse():S)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,p()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,d=+y),p()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),p()):f},t.paddingOuter=function(y){return arguments.length?(d=+y,p()):d},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},t.copy=function(){return WE(e(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(h)},zi.apply(p(),arguments)}function F3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return F3(e())},t}function see(){return F3(WE.apply(null,arguments).paddingInner(1))}function YE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function H3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wh(){}var Sh=.7,Qg=1/Sh,Ic="\\s*([+-]?\\d+)\\s*",Ah="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",La="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oee=/^#([0-9a-f]{3,8})$/,lee=new RegExp(`^rgb\\(${Ic},${Ic},${Ic}\\)$`),uee=new RegExp(`^rgb\\(${La},${La},${La}\\)$`),cee=new RegExp(`^rgba\\(${Ic},${Ic},${Ic},${Ah}\\)$`),fee=new RegExp(`^rgba\\(${La},${La},${La},${Ah}\\)$`),dee=new RegExp(`^hsl\\(${Ah},${La},${La}\\)$`),hee=new RegExp(`^hsla\\(${Ah},${La},${La},${Ah}\\)$`),n2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YE(Wh,Th,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:r2,formatHex:r2,formatHex8:mee,formatHsl:pee,formatRgb:i2,toString:i2});function r2(){return this.rgb().formatHex()}function mee(){return this.rgb().formatHex8()}function pee(){return K3(this).formatHsl()}function i2(){return this.rgb().formatRgb()}function Th(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=oee.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?a2(e):n===3?new zr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lee.exec(t))?new zr(e[1],e[2],e[3],1):(e=uee.exec(t))?new zr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cee.exec(t))?qp(e[1],e[2],e[3],e[4]):(e=fee.exec(t))?qp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dee.exec(t))?l2(e[1],e[2]/100,e[3]/100,1):(e=hee.exec(t))?l2(e[1],e[2]/100,e[3]/100,e[4]):n2.hasOwnProperty(t)?a2(n2[t]):t==="transparent"?new zr(NaN,NaN,NaN,0):null}function a2(t){return new zr(t>>16&255,t>>8&255,t&255,1)}function qp(t,e,n,r){return r<=0&&(t=e=n=NaN),new zr(t,e,n,r)}function gee(t){return t instanceof Wh||(t=Th(t)),t?(t=t.rgb(),new zr(t.r,t.g,t.b,t.opacity)):new zr}function Wx(t,e,n,r){return arguments.length===1?gee(t):new zr(t,e,n,r??1)}function zr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}YE(zr,Wx,H3(Wh,{brighter(t){return t=t==null?Qg:Math.pow(Qg,t),new zr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sh:Math.pow(Sh,t),new zr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new zr(eu(this.r),eu(this.g),eu(this.b),Jg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s2,formatHex:s2,formatHex8:yee,formatRgb:o2,toString:o2}));function s2(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}`}function yee(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}${Gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function o2(){const t=Jg(this.opacity);return`${t===1?"rgb(":"rgba("}${eu(this.r)}, ${eu(this.g)}, ${eu(this.b)}${t===1?")":`, ${t})`}`}function Jg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function eu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gl(t){return t=eu(t),(t<16?"0":"")+t.toString(16)}function l2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ra(t,e,n,r)}function K3(t){if(t instanceof ra)return new ra(t.h,t.s,t.l,t.opacity);if(t instanceof Wh||(t=Th(t)),!t)return new ra;if(t instanceof ra)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,f=(a+i)/2;return u?(e===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-e)/u+2:o=(e-n)/u+4,u/=f<.5?a+i:2-a-i,o*=60):u=f>0&&f<1?0:o,new ra(o,u,f,t.opacity)}function vee(t,e,n,r){return arguments.length===1?K3(t):new ra(t,e,n,r??1)}function ra(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}YE(ra,vee,H3(Wh,{brighter(t){return t=t==null?Qg:Math.pow(Qg,t),new ra(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sh:Math.pow(Sh,t),new ra(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new zr(nw(t>=240?t-240:t+120,i,r),nw(t,i,r),nw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ra(u2(this.h),Fp(this.s),Fp(this.l),Jg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jg(this.opacity);return`${t===1?"hsl(":"hsla("}${u2(this.h)}, ${Fp(this.s)*100}%, ${Fp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function u2(t){return t=(t||0)%360,t<0?t+360:t}function Fp(t){return Math.max(0,Math.min(1,t||0))}function nw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const XE=t=>()=>t;function bee(t,e){return function(n){return t+n*e}}function _ee(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wee(t){return(t=+t)==1?G3:function(e,n){return n-e?_ee(e,n,t):XE(isNaN(e)?n:e)}}function G3(t,e){var n=e-t;return n?bee(t,n):XE(isNaN(t)?e:t)}const c2=(function t(e){var n=wee(e);function r(i,a){var o=n((i=Wx(i)).r,(a=Wx(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),d=G3(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=u(h),i.b=f(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function xee(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Eee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function See(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=df(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function Aee(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Zg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Tee(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=df(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Yx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rw=new RegExp(Yx.source,"g");function Oee(t){return function(){return t}}function Pee(t){return function(e){return t(e)+""}}function Ree(t,e){var n=Yx.lastIndex=rw.lastIndex=0,r,i,a,o=-1,u=[],f=[];for(t=t+"",e=e+"";(r=Yx.exec(t))&&(i=rw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,f.push({i:o,x:Zg(r,i)})),n=rw.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?f[0]?Pee(f[0].x):Oee(e):(e=f.length,function(d){for(var h=0,p;h<e;++h)u[(p=f[h]).i]=p.x(d);return u.join("")})}function df(t,e){var n=typeof e,r;return e==null||n==="boolean"?XE(e):(n==="number"?Zg:n==="string"?(r=Th(e))?(e=r,c2):Ree:e instanceof Th?c2:e instanceof Date?Aee:Eee(e)?xee:Array.isArray(e)?See:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Tee:Zg)(t,e)}function QE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Cee(t,e){e===void 0&&(e=t,t=df);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[u](o-u)}}function jee(t){return function(){return t}}function ey(t){return+t}var f2=[0,1];function Or(t){return t}function Xx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:jee(isNaN(e)?NaN:.5)}function Nee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function kee(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Xx(i,r),a=n(o,a)):(r=Xx(r,i),a=n(a,o)),function(u){return a(r(u))}}function Dee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Xx(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(u){var f=Gh(t,u,1,r)-1;return a[f](i[f](u))}}function Yh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qy(){var t=f2,e=f2,n=df,r,i,a,o=Or,u,f,d;function h(){var y=Math.min(t.length,e.length);return o!==Or&&(o=Nee(t[0],t[y-1])),u=y>2?Dee:kee,f=d=null,p}function p(y){return y==null||isNaN(y=+y)?a:(f||(f=u(t.map(r),e,n)))(r(o(y)))}return p.invert=function(y){return o(i((d||(d=u(e,t.map(r),Zg)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,ey),h()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=QE,h()},p.clamp=function(y){return arguments.length?(o=y?!0:Or,h()):o!==Or},p.interpolate=function(y){return arguments.length?(n=y,h()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,b){return r=y,i=b,h()}}function JE(){return Qy()(Or,Or)}function Iee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ty(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Yc(t){return t=ty(Math.abs(t)),t?t[1]:NaN}function Mee(t,e){return function(n,r){for(var i=n.length,a=[],o=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Lee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var $ee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oh(t){if(!(e=$ee.exec(t)))throw new Error("invalid format: "+t);var e;return new ZE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Oh.prototype=ZE.prototype;function ZE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ZE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var W3;function Uee(t,e){var n=ty(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(W3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ty(t,Math.max(0,e+a-1))[0]}function d2(t,e){var n=ty(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const h2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Iee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>d2(t*100,e),r:d2,s:Uee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function m2(t){return t}var p2=Array.prototype.map,g2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Bee(t){var e=t.grouping===void 0||t.thousands===void 0?m2:Mee(p2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?m2:Lee(p2.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(p){p=Oh(p);var y=p.fill,b=p.align,x=p.sign,E=p.symbol,S=p.zero,O=p.width,R=p.comma,P=p.precision,V=p.trim,D=p.type;D==="n"?(R=!0,D="g"):h2[D]||(P===void 0&&(P=12),V=!0,D="g"),(S||y==="0"&&b==="=")&&(S=!0,y="0",b="=");var j=E==="$"?n:E==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",k=E==="$"?r:/[%p]/.test(D)?o:"",I=h2[D],L=/[defgprs%]/.test(D);P=P===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function q(z){var B=j,M=k,le,be,G;if(D==="c")M=I(z)+M,z="";else{z=+z;var ae=z<0||1/z<0;if(z=isNaN(z)?f:I(Math.abs(z),P),V&&(z=Vee(z)),ae&&+z==0&&x!=="+"&&(ae=!1),B=(ae?x==="("?x:u:x==="-"||x==="("?"":x)+B,M=(D==="s"?g2[8+W3/3]:"")+M+(ae&&x==="("?")":""),L){for(le=-1,be=z.length;++le<be;)if(G=z.charCodeAt(le),48>G||G>57){M=(G===46?i+z.slice(le+1):z.slice(le))+M,z=z.slice(0,le);break}}}R&&!S&&(z=e(z,1/0));var ve=B.length+z.length+M.length,Se=ve<O?new Array(O-ve+1).join(y):"";switch(R&&S&&(z=e(Se+z,Se.length?O-M.length:1/0),Se=""),b){case"<":z=B+z+M+Se;break;case"=":z=B+Se+z+M;break;case"^":z=Se.slice(0,ve=Se.length>>1)+B+z+M+Se.slice(ve);break;default:z=Se+B+z+M;break}return a(z)}return q.toString=function(){return p+""},q}function h(p,y){var b=d((p=Oh(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Yc(y)/3)))*3,E=Math.pow(10,-x),S=g2[8+x/3];return function(O){return b(E*O)+S}}return{format:d,formatPrefix:h}}var Hp,eS,Y3;zee({thousands:",",grouping:[3],currency:["$",""]});function zee(t){return Hp=Bee(t),eS=Hp.format,Y3=Hp.formatPrefix,Hp}function qee(t){return Math.max(0,-Yc(Math.abs(t)))}function Fee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yc(e)/3)))*3-Yc(Math.abs(t)))}function Hee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Yc(e)-Yc(t))+1}function X3(t,e,n,r){var i=Kx(t,e,n),a;switch(r=Oh(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Fee(i,o))&&(r.precision=a),Y3(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Hee(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=qee(i))&&(r.precision=a-(r.type==="%")*2);break}}return eS(r)}function Qo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Fx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return X3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],u=r[a],f,d,h=10;for(u<o&&(d=o,o=u,u=d,d=i,i=a,a=d);h-- >0;){if(d=Hx(o,u,n),d===f)return r[i]=o,r[a]=u,e(r);if(d>0)o=Math.floor(o/d)*d,u=Math.ceil(u/d)*d;else if(d<0)o=Math.ceil(o*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function Q3(){var t=JE();return t.copy=function(){return Yh(t,Q3())},zi.apply(t,arguments),Qo(t)}function J3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ey),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return J3(t).unknown(e)},t=arguments.length?Array.from(t,ey):[0,1],Qo(n)}function Z3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function y2(t){return Math.log(t)}function v2(t){return Math.exp(t)}function Kee(t){return-Math.log(-t)}function Gee(t){return-Math.exp(-t)}function Wee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Yee(t){return t===10?Wee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Xee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function b2(t){return(e,n)=>-t(-e,n)}function tS(t){const e=t(y2,v2),n=e.domain;let r=10,i,a;function o(){return i=Xee(r),a=Yee(r),n()[0]<0?(i=b2(i),a=b2(a),t(Kee,Gee)):t(y2,v2),e}return e.base=function(u){return arguments.length?(r=+u,o()):r},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const f=n();let d=f[0],h=f[f.length-1];const p=h<d;p&&([d,h]=[h,d]);let y=i(d),b=i(h),x,E;const S=u==null?10:+u;let O=[];if(!(r%1)&&b-y<S){if(y=Math.floor(y),b=Math.ceil(b),d>0){for(;y<=b;++y)for(x=1;x<r;++x)if(E=y<0?x/a(-y):x*a(y),!(E<d)){if(E>h)break;O.push(E)}}else for(;y<=b;++y)for(x=r-1;x>=1;--x)if(E=y>0?x/a(-y):x*a(y),!(E<d)){if(E>h)break;O.push(E)}O.length*2<S&&(O=Fx(d,h,S))}else O=Fx(y,b,Math.min(b-y,S)).map(a);return p?O.reverse():O},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Oh(f)).precision==null&&(f.trim=!0),f=eS(f)),u===1/0)return f;const d=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=d?f(h):""}},e.nice=()=>n(Z3(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function eL(){const t=tS(Qy()).domain([1,10]);return t.copy=()=>Yh(t,eL()).base(t.base()),zi.apply(t,arguments),t}function _2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function w2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function nS(t){var e=1,n=t(_2(e),w2(e));return n.constant=function(r){return arguments.length?t(_2(e=+r),w2(e)):e},Qo(n)}function tL(){var t=nS(Qy());return t.copy=function(){return Yh(t,tL()).constant(t.constant())},zi.apply(t,arguments)}function x2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Qee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Jee(t){return t<0?-t*t:t*t}function rS(t){var e=t(Or,Or),n=1;function r(){return n===1?t(Or,Or):n===.5?t(Qee,Jee):t(x2(n),x2(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Qo(e)}function iS(){var t=rS(Qy());return t.copy=function(){return Yh(t,iS()).exponent(t.exponent())},zi.apply(t,arguments),t}function Zee(){return iS.apply(null,arguments).exponent(.5)}function E2(t){return Math.sign(t)*t*t}function ete(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function nL(){var t=JE(),e=[0,1],n=!1,r;function i(a){var o=ete(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(E2(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,ey)).map(E2)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return nL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},zi.apply(i,arguments),Qo(i)}function rL(){var t=[],e=[],n=[],r;function i(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=iee(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Gh(n,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Lo),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return rL().domain(t).range(e).unknown(r)},zi.apply(a,arguments)}function iL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(f){return f!=null&&f<=f?i[Gh(r,f,0,n)]:a}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return o}return o.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},o.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},o.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(f){return arguments.length&&(a=f),o},o.thresholds=function(){return r.slice()},o.copy=function(){return iL().domain([t,e]).range(i).unknown(a)},zi.apply(Qo(o),arguments)}function aL(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Gh(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return aL().domain(t).range(e).unknown(n)},zi.apply(i,arguments)}const iw=new Date,aw=new Date;function $n(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return f;let d;do f.push(d=new Date(+a)),e(a,u),t(a);while(d<a&&a<o);return f},i.filter=a=>$n(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(iw.setTime(+a),aw.setTime(+o),t(iw),t(aw),Math.floor(n(iw,aw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const ny=$n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ny.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$n(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ny);ny.range;const ps=1e3,Li=ps*60,gs=Li*60,Ss=gs*24,aS=Ss*7,S2=Ss*30,sw=Ss*365,Wl=$n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ps)},(t,e)=>(e-t)/ps,t=>t.getUTCSeconds());Wl.range;const sS=$n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ps)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getMinutes());sS.range;const oS=$n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCMinutes());oS.range;const lS=$n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ps-t.getMinutes()*Li)},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getHours());lS.range;const uS=$n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getUTCHours());uS.range;const Xh=$n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Li)/Ss,t=>t.getDate()-1);Xh.range;const Jy=$n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ss,t=>t.getUTCDate()-1);Jy.range;const sL=$n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ss,t=>Math.floor(t/Ss));sL.range;function _u(t){return $n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Li)/aS)}const Zy=_u(0),ry=_u(1),tte=_u(2),nte=_u(3),Xc=_u(4),rte=_u(5),ite=_u(6);Zy.range;ry.range;tte.range;nte.range;Xc.range;rte.range;ite.range;function wu(t){return $n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/aS)}const ev=wu(0),iy=wu(1),ate=wu(2),ste=wu(3),Qc=wu(4),ote=wu(5),lte=wu(6);ev.range;iy.range;ate.range;ste.range;Qc.range;ote.range;lte.range;const cS=$n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());cS.range;const fS=$n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());fS.range;const As=$n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());As.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});As.range;const Ts=$n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ts.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ts.range;function oL(t,e,n,r,i,a){const o=[[Wl,1,ps],[Wl,5,5*ps],[Wl,15,15*ps],[Wl,30,30*ps],[a,1,Li],[a,5,5*Li],[a,15,15*Li],[a,30,30*Li],[i,1,gs],[i,3,3*gs],[i,6,6*gs],[i,12,12*gs],[r,1,Ss],[r,2,2*Ss],[n,1,aS],[e,1,S2],[e,3,3*S2],[t,1,sw]];function u(d,h,p){const y=h<d;y&&([d,h]=[h,d]);const b=p&&typeof p.range=="function"?p:f(d,h,p),x=b?b.range(d,+h+1):[];return y?x.reverse():x}function f(d,h,p){const y=Math.abs(h-d)/p,b=KE(([,,S])=>S).right(o,y);if(b===o.length)return t.every(Kx(d/sw,h/sw,p));if(b===0)return ny.every(Math.max(Kx(d,h,p),1));const[x,E]=o[y/o[b-1][2]<o[b][2]/y?b-1:b];return x.every(E)}return[u,f]}const[ute,cte]=oL(Ts,fS,ev,sL,uS,oS),[fte,dte]=oL(As,cS,Zy,Xh,lS,sS);function ow(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function lw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function jd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function hte(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,f=t.shortMonths,d=Nd(i),h=kd(i),p=Nd(a),y=kd(a),b=Nd(o),x=kd(o),E=Nd(u),S=kd(u),O=Nd(f),R=kd(f),P={a:ae,A:ve,b:Se,B:H,c:null,d:C2,e:C2,f:Mte,g:Kte,G:Wte,H:kte,I:Dte,j:Ite,L:lL,m:Lte,M:$te,p:oe,q:ie,Q:k2,s:D2,S:Vte,u:Ute,U:Bte,V:zte,w:qte,W:Fte,x:null,X:null,y:Hte,Y:Gte,Z:Yte,"%":N2},V={a:me,A:Pe,b:$e,B:Ve,c:null,d:j2,e:j2,f:Zte,g:une,G:fne,H:Xte,I:Qte,j:Jte,L:cL,m:ene,M:tne,p:on,q:Ot,Q:k2,s:D2,S:nne,u:rne,U:ine,V:ane,w:sne,W:one,x:null,X:null,y:lne,Y:cne,Z:dne,"%":N2},D={a:q,A:z,b:B,B:M,c:le,d:P2,e:P2,f:Rte,g:O2,G:T2,H:R2,I:R2,j:Ate,L:Pte,m:Ste,M:Tte,p:L,q:Ete,Q:jte,s:Nte,S:Ote,u:vte,U:bte,V:_te,w:yte,W:wte,x:be,X:G,y:O2,Y:T2,Z:xte,"%":Cte};P.x=j(n,P),P.X=j(r,P),P.c=j(e,P),V.x=j(n,V),V.X=j(r,V),V.c=j(e,V);function j(we,De){return function(Ke){var pe=[],Jt=-1,et=0,dn=we.length,vn,nn,Vs;for(Ke instanceof Date||(Ke=new Date(+Ke));++Jt<dn;)we.charCodeAt(Jt)===37&&(pe.push(we.slice(et,Jt)),(nn=A2[vn=we.charAt(++Jt)])!=null?vn=we.charAt(++Jt):nn=vn==="e"?" ":"0",(Vs=De[vn])&&(vn=Vs(Ke,nn)),pe.push(vn),et=Jt+1);return pe.push(we.slice(et,Jt)),pe.join("")}}function k(we,De){return function(Ke){var pe=jd(1900,void 0,1),Jt=I(pe,we,Ke+="",0),et,dn;if(Jt!=Ke.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(De&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(et=lw(jd(pe.y,0,1)),dn=et.getUTCDay(),et=dn>4||dn===0?iy.ceil(et):iy(et),et=Jy.offset(et,(pe.V-1)*7),pe.y=et.getUTCFullYear(),pe.m=et.getUTCMonth(),pe.d=et.getUTCDate()+(pe.w+6)%7):(et=ow(jd(pe.y,0,1)),dn=et.getDay(),et=dn>4||dn===0?ry.ceil(et):ry(et),et=Xh.offset(et,(pe.V-1)*7),pe.y=et.getFullYear(),pe.m=et.getMonth(),pe.d=et.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),dn="Z"in pe?lw(jd(pe.y,0,1)).getUTCDay():ow(jd(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(dn+5)%7:pe.w+pe.U*7-(dn+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,lw(pe)):ow(pe)}}function I(we,De,Ke,pe){for(var Jt=0,et=De.length,dn=Ke.length,vn,nn;Jt<et;){if(pe>=dn)return-1;if(vn=De.charCodeAt(Jt++),vn===37){if(vn=De.charAt(Jt++),nn=D[vn in A2?De.charAt(Jt++):vn],!nn||(pe=nn(we,Ke,pe))<0)return-1}else if(vn!=Ke.charCodeAt(pe++))return-1}return pe}function L(we,De,Ke){var pe=d.exec(De.slice(Ke));return pe?(we.p=h.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function q(we,De,Ke){var pe=b.exec(De.slice(Ke));return pe?(we.w=x.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function z(we,De,Ke){var pe=p.exec(De.slice(Ke));return pe?(we.w=y.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function B(we,De,Ke){var pe=O.exec(De.slice(Ke));return pe?(we.m=R.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function M(we,De,Ke){var pe=E.exec(De.slice(Ke));return pe?(we.m=S.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function le(we,De,Ke){return I(we,e,De,Ke)}function be(we,De,Ke){return I(we,n,De,Ke)}function G(we,De,Ke){return I(we,r,De,Ke)}function ae(we){return o[we.getDay()]}function ve(we){return a[we.getDay()]}function Se(we){return f[we.getMonth()]}function H(we){return u[we.getMonth()]}function oe(we){return i[+(we.getHours()>=12)]}function ie(we){return 1+~~(we.getMonth()/3)}function me(we){return o[we.getUTCDay()]}function Pe(we){return a[we.getUTCDay()]}function $e(we){return f[we.getUTCMonth()]}function Ve(we){return u[we.getUTCMonth()]}function on(we){return i[+(we.getUTCHours()>=12)]}function Ot(we){return 1+~~(we.getUTCMonth()/3)}return{format:function(we){var De=j(we+="",P);return De.toString=function(){return we},De},parse:function(we){var De=k(we+="",!1);return De.toString=function(){return we},De},utcFormat:function(we){var De=j(we+="",V);return De.toString=function(){return we},De},utcParse:function(we){var De=k(we+="",!0);return De.toString=function(){return we},De}}}var A2={"-":"",_:" ",0:"0"},Jn=/^\s*\d+/,mte=/^%/,pte=/[\\^$*+?|[\]().{}]/g;function xt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function gte(t){return t.replace(pte,"\\$&")}function Nd(t){return new RegExp("^(?:"+t.map(gte).join("|")+")","i")}function kd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function yte(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function vte(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function bte(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function _te(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function wte(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function T2(t,e,n){var r=Jn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function O2(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function xte(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ete(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ste(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function P2(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ate(t,e,n){var r=Jn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function R2(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Tte(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ote(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Pte(t,e,n){var r=Jn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Rte(t,e,n){var r=Jn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Cte(t,e,n){var r=mte.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function jte(t,e,n){var r=Jn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Nte(t,e,n){var r=Jn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function C2(t,e){return xt(t.getDate(),e,2)}function kte(t,e){return xt(t.getHours(),e,2)}function Dte(t,e){return xt(t.getHours()%12||12,e,2)}function Ite(t,e){return xt(1+Xh.count(As(t),t),e,3)}function lL(t,e){return xt(t.getMilliseconds(),e,3)}function Mte(t,e){return lL(t,e)+"000"}function Lte(t,e){return xt(t.getMonth()+1,e,2)}function $te(t,e){return xt(t.getMinutes(),e,2)}function Vte(t,e){return xt(t.getSeconds(),e,2)}function Ute(t){var e=t.getDay();return e===0?7:e}function Bte(t,e){return xt(Zy.count(As(t)-1,t),e,2)}function uL(t){var e=t.getDay();return e>=4||e===0?Xc(t):Xc.ceil(t)}function zte(t,e){return t=uL(t),xt(Xc.count(As(t),t)+(As(t).getDay()===4),e,2)}function qte(t){return t.getDay()}function Fte(t,e){return xt(ry.count(As(t)-1,t),e,2)}function Hte(t,e){return xt(t.getFullYear()%100,e,2)}function Kte(t,e){return t=uL(t),xt(t.getFullYear()%100,e,2)}function Gte(t,e){return xt(t.getFullYear()%1e4,e,4)}function Wte(t,e){var n=t.getDay();return t=n>=4||n===0?Xc(t):Xc.ceil(t),xt(t.getFullYear()%1e4,e,4)}function Yte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xt(e/60|0,"0",2)+xt(e%60,"0",2)}function j2(t,e){return xt(t.getUTCDate(),e,2)}function Xte(t,e){return xt(t.getUTCHours(),e,2)}function Qte(t,e){return xt(t.getUTCHours()%12||12,e,2)}function Jte(t,e){return xt(1+Jy.count(Ts(t),t),e,3)}function cL(t,e){return xt(t.getUTCMilliseconds(),e,3)}function Zte(t,e){return cL(t,e)+"000"}function ene(t,e){return xt(t.getUTCMonth()+1,e,2)}function tne(t,e){return xt(t.getUTCMinutes(),e,2)}function nne(t,e){return xt(t.getUTCSeconds(),e,2)}function rne(t){var e=t.getUTCDay();return e===0?7:e}function ine(t,e){return xt(ev.count(Ts(t)-1,t),e,2)}function fL(t){var e=t.getUTCDay();return e>=4||e===0?Qc(t):Qc.ceil(t)}function ane(t,e){return t=fL(t),xt(Qc.count(Ts(t),t)+(Ts(t).getUTCDay()===4),e,2)}function sne(t){return t.getUTCDay()}function one(t,e){return xt(iy.count(Ts(t)-1,t),e,2)}function lne(t,e){return xt(t.getUTCFullYear()%100,e,2)}function une(t,e){return t=fL(t),xt(t.getUTCFullYear()%100,e,2)}function cne(t,e){return xt(t.getUTCFullYear()%1e4,e,4)}function fne(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Qc(t):Qc.ceil(t),xt(t.getUTCFullYear()%1e4,e,4)}function dne(){return"+0000"}function N2(){return"%"}function k2(t){return+t}function D2(t){return Math.floor(+t/1e3)}var bc,dL,hL;hne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hne(t){return bc=hte(t),dL=bc.format,bc.parse,hL=bc.utcFormat,bc.utcParse,bc}function mne(t){return new Date(t)}function pne(t){return t instanceof Date?+t:+new Date(+t)}function dS(t,e,n,r,i,a,o,u,f,d){var h=JE(),p=h.invert,y=h.domain,b=d(".%L"),x=d(":%S"),E=d("%I:%M"),S=d("%I %p"),O=d("%a %d"),R=d("%b %d"),P=d("%B"),V=d("%Y");function D(j){return(f(j)<j?b:u(j)<j?x:o(j)<j?E:a(j)<j?S:r(j)<j?i(j)<j?O:R:n(j)<j?P:V)(j)}return h.invert=function(j){return new Date(p(j))},h.domain=function(j){return arguments.length?y(Array.from(j,pne)):y().map(mne)},h.ticks=function(j){var k=y();return t(k[0],k[k.length-1],j??10)},h.tickFormat=function(j,k){return k==null?D:d(k)},h.nice=function(j){var k=y();return(!j||typeof j.range!="function")&&(j=e(k[0],k[k.length-1],j??10)),j?y(Z3(k,j)):h},h.copy=function(){return Yh(h,dS(t,e,n,r,i,a,o,u,f,d))},h}function gne(){return zi.apply(dS(fte,dte,As,cS,Zy,Xh,lS,sS,Wl,dL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yne(){return zi.apply(dS(ute,cte,Ts,fS,ev,Jy,uS,oS,Wl,hL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tv(){var t=0,e=1,n,r,i,a,o=Or,u=!1,f;function d(p){return p==null||isNaN(p=+p)?f:o(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(u=!!p,d):u},d.interpolator=function(p){return arguments.length?(o=p,d):o};function h(p){return function(y){var b,x;return arguments.length?([b,x]=y,o=p(b,x),d):[o(0),o(1)]}}return d.range=h(df),d.rangeRound=h(QE),d.unknown=function(p){return arguments.length?(f=p,d):f},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function Jo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function mL(){var t=Qo(tv()(Or));return t.copy=function(){return Jo(t,mL())},Ms.apply(t,arguments)}function pL(){var t=tS(tv()).domain([1,10]);return t.copy=function(){return Jo(t,pL()).base(t.base())},Ms.apply(t,arguments)}function gL(){var t=nS(tv());return t.copy=function(){return Jo(t,gL()).constant(t.constant())},Ms.apply(t,arguments)}function hS(){var t=rS(tv());return t.copy=function(){return Jo(t,hS()).exponent(t.exponent())},Ms.apply(t,arguments)}function vne(){return hS.apply(null,arguments).exponent(.5)}function yL(){var t=[],e=Or;function n(r){if(r!=null&&!isNaN(r=+r))return e((Gh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Lo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>ree(t,a/r))},n.copy=function(){return yL(e).domain(t)},Ms.apply(n,arguments)}function nv(){var t=0,e=.5,n=1,r=1,i,a,o,u,f,d=Or,h,p=!1,y;function b(E){return isNaN(E=+E)?y:(E=.5+((E=+h(E))-a)*(r*E<r*a?u:f),d(p?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,n]=E,i=h(t=+t),a=h(e=+e),o=h(n=+n),u=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(E){return arguments.length?(p=!!E,b):p},b.interpolator=function(E){return arguments.length?(d=E,b):d};function x(E){return function(S){var O,R,P;return arguments.length?([O,R,P]=S,d=Cee(E,[O,R,P]),b):[d(0),d(.5),d(1)]}}return b.range=x(df),b.rangeRound=x(QE),b.unknown=function(E){return arguments.length?(y=E,b):y},function(E){return h=E,i=E(t),a=E(e),o=E(n),u=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,b}}function vL(){var t=Qo(nv()(Or));return t.copy=function(){return Jo(t,vL())},Ms.apply(t,arguments)}function bL(){var t=tS(nv()).domain([.1,1,10]);return t.copy=function(){return Jo(t,bL()).base(t.base())},Ms.apply(t,arguments)}function _L(){var t=nS(nv());return t.copy=function(){return Jo(t,_L()).constant(t.constant())},Ms.apply(t,arguments)}function mS(){var t=rS(nv());return t.copy=function(){return Jo(t,mS()).exponent(t.exponent())},Ms.apply(t,arguments)}function bne(){return mS.apply(null,arguments).exponent(.5)}const qd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:WE,scaleDiverging:vL,scaleDivergingLog:bL,scaleDivergingPow:mS,scaleDivergingSqrt:bne,scaleDivergingSymlog:_L,scaleIdentity:J3,scaleImplicit:Gx,scaleLinear:Q3,scaleLog:eL,scaleOrdinal:GE,scalePoint:see,scalePow:iS,scaleQuantile:rL,scaleQuantize:iL,scaleRadial:nL,scaleSequential:mL,scaleSequentialLog:pL,scaleSequentialPow:hS,scaleSequentialQuantile:yL,scaleSequentialSqrt:vne,scaleSequentialSymlog:gL,scaleSqrt:Zee,scaleSymlog:tL,scaleThreshold:aL,scaleTime:gne,scaleUtc:yne,tickFormat:X3},Symbol.toStringTag,{value:"Module"}));var Zo=t=>t.chartData,pS=te([Zo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),rv=(t,e,n,r)=>r?pS(t):Zo(t);function Jc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ci(e)&&ci(n))return!0}return!1}function I2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function _ne(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(ci(n))i=n;else if(typeof n=="function")return;if(ci(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Jc(o))return o}}function wne(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Jc(r))return I2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,u;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Te(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&xN.test(i)){var f=xN.exec(i);if(f==null||e==null)o=void 0;else{var d=+f[1];o=e[0]-d}}else o=e?.[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(Te(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e?.[1]))}catch{}else if(typeof a=="string"&&EN.test(a)){var h=EN.exec(a);if(h==null||e==null)u=void 0;else{var p=+h[1];u=e[1]+p}}else u=e?.[1];var y=[o,u];if(Jc(y))return e==null?y:I2(y,e,n)}}}var hf=1e9,xne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yS,tn=!0,Ui="[DecimalError] ",tu=Ui+"Invalid argument: ",gS=Ui+"Exponent out of range: ",mf=Math.floor,Ll=Math.pow,Ene=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ii,Yn=1e7,Yt=7,wL=9007199254740991,ay=mf(wL/Yt),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Yt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(t){return bs(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,n=e.constructor;return zt(bs(e,new n(t),0,1),n.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return On(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ii))throw Error(Ui+"NaN");if(n.s<1)throw Error(Ui+(n.s?"NaN":"-Infinity"));return n.eq(ii)?new r(0):(tn=!1,e=bs(Ph(n,a),Ph(t,a),a),tn=!0,zt(e,i))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SL(e,t):xL(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ui+"NaN");return n.s?(tn=!1,e=bs(n,t,0,1).times(t),tn=!0,n.minus(e)):zt(new r(n),i)};Oe.naturalExponential=Oe.exp=function(){return EL(this)};Oe.naturalLogarithm=Oe.ln=function(){return Ph(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xL(e,t):SL(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(tu+t);if(e=On(i)+1,r=i.d.length-1,n=r*Yt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Oe.squareRoot=Oe.sqrt=function(){var t,e,n,r,i,a,o,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Ui+"NaN")}for(t=On(u),tn=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ca(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=mf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=o=n+3;;)if(a=r,r=a.plus(bs(u,a,o+2)).times(.5),Ca(a.d).slice(0,o)===(e=Ca(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(zt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;o+=4}return tn=!0,zt(r,n)};Oe.times=Oe.mul=function(t){var e,n,r,i,a,o,u,f,d,h=this,p=h.constructor,y=h.d,b=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,f=y.length,d=b.length,f<d&&(a=y,y=b,b=a,o=f,f=d,d=o),a=[],o=f+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)u=a[i]+b[r]*y[i-r-1]+e,a[i--]=u%Yn|0,e=u/Yn|0;a[i]=(a[i]+e)%Yn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,tn?zt(t,p.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ba(t,0,hf),e===void 0?e=r.rounding:Ba(e,0,8),zt(n,t+On(n)+1,e))};Oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=uu(r,!0):(Ba(t,0,hf),e===void 0?e=i.rounding:Ba(e,0,8),r=zt(new i(r),t+1,e),n=uu(r,!0,t+1)),n};Oe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?uu(i):(Ba(t,0,hf),e===void 0?e=a.rounding:Ba(e,0,8),r=zt(new a(i),t+On(i)+1,e),n=uu(r.abs(),!1,t+On(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return zt(new e(t),On(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,n,r,i,a,o,u=this,f=u.constructor,d=12,h=+(t=new f(t));if(!t.s)return new f(ii);if(u=new f(u),!u.s){if(t.s<1)throw Error(Ui+"Infinity");return u}if(u.eq(ii))return u;if(r=f.precision,t.eq(ii))return zt(u,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=u.s,o){if((n=h<0?-h:h)<=wL){for(i=new f(ii),e=Math.ceil(r/Yt+4),tn=!1;n%2&&(i=i.times(u),L2(i.d,e)),n=mf(n/2),n!==0;)u=u.times(u),L2(u.d,e);return tn=!0,t.s<0?new f(ii).div(i):zt(i,r)}}else if(a<0)throw Error(Ui+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,tn=!1,i=t.times(Ph(u,r+d)),tn=!0,i=EL(i),i.s=a,i};Oe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=On(i),r=uu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ba(t,1,hf),e===void 0?e=a.rounding:Ba(e,0,8),i=zt(new a(i),t,e),n=On(i),r=uu(i,t<=n||n<=a.toExpNeg,t)),r};Oe.toSignificantDigits=Oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ba(t,1,hf),e===void 0?e=r.rounding:Ba(e,0,8)),zt(new r(n),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=On(t),n=t.constructor;return uu(t,e<=n.toExpNeg||e>=n.toExpPos)};function xL(t,e){var n,r,i,a,o,u,f,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),tn?zt(e,p):e;if(f=t.d,d=e.d,o=t.e,i=e.e,f=f.slice(),a=o-i,a){for(a<0?(r=f,a=-a,u=d.length):(r=d,i=o,u=f.length),o=Math.ceil(p/Yt),u=o>u?o+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=f.length,a=d.length,u-a<0&&(a=u,r=d,d=f,f=r),n=0;a;)n=(f[--a]=f[a]+d[a]+n)/Yn|0,f[a]%=Yn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,tn?zt(e,p):e}function Ba(t,e,n){if(t!==~~t||t<e||t>n)throw Error(tu+t)}function Ca(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Yt-r.length,n&&(a+=Ao(n)),a+=r;o=t[e],r=o+"",n=Yt-r.length,n&&(a+=Ao(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var bs=(function(){function t(r,i){var a,o=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+o,r[u]=a%Yn|0,o=a/Yn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var u,f;if(a!=o)f=a>o?1:-1;else for(u=f=0;u<a;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Yn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var u,f,d,h,p,y,b,x,E,S,O,R,P,V,D,j,k,I,L=r.constructor,q=r.s==i.s?1:-1,z=r.d,B=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(Ui+"Division by zero");for(f=r.e-i.e,k=B.length,D=z.length,b=new L(q),x=b.d=[],d=0;B[d]==(z[d]||0);)++d;if(B[d]>(z[d]||0)&&--f,a==null?R=a=L.precision:o?R=a+(On(r)-On(i))+1:R=a,R<0)return new L(0);if(R=R/Yt+2|0,d=0,k==1)for(h=0,B=B[0],R++;(d<D||h)&&R--;d++)P=h*Yn+(z[d]||0),x[d]=P/B|0,h=P%B|0;else{for(h=Yn/(B[0]+1)|0,h>1&&(B=t(B,h),z=t(z,h),k=B.length,D=z.length),V=k,E=z.slice(0,k),S=E.length;S<k;)E[S++]=0;I=B.slice(),I.unshift(0),j=B[0],B[1]>=Yn/2&&++j;do h=0,u=e(B,E,k,S),u<0?(O=E[0],k!=S&&(O=O*Yn+(E[1]||0)),h=O/j|0,h>1?(h>=Yn&&(h=Yn-1),p=t(B,h),y=p.length,S=E.length,u=e(p,E,y,S),u==1&&(h--,n(p,k<y?I:B,y))):(h==0&&(u=h=1),p=B.slice()),y=p.length,y<S&&p.unshift(0),n(E,p,S),u==-1&&(S=E.length,u=e(B,E,k,S),u<1&&(h++,n(E,k<S?I:B,S))),S=E.length):u===0&&(h++,E=[0]),x[d++]=h,u&&E[0]?E[S++]=z[V]||0:(E=[z[V]],S=1);while((V++<D||E[0]!==void 0)&&R--)}return x[0]||x.shift(),b.e=f,zt(b,o?a+On(b)+1:a)}})();function EL(t,e){var n,r,i,a,o,u,f=0,d=0,h=t.constructor,p=h.precision;if(On(t)>16)throw Error(gS+On(t));if(!t.s)return new h(ii);for(tn=!1,u=p,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(Ll(2,d))/Math.LN10*2+5|0,u+=r,n=i=a=new h(ii),h.precision=u;;){if(i=zt(i.times(t),u),n=n.times(++f),o=a.plus(bs(i,n,u)),Ca(o.d).slice(0,u)===Ca(a.d).slice(0,u)){for(;d--;)a=zt(a.times(a),u);return h.precision=p,e==null?(tn=!0,zt(a,p)):a}a=o}}function On(t){for(var e=t.e*Yt,n=t.d[0];n>=10;n/=10)e++;return e}function uw(t,e,n){if(e>t.LN10.sd())throw tn=!0,n&&(t.precision=n),Error(Ui+"LN10 precision limit exceeded");return zt(new t(t.LN10),e)}function Ao(t){for(var e="";t--;)e+="0";return e}function Ph(t,e){var n,r,i,a,o,u,f,d,h,p=1,y=10,b=t,x=b.d,E=b.constructor,S=E.precision;if(b.s<1)throw Error(Ui+(b.s?"NaN":"-Infinity"));if(b.eq(ii))return new E(0);if(e==null?(tn=!1,d=S):d=e,b.eq(10))return e==null&&(tn=!0),uw(E,d);if(d+=y,E.precision=d,n=Ca(x),r=n.charAt(0),a=On(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=Ca(b.d),r=n.charAt(0),p++;a=On(b),r>1?(b=new E("0."+n),a++):b=new E(r+"."+n.slice(1))}else return f=uw(E,d+2,S).times(a+""),b=Ph(new E(r+"."+n.slice(1)),d-y).plus(f),E.precision=S,e==null?(tn=!0,zt(b,S)):b;for(u=o=b=bs(b.minus(ii),b.plus(ii),d),h=zt(b.times(b),d),i=3;;){if(o=zt(o.times(h),d),f=u.plus(bs(o,new E(i),d)),Ca(f.d).slice(0,d)===Ca(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(uw(E,d+2,S).times(a+""))),u=bs(u,new E(p),d),E.precision=S,e==null?(tn=!0,zt(u,S)):u;u=f,i+=2}}function M2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=mf(n/Yt),t.d=[],r=(n+1)%Yt,n<0&&(r+=Yt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Yt;r<i;)t.d.push(+e.slice(r,r+=Yt));e=e.slice(r),r=Yt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),tn&&(t.e>ay||t.e<-ay))throw Error(gS+n)}else t.s=0,t.e=0,t.d=[0];return t}function zt(t,e,n){var r,i,a,o,u,f,d,h,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Yt,i=e,d=p[h=0];else{if(h=Math.ceil((r+1)/Yt),a=p.length,h>=a)return t;for(d=a=p[h],o=1;a>=10;a/=10)o++;r%=Yt,i=r-Yt+o}if(n!==void 0&&(a=Ll(10,o-i-1),u=d/a%10|0,f=e<0||p[h+1]!==void 0||d%a,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/Ll(10,o-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(a=On(t),p.length=1,e=e-a-1,p[0]=Ll(10,(Yt-e%Yt)%Yt),t.e=mf(-e/Yt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Ll(10,Yt-r),p[h]=i>0?(d/Ll(10,o-i)%Ll(10,i)|0)*a:0),f)for(;;)if(h==0){(p[0]+=a)==Yn&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=Yn)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(tn&&(t.e>ay||t.e<-ay))throw Error(gS+On(t));return t}function SL(t,e){var n,r,i,a,o,u,f,d,h,p,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),tn?zt(e,b):e;if(f=t.d,p=e.d,r=e.e,d=t.e,f=f.slice(),o=d-r,o){for(h=o<0,h?(n=f,o=-o,u=p.length):(n=p,r=d,u=f.length),i=Math.max(Math.ceil(b/Yt),u)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=p[i]){h=f[i]<p[i];break}o=0}for(h&&(n=f,f=p,p=n,e.s=-e.s),u=f.length,i=p.length-u;i>0;--i)f[u++]=0;for(i=p.length;i>o;){if(f[--i]<p[i]){for(a=i;a&&f[--a]===0;)f[a]=Yn-1;--f[a],f[i]+=Yn}f[i]-=p[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,tn?zt(e,b):e):new y(0)}function uu(t,e,n){var r,i=On(t),a=Ca(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ao(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ao(-i-1)+a,n&&(r=n-o)>0&&(a+=Ao(r))):i>=o?(a+=Ao(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ao(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ao(r))),t.s<0?"-"+a:a}function L2(t,e){if(t.length>e)return t.length=e,!0}function AL(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(tu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return M2(o,a.toString())}else if(typeof a!="string")throw Error(tu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Ene.test(a))M2(o,a);else throw Error(tu+a)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=AL,i.config=i.set=Sne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Sne(t){if(!t||typeof t!="object")throw Error(Ui+"Object expected");var e,n,r,i=["precision",1,hf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(mf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(tu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(tu+n+": "+r);return this}var yS=AL(xne);ii=new yS(1);const kt=yS;var Ane=t=>t,TL={},OL=t=>t===TL,$2=t=>function e(){return arguments.length===0||arguments.length===1&&OL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},PL=(t,e)=>t===1?e:$2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==TL).length;return a>=t?e(...r):PL(t-a,$2(function(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];var d=r.map(h=>OL(h)?u.shift():h);return e(...d,...u)}))}),iv=t=>PL(t.length,t),Qx=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Tne=iv((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),One=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Ane;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((u,f)=>f(u),a(...arguments))}},Jx=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),RL=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((o,u)=>{var f;return o===((f=e)===null||f===void 0?void 0:f[u])})||(e=i,n=t(...i)),n}};function CL(t){var e;return t===0?e=1:e=Math.floor(new kt(t).abs().log(10).toNumber())+1,e}function jL(t,e,n){for(var r=new kt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}iv((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});iv((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});iv((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var NL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},kL=(t,e,n)=>{if(t.lte(0))return new kt(0);var r=CL(t.toNumber()),i=new kt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,u=new kt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),f=u.mul(i);return e?new kt(f.toNumber()):new kt(Math.ceil(f.toNumber()))},Pne=(t,e,n)=>{var r=new kt(1),i=new kt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new kt(10).pow(CL(t)-1),i=new kt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new kt(Math.floor(t)))}else t===0?i=new kt(Math.floor((e-1)/2)):n||(i=new kt(Math.floor(t)));var o=Math.floor((e-1)/2),u=One(Tne(f=>i.add(new kt(f-o).mul(r)).toNumber()),Qx);return u(0,e)},DL=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new kt(0),tickMin:new kt(0),tickMax:new kt(0)};var o=kL(new kt(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new kt(0):(u=new kt(e).add(n).div(2),u=u.sub(new kt(u).mod(o)));var f=Math.ceil(u.sub(e).div(o).toNumber()),d=Math.ceil(new kt(n).sub(u).div(o).toNumber()),h=f+d+1;return h>r?DL(e,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,f=n>0?f:f+(r-h)),{step:o,tickMin:u.sub(new kt(f).mul(o)),tickMax:u.add(new kt(d).mul(o))})};function Rne(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,u]=NL([e,n]);if(o===-1/0||u===1/0){var f=u===1/0?[o,...Qx(0,r-1).map(()=>1/0)]:[...Qx(0,r-1).map(()=>-1/0),u];return e>n?Jx(f):f}if(o===u)return Pne(o,r,i);var{step:d,tickMin:h,tickMax:p}=DL(o,u,a,i,0),y=jL(h,p.add(new kt(.1).mul(d)),d);return e>n?Jx(y):y}function Cne(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=NL([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var u=Math.max(e,2),f=kL(new kt(o).sub(a).div(u-1),i,0),d=[...jL(new kt(a),new kt(o),f),o];return i===!1&&(d=d.map(h=>Math.round(h))),n>r?Jx(d):d}var jne=RL(Rne),Nne=RL(Cne),IL=t=>t.rootProps.maxBarSize,kne=t=>t.rootProps.barGap,ML=t=>t.rootProps.barCategoryGap,Dne=t=>t.rootProps.barSize,Qh=t=>t.rootProps.stackOffset,vS=t=>t.options.chartName,bS=t=>t.rootProps.syncId,LL=t=>t.rootProps.syncMethod,_S=t=>t.options.eventEmitter,Pa={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Vr={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},av=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Ine={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Pa.angleAxisId,includeHidden:!1,name:void 0,reversed:Pa.reversed,scale:Pa.scale,tick:Pa.tick,tickCount:void 0,ticks:void 0,type:Pa.type,unit:void 0},Mne={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:Vr.type,unit:void 0},Lne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pa.scale,tick:Pa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$ne={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:"category",unit:void 0},pf=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Lne:Ine,Jh=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?$ne:Mne,sv=t=>t.polarOptions,wS=te([Ds,Is,Qn],NQ),$L=te([sv,wS],(t,e)=>{if(t!=null)return oa(t.innerRadius,e,0)}),VL=te([sv,wS],(t,e)=>{if(t!=null)return oa(t.outerRadius,e,e*.8)}),Vne=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},UL=te([sv],Vne),Une=te([pf,UL],av),BL=te([wS,$L,VL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),Bne=te([Jh,BL],av),gf=te([lt,sv,$L,VL,Ds,Is],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:u,startAngle:f,endAngle:d}=e;return{cx:oa(o,i,i/2),cy:oa(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),Ft=(t,e)=>e,Zh=(t,e,n)=>n;function xS(t){return t?.id}var Vn=t=>{var e=lt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},yf=t=>t.tooltip.settings.axisId,Un=t=>{var e=Vn(t),n=yf(t);return vf(t,e,n)};function zL(t,e,n){var{chartData:r=[]}=e,i=n?.dataKey,a=new Map;return t.forEach(o=>{var u,f=(u=o.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var d=xS(o);f.forEach((h,p)=>{var y=i==null?p:String(fn(h,i,null)),b=fn(h,o.dataKey,0),x;a.has(y)?x=a.get(y):x={},Object.assign(x,{[d]:b}),a.set(y,x)})}}),Array.from(a.values())}function ov(t){return t.stackId!=null&&t.dataKey!=null}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){zne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zne(t,e,n){return(e=qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qne(t){var e=Fne(t,"string");return typeof e=="symbol"?e:e+""}function Fne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zx=[0,"auto"],ti={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ls=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??ti},ni={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Zx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Gy},el=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??ni},Hne={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ES=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Hne},yn=(t,e,n)=>{switch(e){case"xAxis":return Ls(t,n);case"yAxis":return el(t,n);case"zAxis":return ES(t,n);case"angleAxis":return pf(t,n);case"radiusAxis":return Jh(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Kne=(t,e,n)=>{switch(e){case"xAxis":return Ls(t,n);case"yAxis":return el(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},vf=(t,e,n)=>{switch(e){case"xAxis":return Ls(t,n);case"yAxis":return el(t,n);case"angleAxis":return pf(t,n);case"radiusAxis":return Jh(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},qL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function SS(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var lv=t=>t.graphicalItems.cartesianItems,Gne=te([Ft,Zh],SS),AS=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),em=te([lv,yn,Gne],AS),FL=te([em],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(ov)),HL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),KL=te([em],HL),TS=t=>t.map(e=>e.data).filter(Boolean).flat(1),Wne=te([em],TS),OS=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},PS=te([Wne,rv],OS),RS=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:fn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:fn(i,r)}))):t.map(r=>({value:r})),uv=te([PS,yn,em],RS);function GL(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function xu(t){return t.filter(e=>Ua(e)||e instanceof Date).map(Number).filter(e=>oi(e)===!1)}function Yne(t,e,n){return!n||typeof e!="number"||oi(e)?[]:n.length?xu(n.flatMap(r=>{var i=fn(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!ci(a)||!ci(o)))return[e-a,e+o]})):[]}var Xne=te([FL,rv,Un],zL),WL=(t,e,n)=>{var r={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,u]=a,f=u.map(xS);return[o,{stackedData:WQ(t,f,n),graphicalItems:u}]}))},e1=te([Xne,FL,Qh],WL),YL=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=ZQ(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Qne=te([e1,Zo,Ft],YL),XL=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(o=>{var u,f,d=(u=r[o.id])===null||u===void 0?void 0:u.filter(p=>GL(i,p)),h=fn(a,(f=e.dataKey)!==null&&f!==void 0?f:o.dataKey);return{value:h,errorDomain:Yne(a,h,d)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:fn(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),cv=t=>t.errorBars,QL=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>GL(n,r));te([KL,cv,Ft],QL);var Jne=te([PS,yn,KL,cv,Ft],XL);function Zne(t){var{value:e}=t;if(Ua(e)||e instanceof Date)return e}var U2=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=xu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ere=(t,e,n)=>{var r=t.map(Zne).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&m4(r))?U3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},CS=t=>{var e;if(t==null||!("domain"in t))return Zx;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=xu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Zx},oy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),u=Math.max(...a);return[o,u]}},JL=t=>t.referenceElements.dots,bf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),tre=te([JL,Ft,Zh],bf),ZL=t=>t.referenceElements.areas,nre=te([ZL,Ft,Zh],bf),e6=t=>t.referenceElements.lines,rre=te([e6,Ft,Zh],bf),t6=(t,e)=>{var n=xu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ire=te(tre,Ft,t6),n6=(t,e)=>{var n=xu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},are=te([nre,Ft],n6),r6=(t,e)=>{var n=xu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},sre=te(rre,Ft,r6),ore=te(ire,sre,are,(t,e,n)=>oy(t,n,e)),i6=te([yn],CS),jS=(t,e,n,r,i,a,o)=>{var u=_ne(e,t.allowDataOverflow);if(u!=null)return u;var f=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",d=f?oy(n,i,U2(r)):oy(i,U2(r));return wne(e,d,t.allowDataOverflow)},lre=te([yn,i6,Qne,Jne,ore,lt,Ft],jS),ure=[0,1],NS=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:u,type:f}=t,d=ks(e,a);return d&&u==null?U3(0,n.length):f==="category"?ere(r,t,d):i==="expand"?ure:o}},kS=te([yn,lt,PS,uv,Qh,Ft,lre],NS),a6=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(Hh(a));return u in qd?u:"point"}}},tl=te([yn,lt,qL,vS,Ft],a6);function cre(t){if(t!=null){if(t in qd)return qd[t]();var e="scale".concat(Hh(t));if(e in qd)return qd[e]()}}function fv(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=cre(e);if(i!=null){var a=i.domain(n).range(r);return qQ(a),a}}}var DS=(t,e,n)=>{var r=CS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Jc(t))return jne(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Jc(t))return Nne(t,e.tickCount,e.allowDecimals)}},IS=te([kS,vf,tl],DS),MS=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Jc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(o,u)]}return e},fre=te([yn,kS,IS,Ft],MS),dre=te(uv,yn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(xu(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),s6=te(dre,lt,ML,Qn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ci(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=oa(n,t*a),u=t*a/2;return u-o-(u-o)/a*o}return 0}),hre=(t,e)=>{var n=Ls(t,e);return n==null||typeof n.padding!="string"?0:s6(t,"xAxis",e,n.padding)},mre=(t,e)=>{var n=el(t,e);return n==null||typeof n.padding!="string"?0:s6(t,"yAxis",e,n.padding)},pre=te(Ls,hre,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),gre=te(el,mre,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),yre=te([Qn,pre,Yy,Wy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),vre=te([Qn,lt,gre,Yy,Wy,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),tm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return yre(t,n,r);case"yAxis":return vre(t,n,r);case"zAxis":return(i=ES(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return UL(t);case"radiusAxis":return BL(t,n);default:return}},o6=te([yn,tm],av),_f=te([yn,tl,fre,o6],fv);te([em,cv,Ft],QL);function l6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var dv=(t,e)=>e,hv=(t,e,n)=>n,bre=te(VE,dv,hv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(l6)),_re=te(UE,dv,hv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(l6)),u6=(t,e)=>({width:t.width,height:e.height}),wre=(t,e)=>{var n=typeof e.width=="number"?e.width:Gy;return{width:n,height:t.height}},c6=te(Qn,Ls,u6),xre=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Ere=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Sre=te(Is,Qn,bre,dv,hv,(t,e,n,r,i)=>{var a={},o;return n.forEach(u=>{var f=u6(e,u);o==null&&(o=xre(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[u.id]=o-Number(d)*f.height,o+=(d?-1:1)*f.height}),a}),Are=te(Ds,Qn,_re,dv,hv,(t,e,n,r,i)=>{var a={},o;return n.forEach(u=>{var f=wre(e,u);o==null&&(o=Ere(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[u.id]=o-Number(d)*f.width,o+=(d?-1:1)*f.width}),a}),Tre=(t,e)=>{var n=Qn(t),r=Ls(t,e);if(r!=null){var i=Sre(t,r.orientation,r.mirror),a=i[e];return a==null?{x:n.left,y:0}:{x:n.left,y:a}}},Ore=(t,e)=>{var n=Qn(t),r=el(t,e);if(r!=null){var i=Are(t,r.orientation,r.mirror),a=i[e];return a==null?{x:0,y:n.top}:{x:a,y:n.top}}},f6=te(Qn,el,(t,e)=>{var n=typeof e.width=="number"?e.width:Gy;return{width:n,height:t.height}}),B2=(t,e,n)=>{switch(e){case"xAxis":return c6(t,n).width;case"yAxis":return f6(t,n).height;default:return}},d6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,u=ks(t,r),f=e.map(d=>d.value);if(o&&u&&a==="category"&&i&&m4(f))return f}},nm=te([lt,uv,yn,Ft],d6),LS=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=ks(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},$S=te([lt,uv,vf,Ft],LS),z2=te([lt,Kne,tl,_f,nm,$S,tm,IS,Ft],(t,e,n,r,i,a,o,u,f)=>{if(e==null)return null;var d=ks(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:u,range:o,realScaleType:n,scale:r}}),h6=(t,e,n,r,i,a,o,u,f)=>{if(!(e==null||r==null)){var d=ks(t,f),{type:h,ticks:p,tickCount:y}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=h==="category"&&r.bandwidth?r.bandwidth()/b:0;x=f==="angleAxis"&&a!=null&&a.length>=2?Br(a[0]-a[1])*2*x:x;var E=p||i;if(E){var S=E.map((O,R)=>{var P=o?o.indexOf(O):O;return{index:R,coordinate:r(P)+x,value:O,offset:x}});return S.filter(O=>!oi(O.coordinate))}return d&&u?u.map((O,R)=>({coordinate:r(O)+x,value:O,index:R,offset:x})):r.ticks?r.ticks(y).map(O=>({coordinate:r(O)+x,value:O,offset:x})):r.domain().map((O,R)=>({coordinate:r(O)+x,value:o?o[O]:O,index:R,offset:x}))}},m6=te([lt,vf,tl,_f,IS,tm,nm,$S,Ft],h6),p6=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=ks(t,o),{tickCount:f}=e,d=0;return d=o==="angleAxis"&&r?.length>=2?Br(r[0]-r[1])*2*d:d,u&&a?a.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:i?i[h]:h,index:p,offset:d}))}},Ho=te([lt,vf,_f,tm,nm,$S,Ft],p6),Ko=te(yn,_f,(t,e)=>{if(!(t==null||e==null))return sy(sy({},t),{},{scale:e})}),Pre=te([yn,tl,kS,o6],fv);te((t,e,n)=>ES(t,n),Pre,(t,e)=>{if(!(t==null||e==null))return sy(sy({},t),{},{scale:e})});var Rre=te([lt,VE,UE],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),g6=t=>t.options.defaultTooltipEventType,y6=t=>t.options.validateTooltipEventTypes;function v6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function VS(t,e){var n=g6(t),r=y6(t);return v6(e,n,r)}function Cre(t){return Ee(e=>VS(e,t))}var b6=(t,e)=>{var n,r=Number(e);if(!(oi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},jre=t=>t.tooltip.settings,Ro={active:!1,index:null,dataKey:void 0,coordinate:void 0},Nre={itemInteraction:{click:Ro,hover:Ro},axisInteraction:{click:Ro,hover:Ro},keyboardInteraction:Ro,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_6=di({name:"tooltip",initialState:Nre,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=vs(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:kre,removeTooltipEntrySettings:Dre,setTooltipSettingsState:Ire,setActiveMouseOverItemIndex:w6,mouseLeaveItem:Mre,mouseLeaveChart:x6,setActiveClickItemIndex:Lre,setMouseOverAxisIndex:E6,setMouseClickAxisIndex:$re,setSyncInteraction:t1,setKeyboardInteraction:n1}=_6.actions,Vre=_6.reducer;function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){Ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ure(t,e,n){return(e=Bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){var e=zre(t,"string");return typeof e=="symbol"?e:e+""}function zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qre(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Fre(t){return t.index!=null}var S6=(t,e,n,r)=>{if(e==null)return Ro;var i=qre(t,e,n);if(i==null)return Ro;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Fre(i)){if(a)return Kp(Kp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Kp(Kp({},Ro),{},{coordinate:i.coordinate})},US=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!ci(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},A6=(t,e,n,r,i,a,o,u)=>{if(!(a==null||u==null)){var f=o[0],d=f==null?void 0:u(f.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},T6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},rm=t=>t.options.tooltipPayloadSearcher,wf=t=>t.tooltip;function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){Hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hre(t,e,n){return(e=Kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kre(t){var e=Gre(t,"string");return typeof e=="symbol"?e:e+""}function Gre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wre(t,e){return t??e}var O6=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:h}=n,p=[];return t.reduce((y,b)=>{var x,{dataDefinedOnItem:E,settings:S}=b,O=Wre(E,u),R=Array.isArray(O)?b3(O,d,h):O,P=(x=S?.dataKey)!==null&&x!==void 0?x:r?.dataKey,V=S?.nameKey,D;if(r!=null&&r.dataKey&&Array.isArray(R)&&!Array.isArray(R[0])&&o==="axis"?D=p4(R,r.dataKey,i):D=a(R,e,f,V),Array.isArray(D))D.forEach(k=>{var I=H2(H2({},S),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});y.push(SN({tooltipEntrySettings:I,dataKey:k.dataKey,payload:k.payload,value:fn(k.payload,k.dataKey),name:k.name}))});else{var j;y.push(SN({tooltipEntrySettings:S,dataKey:P,payload:D,value:fn(D,P),name:(j=fn(D,V))!==null&&j!==void 0?j:S?.name}))}return y},p)}},BS=te([Un,lt,qL,vS,Vn],a6),Yre=te([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Xre=te([Vn,yf],SS),im=te([Yre,Un,Xre],AS),Qre=te([im],t=>t.filter(ov)),Jre=te([im],TS),xf=te([Jre,Zo],OS),Zre=te([Qre,Zo,Un],zL),zS=te([xf,Un,im],RS),eie=te([Un],CS),tie=te([im],t=>t.filter(ov)),nie=te([Zre,tie,Qh],WL),rie=te([nie,Zo,Vn],YL),iie=te([im],HL),aie=te([xf,Un,iie,cv,Vn],XL),sie=te([JL,Vn,yf],bf),oie=te([sie,Vn],t6),lie=te([ZL,Vn,yf],bf),uie=te([lie,Vn],n6),cie=te([e6,Vn,yf],bf),fie=te([cie,Vn],r6),die=te([oie,fie,uie],oy),hie=te([Un,eie,rie,aie,die,lt,Vn],jS),P6=te([Un,lt,xf,zS,Qh,Vn,hie],NS),mie=te([P6,Un,BS],DS),pie=te([Un,P6,mie,Vn],MS),R6=t=>{var e=Vn(t),n=yf(t),r=!1;return tm(t,e,n,r)},C6=te([Un,R6],av),j6=te([Un,BS,pie,C6],fv),gie=te([lt,zS,Un,Vn],d6),yie=te([lt,zS,Un,Vn],LS),vie=(t,e,n,r,i,a,o,u)=>{if(e){var{type:f}=e,d=ks(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&i?.length>=2?Br(i[0]-i[1])*2*p:p,d&&o?o.map((y,b)=>({coordinate:r(y)+p,value:y,index:b,offset:p})):r.domain().map((y,b)=>({coordinate:r(y)+p,value:a?a[y]:y,index:b,offset:p}))}}},$s=te([lt,Un,BS,j6,R6,gie,yie,Vn],vie),qS=te([g6,y6,jre],(t,e,n)=>v6(n.shared,t,e)),N6=t=>t.tooltip.settings.trigger,FS=t=>t.tooltip.settings.defaultIndex,mv=te([wf,qS,N6,FS],S6),cu=te([mv,xf],US),k6=te([$s,cu],b6),D6=te([mv],t=>{if(t)return t.dataKey}),I6=te([wf,qS,N6,FS],T6),bie=te([Ds,Is,lt,Qn,$s,FS,I6,rm],A6),_ie=te([mv,bie],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),wie=te([mv],t=>t.active),xie=te([I6,cu,Zo,Un,k6,rm,qS],O6),Eie=te([xie],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function K2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(n),!0).forEach(function(r){Sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sie(t,e,n){return(e=Aie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aie(t){var e=Tie(t,"string");return typeof e=="symbol"?e:e+""}function Tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oie=()=>Ee(Un),Pie=()=>{var t=Oie(),e=Ee($s),n=Ee(j6);return lu(G2(G2({},t),{},{scale:n}),e)},Rie=()=>Ee(vS),HS=(t,e)=>e,M6=(t,e,n)=>n,KS=(t,e,n,r)=>r,Cie=te($s,t=>Uy(t,e=>e.coordinate)),GS=te([wf,HS,M6,KS],S6),L6=te([GS,xf],US),jie=(t,e,n)=>{if(e!=null){var r=wf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},$6=te([wf,HS,M6,KS],T6),ly=te([Ds,Is,lt,Qn,$s,KS,$6,rm],A6),Nie=te([GS,ly],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),V6=te($s,L6,b6),kie=te([$6,L6,Zo,Un,V6,rm,HS],O6),Die=te([GS],t=>({isActive:t.active,activeIndex:t.index})),Iie=(t,e,n,r,i,a,o,u)=>{if(!(!t||!e||!r||!i||!a)){var f=eJ(t.chartX,t.chartY,e,n,u);if(f){var d=nJ(f,e),h=BQ(d,o,a,r,i),p=tJ(e,a,h,f);return{activeIndex:String(h),activeCoordinate:p}}}};function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r1.apply(null,arguments)}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){Mie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mie(t,e,n){return(e=Lie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lie(t){var e=$ie(t,"string");return typeof e=="symbol"?e:e+""}function $ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vie(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:u,tooltipEventType:f,chartName:d}=t,h=e,p=n,y=r;if(!u||!h||d!=="ScatterChart"&&f!=="axis")return null;var b,x;if(d==="ScatterChart")b=h,x=tZ;else if(d==="BarChart")b=nZ(o,h,i,a),x=M3;else if(o==="radial"){var{cx:E,cy:S,radius:O,startAngle:R,endAngle:P}=L3(h);b={cx:E,cy:S,startAngle:R,endAngle:P,innerRadius:O,outerRadius:O},x=V3}else b={points:UZ(o,h,i)},x=R3;var V=typeof u=="object"&&"className"in u?u.className:void 0,D=Gp(Gp(Gp(Gp({stroke:"#ccc",pointerEvents:"none"},i),b),_t(u,!1)),{},{payload:p,payloadIndex:y,className:ot("recharts-tooltip-cursor",V)});return A.isValidElement(u)?A.cloneElement(u,D):A.createElement(x,D)}function Uie(t){var e=Pie(),n=S3(),r=Xy(),i=Rie();return A.createElement(Vie,r1({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var U6=A.createContext(null),Bie=()=>A.useContext(U6),cw={exports:{}},Y2;function zie(){return Y2||(Y2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function a(f,d,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,p||f,y),x=n?n+d:d;return f._events[x]?f._events[x].fn?f._events[x]=[f._events[x],b]:f._events[x].push(b):(f._events[x]=b,f._eventsCount++),f}function o(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)e.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,x=new Array(b);y<b;y++)x[y]=p[y].fn;return x},u.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(d,h,p,y,b,x){var E=n?n+d:d;if(!this._events[E])return!1;var S=this._events[E],O=arguments.length,R,P;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),O){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,y),!0;case 5:return S.fn.call(S.context,h,p,y,b),!0;case 6:return S.fn.call(S.context,h,p,y,b,x),!0}for(P=1,R=new Array(O-1);P<O;P++)R[P-1]=arguments[P];S.fn.apply(S.context,R)}else{var V=S.length,D;for(P=0;P<V;P++)switch(S[P].once&&this.removeListener(d,S[P].fn,void 0,!0),O){case 1:S[P].fn.call(S[P].context);break;case 2:S[P].fn.call(S[P].context,h);break;case 3:S[P].fn.call(S[P].context,h,p);break;case 4:S[P].fn.call(S[P].context,h,p,y);break;default:if(!R)for(D=1,R=new Array(O-1);D<O;D++)R[D-1]=arguments[D];S[P].fn.apply(S[P].context,R)}}return!0},u.prototype.on=function(d,h,p){return a(this,d,h,p,!1)},u.prototype.once=function(d,h,p){return a(this,d,h,p,!0)},u.prototype.removeListener=function(d,h,p,y){var b=n?n+d:d;if(!this._events[b])return this;if(!h)return o(this,b),this;var x=this._events[b];if(x.fn)x.fn===h&&(!y||x.once)&&(!p||x.context===p)&&o(this,b);else{for(var E=0,S=[],O=x.length;E<O;E++)(x[E].fn!==h||y&&!x[E].once||p&&x[E].context!==p)&&S.push(x[E]);S.length?this._events[b]=S.length===1?S[0]:S:o(this,b)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(cw)),cw.exports}var qie=zie();const Fie=fi(qie);var Rh=new Fie,i1="recharts.syncEvent.tooltip",X2="recharts.syncEvent.brush";function WS(t,e){if(e){var n=Number.parseInt(e,10);if(!oi(n))return t?.[n]}}var Hie={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},B6=di({name:"options",initialState:Hie,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Kie=B6.reducer,{createEventEmitter:Gie}=B6.actions;function Wie(t){return t.tooltip.syncInteraction}var Yie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},z6=di({name:"chartData",initialState:Yie,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:Q2,setDataStartEndIndexes:Xie,setComputedData:Ehe}=z6.actions,Qie=z6.reducer,q6=()=>{};function Jie(){var t=Ee(bS),e=Ee(_S),n=Qt(),r=Ee(LL),i=Ee($s),a=Xy(),o=BE(),u=Ee(f=>f.rootProps.className);A.useEffect(()=>{if(t==null)return q6;var f=(d,h,p)=>{if(e!==p&&t===d){if(r==="index"){n(h);return}if(i!=null){var y;if(typeof r=="function"){var b={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},x=r(i,b);y=i[x]}else r==="value"&&(y=i.find(j=>String(j.value)===h.payload.label));var{coordinate:E}=h.payload;if(y==null||h.payload.active===!1||E==null||o==null){n(t1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:O}=E,R=Math.min(S,o.x+o.width),P=Math.min(O,o.y+o.height),V={x:a==="horizontal"?y.coordinate:R,y:a==="horizontal"?P:y.coordinate},D=t1({active:h.payload.active,coordinate:V,dataKey:h.payload.dataKey,index:String(y.index),label:h.payload.label});n(D)}}};return Rh.on(i1,f),()=>{Rh.off(i1,f)}},[u,n,e,t,r,i,a,o])}function Zie(){var t=Ee(bS),e=Ee(_S),n=Qt();A.useEffect(()=>{if(t==null)return q6;var r=(i,a,o)=>{e!==o&&t===i&&n(Xie(a))};return Rh.on(X2,r),()=>{Rh.off(X2,r)}},[n,e,t])}function eae(){var t=Qt();A.useEffect(()=>{t(Gie())},[t]),Jie(),Zie()}function tae(t,e,n,r,i,a){var o=Ee(y=>jie(y,t,e)),u=Ee(_S),f=Ee(bS),d=Ee(LL),h=Ee(Wie),p=h?.active;A.useEffect(()=>{if(!p&&f!=null&&u!=null){var y=t1({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});Rh.emit(i1,f,y,u)}},[p,n,o,i,r,u,f,d,a])}function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(r){nae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nae(t,e,n){return(e=rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rae(t){var e=iae(t,"string");return typeof e=="symbol"?e:e+""}function iae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aae(t){return t.dataKey}function sae(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(kJ,e)}var ek=[],oae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!bu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ch(t){var e=Bi(t,oae),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:u,isAnimationActive:f,offset:d,payloadUniqBy:h,position:p,reverseDirection:y,useTranslate3d:b,wrapperStyle:x,cursor:E,shared:S,trigger:O,defaultIndex:R,portal:P,axisId:V}=e,D=Qt(),j=typeof R=="number"?String(R):R;A.useEffect(()=>{D(Ire({shared:S,trigger:O,axisId:V,active:n,defaultIndex:j}))},[D,S,O,V,n,j]);var k=BE(),I=P3(),L=Cre(S),{activeIndex:q,isActive:z}=Ee($e=>Die($e,L,O,j)),B=Ee($e=>kie($e,L,O,j)),M=Ee($e=>V6($e,L,O,j)),le=Ee($e=>Nie($e,L,O,j)),be=B,G=Bie(),ae=n??z,[ve,Se]=G4([be,ae]),H=L==="axis"?M:void 0;tae(L,O,le,H,q,ae);var oe=P??G;if(oe==null)return null;var ie=be??ek;ae||(ie=ek),u&&ie.length&&(ie=z4(be.filter($e=>$e.value!=null&&($e.hide!==!0||e.includeHidden)),h,aae));var me=ie.length>0,Pe=A.createElement(UJ,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:f,active:ae,coordinate:le,hasPayload:me,offset:d,position:p,reverseDirection:y,useTranslate3d:b,viewBox:k,wrapperStyle:x,lastBoundingBox:ve,innerRef:Se,hasPortalFromProps:!!P},sae(o,Z2(Z2({},e),{},{payload:ie,label:H,active:ae,coordinate:le,accessibilityLayer:I})));return A.createElement(A.Fragment,null,S1.createPortal(Pe,oe),ae&&A.createElement(Uie,{cursor:E,tooltipEventType:L,coordinate:le,payload:be,index:q}))}var fw={},dw={},hw={},tk;function lae(){return tk||(tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,u=null;const f=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(o,u),o=void 0,u=null)},p=()=>{d&&h(),E()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},x=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{x(),o=void 0,u=null},S=()=>{h()},O=function(...R){if(i?.aborted)return;o=this,u=R;const P=y==null;b(),f&&P&&h()};return O.schedule=b,O.cancel=E,O.flush=S,i?.addEventListener("abort",E,{once:!0}),O}t.debounce=e})(hw)),hw}var nk;function uae(){return nk||(nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lae();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:u=!0,maxWait:f}=a,d=Array(2);o&&(d[0]="leading"),u&&(d[1]="trailing");let h,p=null;const y=e.debounce(function(...E){h=r.apply(this,E),p=null},i,{edges:d}),b=function(...E){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(h=r.apply(this,E),p=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,E),h)},x=()=>(y.flush(),h);return b.cancel=y.cancel,b.flush=x,b}t.debounce=n})(dw)),dw}var rk;function cae(){return rk||(rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uae();function n(r,i=0,a={}){const{leading:o=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:u})}t.throttle=n})(fw)),fw}var mw,ik;function fae(){return ik||(ik=1,mw=cae().throttle),mw}var dae=fae();const hae=fi(dae);var eh=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mae(t,e,n){return(e=pae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pae(t){var e=gae(t,"string");return typeof e=="symbol"?e:e+""}function gae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nu=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:u,maxHeight:f,children:d,debounce:h=0,id:p,className:y,onResize:b,style:x={}}=t,E=A.useRef(null),S=A.useRef();S.current=b,A.useImperativeHandle(e,()=>E.current);var[O,R]=A.useState({containerWidth:r.width,containerHeight:r.height}),P=A.useCallback((D,j)=>{R(k=>{var I=Math.round(D),L=Math.round(j);return k.containerWidth===I&&k.containerHeight===L?k:{containerWidth:I,containerHeight:L}})},[]);A.useEffect(()=>{var D=L=>{var q,{width:z,height:B}=L[0].contentRect;P(z,B),(q=S.current)===null||q===void 0||q.call(S,z,B)};h>0&&(D=hae(D,h,{trailing:!0,leading:!1}));var j=new ResizeObserver(D),{width:k,height:I}=E.current.getBoundingClientRect();return P(k,I),j.observe(E.current),()=>{j.disconnect()}},[P,h]);var V=A.useMemo(()=>{var{containerWidth:D,containerHeight:j}=O;if(D<0||j<0)return null;eh(Hl(i)||Hl(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),eh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var k=Hl(i)?D:i,I=Hl(a)?j:a;return n&&n>0&&(k?I=k/n:I&&(k=I*n),f&&I>f&&(I=f)),eh(k>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,I,i,a,o,u,n),A.Children.map(d,L=>A.cloneElement(L,{width:k,height:I,style:pw({width:k,height:I},L.props.style)}))},[n,d,a,f,u,o,O,i]);return A.createElement("div",{id:p?"".concat(p):void 0,className:ot("recharts-responsive-container",y),style:pw(pw({},x),{},{width:i,height:a,minWidth:o,minHeight:u,maxHeight:f}),ref:E},A.createElement("div",{style:{width:0,height:0,overflow:"visible"}},V))}),F6=t=>null;F6.displayName="Cell";function yae(t,e,n){return(e=vae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vae(t){var e=bae(t,"string");return typeof e=="symbol"?e:e+""}function bae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _ae{constructor(e){yae(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){xae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xae(t,e,n){return(e=Eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eae(t){var e=Sae(t,"string");return typeof e=="symbol"?e:e+""}function Sae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aae={cacheSize:2e3,enableCache:!0},H6=wae({},Aae),ok=new _ae(H6.cacheSize),Tae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lk="recharts_measurement_span";function Oae(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(u)}var uk=(t,e)=>{try{var n=document.getElementById(lk);n||(n=document.createElement("span"),n.setAttribute("id",lk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Tae,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},th=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||bu.isSsr)return{width:0,height:0};if(!H6.enableCache)return uk(e,n);var r=Oae(e,n),i=ok.get(r);if(i)return i;var a=uk(e,n);return ok.set(r,a),a},ck=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,K6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cae=Object.keys(K6),Oc="NaN";function jae(t,e){return t*K6[e]}class Mr{static parse(e){var n,[,r,i]=(n=Rae.exec(e))!==null&&n!==void 0?n:[];return new Mr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,oi(e)&&(this.unit=""),n!==""&&!Pae.test(n)&&(this.num=NaN,this.unit=""),Cae.includes(n)&&(this.num=jae(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Mr(NaN,""):new Mr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Mr(NaN,""):new Mr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Mr(NaN,""):new Mr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Mr(NaN,""):new Mr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return oi(this.num)}}function G6(t){if(t.includes(Oc))return Oc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=ck.exec(e))!==null&&n!==void 0?n:[],o=Mr.parse(r??""),u=Mr.parse(a??""),f=i==="*"?o.multiply(u):o.divide(u);if(f.isNaN())return Oc;e=e.replace(ck,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,p,y]=(d=fk.exec(e))!==null&&d!==void 0?d:[],b=Mr.parse(h??""),x=Mr.parse(y??""),E=p==="+"?b.add(x):b.subtract(x);if(E.isNaN())return Oc;e=e.replace(fk,E.toString())}return e}var dk=/\(([^()]*)\)/;function Nae(t){for(var e=t,n;(n=dk.exec(e))!=null;){var[,r]=n;e=e.replace(dk,G6(r))}return e}function kae(t){var e=t.replace(/\s+/g,"");return e=Nae(e),e=G6(e),e}function Dae(t){try{return kae(t)}catch{return Oc}}function gw(t){var e=Dae(t.slice(5,-1));return e===Oc?"":e}var Iae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Mae=["dx","dy","angle","className","breakAll"];function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(null,arguments)}function hk(t,e){if(t==null)return{};var n,r,i=Lae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var W6=/[ \f\n\r\t\v\u2028\u2029]+/,Y6=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];qt(e)||(n?i=e.toString().split(""):i=e.toString().split(W6));var a=i.map(u=>({word:u,width:th(u,r).width})),o=n?0:th(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},$ae=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:u,breakAll:f}=t,d=Te(a),h=o,p=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((B,M)=>{var{word:le,width:be}=M,G=B[B.length-1];if(G&&(r==null||i||G.width+be+n<Number(r)))G.words.push(le),G.width+=be+n;else{var ae={words:[le],width:be};B.push(ae)}return B},[])},y=p(e),b=q=>q.reduce((z,B)=>z.width>B.width?z:B);if(!d||i)return y;var x=y.length>a||b(y).width>Number(r);if(!x)return y;for(var E="…",S=q=>{var z=h.slice(0,q),B=Y6({breakAll:f,style:u,children:z+E}).wordsWithComputedWidth,M=p(B),le=M.length>a||b(M).width>Number(r);return[le,M]},O=0,R=h.length-1,P=0,V;O<=R&&P<=h.length-1;){var D=Math.floor((O+R)/2),j=D-1,[k,I]=S(j),[L]=S(D);if(!k&&!L&&(O=D+1),k&&L&&(R=D-1),!k&&L){V=I;break}P++}return V||y},mk=t=>{var e=qt(t)?[]:t.toString().split(W6);return[{words:e}]},Vae=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!bu.isSsr){var u,f,d=Y6({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:p}=d;u=h,f=p}else return mk(r);return $ae({breakAll:a,children:r,maxLines:o,style:i},u,f,e,n)}return mk(r)},pk="#808080",am=A.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:u="start",verticalAnchor:f="end",fill:d=pk}=t,h=hk(t,Iae),p=A.useMemo(()=>Vae({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:o,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,o,h.style,h.width]),{dx:y,dy:b,angle:x,className:E,breakAll:S}=h,O=hk(h,Mae);if(!Ua(n)||!Ua(r))return null;var R=n+(Te(y)?y:0),P=r+(Te(b)?b:0),V;switch(f){case"start":V=gw("calc(".concat(a,")"));break;case"middle":V=gw("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:V=gw("calc(".concat(p.length-1," * -").concat(i,")"));break}var D=[];if(o){var j=p[0].width,{width:k}=h;D.push("scale(".concat(Te(k)?k/j:1,")"))}return x&&D.push("rotate(".concat(x,", ").concat(R,", ").concat(P,")")),D.length&&(O.transform=D.join(" ")),A.createElement("text",a1({},_t(O,!0),{ref:e,x:R,y:P,className:ot("recharts-text",E),textAnchor:u,fill:d.includes("url")?pk:d}),p.map((I,L)=>{var q=I.words.join(S?"":" ");return A.createElement("tspan",{x:R,dy:L===0?V:i,key:"".concat(q,"-").concat(L)},q)}))});am.displayName="Text";var Uae=["offset"],Bae=["labelRef"];function gk(t,e){if(t==null)return{};var n,r,i=zae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qae(t,e,n){return(e=Fae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fae(t){var e=Hae(t,"string");return typeof e=="symbol"?e:e+""}function Hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ms(){return ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ms.apply(null,arguments)}var Kae=t=>{var{value:e,formatter:n}=t,r=qt(t.children)?e:t.children;return typeof n=="function"?n(r):r},YS=t=>t!=null&&typeof t=="function",Gae=(t,e)=>{var n=Br(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Wae=(t,e,n,r)=>{var{position:i,offset:a,className:o}=t,{cx:u,cy:f,innerRadius:d,outerRadius:h,startAngle:p,endAngle:y,clockWise:b}=r,x=(d+h)/2,E=Gae(p,y),S=E>=0?1:-1,O,R;i==="insideStart"?(O=p+S*a,R=b):i==="insideEnd"?(O=y-S*a,R=!b):i==="end"&&(O=y+S*a,R=b),R=E<=0?R:!R;var P=Vt(u,f,x,O),V=Vt(u,f,x,O+(R?1:-1)*359),D="M".concat(P.x,",").concat(P.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(R?0:1,`,
    `).concat(V.x,",").concat(V.y),j=qt(t.id)?_h("recharts-radial-line-"):t.id;return A.createElement("text",ms({},n,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",o)}),A.createElement("defs",null,A.createElement("path",{id:j,d:D})),A.createElement("textPath",{xlinkHref:"#".concat(j)},e))},Yae=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}=t,d=(u+f)/2;if(n==="outside"){var{x:h,y:p}=Vt(r,i,o+e,d);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+o)/2,{x:b,y:x}=Vt(r,i,y,d);return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Xae=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:a,y:o,width:u,height:f}=e,d=f>=0?1:-1,h=d*r,p=d>0?"end":"start",y=d>0?"start":"end",b=u>=0?1:-1,x=b*r,E=b>0?"end":"start",S=b>0?"start":"end";if(i==="top"){var O={x:a+u/2,y:o-d*r,textAnchor:"middle",verticalAnchor:p};return cn(cn({},O),n?{height:Math.max(o-n.y,0),width:u}:{})}if(i==="bottom"){var R={x:a+u/2,y:o+f+h,textAnchor:"middle",verticalAnchor:y};return cn(cn({},R),n?{height:Math.max(n.y+n.height-(o+f),0),width:u}:{})}if(i==="left"){var P={x:a-x,y:o+f/2,textAnchor:E,verticalAnchor:"middle"};return cn(cn({},P),n?{width:Math.max(P.x-n.x,0),height:f}:{})}if(i==="right"){var V={x:a+u+x,y:o+f/2,textAnchor:S,verticalAnchor:"middle"};return cn(cn({},V),n?{width:Math.max(n.x+n.width-V.x,0),height:f}:{})}var D=n?{width:u,height:f}:{};return i==="insideLeft"?cn({x:a+x,y:o+f/2,textAnchor:S,verticalAnchor:"middle"},D):i==="insideRight"?cn({x:a+u-x,y:o+f/2,textAnchor:E,verticalAnchor:"middle"},D):i==="insideTop"?cn({x:a+u/2,y:o+h,textAnchor:"middle",verticalAnchor:y},D):i==="insideBottom"?cn({x:a+u/2,y:o+f-h,textAnchor:"middle",verticalAnchor:p},D):i==="insideTopLeft"?cn({x:a+x,y:o+h,textAnchor:S,verticalAnchor:y},D):i==="insideTopRight"?cn({x:a+u-x,y:o+h,textAnchor:E,verticalAnchor:y},D):i==="insideBottomLeft"?cn({x:a+x,y:o+f-h,textAnchor:S,verticalAnchor:p},D):i==="insideBottomRight"?cn({x:a+u-x,y:o+f-h,textAnchor:E,verticalAnchor:p},D):i&&typeof i=="object"&&(Te(i.x)||Hl(i.x))&&(Te(i.y)||Hl(i.y))?cn({x:a+oa(i.x,u),y:o+oa(i.y,f),textAnchor:"end",verticalAnchor:"end"},D):cn({x:a+u/2,y:o+f/2,textAnchor:"middle",verticalAnchor:"middle"},D)},Qae=t=>"cx"in t&&Te(t.cx);function Ur(t){var{offset:e=5}=t,n=gk(t,Uae),r=cn({offset:e},n),{viewBox:i,position:a,value:o,children:u,content:f,className:d="",textBreakAll:h,labelRef:p}=r,y=Ee(gf),b=BE(),x=a==="center"?b:y??b,E=i||x;if(!E||qt(o)&&qt(u)&&!A.isValidElement(f)&&typeof f!="function")return null;var S=cn(cn({},r),{},{viewBox:E});if(A.isValidElement(f)){var{labelRef:O}=S,R=gk(S,Bae);return A.cloneElement(f,R)}var P;if(typeof f=="function"){if(P=A.createElement(f,S),A.isValidElement(P))return P}else P=Kae(r);var V=Qae(E),D=_t(r,!0);if(V&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Wae(r,P,D,E);var j=V?Yae(E,r.offset,r.position):Xae(r,E);return A.createElement(am,ms({ref:p,className:ot("recharts-label",d)},D,j,{breakAll:h}),P)}Ur.displayName="Label";var X6=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:a,r:o,radius:u,innerRadius:f,outerRadius:d,x:h,y:p,top:y,left:b,width:x,height:E,clockWise:S,labelViewBox:O}=t;if(O)return O;if(Te(x)&&Te(E)){if(Te(h)&&Te(p))return{x:h,y:p,width:x,height:E};if(Te(y)&&Te(b))return{x:y,y:b,width:x,height:E}}if(Te(h)&&Te(p))return{x:h,y:p,width:0,height:0};if(Te(e)&&Te(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:f||0,outerRadius:d||u||o||0,clockWise:S};if(t.viewBox)return t.viewBox},Jae=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(Ur,ms({key:"label-implicit"},r)):Ua(t)?A.createElement(Ur,ms({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===Ur?A.cloneElement(t,cn({key:"label-implicit"},r)):A.createElement(Ur,ms({key:"label-implicit",content:t},r)):YS(t)?A.createElement(Ur,ms({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(Ur,ms({},t,{key:"label-implicit"},r)):null},Zae=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:a}=e,o=X6(e),u=bE(i,Ur).map((d,h)=>A.cloneElement(d,{viewBox:n||o,key:"label-".concat(h)}));if(!r)return u;var f=Jae(e.label,n||o,a);return[f,...u]};Ur.parseViewBox=X6;Ur.renderCallByParent=Zae;var yw={},vw={},vk;function ese(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(vw)),vw}var bw={},bk;function tse(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(bw)),bw}var _k;function nse(){return _k||(_k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ese(),n=tse(),r=OE();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(yw)),yw}var _w,wk;function rse(){return wk||(wk=1,_w=nse().last),_w}var ise=rse();const Q6=fi(ise);var ase=["valueAccessor"],sse=["data","dataKey","clockWise","id","textBreakAll"];function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uy.apply(null,arguments)}function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){ose(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ose(t,e,n){return(e=lse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lse(t){var e=use(t,"string");return typeof e=="symbol"?e:e+""}function use(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sk(t,e){if(t==null)return{};var n,r,i=cse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fse=t=>Array.isArray(t.value)?Q6(t.value):t.value;function aa(t){var{valueAccessor:e=fse}=t,n=Sk(t,ase),{data:r,dataKey:i,clockWise:a,id:o,textBreakAll:u}=n,f=Sk(n,sse);return!r||!r.length?null:A.createElement(Pn,{className:"recharts-label-list"},r.map((d,h)=>{var p=qt(i)?e(d,h):fn(d&&d.payload,i),y=qt(o)?{}:{id:"".concat(o,"-").concat(h)};return A.createElement(Ur,uy({},_t(d,!0),f,y,{parentViewBox:d.parentViewBox,value:p,textBreakAll:u,viewBox:Ur.parseViewBox(qt(a)?d:Ek(Ek({},d),{},{clockWise:a})),key:"label-".concat(h),index:h}))}))}aa.displayName="LabelList";function dse(t,e){return t?t===!0?A.createElement(aa,{key:"labelList-implicit",data:e}):A.isValidElement(t)||YS(t)?A.createElement(aa,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?A.createElement(aa,uy({data:e},t,{key:"labelList-implicit"})):null:null}function hse(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=bE(r,aa).map((o,u)=>A.cloneElement(o,{data:e,key:"labelList-".concat(u)}));if(!n)return i;var a=dse(t.label,e);return[a,...i]}aa.renderCallByParent=hse;var mse=["points","className","baseLinePoints","connectNulls"];function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(null,arguments)}function pse(t,e){if(t==null)return{};var n,r,i=gse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ak=t=>t&&t.x===+t.x&&t.y===+t.y,yse=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(r=>{Ak(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Ak(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},nh=(t,e)=>{var n=yse(t);e&&(n=[n.reduce((i,a)=>[...i,...a],[])]);var r=n.map(i=>i.reduce((a,o,u)=>"".concat(a).concat(u===0?"M":"L").concat(o.x,",").concat(o.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},vse=(t,e,n)=>{var r=nh(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(nh(e.reverse(),n).slice(1))},J6=t=>{var{points:e,className:n,baseLinePoints:r,connectNulls:i}=t,a=pse(t,mse);if(!e||!e.length)return null;var o=ot("recharts-polygon",n);if(r&&r.length){var u=a.stroke&&a.stroke!=="none",f=vse(e,r,i);return A.createElement("g",{className:o},A.createElement("path",Pc({},_t(a,!0),{fill:f.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:f})),u?A.createElement("path",Pc({},_t(a,!0),{fill:"none",d:nh(e,i)})):null,u?A.createElement("path",Pc({},_t(a,!0),{fill:"none",d:nh(r,i)})):null)}var d=nh(e,i);return A.createElement("path",Pc({},_t(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:o,d}))};function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s1.apply(null,arguments)}var pv=t=>{var{cx:e,cy:n,r,className:i}=t,a=ot("recharts-dot",i);return e===+e&&n===+n&&r===+r?A.createElement("circle",s1({},Cr(t),vE(t),{className:a,cx:e,cy:n,r})):null},Z6=t=>t.graphicalItems.polarItems,bse=te([Ft,Zh],SS),XS=te([Z6,yn,bse],AS),_se=te([XS],TS),QS=te([_se,pS],OS),e5=te([QS,yn,XS],RS),wse=te([QS,yn,XS],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,o=fn(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:fn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),Tk=()=>{},xse=te([yn,i6,Tk,wse,Tk,lt,Ft],jS),t5=te([yn,lt,QS,e5,Qh,Ft,xse],NS),n5=te([t5,yn,tl],DS),Ese=te([yn,t5,n5,Ft],MS),JS=(t,e,n)=>{switch(e){case"angleAxis":return pf(t,n);case"radiusAxis":return Jh(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ZS=(t,e,n)=>{switch(e){case"angleAxis":return Une(t,n);case"radiusAxis":return Bne(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ef=te([JS,tl,Ese,ZS],fv),r5=te([lt,e5,vf,Ft],LS),Sf=te([lt,JS,tl,Ef,n5,ZS,nm,r5,Ft],h6);te([lt,JS,Ef,ZS,nm,r5,Ft],p6);var Sse=(t,e)=>Sf(t,"angleAxis",e,!1),Ase=te([Sse],t=>{if(t)return t.map(e=>e.coordinate)}),Tse=(t,e)=>Sf(t,"radiusAxis",e,!1),Ose=te([Tse],t=>{if(t)return t.map(e=>e.coordinate)}),Pse=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function Rse(t,e){if(t==null)return{};var n,r,i=Cse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Os(){return Os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Os.apply(null,arguments)}function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jse(t,e,n){return(e=Nse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nse(t){var e=kse(t,"string");return typeof e=="symbol"?e:e+""}function kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dse=(t,e,n,r)=>{var i="";return r.forEach((a,o)=>{var u=Vt(e,n,t,a);o?i+="L ".concat(u.x,",").concat(u.y):i+="M ".concat(u.x,",").concat(u.y)}),i+="Z",i},Ise=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,polarAngles:a,radialLines:o}=t;if(!a||!a.length||!o)return null;var u=Zc({stroke:"#ccc"},Cr(t));return A.createElement("g",{className:"recharts-polar-grid-angle"},a.map(f=>{var d=Vt(e,n,r,f),h=Vt(e,n,i,f);return A.createElement("line",Os({},u,{key:"line-".concat(f),x1:d.x,y1:d.y,x2:h.x,y2:h.y}))}))},Mse=t=>{var{cx:e,cy:n,radius:r,index:i}=t,a=Zc(Zc({stroke:"#ccc"},Cr(t)),{},{fill:"none"});return A.createElement("circle",Os({},a,{className:ot("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(i),cx:e,cy:n,r}))},Lse=t=>{var{radius:e,index:n}=t,r=Zc(Zc({stroke:"#ccc"},Cr(t)),{},{fill:"none"});return A.createElement("path",Os({},r,{className:ot("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(n),d:Dse(e,t.cx,t.cy,t.polarAngles)}))},$se=t=>{var{polarRadius:e,gridType:n}=t;return!e||!e.length?null:A.createElement("g",{className:"recharts-polar-grid-concentric"},e.map((r,i)=>{var a=i;return n==="circle"?A.createElement(Mse,Os({key:a},t,{radius:r,index:i})):A.createElement(Lse,Os({key:a},t,{radius:r,index:i}))}))},i5=t=>{var e,n,r,i,a,o,u,f,{gridType:d="polygon",radialLines:h=!0,angleAxisId:p=0,radiusAxisId:y=0,cx:b,cy:x,innerRadius:E,outerRadius:S}=t,O=Rse(t,Pse),R=Ee(gf),P=Zc({cx:(e=(n=R?.cx)!==null&&n!==void 0?n:b)!==null&&e!==void 0?e:0,cy:(r=(i=R?.cy)!==null&&i!==void 0?i:x)!==null&&r!==void 0?r:0,innerRadius:(a=(o=R?.innerRadius)!==null&&o!==void 0?o:E)!==null&&a!==void 0?a:0,outerRadius:(u=(f=R?.outerRadius)!==null&&f!==void 0?f:S)!==null&&u!==void 0?u:0},O),{polarAngles:V,polarRadius:D,cx:j,cy:k,innerRadius:I,outerRadius:L}=P,q=Ee(le=>Ase(le,p)),z=Ee(le=>Ose(le,y)),B=Array.isArray(V)?V:q,M=Array.isArray(D)?D:z;return L<=0||B==null||M==null?null:A.createElement("g",{className:"recharts-polar-grid"},A.createElement(Ise,Os({cx:j,cy:k,innerRadius:I,outerRadius:L,gridType:d,radialLines:h},P,{polarAngles:B,polarRadius:M})),A.createElement($se,Os({cx:j,cy:k,innerRadius:I,outerRadius:L,gridType:d,radialLines:h},P,{polarAngles:B,polarRadius:M})))};i5.displayName="PolarGrid";var ww={},xw={},Pk;function Vse(){return Pk||(Pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const u=n[o],f=r(u);f>a&&(a=f,i=u)}return i}t.maxBy=e})(xw)),xw}var Rk;function Use(){return Rk||(Rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vse(),n=Vy(),r=NE();function i(a,o){if(a!=null)return e.maxBy(Array.from(a),r.iteratee(o??n.identity))}t.maxBy=i})(ww)),ww}var Ew,Ck;function Bse(){return Ck||(Ck=1,Ew=Use().maxBy),Ew}var zse=Bse();const qse=fi(zse);var Sw={},Aw={},jk;function Fse(){return jk||(jk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const u=n[o],f=r(u);f<a&&(a=f,i=u)}return i}t.minBy=e})(Aw)),Aw}var Nk;function Hse(){return Nk||(Nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fse(),n=Vy(),r=NE();function i(a,o){if(a!=null)return e.minBy(Array.from(a),r.iteratee(o??n.identity))}t.minBy=i})(Sw)),Sw}var Tw,kk;function Kse(){return kk||(kk=1,Tw=Hse().minBy),Tw}var Gse=Kse();const Wse=fi(Gse);var Yse={radiusAxis:{},angleAxis:{}},a5=di({name:"polarAxis",initialState:Yse,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Xse,removeRadiusAxis:Qse,addAngleAxis:Jse,removeAngleAxis:Zse}=a5.actions,eoe=a5.reducer,toe=["cx","cy","angle","axisLine"],noe=["angle","tickFormatter","stroke","tick"];function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jh.apply(null,arguments)}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){gv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gv(t,e,n){return(e=roe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function roe(t){var e=ioe(t,"string");return typeof e=="symbol"?e:e+""}function ioe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s5(t,e){if(t==null)return{};var n,r,i=aoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var o5="radiusAxis";function soe(t){var e=Qt();return A.useEffect(()=>(e(Xse(t)),()=>{e(Qse(t))})),null}var ooe=(t,e,n,r)=>{var{coordinate:i}=t;return Vt(n,r,i,e)},loe=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},uoe=(t,e,n,r)=>{var i=qse(r,o=>o.coordinate||0),a=Wse(r,o=>o.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:a.coordinate||0,outerRadius:i.coordinate||0}},coe=(t,e)=>{var{cx:n,cy:r,angle:i,axisLine:a}=t,o=s5(t,toe),u=e.reduce((p,y)=>[Math.min(p[0],y.coordinate),Math.max(p[1],y.coordinate)],[1/0,-1/0]),f=Vt(n,r,u[0],i),d=Vt(n,r,u[1],i),h=ja(ja(ja({},Cr(o)),{},{fill:"none"},_t(a,!1)),{},{x1:f.x,y1:f.y,x2:d.x,y2:d.y});return A.createElement("line",jh({className:"recharts-polar-radius-axis-line"},h))},foe=(t,e,n)=>{var r;return A.isValidElement(t)?r=A.cloneElement(t,e):typeof t=="function"?r=t(e):r=A.createElement(am,jh({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),r},doe=(t,e)=>{var{angle:n,tickFormatter:r,stroke:i,tick:a}=t,o=s5(t,noe),u=loe(t.orientation),f=Cr(o),d=_t(a,!1),h=e.map((p,y)=>{var b=ooe(p,t.angle,t.cx,t.cy),x=ja(ja(ja(ja({textAnchor:u,transform:"rotate(".concat(90-n,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:i},d),{},{index:y},b),{},{payload:p});return A.createElement(Pn,jh({className:ot("recharts-polar-radius-axis-tick",v3(a)),key:"tick-".concat(p.coordinate)},cf(t,p,y)),foe(a,x,r?r(p.value,y):p.value))});return A.createElement(Pn,{className:"recharts-polar-radius-axis-ticks"},h)},hoe=t=>{var{radiusAxisId:e}=t,n=Ee(gf),r=Ee(f=>Ef(f,"radiusAxis",e)),i=Ee(f=>Sf(f,"radiusAxis",e,!1));if(n==null||!i||!i.length)return null;var a=ja(ja(ja({},t),{},{scale:r},n),{},{radius:n.outerRadius}),{tick:o,axisLine:u}=a;return A.createElement(Pn,{className:ot("recharts-polar-radius-axis",o5,a.className)},u&&coe(a,i),o&&doe(a,i),Ur.renderCallByParent(a,uoe(a.angle,a.cx,a.cy,i)))};class yv extends A.PureComponent{render(){return A.createElement(A.Fragment,null,A.createElement(soe,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),A.createElement(hoe,this.props))}}gv(yv,"displayName","PolarRadiusAxis");gv(yv,"axisType",o5);gv(yv,"defaultProps",Vr);var moe=["children"];function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(null,arguments)}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){vv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vv(t,e,n){return(e=poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function poe(t){var e=goe(t,"string");return typeof e=="symbol"?e:e+""}function goe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yoe(t,e){if(t==null)return{};var n,r,i=voe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function voe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var boe=Math.PI/180,Mk=1e-5,l5="angleAxis";function _oe(t){var e=Qt(),n=A.useMemo(()=>{var{children:a}=t,o=yoe(t,moe);return o},[t]),r=Ee(a=>pf(a,n.id)),i=n===r;return A.useEffect(()=>(e(Jse(n)),()=>{e(Zse(n))}),[e,n]),i?t.children:null}var woe=(t,e)=>{var{cx:n,cy:r,radius:i,orientation:a,tickSize:o}=e,u=o||8,f=Vt(n,r,i,t.coordinate),d=Vt(n,r,i+(a==="inner"?-1:1)*u,t.coordinate);return{x1:f.x,y1:f.y,x2:d.x,y2:d.y}},xoe=(t,e)=>{var n=Math.cos(-t.coordinate*boe);return n>Mk?e==="outer"?"start":"end":n<-Mk?e==="outer"?"end":"start":"middle"},Eoe=t=>{var{cx:e,cy:n,radius:r,axisLineType:i,axisLine:a,ticks:o}=t;if(!a)return null;var u=Ra(Ra({},Cr(t)),{},{fill:"none"},_t(a,!1));if(i==="circle")return A.createElement(pv,Ps({className:"recharts-polar-angle-axis-line"},u,{cx:e,cy:n,r}));var f=o.map(d=>Vt(e,n,r,d.coordinate));return A.createElement(J6,Ps({className:"recharts-polar-angle-axis-line"},u,{points:f}))},Soe=t=>{var{tick:e,tickProps:n,value:r}=t;return e?A.isValidElement(e)?A.cloneElement(e,n):typeof e=="function"?e(n):A.createElement(am,Ps({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},Aoe=t=>{var{tick:e,tickLine:n,tickFormatter:r,stroke:i,ticks:a}=t,o=Cr(t),u=_t(e,!1),f=Ra(Ra({},o),{},{fill:"none"},_t(n,!1)),d=a.map((h,p)=>{var y=woe(h,t),b=xoe(h,t.orientation),x=Ra(Ra(Ra({},o),{},{textAnchor:b,stroke:"none",fill:i},u),{},{index:p,payload:h,x:y.x2,y:y.y2});return A.createElement(Pn,Ps({className:ot("recharts-polar-angle-axis-tick",v3(e)),key:"tick-".concat(h.coordinate)},cf(t,h,p)),n&&A.createElement("line",Ps({className:"recharts-polar-angle-axis-tick-line"},f,y)),A.createElement(Soe,{tick:e,tickProps:x,value:r?r(h.value,p):h.value}))});return A.createElement(Pn,{className:"recharts-polar-angle-axis-ticks"},d)},Toe=t=>{var{angleAxisId:e}=t,n=Ee(gf),r=Ee(u=>Ef(u,"angleAxis",e)),i=_r(),a=Ee(u=>Sf(u,"angleAxis",e,i));if(n==null||!a||!a.length)return null;var o=Ra(Ra(Ra({},t),{},{scale:r},n),{},{radius:n.outerRadius});return A.createElement(Pn,{className:ot("recharts-polar-angle-axis",l5,o.className)},A.createElement(Eoe,Ps({},o,{ticks:a})),A.createElement(Aoe,Ps({},o,{ticks:a})))};class bv extends A.PureComponent{render(){return this.props.radius<=0?null:A.createElement(_oe,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},A.createElement(Toe,this.props))}}vv(bv,"displayName","PolarAngleAxis");vv(bv,"axisType",l5);vv(bv,"defaultProps",Pa);var Ow={},Lk;function Ooe(){return Lk||(Lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Ow)),Ow}var Pw,$k;function Poe(){return $k||($k=1,Pw=Ooe().isPlainObject),Pw}var Roe=Poe();const Coe=fi(Roe);function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cy.apply(null,arguments)}var Vk=(t,e,n,r,i)=>{var a=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},joe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Noe=t=>{var e=Bi(t,joe),n=A.useRef(),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&i(S)}catch{}},[]);var{x:a,y:o,upperWidth:u,lowerWidth:f,height:d,className:h}=e,{animationEasing:p,animationDuration:y,animationBegin:b,isUpdateAnimationActive:x}=e;if(a!==+a||o!==+o||u!==+u||f!==+f||d!==+d||u===0&&f===0||d===0)return null;var E=ot("recharts-trapezoid",h);return x?A.createElement(Wg,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:d,x:a,y:o},to:{upperWidth:u,lowerWidth:f,height:d,x:a,y:o},duration:y,animationEasing:p,isActive:x},S=>{var{upperWidth:O,lowerWidth:R,height:P,x:V,y:D}=S;return A.createElement(Wg,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:p},A.createElement("path",cy({},_t(e,!0),{className:E,d:Vk(V,D,O,R,P),ref:n})))}):A.createElement("g",null,A.createElement("path",cy({},_t(e,!0),{className:E,d:Vk(a,o,u,f,d)})))},koe=["option","shapeType","propTransformer","activeClassName","isActive"];function Doe(t,e){if(t==null)return{};var n,r,i=Ioe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ioe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){Moe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Moe(t,e,n){return(e=Loe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Loe(t){var e=$oe(t,"string");return typeof e=="symbol"?e:e+""}function $oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Voe(t,e){return fy(fy({},e),t)}function Uoe(t,e){return t==="symbols"}function Bk(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement(M3,n);case"trapezoid":return A.createElement(Noe,n);case"sector":return A.createElement(V3,n);case"symbols":if(Uoe(e))return A.createElement(SE,n);break;default:return null}}function Boe(t){return A.isValidElement(t)?t.props:t}function zoe(t){var{option:e,shapeType:n,propTransformer:r=Voe,activeClassName:i="recharts-active-shape",isActive:a}=t,o=Doe(t,koe),u;if(A.isValidElement(e))u=A.cloneElement(e,fy(fy({},o),Boe(e)));else if(typeof e=="function")u=e(o);else if(Coe(e)&&typeof e!="boolean"){var f=r(e,o);u=A.createElement(Bk,{shapeType:n,elementProps:f})}else{var d=o;u=A.createElement(Bk,{shapeType:n,elementProps:d})}return a?A.createElement(Pn,{className:i},u):u}var u5=(t,e)=>{var n=Qt();return(r,i)=>a=>{t?.(r,i,a),n(w6({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},c5=t=>{var e=Qt();return(n,r)=>i=>{t?.(n,r,i),e(Mre())}},f5=(t,e)=>{var n=Qt();return(r,i)=>a=>{t?.(r,i,a),n(Lre({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function eA(t){var{fn:e,args:n}=t,r=Qt(),i=_r();return A.useEffect(()=>{if(!i){var a=e(n);return r(kre(a)),()=>{r(Dre(a))}}},[e,n,r,i]),null}var d5=()=>{};function h5(t){var{legendPayload:e}=t,n=Qt(),r=_r();return A.useEffect(()=>r?d5:(n(T3(e)),()=>{n(O3(e))}),[n,r,e]),null}function qoe(t){var{legendPayload:e}=t,n=Qt(),r=Ee(lt);return A.useEffect(()=>r!=="centric"&&r!=="radial"?d5:(n(T3(e)),()=>{n(O3(e))}),[n,r,e]),null}function tA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(_h(e)),r=A.useRef(t);return r.current!==t&&(n.current=_h(e),r.current=t),n.current}var Rw,Foe=()=>{var[t]=A.useState(()=>_h("uid-"));return t},Hoe=(Rw=DV.useId)!==null&&Rw!==void 0?Rw:Foe;function Koe(t,e){var n=Hoe();return e||(t?"".concat(t,"-").concat(n):n)}var Goe=A.createContext(void 0),nA=t=>{var{id:e,type:n,children:r}=t,i=Koe("recharts-".concat(n),e);return A.createElement(Goe.Provider,{value:i},r(i))},Woe={cartesianItems:[],polarItems:[]},m5=di({name:"graphicalItems",initialState:Woe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=vs(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=vs(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=vs(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Yoe,replaceCartesianGraphicalItem:Xoe,removeCartesianGraphicalItem:Qoe,addPolarGraphicalItem:Joe,removePolarGraphicalItem:Zoe}=m5.actions,ele=m5.reducer;function p5(t){var e=Qt(),n=A.useRef(null);return A.useEffect(()=>{n.current===null?e(Yoe(t)):n.current!==t&&e(Xoe({prev:n.current,next:t})),n.current=t},[e,t]),A.useEffect(()=>()=>{n.current&&(e(Qoe(n.current)),n.current=null)},[e]),null}function tle(t){var e=Qt();return A.useEffect(()=>(e(Joe(t)),()=>{e(Zoe(t))}),[e,t]),null}function nle(){}var rle={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},zk={t:0},Cw={t:1};function rA(t){var e=Bi(t,rle),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:u,onAnimationStart:f,children:d}=e,h=I3("JavascriptAnimate",e.animationManager),[p,y]=A.useState(n?zk:Cw),b=A.useRef(null);return A.useEffect(()=>{n||y(Cw)},[n]),A.useEffect(()=>{if(!n||!r)return nle;var x=D3(zk,Cw,N3(a),i,y,h.getTimeoutController()),E=()=>{b.current=x()};return h.start([f,o,E,i,u]),()=>{h.stop(),b.current&&b.current(),u()}},[n,r,i,a,o,f,u,h]),d(p.t)}var ile=te([Qn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),ale=te([ile,Ds,Is],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),iA=()=>Ee(ale),sle=()=>Ee(Eie);function qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(n),!0).forEach(function(r){ole(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ole(t,e,n){return(e=lle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lle(t){var e=ule(t,"string");return typeof e=="symbol"?e:e+""}function ule(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cle=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=Fk(Fk({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},_t(i,!1)),vE(i)),u;return A.isValidElement(i)?u=A.cloneElement(i,o):typeof i=="function"?u=i(o):u=A.createElement(pv,o),A.createElement(Pn,{className:"recharts-active-dot"},u)};function g5(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Ee(cu),o=sle();if(e==null||o==null)return null;var u=e.find(f=>o.includes(f.payload));return qt(u)?null:cle({point:u,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fle(t,e,n){return(e=dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=hle(t,"string");return typeof e=="symbol"?e:e+""}function hle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y5=(t,e)=>Ef(t,"radiusAxis",e),mle=te([y5],t=>{if(t!=null)return{scale:t}}),ple=te([Jh,y5],(t,e)=>{if(!(t==null||e==null))return dy(dy({},t),{},{scale:e})}),gle=(t,e,n,r)=>Sf(t,"radiusAxis",e,r),v5=(t,e,n)=>pf(t,n),b5=(t,e,n)=>Ef(t,"angleAxis",n),yle=te([v5,b5],(t,e)=>{if(!(t==null||e==null))return dy(dy({},t),{},{scale:e})}),vle=(t,e,n,r)=>Sf(t,"angleAxis",n,r),ble=te([v5,b5,gf],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),_le=(t,e,n,r,i)=>i,wle=te([lt,ple,gle,yle,vle],(t,e,n,r,i)=>ks(t,"radiusAxis")?lu(e,n,!1):lu(r,i,!1)),xle=te([Z6,_le],(t,e)=>{if(t.some(n=>n.type==="radar"&&e===n.dataKey))return e}),Ele=te([mle,ble,pS,xle,wle],(t,e,n,r,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:u}=n;if(!(t==null||e==null||a==null||i==null||r==null)){var f=a.slice(o,u+1);return Nle({radiusAxis:t,angleAxis:e,displayedData:f,dataKey:r,bandSize:i})}}),Sle=["id"];function Ale(t,e){if(t==null)return{};var n,r,i=Tle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){aA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aA(t,e,n){return(e=Ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ole(t){var e=Ple(t,"string");return typeof e=="symbol"?e:e+""}function Ple(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ef(){return ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ef.apply(null,arguments)}function sA(t,e){return t&&t!=="none"?t:e}var Rle=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:sA(r,i),value:ff(n,e),payload:t}]};function Cle(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,tooltipType:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:e,name:ff(a,e),hide:o,type:u,color:sA(n,i),unit:""}}}function jle(t,e){var n;return A.isValidElement(t)?n=A.cloneElement(t,e):typeof t=="function"?n=t(e):n=A.createElement(pv,ef({},e,{className:ot("recharts-radar-dot",typeof t!="boolean"?t.className:"")})),n}function Nle(t){var{radiusAxis:e,angleAxis:n,displayedData:r,dataKey:i,bandSize:a}=t,{cx:o,cy:u}=n,f=!1,d=[],h=n.type!=="number"?a??0:0;r.forEach((y,b)=>{var x=fn(y,n.dataKey,b),E=fn(y,i),S=n.scale(x)+h,O=Array.isArray(E)?Q6(E):E,R=qt(O)?void 0:e.scale(O);Array.isArray(E)&&E.length>=2&&(f=!0),d.push(Pr(Pr({},Vt(o,u,R,S)),{},{name:x,value:E,cx:o,cy:u,radius:R,angle:S,payload:y}))});var p=[];return f&&d.forEach(y=>{if(Array.isArray(y.value)){var b=y.value[0],x=qt(b)?void 0:e.scale(b);p.push(Pr(Pr({},y),{},{radius:x},Vt(o,u,x,y.angle)))}else p.push(y)}),{points:d,isRange:f,baseLinePoints:p}}function kle(t){var{points:e,props:n}=t,{dot:r,dataKey:i}=n;if(!r)return null;var{id:a}=n,o=Ale(n,Sle),u=Cr(o),f=_t(r,!0),d=e.map((h,p)=>{var y=Pr(Pr(Pr({key:"dot-".concat(p),r:3},u),f),{},{dataKey:i,cx:h.x,cy:h.y,index:p,payload:h});return jle(r,y)});return A.createElement(Pn,{className:"recharts-radar-dots"},d)}function _5(t){var{points:e,props:n,showLabels:r}=t;if(e==null)return null;var{shape:i,isRange:a,baseLinePoints:o,connectNulls:u}=n,f=p=>{var{onMouseEnter:y}=n;y&&y(n,p)},d=p=>{var{onMouseLeave:y}=n;y&&y(n,p)},h;return A.isValidElement(i)?h=A.cloneElement(i,Pr(Pr({},n),{},{points:e})):typeof i=="function"?h=i(Pr(Pr({},n),{},{points:e})):h=A.createElement(J6,ef({},_t(n,!0),{onMouseEnter:f,onMouseLeave:d,points:e,baseLinePoints:a?o:null,connectNulls:u})),A.createElement(Pn,{className:"recharts-radar-polygon"},h,A.createElement(kle,{props:n,points:e}),r&&aa.renderCallByParent(n,e))}function Dle(t){var{props:e,previousPointsRef:n}=t,{points:r,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:u,onAnimationEnd:f,onAnimationStart:d}=e,h=n.current,p=tA(e,"recharts-radar-"),[y,b]=A.useState(!0),x=A.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),E=A.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return A.createElement(rA,{begin:a,duration:o,isActive:i,easing:u,key:"radar-".concat(p),onAnimationEnd:x,onAnimationStart:E},S=>{var O=h&&h.length/r.length,R=S===1?r:r.map((P,V)=>{var D=h&&h[Math.floor(V*O)];if(D){var j=Dp(D.x,P.x),k=Dp(D.y,P.y);return Pr(Pr({},P),{},{x:j(S),y:k(S)})}var I=Dp(P.cx,P.x),L=Dp(P.cy,P.y);return Pr(Pr({},P),{},{x:I(S),y:L(S)})});return S>0&&(n.current=R),A.createElement(_5,{points:R,props:e,showLabels:!y})})}function Ile(t){var{points:e,isAnimationActive:n,isRange:r}=t,i=A.useRef(void 0),a=i.current;return n&&e&&e.length&&!r&&(!a||a!==e)?A.createElement(Dle,{props:t,previousPointsRef:i}):A.createElement(_5,{points:e,props:t,showLabels:!0})}var Mle={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!bu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class Lle extends A.PureComponent{render(){var{hide:e,className:n,points:r}=this.props;if(e)return null;var i=ot("recharts-radar",n);return A.createElement(A.Fragment,null,A.createElement(Pn,{className:i},A.createElement(Ile,this.props)),A.createElement(g5,{points:r,mainColor:sA(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function $le(t){var e=_r(),n=Ee(r=>Ele(r,t.radiusAxisId,t.angleAxisId,e,t.dataKey));return A.createElement(Lle,ef({},t,{points:n?.points,baseLinePoints:n?.baseLinePoints,isRange:n?.isRange}))}class hy extends A.PureComponent{render(){return A.createElement(nA,{id:this.props.id,type:"radar"},e=>A.createElement(A.Fragment,null,A.createElement(tle,{type:"radar",id:e,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),A.createElement(qoe,{legendPayload:Rle(this.props)}),A.createElement(eA,{fn:Cle,args:this.props}),A.createElement($le,ef({},this.props,{id:e}))))}}aA(hy,"displayName","Radar");aA(hy,"defaultProps",Mle);var Vle="Invariant failed";function Ule(t,e){throw new Error(Vle)}var Ble=["x","y"];function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o1.apply(null,arguments)}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){zle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zle(t,e,n){return(e=qle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qle(t){var e=Fle(t,"string");return typeof e=="symbol"?e:e+""}function Fle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hle(t,e){if(t==null)return{};var n,r,i=Kle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Gle(t,e){var{x:n,y:r}=t,i=Hle(t,Ble),a="".concat(n),o=parseInt(a,10),u="".concat(r),f=parseInt(u,10),d="".concat(e.height||i.height),h=parseInt(d,10),p="".concat(e.width||i.width),y=parseInt(p,10);return Dd(Dd(Dd(Dd(Dd({},e),i),o?{x:o}:{}),f?{y:f}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function w5(t){return A.createElement(zoe,o1({shapeType:"rectangle",propTransformer:Gle,activeClassName:"recharts-active-bar"},t))}var Wle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Te(e))return e;var a=Te(r)||qt(r);return a?e(r,i):(a||Ule(),n)}},Yle={},x5=di({name:"errorBars",initialState:Yle,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:She,removeErrorBar:Ahe}=x5.actions,Xle=x5.reducer,Qle=["children"];function Jle(t,e){if(t==null)return{};var n,r,i=Zle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var eue={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},tue=A.createContext(eue);function E5(t){var{children:e}=t,n=Jle(t,Qle);return A.createElement(tue.Provider,{value:n},e)}function oA(t,e){var n,r,i=Ee(d=>Ls(d,t)),a=Ee(d=>el(d,e)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ti.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ni.allowDataOverflow,f=o||u;return{needClip:f,needClipX:o,needClipY:u}}function S5(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=iA(),{needClipX:a,needClipY:o,needClip:u}=oA(e,n);if(!u)return null;var{x:f,y:d,width:h,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:a?f:f-h/2,y:o?d:d-p/2,width:a?h:h*2,height:o?p:p*2}))}var nue=["onMouseEnter","onMouseLeave","onClick"],rue=["value","background","tooltipPosition"],iue=["id"],aue=["onMouseEnter","onClick","onMouseLeave"];function tf(){return tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tf.apply(null,arguments)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sue(t,e,n){return(e=oue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oue(t){var e=lue(t,"string");return typeof e=="symbol"?e:e+""}function lue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function my(t,e){if(t==null)return{};var n,r,i=uue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cue=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:ff(n,e),payload:t}]};function fue(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:ff(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:u}}}function due(t){var e=Ee(cu),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:u,onClick:f}=a,d=my(a,nue),h=u5(o,r),p=c5(u),y=f5(f,r);if(!i||n==null)return null;var b=_t(i,!1);return A.createElement(A.Fragment,null,n.map((x,E)=>{var{value:S,background:O,tooltipPosition:R}=x,P=my(x,rue);if(!O)return null;var V=h(x,E),D=p(x,E),j=y(x,E),k=vr(vr(vr(vr(vr({option:i,isActive:String(E)===e},P),{},{fill:"#eee"},O),b),cf(d,x,E)),{},{onMouseEnter:V,onMouseLeave:D,onClick:j,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return A.createElement(w5,tf({key:"background-bar-".concat(E)},k))}))}function A5(t){var{data:e,props:n,showLabels:r}=t,i=Cr(n),{id:a}=i,o=my(i,iue),{shape:u,dataKey:f,activeBar:d}=n,h=Ee(cu),p=Ee(D6),{onMouseEnter:y,onClick:b,onMouseLeave:x}=n,E=my(n,aue),S=u5(y,f),O=c5(x),R=f5(b,f);return e?A.createElement(A.Fragment,null,e.map((P,V)=>{var D=d&&String(V)===h&&(p==null||f===p),j=D?d:u,k=vr(vr(vr({},o),P),{},{isActive:D,option:j,index:V,dataKey:f});return A.createElement(Pn,tf({className:"recharts-bar-rectangle"},cf(E,P,V),{onMouseEnter:S(P,V),onMouseLeave:O(P,V),onClick:R(P,V),key:"rectangle-".concat(P?.x,"-").concat(P?.y,"-").concat(P?.value,"-").concat(V)}),A.createElement(w5,k))}),r&&aa.renderCallByParent(n,e)):null}function hue(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:u,animationEasing:f,onAnimationEnd:d,onAnimationStart:h}=e,p=n.current,y=tA(e,"recharts-bar-"),[b,x]=A.useState(!1),E=A.useCallback(()=>{typeof d=="function"&&d(),x(!1)},[d]),S=A.useCallback(()=>{typeof h=="function"&&h(),x(!0)},[h]);return A.createElement(rA,{begin:o,duration:u,isActive:a,easing:f,onAnimationEnd:E,onAnimationStart:S,key:y},O=>{var R=O===1?r:r?.map((P,V)=>{var D=p&&p[V];if(D)return vr(vr({},P),{},{x:ea(D.x,P.x,O),y:ea(D.y,P.y,O),width:ea(D.width,P.width,O),height:ea(D.height,P.height,O)});if(i==="horizontal"){var j=ea(0,P.height,O);return vr(vr({},P),{},{y:P.y+P.height-j,height:j})}var k=ea(0,P.width,O);return vr(vr({},P),{},{width:k})});return O>0&&(n.current=R??null),R==null?null:A.createElement(Pn,null,A.createElement(A5,{props:e,data:R,showLabels:!b}))})}function mue(t){var{data:e,isAnimationActive:n}=t,r=A.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?A.createElement(hue,{previousRectanglesRef:r,props:t}):A.createElement(A5,{props:t,data:e,showLabels:!0})}var T5=0,pue=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:fn(t,e)}};class gue extends A.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:u,background:f,id:d}=this.props;if(e)return null;var h=ot("recharts-bar",i),p=d;return A.createElement(Pn,{className:h,id:d},u&&A.createElement("defs",null,A.createElement(S5,{clipPathId:p,xAxisId:a,yAxisId:o})),A.createElement(Pn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},A.createElement(due,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),A.createElement(mue,this.props)),this.props.children)}}var yue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!bu.isSsr,legendType:"rect",minPointSize:T5,xAxisId:0,yAxisId:0};function vue(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h}=t,{needClip:p}=oA(e,n),y=Xy(),b=_r(),x=bE(t.children,F6),E=Ee(R=>Hue(R,e,n,b,t.id,x));if(y!=="vertical"&&y!=="horizontal")return null;var S,O=E?.[0];return O==null||O.height==null||O.width==null?S=0:S=y==="vertical"?O.height/2:O.width/2,A.createElement(E5,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:pue,errorBarOffset:S},A.createElement(gue,tf({},t,{layout:y,needClip:p,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h})))}function bue(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:u,xAxisTicks:f,yAxisTicks:d,stackedData:h,displayedData:p,offset:y,cells:b}=t,x=e==="horizontal"?u:o,E=h?x.scale.domain():null,S=XQ({numericAxis:x});return p.map((O,R)=>{var P,V,D,j,k,I;h?P=FQ(h[R],E):(P=fn(O,n),Array.isArray(P)||(P=[S,P]));var L=Wle(r,T5)(P[1],R);if(e==="horizontal"){var q,[z,B]=[u.scale(P[0]),u.scale(P[1])];V=wN({axis:o,ticks:f,bandSize:a,offset:i.offset,entry:O,index:R}),D=(q=B??z)!==null&&q!==void 0?q:void 0,j=i.size;var M=z-B;if(k=oi(M)?0:M,I={x:V,y:y.top,width:j,height:y.height},Math.abs(L)>0&&Math.abs(k)<Math.abs(L)){var le=Br(k||L)*(Math.abs(L)-Math.abs(k));D-=le,k+=le}}else{var[be,G]=[o.scale(P[0]),o.scale(P[1])];if(V=be,D=wN({axis:u,ticks:d,bandSize:a,offset:i.offset,entry:O,index:R}),j=G-be,k=i.size,I={x:y.left,y:D,width:y.width,height:k},Math.abs(L)>0&&Math.abs(j)<Math.abs(L)){var ae=Br(j||L)*(Math.abs(L)-Math.abs(j));j+=ae}}if(V==null||D==null||j==null||k==null)return null;var ve=vr(vr({},O),{},{x:V,y:D,width:j,height:k,value:h?P:P[1],payload:O,background:I,tooltipPosition:{x:V+j/2,y:D+k/2}},b&&b[R]&&b[R].props);return ve}).filter(Boolean)}function nf(t){var e=Bi(t,yue),n=_r();return A.createElement(nA,{id:e.id,type:"bar"},r=>A.createElement(A.Fragment,null,A.createElement(h5,{legendPayload:cue(e)}),A.createElement(eA,{fn:fue,args:e}),A.createElement(p5,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:YQ(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),A.createElement(vue,tf({},e,{id:r}))))}nf.displayName="Bar";function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){_ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ue(t,e,n){return(e=wue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wue(t){var e=xue(t,"string");return typeof e=="symbol"?e:e+""}function xue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eue=(t,e)=>e,Sue=(t,e,n)=>n,Aue=(t,e,n,r)=>r,Tue=(t,e,n,r,i)=>i,sm=te([lv,Tue],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Oue=te([sm],t=>t?.maxBarSize),Pue=(t,e,n,r,i,a)=>a,Xk=(t,e,n)=>{var r=n??t;if(!qt(r))return oa(r,e,0)},Rue=te([lt,lv,Eue,Sue,Aue],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Cue=(t,e,n,r)=>{var i=lt(t);return i==="horizontal"?e1(t,"yAxis",n,r):e1(t,"xAxis",e,r)},jue=(t,e,n)=>{var r=lt(t);return r==="horizontal"?B2(t,"xAxis",e):B2(t,"yAxis",n)},Nue=(t,e,n)=>{var r={},i=t.filter(ov),a=t.filter(d=>d.stackId==null),o=i.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),r),u=Object.entries(o).map(d=>{var[h,p]=d,y=p.map(x=>x.dataKey),b=Xk(e,n,p[0].barSize);return{stackId:h,dataKeys:y,barSize:b}}),f=a.map(d=>{var h=[d.dataKey].filter(y=>y!=null),p=Xk(e,n,d.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...f]},kue=te([Rue,Dne,jue],Nue),Due=(t,e,n,r,i)=>{var a,o,u=sm(t,e,n,r,i);if(u!=null){var f=lt(t),d=IL(t),{maxBarSize:h}=u,p=qt(h)?d:h,y,b;return f==="horizontal"?(y=Ko(t,"xAxis",e,r),b=Ho(t,"xAxis",e,r)):(y=Ko(t,"yAxis",n,r),b=Ho(t,"yAxis",n,r)),(a=(o=lu(y,b,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},O5=(t,e,n,r)=>{var i=lt(t),a,o;return i==="horizontal"?(a=Ko(t,"xAxis",e,r),o=Ho(t,"xAxis",e,r)):(a=Ko(t,"yAxis",n,r),o=Ho(t,"yAxis",n,r)),lu(a,o)};function Iue(t,e,n,r,i){var a=r.length;if(!(a<1)){var o=oa(t,n,0,!0),u,f=[];if(ci(r[0].barSize)){var d=!1,h=n/a,p=r.reduce((O,R)=>O+(R.barSize||0),0);p+=(a-1)*o,p>=n&&(p-=(a-1)*o,o=0),p>=n&&h>0&&(d=!0,h*=.9,p=a*h);var y=(n-p)/2>>0,b={offset:y-o,size:0};u=r.reduce((O,R)=>{var P,V={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:b.offset+b.size+o,size:d?h:(P=R.barSize)!==null&&P!==void 0?P:0}},D=[...O,V];return b=D[D.length-1].position,D},f)}else{var x=oa(e,n,0,!0);n-2*x-(a-1)*o<=0&&(o=0);var E=(n-2*x-(a-1)*o)/a;E>1&&(E>>=0);var S=ci(i)?Math.min(E,i):E;u=r.reduce((O,R,P)=>[...O,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:x+(E+o)*P+(E-S)/2,size:S}}],f)}return u}}var Mue=(t,e,n,r,i,a,o)=>{var u=qt(o)?e:o,f=Iue(n,r,i!==a?i:a,t,u);return i!==a&&f!=null&&(f=f.map(d=>Wp(Wp({},d),{},{position:Wp(Wp({},d.position),{},{offset:d.position.offset-i/2})}))),f},Lue=te([kue,IL,kne,ML,Due,O5,Oue],Mue),$ue=(t,e,n,r)=>Ko(t,"xAxis",e,r),Vue=(t,e,n,r)=>Ko(t,"yAxis",n,r),Uue=(t,e,n,r)=>Ho(t,"xAxis",e,r),Bue=(t,e,n,r)=>Ho(t,"yAxis",n,r),zue=te([Lue,sm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),que=(t,e)=>{var n=xS(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},Fue=te([Cue,sm],que),Hue=te([Qn,$ue,Vue,Uue,Bue,zue,lt,rv,O5,Fue,sm,Pue],(t,e,n,r,i,a,o,u,f,d,h,p)=>{var{chartData:y,dataStartIndex:b,dataEndIndex:x}=u;if(!(h==null||a==null||o!=="horizontal"&&o!=="vertical"||e==null||n==null||r==null||i==null||f==null)){var{data:E}=h,S;if(E!=null&&E.length>0?S=E:S=y?.slice(b,x+1),S!=null)return bue({layout:o,barSettings:h,pos:a,bandSize:f,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:d,displayedData:S,offset:t,cells:p})}}),P5=t=>{var{chartData:e}=t,n=Qt(),r=_r();return A.useEffect(()=>r?()=>{}:(n(Q2(e)),()=>{n(Q2(void 0))}),[e,n,r]),null},Qk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},R5=di({name:"brush",initialState:Qk,reducers:{setBrushSettings(t,e){return e.payload==null?Qk:e.payload}}}),{setBrushSettings:The}=R5.actions,Kue=R5.reducer;function Gue(t,e,n){return(e=Wue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wue(t){var e=Yue(t,"string");return typeof e=="symbol"?e:e+""}function Yue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class lA{static create(e){return new lA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Gue(lA,"EPS",1e-4);function Xue(t){return(t%180+180)%180}var Que=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Xue(i),o=a*Math.PI/180,u=Math.atan(r/n),f=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(f)},Jue={dots:[],areas:[],lines:[]},C5=di({name:"referenceElements",initialState:Jue,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=vs(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=vs(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=vs(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Ohe,removeDot:Phe,addArea:Rhe,removeArea:Che,addLine:jhe,removeLine:Nhe}=C5.actions,Zue=C5.reducer,ece=A.createContext(void 0),tce=t=>{var{children:e}=t,[n]=A.useState("".concat(_h("recharts"),"-clip")),r=iA();if(r==null)return null;var{x:i,y:a,width:o,height:u}=r;return A.createElement(ece.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:a,height:u,width:o}))),e)};function jw(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function j5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function nce(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Que(r,n)}function rce(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:u}=t;return e===1?{start:r?i:a,end:r?i+o:a+u}:{start:r?i+o:a+u,end:r?i:a}}function py(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function ice(t,e){return j5(t,e+1)}function ace(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:u}=e,f=0,d=1,h=o,p=function(){var x=r?.[f];if(x===void 0)return{v:j5(r,d)};var E=f,S,O=()=>(S===void 0&&(S=n(x,E)),S),R=x.coordinate,P=f===0||py(t,R,O,h,u);P||(f=0,h=o,d+=1),P&&(h=R+t*(O()/2+i),f+=d)},y;d<=a.length;)if(y=p(),y)return y.v;return[]}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sce(t,e,n){return(e=oce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oce(t){var e=lce(t,"string");return typeof e=="symbol"?e:e+""}function lce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uce(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:u}=e,{end:f}=e,d=function(y){var b=a[y],x,E=()=>(x===void 0&&(x=n(b,y)),x);if(y===o-1){var S=t*(b.coordinate+t*E()/2-f);a[y]=b=mr(mr({},b),{},{tickCoord:S>0?b.coordinate-S*t:b.coordinate})}else a[y]=b=mr(mr({},b),{},{tickCoord:b.coordinate});var O=py(t,b.tickCoord,E,u,f);O&&(f=b.tickCoord-t*(E()/2+i),a[y]=mr(mr({},b),{},{isShow:!0}))},h=o-1;h>=0;h--)d(h);return a}function cce(t,e,n,r,i,a){var o=(r||[]).slice(),u=o.length,{start:f,end:d}=e;if(a){var h=r[u-1],p=n(h,u-1),y=t*(h.coordinate+t*p/2-d);o[u-1]=h=mr(mr({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var b=py(t,h.tickCoord,()=>p,f,d);b&&(d=h.tickCoord-t*(p/2+i),o[u-1]=mr(mr({},h),{},{isShow:!0}))}for(var x=a?u-1:u,E=function(R){var P=o[R],V,D=()=>(V===void 0&&(V=n(P,R)),V);if(R===0){var j=t*(P.coordinate-t*D()/2-f);o[R]=P=mr(mr({},P),{},{tickCoord:j<0?P.coordinate-j*t:P.coordinate})}else o[R]=P=mr(mr({},P),{},{tickCoord:P.coordinate});var k=py(t,P.tickCoord,D,f,d);k&&(f=P.tickCoord+t*(D()/2+i),o[R]=mr(mr({},P),{},{isShow:!0}))},S=0;S<x;S++)E(S);return o}function uA(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:u,interval:f,tickFormatter:d,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(Te(f)||bu.isSsr){var y;return(y=ice(i,Te(f)?f:0))!==null&&y!==void 0?y:[]}var b=[],x=u==="top"||u==="bottom"?"width":"height",E=h&&x==="width"?th(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(P,V)=>{var D=typeof d=="function"?d(P.value,V):P.value;return x==="width"?nce(th(D,{fontSize:e,letterSpacing:n}),E,p):th(D,{fontSize:e,letterSpacing:n})[x]},O=i.length>=2?Br(i[1].coordinate-i[0].coordinate):1,R=rce(a,O,x);return f==="equidistantPreserveStart"?ace(O,R,S,i,o):(f==="preserveStart"||f==="preserveStartEnd"?b=cce(O,R,S,i,o,f==="preserveStartEnd"):b=uce(O,R,S,i,o),b.filter(P=>P.isShow))}var fce=["viewBox"],dce=["viewBox"];function Rc(){return Rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rc.apply(null,arguments)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){cA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eD(t,e){if(t==null)return{};var n,r,i=hce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cA(t,e,n){return(e=mce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mce(t){var e=pce(t,"string");return typeof e=="symbol"?e:e+""}function pce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class nl extends A.Component{constructor(e){super(e),this.tickRefs=A.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=eD(e,fce),a=this.props,{viewBox:o}=a,u=eD(a,dce);return!jw(r,o)||!jw(i,u)||!jw(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:a,orientation:o,tickSize:u,mirror:f,tickMargin:d}=this.props,h,p,y,b,x,E,S=f?-1:1,O=e.tickSize||u,R=Te(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":h=p=e.coordinate,b=r+ +!f*a,y=b-S*O,E=y-S*d,x=R;break;case"left":y=b=e.coordinate,p=n+ +!f*i,h=p-S*O,x=h-S*d,E=R;break;case"right":y=b=e.coordinate,p=n+ +f*i,h=p+S*O,x=h+S*d,E=R;break;default:h=p=e.coordinate,b=r+ +f*a,y=b+S*O,E=y+S*d,x=R;break}return{line:{x1:h,y1:y,x2:p,y2:b},tick:{x,y:E}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:u}=this.props,f=Dn(Dn(Dn({},_t(this.props,!1)),_t(u,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);f=Dn(Dn({},f),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var h=+(a==="left"&&!o||a==="right"&&o);f=Dn(Dn({},f),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return A.createElement("line",Rc({},f,{className:ot("recharts-cartesian-axis-line",au(u,"className"))}))}static renderTickItem(e,n,r){var i,a=ot(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,Dn(Dn({},n),{},{className:a}));else if(typeof e=="function")i=e(Dn(Dn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=ot(o,e.className)),i=A.createElement(am,Rc({},n,{className:o}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:o,tickFormatter:u,unit:f,padding:d}=this.props,h=uA(Dn(Dn({},this.props),{},{ticks:r}),e,n),p=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=Cr(this.props),x=_t(o,!1),E=Dn(Dn({},b),{},{fill:"none"},_t(i,!1)),S=h.map((O,R)=>{var{line:P,tick:V}=this.getTickLineCoord(O),D=Dn(Dn(Dn(Dn({textAnchor:p,verticalAnchor:y},b),{},{stroke:"none",fill:a},x),V),{},{index:R,payload:O,visibleTicksCount:h.length,tickFormatter:u,padding:d});return A.createElement(Pn,Rc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},cf(this.props,O,R)),i&&A.createElement("line",Rc({},E,P,{className:ot("recharts-cartesian-axis-tick-line",au(i,"className"))})),o&&nl.renderTickItem(o,D,"".concat(typeof u=="function"?u(O.value,R):O.value).concat(f||"")))});return S.length>0?A.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:a}=this.props;if(a)return null;var{ticks:o}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:A.createElement(Pn,{className:ot("recharts-cartesian-axis",i),ref:u=>{if(u){var f=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var d=f[0];if(d){var h=window.getComputedStyle(d).fontSize,p=window.getComputedStyle(d).letterSpacing;(h!==this.state.fontSize||p!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),Ur.renderCallByParent(this.props))}}cA(nl,"displayName","CartesianAxis");cA(nl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gce=["x1","y1","x2","y2","key"],yce=["offset"],vce=["xAxisId","yAxisId"],bce=["xAxisId","yAxisId"];function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){_ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ce(t,e,n){return(e=wce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wce(t){var e=xce(t,"string");return typeof e=="symbol"?e:e+""}function xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(null,arguments)}function gy(t,e){if(t==null)return{};var n,r,i=Ece(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ece(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:u}=t;return A.createElement("rect",{x:r,y:i,ry:u,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function N5(t,e){var n;if(A.isValidElement(t))n=A.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:o,key:u}=e,f=gy(e,gce),d=Cr(f),{offset:h}=d,p=gy(d,yce);n=A.createElement("line",Yl({},p,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:u}))}return n}function Ace(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,u=gy(t,vce),f=i.map((d,h)=>{var p=br(br({},u),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(h),index:h});return N5(r,p)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Tce(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,u=gy(t,bce),f=i.map((d,h)=>{var p=br(br({},u),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(h),index:h});return N5(r,p)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Oce(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==d[0]&&d.unshift(0);var h=d.map((p,y)=>{var b=!d[y+1],x=b?i+o-p:d[y+1]-p;if(x<=0)return null;var E=y%e.length;return A.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:x,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Pce(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var d=f.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==d[0]&&d.unshift(0);var h=d.map((p,y)=>{var b=!d[y+1],x=b?i+o-p:d[y+1]-p;if(x<=0)return null;var E=y%n.length;return A.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:x,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Rce=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return _3(uA(br(br(br({},nl.defaultProps),n),{},{ticks:w3(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Cce=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return _3(uA(br(br(br({},nl.defaultProps),n),{},{ticks:w3(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},jce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function yy(t){var e=zE(),n=qE(),r=S3(),i=br(br({},Bi(t,jce)),{},{x:Te(t.x)?t.x:r.left,y:Te(t.y)?t.y:r.top,width:Te(t.width)?t.width:r.width,height:Te(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:u,y:f,width:d,height:h,syncWithTicks:p,horizontalValues:y,verticalValues:b}=i,x=_r(),E=Ee(L=>z2(L,"xAxis",a,x)),S=Ee(L=>z2(L,"yAxis",o,x));if(!Te(d)||d<=0||!Te(h)||h<=0||!Te(u)||u!==+u||!Te(f)||f!==+f)return null;var O=i.verticalCoordinatesGenerator||Rce,R=i.horizontalCoordinatesGenerator||Cce,{horizontalPoints:P,verticalPoints:V}=i;if((!P||!P.length)&&typeof R=="function"){var D=y&&y.length,j=R({yAxis:S?br(br({},S),{},{ticks:D?y:S.ticks}):void 0,width:e,height:n,offset:r},D?!0:p);eh(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(P=j)}if((!V||!V.length)&&typeof O=="function"){var k=b&&b.length,I=O({xAxis:E?br(br({},E),{},{ticks:k?b:E.ticks}):void 0,width:e,height:n,offset:r},k?!0:p);eh(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(V=I)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(Sce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(Oce,Yl({},i,{horizontalPoints:P})),A.createElement(Pce,Yl({},i,{verticalPoints:V})),A.createElement(Ace,Yl({},i,{offset:r,horizontalPoints:P,xAxis:E,yAxis:S})),A.createElement(Tce,Yl({},i,{offset:r,verticalPoints:V,xAxis:E,yAxis:S})))}yy.displayName="CartesianGrid";var k5=(t,e,n,r)=>Ko(t,"xAxis",e,r),D5=(t,e,n,r)=>Ho(t,"xAxis",e,r),I5=(t,e,n,r)=>Ko(t,"yAxis",n,r),M5=(t,e,n,r)=>Ho(t,"yAxis",n,r),Nce=te([lt,k5,I5,D5,M5],(t,e,n,r,i)=>ks(t,"xAxis")?lu(e,r,!1):lu(n,i,!1)),kce=(t,e,n,r,i)=>i;function Dce(t){return t.type==="line"}var Ice=te([lv,kce],(t,e)=>t.filter(Dce).find(n=>n.id===e)),Mce=te([lt,k5,I5,D5,M5,Ice,Nce,rv],(t,e,n,r,i,a,o,u)=>{var{chartData:f,dataStartIndex:d,dataEndIndex:h}=u;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:p,data:y}=a,b;if(y!=null&&y.length>0?b=y:b=f?.slice(d,h+1),b!=null)return rfe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:b})}}),Lce=["id"],$ce=["type","layout","connectNulls","needClip"],Vce=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function nD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(n),!0).forEach(function(r){Uce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uce(t,e,n){return(e=Bce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bce(t){var e=zce(t,"string");return typeof e=="symbol"?e:e+""}function zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fA(t,e){if(t==null)return{};var n,r,i=qce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(null,arguments)}var Fce=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:ff(n,e),payload:t}]};function Hce(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:u,unit:f}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:ff(o,e),hide:u,type:t.tooltipType,color:t.stroke,unit:f}}}var L5=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Kce(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Gce=(t,e,n)=>{var r=n.reduce((p,y)=>p+y);if(!r)return L5(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,u=[],f=0,d=0;f<n.length;d+=n[f],++f)if(d+n[f]>a){u=[...n.slice(0,f),a-d];break}var h=u.length%2===0?[0,o]:[o];return[...Kce(n,i),...u,...h].map(p=>"".concat(p,"px")).join(", ")};function Wce(t,e){var n;if(A.isValidElement(t))n=A.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=ot("recharts-line-dot",typeof t!="boolean"?t.className:"");n=A.createElement(pv,fu({},e,{className:r}))}return n}function Yce(t,e){return t==null?!1:e?!0:t.length===1}function Xce(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r;if(!Yce(n,i))return null;var{id:u}=r,f=fA(r,Lce),d=v4(i),h=Cr(f),p=_t(i,!0),y=n.map((x,E)=>{var S=ta(ta(ta({key:"dot-".concat(E),r:3},h),p),{},{index:E,cx:x.x,cy:x.y,dataKey:a,value:x.value,payload:x.payload,points:n});return Wce(i,S)}),b={clipPath:o?"url(#clipPath-".concat(d?"":"dots-").concat(e,")"):void 0};return A.createElement(Pn,fu({className:"recharts-line-dots",key:"dots"},b),y)}function l1(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a,showLabels:o}=t,{type:u,layout:f,connectNulls:d,needClip:h}=a,p=fA(a,$ce),y=ta(ta({},_t(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:u,layout:f,connectNulls:d,strokeDasharray:i??a.strokeDasharray});return A.createElement(A.Fragment,null,r?.length>1&&A.createElement(R3,fu({},y,{pathRef:n})),A.createElement(Xce,{points:r,clipPathId:e,props:a}),o&&aa.renderCallByParent(a,r))}function Qce(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Jce(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:u,isAnimationActive:f,animationBegin:d,animationDuration:h,animationEasing:p,animateNewValues:y,width:b,height:x,onAnimationEnd:E,onAnimationStart:S}=n,O=i.current,R=tA(n,"recharts-line-"),[P,V]=A.useState(!1),D=A.useCallback(()=>{typeof E=="function"&&E(),V(!1)},[E]),j=A.useCallback(()=>{typeof S=="function"&&S(),V(!0)},[S]),k=Qce(r.current),I=a.current;return A.createElement(rA,{begin:d,duration:h,isActive:f,easing:p,onAnimationEnd:D,onAnimationStart:j,key:R},L=>{var q=ea(I,k+I,L),z=Math.min(q,k),B;if(u){var M="".concat(u).split(/[,\s]+/gim).map(G=>parseFloat(G));B=Gce(z,k,M)}else B=L5(k,z);if(O){var le=O.length/o.length,be=L===1?o:o.map((G,ae)=>{var ve=Math.floor(ae*le);if(O[ve]){var Se=O[ve];return ta(ta({},G),{},{x:ea(Se.x,G.x,L),y:ea(Se.y,G.y,L)})}return y?ta(ta({},G),{},{x:ea(b*2,G.x,L),y:ea(x/2,G.y,L)}):ta(ta({},G),{},{x:G.x,y:G.y})});return i.current=be,A.createElement(l1,{props:n,points:be,clipPathId:e,pathRef:r,showLabels:!P,strokeDasharray:B})}return L>0&&k>0&&(i.current=o,a.current=z),A.createElement(l1,{props:n,points:o,clipPathId:e,pathRef:r,showLabels:!P,strokeDasharray:B})})}function Zce(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:i}=n,a=A.useRef(null),o=A.useRef(0),u=A.useRef(null),f=a.current;return i&&r&&r.length&&f!==r?A.createElement(Jce,{props:n,clipPathId:e,previousPointsRef:a,longestAnimatedLengthRef:o,pathRef:u}):A.createElement(l1,{props:n,points:r,clipPathId:e,pathRef:u,showLabels:!0})}var efe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:fn(t.payload,e)});class tfe extends A.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:o,yAxisId:u,top:f,left:d,width:h,height:p,id:y,needClip:b}=this.props;if(n)return null;var x=ot("recharts-line",a),E=y,{r:S=3,strokeWidth:O=2}=(e=_t(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},R=v4(r),P=S*2+O;return A.createElement(A.Fragment,null,A.createElement(Pn,{className:x},b&&A.createElement("defs",null,A.createElement(S5,{clipPathId:E,xAxisId:o,yAxisId:u}),!R&&A.createElement("clipPath",{id:"clipPath-dots-".concat(E)},A.createElement("rect",{x:d-P/2,y:f-P/2,width:h+P,height:p+P}))),A.createElement(Zce,{props:this.props,clipPathId:E}),A.createElement(E5,{xAxisId:o,yAxisId:u,data:i,dataPointFormatter:efe,errorBarOffset:0},this.props.children)),A.createElement(g5,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var $5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!bu.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function nfe(t){var e=Bi(t,$5),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:u,dot:f,hide:d,isAnimationActive:h,label:p,legendType:y,xAxisId:b,yAxisId:x,id:E}=e,S=fA(e,Vce),{needClip:O}=oA(b,x),R=iA(),P=Xy(),V=_r(),D=Ee(q=>Mce(q,b,x,V,E));if(P!=="horizontal"&&P!=="vertical"||D==null||R==null)return null;var{height:j,width:k,x:I,y:L}=R;return A.createElement(tfe,fu({},S,{id:E,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:h,hide:d,label:p,legendType:y,xAxisId:b,yAxisId:x,points:D,layout:P,height:j,width:k,left:I,top:L,needClip:O}))}function rfe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:u,displayedData:f}=t;return f.map((d,h)=>{var p=fn(d,o);if(e==="horizontal"){var y=_N({axis:n,ticks:i,bandSize:u,entry:d,index:h}),b=qt(p)?null:r.scale(p);return{x:y,y:b,value:p,payload:d}}var x=qt(p)?null:n.scale(p),E=_N({axis:r,ticks:a,bandSize:u,entry:d,index:h});return x==null||E==null?null:{x,y:E,value:p,payload:d}}).filter(Boolean)}function vy(t){var e=Bi(t,$5),n=_r();return A.createElement(nA,{id:e.id,type:"line"},r=>A.createElement(A.Fragment,null,A.createElement(h5,{legendPayload:Fce(e)}),A.createElement(eA,{fn:Hce,args:e}),A.createElement(p5,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),A.createElement(nfe,fu({},e,{id:r}))))}vy.displayName="Line";function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){ife(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ife(t,e,n){return(e=afe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function afe(t){var e=sfe(t,"string");return typeof e=="symbol"?e:e+""}function sfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ofe={xAxis:{},yAxis:{},zAxis:{}},V5=di({name:"cartesianAxis",initialState:ofe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=iD(iD({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:lfe,removeXAxis:ufe,addYAxis:cfe,removeYAxis:ffe,addZAxis:khe,removeZAxis:Dhe,updateYAxisWidth:dfe}=V5.actions,hfe=V5.reducer,mfe=["children"],pfe=["dangerouslySetInnerHTML","ticks"];function U5(t,e,n){return(e=gfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gfe(t){var e=yfe(t,"string");return typeof e=="symbol"?e:e+""}function yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u1.apply(null,arguments)}function B5(t,e){if(t==null)return{};var n,r,i=vfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bfe(t){var e=Qt(),n=A.useMemo(()=>{var{children:a}=t,o=B5(t,mfe);return o},[t]),r=Ee(a=>Ls(a,n.id)),i=n===r;return A.useEffect(()=>(e(lfe(n)),()=>{e(ufe(n))}),[n,e]),i?t.children:null}var _fe=t=>{var{xAxisId:e,className:n}=t,r=Ee(E3),i=_r(),a="xAxis",o=Ee(b=>_f(b,a,e,i)),u=Ee(b=>m6(b,a,e,i)),f=Ee(b=>c6(b,e)),d=Ee(b=>Tre(b,e));if(f==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:p}=t,y=B5(t,pfe);return A.createElement(nl,u1({},y,{scale:o,x:d.x,y:d.y,width:f.width,height:f.height,className:ot("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u}))},wfe=t=>{var e,n,r,i,a;return A.createElement(bfe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter},A.createElement(_fe,t))};class Go extends A.Component{render(){return A.createElement(wfe,this.props)}}U5(Go,"displayName","XAxis");U5(Go,"defaultProps",{allowDataOverflow:ti.allowDataOverflow,allowDecimals:ti.allowDecimals,allowDuplicatedCategory:ti.allowDuplicatedCategory,height:ti.height,hide:!1,mirror:ti.mirror,orientation:ti.orientation,padding:ti.padding,reversed:ti.reversed,scale:ti.scale,tickCount:ti.tickCount,type:ti.type,xAxisId:0});var xfe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+a,d=o+f+u+(n?r:0);return Math.round(d)}return 0},Efe=["dangerouslySetInnerHTML","ticks"];function z5(t,e,n){return(e=Sfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sfe(t){var e=Afe(t,"string");return typeof e=="symbol"?e:e+""}function Afe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c1.apply(null,arguments)}function Tfe(t,e){if(t==null)return{};var n,r,i=Ofe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ofe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pfe(t){var e=Qt();return A.useEffect(()=>(e(cfe(t)),()=>{e(ffe(t))}),[t,e]),null}var Rfe=t=>{var e,{yAxisId:n,className:r,width:i,label:a}=t,o=A.useRef(null),u=A.useRef(null),f=Ee(E3),d=_r(),h=Qt(),p="yAxis",y=Ee(P=>_f(P,p,n,d)),b=Ee(P=>f6(P,n)),x=Ee(P=>Ore(P,n)),E=Ee(P=>m6(P,p,n,d));if(A.useLayoutEffect(()=>{var P;if(!(i!=="auto"||!b||YS(a)||A.isValidElement(a))){var V=o.current,D=V==null||(P=V.tickRefs)===null||P===void 0?void 0:P.current,{tickSize:j,tickMargin:k}=V.props,I=xfe({ticks:D,label:u.current,labelGapWithTick:5,tickSize:j,tickMargin:k});Math.round(b.width)!==Math.round(I)&&h(dfe({id:n,width:I}))}},[o,o==null||(e=o.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,b?.width,b,h,a,n,i]),b==null||x==null)return null;var{dangerouslySetInnerHTML:S,ticks:O}=t,R=Tfe(t,Efe);return A.createElement(nl,c1({},R,{ref:o,labelRef:u,scale:y,x:x.x,y:x.y,width:b.width,height:b.height,className:ot("recharts-".concat(p," ").concat(p),r),viewBox:f,ticks:E}))},Cfe=t=>{var e,n,r,i,a;return A.createElement(A.Fragment,null,A.createElement(Pfe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter}),A.createElement(Rfe,t))},jfe={allowDataOverflow:ni.allowDataOverflow,allowDecimals:ni.allowDecimals,allowDuplicatedCategory:ni.allowDuplicatedCategory,hide:!1,mirror:ni.mirror,orientation:ni.orientation,padding:ni.padding,reversed:ni.reversed,scale:ni.scale,tickCount:ni.tickCount,type:ni.type,width:ni.width,yAxisId:0};class Wo extends A.Component{render(){return A.createElement(Cfe,this.props)}}z5(Wo,"displayName","YAxis");z5(Wo,"defaultProps",jfe);var Nw={exports:{}},kw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aD;function Nfe(){if(aD)return kw;aD=1;var t=rf();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,u=t.useDebugValue;return kw.useSyncExternalStoreWithSelector=function(f,d,h,p,y){var b=i(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=o(function(){function S(D){if(!O){if(O=!0,R=D,D=p(D),y!==void 0&&x.hasValue){var j=x.value;if(y(j,D))return P=j}return P=D}if(j=P,n(R,D))return j;var k=p(D);return y!==void 0&&y(j,k)?(R=D,j):(R=D,P=k)}var O=!1,R,P,V=h===void 0?null:h;return[function(){return S(d())},V===null?void 0:function(){return S(V())}]},[d,h,p,y]);var E=r(f,b[0],b[1]);return a(function(){x.hasValue=!0,x.value=E},[E]),u(E),E},kw}var sD;function kfe(){return sD||(sD=1,Nw.exports=Nfe()),Nw.exports}kfe();function Dfe(t){t()}function Ife(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Dfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var oD={notify(){},get:()=>[]};function Mfe(t,e){let n,r=oD,i=0,a=!1;function o(E){h();const S=r.subscribe(E);let O=!1;return()=>{O||(O=!0,S(),p())}}function u(){r.notify()}function f(){x.onStateChange&&x.onStateChange()}function d(){return a}function h(){i++,n||(n=t.subscribe(f),r=Ife())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=oD)}function y(){a||(a=!0,h())}function b(){a&&(a=!1,p())}const x={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return x}var Lfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$fe=Lfe(),Vfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ufe=Vfe(),Bfe=()=>$fe||Ufe?A.useLayoutEffect:A.useEffect,zfe=Bfe(),qfe=Symbol.for("react-redux-context"),Ffe=typeof globalThis<"u"?globalThis:{};function Hfe(){if(!A.createContext)return{};const t=Ffe[qfe]??=new Map;let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var Kfe=Hfe();function Gfe(t){const{children:e,context:n,serverState:r,store:i}=t,a=A.useMemo(()=>{const f=Mfe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),o=A.useMemo(()=>i.getState(),[i]);zfe(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),o!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,o]);const u=n||Kfe;return A.createElement(u.Provider,{value:a},e)}var Wfe=Gfe,Yfe=(t,e)=>e,dA=te([Yfe,lt,gf,Vn,C6,$s,Cie,Qn],Iie),hA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},q5=Vi("mouseClick"),F5=Kh();F5.startListening({actionCreator:q5,effect:(t,e)=>{var n=t.payload,r=dA(e.getState(),hA(n));r?.activeIndex!=null&&e.dispatch($re({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var f1=Vi("mouseMove"),H5=Kh();H5.startListening({actionCreator:f1,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=VS(r,r.tooltip.settings.shared),a=dA(r,hA(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(E6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(x6()))}});function Xfe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var lD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},K5=di({name:"rootProps",initialState:lD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:lD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Qfe=K5.reducer,{updateOptions:Jfe}=K5.actions,G5=di({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Zfe}=G5.actions,ede=G5.reducer,W5=Vi("keyDown"),Y5=Vi("focus"),mA=Kh();mA.startListening({actionCreator:W5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(US(i,xf(n))),u=$s(n);if(a==="Enter"){var f=ly(n,"axis","hover",String(i.index));e.dispatch(n1({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var d=Rre(n),h=d==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,y=o+p*h;if(!(u==null||y>=u.length||y<0)){var b=ly(n,"axis","hover",String(y));e.dispatch(n1({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});mA.startListening({actionCreator:Y5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=ly(n,"axis","hover",String(a));e.dispatch(n1({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Ni=Vi("externalEvent"),X5=Kh();X5.startListening({actionCreator:Ni,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:_ie(n),activeDataKey:D6(n),activeIndex:cu(n),activeLabel:k6(n),activeTooltipIndex:cu(n),isTooltipActive:wie(n)};t.payload.handler(r,t.payload.reactEvent)}}});var tde=te([wf],t=>t.tooltipItemPayloads),nde=te([tde,rm,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),Q5=Vi("touchMove"),J5=Kh();J5.startListening({actionCreator:Q5,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=VS(r,r.tooltip.settings.shared);if(i==="axis"){var a=dA(r,hA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(E6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,u=n.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(iJ),h=(o=f.getAttribute(aJ))!==null&&o!==void 0?o:void 0,p=nde(e.getState(),d,h);e.dispatch(w6({activeDataKey:h,activeIndex:d,activeCoordinate:p}))}}});var rde=Y4({brush:Kue,cartesianAxis:hfe,chartData:Qie,errorBars:Xle,graphicalItems:ele,layout:OQ,legend:yJ,options:Kie,polarAxis:eoe,polarOptions:ede,referenceElements:Zue,rootProps:Qfe,tooltip:Vre}),ide=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return JX({reducer:rde,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([F5.middleware,H5.middleware,mA.middleware,X5.middleware,J5.middleware]),devTools:{serialize:{replacer:Xfe},name:"recharts-".concat(n)}})};function Z5(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=_r(),a=A.useRef(null);if(i)return n;a.current==null&&(a.current=ide(e,r));var o=kE;return A.createElement(Wfe,{context:o,store:a.current},n)}function e$(t){var{layout:e,width:n,height:r,margin:i}=t,a=Qt(),o=_r();return A.useEffect(()=>{o||(a(SQ(e)),a(AQ({width:n,height:r})),a(EQ(i)))},[a,o,e,n,r,i]),null}function t$(t){var e=Qt();return A.useEffect(()=>{e(Jfe(t))},[e,t]),null}var ade=["children"];function sde(t,e){if(t==null)return{};var n,r,i=ode(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ode(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(null,arguments)}var lde={width:"100%",height:"100%"},ude=A.forwardRef((t,e)=>{var n=zE(),r=qE(),i=P3();if(!Wc(n)||!Wc(r))return null;var{children:a,otherAttributes:o,title:u,desc:f}=t,d,h;return typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0,A.createElement(_E,by({},o,{title:u,desc:f,role:h,tabIndex:d,width:n,height:r,style:lde,ref:e}),a)}),cde=t=>{var{children:e}=t,n=Ee(Yy);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return A.createElement(_E,{width:r,height:i,x:o,y:a},e)},uD=A.forwardRef((t,e)=>{var{children:n}=t,r=sde(t,ade),i=_r();return i?A.createElement(cde,null,n):A.createElement(ude,by({ref:e},r),n)});function fde(){var t=Qt(),[e,n]=A.useState(null),r=Ee(rJ);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;ci(a)&&a!==r&&t(TQ(a))}},[e,t,r]),n}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){hde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hde(t,e,n){return(e=mde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mde(t){var e=pde(t,"string");return typeof e=="symbol"?e:e+""}function pde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gde=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:h,onMouseMove:p,onMouseUp:y,onTouchEnd:b,onTouchMove:x,onTouchStart:E,style:S,width:O}=t,R=Qt(),[P,V]=A.useState(null),[D,j]=A.useState(null);eae();var k=fde(),I=A.useCallback(ie=>{k(ie),typeof e=="function"&&e(ie),V(ie),j(ie)},[k,e,V,j]),L=A.useCallback(ie=>{R(q5(ie)),R(Ni({handler:a,reactEvent:ie}))},[R,a]),q=A.useCallback(ie=>{R(f1(ie)),R(Ni({handler:d,reactEvent:ie}))},[R,d]),z=A.useCallback(ie=>{R(x6()),R(Ni({handler:h,reactEvent:ie}))},[R,h]),B=A.useCallback(ie=>{R(f1(ie)),R(Ni({handler:p,reactEvent:ie}))},[R,p]),M=A.useCallback(()=>{R(Y5())},[R]),le=A.useCallback(ie=>{R(W5(ie.key))},[R]),be=A.useCallback(ie=>{R(Ni({handler:o,reactEvent:ie}))},[R,o]),G=A.useCallback(ie=>{R(Ni({handler:u,reactEvent:ie}))},[R,u]),ae=A.useCallback(ie=>{R(Ni({handler:f,reactEvent:ie}))},[R,f]),ve=A.useCallback(ie=>{R(Ni({handler:y,reactEvent:ie}))},[R,y]),Se=A.useCallback(ie=>{R(Ni({handler:E,reactEvent:ie}))},[R,E]),H=A.useCallback(ie=>{R(Q5(ie)),R(Ni({handler:x,reactEvent:ie}))},[R,x]),oe=A.useCallback(ie=>{R(Ni({handler:b,reactEvent:ie}))},[R,b]);return A.createElement(U6.Provider,{value:P},A.createElement(b4.Provider,{value:D},A.createElement("div",{className:ot("recharts-wrapper",r),style:dde({position:"relative",cursor:"default",width:O,height:i},S),onClick:L,onContextMenu:be,onDoubleClick:G,onFocus:M,onKeyDown:le,onMouseDown:ae,onMouseEnter:q,onMouseLeave:z,onMouseMove:B,onMouseUp:ve,onTouchEnd:oe,onTouchMove:H,onTouchStart:Se,ref:I},n)))}),yde=["children","className","width","height","style","compact","title","desc"];function vde(t,e){if(t==null)return{};var n,r,i=bde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var n$=A.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:o,compact:u,title:f,desc:d}=t,h=vde(t,yde),p=Cr(h);return u?A.createElement(uD,{otherAttributes:p,title:f,desc:d},n):A.createElement(gde,{className:r,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(uD,{otherAttributes:p,title:f,desc:d,ref:e},A.createElement(tce,null,n)))}),_de=["width","height"];function d1(){return d1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d1.apply(null,arguments)}function wde(t,e){if(t==null)return{};var n,r,i=xde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ede={top:5,right:5,bottom:5,left:5},Sde={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ede,reverseStackOrder:!1,syncMethod:"index"},r$=A.forwardRef(function(e,n){var r,i=Bi(e.categoricalChartProps,Sde),{width:a,height:o}=i,u=wde(i,_de);if(!Wc(a)||!Wc(o))return null;var{chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:y}=e,b={chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return A.createElement(Z5,{preloadedState:{options:b},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:f},A.createElement(P5,{chartData:y.data}),A.createElement(e$,{width:a,height:o,layout:i.layout,margin:i.margin}),A.createElement(t$,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),A.createElement(n$,d1({},u,{width:a,height:o,ref:n})))}),Ade=["axis"],i$=A.forwardRef((t,e)=>A.createElement(r$,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ade,tooltipPayloadSearcher:WS,categoricalChartProps:t,ref:e})),Tde=["axis","item"],_v=A.forwardRef((t,e)=>A.createElement(r$,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tde,tooltipPayloadSearcher:WS,categoricalChartProps:t,ref:e}));function Ode(t){var e=Qt();return A.useEffect(()=>{e(Zfe(t))},[e,t]),null}var Pde=["width","height","layout"];function h1(){return h1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h1.apply(null,arguments)}function Rde(t,e){if(t==null)return{};var n,r,i=Cde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jde={top:5,right:5,bottom:5,left:5},Nde={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jde,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},kde=A.forwardRef(function(e,n){var r,i=Bi(e.categoricalChartProps,Nde),{width:a,height:o,layout:u}=i,f=Rde(i,Pde);if(!Wc(a)||!Wc(o))return null;var{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:y}=e,b={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:y,eventEmitter:void 0};return A.createElement(Z5,{preloadedState:{options:b},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:d},A.createElement(P5,{chartData:i.data}),A.createElement(e$,{width:a,height:o,layout:u,margin:i.margin}),A.createElement(t$,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),A.createElement(Ode,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),A.createElement(n$,h1({width:a,height:o},f,{ref:n})))}),Dde=["axis"],Ide={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Mde=A.forwardRef((t,e)=>{var n=Bi(t,Ide);return A.createElement(kde,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Dde,tooltipPayloadSearcher:WS,categoricalChartProps:n,ref:e})});const Lde=({categories:t})=>{const{teamStats:e,columnPercentiles:n,currentViewingTeam:r}=Rn(),i=(o,u)=>!u||o<=u.p10?0:o>=u.p90?100:o<=u.p25?0+25*((o-u.p10)/(u.p25-u.p10)):o<=u.p75?25+50*((o-u.p25)/(u.p75-u.p25)):75+25*((o-u.p75)/(u.p90-u.p75)),a=A.useMemo(()=>t.map(o=>{const u=e[r]?.[o]?.q3??0,f=n[o]?.q3,d=f?i(u,f):0;return{category:o.replace(/([A-Z])/g," $1").replace(/^./,h=>h.toUpperCase()),value:Math.min(100,d)}}),[t,e,n,r]);return _.jsxs("div",{className:"w-full h-102 bg-white rounded-xl p-4 shadow-md mt-5 pb-15",children:[_.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Team Percentile Comparison"}),_.jsx(nu,{width:"100%",height:"100%",children:_.jsxs(_v,{data:a,margin:{top:20,right:20,bottom:40,left:40},children:[_.jsx(Go,{dataKey:"category",angle:-25,textAnchor:"end",interval:0}),_.jsx(Wo,{type:"number",domain:[0,100],tickFormatter:o=>`${o.toFixed(0)}%`}),_.jsx(Ch,{formatter:o=>`${o.toFixed(1)}%`,animationDuration:50}),_.jsx(nf,{dataKey:"value",fill:"#f69f3bff",radius:[4,4,0,0],maxBarSize:50,animationDuration:500,children:_.jsx(aa,{dataKey:"value",position:"top",formatter:o=>`${Number(o).toFixed(0)}%`})})]})})]})};function $de({isOpen:t,onClose:e,teamImage:n}){const[r,i]=A.useState(0);return A.useEffect(()=>{i(0)},[t]),t?_.jsx("div",{className:"fixed inset-0 z-706 flex items-center justify-center bg-black/67",onClick:e,children:_.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl h-[85vh] overflow-hidden flex flex-col m-4 pointer-events-auto",onClick:a=>a.stopPropagation(),children:[_.jsxs("div",{className:"flex flex-row flex-1 justify-around items-center gap-5 px-5",children:[n.length>1&&_.jsx(qD,{className:"cursor-pointer hover:scale-115",size:24,onClick:()=>i(a=>a-1>=0?a-1:n.length-1)}),_.jsx("img",{src:n[r],alt:"Team Image",className:"h-[70vh] max-w-[80%] object-contain mb-3 select-none relative rounded-lg"}),n.length>1&&_.jsx(cg,{className:"cursor-pointer hover:scale-115",size:24,onClick:()=>i(a=>a+1>n.length-1?0:a+1)})]}),_.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex justify-end",children:_.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition font-medium cursor-pointer",children:"Close"})})]})}):null}function Vde(){const{forms:t,teamInfo:e,teamStats:n,teamImage:r,loadData:i,loadTeamImage:a,loading:o,currentViewingTeam:u,setCurrentViewingTeam:f,tbaData:d,aiOverviews:h,pitForms:p}=Rn();A.useEffect(()=>{i(),a()},[]),A.useEffect(()=>{a(),P(0)},[u]);const[y,b]=A.useState("total_points"),[x,E]=A.useState("comments"),[S,O]=A.useState({key:null,direction:null}),[R,P]=A.useState(0),[V,D]=A.useState(!1),j=M=>{let le=M.replace(/_/g," ");return le=le.replace(/([A-Z])/g," $1"),le=le.charAt(0).toUpperCase()+le.slice(1),le.replace(/\s+/g," ").trim()},k=A.useMemo(()=>(console.log(t),!t||t.length===0?[]:t.filter(M=>Number(M.team_number)===Number(u)).sort((M,le)=>(M.match_number??0)-(le.match_number??0))),[t,u]),I=M=>{let le="desc";S.key===M&&(S.direction==="desc"?le="asc":S.direction==="asc"&&(le=null)),O({key:le?M:null,direction:le})},L=A.useMemo(()=>!S.key||!S.direction?k:[...k].sort((M,le)=>{const be=S.key==="match_number"?M.match_number:Number(M[S.key]??0),G=S.key==="match_number"?le.match_number:Number(le[S.key]??0);return S.direction==="asc"?be-G:G-be}),[k,S]),q=M=>S.key!==M?_.jsx("div",{}):S.direction==="desc"?_.jsx(zD,{size:24,className:"inline ml-1 text-orange-600"}):_.jsx(FD,{size:24,className:"inline ml-1 text-orange-600"}),z=A.useMemo(()=>k.length===0?[]:k.filter(M=>M.match_type=="match").map(M=>({match:M.match_number,value:Number(M[y]??0)})),[k,y]),B=A.useMemo(()=>p.find(M=>Number(M.team_number)===Number(u)),[u,p]);return _.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(sa,{}),_.jsx("main",{className:"pt-20 px-4 md:px-6",children:o||!t.length?_.jsx("div",{className:"text-orange-500 m-15 text-2xl font-bold animate-bounce",children:"Loading data..."}):_.jsxs("div",{className:"max-w-3xl mx-auto",children:[_.jsx("div",{className:"mb-6 fixed left-5 top-21 bg-gray-100 px-4 py-2 rounded-lg shadow-md z-537",children:_.jsx(Rr,{view:u,setView:f,label:"Team: ",options:Object.keys(n).map(Number)})}),_.jsx($de,{isOpen:V,onClose:()=>D(!1),teamImage:r}),r&&r.length>0&&_.jsx("div",{className:"hidden lg:flex flex-row w-3xl flex-wrap justify-center items-center",children:r.map(M=>_.jsx("img",{onClick:()=>D(!0),src:M,alt:`Team ${u}`,className:"mx-3 h-40 w-40 object-cover mb-3 relative rounded-lg cursor-pointer hover:brightness-50"}))}),r&&r.length>0&&_.jsxs("div",{className:"flex lg:hidden flex-row h-50 justify-end items-center gap-5",children:[r.length>1&&_.jsx(qD,{size:24,onClick:()=>P(M=>M-1>=0?M-1:r.length-1)}),_.jsx("img",{onClick:()=>D(!0),src:r[R],alt:`Team ${u}`,className:"h-40 w-40 object-cover mb-3 relative rounded-lg cursor-pointer hover:brightness-50"}),r.length>1&&_.jsx(cg,{size:24,onClick:()=>P(M=>M+1>r.length-1?0:M+1)})]}),(!r||r.length==0)&&_.jsx("div",{className:"mt-16"}),_.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Team ",u," - ",e[u]?.nickname??""]}),_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Rank"}),_.jsx("p",{className:"text-lg font-semibold",children:d?.rankings?.find(M=>M.team_key===`frc${u}`)?.rank??"N/A"})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Record"}),_.jsxs("p",{className:"text-lg font-semibold",children:[d?.rankings?.find(M=>M.team_key===`frc${u}`)?.record?.wins??0,"-",d?.rankings?.find(M=>M.team_key===`frc${u}`)?.record?.losses??0,"-",d?.rankings?.find(M=>M.team_key===`frc${u}`)?.record?.ties??0]})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"OPR"}),_.jsx("p",{className:"text-lg font-semibold",children:Math.round((Number(d?.oprs[`frc${u}`])??0)*10)/10})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Quartile 3 Points"}),_.jsx("p",{className:"text-lg font-semibold",children:n[u]?.total_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Auto Points"}),_.jsx("p",{className:"text-lg font-semibold",children:n[u]?.auto_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Tele Points"}),_.jsx("p",{className:"text-lg font-semibold",children:n[u]?.tele_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Endgame Points"}),_.jsx("p",{className:"text-lg font-semibold",children:n[u]?.endgame_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Total Gamepieces"}),_.jsx("p",{className:"text-lg font-semibold",children:n[u]?.total_gamepieces?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Max Algae Net"}),_.jsx("p",{className:"text-lg font-semibold",children:n[u]?.tele_made_net?.max??0})]})]})]}),h[u]&&_.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[_.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"CoScout Analysis"}),_.jsxs("div",{className:"space-y-3 text-sm",children:[_.jsxs("div",{className:" bg-gray-50 p-3 rounded-lg border border-gray-200",children:[_.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Auto:"})," ",_.jsx("span",{className:"text-gray-700",children:h[u].auto})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[_.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Coral:"})," ",_.jsx("span",{className:"text-gray-700",children:h[u].coral})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[_.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Algae:"})," ",_.jsx("span",{className:"text-gray-700",children:h[u].algae})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[_.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Endgame:"})," ",_.jsx("span",{className:"text-gray-700",children:h[u].endgame})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[_.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Strengths:"})," ",_.jsx("span",{className:"text-gray-700",children:h[u].strengths})]}),_.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-300",children:[_.jsx("span",{className:"text-lg font-semibold text-red-600",children:"Concerns:"})," ",_.jsx("span",{className:"text-gray-700",children:h[u].concerns})]}),_.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:_.jsx("span",{className:"text-gray-600 italic",children:h[u].adjectives})})]})]}),_.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[_.jsx("h3",{className:"text-xl font-bold mb-4",children:"Consistency Graph"}),_.jsx("div",{className:"mb-4",children:_.jsx(Rr,{view:y,setView:b,label:"Field: ",options:jo.filter(M=>M!=="team_number")})}),_.jsx(nu,{width:"100%",height:300,children:_.jsxs(i$,{data:z,children:[_.jsx(yy,{strokeDasharray:"3 3"}),_.jsx(Go,{dataKey:"match",label:{value:"Match",position:"insideBottom",offset:-5}}),_.jsx(Wo,{}),_.jsx(Ch,{animationDuration:50,labelFormatter:M=>`Match ${M}`}),_.jsx(vy,{type:"monotone",dataKey:"value",stroke:"#d8aa84ff",strokeWidth:2,animationDuration:750})]})})]}),_.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[_.jsxs("div",{className:"flex gap-2 mb-4",children:[_.jsx("button",{onClick:()=>E("comments"),className:`px-4 py-2 rounded-full font-medium transition cursor-pointer ${x==="comments"?"bg-orange-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Comments"}),_.jsx("button",{onClick:()=>E("pitScout"),className:`px-4 py-2 rounded-full font-medium transition cursor-pointer ${x==="pitScout"?"bg-orange-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Pit Scouting"})]}),x==="comments"&&_.jsx("div",{children:_.jsx("div",{className:"max-h-64 overflow-y-auto space-y-3 border border-gray-200 rounded p-3",children:k.length>0?k.filter(M=>M.comments).map(M=>_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsxs("span",{className:"font-semibold text-orange-600",children:[M.match_type=="match"?"Match "+M.match_number:Ude(M.match_type)+" match",":"]})," ",_.jsx("span",{className:"text-gray-800",children:M.comments})]},M.id)):_.jsx("div",{className:"text-gray-500",children:"No comments available for this team."})})}),x==="pitScout"&&(B?_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Driver Experience"}),_.jsx("p",{className:"text-lg font-medium text-gray-800",children:B.driver_experience||"N/A"})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Autos"}),_.jsx("p",{className:"text-lg font-medium text-gray-800",children:B.auto_description||"N/A"})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Algae Details"}),_.jsx("p",{className:"text-lg font-medium text-gray-800",children:B.algae_description||"N/A"})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Climb Details"}),_.jsx("p",{className:"text-lg font-medium text-gray-800",children:B.endgame_description||"N/A"})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Final Comments"}),_.jsx("p",{className:"text-lg font-medium text-gray-800",children:B.comments||"N/A"})]})]}):_.jsx("p",{className:"text-gray-500",children:"No pit scout data for this team."}))]}),_.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[_.jsx("h3",{className:"text-xl font-bold mb-4",children:"Match Stats"}),_.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:_.jsxs("table",{className:"min-w-full",children:[_.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-orange-100",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700 cursor-pointer hover:bg-orange-200 transition-colors select-none border-b-2 border-orange-300",onClick:()=>I("match_number"),children:_.jsxs("div",{className:"flex items-center justify-center",children:["Match #",q("match_number")]})}),jo.filter(M=>M!="team_number").map(M=>_.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700 text-sm min-w-20 cursor-pointer hover:bg-orange-200 transition-colors select-none border-b-2 border-orange-300",onClick:()=>I(M),children:_.jsxs("div",{className:"flex items-center justify-center",children:[j(M),q(M)]})},M))]})}),_.jsx("tbody",{className:"divide-y divide-gray-200",children:L.length>0?L.map((M,le)=>_.jsxs("tr",{className:`transition-colors ${le%2===0?"bg-white hover:bg-gray-50":"bg-gray-50 hover:bg-gray-100"}`,children:[_.jsx("td",{className:"px-4 py-3 text-center font-medium text-gray-900",children:M.match_type!="match"?M.match_type.toUpperCase():M.match_number}),jo.filter(be=>be!="team_number").map(be=>_.jsx("td",{className:"px-4 py-3 text-center text-gray-700",children:M[be]??0},be))]},M.id)):_.jsx("tr",{children:_.jsx("td",{className:"px-4 py-8 text-center text-gray-500",colSpan:jo.length+1,children:"No match data available for this team."})})})]})})]}),_.jsxs("div",{className:"mt-8 max-w-3xl mx-auto",children:[_.jsx("h3",{className:"text-xl font-bold mb-4",children:"Match Schedule"}),_.jsx("div",{className:"space-y-2",children:d?.matches.filter(M=>M.alliances.red.team_keys.includes(`frc${u}`)||M.alliances.blue.team_keys.includes(`frc${u}`)).sort((M,le)=>{const be=["qf","sf","f"],G=be.includes(M.comp_level),ae=be.includes(le.comp_level);return G&&!ae?1:!G&&ae?-1:M.match_number-le.match_number}).map(M=>{const le=M.alliances.red.team_keys.includes(`frc${u}`),be=le?M.alliances.red:M.alliances.blue,G=le?M.alliances.blue:M.alliances.red,ae=be.score,ve=G.score,Se=M.winning_alliance?M.winning_alliance==="red"?"Red":M.winning_alliance==="blue"?"Blue":"Tie":null,H=["qf","sf","f"].includes(M.comp_level)?M.comp_level.toUpperCase():null;return _.jsxs("div",{className:`flex flex-row sm:flex-row justify-between items-center sm:items-center px-3 py-1 rounded-lg shadow-sm 
                        ${le?"bg-red-50":"bg-blue-50"}`,children:[_.jsxs("button",{className:"flex flex-row gap-3 p-3 cursor-pointer rounded-md hover:bg-gray-300 transition-bg duration-150",onClick:()=>{if(M.videos?.length>0){const oe=M.videos[0];let ie="";oe.type==="youtube"?ie=`https://www.youtube.com/watch?v=${oe.key}`:oe.type==="tba"&&(ie=`https://www.thebluealliance.com/match/${oe.key}`),ie&&window.open(ie,"_blank")}},children:["                                                    ",M.videos?.length>0&&_.jsx("div",{children:_.jsx(D9,{color:"gray",size:24})}),_.jsxs("div",{className:"font-semibold mb-1 sm:mb-0",children:[H?"Match":"Qual"," ",M.match_number," ",H&&_.jsxs("span",{className:"ml-2 text-sm text-red-600 font-bold",children:["[",H,"]"]})]})]}),_.jsxs("div",{className:"text-gray-700 mb-1 sm:mb-0",children:[_.jsx("div",{className:`${le?"bg-red-200":"bg-blue-200"} px-3 flex flex-row  justify-around rounded-md font-bold mb-1`,children:be.team_keys.map(oe=>oe.replace("frc","")).join(", ")}),_.jsx("div",{className:`${le?"bg-blue-200":"bg-red-200"} px-3 flex flex-row  justify-around rounded-md`,children:G.team_keys.map(oe=>oe.replace("frc","")).join(", ")})]}),_.jsx("div",{className:"text-right mt-1 sm:mt-0",children:ae!=null&&ve!=null?_.jsxs("div",{children:[_.jsxs("div",{className:"font-bold text-lg",children:[ae," - ",ve]}),Se&&_.jsx("div",{className:`text-sm font-semibold ${Se===(le?"Red":"Blue")?"text-green-600":"text-red-600"}`,children:Se===(le?"Red":"Blue")?"Win":"Loss"})]}):M.time?_.jsx("div",{className:"text-sm text-gray-500",children:new Date(M.time*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}):_.jsx("div",{className:"text-sm text-gray-400",children:"TBD"})})]},M.key)})})]}),_.jsx(Lde,{categories:["total_coral","auto_points","tele_points","endgame_points","total_algae","total_gamepieces"]}),_.jsx("div",{className:"mb-30"})]})}),_.jsx(qa,{}),_.jsx(Ns,{})]})}function Ude(t){return typeof t!="string"||t.length===0?t:t.charAt(0).toUpperCase()+t.slice(1)}function Bde({data:t,category:e,show:n}){const r=[...t].sort((p,y)=>y.value-p.value),[i,a]=A.useState(!1),[o,u]=A.useState(-1);Ih();const{setCurrentViewingTeam:f,forms:d,teamInfo:h}=Rn();return _.jsxs("div",{className:"flex flex-row gap-0 w-full mb-10 justify-center",children:[_.jsx(mE,{isOpen:i,onClose:()=>a(!1),forms:d,teamNumber:o,teamInfo:h}),_.jsxs("div",{className:"flex flex-col gap-1 flex-1 max-w-xl min-w-50",children:[_.jsxs("div",{className:"grid grid-cols-3 bg-gray-700 text-white font-bold px-0 py-1 rounded grid-cols-[25%_25%_auto]",children:[_.jsx("div",{className:"text-center cursor-pointer",children:"Rank"}),_.jsx("div",{className:"text-center cursor-pointer",children:"Team"}),_.jsx("div",{className:"text-center cursor-pointer truncate",children:e})]}),r.map((p,y)=>_.jsxs("div",{className:`grid grid-cols-3 px-0 py-1 border-b border-gray-300 grid-cols-[25%_25%_auto] ${y%2===0?"bg-gray-100":"bg-gray-200"}`,children:[_.jsx("div",{className:"text-center",children:y+1}),_.jsx("div",{className:"text-center cursor-pointer hover:text-orange-500 hover:font-bold transition duartion-250",onClick:()=>{u(Number(p.team)),a(!0)},children:p.team}),_.jsx("div",{className:"text-center",children:p.value})]},p.team))]}),n&&_.jsx("div",{className:"flex-3 h-[50px * data.length] pt-8",children:_.jsx(nu,{width:"100%",height:"100%",children:_.jsxs(_v,{data:r,layout:"vertical",margin:{left:20},children:[_.jsx(Go,{type:"number",hide:!0}),_.jsx(Wo,{type:"category",dataKey:"team",hide:!0,interval:0}),_.jsx(Ch,{isAnimationActive:!1}),_.jsx(nf,{dataKey:"value",fill:"#FF7F50",label:{position:"insideRight",fill:"white"}})]})})})]})}const zde=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()};function qde(){const{teamStats:t,loading:e,loadData:n}=Rn();Ih();const[r,i]=A.useState("total_points"),[a,o]=A.useState("median"),[u,f]=A.useState(!0),d=Object.entries(t).map(([h,p])=>({team:h,value:p[r][a]})).sort((h,p)=>p.value-h.value);return A.useEffect(()=>{n()},[]),_.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[_.jsx(sa,{}),_.jsxs("main",{className:"pt-20 px-0 md:px-6",children:[e?_.jsx("div",{className:"text-orange-500 m-15 text-2xl font-bold animate-bounce",children:"Loading data..."}):_.jsxs("div",{children:[_.jsxs("div",{className:"flex flex-col lg:flex-row gap-5",children:[_.jsx(Rr,{view:r,setView:i,label:"Category:",options:jo.filter(h=>h!="team_number")}),_.jsx(Rr,{view:a,setView:o,label:"Type:",options:["min","mean","median","q3","max"]}),_.jsx(Rr,{view:u,setView:h=>f(h===!0||h==="true"),label:"Show graph:",options:[!0,!1]})]}),_.jsx("div",{className:"h-10"}),_.jsx(Bde,{data:d,category:zde(r),show:u})]}),_.jsx(qa,{}),_.jsx(Ns,{})]})]})}function Fde(){const{loading:t,loadData:e,eventName:n,setEventName:r,eventKeys:i,usePracticeData:a,setUsePracticeData:o,teamInfo:u,forms:f,tbaData:d,pitForms:h}=Rn();A.useEffect(()=>{e()},[]);const y=BM(qM,{model:"gemini-2.5-flash",generationConfig:{temperature:.6,topP:.1,topK:16},systemInstruction:"You are a scouting assistant on team 3197, the hexhounds, competing in FRC robotics. give helpful tips that will help our team win, use insights from our data to answer questions"});async function b(){const O=[`Provide a team overview for each team. Make it a few sentences, specifically touch on any struggles, what their auto does, endgame capabilities, tele-operated scoring, algae/coral capabilities, and how good they are for picking. It is good to cite match numbers for specifics, but if match_type is practice or pre, then cite it as practice or pre match instead of the match number. If match number is over 500, then say practice match instead of number. Respond with short sentences/commas in the following format as a VALID JSON, 9999 being their team number:
            {
            [
            9999: {
                "auto": "Talk about their known auto modes from matches & pit scouting, where they start, consistency, etc. There is no defense in auto period",
                "coral": "Talk about their known coral capabilities from matches & pit scouting, what levels they can do, consistency, etc",
                "algae": "Talk about their known algae capabilities from matches & pit scouting, consistency, etc",
                "endgame": "Talk about their known endgames from matches & pit scouting, how long it takes to climb, consistency, etc",
                "strengths": "Talk about their relative strengths, what could make them better from other teams",
                "concerns": "This is the most important, talk about any known issues, worries, bad matches, concerns about the team & robot, it is critical to cite match numbers/ practice or pre here",
                "adjectives": "describe the words with a couple adjectives (such as strong, inconsistent, swift, etc)",
            }
            ]
        }
            `,"Only include the teams in the array below...",JSON.stringify([...new Set(f.map(D=>D.team_number))]),JSON.stringify(u),JSON.stringify(f),JSON.stringify(d),JSON.stringify(h)];var R;try{R=await y.generateContent(O),alert("Successfully generated overviews... uploading now.")}catch(D){alert("Error: "+D)}return(R?.response??null)?.text()??"{}"}async function x(){const O=["Provide match analysis for each match. If it is completed then analyze how each team performed in a sentence or two and why one alliance won. If it is upcoming provide ideas for how each alliance can win and your prediction.","Respond in a json format with 'match' concatenated with the number as the key followed by the output.","Make it concise, interesting to read as a quick overview for someone who missed the match and wants to know why one alliance won. you may add critical feedback or sarcasm but be professional and not mean","Scoring guide: auto : {l1: 3, l2: 4, l3: 6, l4: 7, leave: 3, algaenet:4, algaeProcessor:2}, tele : {l1: 2, l2:3, l3: 4, l4: 5, algaenet:4, algaeProcessor:2}, endgame: {deep climb: 12, park: 2, can only have one or the other}","Only do qual matches, not playoff (f, sf, etc)",JSON.stringify(u),JSON.stringify(f),JSON.stringify(d),JSON.stringify(h)];var R;try{R=await y.generateContent(O),alert("Successfully generated overviews... uploading now.")}catch(D){alert("Error: "+D)}return(R?.response??null)?.text()??"{}"}async function E(){try{alert("Sending message to ai...");const O=await b();console.warn(O);const R=O.replace(/`/g,"").replace("json","");console.warn(R);const P=JSON.parse(R);console.warn(P);const V=Ag(Pg,"aiOverview","overview");await fC(V,P,{merge:!0}),alert("All good! Finished fully.")}catch(O){alert("Error: "+O)}}async function S(){try{alert("Sending message to ai...");const O=await x();console.warn(O);const R=O.replace(/`/g,"").replace("json","");console.warn(R);const P=JSON.parse(R);console.warn(P);const V=Ag(Pg,"aiOverview","match");await fC(V,P,{merge:!0}),alert("All good! Finished fully.")}catch(O){alert("Error: "+O)}}return _.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(sa,{}),_.jsx("main",{className:"pt-20 px-0 md:px-6 pr-10",children:t?_.jsx("div",{className:"text-orange-500",children:"Loading data..."}):_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx(Rr,{view:n,setView:r,label:"Event Name: ",options:i}),_.jsx(Rr,{view:a,setView:o,label:"Include practice/pre scout data ",options:[!0,!1]}),_.jsx("button",{className:"cursor-pointer border-2 border-orange-400 px-2 py-1 text-lg rounded-md hover:bg-orange-700 hover:text-white transition duration-500",onClick:()=>{prompt("Put in a password to prevent abuse:")==="TyTy77"&&(alert("Generating ai overviews, play stay on the page until it either errors or succeeds... please close this dialogue."),E())},children:"Generate Team Overviews"}),_.jsx("button",{className:"cursor-pointer border-2 border-orange-400 px-2 py-1 text-lg rounded-md hover:bg-orange-700 hover:text-white transition duration-500",onClick:()=>{prompt("Put in a password to prevent abuse:")==="TyTy77"&&(alert("Generating ai overviews, play stay on the page until it either errors or succeeds... please close this dialogue."),S())},children:"Generate Match Overviews"})]})}),_.jsx(qa,{})]})}function Hde(){const{loading:t,loadData:e,forms:n,tbaData:r,pitForms:i,teamInfo:a}=Rn(),[o,u]=A.useState(""),[f,d]=A.useState([{message:"Hi ai.",sender:"you"},{message:"Hey human!",sender:"ai"}]),[h,p]=A.useState(!1),b=BM(qM,{model:"gemini-2.5-flash",generationConfig:{temperature:.6,topP:.1,topK:16},systemInstruction:"You are a scouting assistant on team 3197, the hexhounds, competing in FRC robotics. give helpful tips that will help our team win, use insights from our data to answer questions"});async function x(E){const S=E;p(!0),u(""),d(D=>[...D,{message:S,sender:"you"}]);const O=["For team names you can reference teamInfo nickname data supplied, favor totalPoints in our scouting data more than opr","If they ask about a team using its name, find its corresponding number in teamInfo and then answer","Getting rank points help you improve rank. 3 for winning, 1 for 14+ points in endgame, 1 for auto mobility + 1 or more coral, and one for 4 levels with 5+ coral","Try to be as quick and concise as possible. don't write more than one or two paragraphs unless it asks for analysis","Scoring guide: auto : {l1: 3, l2: 4, l3: 6, l4: 7, leave: 3, algaenet:4, algaeProcessor:2}, tele : {l1: 2, l2:3, l3: 4, l4: 5, algaenet:4, algaeProcessor:2}, endgame: {deep climb: 12, park: 2, can only have one or the other}","Use scoring rules, team roles, and match strategies",S,JSON.stringify(a),JSON.stringify(n),JSON.stringify(r),JSON.stringify(i)],V=(await b.generateContent(O)).response.text();return p(!1),d(D=>[...D,{message:V,sender:"ai"}]),V}return A.useEffect(()=>{e()},[]),_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(sa,{}),_.jsx("main",{className:"pt-20 px-4 md:px-6 h-screen flex flex-col items-center pb-10",children:t?_.jsx("div",{className:"text-orange-500",children:"Loading data..."}):_.jsxs("div",{className:"flex flex-col items-center w-full max-w-4xl h-full gap-4",children:[_.jsx("div",{className:"text-2xl px-5 py-2 md:px-10 md:py-5 bg-gray-100 shadow-lg rounded-lg text-center w-full",children:"CoScout, the scouting assistant."}),_.jsxs("div",{className:"flex-1 w-full bg-gray-50 border-2 border-gray-100 rounded-lg p-4 md:p-5 flex flex-col gap-2 md:gap-4 overflow-y-auto",children:[f.map((E,S)=>{const O=E.sender==="you",R=P=>P.split(/\n/).flatMap(D=>D.startsWith("* ")?["*",D.slice(2)]:[D]).map((D,j)=>{if(D==="*")return _.jsx("br",{},j);const k=D.split(/\*\*/);return _.jsxs("div",{className:D.startsWith("*")?"flex gap-2":"",children:[D.startsWith("*")&&_.jsx("span",{children:"•"}),k.map((I,L)=>L%2===1?_.jsx("strong",{children:I},L):I)]},j)});return _.jsx("div",{className:`px-3 py-2 rounded-md shadow-sm max-w-full sm:max-w-[80%] my-1 self-${O?"end":"start"} ${O?"bg-orange-300":"bg-gray-200"}`,children:R(E.message)},S)}),h&&_.jsx("div",{className:"flex justify-start sm:justify-start",children:_.jsx(p9,{size:28,className:"animate-pulse"})})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-end w-full",children:[_.jsx("textarea",{value:o,onChange:E=>u(E.target.value),placeholder:"Send text here...",rows:3,className:"border-2 border-gray-400 active:border-gray-500 resize-none text-md px-4 py-3 bg-gray-100 shadow-lg rounded-lg w-full sm:w-auto flex-1"}),_.jsx("button",{onClick:()=>{o.length>0&&x(o)},className:"bg-orange-300 w-full sm:w-16 h-12 flex items-center justify-center rounded-lg cursor-pointer hover:shadow-lg hover:bg-orange-400 transition duration-200",children:_.jsx(T9,{size:28})})]})]})}),_.jsx(qa,{}),_.jsx(Ns,{})]})}const Kde=({matchObject:t})=>{const{forms:e}=Rn(),n=t.alliances.blue.team_keys.map(d=>d.replace(/^frc/,"")),r=t.alliances.red.team_keys.map(d=>d.replace(/^frc/,"")),i=[...n,...r],a=["#FF0000","#FF4D4D","#CC0000"],o=["#3B82F6","#60A5FA","#1E40AF"],u=e.filter(d=>d.matchNumber==t.match_number&&i.includes(d.teamNumber));var f={match:t.match_number};return u.map(d=>{f[`${n.includes(String(d.teamNumber))?"b":"R"}${String(d.teamNumber)}`]=d.totalPoints}),_.jsxs("div",{className:"w-full h-35 bg-white rounded-xl p-1 shadow-md mt-5 flex flex-col",children:[_.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Scoring Distribution"}),_.jsx(nu,{width:"100%",height:"100%",children:_.jsxs(_v,{layout:"vertical",data:[f],children:[_.jsx(Go,{type:"number",domain:[0,100],tickFormatter:d=>`${d.toFixed(0)}%`,hide:!0}),_.jsx(Wo,{type:"category",dataKey:"match",width:10,hide:!0}),_.jsx(Zl,{verticalAlign:"top",height:36,formatter:d=>d.replace("R","").replace("b","")}),Object.keys(f).sort().map((d,h)=>{if(d!="match")return _.jsx(nf,{dataKey:d,stackId:"stack",fill:d.includes("R")?a.pop():o.pop(),children:_.jsx(aa,{dataKey:d,position:"center",formatter:p=>`${p}`,fill:"white",offset:0})},h)})]})})]})},fD="viewingModeMatches",dD="viewingTeamMatches";function Gde(){const{loadData:t,tbaData:e,eventName:n,aiMatches:r,forms:i,teamStats:a}=Rn(),[o,u]=A.useState([]),[f,d]=A.useState(null),[h,p]=A.useState(!1),[y,b]=A.useState(sessionStorage.getItem(fD)??"All"),[x,E]=A.useState(parseInt(sessionStorage.getItem(dD)??"3197")),S={};return e?.rankings?.rankings&&e.rankings.rankings.forEach(O=>{S[`frc${O.team_key}`]=O.rank}),A.useEffect(()=>{sessionStorage.setItem(fD,y)},[y]),A.useEffect(()=>{sessionStorage.setItem(dD,String(x))},[x]),A.useEffect(()=>{if(!e){t();return}if(e.matches){p(!0);const O=[...e.matches].sort((R,P)=>{const V=["qm","ef","qf","sf","f"],D=V.indexOf(R.comp_level),j=V.indexOf(P.comp_level);return D!==j?D-j:R.match_number-P.match_number});u(O),p(!1)}},[e,t]),_.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[_.jsx(sa,{}),_.jsxs("main",{className:"pt-20 px-2 md:px-6 flex flex-col items-center",children:[_.jsxs("h2",{className:"text-xl font-semibold mb-3",children:["Matches for Event: ",n]}),_.jsx(Rr,{view:y,setView:b,label:"View: ",options:["All","Team","Hypothetical"]}),y=="Team"&&_.jsx("div",{className:"mt-4",children:_.jsx(Rr,{view:x,setView:E,label:"Viewing team: ",options:Object.keys(a).map(Number)})}),_.jsx("div",{className:"h-10"}),h?_.jsx("div",{className:"text-orange-500 text-center",children:"Loading matches..."}):y!="Hypothetical"&&_.jsx("div",{className:"flex flex-col gap-2",children:o.filter(O=>y=="All"||[...O.alliances.red.team_keys.map(R=>R.replace("frc","")),...O.alliances.blue.team_keys.map(R=>R.replace("frc",""))].includes(String(x))).map(O=>{const{red:R,blue:P}=O.alliances,V=R.score!=null&&P.score!=null?R.score>P.score?"red":P.score>R.score?"blue":"tie":null,D=f===O.key;return _.jsxs("div",{className:"w-full max-w-xl ml-auto mr-auto p-3 rounded-lg shadow-sm bg-white border-2 border-gray-200 hover:border-gray-500 h-auto transition",children:[_.jsx("button",{className:"w-full transition cursor-pointer",onClick:()=>d(D?null:O.key),children:_.jsxs("div",{className:"flex flex-row items-center justify-between mt-1",children:[_.jsx("div",{className:`flex flex-col items-end text-md ${V==="red"?"text-red-500 font-bold":"text-red-900 font-regular"}`,children:R.team_keys.map(j=>{const k=j.replace("frc","");return _.jsxs("div",{className:"flex gap-1",children:[_.jsx("span",{children:k}),S[j]&&_.jsxs("span",{className:"text-gray-400",children:["#",S[j]]})]},j)})}),_.jsxs("div",{className:"mx-3 flex flex-col items-center font-bold justify-center gap-2",children:[_.jsxs("div",{className:"font-medium",children:[O.comp_level.toUpperCase()," ",O.match_number]}),R.score!=null&&P.score!=null?_.jsx(_.Fragment,{children:_.jsxs("div",{className:`px-2 py-0.5 rounded text-xl ${V==="red"?"bg-red-100 text-red-700":V==="blue"?"bg-blue-100 text-blue-700":"bg-gray-100"}`,children:[R.score," - ",P.score]})}):_.jsx("div",{className:"text-gray-400",children:"Upcoming"})]}),_.jsx("div",{className:`flex flex-col items-start text-md ${V==="blue"?"text-blue-500 font-bold":"text-blue-900 font-regular"}`,children:P.team_keys.map(j=>{const k=j.replace("frc","");return _.jsxs("div",{className:"flex gap-1",children:[_.jsx("span",{children:k}),S[j]&&_.jsxs("span",{className:"text-gray-400",children:["#",S[j]]})]},j)})})]})}),_.jsxs("div",{className:`mt-2 border-t pt-2 text-md text-gray-600 space-y-1 overflow-y-auto transition-all duration-300 ${D?"max-h-70 opacity-100":"max-h-0 opacity-0"}`,children:[O.time&&_.jsxs("div",{children:["Time:"," ",new Date(O.time*1e3).toLocaleString([],{hour:"2-digit",minute:"2-digit"})]}),O.videos?.length?_.jsxs("div",{className:"flex flex-row items-center",children:["Videos:"," ",O.videos.map(j=>{const k=j.type==="youtube"?`https://www.youtube.com/watch?v=${j.key}`:`https://www.thebluealliance.com/match/${O.key}`;return _.jsx("button",{onClick:()=>window.open(k,"_blank"),className:"ml-2 cursor-pointer bg-gray-50 hover:bg-gray-200 transition px-2 py-1 rounded-sm",children:_.jsx(q9,{className:"hover:scale-[1.25] transition",color:"darkorange"})})})]}):_.jsx("div",{children:"No videos yet"}),D&&_.jsx(Kde,{matchObject:O}),r["match"+O.match_number]&&O.comp_level==="qm"&&_.jsxs("div",{className:"mt-0 bg-white p-2",children:[_.jsx("h3",{className:"text-md font-bold mb-2",children:"CoScout Analysis"}),_.jsx("h5",{className:"text-sm mb-4",children:r["match"+O.match_number]})]})]})]},O.key)})}),_.jsx(qa,{}),_.jsx(Ns,{})]})]})}function Wde(){const{teamStats:t,loading:e,loadData:n}=Rn();return A.useEffect(()=>{n()},[]),_.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[_.jsx(sa,{}),_.jsxs("main",{className:"pt-20 px-0 md:px-6",children:[e?_.jsx("div",{className:"text-orange-500 m-15 text-2xl font-bold animate-bounce",children:"Loading data..."}):_.jsx("div",{}),_.jsx(qa,{}),_.jsx(Ns,{})]})]})}function Yde(t,e,n=.05){const r=t.length,i=e.length;if(r<2||i<2)throw new Error("Each sample must have at least 2 points.");const a=t.reduce((S,O)=>S+O,0)/r,o=e.reduce((S,O)=>S+O,0)/i,u=t.reduce((S,O)=>S+(O-a)**2,0)/(r-1),f=e.reduce((S,O)=>S+(O-o)**2,0)/(i-1),d=Math.sqrt(u/r+f/i),h=(a-o)/d,p=(u/r+f/i)**2/(u**2/((r-1)*r**2)+f**2/((i-1)*i**2)),y=2*(1-Qde(Math.abs(h),p)),b=Jde(1-n/2,p),x=a-o-b*d,E=a-o+b*d;return{mean1:a,mean2:o,diff:a-o,t:h,df:p,pTwoTailed:y,ci95:[x,E]}}function Xde(t,e,n){const r=t===0||t===1?0:Math.exp(Dw(e+n)-Dw(e)-Dw(n)+e*Math.log(t)+n*Math.log(1-t));return t<(e+1)/(e+n+2)?r*hD(t,e,n)/e:1-r*hD(1-t,n,e)/n}function hD(t,e,n){let a=1,o=1,u=1,f=e+n,d=e+1,h=e-1,p=1-f*t/d;for(let y=1;y<=100;y++){const b=y,x=b+b,E=b*(n-y)*t/((h+x)*(e+x)),S=u+E*a,O=p+E*o,R=-(e+b)*(f+b)*t/((e+x)*(d+x)),P=S+R*u,V=O+R*p,D=u;if(a=S/V,o=O/V,u=P/V,p=1,Math.abs(u-D)<3e-7*Math.abs(u))return u}return u}function Dw(t){const e=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];let n=t,r=n,i=n+5.5;i-=(n+.5)*Math.log(i);let a=1.000000000190015;for(let o=0;o<=5;o++)a+=e[o]/++r;return Math.log(2.5066282746310007*a/n)-i}function Qde(t,e){const n=e/(e+t*t),r=e/2;return 1-.5*Xde(n,r,.5)}function Jde(t,e){const n=1/(e-.5),r=48/(n*n),i=(20700*n/r-98)*n-16,a=n*(94.5/(r+i)-3)*n+1;return Math.sqrt(e*(Math.pow(Zde(t),2)/a))}function Zde(t){const e=-39.6968302866538,n=220.946098424521,r=-275.928510446969,i=138.357751867269,a=-30.6647980661472,o=2.50662827745924,u=-54.4760987982241,f=161.585836858041,d=-155.698979859887,h=66.8013118877197,p=-13.2806815528857,y=-.00778489400243029,b=-.322396458041136,x=-2.40075827716184,E=-2.54973253934373,S=4.37466414146497,O=2.93816398269878,R=.00778469570904146,P=.32246712907004,V=2.44513413714299,D=3.75440866190742,j=.02425,k=1-j;let I,L;return t<j?(I=Math.sqrt(-2*Math.log(t)),(((((y*I+b)*I+x)*I+E)*I+S)*I+O)/((((R*I+P)*I+V)*I+D)*I+1)):k<t?(I=Math.sqrt(-2*Math.log(1-t)),-(((((y*I+b)*I+x)*I+E)*I+S)*I+O)/((((R*I+P)*I+V)*I+D)*I+1)):(I=t-.5,L=I*I,(((((e*L+n)*L+r)*L+i)*L+a)*L+o)*I/(((((u*L+f)*L+d)*L+h)*L+p)*L+1))}function ehe(t,e){const n=["tele_l4","tele_l3","tele_l2","tele_l1"];let i=0;for(const a of t){const o={tele_l4:0,tele_l3:0,tele_l2:0,tele_l1:0};a.forEach(f=>{let d=f.total_coral??0;const h=ai({forms:e,team:f.team_number,key:"tele_l4",matchPercentageThresh:.1}),p=ai({forms:e,team:f.team_number,key:"tele_l3",matchPercentageThresh:.1}),y=ai({forms:e,team:f.team_number,key:"tele_l2",matchPercentageThresh:.1}),b=ai({forms:e,team:f.team_number,key:"tele_l1",matchPercentageThresh:.25}),x={tele_l4:h,tele_l3:p||h,tele_l2:y||p||h,tele_l1:b};for(const E of n){if(x[E]||console.error(f.team_number+" CANNOT DO "+E),!x[E]||o[E]>=5)continue;const S=5-o[E],O=Math.min(d,S);if(o[E]+=O,d-=O,d<=0)break}}),n.every(f=>o[f]>=5)&&i++}return console.warn(i),Math.round(i/t.length*100*10)/10}function the(t,e){const n=["tele_l4","tele_l3","tele_l2","tele_l1"];let i=0;for(const a of t){const o={tele_l4:0,tele_l3:0,tele_l2:0,tele_l1:0};a.forEach(d=>{let h=d.total_coral??0;const p=ai({forms:e,team:d.team_number,key:"tele_l4",matchPercentageThresh:.1}),y=ai({forms:e,team:d.team_number,key:"tele_l3",matchPercentageThresh:.1}),b=ai({forms:e,team:d.team_number,key:"tele_l2",matchPercentageThresh:.1}),x=ai({forms:e,team:d.team_number,key:"tele_l1",matchPercentageThresh:.25}),E={tele_l4:p,tele_l3:y||p,tele_l2:b||y||p,tele_l1:x};for(const S of n){if(E[S]||console.error(d.team_number+" CANNOT DO "+S),!E[S]||o[S]>=5)continue;const O=5-o[S],R=Math.min(h,O);if(o[S]+=R,h-=R,h<=0)break}}),n.filter(d=>o[d]>=5).length>=3&&i++}return console.warn(i),Math.round(i/t.length*100*10)/10}function nhe(t){return Math.round(t.map(e=>e.map(n=>n.endgame_points).reduce((n,r)=>n+r,0)).filter(e=>e>=14).length/t.length*100*10)/10}function ai({forms:t,team:e,key:n,matchPercentageThresh:r}){let i=t.filter(a=>a.team_number==e);return i.filter(a=>a[n]).length/i.length>r}function rhe(t,e){var n=[];const i=["tele_l4","tele_l3","tele_made_net","tele_l2","tele_l1"];for(const f of t){const d={tele_l4:f.map(b=>b.auto_l4).reduce((b,x)=>b+x,0),tele_l3:f.map(b=>b.auto_l3).reduce((b,x)=>b+x,0),tele_made_net:f.map(b=>b.auto_made_net).reduce((b,x)=>b+x,0),tele_l2:f.map(b=>b.auto_l2).reduce((b,x)=>b+x,0),tele_l1:f.map(b=>b.auto_l1).reduce((b,x)=>b+x,0)};let h=f.map(b=>b.auto_points+b.endgame_points).reduce((b,x)=>b+x,0),p=f.map(b=>b.auto_points).reduce((b,x)=>b+x,0),y=f.map(b=>b.endgame_points).reduce((b,x)=>b+x,0);f.forEach(b=>{let x=[b.tele_l4,b.tele_l3,b.tele_l2,b.tele_l1].map(j=>j??0).reduce((j,k)=>j+k,0);x=Math.round(x*.85);let E=b.tele_made_net??0;const S=ai({forms:e,team:b.team_number,key:"tele_l4",matchPercentageThresh:.1}),O=ai({forms:e,team:b.team_number,key:"tele_l3",matchPercentageThresh:.1}),R=ai({forms:e,team:b.team_number,key:"tele_l2",matchPercentageThresh:.1}),P=ai({forms:e,team:b.team_number,key:"tele_l1",matchPercentageThresh:.25}),V={tele_l4:S,tele_l3:O||S,tele_l2:R||O||S,tele_l1:P,tele_made_net:ai({forms:e,team:b.team_number,key:"tele_made_net",matchPercentageThresh:.15})};for(const j of i){if(V[j]||console.error(b.team_number+" CANNOT DO "+j),!V[j]||d[j]>=12)continue;const k=12-d[j];var D;if(j=="tele_made_net"?D=Math.min(E,k):D=Math.min(x,k),d[j]+=D,j=="tele_made_net"?E-=D:x-=D,x<=0)break}}),h+=(d.tele_l4-f.map(b=>b.auto_l4).reduce((b,x)=>b+x,0))*5,h+=(d.tele_l3-f.map(b=>b.auto_l3).reduce((b,x)=>b+x,0))*4,h+=(d.tele_made_net-f.map(b=>b.auto_made_net).reduce((b,x)=>b+x,0))*4,h+=(d.tele_l2-f.map(b=>b.auto_l2).reduce((b,x)=>b+x,0))*3,h+=(d.tele_l1-f.map(b=>b.auto_l1).reduce((b,x)=>b+x,0))*2,n.push({autoPoints:p,endgamePoints:y,pieceDistribution:d,totalScore:h})}const a=n.map(f=>({score:f.totalScore,outcome:f}));a.sort((f,d)=>f.score-d.score);const o=a.map(f=>f.score),u=a.map(f=>f.outcome);return{allScores:o,badOutcome:u[0],medianOutcome:u[Math.round(u.length/2)],optimalOutcome:u[u.length-1]}}function Nh({teams:t,forms:e}){let n=0,r=0,i=0,a=0,o=0,u=0,f=0,d=0;console.log("Running predictions...");const h=t.map(x=>e.filter(E=>E.team_number===x)).filter(x=>x.length>0);console.log(h);let p=[];function y(x){return x.length===0?[]:x.reduce((E,S)=>E.flatMap(O=>S.map(R=>[...O,R])),[[]])}p=y(h);const b=rhe(p,e);return n=b.allScores[b.allScores.length-1],r=b.allScores[0],u=LH(b.allScores),f=FM(b.allScores),d=MH(b.allScores),{maximumScore:Math.round(10*n)/10,minimumScore:Math.round(10*r)/10,rankPointScore:Math.round(10*i)/10,rankPointLikelihood:Math.round(10*a)/10,defendedScores:Math.round(10*o)/10,meanScore:Math.round(10*u)/10,medianScore:Math.round(10*f)/10,q3Score:Math.round(10*d)/10,percentageCoralCoopRP:the(p,e),percentageCoralNormalRP:ehe(p,e),percentageBargeRP:nhe(p),rawResponse:b}}function ihe({allianceA:t,allianceB:e,forms:n}){const r=Nh({teams:t,forms:n}),i=Nh({teams:e,forms:n});return{allianceScorePredictionA:r,allianceScorePredictionB:i,winningPercentages:[]}}function mD({allianceA:t,allianceB:e,forms:n}){const r=Nh({teams:t,forms:n}),i=Nh({teams:e,forms:n});return Yde(r.rawResponse.allScores,i.rawResponse.allScores,.95)}const ahe=[{id:"auto-viewer",name:"Autonomous Viewer",icon:A1},{id:"match-prediction",name:"Match Predictor",icon:GD},{id:"alliance-selection",name:"Alliance Selection",icon:KD},{id:"ranking",name:"Rank Simulation",icon:HD}];function she(){const[t,e]=A.useState("match-prediction"),[n,r]=A.useState(!1),{forms:i,teamStats:a,loading:o,columnPercentiles:u,loadData:f,teamInfo:d}=Rn();return A.useEffect(()=>{f()},[]),_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(sa,{}),_.jsxs("main",{className:"pt-16 flex h-screen",children:[_.jsxs("div",{className:`bg-white border-r border-gray-200 transition-all duration-300 ${n?"w-16":"w-64"} flex flex-col shadow-lg`,children:[_.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[!n&&_.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Sandboxes"}),_.jsx("button",{onClick:()=>r(!n),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:n?_.jsx(f9,{size:20,className:"text-gray-600"}):_.jsx(u9,{size:20,className:"text-gray-600"})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:ahe.map(h=>{const p=h.icon;return _.jsxs("button",{onClick:()=>e(h.id),className:`w-full cursor-pointer flex items-center gap-3 p-3 rounded-lg transition mb-2 ${t===h.id?"bg-orange-100 text-orange-700 font-semibold":"text-gray-700 hover:bg-gray-100"}`,title:n?h.name:"",children:[_.jsx(p,{size:20}),!n&&_.jsx("span",{className:"text-sm whitespace-nowrap",children:h.name})]},h.id)})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto",children:o?_.jsx("div",{className:"text-orange-500 m-15 text-2xl font-bold animate-bounce",children:"Loading data..."}):_.jsxs("div",{className:"p-6",children:[t==="auto-viewer"&&_.jsx(ohe,{}),t==="match-prediction"&&_.jsx(lhe,{}),t==="alliance-selection"&&_.jsx(uhe,{}),t==="strategy-sim"&&_.jsx(che,{})]})})]}),_.jsx(qa,{}),_.jsx(Ns,{})]})}function ohe(){const[t,e]=A.useState([-1,-1,-1]),[n,r]=A.useState("Descriptions"),{forms:i,teamStats:a,loading:o,columnPercentiles:u,loadData:f,teamInfo:d,pitForms:h,aiOverviews:p}=Rn();return _.jsx("div",{className:"max-w-6xl mx-auto",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[_.jsx(A1,{className:"text-orange-500"}),"Autonomous Viewer"]}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Visualize autonomous routines and starting positions for teams"}),_.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-gray-300 max-w-lg mb-5",children:[_.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Selected Alliance"}),t.map((y,b)=>_.jsxs("select",{value:y,onChange:x=>{const E=[...t];E[b]=parseInt(x.target.value),e(E)},className:"w-full px-3 py-2 mb-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 hover:ring-2 hover:ring-orange-300 cursor-pointer",children:[_.jsx("option",{value:-1,children:"Blank slot"},-1),Object.keys(a).map(x=>a[parseInt(x)]).map((x,E)=>_.jsx("option",{value:x.team_number?.mean??-1,children:x.team_number?.mean},E))]},b))]}),_.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-gray-300",children:[_.jsxs("div",{className:"flex flex-row items-center gap-4",children:[_.jsx("h3",{className:"text-lg font-bold text-gray-800 mr-5",children:"Side-by-side"}),_.jsx("button",{onClick:()=>r("Descriptions"),className:`${n=="Descriptions"?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"} px-5 py-2 rounded-full font-semibold select-none cursor-pointer transition hover:brightness-85`,children:" Descriptions"}),_.jsx("button",{onClick:()=>r("Matches"),className:`${n=="Matches"?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"} px-5 py-2 rounded-full font-semibold select-none cursor-pointer transition hover:brightness-85`,children:" Matches"})]}),_.jsx("div",{className:"flex flex-col lg:flex-row pt-5 gap-5",children:t.filter(y=>y!=-1).map(y=>{const b=h.find(x=>Number(x.team_number)===y);return n=="Descriptions"?_.jsxs("div",{className:"lg:flex-1 flex flex-col gap-4 items-center border-1 rounded-xl border-gray-400",children:[_.jsxs("h3",{className:"text-2xl underline text-gray-800 mt-5",children:["TEAM ",y]}),b&&_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg w-full",children:[_.jsx("p",{className:"text-gray-500",children:"Pit Scouting"}),_.jsx("p",{className:"text-lg font-medium text-gray-800",children:b.auto_description||"N/A"})]}),!b&&_.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:_.jsx("p",{className:"text-gray-500",children:"No pit scout data for this team."})}),p[y]&&_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[_.jsx("p",{className:"text-gray-500",children:"AI Overview"}),_.jsx("p",{className:"text-lg font-semibold text-gray-800",children:p[y].auto??"N/A"})]}),!p[y]&&_.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:_.jsx("p",{className:"text-gray-500",children:"No AI overview for this team."})})]}):_.jsx("div",{})})})]})]})})}function lhe(){const[t,e]=A.useState([-1,-1,-1]),[n,r]=A.useState([-1,-1,-1]),[i,a]=A.useState(null),[o,u]=A.useState(null),[f,d]=A.useState(),{forms:h,teamStats:p,loading:y,columnPercentiles:b,loadData:x,teamInfo:E}=Rn(),S=()=>{O=="Single"?a(Nh({teams:t.filter(P=>P!=-1),forms:h})):O=="Double"&&(u(ihe({allianceA:t.filter(P=>P!=-1),allianceB:n.filter(P=>P!=-1),forms:h})),d(mD({allianceA:t.filter(P=>P!=-1),allianceB:n.filter(P=>P!=-1),forms:h})),console.log(mD({allianceA:t.filter(P=>P!=-1),allianceB:n.filter(P=>P!=-1),forms:h})))},[O,R]=A.useState("Single");return _.jsx("div",{className:"max-w-4xl mx-auto mb-50",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[_.jsx(GD,{className:"text-orange-500"}),"Hypothetical Match Predictor"]}),_.jsx("p",{className:"text-gray-600 mb-6",children:"Predict match outcomes based on team statistics"}),_.jsx(Rr,{view:O,setView:R,label:"Prediction type",options:["Single","Double"]}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6 mt-6",children:[_.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-orange-300",children:[_.jsx("h3",{className:"text-lg font-bold text-black-700 mb-3",children:"Alliance A"}),t.map((P,V)=>_.jsxs("select",{value:P,onChange:D=>{const j=[...t];j[V]=parseInt(D.target.value),e(j)},className:"w-full px-3 py-2 mb-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 hover:ring-2 hover:ring-orange-300 cursor-pointer",children:[_.jsx("option",{value:-1,children:"Blank slot"},-1),Object.keys(p).map(D=>p[parseInt(D)]).map((D,j)=>_.jsx("option",{value:D.team_number?.mean??-1,children:D.team_number?.mean},j))]},V))]}),O=="Double"&&_.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-orange-300",children:[_.jsx("h3",{className:"text-lg font-bold text-black-700 mb-3",children:"Alliance B"}),n.map((P,V)=>_.jsxs("select",{value:P,onChange:D=>{const j=[...n];j[V]=isNaN(parseInt(D.target.value))?-1:parseInt(D.target.value),r(j)},className:"w-full px-3 py-2 mb-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 hover:ring-2 hover:ring-orange-300 cursor-pointer",children:[_.jsx("option",{value:-1,children:"Blank slot"},-1),Object.keys(p).map(D=>p[parseInt(D)]).map((D,j)=>_.jsx("option",{value:D.team_number?.mean??-1,children:D.team_number?.mean},j))]},V))]})]}),_.jsx("button",{onClick:S,className:"w-full cursor-pointer bg-orange-500 text-white py-3 rounded-lg font-semibold hover:bg-orange-600 transition shadow-md",children:"Predict Match Outcome"}),O=="Double"&&f&&_.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-6 border-2 border-gray-300",children:[_.jsxs("h3",{className:"text-2xl text-gray-800 mb-4 text-center",children:["At 95% confidence, ",Math.sign(f.ci95[0])==Math.sign(f.ci95[1])?_.jsxs("span",{children:[_.jsxs("span",{className:"font-bold",children:["Alliance ",f.diff>0?"A":"B"," is expected to win."]})," Alliance ",f.diff>0?"A":"B"," is predicted to win by ",_.jsxs("span",{className:"font-bold",children:[Math.abs(Math.round(f.ci95[Math.sign(f.ci95[0])>0?0:1]))," to ",Math.abs(Math.round(f.ci95[Math.sign(f.ci95[0])>0?1:0]))," points"]}),". "]}):_.jsx("span",{className:"font-bold",children:"no alliance has a clear advantage."})]}),_.jsxs("h3",{className:"text-2xl text-gray-800 mb-4 text-center",children:["Mean result: Alliance A: ",_.jsx("span",{className:"font-bold",children:Math.round(f.mean1)}),", Alliance B: ",_.jsx("span",{className:"font-bold",children:Math.round(f.mean2)}),"."]})]}),O=="Single"&&i?.meanScore&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-6 border-2 border-gray-300",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Predicted Scores"}),_.jsxs("div",{className:"flex justify-around items-center gap-x-20 gap-y-5 flex-wrap",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.minimumScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Minimum"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.meanScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Mean"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.medianScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Median"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.q3Score}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"3rd Quartile"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.maximumScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Maximum"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:[i.percentageCoralCoopRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (COOP)"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:[i.percentageCoralNormalRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (No COOP)"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:[i.percentageBargeRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Barge RP"})]})]})]}),_.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-6 border-2 border-gray-300",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Possible Outcomes"}),_.jsx("h3",{className:"text-sm text-gray-600 mb-4 text-center",children:"Outcomes of auto and endgame points are not guarenteed to be sorted ascendingly. This is because perhaps a climb leads to less tele cycles or vice-versa. These are real match combinations, not hypotheticals, making these simulations more realistic. Auto is also treated separate from tele, leading to balanced scores although theoretically not fully optimized."}),_.jsxs("div",{className:"flex flex-row gap-5",children:[_.jsx("h3",{className:"text-lg text-gray-800 font-semibold mb-4 text-center",children:"Teams included:"}),_.jsx("h3",{className:"text-lg text-red-600 font-semibold mb-4 text-center",children:t[0]!=-1?t[0]:""}),_.jsx("h3",{className:"text-lg text-green-700 font-semibold mb-4 text-center",children:t[1]!=-1?t[1]:""}),_.jsx("h3",{className:"text-lg text-purple-600 font-semibold mb-4 text-center",children:t[2]!=-1?t[2]:""})]}),_.jsxs("div",{className:"flex justify-around items-center gap-x-20 gap-y-5 flex-wrap",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-lg text-gray-800 mt-1 underline",children:"Worst Outcome"}),_.jsxs("div",{className:"flex flex-col",children:[_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:"Auto points:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.badOutcome.autoPoints})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" L4:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.badOutcome.pieceDistribution.tele_l4})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" L3:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.badOutcome.pieceDistribution.tele_l3})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" L2:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.badOutcome.pieceDistribution.tele_l2})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" L1:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.badOutcome.pieceDistribution.tele_l1})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" Net:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.badOutcome.pieceDistribution.tele_made_net})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:"Endgame points:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.badOutcome.endgamePoints})]})]})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-lg text-gray-800 mt-1 underline",children:"Median Outcome"}),_.jsxs("div",{className:"flex flex-col",children:[_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:"Auto points:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.medianOutcome.autoPoints})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" L4:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.medianOutcome.pieceDistribution.tele_l4})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" L3:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.medianOutcome.pieceDistribution.tele_l3})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" L2:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.medianOutcome.pieceDistribution.tele_l2})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" L1:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.medianOutcome.pieceDistribution.tele_l1})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" Net:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.medianOutcome.pieceDistribution.tele_made_net})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:"Endgame points:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.medianOutcome.endgamePoints})]})]})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-lg text-gray-800 mt-1 underline",children:"Optimal Outcome"}),_.jsxs("div",{className:"flex flex-col",children:[_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:"Auto points:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.optimalOutcome.autoPoints})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" L4:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.optimalOutcome.pieceDistribution.tele_l4})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" L3:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.optimalOutcome.pieceDistribution.tele_l3})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" L2:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.optimalOutcome.pieceDistribution.tele_l2})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" L1:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.optimalOutcome.pieceDistribution.tele_l1})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:" Net:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.optimalOutcome.pieceDistribution.tele_made_net})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md ",children:"Endgame points:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.optimalOutcome.endgamePoints})]})]})]})]})]})]}),O=="Double"&&o?.allianceScorePredictionA&&_.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-6 border-2 border-gray-300",children:[_.jsx("div",{className:"flex justify-around items-center gap-5 flex-wrap",children:o.winningPercentages.map(P=>_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[P.description,":"]}),_.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:["A Win: ",P.allianceWinningPercentageA,"%"]}),_.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:["B Win: ",P.allianceWinningPercentageA,"%"]})]}))}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Alliance A:"}),_.jsxs("div",{className:"flex justify-around items-center gap-x-20 gap-y-5 flex-wrap",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.minimumScore>o.allianceScorePredictionB.minimumScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.minimumScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Minimum"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.meanScore>o.allianceScorePredictionB.meanScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.meanScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Mean"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.medianScore>o.allianceScorePredictionB.medianScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.medianScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Median"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.q3Score>o.allianceScorePredictionB.q3Score?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.q3Score}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"3rd Quartile"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.maximumScore>o.allianceScorePredictionB.maximumScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.maximumScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Maximum"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageCoralCoopRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (COOP)"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageCoralNormalRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (No COOP)"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageBargeRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Barge RP"})]})]}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 mt-15 text-center",children:"Alliance B:"}),_.jsxs("div",{className:"flex justify-around items-center gap-x-20 gap-y-5 flex-wrap",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.minimumScore>o.allianceScorePredictionA.minimumScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.minimumScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Minimum"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.meanScore>o.allianceScorePredictionA.meanScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.meanScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Mean"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.medianScore>o.allianceScorePredictionA.medianScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.medianScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Median"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.q3Score>o.allianceScorePredictionA.q3Score?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.q3Score}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"3rd Quartile"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.maximumScore>o.allianceScorePredictionA.maximumScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.maximumScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Maximum"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionB.percentageCoralCoopRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (COOP)"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionB.percentageCoralNormalRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (No COOP)"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionB.percentageBargeRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Barge RP"})]})]})]})]})})}function uhe(){const{forms:t,teamStats:e,tbaData:n,teamInfo:r}=Rn(),i=P=>{if(!(O.role=="backup"&&O.seed>8)){let V=E;V[O.seed-1][O.role]=e[P.team_number],S(V)}O.role=="captain"?R(V=>({seed:V.seed,role:"first_pick"})):O.role=="first_pick"?O.seed<8?R(V=>({seed:V.seed+1,role:"captain"})):R(V=>({seed:8,role:"second_pick"})):O.role=="second_pick"?O.seed>1?R(V=>({seed:V.seed-1,role:"second_pick"})):R(V=>({seed:1,role:"backup"})):O.role=="backup"&&O.seed<8&&R(V=>({seed:V.seed+1,role:"backup"}))};function a(){const P=[...E];let V=O.seed,D=O.role;O.role==="first_pick"?D="captain":O.role==="captain"?O.seed>1&&(V=O.seed-1,D="first_pick"):O.role==="second_pick"?O.seed<8?V=O.seed+1:D="captain":O.role==="backup"&&(O.seed>1?V=O.seed-1:(D="second_pick",V=8));const j=V-1;P[j][D]={},S(P),R({seed:V,role:D})}function o(P){const V=["Seed","Captain","First Pick","Second Pick","Backup"].join("	"),D=P.map(k=>[k.seed,k.captain?.team_number?.mean??"-",k.first_pick?.team_number?.mean??"-",k.second_pick?.team_number?.mean??"-",k.backup?.team_number?.mean??"-"].join("	")),j=[V,...D].join(`
`);navigator.clipboard.writeText(j).then(()=>{console.log("✅ Alliances copied to clipboard (paste into Google Sheets!)")}).catch(k=>{console.error("❌ Failed to copy alliances:",k)})}const[u,f]=A.useState(!1),[d,h]=A.useState(-1),[p,y]=A.useState("Rank"),[b,x]=A.useState([]),[E,S]=A.useState([]),[O,R]=A.useState({role:"captain",seed:1});return A.useEffect(()=>{if(e&&t&&n){let P=[];Object.keys(e).forEach(D=>{const j=e[parseInt(D)];console.log(j),P.push({team_number:j.team_number.mean,rank:n?.rankings?.find(k=>k.team_key===`frc${j.team_number.mean}`)?.rank??-1,total_points:j.total_points.q3,opr:j.opr.q3})});const V=Array.from({length:8},(D,j)=>({seed:j+1,captain:{},first_pick:{},second_pick:{},backup:{}}));S(V),console.log(O),x(P)}},[e,n]),_.jsxs("div",{className:"max-w-6xl mx-auto",children:[_.jsx(mE,{isOpen:u,onClose:()=>f(!1),forms:t,teamNumber:d,teamInfo:r}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[_.jsx(KD,{className:"text-orange-500"}),"Mock Alliance Selection"]}),_.jsxs("div",{className:"grid md:grid-cols-[1fr_2fr] gap-6",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex flex-col xl:flex-row justify-between align-center my-3 xl:gap-5",children:[_.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Available Teams"}),_.jsxs("div",{className:"flex flex-row justify-end align-center gap-2 py-1 h-10",children:[_.jsx("button",{onClick:()=>y("Number"),className:`${p=="Number"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"Number"}),_.jsx("button",{onClick:()=>y("Rank"),className:`${p=="Rank"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"Rank"}),_.jsx("button",{onClick:()=>y("OPR"),className:`${p=="OPR"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"OPR"}),_.jsx("button",{onClick:()=>y("Points"),className:`${p=="Points"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"Points"})]})]}),_.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:b.filter(P=>!E.flatMap(V=>[V.captain.team_number?.max??0,V.first_pick.team_number?.max??0,V.second_pick.team_number?.max??0,V.backup.team_number?.max??0]).includes(P.team_number)).sort((P,V)=>{switch(p){case"Number":return P.team_number-V.team_number;case"OPR":return V.opr-P.opr;case"Points":return V.total_points-P.total_points;default:return P.rank-V.rank}}).map(P=>_.jsxs("div",{onClick:()=>i(P),className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-orange-50 hover:border-orange-300 cursor-pointer transition",children:[_.jsxs("div",{children:[_.jsxs("span",{className:"font-bold text-gray-800",children:["Team ",P.team_number]}),_.jsxs("span",{className:"text-sm text-gray-500 ml-4",children:["Rank ",P.rank]})]}),_.jsxs("div",{className:"text-sm text-gray-600",children:["OPR: ",P.opr]}),_.jsxs("div",{className:"text-sm text-gray-600",children:["Q3 Pts: ",P.total_points]})]},P.team_number))})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex flex-row justify-between align-center",children:[_.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Alliances:"}),_.jsxs("div",{className:"text-center text-gray-400 flex flex-row items-center gap-3",children:[_.jsx("h3",{className:"select-none",children:"Click a team to add next pick/captain."}),_.jsx(h9,{onClick:()=>o(E),className:"m-2 hover:scale-115 transition rounded-md cursor-pointer",size:24,color:"black"}),_.jsx(U9,{onClick:()=>a(),className:"m-2 hover:scale-115 transition rounded-md cursor-pointer",size:24,color:"black"})]})]}),_.jsxs("div",{className:"grid grid-rows-9 w-full gap-3",children:[_.jsxs("div",{className:"flex flex-row justify-between gap-5 w-full",children:[_.jsxs("div",{className:"flex flex-row justify-between gap-3 flex-3 text-gray-700 text-sm",children:[_.jsx("h2",{children:"Seed"}),_.jsx("h2",{className:" flex-1 rounded-lg text-center",children:"Captain"}),_.jsx("h2",{className:"flex-1 rounded-lg text-center",children:"1st pick"}),_.jsx("h2",{className:" flex-1 rounded-lg text-center",children:"2nd pick"}),_.jsx("h2",{className:"flex-1 rounded-lg text-center",children:"Backup"})]}),_.jsx("div",{className:"flex flex-row justify-center gap-3 flex-1 text-gray-700 text-sm",children:_.jsx("h2",{children:"Predicted score"})})]}),E.map(P=>_.jsxs("div",{className:"flex flex-row justify-between gap-5 w-full",children:[_.jsxs("div",{className:"flex flex-row justify-between gap-3 flex-3 text-lg",children:[_.jsx("h2",{children:P.seed??"-"}),_.jsx("h2",{onClick:P.captain.team_number?.mean?()=>{h(P.captain.team_number?.mean),f(!0)}:()=>{},className:`${O.role=="captain"&&O.seed==P.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:P.captain.team_number?.mean??"-"}),_.jsx("h2",{onClick:P.first_pick.team_number?.mean?()=>{h(P.first_pick.team_number?.mean),f(!0)}:()=>{},className:`${O.role=="first_pick"&&O.seed==P.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:P.first_pick.team_number?.mean??"-"}),_.jsx("h2",{onClick:P.second_pick.team_number?.mean?()=>{h(P.second_pick.team_number?.mean),f(!0)}:()=>{},className:`${O.role=="second_pick"&&O.seed==P.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:P.second_pick.team_number?.mean??"-"}),_.jsx("h2",{onClick:P.backup.team_number?.mean?()=>{h(P.backup.team_number?.mean),f(!0)}:()=>{},className:`${O.role=="backup"&&O.seed==P.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:P.backup.team_number?.mean??"-"})]}),_.jsx("div",{className:"flex flex-row justify-center gap-3 flex-1 ",children:_.jsx("h2",{children:(P.captain.total_points?.q3??0)+(P.first_pick.total_points?.q3??0)+(P.second_pick.total_points?.q3??0)})})]}))]})]})]})]})]})}function che(){const[t,e]=A.useState({autoPoints:20,telePoints:60,endgamePoints:15}),n=t.autoPoints+t.telePoints+t.endgamePoints;return _.jsx("div",{className:"max-w-4xl mx-auto",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[_.jsx(HD,{className:"text-orange-500"}),"Strategy Simulator"]}),_.jsx("p",{className:"text-gray-600 mb-6",children:"Plan and simulate different match strategies"}),_.jsxs("div",{className:"space-y-4 mb-6",children:[_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Auto Points: ",t.autoPoints]}),_.jsx("input",{type:"range",min:"0",max:"50",value:t.autoPoints,onChange:r=>e({...t,autoPoints:parseInt(r.target.value)}),className:"w-full accent-orange-500"})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tele Points: ",t.telePoints]}),_.jsx("input",{type:"range",min:"0",max:"100",value:t.telePoints,onChange:r=>e({...t,telePoints:parseInt(r.target.value)}),className:"w-full accent-orange-500"})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Endgame Points: ",t.endgamePoints]}),_.jsx("input",{type:"range",min:"0",max:"30",value:t.endgamePoints,onChange:r=>e({...t,endgamePoints:parseInt(r.target.value)}),className:"w-full accent-orange-500"})]})]}),_.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg p-6 border-2 border-orange-300",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Projected Score"}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-6xl font-bold text-orange-600",children:n}),_.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Total Points"})]}),_.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold text-gray-700",children:t.autoPoints}),_.jsx("div",{className:"text-xs text-gray-500",children:"Auto"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold text-gray-700",children:t.telePoints}),_.jsx("div",{className:"text-xs text-gray-500",children:"Tele"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold text-gray-700",children:t.endgamePoints}),_.jsx("div",{className:"text-xs text-gray-500",children:"Endgame"})]})]})]})]})})}function fhe(){const{forms:t,teamInfo:e,teamStats:n,teamImages:r,loadData:i,loadTeamImages:a,loading:o,tbaData:u,aiOverviews:f}=Rn();A.useEffect(()=>{a(),i()},[]);const[d,h]=A.useState(0),[p,y]=A.useState(0),b=A.useMemo(()=>Object.keys(n).map(Number).sort((D,j)=>D-j),[n]);A.useEffect(()=>{b.length>=2&&d===0&&p===0&&(h(b[0]),y(b[1]))},[b]);const x=A.useMemo(()=>t.filter(D=>Number(D.team_number)===d).sort((D,j)=>(D.match_number??0)-(j.match_number??0)),[t,d]),E=A.useMemo(()=>t.filter(D=>Number(D.team_number)===p).sort((D,j)=>(D.match_number??0)-(j.match_number??0)),[t,p]),S=D=>{if(D.length===0)return 0;const j=D.reduce((I,L)=>I+L,0)/D.length,k=D.reduce((I,L)=>I+Math.pow(L-j,2),0)/D.length;return Math.sqrt(k)},O=A.useMemo(()=>[{key:"total_points",label:"Total Points"},{key:"auto_points",label:"Auto"},{key:"tele_points",label:"Tele"},{key:"endgame_points",label:"Endgame"},{key:"total_coral",label:"Coral"},{key:"total_algae",label:"Algae"}].map(j=>({metric:j.label,team1:n[d]?.[j.key]?.median??0,team2:n[p]?.[j.key]?.median??0})),[d,p,n]),R=A.useMemo(()=>["total_points","auto_points","tele_points","endgame_points"].map(j=>{const k=x.map(L=>Number(L[j]??0)),I=E.map(L=>Number(L[j]??0));return{metric:j.replace(/_/g," ").replace(/\b\w/g,L=>L.toUpperCase()),team1:S(k),team2:S(I)}}),[x,E]),P=A.useMemo(()=>{const D=Math.max(x.length,E.length),j=[];for(let k=0;k<D;k++)j.push({match:k+1,team1:x[k]?Number(x[k].total_points??0):null,team2:E[k]?Number(E[k].total_points??0):null});return j},[x,E]),V=A.useMemo(()=>[{key:"total_points",label:"Total Points"},{key:"auto_points",label:"Auto Points"},{key:"tele_points",label:"Tele Points"},{key:"endgame_points",label:"Endgame Points"},{key:"total_coral",label:"Total Coral"},{key:"total_algae",label:"Total Algae"},{key:"total_gamepieces",label:"Total Gamepieces"}].map(j=>({label:j.label,team1:{median:n[d]?.[j.key]?.median??0,max:n[d]?.[j.key]?.max??0,q3:n[d]?.[j.key]?.q3??0},team2:{median:n[p]?.[j.key]?.median??0,max:n[p]?.[j.key]?.max??0,q3:n[p]?.[j.key]?.q3??0}})),[d,p,n]);return o||!t.length?_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(sa,{}),_.jsx("main",{className:"pt-20 px-4 md:px-6",children:_.jsx("div",{className:"text-orange-500 text-lg font-semibold",children:"Loading data..."})})]}):_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(sa,{}),_.jsx("main",{className:"pt-20 px-4 md:px-6 pb-10",children:_.jsxs("div",{className:"max-w-7xl mx-auto",children:[_.jsxs("div",{className:"mb-8",children:[_.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Team Comparison"}),_.jsx("p",{className:"text-gray-600",children:"Compare two teams head-to-head with detailed statistics and visualizations"})]}),_.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:_.jsxs("div",{className:"grid md:grid-cols-3 gap-6 items-center",children:[_.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border-2 border-blue-300",children:[_.jsx(Rr,{view:d,setView:h,label:"Team 1: ",options:b}),r[d]&&_.jsx("img",{src:r[d],alt:`Team ${d}`,className:"w-24 h-24 object-contain mx-auto mt-3"}),_.jsxs("div",{className:"text-center mt-2",children:[_.jsx("p",{className:"font-bold text-blue-700",children:e[d]?.nickname??""}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Rank: ",u?.rankings?.find(D=>D.team_key===`frc${d}`)?.rank??"N/A"]})]})]}),_.jsx("div",{className:"text-center",children:_.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-orange-500 rounded-full",children:_.jsx("span",{className:"text-2xl font-bold text-white",children:"VS"})})}),_.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 border-2 border-red-300",children:[_.jsx(Rr,{view:p,setView:y,label:"Team 2: ",options:b}),r[p]&&_.jsx("img",{src:r[p],alt:`Team ${p}`,className:"w-24 h-24 object-contain mx-auto mt-3"}),_.jsxs("div",{className:"text-center mt-2",children:[_.jsx("p",{className:"font-bold text-red-700",children:e[p]?.nickname??""}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Rank: ",u?.rankings?.find(D=>D.team_key===`frc${p}`)?.rank??"N/A"]})]})]})]})}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[_.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[_.jsx(A1,{className:"text-orange-500"}),"Key Statistics"]}),_.jsx("div",{className:"space-y-3",children:V.slice(0,4).map((D,j)=>_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-sm font-medium text-gray-700",children:D.label}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("span",{className:`font-bold ${D.team1.median>D.team2.median?"text-green-600":"text-gray-600"}`,children:D.team1.median}),_.jsx(cg,{size:16,className:"text-gray-400"}),_.jsx("span",{className:`font-bold ${D.team2.median>D.team1.median?"text-green-600":"text-gray-600"}`,children:D.team2.median})]})]},j))})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[_.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[_.jsx(L9,{className:"text-orange-500"}),"Consistency (Std Dev - Lower is Better)"]}),_.jsx("div",{className:"space-y-3",children:R.map((D,j)=>_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-sm font-medium text-gray-700",children:D.metric}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("span",{className:`font-bold ${D.team1<D.team2?"text-green-600":"text-gray-600"}`,children:D.team1.toFixed(1)}),_.jsx(cg,{size:16,className:"text-gray-400"}),_.jsx("span",{className:`font-bold ${D.team2<D.team1?"text-green-600":"text-gray-600"}`,children:D.team2.toFixed(1)})]})]},j))})]})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Performance Radar"}),_.jsx(nu,{width:"100%",height:400,children:_.jsxs(Mde,{data:O,children:[_.jsx(i5,{stroke:"#e5e7eb"}),_.jsx(bv,{dataKey:"metric",tick:{fill:"#374151",fontSize:12}}),_.jsx(yv,{}),_.jsx(hy,{name:`Team ${d}`,dataKey:"team1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.5}),_.jsx(hy,{name:`Team ${p}`,dataKey:"team2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.5}),_.jsx(Zl,{})]})})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Performance Over Time"}),_.jsx(nu,{width:"100%",height:300,children:_.jsxs(i$,{data:P,children:[_.jsx(yy,{strokeDasharray:"3 3"}),_.jsx(Go,{dataKey:"match",label:{value:"Match",position:"insideBottom",offset:-5}}),_.jsx(Wo,{label:{value:"Total Points",angle:-90,position:"insideLeft"}}),_.jsx(Ch,{}),_.jsx(Zl,{}),_.jsx(vy,{type:"monotone",dataKey:"team1",stroke:"#3b82f6",strokeWidth:2,name:`Team ${d}`,connectNulls:!0}),_.jsx(vy,{type:"monotone",dataKey:"team2",stroke:"#ef4444",strokeWidth:2,name:`Team ${p}`,connectNulls:!0})]})})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Consistency Comparison (Lower is Better)"}),_.jsx(nu,{width:"100%",height:300,children:_.jsxs(_v,{data:R,children:[_.jsx(yy,{strokeDasharray:"3 3"}),_.jsx(Go,{dataKey:"metric"}),_.jsx(Wo,{}),_.jsx(Ch,{}),_.jsx(Zl,{}),_.jsx(nf,{dataKey:"team1",fill:"#3b82f6",name:`Team ${d}`}),_.jsx(nf,{dataKey:"team2",fill:"#ef4444",name:`Team ${p}`})]})})]}),(f[d]||f[p])&&_.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[f[d]&&_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:[_.jsxs("h3",{className:"text-lg font-bold text-blue-700 mb-4",children:["Team ",d," - CoScout Analysis"]}),_.jsxs("div",{className:"space-y-2 text-sm",children:[_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Auto:"})," ",_.jsx("span",{className:"text-gray-700",children:f[d].auto})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Coral:"})," ",_.jsx("span",{className:"text-gray-700",children:f[d].coral})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Algae:"})," ",_.jsx("span",{className:"text-gray-700",children:f[d].algae})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Endgame:"})," ",_.jsx("span",{className:"text-gray-700",children:f[d].endgame})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Strengths:"})," ",_.jsx("span",{className:"text-gray-700",children:f[d].strengths})]}),_.jsxs("div",{className:"bg-red-50 p-2 rounded border border-red-200",children:[_.jsx("span",{className:"font-semibold text-red-600",children:"Concerns:"})," ",_.jsx("span",{className:"text-gray-700",children:f[d].concerns})]})]})]}),f[p]&&_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-red-500",children:[_.jsxs("h3",{className:"text-lg font-bold text-red-700 mb-4",children:["Team ",p," - CoScout Analysis"]}),_.jsxs("div",{className:"space-y-2 text-sm",children:[_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Auto:"})," ",_.jsx("span",{className:"text-gray-700",children:f[p].auto})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Coral:"})," ",_.jsx("span",{className:"text-gray-700",children:f[p].coral})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Algae:"})," ",_.jsx("span",{className:"text-gray-700",children:f[p].algae})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Endgame:"})," ",_.jsx("span",{className:"text-gray-700",children:f[p].endgame})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Strengths:"})," ",_.jsx("span",{className:"text-gray-700",children:f[p].strengths})]}),_.jsxs("div",{className:"bg-red-50 p-2 rounded border border-red-200",children:[_.jsx("span",{className:"font-semibold text-red-600",children:"Concerns:"})," ",_.jsx("span",{className:"text-gray-700",children:f[p].concerns})]})]})]})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Detailed Statistics Comparison"}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full",children:[_.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-orange-100",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700 border-b-2 border-orange-300",children:"Statistic"}),_.jsxs("th",{className:"px-4 py-3 text-center font-semibold text-blue-700 border-b-2 border-orange-300",children:["Team ",d]}),_.jsxs("th",{className:"px-4 py-3 text-center font-semibold text-red-700 border-b-2 border-orange-300",children:["Team ",p]}),_.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700 border-b-2 border-orange-300",children:"Advantage"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-200",children:V.map((D,j)=>_.jsxs("tr",{className:j%2===0?"bg-white":"bg-gray-50",children:[_.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:D.label}),_.jsx("td",{className:"px-4 py-3 text-center",children:_.jsxs("div",{className:"text-sm",children:[_.jsxs("div",{className:"font-bold text-blue-700",children:["M: ",D.team1.median]}),_.jsxs("div",{className:"text-xs text-gray-600",children:["Max: ",D.team1.max]})]})}),_.jsx("td",{className:"px-4 py-3 text-center",children:_.jsxs("div",{className:"text-sm",children:[_.jsxs("div",{className:"font-bold text-red-700",children:["M: ",D.team2.median]}),_.jsxs("div",{className:"text-xs text-gray-600",children:["Max: ",D.team2.max]})]})}),_.jsx("td",{className:"px-4 py-3 text-center",children:D.team1.median>D.team2.median?_.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:["Team ",d]}):D.team2.median>D.team1.median?_.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-semibold",children:["Team ",p]}):_.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-semibold",children:"Tie"})})]},j))})]})})]})]})}),_.jsx(qa,{}),_.jsx(Ns,{})]})}const dhe=()=>{const{teamStats:t,loading:e,loadData:n}=Rn();A.useEffect(()=>{n()},[]);const[r,i]=A.useState(-1),[a,o]=A.useState(-1),[u,f]=A.useState(-1),[d,h]=A.useState([]);return A.useEffect(()=>{h(Object.keys(t).map(p=>t[parseInt(p)].team_number.max))},[t]),_.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[_.jsx(sa,{}),_.jsxs("main",{className:"pt-20 px-0 md:px-6",children:[e?_.jsx("div",{className:"text-orange-500 m-15 text-2xl font-bold animate-bounce",children:"Loading data..."}):_.jsx("div",{children:_.jsxs("div",{className:" bg-white shadow-md rounded-lg px-10 py-6 flex gap-10",children:[_.jsx("h1",{className:"text-xl font-semibold",children:"Team Comparison"}),_.jsx(Rr,{view:r,setView:i,options:[-1,...d],label:"Team 1:"}),_.jsx(Rr,{view:a,setView:o,options:[-1,...d],label:"Team 2:"}),_.jsx(Rr,{view:u,setView:f,options:[-1,...d],label:"Team 3:"})]})}),_.jsx(qa,{}),_.jsx(Ns,{})]})]})},hhe=MB([{path:"/",element:_.jsx(xW,{}),errorElement:_.jsx(TW,{})},{path:"teams",element:_.jsx(Vde,{})},{path:"ranks",element:_.jsx(qde,{})},{path:"settings",element:_.jsx(Fde,{})},{path:"coscout",element:_.jsx(Hde,{})},{path:"match",element:_.jsx(Gde,{})},{path:"picklist",element:_.jsx(Wde,{})},{path:"sandbox",element:_.jsx(she,{})},{path:"compareai",element:_.jsx(fhe,{})},{path:"compare",element:_.jsx(dhe,{})}]);UV.createRoot(document.getElementById("root")).render(_.jsx(A.StrictMode,{children:_.jsx(WB,{router:hhe})}));
