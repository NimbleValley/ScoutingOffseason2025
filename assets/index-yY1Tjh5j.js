function QV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Zi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function JV(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var V0={exports:{}},rh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yO;function ZV(){if(yO)return rh;yO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return rh.Fragment=e,rh.jsx=n,rh.jsxs=n,rh}var vO;function e6(){return vO||(vO=1,V0.exports=ZV()),V0.exports}var L=e6(),$0={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bO;function t6(){if(bO)return tt;bO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function S(H,se,ae){this.props=H,this.context=se,this.refs=E,this.updater=ae||b}S.prototype.isReactComponent={},S.prototype.setState=function(H,se){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,se,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function x(){}x.prototype=S.prototype;function C(H,se,ae){this.props=H,this.context=se,this.refs=E,this.updater=ae||b}var O=C.prototype=new x;O.constructor=C,w(O,S.prototype),O.isPureReactComponent=!0;var V=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function N(H,se,ae,me,Te,Ue){return ae=Ue.ref,{$$typeof:t,type:H,key:se,ref:ae!==void 0?ae:null,props:Ue}}function k(H,se){return N(H.type,se,void 0,void 0,void 0,H.props)}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function z(H){var se={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ae){return se[ae]})}var B=/\/+/g;function q(H,se){return typeof H=="object"&&H!==null&&H.key!=null?z(""+H.key):se.toString(36)}function $(){}function ye(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then($,$):(H.status="pending",H.then(function(se){H.status==="pending"&&(H.status="fulfilled",H.value=se)},function(se){H.status==="pending"&&(H.status="rejected",H.reason=se)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function Ne(H,se,ae,me,Te){var Ue=typeof H;(Ue==="undefined"||Ue==="boolean")&&(H=null);var Ve=!1;if(H===null)Ve=!0;else switch(Ue){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(H.$$typeof){case t:case e:Ve=!0;break;case d:return Ve=H._init,Ne(Ve(H._payload),se,ae,me,Te)}}if(Ve)return Te=Te(H),Ve=me===""?"."+q(H,0):me,V(Te)?(ae="",Ve!=null&&(ae=Ve.replace(B,"$&/")+"/"),Ne(Te,se,ae,"",function(_e){return _e})):Te!=null&&(M(Te)&&(Te=k(Te,ae+(Te.key==null||H&&H.key===Te.key?"":(""+Te.key).replace(B,"$&/")+"/")+Ve)),se.push(Te)),1;Ve=0;var tn=me===""?".":me+":";if(V(H))for(var At=0;At<H.length;At++)me=H[At],Ue=tn+q(me,At),Ve+=Ne(me,se,ae,Ue,Te);else if(At=v(H),typeof At=="function")for(H=At.call(H),At=0;!(me=H.next()).done;)me=me.value,Ue=tn+q(me,At++),Ve+=Ne(me,se,ae,Ue,Te);else if(Ue==="object"){if(typeof H.then=="function")return Ne(ye(H),se,ae,me,Te);throw se=String(H),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function Y(H,se,ae){if(H==null)return H;var me=[],Te=0;return Ne(H,me,"","",function(Ue){return se.call(ae,Ue,Te++)}),me}function ue(H){if(H._status===-1){var se=H._result;se=se(),se.then(function(ae){(H._status===0||H._status===-1)&&(H._status=1,H._result=ae)},function(ae){(H._status===0||H._status===-1)&&(H._status=2,H._result=ae)}),H._status===-1&&(H._status=0,H._result=se)}if(H._status===1)return H._result.default;throw H._result}var ve=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function De(){}return tt.Children={map:Y,forEach:function(H,se,ae){Y(H,function(){se.apply(this,arguments)},ae)},count:function(H){var se=0;return Y(H,function(){se++}),se},toArray:function(H){return Y(H,function(se){return se})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},tt.Component=S,tt.Fragment=n,tt.Profiler=i,tt.PureComponent=C,tt.StrictMode=r,tt.Suspense=f,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,tt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return I.H.useMemoCache(H)}},tt.cache=function(H){return function(){return H.apply(null,arguments)}},tt.cloneElement=function(H,se,ae){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var me=w({},H.props),Te=H.key,Ue=void 0;if(se!=null)for(Ve in se.ref!==void 0&&(Ue=void 0),se.key!==void 0&&(Te=""+se.key),se)!D.call(se,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&se.ref===void 0||(me[Ve]=se[Ve]);var Ve=arguments.length-2;if(Ve===1)me.children=ae;else if(1<Ve){for(var tn=Array(Ve),At=0;At<Ve;At++)tn[At]=arguments[At+2];me.children=tn}return N(H.type,Te,void 0,void 0,Ue,me)},tt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},tt.createElement=function(H,se,ae){var me,Te={},Ue=null;if(se!=null)for(me in se.key!==void 0&&(Ue=""+se.key),se)D.call(se,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Te[me]=se[me]);var Ve=arguments.length-2;if(Ve===1)Te.children=ae;else if(1<Ve){for(var tn=Array(Ve),At=0;At<Ve;At++)tn[At]=arguments[At+2];Te.children=tn}if(H&&H.defaultProps)for(me in Ve=H.defaultProps,Ve)Te[me]===void 0&&(Te[me]=Ve[me]);return N(H,Ue,void 0,void 0,null,Te)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(H){return{$$typeof:u,render:H}},tt.isValidElement=M,tt.lazy=function(H){return{$$typeof:d,_payload:{_status:-1,_result:H},_init:ue}},tt.memo=function(H,se){return{$$typeof:h,type:H,compare:se===void 0?null:se}},tt.startTransition=function(H){var se=I.T,ae={};I.T=ae;try{var me=H(),Te=I.S;Te!==null&&Te(ae,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(De,ve)}catch(Ue){ve(Ue)}finally{I.T=se}},tt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},tt.use=function(H){return I.H.use(H)},tt.useActionState=function(H,se,ae){return I.H.useActionState(H,se,ae)},tt.useCallback=function(H,se){return I.H.useCallback(H,se)},tt.useContext=function(H){return I.H.useContext(H)},tt.useDebugValue=function(){},tt.useDeferredValue=function(H,se){return I.H.useDeferredValue(H,se)},tt.useEffect=function(H,se,ae){var me=I.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(H,se)},tt.useId=function(){return I.H.useId()},tt.useImperativeHandle=function(H,se,ae){return I.H.useImperativeHandle(H,se,ae)},tt.useInsertionEffect=function(H,se){return I.H.useInsertionEffect(H,se)},tt.useLayoutEffect=function(H,se){return I.H.useLayoutEffect(H,se)},tt.useMemo=function(H,se){return I.H.useMemo(H,se)},tt.useOptimistic=function(H,se){return I.H.useOptimistic(H,se)},tt.useReducer=function(H,se,ae){return I.H.useReducer(H,se,ae)},tt.useRef=function(H){return I.H.useRef(H)},tt.useState=function(H){return I.H.useState(H)},tt.useSyncExternalStore=function(H,se,ae){return I.H.useSyncExternalStore(H,se,ae)},tt.useTransition=function(){return I.H.useTransition()},tt.version="19.1.1",tt}var _O;function Bc(){return _O||(_O=1,$0.exports=t6()),$0.exports}var A=Bc();const gh=Zi(A),n6=QV({__proto__:null,default:gh},[A]);var B0={exports:{}},ih={},z0={exports:{}},q0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wO;function r6(){return wO||(wO=1,(function(t){function e(Y,ue){var ve=Y.length;Y.push(ue);e:for(;0<ve;){var De=ve-1>>>1,H=Y[De];if(0<i(H,ue))Y[De]=ue,Y[ve]=H,ve=De;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ue=Y[0],ve=Y.pop();if(ve!==ue){Y[0]=ve;e:for(var De=0,H=Y.length,se=H>>>1;De<se;){var ae=2*(De+1)-1,me=Y[ae],Te=ae+1,Ue=Y[Te];if(0>i(me,ve))Te<H&&0>i(Ue,me)?(Y[De]=Ue,Y[Te]=ve,De=Te):(Y[De]=me,Y[ae]=ve,De=ae);else if(Te<H&&0>i(Ue,ve))Y[De]=Ue,Y[Te]=ve,De=Te;else break e}}return ue}function i(Y,ue){var ve=Y.sortIndex-ue.sortIndex;return ve!==0?ve:Y.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],h=[],d=1,p=null,v=3,b=!1,w=!1,E=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function V(Y){for(var ue=n(h);ue!==null;){if(ue.callback===null)r(h);else if(ue.startTime<=Y)r(h),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=n(h)}}function I(Y){if(E=!1,V(Y),!w)if(n(f)!==null)w=!0,D||(D=!0,q());else{var ue=n(h);ue!==null&&Ne(I,ue.startTime-Y)}}var D=!1,N=-1,k=5,M=-1;function z(){return S?!0:!(t.unstable_now()-M<k)}function B(){if(S=!1,D){var Y=t.unstable_now();M=Y;var ue=!0;try{e:{w=!1,E&&(E=!1,C(N),N=-1),b=!0;var ve=v;try{t:{for(V(Y),p=n(f);p!==null&&!(p.expirationTime>Y&&z());){var De=p.callback;if(typeof De=="function"){p.callback=null,v=p.priorityLevel;var H=De(p.expirationTime<=Y);if(Y=t.unstable_now(),typeof H=="function"){p.callback=H,V(Y),ue=!0;break t}p===n(f)&&r(f),V(Y)}else r(f);p=n(f)}if(p!==null)ue=!0;else{var se=n(h);se!==null&&Ne(I,se.startTime-Y),ue=!1}}break e}finally{p=null,v=ve,b=!1}ue=void 0}}finally{ue?q():D=!1}}}var q;if(typeof O=="function")q=function(){O(B)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ye=$.port2;$.port1.onmessage=B,q=function(){ye.postMessage(null)}}else q=function(){x(B,0)};function Ne(Y,ue){N=x(function(){Y(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var ue=3;break;default:ue=v}var ve=v;v=ue;try{return Y()}finally{v=ve}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(Y,ue){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ve=v;v=Y;try{return ue()}finally{v=ve}},t.unstable_scheduleCallback=function(Y,ue,ve){var De=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?De+ve:De):ve=De,Y){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ve+H,Y={id:d++,callback:ue,priorityLevel:Y,startTime:ve,expirationTime:H,sortIndex:-1},ve>De?(Y.sortIndex=ve,e(h,Y),n(f)===null&&Y===n(h)&&(E?(C(N),N=-1):E=!0,Ne(I,ve-De))):(Y.sortIndex=H,e(f,Y),w||b||(w=!0,D||(D=!0,q()))),Y},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(Y){var ue=v;return function(){var ve=v;v=ue;try{return Y.apply(this,arguments)}finally{v=ve}}}})(q0)),q0}var EO;function i6(){return EO||(EO=1,z0.exports=r6()),z0.exports}var F0={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO;function a6(){if(SO)return lr;SO=1;var t=Bc();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:h,implementation:d}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(f,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,d)},lr.flushSync=function(f){var h=l.T,d=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=d,r.d.f()}},lr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},lr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},lr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var d=h.as,p=u(d,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:b}):d==="script"&&r.d.X(f,{crossOrigin:p,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},lr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},lr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,p=u(d,h.crossOrigin);r.d.L(f,d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},lr.preloadModule=function(f,h){if(typeof f=="string")if(h){var d=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},lr.requestFormReset=function(f){r.d.r(f)},lr.unstable_batchedUpdates=function(f,h){return f(h)},lr.useFormState=function(f,h,d){return l.H.useFormState(f,h,d)},lr.useFormStatus=function(){return l.H.useHostTransitionStatus()},lr.version="19.1.1",lr}var TO;function KI(){if(TO)return F0.exports;TO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),F0.exports=a6(),F0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO;function s6(){if(AO)return ih;AO=1;var t=i6(),e=Bc(),n=KI();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var c=s,m=o;;){var y=c.return;if(y===null)break;var _=y.alternate;if(_===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===c)return u(y),s;if(_===m)return u(y),o;_=_.sibling}throw Error(r(188))}if(c.return!==m.return)c=y,m=_;else{for(var P=!1,j=y.child;j;){if(j===c){P=!0,c=y,m=_;break}if(j===m){P=!0,m=y,c=_;break}j=j.sibling}if(!P){for(j=_.child;j;){if(j===c){P=!0,c=_,m=y;break}if(j===m){P=!0,m=_,c=y;break}j=j.sibling}if(!P)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:o}function h(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=h(s),o!==null)return o;s=s.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),O=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var $=Symbol.for("react.client.reference");function ye(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===$?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case I:return"Suspense";case D:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case O:return(s.displayName||"Context")+".Provider";case C:return(s._context.displayName||"Context")+".Consumer";case V:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return o=s.displayName||null,o!==null?o:ye(s.type)||"Memo";case k:o=s._payload,s=s._init;try{return ye(s(o))}catch{}}return null}var Ne=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},De=[],H=-1;function se(s){return{current:s}}function ae(s){0>H||(s.current=De[H],De[H]=null,H--)}function me(s,o){H++,De[H]=s.current,s.current=o}var Te=se(null),Ue=se(null),Ve=se(null),tn=se(null);function At(s,o){switch(me(Ve,o),me(Ue,s),me(Te,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?Hx(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=Hx(o),s=Kx(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(Te),me(Te,s)}function _e(){ae(Te),ae(Ue),ae(Ve)}function Ie(s){s.memoizedState!==null&&me(tn,s);var o=Te.current,c=Kx(o,s.type);o!==c&&(me(Ue,s),me(Te,c))}function Ke(s){Ue.current===s&&(ae(Te),ae(Ue)),tn.current===s&&(ae(tn),Jf._currentValue=ve)}var pe=Object.prototype.hasOwnProperty,Yt=t.unstable_scheduleCallback,et=t.unstable_cancelCallback,on=t.unstable_shouldYield,fn=t.unstable_requestPaint,Jt=t.unstable_now,Rs=t.unstable_getCurrentPriorityLevel,Ho=t.unstable_ImmediatePriority,Cs=t.unstable_UserBlockingPriority,Ma=t.unstable_NormalPriority,Mi=t.unstable_LowPriority,ai=t.unstable_IdlePriority,Ps=t.log,Ds=t.unstable_setDisableYieldValue,_t=null,nt=null;function sr(s){if(typeof Ps=="function"&&Ds(s),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(_t,s)}catch{}}var hn=Math.clz32?Math.clz32:na,cu=Math.log,si=Math.LN2;function na(s){return s>>>=0,s===0?32:31-(cu(s)/si|0)|0}var ra=256,ia=4194304;function Mr(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ja(s,o,c){var m=s.pendingLanes;if(m===0)return 0;var y=0,_=s.suspendedLanes,P=s.pingedLanes;s=s.warmLanes;var j=m&134217727;return j!==0?(m=j&~_,m!==0?y=Mr(m):(P&=j,P!==0?y=Mr(P):c||(c=j&~s,c!==0&&(y=Mr(c))))):(j=m&~_,j!==0?y=Mr(j):P!==0?y=Mr(P):c||(c=m&~s,c!==0&&(y=Mr(c)))),y===0?0:o!==0&&o!==y&&(o&_)===0&&(_=y&-y,c=o&-o,_>=c||_===32&&(c&4194048)!==0)?o:y}function oi(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Is(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function La(){var s=ra;return ra<<=1,(ra&4194048)===0&&(ra=256),s}function Ko(){var s=ia;return ia<<=1,(ia&62914560)===0&&(ia=4194304),s}function li(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function ji(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ns(s,o,c,m,y,_){var P=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var j=s.entanglements,F=s.expirationTimes,Z=s.hiddenUpdates;for(c=P&~c;0<c;){var oe=31-hn(c),ce=1<<oe;j[oe]=0,F[oe]=-1;var te=Z[oe];if(te!==null)for(Z[oe]=null,oe=0;oe<te.length;oe++){var ne=te[oe];ne!==null&&(ne.lane&=-536870913)}c&=~ce}m!==0&&gr(s,m,0),_!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=_&~(P&~o))}function gr(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var m=31-hn(o);s.entangledLanes|=o,s.entanglements[m]=s.entanglements[m]|1073741824|c&4194090}function aa(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var m=31-hn(c),y=1<<m;y&o|s[m]&o&&(s[m]|=o),c&=~y}}function sa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ks(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function K(){var s=ue.p;return s!==0?s:(s=window.event,s===void 0?32:fO(s.type))}function X(s,o){var c=ue.p;try{return ue.p=s,o()}finally{ue.p=c}}var ee=Math.random().toString(36).slice(2),fe="__reactFiber$"+ee,ge="__reactProps$"+ee,we="__reactContainer$"+ee,ke="__reactEvents$"+ee,Re="__reactListeners$"+ee,Ce="__reactHandles$"+ee,$e="__reactResources$"+ee,Pe="__reactMarker$"+ee;function Ae(s){delete s[fe],delete s[ge],delete s[ke],delete s[Re],delete s[Ce]}function Ze(s){var o=s[fe];if(o)return o;for(var c=s.parentNode;c;){if(o=c[we]||c[fe]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Xx(s);s!==null;){if(c=s[fe])return c;s=Xx(s)}return o}s=c,c=s.parentNode}return null}function ht(s){if(s=s[fe]||s[we]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Rt(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function wt(s){var o=s[$e];return o||(o=s[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function We(s){s[Pe]=!0}var Et=new Set,Sr={};function Yn(s,o){jn(s,o),jn(s+"Capture",o)}function jn(s,o){for(Sr[s]=o,s=0;s<o.length;s++)Et.add(o[s])}var yr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ms={},jr={};function ui(s){return pe.call(jr,s)?!0:pe.call(Ms,s)?!1:yr.test(s)?jr[s]=!0:(Ms[s]=!0,!1)}function Lr(s,o,c){if(ui(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function vr(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function Fe(s,o,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+m)}}var Wt,Li;function Wn(s){if(Wt===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Wt=o&&o[1]||"",Li=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wt+s+Li}var $t=!1;function Ui(s,o){if(!s||$t)return"";$t=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var te=ne}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(ne){te=ne}s.call(ce.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),P=_[0],j=_[1];if(P&&j){var F=P.split(`
`),Z=j.split(`
`);for(y=m=0;m<F.length&&!F[m].includes("DetermineComponentFrameRoot");)m++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(m===F.length||y===Z.length)for(m=F.length-1,y=Z.length-1;1<=m&&0<=y&&F[m]!==Z[y];)y--;for(;1<=m&&0<=y;m--,y--)if(F[m]!==Z[y]){if(m!==1||y!==1)do if(m--,y--,0>y||F[m]!==Z[y]){var oe=`
`+F[m].replace(" at new "," at ");return s.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",s.displayName)),oe}while(1<=m&&0<=y);break}}}finally{$t=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Wn(c):""}function js(s){switch(s.tag){case 26:case 27:case 5:return Wn(s.type);case 16:return Wn("Lazy");case 13:return Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return Ui(s.type,!1);case 11:return Ui(s.type.render,!1);case 1:return Ui(s.type,!0);case 31:return Wn("Activity");default:return""}}function Ls(s){try{var o="";do o+=js(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function br(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function sf(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function qy(s){var o=sf(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),m=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,_=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(P){m=""+P,_.call(this,P)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(P){m=""+P},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function fu(s){s._valueTracker||(s._valueTracker=qy(s))}function of(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return s&&(m=sf(s)?s.checked?"true":"false":s.value),s=m,s!==c?(o.setValue(s),!0):!1}function Go(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Fy=/[\n"\\]/g;function dn(s){return s.replace(Fy,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ur(s,o,c,m,y,_,P,j){s.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.type=P:s.removeAttribute("type"),o!=null?P==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+br(o)):s.value!==""+br(o)&&(s.value=""+br(o)):P!=="submit"&&P!=="reset"||s.removeAttribute("value"),o!=null?Us(s,P,br(o)):c!=null?Us(s,P,br(c)):m!=null&&s.removeAttribute("value"),y==null&&_!=null&&(s.defaultChecked=!!_),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.name=""+br(j):s.removeAttribute("name")}function Yo(s,o,c,m,y,_,P,j){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),o!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;c=c!=null?""+br(c):"",o=o!=null?""+br(o):c,j||o===s.value||(s.value=o),s.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=j?s.checked:!!m,s.defaultChecked=!!m,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(s.name=P)}function Us(s,o,c){o==="number"&&Go(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Ua(s,o,c,m){if(s=s.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=o.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&m&&(s[c].defaultSelected=!0)}else{for(c=""+br(c),o=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,m&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Nt(s,o,c){if(o!=null&&(o=""+br(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+br(c):""}function Wo(s,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(Ne(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=br(o),s.defaultValue=c,m=s.textContent,m===c&&m!==""&&m!==null&&(s.value=m)}function ci(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nd(s,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":m?s.setProperty(o,c):typeof c!="number"||c===0||Xo.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function lf(s,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&c[y]!==m&&Nd(s,y,m)}else for(var _ in o)o.hasOwnProperty(_)&&Nd(s,_,o[_])}function uf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ky=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hu(s){return Ky.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Va=null;function fi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $a=null,Ba=null;function cf(s){var o=ht(s);if(o&&(s=o.stateNode)){var c=s[ge]||null;e:switch(s=o.stateNode,o.type){case"input":if(Ur(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+dn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==s&&m.form===s.form){var y=m[ge]||null;if(!y)throw Error(r(90));Ur(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===s.form&&of(m)}break e;case"textarea":Nt(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Ua(s,!!c.multiple,o,!1)}}}var oa=!1;function kd(s,o,c){if(oa)return s(o,c);oa=!0;try{var m=s(o);return m}finally{if(oa=!1,($a!==null||Ba!==null)&&(Om(),$a&&(o=$a,s=Ba,Ba=$a=null,cf(o),s)))for(o=0;o<s.length;o++)cf(s[o])}}function Qo(s,o){var c=s.stateNode;if(c===null)return null;var m=c[ge]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hi=!1;if(Vi)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){hi=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{hi=!1}var la=null,Vs=null,za=null;function ff(){if(za)return za;var s,o=Vs,c=o.length,m,y="value"in la?la.value:la.textContent,_=y.length;for(s=0;s<c&&o[s]===y[s];s++);var P=c-s;for(m=1;m<=P&&o[c-m]===y[_-m];m++);return za=y.slice(s,1<m?1-m:void 0)}function ua(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ca(){return!0}function hf(){return!1}function Ln(s){function o(c,m,y,_,P){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(c=s[j],this[j]=c?c(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ca:hf,this.isPropagationStopped=hf,this}return d(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),o}var xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=Ln(xt),Zo=d({},xt,{view:0,detail:0}),Md=Ln(Zo),mu,pu,fa,el=d({},Zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rl,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fa&&(fa&&s.type==="mousemove"?(mu=s.screenX-fa.screenX,pu=s.screenY-fa.screenY):pu=mu=0,fa=s),mu)},movementY:function(s){return"movementY"in s?s.movementY:pu}}),di=Ln(el),jd=d({},el,{dataTransfer:0}),Gy=Ln(jd),tl=d({},Zo,{relatedTarget:0}),gu=Ln(tl),df=d({},xt,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Ln(df),Ld=d({},xt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),vu=Ln(Ld),Yy=d({},xt,{data:0}),mf=Ln(Yy),nl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pf(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Vd[s])?!!o[s]:!1}function rl(){return pf}var $d=d({},Zo,{key:function(s){if(s.key){var o=nl[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ua(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ud[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rl,charCode:function(s){return s.type==="keypress"?ua(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ua(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),bu=Ln($d),Bd=d({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gf=Ln(Bd),qa=d({},Zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rl}),zd=Ln(qa),qd=d({},xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fd=Ln(qd),Hd=d({},el,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),_u=Ln(Hd),_r=d({},xt,{newState:0,oldState:0}),Kd=Ln(_r),Gd=[9,13,27,32],ha=Vi&&"CompositionEvent"in window,g=null;Vi&&"documentMode"in document&&(g=document.documentMode);var T=Vi&&"TextEvent"in window&&!g,R=Vi&&(!ha||g&&8<g&&11>=g),U=" ",Q=!1;function re(s,o){switch(s){case"keyup":return Gd.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var dt=!1;function Tn(s,o){switch(s){case"compositionend":return be(o);case"keypress":return o.which!==32?null:(Q=!0,U);case"textInput":return s=o.data,s===U&&Q?null:s;default:return null}}function mt(s,o){if(dt)return s==="compositionend"||!ha&&re(s,o)?(s=ff(),za=Vs=la=null,dt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return R&&o.locale!=="ko"?null:o.data;default:return null}}var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Un[s.type]:o==="textarea"}function Fa(s,o,c,m){$a?Ba?Ba.push(m):Ba=[m]:$a=m,o=Nm(o,"onChange"),0<o.length&&(c=new du("onChange","change",null,c,m),s.push({event:c,listeners:o}))}var Xn=null,da=null;function yf(s){$x(s,0)}function Yd(s){var o=Rt(s);if(of(o))return s}function oT(s,o){if(s==="change")return o}var lT=!1;if(Vi){var Wy;if(Vi){var Xy="oninput"in document;if(!Xy){var uT=document.createElement("div");uT.setAttribute("oninput","return;"),Xy=typeof uT.oninput=="function"}Wy=Xy}else Wy=!1;lT=Wy&&(!document.documentMode||9<document.documentMode)}function cT(){Xn&&(Xn.detachEvent("onpropertychange",fT),da=Xn=null)}function fT(s){if(s.propertyName==="value"&&Yd(da)){var o=[];Fa(o,da,s,fi(s)),kd(yf,o)}}function OU(s,o,c){s==="focusin"?(cT(),Xn=o,da=c,Xn.attachEvent("onpropertychange",fT)):s==="focusout"&&cT()}function RU(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yd(da)}function CU(s,o){if(s==="click")return Yd(o)}function PU(s,o){if(s==="input"||s==="change")return Yd(o)}function DU(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Vr=typeof Object.is=="function"?Object.is:DU;function vf(s,o){if(Vr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!pe.call(o,y)||!Vr(s[y],o[y]))return!1}return!0}function hT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function dT(s,o){var c=hT(s);s=0;for(var m;c;){if(c.nodeType===3){if(m=s+c.textContent.length,s<=o&&m>=o)return{node:c,offset:o-s};s=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=hT(c)}}function mT(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?mT(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function pT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Go(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Go(s.document)}return o}function Qy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var IU=Vi&&"documentMode"in document&&11>=document.documentMode,wu=null,Jy=null,bf=null,Zy=!1;function gT(s,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Zy||wu==null||wu!==Go(m)||(m=wu,"selectionStart"in m&&Qy(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),bf&&vf(bf,m)||(bf=m,m=Nm(Jy,"onSelect"),0<m.length&&(o=new du("onSelect","select",null,o,c),s.push({event:o,listeners:m}),o.target=wu)))}function il(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Eu={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionrun:il("Transition","TransitionRun"),transitionstart:il("Transition","TransitionStart"),transitioncancel:il("Transition","TransitionCancel"),transitionend:il("Transition","TransitionEnd")},ev={},yT={};Vi&&(yT=document.createElement("div").style,"AnimationEvent"in window||(delete Eu.animationend.animation,delete Eu.animationiteration.animation,delete Eu.animationstart.animation),"TransitionEvent"in window||delete Eu.transitionend.transition);function al(s){if(ev[s])return ev[s];if(!Eu[s])return s;var o=Eu[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in yT)return ev[s]=o[c];return s}var vT=al("animationend"),bT=al("animationiteration"),_T=al("animationstart"),NU=al("transitionrun"),kU=al("transitionstart"),MU=al("transitioncancel"),wT=al("transitionend"),ET=new Map,tv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tv.push("scrollEnd");function $i(s,o){ET.set(s,o),Yn(o,[s])}var ST=new WeakMap;function mi(s,o){if(typeof s=="object"&&s!==null){var c=ST.get(s);return c!==void 0?c:(o={value:s,source:o,stack:Ls(o)},ST.set(s,o),o)}return{value:s,source:o,stack:Ls(o)}}var pi=[],Su=0,nv=0;function Wd(){for(var s=Su,o=nv=Su=0;o<s;){var c=pi[o];pi[o++]=null;var m=pi[o];pi[o++]=null;var y=pi[o];pi[o++]=null;var _=pi[o];if(pi[o++]=null,m!==null&&y!==null){var P=m.pending;P===null?y.next=y:(y.next=P.next,P.next=y),m.pending=y}_!==0&&TT(c,y,_)}}function Xd(s,o,c,m){pi[Su++]=s,pi[Su++]=o,pi[Su++]=c,pi[Su++]=m,nv|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function rv(s,o,c,m){return Xd(s,o,c,m),Qd(s)}function Tu(s,o){return Xd(s,null,null,o),Qd(s)}function TT(s,o,c){s.lanes|=c;var m=s.alternate;m!==null&&(m.lanes|=c);for(var y=!1,_=s.return;_!==null;)_.childLanes|=c,m=_.alternate,m!==null&&(m.childLanes|=c),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(y=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,y&&o!==null&&(y=31-hn(c),s=_.hiddenUpdates,m=s[y],m===null?s[y]=[o]:m.push(o),o.lane=c|536870912),_):null}function Qd(s){if(50<Ff)throw Ff=0,u0=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Au={};function jU(s,o,c,m){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(s,o,c,m){return new jU(s,o,c,m)}function iv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ha(s,o){var c=s.alternate;return c===null?(c=$r(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function AT(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Jd(s,o,c,m,y,_){var P=0;if(m=s,typeof s=="function")iv(s)&&(P=1);else if(typeof s=="string")P=UV(s,c,Te.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=$r(31,c,o,y),s.elementType=M,s.lanes=_,s;case w:return sl(c.children,y,_,o);case E:P=8,y|=24;break;case S:return s=$r(12,c,o,y|2),s.elementType=S,s.lanes=_,s;case I:return s=$r(13,c,o,y),s.elementType=I,s.lanes=_,s;case D:return s=$r(19,c,o,y),s.elementType=D,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case x:case O:P=10;break e;case C:P=9;break e;case V:P=11;break e;case N:P=14;break e;case k:P=16,m=null;break e}P=29,c=Error(r(130,s===null?"null":typeof s,"")),m=null}return o=$r(P,c,o,y),o.elementType=s,o.type=m,o.lanes=_,o}function sl(s,o,c,m){return s=$r(7,s,m,o),s.lanes=c,s}function av(s,o,c){return s=$r(6,s,null,o),s.lanes=c,s}function sv(s,o,c){return o=$r(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var xu=[],Ou=0,Zd=null,em=0,gi=[],yi=0,ol=null,Ka=1,Ga="";function ll(s,o){xu[Ou++]=em,xu[Ou++]=Zd,Zd=s,em=o}function xT(s,o,c){gi[yi++]=Ka,gi[yi++]=Ga,gi[yi++]=ol,ol=s;var m=Ka;s=Ga;var y=32-hn(m)-1;m&=~(1<<y),c+=1;var _=32-hn(o)+y;if(30<_){var P=y-y%5;_=(m&(1<<P)-1).toString(32),m>>=P,y-=P,Ka=1<<32-hn(o)+y|c<<y|m,Ga=_+s}else Ka=1<<_|c<<y|m,Ga=s}function ov(s){s.return!==null&&(ll(s,1),xT(s,1,0))}function lv(s){for(;s===Zd;)Zd=xu[--Ou],xu[Ou]=null,em=xu[--Ou],xu[Ou]=null;for(;s===ol;)ol=gi[--yi],gi[yi]=null,Ga=gi[--yi],gi[yi]=null,Ka=gi[--yi],gi[yi]=null}var wr=null,nn=null,St=!1,ul=null,ma=!1,uv=Error(r(519));function cl(s){var o=Error(r(418,""));throw Ef(mi(o,s)),uv}function OT(s){var o=s.stateNode,c=s.type,m=s.memoizedProps;switch(o[fe]=s,o[ge]=m,c){case"dialog":lt("cancel",o),lt("close",o);break;case"iframe":case"object":case"embed":lt("load",o);break;case"video":case"audio":for(c=0;c<Kf.length;c++)lt(Kf[c],o);break;case"source":lt("error",o);break;case"img":case"image":case"link":lt("error",o),lt("load",o);break;case"details":lt("toggle",o);break;case"input":lt("invalid",o),Yo(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),fu(o);break;case"select":lt("invalid",o);break;case"textarea":lt("invalid",o),Wo(o,m.value,m.defaultValue,m.children),fu(o)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||Fx(o.textContent,c)?(m.popover!=null&&(lt("beforetoggle",o),lt("toggle",o)),m.onScroll!=null&&lt("scroll",o),m.onScrollEnd!=null&&lt("scrollend",o),m.onClick!=null&&(o.onclick=km),o=!0):o=!1,o||cl(s)}function RT(s){for(wr=s.return;wr;)switch(wr.tag){case 5:case 13:ma=!1;return;case 27:case 3:ma=!0;return;default:wr=wr.return}}function _f(s){if(s!==wr)return!1;if(!St)return RT(s),St=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||A0(s.type,s.memoizedProps)),c=!c),c&&nn&&cl(s),RT(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){nn=zi(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}nn=null}}else o===27?(o=nn,to(s.type)?(s=C0,C0=null,nn=s):nn=o):nn=wr?zi(s.stateNode.nextSibling):null;return!0}function wf(){nn=wr=null,St=!1}function CT(){var s=ul;return s!==null&&(xr===null?xr=s:xr.push.apply(xr,s),ul=null),s}function Ef(s){ul===null?ul=[s]:ul.push(s)}var cv=se(null),fl=null,Ya=null;function $s(s,o,c){me(cv,o._currentValue),o._currentValue=c}function Wa(s){s._currentValue=cv.current,ae(cv)}function fv(s,o,c){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===c)break;s=s.return}}function hv(s,o,c,m){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var _=y.dependencies;if(_!==null){var P=y.child;_=_.firstContext;e:for(;_!==null;){var j=_;_=y;for(var F=0;F<o.length;F++)if(j.context===o[F]){_.lanes|=c,j=_.alternate,j!==null&&(j.lanes|=c),fv(_.return,c,s),m||(P=null);break e}_=j.next}}else if(y.tag===18){if(P=y.return,P===null)throw Error(r(341));P.lanes|=c,_=P.alternate,_!==null&&(_.lanes|=c),fv(P,c,s),P=null}else P=y.child;if(P!==null)P.return=y;else for(P=y;P!==null;){if(P===s){P=null;break}if(y=P.sibling,y!==null){y.return=P.return,P=y;break}P=P.return}y=P}}function Sf(s,o,c,m){s=null;for(var y=o,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var P=y.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var j=y.type;Vr(y.pendingProps.value,P.value)||(s!==null?s.push(j):s=[j])}}else if(y===tn.current){if(P=y.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Jf):s=[Jf])}y=y.return}s!==null&&hv(o,s,c,m),o.flags|=262144}function tm(s){for(s=s.firstContext;s!==null;){if(!Vr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function hl(s){fl=s,Ya=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function or(s){return PT(fl,s)}function nm(s,o){return fl===null&&hl(s),PT(s,o)}function PT(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ya===null){if(s===null)throw Error(r(308));Ya=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Ya=Ya.next=o;return c}var LU=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,m){s.push(m)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},UU=t.unstable_scheduleCallback,VU=t.unstable_NormalPriority,xn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dv(){return{controller:new LU,data:new Map,refCount:0}}function Tf(s){s.refCount--,s.refCount===0&&UU(VU,function(){s.controller.abort()})}var Af=null,mv=0,Ru=0,Cu=null;function $U(s,o){if(Af===null){var c=Af=[];mv=0,Ru=g0(),Cu={status:"pending",value:void 0,then:function(m){c.push(m)}}}return mv++,o.then(DT,DT),o}function DT(){if(--mv===0&&Af!==null){Cu!==null&&(Cu.status="fulfilled");var s=Af;Af=null,Ru=0,Cu=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function BU(s,o){var c=[],m={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return s.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),m}var IT=Y.S;Y.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&$U(s,o),IT!==null&&IT(s,o)};var dl=se(null);function pv(){var s=dl.current;return s!==null?s:Bt.pooledCache}function rm(s,o){o===null?me(dl,dl.current):me(dl,o.pool)}function NT(){var s=pv();return s===null?null:{parent:xn._currentValue,pool:s}}var xf=Error(r(460)),kT=Error(r(474)),im=Error(r(542)),gv={then:function(){}};function MT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function am(){}function jT(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(am,am),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,UT(s),s;default:if(typeof o.status=="string")o.then(am,am);else{if(s=Bt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,UT(s),s}throw Of=o,xf}}var Of=null;function LT(){if(Of===null)throw Error(r(459));var s=Of;return Of=null,s}function UT(s){if(s===xf||s===im)throw Error(r(483))}var Bs=!1;function yv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function zs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function qs(s,o,c){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Ct&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=Qd(s),TT(s,null,c),o}return Xd(s,m,o,c),Qd(s)}function Rf(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=s.pendingLanes,c|=m,o.lanes=c,aa(s,c)}}function bv(s,o){var c=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var P={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?y=_=P:_=_.next=P,c=c.next}while(c!==null);_===null?y=_=o:_=_.next=o}else y=_=o;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var _v=!1;function Cf(){if(_v){var s=Cu;if(s!==null)throw s}}function Pf(s,o,c,m){_v=!1;var y=s.updateQueue;Bs=!1;var _=y.firstBaseUpdate,P=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var F=j,Z=F.next;F.next=null,P===null?_=Z:P.next=Z,P=F;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,j=oe.lastBaseUpdate,j!==P&&(j===null?oe.firstBaseUpdate=Z:j.next=Z,oe.lastBaseUpdate=F))}if(_!==null){var ce=y.baseState;P=0,oe=Z=F=null,j=_;do{var te=j.lane&-536870913,ne=te!==j.lane;if(ne?(pt&te)===te:(m&te)===te){te!==0&&te===Ru&&(_v=!0),oe!==null&&(oe=oe.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ye=s,qe=j;te=o;var jt=c;switch(qe.tag){case 1:if(Ye=qe.payload,typeof Ye=="function"){ce=Ye.call(jt,ce,te);break e}ce=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=qe.payload,te=typeof Ye=="function"?Ye.call(jt,ce,te):Ye,te==null)break e;ce=d({},ce,te);break e;case 2:Bs=!0}}te=j.callback,te!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=y.callbacks,ne===null?y.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:j.tag,payload:j.payload,callback:j.callback,next:null},oe===null?(Z=oe=ne,F=ce):oe=oe.next=ne,P|=te;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;ne=j,j=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);oe===null&&(F=ce),y.baseState=F,y.firstBaseUpdate=Z,y.lastBaseUpdate=oe,_===null&&(y.shared.lanes=0),Qs|=P,s.lanes=P,s.memoizedState=ce}}function VT(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function $T(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)VT(c[s],o)}var Pu=se(null),sm=se(0);function BT(s,o){s=ns,me(sm,s),me(Pu,o),ns=s|o.baseLanes}function wv(){me(sm,ns),me(Pu,Pu.current)}function Ev(){ns=sm.current,ae(Pu),ae(sm)}var Fs=0,rt=null,kt=null,mn=null,om=!1,Du=!1,ml=!1,lm=0,Df=0,Iu=null,zU=0;function ln(){throw Error(r(321))}function Sv(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Vr(s[c],o[c]))return!1;return!0}function Tv(s,o,c,m,y,_){return Fs=_,rt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=s===null||s.memoizedState===null?TA:AA,ml=!1,_=c(m,y),ml=!1,Du&&(_=qT(o,c,m,y)),zT(s),_}function zT(s){Y.H=mm;var o=kt!==null&&kt.next!==null;if(Fs=0,mn=kt=rt=null,om=!1,Df=0,Iu=null,o)throw Error(r(300));s===null||Vn||(s=s.dependencies,s!==null&&tm(s)&&(Vn=!0))}function qT(s,o,c,m){rt=s;var y=0;do{if(Du&&(Iu=null),Df=0,Du=!1,25<=y)throw Error(r(301));if(y+=1,mn=kt=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Y.H=WU,_=o(c,m)}while(Du);return _}function qU(){var s=Y.H,o=s.useState()[0];return o=typeof o.then=="function"?If(o):o,s=s.useState()[0],(kt!==null?kt.memoizedState:null)!==s&&(rt.flags|=1024),o}function Av(){var s=lm!==0;return lm=0,s}function xv(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function Ov(s){if(om){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}om=!1}Fs=0,mn=kt=rt=null,Du=!1,Df=lm=0,Iu=null}function Tr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?rt.memoizedState=mn=s:mn=mn.next=s,mn}function pn(){if(kt===null){var s=rt.alternate;s=s!==null?s.memoizedState:null}else s=kt.next;var o=mn===null?rt.memoizedState:mn.next;if(o!==null)mn=o,kt=s;else{if(s===null)throw rt.alternate===null?Error(r(467)):Error(r(310));kt=s,s={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},mn===null?rt.memoizedState=mn=s:mn=mn.next=s}return mn}function Rv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function If(s){var o=Df;return Df+=1,Iu===null&&(Iu=[]),s=jT(Iu,s,o),o=rt,(mn===null?o.memoizedState:mn.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?TA:AA),s}function um(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return If(s);if(s.$$typeof===O)return or(s)}throw Error(r(438,String(s)))}function Cv(s){var o=null,c=rt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=rt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Rv(),rt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),m=0;m<s;m++)c[m]=z;return o.index++,c}function Xa(s,o){return typeof o=="function"?o(s):o}function cm(s){var o=pn();return Pv(o,kt,s)}function Pv(s,o,c){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var y=s.baseQueue,_=m.pending;if(_!==null){if(y!==null){var P=y.next;y.next=_.next,_.next=P}o.baseQueue=y=_,m.pending=null}if(_=s.baseState,y===null)s.memoizedState=_;else{o=y.next;var j=P=null,F=null,Z=o,oe=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(pt&ce)===ce:(Fs&ce)===ce){var te=Z.revertLane;if(te===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===Ru&&(oe=!0);else if((Fs&te)===te){Z=Z.next,te===Ru&&(oe=!0);continue}else ce={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(j=F=ce,P=_):F=F.next=ce,rt.lanes|=te,Qs|=te;ce=Z.action,ml&&c(_,ce),_=Z.hasEagerState?Z.eagerState:c(_,ce)}else te={lane:ce,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(j=F=te,P=_):F=F.next=te,rt.lanes|=ce,Qs|=ce;Z=Z.next}while(Z!==null&&Z!==o);if(F===null?P=_:F.next=j,!Vr(_,s.memoizedState)&&(Vn=!0,oe&&(c=Cu,c!==null)))throw c;s.memoizedState=_,s.baseState=P,s.baseQueue=F,m.lastRenderedState=_}return y===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function Dv(s){var o=pn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var m=c.dispatch,y=c.pending,_=o.memoizedState;if(y!==null){c.pending=null;var P=y=y.next;do _=s(_,P.action),P=P.next;while(P!==y);Vr(_,o.memoizedState)||(Vn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,m]}function FT(s,o,c){var m=rt,y=pn(),_=St;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=o();var P=!Vr((kt||y).memoizedState,c);P&&(y.memoizedState=c,Vn=!0),y=y.queue;var j=GT.bind(null,m,y,s);if(Nf(2048,8,j,[s]),y.getSnapshot!==o||P||mn!==null&&mn.memoizedState.tag&1){if(m.flags|=2048,Nu(9,fm(),KT.bind(null,m,y,c,o),null),Bt===null)throw Error(r(349));_||(Fs&124)!==0||HT(m,o,c)}return c}function HT(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=rt.updateQueue,o===null?(o=Rv(),rt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function KT(s,o,c,m){o.value=c,o.getSnapshot=m,YT(o)&&WT(s)}function GT(s,o,c){return c(function(){YT(o)&&WT(s)})}function YT(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Vr(s,c)}catch{return!0}}function WT(s){var o=Tu(s,2);o!==null&&Hr(o,s,2)}function Iv(s){var o=Tr();if(typeof s=="function"){var c=s;if(s=c(),ml){sr(!0);try{c()}finally{sr(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:s},o}function XT(s,o,c,m){return s.baseState=c,Pv(s,kt,typeof m=="function"?m:Xa)}function FU(s,o,c,m,y){if(dm(s))throw Error(r(485));if(s=o.action,s!==null){var _={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){_.listeners.push(P)}};Y.T!==null?c(!0):_.isTransition=!1,m(_),c=o.pending,c===null?(_.next=o.pending=_,QT(o,_)):(_.next=c.next,o.pending=c.next=_)}}function QT(s,o){var c=o.action,m=o.payload,y=s.state;if(o.isTransition){var _=Y.T,P={};Y.T=P;try{var j=c(y,m),F=Y.S;F!==null&&F(P,j),JT(s,o,j)}catch(Z){Nv(s,o,Z)}finally{Y.T=_}}else try{_=c(y,m),JT(s,o,_)}catch(Z){Nv(s,o,Z)}}function JT(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){ZT(s,o,m)},function(m){return Nv(s,o,m)}):ZT(s,o,c)}function ZT(s,o,c){o.status="fulfilled",o.value=c,eA(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,QT(s,c)))}function Nv(s,o,c){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,eA(o),o=o.next;while(o!==m)}s.action=null}function eA(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function tA(s,o){return o}function nA(s,o){if(St){var c=Bt.formState;if(c!==null){e:{var m=rt;if(St){if(nn){t:{for(var y=nn,_=ma;y.nodeType!==8;){if(!_){y=null;break t}if(y=zi(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){nn=zi(y.nextSibling),m=y.data==="F!";break e}}cl(m)}m=!1}m&&(o=c[0])}}return c=Tr(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tA,lastRenderedState:o},c.queue=m,c=wA.bind(null,rt,m),m.dispatch=c,m=Iv(!1),_=Uv.bind(null,rt,!1,m.queue),m=Tr(),y={state:o,dispatch:null,action:s,pending:null},m.queue=y,c=FU.bind(null,rt,y,_,c),y.dispatch=c,m.memoizedState=s,[o,c,!1]}function rA(s){var o=pn();return iA(o,kt,s)}function iA(s,o,c){if(o=Pv(s,o,tA)[0],s=cm(Xa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=If(o)}catch(P){throw P===xf?im:P}else m=o;o=pn();var y=o.queue,_=y.dispatch;return c!==o.memoizedState&&(rt.flags|=2048,Nu(9,fm(),HU.bind(null,y,c),null)),[m,_,s]}function HU(s,o){s.action=o}function aA(s){var o=pn(),c=kt;if(c!==null)return iA(o,c,s);pn(),o=o.memoizedState,c=pn();var m=c.queue.dispatch;return c.memoizedState=s,[o,m,!1]}function Nu(s,o,c,m){return s={tag:s,create:c,deps:m,inst:o,next:null},o=rt.updateQueue,o===null&&(o=Rv(),rt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(m=c.next,c.next=s,s.next=m,o.lastEffect=s),s}function fm(){return{destroy:void 0,resource:void 0}}function sA(){return pn().memoizedState}function hm(s,o,c,m){var y=Tr();m=m===void 0?null:m,rt.flags|=s,y.memoizedState=Nu(1|o,fm(),c,m)}function Nf(s,o,c,m){var y=pn();m=m===void 0?null:m;var _=y.memoizedState.inst;kt!==null&&m!==null&&Sv(m,kt.memoizedState.deps)?y.memoizedState=Nu(o,_,c,m):(rt.flags|=s,y.memoizedState=Nu(1|o,_,c,m))}function oA(s,o){hm(8390656,8,s,o)}function lA(s,o){Nf(2048,8,s,o)}function uA(s,o){return Nf(4,2,s,o)}function cA(s,o){return Nf(4,4,s,o)}function fA(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function hA(s,o,c){c=c!=null?c.concat([s]):null,Nf(4,4,fA.bind(null,o,s),c)}function kv(){}function dA(s,o){var c=pn();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&Sv(o,m[1])?m[0]:(c.memoizedState=[s,o],s)}function mA(s,o){var c=pn();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&Sv(o,m[1]))return m[0];if(m=s(),ml){sr(!0);try{s()}finally{sr(!1)}}return c.memoizedState=[m,o],m}function Mv(s,o,c){return c===void 0||(Fs&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=yx(),rt.lanes|=s,Qs|=s,c)}function pA(s,o,c,m){return Vr(c,o)?c:Pu.current!==null?(s=Mv(s,c,m),Vr(s,o)||(Vn=!0),s):(Fs&42)===0?(Vn=!0,s.memoizedState=c):(s=yx(),rt.lanes|=s,Qs|=s,o)}function gA(s,o,c,m,y){var _=ue.p;ue.p=_!==0&&8>_?_:8;var P=Y.T,j={};Y.T=j,Uv(s,!1,o,c);try{var F=y(),Z=Y.S;if(Z!==null&&Z(j,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var oe=BU(F,m);kf(s,o,oe,Fr(s))}else kf(s,o,m,Fr(s))}catch(ce){kf(s,o,{then:function(){},status:"rejected",reason:ce},Fr())}finally{ue.p=_,Y.T=P}}function KU(){}function jv(s,o,c,m){if(s.tag!==5)throw Error(r(476));var y=yA(s).queue;gA(s,y,o,ve,c===null?KU:function(){return vA(s),c(m)})}function yA(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:ve},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function vA(s){var o=yA(s).next.queue;kf(s,o,{},Fr())}function Lv(){return or(Jf)}function bA(){return pn().memoizedState}function _A(){return pn().memoizedState}function GU(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=Fr();s=zs(c);var m=qs(o,s,c);m!==null&&(Hr(m,o,c),Rf(m,o,c)),o={cache:dv()},s.payload=o;return}o=o.return}}function YU(s,o,c){var m=Fr();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},dm(s)?EA(o,c):(c=rv(s,o,c,m),c!==null&&(Hr(c,s,m),SA(c,o,m)))}function wA(s,o,c){var m=Fr();kf(s,o,c,m)}function kf(s,o,c,m){var y={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(dm(s))EA(o,y);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var P=o.lastRenderedState,j=_(P,c);if(y.hasEagerState=!0,y.eagerState=j,Vr(j,P))return Xd(s,o,y,0),Bt===null&&Wd(),!1}catch{}finally{}if(c=rv(s,o,y,m),c!==null)return Hr(c,s,m),SA(c,o,m),!0}return!1}function Uv(s,o,c,m){if(m={lane:2,revertLane:g0(),action:m,hasEagerState:!1,eagerState:null,next:null},dm(s)){if(o)throw Error(r(479))}else o=rv(s,c,m,2),o!==null&&Hr(o,s,2)}function dm(s){var o=s.alternate;return s===rt||o!==null&&o===rt}function EA(s,o){Du=om=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function SA(s,o,c){if((c&4194048)!==0){var m=o.lanes;m&=s.pendingLanes,c|=m,o.lanes=c,aa(s,c)}}var mm={readContext:or,use:um,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln},TA={readContext:or,use:um,useCallback:function(s,o){return Tr().memoizedState=[s,o===void 0?null:o],s},useContext:or,useEffect:oA,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,hm(4194308,4,fA.bind(null,o,s),c)},useLayoutEffect:function(s,o){return hm(4194308,4,s,o)},useInsertionEffect:function(s,o){hm(4,2,s,o)},useMemo:function(s,o){var c=Tr();o=o===void 0?null:o;var m=s();if(ml){sr(!0);try{s()}finally{sr(!1)}}return c.memoizedState=[m,o],m},useReducer:function(s,o,c){var m=Tr();if(c!==void 0){var y=c(o);if(ml){sr(!0);try{c(o)}finally{sr(!1)}}}else y=o;return m.memoizedState=m.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},m.queue=s,s=s.dispatch=YU.bind(null,rt,s),[m.memoizedState,s]},useRef:function(s){var o=Tr();return s={current:s},o.memoizedState=s},useState:function(s){s=Iv(s);var o=s.queue,c=wA.bind(null,rt,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:kv,useDeferredValue:function(s,o){var c=Tr();return Mv(c,s,o)},useTransition:function(){var s=Iv(!1);return s=gA.bind(null,rt,s.queue,!0,!1),Tr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var m=rt,y=Tr();if(St){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Bt===null)throw Error(r(349));(pt&124)!==0||HT(m,o,c)}y.memoizedState=c;var _={value:c,getSnapshot:o};return y.queue=_,oA(GT.bind(null,m,_,s),[s]),m.flags|=2048,Nu(9,fm(),KT.bind(null,m,_,c,o),null),c},useId:function(){var s=Tr(),o=Bt.identifierPrefix;if(St){var c=Ga,m=Ka;c=(m&~(1<<32-hn(m)-1)).toString(32)+c,o="«"+o+"R"+c,c=lm++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=zU++,o="«"+o+"r"+c.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:Lv,useFormState:nA,useActionState:nA,useOptimistic:function(s){var o=Tr();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Uv.bind(null,rt,!0,c),c.dispatch=o,[s,o]},useMemoCache:Cv,useCacheRefresh:function(){return Tr().memoizedState=GU.bind(null,rt)}},AA={readContext:or,use:um,useCallback:dA,useContext:or,useEffect:lA,useImperativeHandle:hA,useInsertionEffect:uA,useLayoutEffect:cA,useMemo:mA,useReducer:cm,useRef:sA,useState:function(){return cm(Xa)},useDebugValue:kv,useDeferredValue:function(s,o){var c=pn();return pA(c,kt.memoizedState,s,o)},useTransition:function(){var s=cm(Xa)[0],o=pn().memoizedState;return[typeof s=="boolean"?s:If(s),o]},useSyncExternalStore:FT,useId:bA,useHostTransitionStatus:Lv,useFormState:rA,useActionState:rA,useOptimistic:function(s,o){var c=pn();return XT(c,kt,s,o)},useMemoCache:Cv,useCacheRefresh:_A},WU={readContext:or,use:um,useCallback:dA,useContext:or,useEffect:lA,useImperativeHandle:hA,useInsertionEffect:uA,useLayoutEffect:cA,useMemo:mA,useReducer:Dv,useRef:sA,useState:function(){return Dv(Xa)},useDebugValue:kv,useDeferredValue:function(s,o){var c=pn();return kt===null?Mv(c,s,o):pA(c,kt.memoizedState,s,o)},useTransition:function(){var s=Dv(Xa)[0],o=pn().memoizedState;return[typeof s=="boolean"?s:If(s),o]},useSyncExternalStore:FT,useId:bA,useHostTransitionStatus:Lv,useFormState:aA,useActionState:aA,useOptimistic:function(s,o){var c=pn();return kt!==null?XT(c,kt,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Cv,useCacheRefresh:_A},ku=null,Mf=0;function pm(s){var o=Mf;return Mf+=1,ku===null&&(ku=[]),jT(ku,s,o)}function jf(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function gm(s,o){throw o.$$typeof===p?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function xA(s){var o=s._init;return o(s._payload)}function OA(s){function o(W,G){if(s){var J=W.deletions;J===null?(W.deletions=[G],W.flags|=16):J.push(G)}}function c(W,G){if(!s)return null;for(;G!==null;)o(W,G),G=G.sibling;return null}function m(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function y(W,G){return W=Ha(W,G),W.index=0,W.sibling=null,W}function _(W,G,J){return W.index=J,s?(J=W.alternate,J!==null?(J=J.index,J<G?(W.flags|=67108866,G):J):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function P(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function j(W,G,J,le){return G===null||G.tag!==6?(G=av(J,W.mode,le),G.return=W,G):(G=y(G,J),G.return=W,G)}function F(W,G,J,le){var xe=J.type;return xe===w?oe(W,G,J.props.children,le,J.key):G!==null&&(G.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===k&&xA(xe)===G.type)?(G=y(G,J.props),jf(G,J),G.return=W,G):(G=Jd(J.type,J.key,J.props,null,W.mode,le),jf(G,J),G.return=W,G)}function Z(W,G,J,le){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=sv(J,W.mode,le),G.return=W,G):(G=y(G,J.children||[]),G.return=W,G)}function oe(W,G,J,le,xe){return G===null||G.tag!==7?(G=sl(J,W.mode,le,xe),G.return=W,G):(G=y(G,J),G.return=W,G)}function ce(W,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=av(""+G,W.mode,J),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return J=Jd(G.type,G.key,G.props,null,W.mode,J),jf(J,G),J.return=W,J;case b:return G=sv(G,W.mode,J),G.return=W,G;case k:var le=G._init;return G=le(G._payload),ce(W,G,J)}if(Ne(G)||q(G))return G=sl(G,W.mode,J,null),G.return=W,G;if(typeof G.then=="function")return ce(W,pm(G),J);if(G.$$typeof===O)return ce(W,nm(W,G),J);gm(W,G)}return null}function te(W,G,J,le){var xe=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return xe!==null?null:j(W,G,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return J.key===xe?F(W,G,J,le):null;case b:return J.key===xe?Z(W,G,J,le):null;case k:return xe=J._init,J=xe(J._payload),te(W,G,J,le)}if(Ne(J)||q(J))return xe!==null?null:oe(W,G,J,le,null);if(typeof J.then=="function")return te(W,G,pm(J),le);if(J.$$typeof===O)return te(W,G,nm(W,J),le);gm(W,J)}return null}function ne(W,G,J,le,xe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return W=W.get(J)||null,j(G,W,""+le,xe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case v:return W=W.get(le.key===null?J:le.key)||null,F(G,W,le,xe);case b:return W=W.get(le.key===null?J:le.key)||null,Z(G,W,le,xe);case k:var at=le._init;return le=at(le._payload),ne(W,G,J,le,xe)}if(Ne(le)||q(le))return W=W.get(J)||null,oe(G,W,le,xe,null);if(typeof le.then=="function")return ne(W,G,J,pm(le),xe);if(le.$$typeof===O)return ne(W,G,J,nm(G,le),xe);gm(G,le)}return null}function Ye(W,G,J,le){for(var xe=null,at=null,je=G,He=G=0,Bn=null;je!==null&&He<J.length;He++){je.index>He?(Bn=je,je=null):Bn=je.sibling;var vt=te(W,je,J[He],le);if(vt===null){je===null&&(je=Bn);break}s&&je&&vt.alternate===null&&o(W,je),G=_(vt,G,He),at===null?xe=vt:at.sibling=vt,at=vt,je=Bn}if(He===J.length)return c(W,je),St&&ll(W,He),xe;if(je===null){for(;He<J.length;He++)je=ce(W,J[He],le),je!==null&&(G=_(je,G,He),at===null?xe=je:at.sibling=je,at=je);return St&&ll(W,He),xe}for(je=m(je);He<J.length;He++)Bn=ne(je,W,He,J[He],le),Bn!==null&&(s&&Bn.alternate!==null&&je.delete(Bn.key===null?He:Bn.key),G=_(Bn,G,He),at===null?xe=Bn:at.sibling=Bn,at=Bn);return s&&je.forEach(function(so){return o(W,so)}),St&&ll(W,He),xe}function qe(W,G,J,le){if(J==null)throw Error(r(151));for(var xe=null,at=null,je=G,He=G=0,Bn=null,vt=J.next();je!==null&&!vt.done;He++,vt=J.next()){je.index>He?(Bn=je,je=null):Bn=je.sibling;var so=te(W,je,vt.value,le);if(so===null){je===null&&(je=Bn);break}s&&je&&so.alternate===null&&o(W,je),G=_(so,G,He),at===null?xe=so:at.sibling=so,at=so,je=Bn}if(vt.done)return c(W,je),St&&ll(W,He),xe;if(je===null){for(;!vt.done;He++,vt=J.next())vt=ce(W,vt.value,le),vt!==null&&(G=_(vt,G,He),at===null?xe=vt:at.sibling=vt,at=vt);return St&&ll(W,He),xe}for(je=m(je);!vt.done;He++,vt=J.next())vt=ne(je,W,He,vt.value,le),vt!==null&&(s&&vt.alternate!==null&&je.delete(vt.key===null?He:vt.key),G=_(vt,G,He),at===null?xe=vt:at.sibling=vt,at=vt);return s&&je.forEach(function(XV){return o(W,XV)}),St&&ll(W,He),xe}function jt(W,G,J,le){if(typeof J=="object"&&J!==null&&J.type===w&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case v:e:{for(var xe=J.key;G!==null;){if(G.key===xe){if(xe=J.type,xe===w){if(G.tag===7){c(W,G.sibling),le=y(G,J.props.children),le.return=W,W=le;break e}}else if(G.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===k&&xA(xe)===G.type){c(W,G.sibling),le=y(G,J.props),jf(le,J),le.return=W,W=le;break e}c(W,G);break}else o(W,G);G=G.sibling}J.type===w?(le=sl(J.props.children,W.mode,le,J.key),le.return=W,W=le):(le=Jd(J.type,J.key,J.props,null,W.mode,le),jf(le,J),le.return=W,W=le)}return P(W);case b:e:{for(xe=J.key;G!==null;){if(G.key===xe)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){c(W,G.sibling),le=y(G,J.children||[]),le.return=W,W=le;break e}else{c(W,G);break}else o(W,G);G=G.sibling}le=sv(J,W.mode,le),le.return=W,W=le}return P(W);case k:return xe=J._init,J=xe(J._payload),jt(W,G,J,le)}if(Ne(J))return Ye(W,G,J,le);if(q(J)){if(xe=q(J),typeof xe!="function")throw Error(r(150));return J=xe.call(J),qe(W,G,J,le)}if(typeof J.then=="function")return jt(W,G,pm(J),le);if(J.$$typeof===O)return jt(W,G,nm(W,J),le);gm(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(c(W,G.sibling),le=y(G,J),le.return=W,W=le):(c(W,G),le=av(J,W.mode,le),le.return=W,W=le),P(W)):c(W,G)}return function(W,G,J,le){try{Mf=0;var xe=jt(W,G,J,le);return ku=null,xe}catch(je){if(je===xf||je===im)throw je;var at=$r(29,je,null,W.mode);return at.lanes=le,at.return=W,at}finally{}}}var Mu=OA(!0),RA=OA(!1),vi=se(null),pa=null;function Hs(s){var o=s.alternate;me(On,On.current&1),me(vi,s),pa===null&&(o===null||Pu.current!==null||o.memoizedState!==null)&&(pa=s)}function CA(s){if(s.tag===22){if(me(On,On.current),me(vi,s),pa===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(pa=s)}}else Ks()}function Ks(){me(On,On.current),me(vi,vi.current)}function Qa(s){ae(vi),pa===s&&(pa=null),ae(On)}var On=se(0);function ym(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||R0(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Vv(s,o,c,m){o=s.memoizedState,c=c(m,o),c=c==null?o:d({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var $v={enqueueSetState:function(s,o,c){s=s._reactInternals;var m=Fr(),y=zs(m);y.payload=o,c!=null&&(y.callback=c),o=qs(s,y,m),o!==null&&(Hr(o,s,m),Rf(o,s,m))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var m=Fr(),y=zs(m);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=qs(s,y,m),o!==null&&(Hr(o,s,m),Rf(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Fr(),m=zs(c);m.tag=2,o!=null&&(m.callback=o),o=qs(s,m,c),o!==null&&(Hr(o,s,c),Rf(o,s,c))}};function PA(s,o,c,m,y,_,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,_,P):o.prototype&&o.prototype.isPureReactComponent?!vf(c,m)||!vf(y,_):!0}function DA(s,o,c,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==s&&$v.enqueueReplaceState(o,o.state,null)}function pl(s,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(s=s.defaultProps){c===o&&(c=d({},c));for(var y in s)c[y]===void 0&&(c[y]=s[y])}return c}var vm=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function IA(s){vm(s)}function NA(s){console.error(s)}function kA(s){vm(s)}function bm(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function MA(s,o,c){try{var m=s.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Bv(s,o,c){return c=zs(c),c.tag=3,c.payload={element:null},c.callback=function(){bm(s,o)},c}function jA(s){return s=zs(s),s.tag=3,s}function LA(s,o,c,m){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var _=m.value;s.payload=function(){return y(_)},s.callback=function(){MA(o,c,m)}}var P=c.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(s.callback=function(){MA(o,c,m),typeof y!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var j=m.stack;this.componentDidCatch(m.value,{componentStack:j!==null?j:""})})}function XU(s,o,c,m,y){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&Sf(o,c,y,!0),c=vi.current,c!==null){switch(c.tag){case 13:return pa===null?f0():c.alternate===null&&rn===0&&(rn=3),c.flags&=-257,c.flags|=65536,c.lanes=y,m===gv?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),d0(s,m,y)),!1;case 22:return c.flags|=65536,m===gv?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),d0(s,m,y)),!1}throw Error(r(435,c.tag))}return d0(s,m,y),f0(),!1}if(St)return o=vi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==uv&&(s=Error(r(422),{cause:m}),Ef(mi(s,c)))):(m!==uv&&(o=Error(r(423),{cause:m}),Ef(mi(o,c))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,m=mi(m,c),y=Bv(s.stateNode,m,y),bv(s,y),rn!==4&&(rn=2)),!1;var _=Error(r(520),{cause:m});if(_=mi(_,c),qf===null?qf=[_]:qf.push(_),rn!==4&&(rn=2),o===null)return!0;m=mi(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=y&-y,c.lanes|=s,s=Bv(c.stateNode,m,s),bv(c,s),!1;case 1:if(o=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Js===null||!Js.has(_))))return c.flags|=65536,y&=-y,c.lanes|=y,y=jA(y),LA(y,s,c,m),bv(c,y),!1}c=c.return}while(c!==null);return!1}var UA=Error(r(461)),Vn=!1;function Qn(s,o,c,m){o.child=s===null?RA(o,null,c,m):Mu(o,s.child,c,m)}function VA(s,o,c,m,y){c=c.render;var _=o.ref;if("ref"in m){var P={};for(var j in m)j!=="ref"&&(P[j]=m[j])}else P=m;return hl(o),m=Tv(s,o,c,P,_,y),j=Av(),s!==null&&!Vn?(xv(s,o,y),Ja(s,o,y)):(St&&j&&ov(o),o.flags|=1,Qn(s,o,m,y),o.child)}function $A(s,o,c,m,y){if(s===null){var _=c.type;return typeof _=="function"&&!iv(_)&&_.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=_,BA(s,o,_,m,y)):(s=Jd(c.type,null,m,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,!Wv(s,y)){var P=_.memoizedProps;if(c=c.compare,c=c!==null?c:vf,c(P,m)&&s.ref===o.ref)return Ja(s,o,y)}return o.flags|=1,s=Ha(_,m),s.ref=o.ref,s.return=o,o.child=s}function BA(s,o,c,m,y){if(s!==null){var _=s.memoizedProps;if(vf(_,m)&&s.ref===o.ref)if(Vn=!1,o.pendingProps=m=_,Wv(s,y))(s.flags&131072)!==0&&(Vn=!0);else return o.lanes=s.lanes,Ja(s,o,y)}return zv(s,o,c,m,y)}function zA(s,o,c){var m=o.pendingProps,y=m.children,_=s!==null?s.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=_!==null?_.baseLanes|c:c,s!==null){for(y=o.child=s.child,_=0;y!==null;)_=_|y.lanes|y.childLanes,y=y.sibling;o.childLanes=_&~m}else o.childLanes=0,o.child=null;return qA(s,o,m,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&rm(o,_!==null?_.cachePool:null),_!==null?BT(o,_):wv(),CA(o);else return o.lanes=o.childLanes=536870912,qA(s,o,_!==null?_.baseLanes|c:c,c)}else _!==null?(rm(o,_.cachePool),BT(o,_),Ks(),o.memoizedState=null):(s!==null&&rm(o,null),wv(),Ks());return Qn(s,o,y,c),o.child}function qA(s,o,c,m){var y=pv();return y=y===null?null:{parent:xn._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},s!==null&&rm(o,null),wv(),CA(o),s!==null&&Sf(s,o,m,!0),null}function _m(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function zv(s,o,c,m,y){return hl(o),c=Tv(s,o,c,m,void 0,y),m=Av(),s!==null&&!Vn?(xv(s,o,y),Ja(s,o,y)):(St&&m&&ov(o),o.flags|=1,Qn(s,o,c,y),o.child)}function FA(s,o,c,m,y,_){return hl(o),o.updateQueue=null,c=qT(o,m,c,y),zT(s),m=Av(),s!==null&&!Vn?(xv(s,o,_),Ja(s,o,_)):(St&&m&&ov(o),o.flags|=1,Qn(s,o,c,_),o.child)}function HA(s,o,c,m,y){if(hl(o),o.stateNode===null){var _=Au,P=c.contextType;typeof P=="object"&&P!==null&&(_=or(P)),_=new c(m,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=$v,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=m,_.state=o.memoizedState,_.refs={},yv(o),P=c.contextType,_.context=typeof P=="object"&&P!==null?or(P):Au,_.state=o.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(Vv(o,c,P,m),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(P=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),P!==_.state&&$v.enqueueReplaceState(_,_.state,null),Pf(o,m,_,y),Cf(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(s===null){_=o.stateNode;var j=o.memoizedProps,F=pl(c,j);_.props=F;var Z=_.context,oe=c.contextType;P=Au,typeof oe=="object"&&oe!==null&&(P=or(oe));var ce=c.getDerivedStateFromProps;oe=typeof ce=="function"||typeof _.getSnapshotBeforeUpdate=="function",j=o.pendingProps!==j,oe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j||Z!==P)&&DA(o,_,m,P),Bs=!1;var te=o.memoizedState;_.state=te,Pf(o,m,_,y),Cf(),Z=o.memoizedState,j||te!==Z||Bs?(typeof ce=="function"&&(Vv(o,c,ce,m),Z=o.memoizedState),(F=Bs||PA(o,c,F,m,te,Z,P))?(oe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=Z),_.props=m,_.state=Z,_.context=P,m=F):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{_=o.stateNode,vv(s,o),P=o.memoizedProps,oe=pl(c,P),_.props=oe,ce=o.pendingProps,te=_.context,Z=c.contextType,F=Au,typeof Z=="object"&&Z!==null&&(F=or(Z)),j=c.getDerivedStateFromProps,(Z=typeof j=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==ce||te!==F)&&DA(o,_,m,F),Bs=!1,te=o.memoizedState,_.state=te,Pf(o,m,_,y),Cf();var ne=o.memoizedState;P!==ce||te!==ne||Bs||s!==null&&s.dependencies!==null&&tm(s.dependencies)?(typeof j=="function"&&(Vv(o,c,j,m),ne=o.memoizedState),(oe=Bs||PA(o,c,oe,m,te,ne,F)||s!==null&&s.dependencies!==null&&tm(s.dependencies))?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,ne,F),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,ne,F)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ne),_.props=m,_.state=ne,_.context=F,m=oe):(typeof _.componentDidUpdate!="function"||P===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),m=!1)}return _=m,_m(s,o),m=(o.flags&128)!==0,_||m?(_=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,s!==null&&m?(o.child=Mu(o,s.child,null,y),o.child=Mu(o,null,c,y)):Qn(s,o,c,y),o.memoizedState=_.state,s=o.child):s=Ja(s,o,y),s}function KA(s,o,c,m){return wf(),o.flags|=256,Qn(s,o,c,m),o.child}var qv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fv(s){return{baseLanes:s,cachePool:NT()}}function Hv(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=bi),s}function GA(s,o,c){var m=o.pendingProps,y=!1,_=(o.flags&128)!==0,P;if((P=_)||(P=s!==null&&s.memoizedState===null?!1:(On.current&2)!==0),P&&(y=!0,o.flags&=-129),P=(o.flags&32)!==0,o.flags&=-33,s===null){if(St){if(y?Hs(o):Ks(),St){var j=nn,F;if(F=j){e:{for(F=j,j=ma;F.nodeType!==8;){if(!j){j=null;break e}if(F=zi(F.nextSibling),F===null){j=null;break e}}j=F}j!==null?(o.memoizedState={dehydrated:j,treeContext:ol!==null?{id:Ka,overflow:Ga}:null,retryLane:536870912,hydrationErrors:null},F=$r(18,null,null,0),F.stateNode=j,F.return=o,o.child=F,wr=o,nn=null,F=!0):F=!1}F||cl(o)}if(j=o.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return R0(j)?o.lanes=32:o.lanes=536870912,null;Qa(o)}return j=m.children,m=m.fallback,y?(Ks(),y=o.mode,j=wm({mode:"hidden",children:j},y),m=sl(m,y,c,null),j.return=o,m.return=o,j.sibling=m,o.child=j,y=o.child,y.memoizedState=Fv(c),y.childLanes=Hv(s,P,c),o.memoizedState=qv,m):(Hs(o),Kv(o,j))}if(F=s.memoizedState,F!==null&&(j=F.dehydrated,j!==null)){if(_)o.flags&256?(Hs(o),o.flags&=-257,o=Gv(s,o,c)):o.memoizedState!==null?(Ks(),o.child=s.child,o.flags|=128,o=null):(Ks(),y=m.fallback,j=o.mode,m=wm({mode:"visible",children:m.children},j),y=sl(y,j,c,null),y.flags|=2,m.return=o,y.return=o,m.sibling=y,o.child=m,Mu(o,s.child,null,c),m=o.child,m.memoizedState=Fv(c),m.childLanes=Hv(s,P,c),o.memoizedState=qv,o=y);else if(Hs(o),R0(j)){if(P=j.nextSibling&&j.nextSibling.dataset,P)var Z=P.dgst;P=Z,m=Error(r(419)),m.stack="",m.digest=P,Ef({value:m,source:null,stack:null}),o=Gv(s,o,c)}else if(Vn||Sf(s,o,c,!1),P=(c&s.childLanes)!==0,Vn||P){if(P=Bt,P!==null&&(m=c&-c,m=(m&42)!==0?1:sa(m),m=(m&(P.suspendedLanes|c))!==0?0:m,m!==0&&m!==F.retryLane))throw F.retryLane=m,Tu(s,m),Hr(P,s,m),UA;j.data==="$?"||f0(),o=Gv(s,o,c)}else j.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=F.treeContext,nn=zi(j.nextSibling),wr=o,St=!0,ul=null,ma=!1,s!==null&&(gi[yi++]=Ka,gi[yi++]=Ga,gi[yi++]=ol,Ka=s.id,Ga=s.overflow,ol=o),o=Kv(o,m.children),o.flags|=4096);return o}return y?(Ks(),y=m.fallback,j=o.mode,F=s.child,Z=F.sibling,m=Ha(F,{mode:"hidden",children:m.children}),m.subtreeFlags=F.subtreeFlags&65011712,Z!==null?y=Ha(Z,y):(y=sl(y,j,c,null),y.flags|=2),y.return=o,m.return=o,m.sibling=y,o.child=m,m=y,y=o.child,j=s.child.memoizedState,j===null?j=Fv(c):(F=j.cachePool,F!==null?(Z=xn._currentValue,F=F.parent!==Z?{parent:Z,pool:Z}:F):F=NT(),j={baseLanes:j.baseLanes|c,cachePool:F}),y.memoizedState=j,y.childLanes=Hv(s,P,c),o.memoizedState=qv,m):(Hs(o),c=s.child,s=c.sibling,c=Ha(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,s!==null&&(P=o.deletions,P===null?(o.deletions=[s],o.flags|=16):P.push(s)),o.child=c,o.memoizedState=null,c)}function Kv(s,o){return o=wm({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function wm(s,o){return s=$r(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Gv(s,o,c){return Mu(o,s.child,null,c),s=Kv(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function YA(s,o,c){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),fv(s.return,o,c)}function Yv(s,o,c,m,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=c,_.tailMode=y)}function WA(s,o,c){var m=o.pendingProps,y=m.revealOrder,_=m.tail;if(Qn(s,o,m.children,c),m=On.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&YA(s,c,o);else if(s.tag===19)YA(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}switch(me(On,m),y){case"forwards":for(c=o.child,y=null;c!==null;)s=c.alternate,s!==null&&ym(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Yv(o,!1,y,c,_);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&ym(s)===null){o.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}Yv(o,!0,c,null,_);break;case"together":Yv(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ja(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Qs|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(Sf(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,c=Ha(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Ha(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function Wv(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&tm(s)))}function QU(s,o,c){switch(o.tag){case 3:At(o,o.stateNode.containerInfo),$s(o,xn,s.memoizedState.cache),wf();break;case 27:case 5:Ie(o);break;case 4:At(o,o.stateNode.containerInfo);break;case 10:$s(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Hs(o),o.flags|=128,null):(c&o.child.childLanes)!==0?GA(s,o,c):(Hs(o),s=Ja(s,o,c),s!==null?s.sibling:null);Hs(o);break;case 19:var y=(s.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(Sf(s,o,c,!1),m=(c&o.childLanes)!==0),y){if(m)return WA(s,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),me(On,On.current),m)break;return null;case 22:case 23:return o.lanes=0,zA(s,o,c);case 24:$s(o,xn,s.memoizedState.cache)}return Ja(s,o,c)}function XA(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)Vn=!0;else{if(!Wv(s,c)&&(o.flags&128)===0)return Vn=!1,QU(s,o,c);Vn=(s.flags&131072)!==0}else Vn=!1,St&&(o.flags&1048576)!==0&&xT(o,em,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var m=o.elementType,y=m._init;if(m=y(m._payload),o.type=m,typeof m=="function")iv(m)?(s=pl(m,s),o.tag=1,o=HA(null,o,m,s,c)):(o.tag=0,o=zv(null,o,m,s,c));else{if(m!=null){if(y=m.$$typeof,y===V){o.tag=11,o=VA(null,o,m,s,c);break e}else if(y===N){o.tag=14,o=$A(null,o,m,s,c);break e}}throw o=ye(m)||m,Error(r(306,o,""))}}return o;case 0:return zv(s,o,o.type,o.pendingProps,c);case 1:return m=o.type,y=pl(m,o.pendingProps),HA(s,o,m,y,c);case 3:e:{if(At(o,o.stateNode.containerInfo),s===null)throw Error(r(387));m=o.pendingProps;var _=o.memoizedState;y=_.element,vv(s,o),Pf(o,m,null,c);var P=o.memoizedState;if(m=P.cache,$s(o,xn,m),m!==_.cache&&hv(o,[xn],c,!0),Cf(),m=P.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:P.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=KA(s,o,m,c);break e}else if(m!==y){y=mi(Error(r(424)),o),Ef(y),o=KA(s,o,m,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(nn=zi(s.firstChild),wr=o,St=!0,ul=null,ma=!0,c=RA(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(wf(),m===y){o=Ja(s,o,c);break e}Qn(s,o,m,c)}o=o.child}return o;case 26:return _m(s,o),s===null?(c=eO(o.type,null,o.pendingProps,null))?o.memoizedState=c:St||(c=o.type,s=o.pendingProps,m=Mm(Ve.current).createElement(c),m[fe]=o,m[ge]=s,Zn(m,c,s),We(m),o.stateNode=m):o.memoizedState=eO(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ie(o),s===null&&St&&(m=o.stateNode=Qx(o.type,o.pendingProps,Ve.current),wr=o,ma=!0,y=nn,to(o.type)?(C0=y,nn=zi(m.firstChild)):nn=y),Qn(s,o,o.pendingProps.children,c),_m(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&St&&((y=m=nn)&&(m=AV(m,o.type,o.pendingProps,ma),m!==null?(o.stateNode=m,wr=o,nn=zi(m.firstChild),ma=!1,y=!0):y=!1),y||cl(o)),Ie(o),y=o.type,_=o.pendingProps,P=s!==null?s.memoizedProps:null,m=_.children,A0(y,_)?m=null:P!==null&&A0(y,P)&&(o.flags|=32),o.memoizedState!==null&&(y=Tv(s,o,qU,null,null,c),Jf._currentValue=y),_m(s,o),Qn(s,o,m,c),o.child;case 6:return s===null&&St&&((s=c=nn)&&(c=xV(c,o.pendingProps,ma),c!==null?(o.stateNode=c,wr=o,nn=null,s=!0):s=!1),s||cl(o)),null;case 13:return GA(s,o,c);case 4:return At(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=Mu(o,null,m,c):Qn(s,o,m,c),o.child;case 11:return VA(s,o,o.type,o.pendingProps,c);case 7:return Qn(s,o,o.pendingProps,c),o.child;case 8:return Qn(s,o,o.pendingProps.children,c),o.child;case 12:return Qn(s,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,$s(o,o.type,m.value),Qn(s,o,m.children,c),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,hl(o),y=or(y),m=m(y),o.flags|=1,Qn(s,o,m,c),o.child;case 14:return $A(s,o,o.type,o.pendingProps,c);case 15:return BA(s,o,o.type,o.pendingProps,c);case 19:return WA(s,o,c);case 31:return m=o.pendingProps,c=o.mode,m={mode:m.mode,children:m.children},s===null?(c=wm(m,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Ha(s.child,m),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return zA(s,o,c);case 24:return hl(o),m=or(xn),s===null?(y=pv(),y===null&&(y=Bt,_=dv(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=c),y=_),o.memoizedState={parent:m,cache:y},yv(o),$s(o,xn,y)):((s.lanes&c)!==0&&(vv(s,o),Pf(o,null,null,c),Cf()),y=s.memoizedState,_=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),$s(o,xn,m)):(m=_.cache,$s(o,xn,m),m!==y.cache&&hv(o,[xn],c,!0))),Qn(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Za(s){s.flags|=4}function QA(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!aO(o)){if(o=vi.current,o!==null&&((pt&4194048)===pt?pa!==null:(pt&62914560)!==pt&&(pt&536870912)===0||o!==pa))throw Of=gv,kT;s.flags|=8192}}function Em(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Ko():536870912,s.lanes|=o,Vu|=o)}function Lf(s,o){if(!St)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Zt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,m=0;if(o)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=m,s.childLanes=c,o}function JU(s,o,c){var m=o.pendingProps;switch(lv(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(o),null;case 1:return Zt(o),null;case 3:return c=o.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Wa(xn),_e(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(_f(o)?Za(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,CT())),Zt(o),null;case 26:return c=o.memoizedState,s===null?(Za(o),c!==null?(Zt(o),QA(o,c)):(Zt(o),o.flags&=-16777217)):c?c!==s.memoizedState?(Za(o),Zt(o),QA(o,c)):(Zt(o),o.flags&=-16777217):(s.memoizedProps!==m&&Za(o),Zt(o),o.flags&=-16777217),null;case 27:Ke(o),c=Ve.current;var y=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==m&&Za(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Zt(o),null}s=Te.current,_f(o)?OT(o):(s=Qx(y,m,c),o.stateNode=s,Za(o))}return Zt(o),null;case 5:if(Ke(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==m&&Za(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Zt(o),null}if(s=Te.current,_f(o))OT(o);else{switch(y=Mm(Ve.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof m.is=="string"?y.createElement("select",{is:m.is}):y.createElement("select"),m.multiple?s.multiple=!0:m.size&&(s.size=m.size);break;default:s=typeof m.is=="string"?y.createElement(c,{is:m.is}):y.createElement(c)}}s[fe]=o,s[ge]=m;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=s;e:switch(Zn(s,c,m),c){case"button":case"input":case"select":case"textarea":s=!!m.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Za(o)}}return Zt(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==m&&Za(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(s=Ve.current,_f(o)){if(s=o.stateNode,c=o.memoizedProps,m=null,y=wr,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}s[fe]=o,s=!!(s.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||Fx(s.nodeValue,c)),s||cl(o)}else s=Mm(s).createTextNode(m),s[fe]=o,o.stateNode=s}return Zt(o),null;case 13:if(m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=_f(o),m!==null&&m.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[fe]=o}else wf(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Zt(o),y=!1}else y=CT(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Qa(o),o):(Qa(o),null)}if(Qa(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=m!==null,s=s!==null&&s.memoizedState!==null,c){m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool);var _=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==y&&(m.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),Em(o,o.updateQueue),Zt(o),null;case 4:return _e(),s===null&&_0(o.stateNode.containerInfo),Zt(o),null;case 10:return Wa(o.type),Zt(o),null;case 19:if(ae(On),y=o.memoizedState,y===null)return Zt(o),null;if(m=(o.flags&128)!==0,_=y.rendering,_===null)if(m)Lf(y,!1);else{if(rn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(_=ym(s),_!==null){for(o.flags|=128,Lf(y,!1),s=_.updateQueue,o.updateQueue=s,Em(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)AT(c,s),c=c.sibling;return me(On,On.current&1|2),o.child}s=s.sibling}y.tail!==null&&Jt()>Am&&(o.flags|=128,m=!0,Lf(y,!1),o.lanes=4194304)}else{if(!m)if(s=ym(_),s!==null){if(o.flags|=128,m=!0,s=s.updateQueue,o.updateQueue=s,Em(o,s),Lf(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!St)return Zt(o),null}else 2*Jt()-y.renderingStartTime>Am&&c!==536870912&&(o.flags|=128,m=!0,Lf(y,!1),o.lanes=4194304);y.isBackwards?(_.sibling=o.child,o.child=_):(s=y.last,s!==null?s.sibling=_:o.child=_,y.last=_)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Jt(),o.sibling=null,s=On.current,me(On,m?s&1|2:s&1),o):(Zt(o),null);case 22:case 23:return Qa(o),Ev(),m=o.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(Zt(o),o.subtreeFlags&6&&(o.flags|=8192)):Zt(o),c=o.updateQueue,c!==null&&Em(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),s!==null&&ae(dl),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Wa(xn),Zt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function ZU(s,o){switch(lv(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Wa(xn),_e(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ke(o),null;case 13:if(Qa(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));wf()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ae(On),null;case 4:return _e(),null;case 10:return Wa(o.type),null;case 22:case 23:return Qa(o),Ev(),s!==null&&ae(dl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Wa(xn),null;case 25:return null;default:return null}}function JA(s,o){switch(lv(o),o.tag){case 3:Wa(xn),_e();break;case 26:case 27:case 5:Ke(o);break;case 4:_e();break;case 13:Qa(o);break;case 19:ae(On);break;case 10:Wa(o.type);break;case 22:case 23:Qa(o),Ev(),s!==null&&ae(dl);break;case 24:Wa(xn)}}function Uf(s,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){m=void 0;var _=c.create,P=c.inst;m=_(),P.destroy=m}c=c.next}while(c!==y)}}catch(j){Ut(o,o.return,j)}}function Gs(s,o,c){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var _=y.next;m=_;do{if((m.tag&s)===s){var P=m.inst,j=P.destroy;if(j!==void 0){P.destroy=void 0,y=o;var F=c,Z=j;try{Z()}catch(oe){Ut(y,F,oe)}}}m=m.next}while(m!==_)}}catch(oe){Ut(o,o.return,oe)}}function ZA(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{$T(o,c)}catch(m){Ut(s,s.return,m)}}}function ex(s,o,c){c.props=pl(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(m){Ut(s,o,m)}}function Vf(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof c=="function"?s.refCleanup=c(m):c.current=m}}catch(y){Ut(s,o,y)}}function ga(s,o){var c=s.ref,m=s.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(y){Ut(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Ut(s,o,y)}else c.current=null}function tx(s){var o=s.type,c=s.memoizedProps,m=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(y){Ut(s,s.return,y)}}function Xv(s,o,c){try{var m=s.stateNode;_V(m,s.type,c,o),m[ge]=o}catch(y){Ut(s,s.return,y)}}function nx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&to(s.type)||s.tag===4}function Qv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||nx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&to(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Jv(s,o,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=km));else if(m!==4&&(m===27&&to(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(Jv(s,o,c),s=s.sibling;s!==null;)Jv(s,o,c),s=s.sibling}function Sm(s,o,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(m!==4&&(m===27&&to(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Sm(s,o,c),s=s.sibling;s!==null;)Sm(s,o,c),s=s.sibling}function rx(s){var o=s.stateNode,c=s.memoizedProps;try{for(var m=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Zn(o,m,c),o[fe]=s,o[ge]=c}catch(_){Ut(s,s.return,_)}}var es=!1,un=!1,Zv=!1,ix=typeof WeakSet=="function"?WeakSet:Set,$n=null;function eV(s,o){if(s=s.containerInfo,S0=Bm,s=pT(s),Qy(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var P=0,j=-1,F=-1,Z=0,oe=0,ce=s,te=null;t:for(;;){for(var ne;ce!==c||y!==0&&ce.nodeType!==3||(j=P+y),ce!==_||m!==0&&ce.nodeType!==3||(F=P+m),ce.nodeType===3&&(P+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)te=ce,ce=ne;for(;;){if(ce===s)break t;if(te===c&&++Z===y&&(j=P),te===_&&++oe===m&&(F=P),(ne=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=ne}c=j===-1||F===-1?null:{start:j,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(T0={focusedElem:s,selectionRange:c},Bm=!1,$n=o;$n!==null;)if(o=$n,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,$n=s;else for(;$n!==null;){switch(o=$n,_=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,c=o,y=_.memoizedProps,_=_.memoizedState,m=c.stateNode;try{var Ye=pl(c.type,y,c.elementType===c.type);s=m.getSnapshotBeforeUpdate(Ye,_),m.__reactInternalSnapshotBeforeUpdate=s}catch(qe){Ut(c,c.return,qe)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)O0(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":O0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,$n=s;break}$n=o.return}}function ax(s,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Ys(s,c),m&4&&Uf(5,c);break;case 1:if(Ys(s,c),m&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(P){Ut(c,c.return,P)}else{var y=pl(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(P){Ut(c,c.return,P)}}m&64&&ZA(c),m&512&&Vf(c,c.return);break;case 3:if(Ys(s,c),m&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{$T(s,o)}catch(P){Ut(c,c.return,P)}}break;case 27:o===null&&m&4&&rx(c);case 26:case 5:Ys(s,c),o===null&&m&4&&tx(c),m&512&&Vf(c,c.return);break;case 12:Ys(s,c);break;case 13:Ys(s,c),m&4&&lx(s,c),m&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=uV.bind(null,c),OV(s,c))));break;case 22:if(m=c.memoizedState!==null||es,!m){o=o!==null&&o.memoizedState!==null||un,y=es;var _=un;es=m,(un=o)&&!_?Ws(s,c,(c.subtreeFlags&8772)!==0):Ys(s,c),es=y,un=_}break;case 30:break;default:Ys(s,c)}}function sx(s){var o=s.alternate;o!==null&&(s.alternate=null,sx(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ae(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Xt=null,Ar=!1;function ts(s,o,c){for(c=c.child;c!==null;)ox(s,o,c),c=c.sibling}function ox(s,o,c){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(_t,c)}catch{}switch(c.tag){case 26:un||ga(c,o),ts(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:un||ga(c,o);var m=Xt,y=Ar;to(c.type)&&(Xt=c.stateNode,Ar=!1),ts(s,o,c),Yf(c.stateNode),Xt=m,Ar=y;break;case 5:un||ga(c,o);case 6:if(m=Xt,y=Ar,Xt=null,ts(s,o,c),Xt=m,Ar=y,Xt!==null)if(Ar)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(c.stateNode)}catch(_){Ut(c,o,_)}else try{Xt.removeChild(c.stateNode)}catch(_){Ut(c,o,_)}break;case 18:Xt!==null&&(Ar?(s=Xt,Wx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),nh(s)):Wx(Xt,c.stateNode));break;case 4:m=Xt,y=Ar,Xt=c.stateNode.containerInfo,Ar=!0,ts(s,o,c),Xt=m,Ar=y;break;case 0:case 11:case 14:case 15:un||Gs(2,c,o),un||Gs(4,c,o),ts(s,o,c);break;case 1:un||(ga(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&ex(c,o,m)),ts(s,o,c);break;case 21:ts(s,o,c);break;case 22:un=(m=un)||c.memoizedState!==null,ts(s,o,c),un=m;break;default:ts(s,o,c)}}function lx(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{nh(s)}catch(c){Ut(o,o.return,c)}}function tV(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new ix),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new ix),o;default:throw Error(r(435,s.tag))}}function e0(s,o){var c=tV(s);o.forEach(function(m){var y=cV.bind(null,s,m);c.has(m)||(c.add(m),m.then(y,y))})}function Br(s,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m],_=s,P=o,j=P;e:for(;j!==null;){switch(j.tag){case 27:if(to(j.type)){Xt=j.stateNode,Ar=!1;break e}break;case 5:Xt=j.stateNode,Ar=!1;break e;case 3:case 4:Xt=j.stateNode.containerInfo,Ar=!0;break e}j=j.return}if(Xt===null)throw Error(r(160));ox(_,P,y),Xt=null,Ar=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)ux(o,s),o=o.sibling}var Bi=null;function ux(s,o){var c=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Br(o,s),zr(s),m&4&&(Gs(3,s,s.return),Uf(3,s),Gs(5,s,s.return));break;case 1:Br(o,s),zr(s),m&512&&(un||c===null||ga(c,c.return)),m&64&&es&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var y=Bi;if(Br(o,s),zr(s),m&512&&(un||c===null||ga(c,c.return)),m&4){var _=c!==null?c.memoizedState:null;if(m=s.memoizedState,c===null)if(m===null)if(s.stateNode===null){e:{m=s.type,c=s.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":_=y.getElementsByTagName("title")[0],(!_||_[Pe]||_[fe]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(m),y.head.insertBefore(_,y.querySelector("head > title"))),Zn(_,m,c),_[fe]=s,We(_),m=_;break e;case"link":var P=rO("link","href",y).get(m+(c.href||""));if(P){for(var j=0;j<P.length;j++)if(_=P[j],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){P.splice(j,1);break t}}_=y.createElement(m),Zn(_,m,c),y.head.appendChild(_);break;case"meta":if(P=rO("meta","content",y).get(m+(c.content||""))){for(j=0;j<P.length;j++)if(_=P[j],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){P.splice(j,1);break t}}_=y.createElement(m),Zn(_,m,c),y.head.appendChild(_);break;default:throw Error(r(468,m))}_[fe]=s,We(_),m=_}s.stateNode=m}else iO(y,s.type,s.stateNode);else s.stateNode=nO(y,m,s.memoizedProps);else _!==m?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,m===null?iO(y,s.type,s.stateNode):nO(y,m,s.memoizedProps)):m===null&&s.stateNode!==null&&Xv(s,s.memoizedProps,c.memoizedProps)}break;case 27:Br(o,s),zr(s),m&512&&(un||c===null||ga(c,c.return)),c!==null&&m&4&&Xv(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Br(o,s),zr(s),m&512&&(un||c===null||ga(c,c.return)),s.flags&32){y=s.stateNode;try{ci(y,"")}catch(ne){Ut(s,s.return,ne)}}m&4&&s.stateNode!=null&&(y=s.memoizedProps,Xv(s,y,c!==null?c.memoizedProps:y)),m&1024&&(Zv=!0);break;case 6:if(Br(o,s),zr(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,c=s.stateNode;try{c.nodeValue=m}catch(ne){Ut(s,s.return,ne)}}break;case 3:if(Um=null,y=Bi,Bi=jm(o.containerInfo),Br(o,s),Bi=y,zr(s),m&4&&c!==null&&c.memoizedState.isDehydrated)try{nh(o.containerInfo)}catch(ne){Ut(s,s.return,ne)}Zv&&(Zv=!1,cx(s));break;case 4:m=Bi,Bi=jm(s.stateNode.containerInfo),Br(o,s),zr(s),Bi=m;break;case 12:Br(o,s),zr(s);break;case 13:Br(o,s),zr(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(s0=Jt()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,e0(s,m)));break;case 22:y=s.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,Z=es,oe=un;if(es=Z||y,un=oe||F,Br(o,s),un=oe,es=Z,zr(s),m&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||F||es||un||gl(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){F=c=o;try{if(_=F.stateNode,y)P=_.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{j=F.stateNode;var ce=F.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;j.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Ut(F,F.return,ne)}}}else if(o.tag===6){if(c===null){F=o;try{F.stateNode.nodeValue=y?"":F.memoizedProps}catch(ne){Ut(F,F.return,ne)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=s.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,e0(s,c))));break;case 19:Br(o,s),zr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,e0(s,m)));break;case 30:break;case 21:break;default:Br(o,s),zr(s)}}function zr(s){var o=s.flags;if(o&2){try{for(var c,m=s.return;m!==null;){if(nx(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,_=Qv(s);Sm(s,_,y);break;case 5:var P=c.stateNode;c.flags&32&&(ci(P,""),c.flags&=-33);var j=Qv(s);Sm(s,j,P);break;case 3:case 4:var F=c.stateNode.containerInfo,Z=Qv(s);Jv(s,Z,F);break;default:throw Error(r(161))}}catch(oe){Ut(s,s.return,oe)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function cx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;cx(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Ys(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ax(s,o.alternate,o),o=o.sibling}function gl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Gs(4,o,o.return),gl(o);break;case 1:ga(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&ex(o,o.return,c),gl(o);break;case 27:Yf(o.stateNode);case 26:case 5:ga(o,o.return),gl(o);break;case 22:o.memoizedState===null&&gl(o);break;case 30:gl(o);break;default:gl(o)}s=s.sibling}}function Ws(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=s,_=o,P=_.flags;switch(_.tag){case 0:case 11:case 15:Ws(y,_,c),Uf(4,_);break;case 1:if(Ws(y,_,c),m=_,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){Ut(m,m.return,Z)}if(m=_,y=m.updateQueue,y!==null){var j=m.stateNode;try{var F=y.shared.hiddenCallbacks;if(F!==null)for(y.shared.hiddenCallbacks=null,y=0;y<F.length;y++)VT(F[y],j)}catch(Z){Ut(m,m.return,Z)}}c&&P&64&&ZA(_),Vf(_,_.return);break;case 27:rx(_);case 26:case 5:Ws(y,_,c),c&&m===null&&P&4&&tx(_),Vf(_,_.return);break;case 12:Ws(y,_,c);break;case 13:Ws(y,_,c),c&&P&4&&lx(y,_);break;case 22:_.memoizedState===null&&Ws(y,_,c),Vf(_,_.return);break;case 30:break;default:Ws(y,_,c)}o=o.sibling}}function t0(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Tf(c))}function n0(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Tf(s))}function ya(s,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)fx(s,o,c,m),o=o.sibling}function fx(s,o,c,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:ya(s,o,c,m),y&2048&&Uf(9,o);break;case 1:ya(s,o,c,m);break;case 3:ya(s,o,c,m),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Tf(s)));break;case 12:if(y&2048){ya(s,o,c,m),s=o.stateNode;try{var _=o.memoizedProps,P=_.id,j=_.onPostCommit;typeof j=="function"&&j(P,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(F){Ut(o,o.return,F)}}else ya(s,o,c,m);break;case 13:ya(s,o,c,m);break;case 23:break;case 22:_=o.stateNode,P=o.alternate,o.memoizedState!==null?_._visibility&2?ya(s,o,c,m):$f(s,o):_._visibility&2?ya(s,o,c,m):(_._visibility|=2,ju(s,o,c,m,(o.subtreeFlags&10256)!==0)),y&2048&&t0(P,o);break;case 24:ya(s,o,c,m),y&2048&&n0(o.alternate,o);break;default:ya(s,o,c,m)}}function ju(s,o,c,m,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=s,P=o,j=c,F=m,Z=P.flags;switch(P.tag){case 0:case 11:case 15:ju(_,P,j,F,y),Uf(8,P);break;case 23:break;case 22:var oe=P.stateNode;P.memoizedState!==null?oe._visibility&2?ju(_,P,j,F,y):$f(_,P):(oe._visibility|=2,ju(_,P,j,F,y)),y&&Z&2048&&t0(P.alternate,P);break;case 24:ju(_,P,j,F,y),y&&Z&2048&&n0(P.alternate,P);break;default:ju(_,P,j,F,y)}o=o.sibling}}function $f(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,m=o,y=m.flags;switch(m.tag){case 22:$f(c,m),y&2048&&t0(m.alternate,m);break;case 24:$f(c,m),y&2048&&n0(m.alternate,m);break;default:$f(c,m)}o=o.sibling}}var Bf=8192;function Lu(s){if(s.subtreeFlags&Bf)for(s=s.child;s!==null;)hx(s),s=s.sibling}function hx(s){switch(s.tag){case 26:Lu(s),s.flags&Bf&&s.memoizedState!==null&&$V(Bi,s.memoizedState,s.memoizedProps);break;case 5:Lu(s);break;case 3:case 4:var o=Bi;Bi=jm(s.stateNode.containerInfo),Lu(s),Bi=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Bf,Bf=16777216,Lu(s),Bf=o):Lu(s));break;default:Lu(s)}}function dx(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function zf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];$n=m,px(m,s)}dx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)mx(s),s=s.sibling}function mx(s){switch(s.tag){case 0:case 11:case 15:zf(s),s.flags&2048&&Gs(9,s,s.return);break;case 3:zf(s);break;case 12:zf(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Tm(s)):zf(s);break;default:zf(s)}}function Tm(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];$n=m,px(m,s)}dx(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Gs(8,o,o.return),Tm(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Tm(o));break;default:Tm(o)}s=s.sibling}}function px(s,o){for(;$n!==null;){var c=$n;switch(c.tag){case 0:case 11:case 15:Gs(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Tf(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,$n=m;else e:for(c=s;$n!==null;){m=$n;var y=m.sibling,_=m.return;if(sx(m),m===c){$n=null;break e}if(y!==null){y.return=_,$n=y;break e}$n=_}}}var nV={getCacheForType:function(s){var o=or(xn),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},rV=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Bt=null,ot=null,pt=0,Pt=0,qr=null,Xs=!1,Uu=!1,r0=!1,ns=0,rn=0,Qs=0,yl=0,i0=0,bi=0,Vu=0,qf=null,xr=null,a0=!1,s0=0,Am=1/0,xm=null,Js=null,Jn=0,Zs=null,$u=null,Bu=0,o0=0,l0=null,gx=null,Ff=0,u0=null;function Fr(){if((Ct&2)!==0&&pt!==0)return pt&-pt;if(Y.T!==null){var s=Ru;return s!==0?s:g0()}return K()}function yx(){bi===0&&(bi=(pt&536870912)===0||St?La():536870912);var s=vi.current;return s!==null&&(s.flags|=32),bi}function Hr(s,o,c){(s===Bt&&(Pt===2||Pt===9)||s.cancelPendingCommit!==null)&&(zu(s,0),eo(s,pt,bi,!1)),ji(s,c),((Ct&2)===0||s!==Bt)&&(s===Bt&&((Ct&2)===0&&(yl|=c),rn===4&&eo(s,pt,bi,!1)),va(s))}function vx(s,o,c){if((Ct&6)!==0)throw Error(r(327));var m=!c&&(o&124)===0&&(o&s.expiredLanes)===0||oi(s,o),y=m?sV(s,o):h0(s,o,!0),_=m;do{if(y===0){Uu&&!m&&eo(s,o,0,!1);break}else{if(c=s.current.alternate,_&&!iV(c)){y=h0(s,o,!1),_=!1;continue}if(y===2){if(_=o,s.errorRecoveryDisabledLanes&_)var P=0;else P=s.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){o=P;e:{var j=s;y=qf;var F=j.current.memoizedState.isDehydrated;if(F&&(zu(j,P).flags|=256),P=h0(j,P,!1),P!==2){if(r0&&!F){j.errorRecoveryDisabledLanes|=_,yl|=_,y=4;break e}_=xr,xr=y,_!==null&&(xr===null?xr=_:xr.push.apply(xr,_))}y=P}if(_=!1,y!==2)continue}}if(y===1){zu(s,0),eo(s,o,0,!0);break}e:{switch(m=s,_=y,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:eo(m,o,bi,!Xs);break e;case 2:xr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=s0+300-Jt(),10<y)){if(eo(m,o,bi,!Xs),ja(m,0,!0)!==0)break e;m.timeoutHandle=Gx(bx.bind(null,m,c,xr,xm,a0,o,bi,yl,Vu,Xs,_,2,-0,0),y);break e}bx(m,c,xr,xm,a0,o,bi,yl,Vu,Xs,_,0,-0,0)}}break}while(!0);va(s)}function bx(s,o,c,m,y,_,P,j,F,Z,oe,ce,te,ne){if(s.timeoutHandle=-1,ce=o.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Qf={stylesheets:null,count:0,unsuspend:VV},hx(o),ce=BV(),ce!==null)){s.cancelPendingCommit=ce(xx.bind(null,s,o,_,c,m,y,P,j,F,oe,1,te,ne)),eo(s,_,P,!Z);return}xx(s,o,_,c,m,y,P,j,F)}function iV(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var y=c[m],_=y.getSnapshot;y=y.value;try{if(!Vr(_(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function eo(s,o,c,m){o&=~i0,o&=~yl,s.suspendedLanes|=o,s.pingedLanes&=~o,m&&(s.warmLanes|=o),m=s.expirationTimes;for(var y=o;0<y;){var _=31-hn(y),P=1<<_;m[_]=-1,y&=~P}c!==0&&gr(s,c,o)}function Om(){return(Ct&6)===0?(Hf(0),!1):!0}function c0(){if(ot!==null){if(Pt===0)var s=ot.return;else s=ot,Ya=fl=null,Ov(s),ku=null,Mf=0,s=ot;for(;s!==null;)JA(s.alternate,s),s=s.return;ot=null}}function zu(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,EV(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),c0(),Bt=s,ot=c=Ha(s.current,null),pt=o,Pt=0,qr=null,Xs=!1,Uu=oi(s,o),r0=!1,Vu=bi=i0=yl=Qs=rn=0,xr=qf=null,a0=!1,(o&8)!==0&&(o|=o&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=o;0<m;){var y=31-hn(m),_=1<<y;o|=s[y],m&=~_}return ns=o,Wd(),c}function _x(s,o){rt=null,Y.H=mm,o===xf||o===im?(o=LT(),Pt=3):o===kT?(o=LT(),Pt=4):Pt=o===UA?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,qr=o,ot===null&&(rn=1,bm(s,mi(o,s.current)))}function wx(){var s=Y.H;return Y.H=mm,s===null?mm:s}function Ex(){var s=Y.A;return Y.A=nV,s}function f0(){rn=4,Xs||(pt&4194048)!==pt&&vi.current!==null||(Uu=!0),(Qs&134217727)===0&&(yl&134217727)===0||Bt===null||eo(Bt,pt,bi,!1)}function h0(s,o,c){var m=Ct;Ct|=2;var y=wx(),_=Ex();(Bt!==s||pt!==o)&&(xm=null,zu(s,o)),o=!1;var P=rn;e:do try{if(Pt!==0&&ot!==null){var j=ot,F=qr;switch(Pt){case 8:c0(),P=6;break e;case 3:case 2:case 9:case 6:vi.current===null&&(o=!0);var Z=Pt;if(Pt=0,qr=null,qu(s,j,F,Z),c&&Uu){P=0;break e}break;default:Z=Pt,Pt=0,qr=null,qu(s,j,F,Z)}}aV(),P=rn;break}catch(oe){_x(s,oe)}while(!0);return o&&s.shellSuspendCounter++,Ya=fl=null,Ct=m,Y.H=y,Y.A=_,ot===null&&(Bt=null,pt=0,Wd()),P}function aV(){for(;ot!==null;)Sx(ot)}function sV(s,o){var c=Ct;Ct|=2;var m=wx(),y=Ex();Bt!==s||pt!==o?(xm=null,Am=Jt()+500,zu(s,o)):Uu=oi(s,o);e:do try{if(Pt!==0&&ot!==null){o=ot;var _=qr;t:switch(Pt){case 1:Pt=0,qr=null,qu(s,o,_,1);break;case 2:case 9:if(MT(_)){Pt=0,qr=null,Tx(o);break}o=function(){Pt!==2&&Pt!==9||Bt!==s||(Pt=7),va(s)},_.then(o,o);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:MT(_)?(Pt=0,qr=null,Tx(o)):(Pt=0,qr=null,qu(s,o,_,7));break;case 5:var P=null;switch(ot.tag){case 26:P=ot.memoizedState;case 5:case 27:var j=ot;if(!P||aO(P)){Pt=0,qr=null;var F=j.sibling;if(F!==null)ot=F;else{var Z=j.return;Z!==null?(ot=Z,Rm(Z)):ot=null}break t}}Pt=0,qr=null,qu(s,o,_,5);break;case 6:Pt=0,qr=null,qu(s,o,_,6);break;case 8:c0(),rn=6;break e;default:throw Error(r(462))}}oV();break}catch(oe){_x(s,oe)}while(!0);return Ya=fl=null,Y.H=m,Y.A=y,Ct=c,ot!==null?0:(Bt=null,pt=0,Wd(),rn)}function oV(){for(;ot!==null&&!on();)Sx(ot)}function Sx(s){var o=XA(s.alternate,s,ns);s.memoizedProps=s.pendingProps,o===null?Rm(s):ot=o}function Tx(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=FA(c,o,o.pendingProps,o.type,void 0,pt);break;case 11:o=FA(c,o,o.pendingProps,o.type.render,o.ref,pt);break;case 5:Ov(o);default:JA(c,o),o=ot=AT(o,ns),o=XA(c,o,ns)}s.memoizedProps=s.pendingProps,o===null?Rm(s):ot=o}function qu(s,o,c,m){Ya=fl=null,Ov(o),ku=null,Mf=0;var y=o.return;try{if(XU(s,y,o,c,pt)){rn=1,bm(s,mi(c,s.current)),ot=null;return}}catch(_){if(y!==null)throw ot=y,_;rn=1,bm(s,mi(c,s.current)),ot=null;return}o.flags&32768?(St||m===1?s=!0:Uu||(pt&536870912)!==0?s=!1:(Xs=s=!0,(m===2||m===9||m===3||m===6)&&(m=vi.current,m!==null&&m.tag===13&&(m.flags|=16384))),Ax(o,s)):Rm(o)}function Rm(s){var o=s;do{if((o.flags&32768)!==0){Ax(o,Xs);return}s=o.return;var c=JU(o.alternate,o,ns);if(c!==null){ot=c;return}if(o=o.sibling,o!==null){ot=o;return}ot=o=s}while(o!==null);rn===0&&(rn=5)}function Ax(s,o){do{var c=ZU(s.alternate,s);if(c!==null){c.flags&=32767,ot=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){ot=s;return}ot=s=c}while(s!==null);rn=6,ot=null}function xx(s,o,c,m,y,_,P,j,F){s.cancelPendingCommit=null;do Cm();while(Jn!==0);if((Ct&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=nv,Ns(s,c,_,P,j,F),s===Bt&&(ot=Bt=null,pt=0),$u=o,Zs=s,Bu=c,o0=_,l0=y,gx=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,fV(Ma,function(){return Dx(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null,y=ue.p,ue.p=2,P=Ct,Ct|=4;try{eV(s,o,c)}finally{Ct=P,ue.p=y,Y.T=m}}Jn=1,Ox(),Rx(),Cx()}}function Ox(){if(Jn===1){Jn=0;var s=Zs,o=$u,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null;var m=ue.p;ue.p=2;var y=Ct;Ct|=4;try{ux(o,s);var _=T0,P=pT(s.containerInfo),j=_.focusedElem,F=_.selectionRange;if(P!==j&&j&&j.ownerDocument&&mT(j.ownerDocument.documentElement,j)){if(F!==null&&Qy(j)){var Z=F.start,oe=F.end;if(oe===void 0&&(oe=Z),"selectionStart"in j)j.selectionStart=Z,j.selectionEnd=Math.min(oe,j.value.length);else{var ce=j.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Ye=j.textContent.length,qe=Math.min(F.start,Ye),jt=F.end===void 0?qe:Math.min(F.end,Ye);!ne.extend&&qe>jt&&(P=jt,jt=qe,qe=P);var W=dT(j,qe),G=dT(j,jt);if(W&&G&&(ne.rangeCount!==1||ne.anchorNode!==W.node||ne.anchorOffset!==W.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var J=ce.createRange();J.setStart(W.node,W.offset),ne.removeAllRanges(),qe>jt?(ne.addRange(J),ne.extend(G.node,G.offset)):(J.setEnd(G.node,G.offset),ne.addRange(J))}}}}for(ce=[],ne=j;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ce.length;j++){var le=ce[j];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Bm=!!S0,T0=S0=null}finally{Ct=y,ue.p=m,Y.T=c}}s.current=o,Jn=2}}function Rx(){if(Jn===2){Jn=0;var s=Zs,o=$u,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=Y.T,Y.T=null;var m=ue.p;ue.p=2;var y=Ct;Ct|=4;try{ax(s,o.alternate,o)}finally{Ct=y,ue.p=m,Y.T=c}}Jn=3}}function Cx(){if(Jn===4||Jn===3){Jn=0,fn();var s=Zs,o=$u,c=Bu,m=gx;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Jn=5:(Jn=0,$u=Zs=null,Px(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(Js=null),ks(c),o=o.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(_t,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=Y.T,y=ue.p,ue.p=2,Y.T=null;try{for(var _=s.onRecoverableError,P=0;P<m.length;P++){var j=m[P];_(j.value,{componentStack:j.stack})}}finally{Y.T=o,ue.p=y}}(Bu&3)!==0&&Cm(),va(s),y=s.pendingLanes,(c&4194090)!==0&&(y&42)!==0?s===u0?Ff++:(Ff=0,u0=s):Ff=0,Hf(0)}}function Px(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Tf(o)))}function Cm(s){return Ox(),Rx(),Cx(),Dx()}function Dx(){if(Jn!==5)return!1;var s=Zs,o=o0;o0=0;var c=ks(Bu),m=Y.T,y=ue.p;try{ue.p=32>c?32:c,Y.T=null,c=l0,l0=null;var _=Zs,P=Bu;if(Jn=0,$u=Zs=null,Bu=0,(Ct&6)!==0)throw Error(r(331));var j=Ct;if(Ct|=4,mx(_.current),fx(_,_.current,P,c),Ct=j,Hf(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(_t,_)}catch{}return!0}finally{ue.p=y,Y.T=m,Px(s,o)}}function Ix(s,o,c){o=mi(c,o),o=Bv(s.stateNode,o,2),s=qs(s,o,2),s!==null&&(ji(s,2),va(s))}function Ut(s,o,c){if(s.tag===3)Ix(s,s,c);else for(;o!==null;){if(o.tag===3){Ix(o,s,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Js===null||!Js.has(m))){s=mi(c,s),c=jA(2),m=qs(o,c,2),m!==null&&(LA(c,m,o,s),ji(m,2),va(m));break}}o=o.return}}function d0(s,o,c){var m=s.pingCache;if(m===null){m=s.pingCache=new rV;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(c)||(r0=!0,y.add(c),s=lV.bind(null,s,o,c),o.then(s,s))}function lV(s,o,c){var m=s.pingCache;m!==null&&m.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Bt===s&&(pt&c)===c&&(rn===4||rn===3&&(pt&62914560)===pt&&300>Jt()-s0?(Ct&2)===0&&zu(s,0):i0|=c,Vu===pt&&(Vu=0)),va(s)}function Nx(s,o){o===0&&(o=Ko()),s=Tu(s,o),s!==null&&(ji(s,o),va(s))}function uV(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Nx(s,c)}function cV(s,o){var c=0;switch(s.tag){case 13:var m=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),Nx(s,c)}function fV(s,o){return Yt(s,o)}var Pm=null,Fu=null,m0=!1,Dm=!1,p0=!1,vl=0;function va(s){s!==Fu&&s.next===null&&(Fu===null?Pm=Fu=s:Fu=Fu.next=s),Dm=!0,m0||(m0=!0,dV())}function Hf(s,o){if(!p0&&Dm){p0=!0;do for(var c=!1,m=Pm;m!==null;){if(s!==0){var y=m.pendingLanes;if(y===0)var _=0;else{var P=m.suspendedLanes,j=m.pingedLanes;_=(1<<31-hn(42|s)+1)-1,_&=y&~(P&~j),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,Lx(m,_))}else _=pt,_=ja(m,m===Bt?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||oi(m,_)||(c=!0,Lx(m,_));m=m.next}while(c);p0=!1}}function hV(){kx()}function kx(){Dm=m0=!1;var s=0;vl!==0&&(wV()&&(s=vl),vl=0);for(var o=Jt(),c=null,m=Pm;m!==null;){var y=m.next,_=Mx(m,o);_===0?(m.next=null,c===null?Pm=y:c.next=y,y===null&&(Fu=c)):(c=m,(s!==0||(_&3)!==0)&&(Dm=!0)),m=y}Hf(s)}function Mx(s,o){for(var c=s.suspendedLanes,m=s.pingedLanes,y=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var P=31-hn(_),j=1<<P,F=y[P];F===-1?((j&c)===0||(j&m)!==0)&&(y[P]=Is(j,o)):F<=o&&(s.expiredLanes|=j),_&=~j}if(o=Bt,c=pt,c=ja(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,c===0||s===o&&(Pt===2||Pt===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&et(m),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||oi(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(m!==null&&et(m),ks(c)){case 2:case 8:c=Cs;break;case 32:c=Ma;break;case 268435456:c=ai;break;default:c=Ma}return m=jx.bind(null,s),c=Yt(c,m),s.callbackPriority=o,s.callbackNode=c,o}return m!==null&&m!==null&&et(m),s.callbackPriority=2,s.callbackNode=null,2}function jx(s,o){if(Jn!==0&&Jn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Cm()&&s.callbackNode!==c)return null;var m=pt;return m=ja(s,s===Bt?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(vx(s,m,o),Mx(s,Jt()),s.callbackNode!=null&&s.callbackNode===c?jx.bind(null,s):null)}function Lx(s,o){if(Cm())return null;vx(s,o,!0)}function dV(){SV(function(){(Ct&6)!==0?Yt(Ho,hV):kx()})}function g0(){return vl===0&&(vl=La()),vl}function Ux(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:hu(""+s)}function Vx(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function mV(s,o,c,m,y){if(o==="submit"&&c&&c.stateNode===y){var _=Ux((y[ge]||null).action),P=m.submitter;P&&(o=(o=P[ge]||null)?Ux(o.formAction):P.getAttribute("formAction"),o!==null&&(_=o,P=null));var j=new du("action","action",null,m,y);s.push({event:j,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(vl!==0){var F=P?Vx(y,P):new FormData(y);jv(c,{pending:!0,data:F,method:y.method,action:_},null,F)}}else typeof _=="function"&&(j.preventDefault(),F=P?Vx(y,P):new FormData(y),jv(c,{pending:!0,data:F,method:y.method,action:_},_,F))},currentTarget:y}]})}}for(var y0=0;y0<tv.length;y0++){var v0=tv[y0],pV=v0.toLowerCase(),gV=v0[0].toUpperCase()+v0.slice(1);$i(pV,"on"+gV)}$i(vT,"onAnimationEnd"),$i(bT,"onAnimationIteration"),$i(_T,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(NU,"onTransitionRun"),$i(kU,"onTransitionStart"),$i(MU,"onTransitionCancel"),$i(wT,"onTransitionEnd"),jn("onMouseEnter",["mouseout","mouseover"]),jn("onMouseLeave",["mouseout","mouseover"]),jn("onPointerEnter",["pointerout","pointerover"]),jn("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kf));function $x(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var m=s[c],y=m.event;m=m.listeners;e:{var _=void 0;if(o)for(var P=m.length-1;0<=P;P--){var j=m[P],F=j.instance,Z=j.currentTarget;if(j=j.listener,F!==_&&y.isPropagationStopped())break e;_=j,y.currentTarget=Z;try{_(y)}catch(oe){vm(oe)}y.currentTarget=null,_=F}else for(P=0;P<m.length;P++){if(j=m[P],F=j.instance,Z=j.currentTarget,j=j.listener,F!==_&&y.isPropagationStopped())break e;_=j,y.currentTarget=Z;try{_(y)}catch(oe){vm(oe)}y.currentTarget=null,_=F}}}}function lt(s,o){var c=o[ke];c===void 0&&(c=o[ke]=new Set);var m=s+"__bubble";c.has(m)||(Bx(o,s,2,!1),c.add(m))}function b0(s,o,c){var m=0;o&&(m|=4),Bx(c,s,m,o)}var Im="_reactListening"+Math.random().toString(36).slice(2);function _0(s){if(!s[Im]){s[Im]=!0,Et.forEach(function(c){c!=="selectionchange"&&(yV.has(c)||b0(c,!1,s),b0(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Im]||(o[Im]=!0,b0("selectionchange",!1,o))}}function Bx(s,o,c,m){switch(fO(o)){case 2:var y=FV;break;case 8:y=HV;break;default:y=k0}c=y.bind(null,o,c,s),y=void 0,!hi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?s.addEventListener(o,c,{capture:!0,passive:y}):s.addEventListener(o,c,!0):y!==void 0?s.addEventListener(o,c,{passive:y}):s.addEventListener(o,c,!1)}function w0(s,o,c,m,y){var _=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var j=m.stateNode.containerInfo;if(j===y)break;if(P===4)for(P=m.return;P!==null;){var F=P.tag;if((F===3||F===4)&&P.stateNode.containerInfo===y)return;P=P.return}for(;j!==null;){if(P=Ze(j),P===null)return;if(F=P.tag,F===5||F===6||F===26||F===27){m=_=P;continue e}j=j.parentNode}}m=m.return}kd(function(){var Z=_,oe=fi(c),ce=[];e:{var te=ET.get(s);if(te!==void 0){var ne=du,Ye=s;switch(s){case"keypress":if(ua(c)===0)break e;case"keydown":case"keyup":ne=bu;break;case"focusin":Ye="focus",ne=gu;break;case"focusout":Ye="blur",ne=gu;break;case"beforeblur":case"afterblur":ne=gu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=zd;break;case vT:case bT:case _T:ne=yu;break;case wT:ne=Fd;break;case"scroll":case"scrollend":ne=Md;break;case"wheel":ne=_u;break;case"copy":case"cut":case"paste":ne=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=gf;break;case"toggle":case"beforetoggle":ne=Kd}var qe=(o&4)!==0,jt=!qe&&(s==="scroll"||s==="scrollend"),W=qe?te!==null?te+"Capture":null:te;qe=[];for(var G=Z,J;G!==null;){var le=G;if(J=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||J===null||W===null||(le=Qo(G,W),le!=null&&qe.push(Gf(G,le,J))),jt)break;G=G.return}0<qe.length&&(te=new ne(te,Ye,null,c,oe),ce.push({event:te,listeners:qe}))}}if((o&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",te&&c!==Va&&(Ye=c.relatedTarget||c.fromElement)&&(Ze(Ye)||Ye[we]))break e;if((ne||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Ye=c.relatedTarget||c.toElement,ne=Z,Ye=Ye?Ze(Ye):null,Ye!==null&&(jt=a(Ye),qe=Ye.tag,Ye!==jt||qe!==5&&qe!==27&&qe!==6)&&(Ye=null)):(ne=null,Ye=Z),ne!==Ye)){if(qe=di,le="onMouseLeave",W="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(qe=gf,le="onPointerLeave",W="onPointerEnter",G="pointer"),jt=ne==null?te:Rt(ne),J=Ye==null?te:Rt(Ye),te=new qe(le,G+"leave",ne,c,oe),te.target=jt,te.relatedTarget=J,le=null,Ze(oe)===Z&&(qe=new qe(W,G+"enter",Ye,c,oe),qe.target=J,qe.relatedTarget=jt,le=qe),jt=le,ne&&Ye)t:{for(qe=ne,W=Ye,G=0,J=qe;J;J=Hu(J))G++;for(J=0,le=W;le;le=Hu(le))J++;for(;0<G-J;)qe=Hu(qe),G--;for(;0<J-G;)W=Hu(W),J--;for(;G--;){if(qe===W||W!==null&&qe===W.alternate)break t;qe=Hu(qe),W=Hu(W)}qe=null}else qe=null;ne!==null&&zx(ce,te,ne,qe,!1),Ye!==null&&jt!==null&&zx(ce,jt,Ye,qe,!0)}}e:{if(te=Z?Rt(Z):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var xe=oT;else if(An(te))if(lT)xe=PU;else{xe=RU;var at=OU}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&uf(Z.elementType)&&(xe=oT):xe=CU;if(xe&&(xe=xe(s,Z))){Fa(ce,xe,c,oe);break e}at&&at(s,te,Z),s==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Us(te,"number",te.value)}switch(at=Z?Rt(Z):window,s){case"focusin":(An(at)||at.contentEditable==="true")&&(wu=at,Jy=Z,bf=null);break;case"focusout":bf=Jy=wu=null;break;case"mousedown":Zy=!0;break;case"contextmenu":case"mouseup":case"dragend":Zy=!1,gT(ce,c,oe);break;case"selectionchange":if(IU)break;case"keydown":case"keyup":gT(ce,c,oe)}var je;if(ha)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else dt?re(s,c)&&(He="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(He="onCompositionStart");He&&(R&&c.locale!=="ko"&&(dt||He!=="onCompositionStart"?He==="onCompositionEnd"&&dt&&(je=ff()):(la=oe,Vs="value"in la?la.value:la.textContent,dt=!0)),at=Nm(Z,He),0<at.length&&(He=new mf(He,s,null,c,oe),ce.push({event:He,listeners:at}),je?He.data=je:(je=be(c),je!==null&&(He.data=je)))),(je=T?Tn(s,c):mt(s,c))&&(He=Nm(Z,"onBeforeInput"),0<He.length&&(at=new mf("onBeforeInput","beforeinput",null,c,oe),ce.push({event:at,listeners:He}),at.data=je)),mV(ce,s,Z,c,oe)}$x(ce,o)})}function Gf(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Nm(s,o){for(var c=o+"Capture",m=[];s!==null;){var y=s,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=Qo(s,c),y!=null&&m.unshift(Gf(s,y,_)),y=Qo(s,o),y!=null&&m.push(Gf(s,y,_))),s.tag===3)return m;s=s.return}return[]}function Hu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function zx(s,o,c,m,y){for(var _=o._reactName,P=[];c!==null&&c!==m;){var j=c,F=j.alternate,Z=j.stateNode;if(j=j.tag,F!==null&&F===m)break;j!==5&&j!==26&&j!==27||Z===null||(F=Z,y?(Z=Qo(c,_),Z!=null&&P.unshift(Gf(c,Z,F))):y||(Z=Qo(c,_),Z!=null&&P.push(Gf(c,Z,F)))),c=c.return}P.length!==0&&s.push({event:o,listeners:P})}var vV=/\r\n?/g,bV=/\u0000|\uFFFD/g;function qx(s){return(typeof s=="string"?s:""+s).replace(vV,`
`).replace(bV,"")}function Fx(s,o){return o=qx(o),qx(s)===o}function km(){}function Mt(s,o,c,m,y,_){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||ci(s,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&ci(s,""+m);break;case"className":vr(s,"class",m);break;case"tabIndex":vr(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(s,c,m);break;case"style":lf(s,m,_);break;case"data":if(o!=="object"){vr(s,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=hu(""+m),s.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(o!=="input"&&Mt(s,o,"name",y.name,y,null),Mt(s,o,"formEncType",y.formEncType,y,null),Mt(s,o,"formMethod",y.formMethod,y,null),Mt(s,o,"formTarget",y.formTarget,y,null)):(Mt(s,o,"encType",y.encType,y,null),Mt(s,o,"method",y.method,y,null),Mt(s,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=hu(""+m),s.setAttribute(c,m);break;case"onClick":m!=null&&(s.onclick=km);break;case"onScroll":m!=null&&lt("scroll",s);break;case"onScrollEnd":m!=null&&lt("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}c=hu(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""+m):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":m===!0?s.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,m):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(c,m):s.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(c):s.setAttribute(c,m);break;case"popover":lt("beforetoggle",s),lt("toggle",s),Lr(s,"popover",m);break;case"xlinkActuate":Fe(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Fe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Fe(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Fe(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Fe(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Fe(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Lr(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Hy.get(c)||c,Lr(s,c,m))}}function E0(s,o,c,m,y,_){switch(c){case"style":lf(s,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof m=="string"?ci(s,m):(typeof m=="number"||typeof m=="bigint")&&ci(s,""+m);break;case"onScroll":m!=null&&lt("scroll",s);break;case"onScrollEnd":m!=null&&lt("scrollend",s);break;case"onClick":m!=null&&(s.onclick=km);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sr.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),_=s[ge]||null,_=_!=null?_[c]:null,typeof _=="function"&&s.removeEventListener(o,_,y),typeof m=="function")){typeof _!="function"&&_!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,m,y);break e}c in s?s[c]=m:m===!0?s.setAttribute(c,""):Lr(s,c,m)}}}function Zn(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",s),lt("load",s);var m=!1,y=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var P=c[_];if(P!=null)switch(_){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mt(s,o,_,P,c,null)}}y&&Mt(s,o,"srcSet",c.srcSet,c,null),m&&Mt(s,o,"src",c.src,c,null);return;case"input":lt("invalid",s);var j=_=P=y=null,F=null,Z=null;for(m in c)if(c.hasOwnProperty(m)){var oe=c[m];if(oe!=null)switch(m){case"name":y=oe;break;case"type":P=oe;break;case"checked":F=oe;break;case"defaultChecked":Z=oe;break;case"value":_=oe;break;case"defaultValue":j=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:Mt(s,o,m,oe,c,null)}}Yo(s,_,j,F,Z,P,y,!1),fu(s);return;case"select":lt("invalid",s),m=P=_=null;for(y in c)if(c.hasOwnProperty(y)&&(j=c[y],j!=null))switch(y){case"value":_=j;break;case"defaultValue":P=j;break;case"multiple":m=j;default:Mt(s,o,y,j,c,null)}o=_,c=P,s.multiple=!!m,o!=null?Ua(s,!!m,o,!1):c!=null&&Ua(s,!!m,c,!0);return;case"textarea":lt("invalid",s),_=y=m=null;for(P in c)if(c.hasOwnProperty(P)&&(j=c[P],j!=null))switch(P){case"value":m=j;break;case"defaultValue":y=j;break;case"children":_=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:Mt(s,o,P,j,c,null)}Wo(s,m,y,_),fu(s);return;case"option":for(F in c)if(c.hasOwnProperty(F)&&(m=c[F],m!=null))switch(F){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Mt(s,o,F,m,c,null)}return;case"dialog":lt("beforetoggle",s),lt("toggle",s),lt("cancel",s),lt("close",s);break;case"iframe":case"object":lt("load",s);break;case"video":case"audio":for(m=0;m<Kf.length;m++)lt(Kf[m],s);break;case"image":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"embed":case"source":case"link":lt("error",s),lt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(m=c[Z],m!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mt(s,o,Z,m,c,null)}return;default:if(uf(o)){for(oe in c)c.hasOwnProperty(oe)&&(m=c[oe],m!==void 0&&E0(s,o,oe,m,c,void 0));return}}for(j in c)c.hasOwnProperty(j)&&(m=c[j],m!=null&&Mt(s,o,j,m,c,null))}function _V(s,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,P=null,j=null,F=null,Z=null,oe=null;for(ne in c){var ce=c[ne];if(c.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":F=ce;default:m.hasOwnProperty(ne)||Mt(s,o,ne,null,m,ce)}}for(var te in m){var ne=m[te];if(ce=c[te],m.hasOwnProperty(te)&&(ne!=null||ce!=null))switch(te){case"type":_=ne;break;case"name":y=ne;break;case"checked":Z=ne;break;case"defaultChecked":oe=ne;break;case"value":P=ne;break;case"defaultValue":j=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:ne!==ce&&Mt(s,o,te,ne,m,ce)}}Ur(s,P,j,F,Z,oe,_,y);return;case"select":ne=P=j=te=null;for(_ in c)if(F=c[_],c.hasOwnProperty(_)&&F!=null)switch(_){case"value":break;case"multiple":ne=F;default:m.hasOwnProperty(_)||Mt(s,o,_,null,m,F)}for(y in m)if(_=m[y],F=c[y],m.hasOwnProperty(y)&&(_!=null||F!=null))switch(y){case"value":te=_;break;case"defaultValue":j=_;break;case"multiple":P=_;default:_!==F&&Mt(s,o,y,_,m,F)}o=j,c=P,m=ne,te!=null?Ua(s,!!c,te,!1):!!m!=!!c&&(o!=null?Ua(s,!!c,o,!0):Ua(s,!!c,c?[]:"",!1));return;case"textarea":ne=te=null;for(j in c)if(y=c[j],c.hasOwnProperty(j)&&y!=null&&!m.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Mt(s,o,j,null,m,y)}for(P in m)if(y=m[P],_=c[P],m.hasOwnProperty(P)&&(y!=null||_!=null))switch(P){case"value":te=y;break;case"defaultValue":ne=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==_&&Mt(s,o,P,y,m,_)}Nt(s,te,ne);return;case"option":for(var Ye in c)if(te=c[Ye],c.hasOwnProperty(Ye)&&te!=null&&!m.hasOwnProperty(Ye))switch(Ye){case"selected":s.selected=!1;break;default:Mt(s,o,Ye,null,m,te)}for(F in m)if(te=m[F],ne=c[F],m.hasOwnProperty(F)&&te!==ne&&(te!=null||ne!=null))switch(F){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Mt(s,o,F,te,m,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in c)te=c[qe],c.hasOwnProperty(qe)&&te!=null&&!m.hasOwnProperty(qe)&&Mt(s,o,qe,null,m,te);for(Z in m)if(te=m[Z],ne=c[Z],m.hasOwnProperty(Z)&&te!==ne&&(te!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:Mt(s,o,Z,te,m,ne)}return;default:if(uf(o)){for(var jt in c)te=c[jt],c.hasOwnProperty(jt)&&te!==void 0&&!m.hasOwnProperty(jt)&&E0(s,o,jt,void 0,m,te);for(oe in m)te=m[oe],ne=c[oe],!m.hasOwnProperty(oe)||te===ne||te===void 0&&ne===void 0||E0(s,o,oe,te,m,ne);return}}for(var W in c)te=c[W],c.hasOwnProperty(W)&&te!=null&&!m.hasOwnProperty(W)&&Mt(s,o,W,null,m,te);for(ce in m)te=m[ce],ne=c[ce],!m.hasOwnProperty(ce)||te===ne||te==null&&ne==null||Mt(s,o,ce,te,m,ne)}var S0=null,T0=null;function Mm(s){return s.nodeType===9?s:s.ownerDocument}function Hx(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kx(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function A0(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var x0=null;function wV(){var s=window.event;return s&&s.type==="popstate"?s===x0?!1:(x0=s,!0):(x0=null,!1)}var Gx=typeof setTimeout=="function"?setTimeout:void 0,EV=typeof clearTimeout=="function"?clearTimeout:void 0,Yx=typeof Promise=="function"?Promise:void 0,SV=typeof queueMicrotask=="function"?queueMicrotask:typeof Yx<"u"?function(s){return Yx.resolve(null).then(s).catch(TV)}:Gx;function TV(s){setTimeout(function(){throw s})}function to(s){return s==="head"}function Wx(s,o){var c=o,m=0,y=0;do{var _=c.nextSibling;if(s.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"){if(0<m&&8>m){c=m;var P=s.ownerDocument;if(c&1&&Yf(P.documentElement),c&2&&Yf(P.body),c&4)for(c=P.head,Yf(c),P=c.firstChild;P;){var j=P.nextSibling,F=P.nodeName;P[Pe]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&P.rel.toLowerCase()==="stylesheet"||c.removeChild(P),P=j}}if(y===0){s.removeChild(_),nh(o);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:m=c.charCodeAt(0)-48;else m=0;c=_}while(c);nh(o)}function O0(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":O0(c),Ae(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function AV(s,o,c,m){for(;s.nodeType===1;){var y=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[Pe])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=zi(s.nextSibling),s===null)break}return null}function xV(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=zi(s.nextSibling),s===null))return null;return s}function R0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function OV(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function zi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var C0=null;function Xx(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function Qx(s,o,c){switch(o=Mm(c),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Yf(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Ae(s)}var _i=new Map,Jx=new Set;function jm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var rs=ue.d;ue.d={f:RV,r:CV,D:PV,C:DV,L:IV,m:NV,X:MV,S:kV,M:jV};function RV(){var s=rs.f(),o=Om();return s||o}function CV(s){var o=ht(s);o!==null&&o.tag===5&&o.type==="form"?vA(o):rs.r(s)}var Ku=typeof document>"u"?null:document;function Zx(s,o,c){var m=Ku;if(m&&typeof o=="string"&&o){var y=dn(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),Jx.has(y)||(Jx.add(y),s={rel:s,crossOrigin:c,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),Zn(o,"link",s),We(o),m.head.appendChild(o)))}}function PV(s){rs.D(s),Zx("dns-prefetch",s,null)}function DV(s,o){rs.C(s,o),Zx("preconnect",s,o)}function IV(s,o,c){rs.L(s,o,c);var m=Ku;if(m&&s&&o){var y='link[rel="preload"][as="'+dn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+dn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+dn(c.imageSizes)+'"]')):y+='[href="'+dn(s)+'"]';var _=y;switch(o){case"style":_=Gu(s);break;case"script":_=Yu(s)}_i.has(_)||(s=d({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),_i.set(_,s),m.querySelector(y)!==null||o==="style"&&m.querySelector(Wf(_))||o==="script"&&m.querySelector(Xf(_))||(o=m.createElement("link"),Zn(o,"link",s),We(o),m.head.appendChild(o)))}}function NV(s,o){rs.m(s,o);var c=Ku;if(c&&s){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+dn(m)+'"][href="'+dn(s)+'"]',_=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Yu(s)}if(!_i.has(_)&&(s=d({rel:"modulepreload",href:s},o),_i.set(_,s),c.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Xf(_)))return}m=c.createElement("link"),Zn(m,"link",s),We(m),c.head.appendChild(m)}}}function kV(s,o,c){rs.S(s,o,c);var m=Ku;if(m&&s){var y=wt(m).hoistableStyles,_=Gu(s);o=o||"default";var P=y.get(_);if(!P){var j={loading:0,preload:null};if(P=m.querySelector(Wf(_)))j.loading=5;else{s=d({rel:"stylesheet",href:s,"data-precedence":o},c),(c=_i.get(_))&&P0(s,c);var F=P=m.createElement("link");We(F),Zn(F,"link",s),F._p=new Promise(function(Z,oe){F.onload=Z,F.onerror=oe}),F.addEventListener("load",function(){j.loading|=1}),F.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Lm(P,o,m)}P={type:"stylesheet",instance:P,count:1,state:j},y.set(_,P)}}}function MV(s,o){rs.X(s,o);var c=Ku;if(c&&s){var m=wt(c).hoistableScripts,y=Yu(s),_=m.get(y);_||(_=c.querySelector(Xf(y)),_||(s=d({src:s,async:!0},o),(o=_i.get(y))&&D0(s,o),_=c.createElement("script"),We(_),Zn(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(y,_))}}function jV(s,o){rs.M(s,o);var c=Ku;if(c&&s){var m=wt(c).hoistableScripts,y=Yu(s),_=m.get(y);_||(_=c.querySelector(Xf(y)),_||(s=d({src:s,async:!0,type:"module"},o),(o=_i.get(y))&&D0(s,o),_=c.createElement("script"),We(_),Zn(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(y,_))}}function eO(s,o,c,m){var y=(y=Ve.current)?jm(y):null;if(!y)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Gu(c.href),c=wt(y).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Gu(c.href);var _=wt(y).hoistableStyles,P=_.get(s);if(P||(y=y.ownerDocument||y,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,P),(_=y.querySelector(Wf(s)))&&!_._p&&(P.instance=_,P.state.loading=5),_i.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},_i.set(s,c),_||LV(y,s,c,P.state))),o&&m===null)throw Error(r(528,""));return P}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Yu(c),c=wt(y).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Gu(s){return'href="'+dn(s)+'"'}function Wf(s){return'link[rel="stylesheet"]['+s+"]"}function tO(s){return d({},s,{"data-precedence":s.precedence,precedence:null})}function LV(s,o,c,m){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=s.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Zn(o,"link",c),We(o),s.head.appendChild(o))}function Yu(s){return'[src="'+dn(s)+'"]'}function Xf(s){return"script[async]"+s}function nO(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=s.querySelector('style[data-href~="'+dn(c.href)+'"]');if(m)return o.instance=m,We(m),m;var y=d({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),We(m),Zn(m,"style",y),Lm(m,c.precedence,s),o.instance=m;case"stylesheet":y=Gu(c.href);var _=s.querySelector(Wf(y));if(_)return o.state.loading|=4,o.instance=_,We(_),_;m=tO(c),(y=_i.get(y))&&P0(m,y),_=(s.ownerDocument||s).createElement("link"),We(_);var P=_;return P._p=new Promise(function(j,F){P.onload=j,P.onerror=F}),Zn(_,"link",m),o.state.loading|=4,Lm(_,c.precedence,s),o.instance=_;case"script":return _=Yu(c.src),(y=s.querySelector(Xf(_)))?(o.instance=y,We(y),y):(m=c,(y=_i.get(_))&&(m=d({},c),D0(m,y)),s=s.ownerDocument||s,y=s.createElement("script"),We(y),Zn(y,"link",m),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Lm(m,c.precedence,s));return o.instance}function Lm(s,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,_=y,P=0;P<m.length;P++){var j=m[P];if(j.dataset.precedence===o)_=j;else if(_!==y)break}_?_.parentNode.insertBefore(s,_.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function P0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function D0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Um=null;function rO(s,o,c){if(Um===null){var m=new Map,y=Um=new Map;y.set(c,m)}else y=Um,m=y.get(c),m||(m=new Map,y.set(c,m));if(m.has(s))return m;for(m.set(s,null),c=c.getElementsByTagName(s),y=0;y<c.length;y++){var _=c[y];if(!(_[Pe]||_[fe]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var P=_.getAttribute(o)||"";P=s+P;var j=m.get(P);j?j.push(_):m.set(P,[_])}}return m}function iO(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function UV(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function aO(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Qf=null;function VV(){}function $V(s,o,c){if(Qf===null)throw Error(r(475));var m=Qf;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Gu(c.href),_=s.querySelector(Wf(y));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(m.count++,m=Vm.bind(m),s.then(m,m)),o.state.loading|=4,o.instance=_,We(_);return}_=s.ownerDocument||s,c=tO(c),(y=_i.get(y))&&P0(c,y),_=_.createElement("link"),We(_);var P=_;P._p=new Promise(function(j,F){P.onload=j,P.onerror=F}),Zn(_,"link",c),o.instance=_}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=Vm.bind(m),s.addEventListener("load",o),s.addEventListener("error",o))}}function BV(){if(Qf===null)throw Error(r(475));var s=Qf;return s.stylesheets&&s.count===0&&I0(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&I0(s,s.stylesheets),s.unsuspend){var m=s.unsuspend;s.unsuspend=null,m()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Vm(){if(this.count--,this.count===0){if(this.stylesheets)I0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var $m=null;function I0(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,$m=new Map,o.forEach(zV,s),$m=null,Vm.call(s))}function zV(s,o){if(!(o.state.loading&4)){var c=$m.get(s);if(c)var m=c.get(null);else{c=new Map,$m.set(s,c);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var P=y[_];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(c.set(P.dataset.precedence,P),m=P)}m&&c.set(null,m)}y=o.instance,P=y.getAttribute("data-precedence"),_=c.get(P)||m,_===m&&c.set(null,y),c.set(P,y),this.count++,m=Vm.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),_?_.parentNode.insertBefore(y,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var Jf={$$typeof:O,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function qV(s,o,c,m,y,_,P,j){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function sO(s,o,c,m,y,_,P,j,F,Z,oe,ce){return s=new qV(s,o,c,P,j,F,Z,ce),o=1,_===!0&&(o|=24),_=$r(3,null,null,o),s.current=_,_.stateNode=s,o=dv(),o.refCount++,s.pooledCache=o,o.refCount++,_.memoizedState={element:m,isDehydrated:c,cache:o},yv(_),s}function oO(s){return s?(s=Au,s):Au}function lO(s,o,c,m,y,_){y=oO(y),m.context===null?m.context=y:m.pendingContext=y,m=zs(o),m.payload={element:c},_=_===void 0?null:_,_!==null&&(m.callback=_),c=qs(s,m,o),c!==null&&(Hr(c,s,o),Rf(c,s,o))}function uO(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function N0(s,o){uO(s,o),(s=s.alternate)&&uO(s,o)}function cO(s){if(s.tag===13){var o=Tu(s,67108864);o!==null&&Hr(o,s,67108864),N0(s,67108864)}}var Bm=!0;function FV(s,o,c,m){var y=Y.T;Y.T=null;var _=ue.p;try{ue.p=2,k0(s,o,c,m)}finally{ue.p=_,Y.T=y}}function HV(s,o,c,m){var y=Y.T;Y.T=null;var _=ue.p;try{ue.p=8,k0(s,o,c,m)}finally{ue.p=_,Y.T=y}}function k0(s,o,c,m){if(Bm){var y=M0(m);if(y===null)w0(s,o,m,zm,c),hO(s,m);else if(GV(y,s,o,c,m))m.stopPropagation();else if(hO(s,m),o&4&&-1<KV.indexOf(s)){for(;y!==null;){var _=ht(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var P=Mr(_.pendingLanes);if(P!==0){var j=_;for(j.pendingLanes|=2,j.entangledLanes|=2;P;){var F=1<<31-hn(P);j.entanglements[1]|=F,P&=~F}va(_),(Ct&6)===0&&(Am=Jt()+500,Hf(0))}}break;case 13:j=Tu(_,2),j!==null&&Hr(j,_,2),Om(),N0(_,2)}if(_=M0(m),_===null&&w0(s,o,m,zm,c),_===y)break;y=_}y!==null&&m.stopPropagation()}else w0(s,o,m,null,c)}}function M0(s){return s=fi(s),j0(s)}var zm=null;function j0(s){if(zm=null,s=Ze(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return zm=s,null}function fO(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rs()){case Ho:return 2;case Cs:return 8;case Ma:case Mi:return 32;case ai:return 268435456;default:return 32}default:return 32}}var L0=!1,no=null,ro=null,io=null,Zf=new Map,eh=new Map,ao=[],KV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hO(s,o){switch(s){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":Zf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":eh.delete(o.pointerId)}}function th(s,o,c,m,y,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:_,targetContainers:[y]},o!==null&&(o=ht(o),o!==null&&cO(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function GV(s,o,c,m,y){switch(o){case"focusin":return no=th(no,s,o,c,m,y),!0;case"dragenter":return ro=th(ro,s,o,c,m,y),!0;case"mouseover":return io=th(io,s,o,c,m,y),!0;case"pointerover":var _=y.pointerId;return Zf.set(_,th(Zf.get(_)||null,s,o,c,m,y)),!0;case"gotpointercapture":return _=y.pointerId,eh.set(_,th(eh.get(_)||null,s,o,c,m,y)),!0}return!1}function dO(s){var o=Ze(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,X(s.priority,function(){if(c.tag===13){var m=Fr();m=sa(m);var y=Tu(c,m);y!==null&&Hr(y,c,m),N0(c,m)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function qm(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=M0(s.nativeEvent);if(c===null){c=s.nativeEvent;var m=new c.constructor(c.type,c);Va=m,c.target.dispatchEvent(m),Va=null}else return o=ht(c),o!==null&&cO(o),s.blockedOn=c,!1;o.shift()}return!0}function mO(s,o,c){qm(s)&&c.delete(o)}function YV(){L0=!1,no!==null&&qm(no)&&(no=null),ro!==null&&qm(ro)&&(ro=null),io!==null&&qm(io)&&(io=null),Zf.forEach(mO),eh.forEach(mO)}function Fm(s,o){s.blockedOn===o&&(s.blockedOn=null,L0||(L0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,YV)))}var Hm=null;function pO(s){Hm!==s&&(Hm=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Hm===s&&(Hm=null);for(var o=0;o<s.length;o+=3){var c=s[o],m=s[o+1],y=s[o+2];if(typeof m!="function"){if(j0(m||c)===null)continue;break}var _=ht(c);_!==null&&(s.splice(o,3),o-=3,jv(_,{pending:!0,data:y,method:c.method,action:m},m,y))}}))}function nh(s){function o(F){return Fm(F,s)}no!==null&&Fm(no,s),ro!==null&&Fm(ro,s),io!==null&&Fm(io,s),Zf.forEach(o),eh.forEach(o);for(var c=0;c<ao.length;c++){var m=ao[c];m.blockedOn===s&&(m.blockedOn=null)}for(;0<ao.length&&(c=ao[0],c.blockedOn===null);)dO(c),c.blockedOn===null&&ao.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var y=c[m],_=c[m+1],P=y[ge]||null;if(typeof _=="function")P||pO(c);else if(P){var j=null;if(_&&_.hasAttribute("formAction")){if(y=_,P=_[ge]||null)j=P.formAction;else if(j0(y)!==null)continue}else j=P.action;typeof j=="function"?c[m+1]=j:(c.splice(m,3),m-=3),pO(c)}}}function U0(s){this._internalRoot=s}Km.prototype.render=U0.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=Fr();lO(c,m,s,o,null,null)},Km.prototype.unmount=U0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;lO(s.current,2,null,s,null,null),Om(),o[we]=null}};function Km(s){this._internalRoot=s}Km.prototype.unstable_scheduleHydration=function(s){if(s){var o=K();s={blockedOn:null,target:s,priority:o};for(var c=0;c<ao.length&&o!==0&&o<ao[c].priority;c++);ao.splice(c,0,s),c===0&&dO(s)}};var gO=e.version;if(gO!=="19.1.1")throw Error(r(527,gO,"19.1.1"));ue.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(o),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var WV={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gm.isDisabled&&Gm.supportsFiber)try{_t=Gm.inject(WV),nt=Gm}catch{}}return ih.createRoot=function(s,o){if(!i(s))throw Error(r(299));var c=!1,m="",y=IA,_=NA,P=kA,j=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks)),o=sO(s,1,!1,null,null,c,m,y,_,P,j,null),s[we]=o.current,_0(s),new U0(o)},ih.hydrateRoot=function(s,o,c){if(!i(s))throw Error(r(299));var m=!1,y="",_=IA,P=NA,j=kA,F=null,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&(j=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(F=c.unstable_transitionCallbacks),c.formState!==void 0&&(Z=c.formState)),o=sO(s,1,!0,o,c??null,m,y,_,P,j,F,Z),o.context=oO(null),c=o.current,m=Fr(),m=sa(m),y=zs(m),y.callback=null,qs(c,y,m),c=m,o.current.lanes=c,ji(o,c),va(o),s[we]=o.current,_0(s),new Km(o)},ih.version="19.1.1",ih}var xO;function o6(){if(xO)return B0.exports;xO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),B0.exports=s6(),B0.exports}var l6=o6();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var GI=t=>{throw TypeError(t)},u6=(t,e,n)=>e.has(t)||GI("Cannot "+n),H0=(t,e,n)=>(u6(t,e,"read from private field"),n?n.call(t):e.get(t)),c6=(t,e,n)=>e.has(t)?GI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),OO="popstate";function f6(t={}){function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return Lh("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Oo(i)}return d6(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _n(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h6(){return Math.random().toString(36).substring(2,10)}function RO(t,e){return{usr:t.state,key:t.key,idx:e}}function Lh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?jo(e):e,state:n,key:e&&e.key||r||h6()}}function Oo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function d6(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",f=null,h=d();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function d(){return(l.state||{idx:null}).idx}function p(){u="POP";let S=d(),x=S==null?null:S-h;h=S,f&&f({action:u,location:E.location,delta:x})}function v(S,x){u="PUSH";let C=Lh(E.location,S,x);h=d()+1;let O=RO(C,h),V=E.createHref(C);try{l.pushState(O,"",V)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(V)}a&&f&&f({action:u,location:E.location,delta:1})}function b(S,x){u="REPLACE";let C=Lh(E.location,S,x);h=d();let O=RO(C,h),V=E.createHref(C);l.replaceState(O,"",V),a&&f&&f({action:u,location:E.location,delta:0})}function w(S){return YI(S)}let E={get action(){return u},get location(){return t(i,l)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(OO,p),f=S,()=>{i.removeEventListener(OO,p),f=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let x=w(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:v,replace:b,go(S){return l.go(S)}};return E}function YI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Oo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var yh,CO=class{constructor(t){if(c6(this,yh,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(H0(this,yh).has(t))return H0(this,yh).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){H0(this,yh).set(t,e)}};yh=new WeakMap;var m6=new Set(["lazy","caseSensitive","path","id","index","children"]);function p6(t){return m6.has(t)}var g6=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function y6(t){return g6.has(t)}function v6(t){return t.index===!0}function Uh(t,e,n=[],r={},i=!1){return t.map((a,l)=>{let u=[...n,String(l)],f=typeof a.id=="string"?a.id:u.join("-");if(ut(a.index!==!0||!a.children,"Cannot specify children on an index route"),ut(i||!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),v6(a)){let h={...a,...e(a),id:f};return r[f]=h,h}else{let h={...a,...e(a),id:f,children:void 0};return r[f]=h,a.children&&(h.children=Uh(a.children,e,u,r,i)),h}})}function po(t,e,n="/"){return _p(t,e,n,!1)}function _p(t,e,n,r){let i=typeof e=="string"?jo(e):e,a=Pi(i.pathname||"/",n);if(a==null)return null;let l=WI(t);_6(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=D6(a);u=C6(l[f],h,r)}return u}function b6(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function WI(t,e=[],n=[],r="",i=!1){let a=(l,u,f=i,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&f)return;ut(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let p=Ea([r,d.relativePath]),v=n.concat(d);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),WI(l.children,e,v,p,f)),!(l.path==null&&!l.index)&&e.push({path:p,score:O6(p,l.index),routesMeta:v})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let f of XI(l.path))a(l,u,!0,f)}),e}function XI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=XI(r.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...l),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function _6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:R6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var w6=/^:[\w-]+$/,E6=3,S6=2,T6=1,A6=10,x6=-2,PO=t=>t==="*";function O6(t,e){let n=t.split("/"),r=n.length;return n.some(PO)&&(r+=x6),e&&(r+=S6),n.filter(i=>!PO(i)).reduce((i,a)=>i+(w6.test(a)?E6:a===""?T6:A6),r)}function R6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function C6(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",p=Ip({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},d),v=f.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=Ip({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Ea([a,p.pathname]),pathnameBase:M6(Ea([a,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(a=Ea([a,p.pathnameBase]))}return l}function Ip(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=P6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:p},v)=>{if(d==="*"){let w=u[v]||"";l=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=u[v];return p&&!b?h[d]=void 0:h[d]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function P6(t,e=!1,n=!0){_n(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function D6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _n(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Pi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function I6({basename:t,pathname:e}){return e==="/"?t:Ea([t,e])}function N6(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?jo(t):t;return{pathname:n?n.startsWith("/")?n:k6(n,e):e,search:j6(r),hash:L6(i)}}function k6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function K0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function OE(t){let e=QI(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function RE(t,e,n,r=!1){let i;typeof t=="string"?i=jo(t):(i={...t},ut(!i.pathname||!i.pathname.includes("?"),K0("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),K0("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),K0("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}u=p>=0?e[p]:"/"}let f=N6(i,u),h=l&&l!=="/"&&l.endsWith("/"),d=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||d)&&(f.pathname+="/"),f}var Ea=t=>t.join("/").replace(/\/\/+/g,"/"),M6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),j6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Np=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Vh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var JI=["POST","PUT","PATCH","DELETE"],U6=new Set(JI),V6=["GET",...JI],$6=new Set(V6),B6=new Set([301,302,303,307,308]),z6=new Set([307,308]),G0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},q6={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ah={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},F6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CE=t=>F6.test(t),H6=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),ZI="remix-router-transitions",eN=Symbol("ResetLoaderData");function K6(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ut(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||H6,a={},l=Uh(t.routes,i,void 0,a),u,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let h=t.dataStrategy||Q6,d={...t.future},p=null,v=new Set,b=null,w=null,E=null,S=t.hydrationData!=null,x=po(l,t.history.location,f),C=!1,O=null,V;if(x==null&&!t.patchRoutesOnNavigation){let K=Ai(404,{pathname:t.history.location.pathname}),{matches:X,route:ee}=Ym(l);V=!0,x=X,O={[ee.id]:K}}else if(x&&!t.hydrationData&&gr(x,l,t.history.location.pathname).active&&(x=null),x)if(x.some(K=>K.route.lazy))V=!1;else if(!x.some(K=>K.route.loader))V=!0;else{let K=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null;if(X){let ee=x.findIndex(fe=>X[fe.route.id]!==void 0);V=x.slice(0,ee+1).every(fe=>!Q_(fe.route,K,X))}else V=x.every(ee=>!Q_(ee.route,K,X))}else{V=!1,x=[];let K=gr(null,l,t.history.location.pathname);K.active&&K.matches&&(C=!0,x=K.matches)}let I,D={historyAction:t.history.action,location:t.history.location,matches:x,initialized:V,navigation:G0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||O,fetchers:new Map,blockers:new Map},N="POP",k=!1,M,z=!1,B=new Map,q=null,$=!1,ye=!1,Ne=new Set,Y=new Map,ue=0,ve=-1,De=new Map,H=new Set,se=new Map,ae=new Map,me=new Set,Te=new Map,Ue,Ve=null;function tn(){if(p=t.history.listen(({action:K,location:X,delta:ee})=>{if(Ue){Ue(),Ue=void 0;return}_n(Te.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=Is({currentLocation:D.location,nextLocation:X,historyAction:K});if(fe&&ee!=null){let ge=new Promise(we=>{Ue=we});t.history.go(ee*-1),oi(fe,{state:"blocked",location:X,proceed(){oi(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),ge.then(()=>t.history.go(ee))},reset(){let we=new Map(D.blockers);we.set(fe,ah),Ie({blockers:we})}});return}return et(K,X)}),n){h$(e,B);let K=()=>d$(e,B);e.addEventListener("pagehide",K),q=()=>e.removeEventListener("pagehide",K)}return D.initialized||et("POP",D.location,{initialHydration:!0}),I}function At(){p&&p(),q&&q(),v.clear(),M&&M.abort(),D.fetchers.forEach((K,X)=>hn(X)),D.blockers.forEach((K,X)=>ja(X))}function _e(K){return v.add(K),()=>v.delete(K)}function Ie(K,X={}){K.matches&&(K.matches=K.matches.map(ge=>{let we=a[ge.route.id],ke=ge.route;return ke.element!==we.element||ke.errorElement!==we.errorElement||ke.hydrateFallbackElement!==we.hydrateFallbackElement?{...ge,route:we}:ge})),D={...D,...K};let ee=[],fe=[];D.fetchers.forEach((ge,we)=>{ge.state==="idle"&&(me.has(we)?ee.push(we):fe.push(we))}),me.forEach(ge=>{!D.fetchers.has(ge)&&!Y.has(ge)&&ee.push(ge)}),[...v].forEach(ge=>ge(D,{deletedFetchers:ee,viewTransitionOpts:X.viewTransitionOpts,flushSync:X.flushSync===!0})),ee.forEach(ge=>hn(ge)),fe.forEach(ge=>D.fetchers.delete(ge))}function Ke(K,X,{flushSync:ee}={}){let fe=D.actionData!=null&&D.navigation.formMethod!=null&&Pr(D.navigation.formMethod)&&D.navigation.state==="loading"&&K.state?._isRedirect!==!0,ge;X.actionData?Object.keys(X.actionData).length>0?ge=X.actionData:ge=null:fe?ge=D.actionData:ge=null;let we=X.loaderData?$O(D.loaderData,X.loaderData,X.matches||[],X.errors):D.loaderData,ke=D.blockers;ke.size>0&&(ke=new Map(ke),ke.forEach((Pe,Ae)=>ke.set(Ae,ah)));let Re=$?!1:Ns(K,X.matches||D.matches),Ce=k===!0||D.navigation.formMethod!=null&&Pr(D.navigation.formMethod)&&K.state?._isRedirect!==!0;u&&(l=u,u=void 0),$||N==="POP"||(N==="PUSH"?t.history.push(K,K.state):N==="REPLACE"&&t.history.replace(K,K.state));let $e;if(N==="POP"){let Pe=B.get(D.location.pathname);Pe&&Pe.has(K.pathname)?$e={currentLocation:D.location,nextLocation:K}:B.has(K.pathname)&&($e={currentLocation:K,nextLocation:D.location})}else if(z){let Pe=B.get(D.location.pathname);Pe?Pe.add(K.pathname):(Pe=new Set([K.pathname]),B.set(D.location.pathname,Pe)),$e={currentLocation:D.location,nextLocation:K}}Ie({...X,actionData:ge,loaderData:we,historyAction:N,location:K,initialized:!0,navigation:G0,revalidation:"idle",restoreScrollPosition:Re,preventScrollReset:Ce,blockers:ke},{viewTransitionOpts:$e,flushSync:ee===!0}),N="POP",k=!1,z=!1,$=!1,ye=!1,Ve?.resolve(),Ve=null}async function pe(K,X){if(typeof K=="number"){t.history.go(K);return}let ee=X_(D.location,D.matches,f,K,X?.fromRouteId,X?.relative),{path:fe,submission:ge,error:we}=DO(!1,ee,X),ke=D.location,Re=Lh(D.location,fe,X&&X.state);Re={...Re,...t.history.encodeLocation(Re)};let Ce=X&&X.replace!=null?X.replace:void 0,$e="PUSH";Ce===!0?$e="REPLACE":Ce===!1||ge!=null&&Pr(ge.formMethod)&&ge.formAction===D.location.pathname+D.location.search&&($e="REPLACE");let Pe=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Ae=(X&&X.flushSync)===!0,Ze=Is({currentLocation:ke,nextLocation:Re,historyAction:$e});if(Ze){oi(Ze,{state:"blocked",location:Re,proceed(){oi(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),pe(K,X)},reset(){let ht=new Map(D.blockers);ht.set(Ze,ah),Ie({blockers:ht})}});return}await et($e,Re,{submission:ge,pendingError:we,preventScrollReset:Pe,replace:X&&X.replace,enableViewTransition:X&&X.viewTransition,flushSync:Ae})}function Yt(){Ve||(Ve=m$()),Ds(),Ie({revalidation:"loading"});let K=Ve.promise;return D.navigation.state==="submitting"?K:D.navigation.state==="idle"?(et(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),K):(et(N||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:z===!0}),K)}async function et(K,X,ee){M&&M.abort(),M=null,N=K,$=(ee&&ee.startUninterruptedRevalidation)===!0,ji(D.location,D.matches),k=(ee&&ee.preventScrollReset)===!0,z=(ee&&ee.enableViewTransition)===!0;let fe=u||l,ge=ee&&ee.overrideNavigation,we=ee?.initialHydration&&D.matches&&D.matches.length>0&&!C?D.matches:po(fe,X,f),ke=(ee&&ee.flushSync)===!0;if(we&&D.initialized&&!ye&&a$(D.location,X)&&!(ee&&ee.submission&&Pr(ee.submission.formMethod))){Ke(X,{matches:we},{flushSync:ke});return}let Re=gr(we,fe,X.pathname);if(Re.active&&Re.matches&&(we=Re.matches),!we){let{error:wt,notFoundMatches:We,route:Et}=La(X.pathname);Ke(X,{matches:We,loaderData:{},errors:{[Et.id]:wt}},{flushSync:ke});return}M=new AbortController;let Ce=oc(t.history,X,M.signal,ee&&ee.submission),$e=t.unstable_getContext?await t.unstable_getContext():new CO,Pe;if(ee&&ee.pendingError)Pe=[go(we).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&Pr(ee.submission.formMethod)){let wt=await on(Ce,X,ee.submission,we,$e,Re.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:ke});if(wt.shortCircuited)return;if(wt.pendingActionResult){let[We,Et]=wt.pendingActionResult;if(Wr(Et)&&Vh(Et.error)&&Et.error.status===404){M=null,Ke(X,{matches:wt.matches,loaderData:{},errors:{[We]:Et.error}});return}}we=wt.matches||we,Pe=wt.pendingActionResult,ge=Y0(X,ee.submission),ke=!1,Re.active=!1,Ce=oc(t.history,Ce.url,Ce.signal)}let{shortCircuited:Ae,matches:Ze,loaderData:ht,errors:Rt}=await fn(Ce,X,we,$e,Re.active,ge,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,ke,Pe);Ae||(M=null,Ke(X,{matches:Ze||we,...BO(Pe),loaderData:ht,errors:Rt}))}async function on(K,X,ee,fe,ge,we,ke,Re={}){Ds();let Ce=c$(X,ee);if(Ie({navigation:Ce},{flushSync:Re.flushSync===!0}),we){let Ae=await aa(fe,X.pathname,K.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){if(Ae.partialMatches.length===0){let{matches:ht,route:Rt}=Ym(l);return{matches:ht,pendingActionResult:[Rt.id,{type:"error",error:Ae.error}]}}let Ze=go(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[Ze,{type:"error",error:Ae.error}]}}else if(Ae.matches)fe=Ae.matches;else{let{notFoundMatches:Ze,error:ht,route:Rt}=La(X.pathname);return{matches:Ze,pendingActionResult:[Rt.id,{type:"error",error:ht}]}}}let $e,Pe=wp(fe,X);if(!Pe.route.action&&!Pe.route.lazy)$e={type:"error",error:Ai(405,{method:K.method,pathname:X.pathname,routeId:Pe.route.id})};else{let Ae=gc(i,a,K,fe,Pe,ke?[]:r,ge),Ze=await ai(K,Ae,ge,null);if($e=Ze[Pe.route.id],!$e){for(let ht of fe)if(Ze[ht.route.id]){$e=Ze[ht.route.id];break}}if(K.signal.aborted)return{shortCircuited:!0}}if(Cl($e)){let Ae;return Re&&Re.replace!=null?Ae=Re.replace:Ae=LO($e.response.headers.get("Location"),new URL(K.url),f)===D.location.pathname+D.location.search,await Mi(K,$e,!0,{submission:ee,replace:Ae}),{shortCircuited:!0}}if(Wr($e)){let Ae=go(fe,Pe.route.id);return(Re&&Re.replace)!==!0&&(N="PUSH"),{matches:fe,pendingActionResult:[Ae.route.id,$e,Pe.route.id]}}return{matches:fe,pendingActionResult:[Pe.route.id,$e]}}async function fn(K,X,ee,fe,ge,we,ke,Re,Ce,$e,Pe,Ae){let Ze=we||Y0(X,ke),ht=ke||Re||qO(Ze),Rt=!$&&!$e;if(ge){if(Rt){let Wt=Jt(Ae);Ie({navigation:Ze,...Wt!==void 0?{actionData:Wt}:{}},{flushSync:Pe})}let Fe=await aa(ee,X.pathname,K.signal);if(Fe.type==="aborted")return{shortCircuited:!0};if(Fe.type==="error"){if(Fe.partialMatches.length===0){let{matches:Li,route:Wn}=Ym(l);return{matches:Li,loaderData:{},errors:{[Wn.id]:Fe.error}}}let Wt=go(Fe.partialMatches).route.id;return{matches:Fe.partialMatches,loaderData:{},errors:{[Wt]:Fe.error}}}else if(Fe.matches)ee=Fe.matches;else{let{error:Wt,notFoundMatches:Li,route:Wn}=La(X.pathname);return{matches:Li,loaderData:{},errors:{[Wn.id]:Wt}}}}let wt=u||l,{dsMatches:We,revalidatingFetchers:Et}=IO(K,fe,i,a,t.history,D,ee,ht,X,$e?[]:r,$e===!0,ye,Ne,me,se,H,wt,f,t.patchRoutesOnNavigation!=null,Ae);if(ve=++ue,!t.dataStrategy&&!We.some(Fe=>Fe.shouldLoad)&&!We.some(Fe=>Fe.route.unstable_middleware)&&Et.length===0){let Fe=ra();return Ke(X,{matches:ee,loaderData:{},errors:Ae&&Wr(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...BO(Ae),...Fe?{fetchers:new Map(D.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(Rt){let Fe={};if(!ge){Fe.navigation=Ze;let Wt=Jt(Ae);Wt!==void 0&&(Fe.actionData=Wt)}Et.length>0&&(Fe.fetchers=Rs(Et)),Ie(Fe,{flushSync:Pe})}Et.forEach(Fe=>{si(Fe.key),Fe.controller&&Y.set(Fe.key,Fe.controller)});let Sr=()=>Et.forEach(Fe=>si(Fe.key));M&&M.signal.addEventListener("abort",Sr);let{loaderResults:Yn,fetcherResults:jn}=await Ps(We,Et,K,fe);if(K.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Sr),Et.forEach(Fe=>Y.delete(Fe.key));let yr=Wm(Yn);if(yr)return await Mi(K,yr.result,!0,{replace:Ce}),{shortCircuited:!0};if(yr=Wm(jn),yr)return H.add(yr.key),await Mi(K,yr.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:Ms,errors:jr}=VO(D,ee,Yn,Ae,Et,jn);$e&&D.errors&&(jr={...D.errors,...jr});let ui=ra(),Lr=ia(ve),vr=ui||Lr||Et.length>0;return{matches:ee,loaderData:Ms,errors:jr,...vr?{fetchers:new Map(D.fetchers)}:{}}}function Jt(K){if(K&&!Wr(K[1]))return{[K[0]]:K[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function Rs(K){return K.forEach(X=>{let ee=D.fetchers.get(X.key),fe=sh(void 0,ee?ee.data:void 0);D.fetchers.set(X.key,fe)}),new Map(D.fetchers)}async function Ho(K,X,ee,fe){si(K);let ge=(fe&&fe.flushSync)===!0,we=u||l,ke=X_(D.location,D.matches,f,ee,X,fe?.relative),Re=po(we,ke,f),Ce=gr(Re,we,ke);if(Ce.active&&Ce.matches&&(Re=Ce.matches),!Re){nt(K,X,Ai(404,{pathname:ke}),{flushSync:ge});return}let{path:$e,submission:Pe,error:Ae}=DO(!0,ke,fe);if(Ae){nt(K,X,Ae,{flushSync:ge});return}let Ze=t.unstable_getContext?await t.unstable_getContext():new CO,ht=(fe&&fe.preventScrollReset)===!0;if(Pe&&Pr(Pe.formMethod)){await Cs(K,X,$e,Re,Ze,Ce.active,ge,ht,Pe);return}se.set(K,{routeId:X,path:$e}),await Ma(K,X,$e,Re,Ze,Ce.active,ge,ht,Pe)}async function Cs(K,X,ee,fe,ge,we,ke,Re,Ce){Ds(),se.delete(K);let $e=D.fetchers.get(K);_t(K,f$(Ce,$e),{flushSync:ke});let Pe=new AbortController,Ae=oc(t.history,ee,Pe.signal,Ce);if(we){let $t=await aa(fe,new URL(Ae.url).pathname,Ae.signal,K);if($t.type==="aborted")return;if($t.type==="error"){nt(K,X,$t.error,{flushSync:ke});return}else if($t.matches)fe=$t.matches;else{nt(K,X,Ai(404,{pathname:ee}),{flushSync:ke});return}}let Ze=wp(fe,ee);if(!Ze.route.action&&!Ze.route.lazy){let $t=Ai(405,{method:Ce.formMethod,pathname:ee,routeId:X});nt(K,X,$t,{flushSync:ke});return}Y.set(K,Pe);let ht=ue,Rt=gc(i,a,Ae,fe,Ze,r,ge),We=(await ai(Ae,Rt,ge,K))[Ze.route.id];if(Ae.signal.aborted){Y.get(K)===Pe&&Y.delete(K);return}if(me.has(K)){if(Cl(We)||Wr(We)){_t(K,co(void 0));return}}else{if(Cl(We))if(Y.delete(K),ve>ht){_t(K,co(void 0));return}else return H.add(K),_t(K,sh(Ce)),Mi(Ae,We,!1,{fetcherSubmission:Ce,preventScrollReset:Re});if(Wr(We)){nt(K,X,We.error);return}}let Et=D.navigation.location||D.location,Sr=oc(t.history,Et,Pe.signal),Yn=u||l,jn=D.navigation.state!=="idle"?po(Yn,D.navigation.location,f):D.matches;ut(jn,"Didn't find any matches after fetcher action");let yr=++ue;De.set(K,yr);let Ms=sh(Ce,We.data);D.fetchers.set(K,Ms);let{dsMatches:jr,revalidatingFetchers:ui}=IO(Sr,ge,i,a,t.history,D,jn,Ce,Et,r,!1,ye,Ne,me,se,H,Yn,f,t.patchRoutesOnNavigation!=null,[Ze.route.id,We]);ui.filter($t=>$t.key!==K).forEach($t=>{let Ui=$t.key,js=D.fetchers.get(Ui),Ls=sh(void 0,js?js.data:void 0);D.fetchers.set(Ui,Ls),si(Ui),$t.controller&&Y.set(Ui,$t.controller)}),Ie({fetchers:new Map(D.fetchers)});let Lr=()=>ui.forEach($t=>si($t.key));Pe.signal.addEventListener("abort",Lr);let{loaderResults:vr,fetcherResults:Fe}=await Ps(jr,ui,Sr,ge);if(Pe.signal.aborted)return;if(Pe.signal.removeEventListener("abort",Lr),De.delete(K),Y.delete(K),ui.forEach($t=>Y.delete($t.key)),D.fetchers.has(K)){let $t=co(We.data);D.fetchers.set(K,$t)}let Wt=Wm(vr);if(Wt)return Mi(Sr,Wt.result,!1,{preventScrollReset:Re});if(Wt=Wm(Fe),Wt)return H.add(Wt.key),Mi(Sr,Wt.result,!1,{preventScrollReset:Re});let{loaderData:Li,errors:Wn}=VO(D,jn,vr,void 0,ui,Fe);ia(yr),D.navigation.state==="loading"&&yr>ve?(ut(N,"Expected pending action"),M&&M.abort(),Ke(D.navigation.location,{matches:jn,loaderData:Li,errors:Wn,fetchers:new Map(D.fetchers)})):(Ie({errors:Wn,loaderData:$O(D.loaderData,Li,jn,Wn),fetchers:new Map(D.fetchers)}),ye=!1)}async function Ma(K,X,ee,fe,ge,we,ke,Re,Ce){let $e=D.fetchers.get(K);_t(K,sh(Ce,$e?$e.data:void 0),{flushSync:ke});let Pe=new AbortController,Ae=oc(t.history,ee,Pe.signal);if(we){let Et=await aa(fe,new URL(Ae.url).pathname,Ae.signal,K);if(Et.type==="aborted")return;if(Et.type==="error"){nt(K,X,Et.error,{flushSync:ke});return}else if(Et.matches)fe=Et.matches;else{nt(K,X,Ai(404,{pathname:ee}),{flushSync:ke});return}}let Ze=wp(fe,ee);Y.set(K,Pe);let ht=ue,Rt=gc(i,a,Ae,fe,Ze,r,ge),We=(await ai(Ae,Rt,ge,K))[Ze.route.id];if(Y.get(K)===Pe&&Y.delete(K),!Ae.signal.aborted){if(me.has(K)){_t(K,co(void 0));return}if(Cl(We))if(ve>ht){_t(K,co(void 0));return}else{H.add(K),await Mi(Ae,We,!1,{preventScrollReset:Re});return}if(Wr(We)){nt(K,X,We.error);return}_t(K,co(We.data))}}async function Mi(K,X,ee,{submission:fe,fetcherSubmission:ge,preventScrollReset:we,replace:ke}={}){X.response.headers.has("X-Remix-Revalidate")&&(ye=!0);let Re=X.response.headers.get("Location");ut(Re,"Expected a Location header on the redirect Response"),Re=LO(Re,new URL(K.url),f);let Ce=Lh(D.location,Re,{_isRedirect:!0});if(n){let Rt=!1;if(X.response.headers.has("X-Remix-Reload-Document"))Rt=!0;else if(CE(Re)){const wt=YI(Re,!0);Rt=wt.origin!==e.location.origin||Pi(wt.pathname,f)==null}if(Rt){ke?e.location.replace(Re):e.location.assign(Re);return}}M=null;let $e=ke===!0||X.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:Ae,formEncType:Ze}=D.navigation;!fe&&!ge&&Pe&&Ae&&Ze&&(fe=qO(D.navigation));let ht=fe||ge;if(z6.has(X.response.status)&&ht&&Pr(ht.formMethod))await et($e,Ce,{submission:{...ht,formAction:Re},preventScrollReset:we||k,enableViewTransition:ee?z:void 0});else{let Rt=Y0(Ce,fe);await et($e,Ce,{overrideNavigation:Rt,fetcherSubmission:ge,preventScrollReset:we||k,enableViewTransition:ee?z:void 0})}}async function ai(K,X,ee,fe){let ge,we={};try{ge=await Z6(h,K,X,fe,ee,!1)}catch(ke){return X.filter(Re=>Re.shouldLoad).forEach(Re=>{we[Re.route.id]={type:"error",error:ke}}),we}if(K.signal.aborted)return we;for(let[ke,Re]of Object.entries(ge))if(l$(Re)){let Ce=Re.result;we[ke]={type:"redirect",response:r$(Ce,K,ke,X,f)}}else we[ke]=await n$(Re);return we}async function Ps(K,X,ee,fe){let ge=ai(ee,K,fe,null),we=Promise.all(X.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let Pe=(await ai(Ce.request,Ce.matches,fe,Ce.key))[Ce.match.route.id];return{[Ce.key]:Pe}}else return Promise.resolve({[Ce.key]:{type:"error",error:Ai(404,{pathname:Ce.path})}})})),ke=await ge,Re=(await we).reduce((Ce,$e)=>Object.assign(Ce,$e),{});return{loaderResults:ke,fetcherResults:Re}}function Ds(){ye=!0,se.forEach((K,X)=>{Y.has(X)&&Ne.add(X),si(X)})}function _t(K,X,ee={}){D.fetchers.set(K,X),Ie({fetchers:new Map(D.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function nt(K,X,ee,fe={}){let ge=go(D.matches,X);hn(K),Ie({errors:{[ge.route.id]:ee},fetchers:new Map(D.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function sr(K){return ae.set(K,(ae.get(K)||0)+1),me.has(K)&&me.delete(K),D.fetchers.get(K)||q6}function hn(K){let X=D.fetchers.get(K);Y.has(K)&&!(X&&X.state==="loading"&&De.has(K))&&si(K),se.delete(K),De.delete(K),H.delete(K),me.delete(K),Ne.delete(K),D.fetchers.delete(K)}function cu(K){let X=(ae.get(K)||0)-1;X<=0?(ae.delete(K),me.add(K)):ae.set(K,X),Ie({fetchers:new Map(D.fetchers)})}function si(K){let X=Y.get(K);X&&(X.abort(),Y.delete(K))}function na(K){for(let X of K){let ee=sr(X),fe=co(ee.data);D.fetchers.set(X,fe)}}function ra(){let K=[],X=!1;for(let ee of H){let fe=D.fetchers.get(ee);ut(fe,`Expected fetcher: ${ee}`),fe.state==="loading"&&(H.delete(ee),K.push(ee),X=!0)}return na(K),X}function ia(K){let X=[];for(let[ee,fe]of De)if(fe<K){let ge=D.fetchers.get(ee);ut(ge,`Expected fetcher: ${ee}`),ge.state==="loading"&&(si(ee),De.delete(ee),X.push(ee))}return na(X),X.length>0}function Mr(K,X){let ee=D.blockers.get(K)||ah;return Te.get(K)!==X&&Te.set(K,X),ee}function ja(K){D.blockers.delete(K),Te.delete(K)}function oi(K,X){let ee=D.blockers.get(K)||ah;ut(ee.state==="unblocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="proceeding"||ee.state==="blocked"&&X.state==="unblocked"||ee.state==="proceeding"&&X.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${X.state}`);let fe=new Map(D.blockers);fe.set(K,X),Ie({blockers:fe})}function Is({currentLocation:K,nextLocation:X,historyAction:ee}){if(Te.size===0)return;Te.size>1&&_n(!1,"A router only supports one blocker at a time");let fe=Array.from(Te.entries()),[ge,we]=fe[fe.length-1],ke=D.blockers.get(ge);if(!(ke&&ke.state==="proceeding")&&we({currentLocation:K,nextLocation:X,historyAction:ee}))return ge}function La(K){let X=Ai(404,{pathname:K}),ee=u||l,{matches:fe,route:ge}=Ym(ee);return{notFoundMatches:fe,route:ge,error:X}}function Ko(K,X,ee){if(b=K,E=X,w=ee||null,!S&&D.navigation===G0){S=!0;let fe=Ns(D.location,D.matches);fe!=null&&Ie({restoreScrollPosition:fe})}return()=>{b=null,E=null,w=null}}function li(K,X){return w&&w(K,X.map(fe=>b6(fe,D.loaderData)))||K.key}function ji(K,X){if(b&&E){let ee=li(K,X);b[ee]=E()}}function Ns(K,X){if(b){let ee=li(K,X),fe=b[ee];if(typeof fe=="number")return fe}return null}function gr(K,X,ee){if(t.patchRoutesOnNavigation)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:_p(X,ee,f,!0)}}else return{active:!0,matches:_p(X,ee,f,!0)||[]};return{active:!1,matches:null}}async function aa(K,X,ee,fe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:K};let ge=K;for(;;){let we=u==null,ke=u||l,Re=a;try{await t.patchRoutesOnNavigation({signal:ee,path:X,matches:ge,fetcherKey:fe,patch:(Pe,Ae)=>{ee.aborted||NO(Pe,Ae,ke,Re,i,!1)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:ge}}finally{we&&!ee.aborted&&(l=[...l])}if(ee.aborted)return{type:"aborted"};let Ce=po(ke,X,f);if(Ce)return{type:"success",matches:Ce};let $e=_p(ke,X,f,!0);if(!$e||ge.length===$e.length&&ge.every((Pe,Ae)=>Pe.route.id===$e[Ae].route.id))return{type:"success",matches:null};ge=$e}}function sa(K){a={},u=Uh(K,i,void 0,a)}function ks(K,X,ee=!1){let fe=u==null;NO(K,X,u||l,a,i,ee),fe&&(l=[...l],Ie({}))}return I={get basename(){return f},get future(){return d},get state(){return D},get routes(){return l},get window(){return e},initialize:tn,subscribe:_e,enableScrollRestoration:Ko,navigate:pe,fetch:Ho,revalidate:Yt,createHref:K=>t.history.createHref(K),encodeLocation:K=>t.history.encodeLocation(K),getFetcher:sr,deleteFetcher:cu,dispose:At,getBlocker:Mr,deleteBlocker:ja,patchRoutes:ks,_internalFetchControllers:Y,_internalSetRoutes:sa,_internalSetStateDoNotUseOrYouWillBreakYourApp(K){Ie(K)}},I}function G6(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function X_(t,e,n,r,i,a){let l,u;if(i){l=[];for(let h of e)if(l.push(h),h.route.id===i){u=h;break}}else l=e,u=e[e.length-1];let f=RE(r||".",OE(l),Pi(t.pathname,n)||t.pathname,a==="path");if(r==null&&(f.search=t.search,f.hash=t.hash),(r==null||r===""||r===".")&&u){let h=PE(f.search);if(u.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let d=new URLSearchParams(f.search),p=d.getAll("index");d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();f.search=v?`?${v}`:""}}return n!=="/"&&(f.pathname=I6({basename:n,pathname:f.pathname})),Oo(f)}function DO(t,e,n){if(!n||!G6(n))return{path:e};if(n.formMethod&&!u$(n.formMethod))return{path:e,error:Ai(405,{method:n.formMethod})};let r=()=>({path:e,error:Ai(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),l=sN(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Pr(a))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,[b,w])=>`${v}${b}=${w}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Pr(a))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}ut(typeof FormData=="function","FormData is not available in this environment");let u,f;if(n.formData)u=Z_(n.formData),f=n.formData;else if(n.body instanceof FormData)u=Z_(n.body),f=n.body;else if(n.body instanceof URLSearchParams)u=n.body,f=UO(u);else if(n.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(n.body),f=UO(u)}catch{return r()}let h={formMethod:a,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Pr(h.formMethod))return{path:e,submission:h};let d=jo(e);return t&&d.search&&PE(d.search)&&u.append("index",""),d.search=`?${u}`,{path:Oo(d),submission:h}}function IO(t,e,n,r,i,a,l,u,f,h,d,p,v,b,w,E,S,x,C,O){let V=O?Wr(O[1])?O[1].error:O[1].data:void 0,I=i.createURL(a.location),D=i.createURL(f),N;if(d&&a.errors){let $=Object.keys(a.errors)[0];N=l.findIndex(ye=>ye.route.id===$)}else if(O&&Wr(O[1])){let $=O[0];N=l.findIndex(ye=>ye.route.id===$)-1}let k=O?O[1].statusCode:void 0,M=k&&k>=400,z={currentUrl:I,currentParams:a.matches[0]?.params||{},nextUrl:D,nextParams:l[0].params,...u,actionResult:V,actionStatus:k},B=l.map(($,ye)=>{let{route:Ne}=$,Y=null;if(N!=null&&ye>N?Y=!1:Ne.lazy?Y=!0:Ne.loader==null?Y=!1:d?Y=Q_(Ne,a.loaderData,a.errors):Y6(a.loaderData,a.matches[ye],$)&&(Y=!0),Y!==null)return J_(n,r,t,$,h,e,Y);let ue=M?!1:p||I.pathname+I.search===D.pathname+D.search||I.search!==D.search||W6(a.matches[ye],$),ve={...z,defaultShouldRevalidate:ue},De=kp($,ve);return J_(n,r,t,$,h,e,De,ve)}),q=[];return w.forEach(($,ye)=>{if(d||!l.some(ae=>ae.route.id===$.routeId)||b.has(ye))return;let Ne=a.fetchers.get(ye),Y=Ne&&Ne.state!=="idle"&&Ne.data===void 0,ue=po(S,$.path,x);if(!ue){if(C&&Y)return;q.push({key:ye,routeId:$.routeId,path:$.path,matches:null,match:null,request:null,controller:null});return}if(E.has(ye))return;let ve=wp(ue,$.path),De=new AbortController,H=oc(i,$.path,De.signal),se=null;if(v.has(ye))v.delete(ye),se=gc(n,r,H,ue,ve,h,e);else if(Y)p&&(se=gc(n,r,H,ue,ve,h,e));else{let ae={...z,defaultShouldRevalidate:M?!1:p};kp(ve,ae)&&(se=gc(n,r,H,ue,ve,h,e,ae))}se&&q.push({key:ye,routeId:$.routeId,path:$.path,matches:se,match:ve,request:H,controller:De})}),{dsMatches:B,revalidatingFetchers:q}}function Q_(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function Y6(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function W6(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function kp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function NO(t,e,n,r,i,a){let l;if(t){let h=r[t];ut(h,`No route found to patch children into: routeId = ${t}`),h.children||(h.children=[]),l=h.children}else l=n;let u=[],f=[];if(e.forEach(h=>{let d=l.find(p=>tN(h,p));d?f.push({existingRoute:d,newRoute:h}):u.push(h)}),u.length>0){let h=Uh(u,i,[t||"_","patch",String(l?.length||"0")],r);l.push(...h)}if(a&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:d,newRoute:p}=f[h],v=d,[b]=Uh([p],i,[],{},!0);Object.assign(v,{element:b.element?b.element:v.element,errorElement:b.errorElement?b.errorElement:v.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:v.hydrateFallbackElement})}}function tN(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>tN(n,i))):!1}var kO=new WeakMap,nN=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(ut(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[t];if(!a)return;let l=kO.get(i);l||(l={},kO.set(i,l));let u=l[t];if(u)return u;let f=(async()=>{let h=p6(t),p=i[t]!==void 0&&t!=="hasErrorBoundary";if(h)_n(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(p)_n(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await a();v!=null&&(Object.assign(i,{[t]:v}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(v=>v===void 0)&&(i.lazy=void 0))})();return l[t]=f,f},MO=new WeakMap;function X6(t,e,n,r,i){let a=n[t.id];if(ut(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let d=MO.get(a);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let p=(async()=>{ut(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),b={};for(let w in v){let E=v[w];if(E===void 0)continue;let S=y6(w),C=a[w]!==void 0&&w!=="hasErrorBoundary";S?_n(!S,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):C?_n(!C,`Route "${a.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):b[w]=E}Object.assign(a,b),Object.assign(a,{...r(a),lazy:void 0})})();return MO.set(a,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let l=Object.keys(t.lazy),u=[],f;for(let d of l){if(i&&i.includes(d))continue;let p=nN({key:d,route:t,manifest:n,mapRouteProperties:r});p&&(u.push(p),d===e&&(f=p))}let h=u.length>0?Promise.all(u).then(()=>{}):void 0;return h?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}async function jO(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,a)=>{n[e[a].route.id]=i}),n}async function Q6(t){return t.matches.some(e=>e.route.unstable_middleware)?rN(t,()=>jO(t)):jO(t)}function rN(t,e){return J6(t,e,r=>r,s$,n);function n(r,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:r}}));{let{matches:l}=t,u=Math.min(l.findIndex(h=>h.route.id===i)||0,l.findIndex(h=>h.unstable_shouldCallHandler())||0),f=go(l,l[u].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:r}})}}}async function J6(t,e,n,r,i){let{matches:a,request:l,params:u,context:f}=t,h=a.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(v=>[p.route.id,v]):[]);return await iN({request:l,params:u,context:f},h,e,n,r,i)}async function iN(t,e,n,r,i,a,l=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason??new Error(`Request aborted: ${u.method} ${u.url}`);let f=e[l];if(!f)return await n();let[h,d]=f,p,v=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await iN(t,e,n,r,i,a,l+1)},p.value}catch(b){return p={value:await a(b,h,p)},p.value}};try{let b=await d(t,v),w=b!=null?r(b):void 0;return i(w)?w:p?w??p.value:(p={value:await v()},p.value)}catch(b){return await a(b,h,p)}}function aN(t,e,n,r,i){let a=nN({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=X6(r.route,Pr(n.method)?"action":"loader",e,t,i);return{middleware:a,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function J_(t,e,n,r,i,a,l,u=null){let f=!1,h=aN(t,e,n,r,i);return{...r,_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(d){return f=!0,u?typeof d=="boolean"?kp(r,{...u,defaultShouldRevalidate:d}):kp(r,u):l},resolve(d){return f||l||d&&!Pr(n.method)&&(r.route.lazy||r.route.loader)?e$({request:n,match:r,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:d,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function gc(t,e,n,r,i,a,l,u=null){return r.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:aN(t,e,n,f,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:J_(t,e,n,f,a,l,!0,u))}async function Z6(t,e,n,r,i,a){n.some(h=>h._lazyPromises?.middleware)&&await Promise.all(n.map(h=>h._lazyPromises?.middleware));let l={request:e,params:n[0].params,context:i,matches:n},f=await t({...l,fetcherKey:r,unstable_runClientMiddleware:h=>{let d=l;return rN(d,()=>h({...d,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return f}async function e$({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:a}){let l,u,f=Pr(t.method),h=f?"action":"loader",d=p=>{let v,b=new Promise((S,x)=>v=x);u=()=>v(),t.signal.addEventListener("abort",u);let w=S=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):p({request:t,params:e.params,context:a},...S!==void 0?[S]:[]),E=(async()=>{try{return{type:"data",result:await(i?i(x=>w(x)):w())}}catch(S){return{type:"error",result:S}}})();return Promise.race([E,b])};try{let p=f?e.route.action:e.route.loader;if(n||r)if(p){let v,[b]=await Promise.all([d(p).catch(w=>{v=w}),n,r]);if(v!==void 0)throw v;l=b}else{await n;let v=f?e.route.action:e.route.loader;if(v)[l]=await Promise.all([d(v),r]);else if(h==="action"){let b=new URL(t.url),w=b.pathname+b.search;throw Ai(405,{method:t.method,pathname:w,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(p)l=await d(p);else{let v=new URL(t.url),b=v.pathname+v.search;throw Ai(404,{pathname:b})}}catch(p){return{type:"error",result:p}}finally{u&&t.signal.removeEventListener("abort",u)}return l}async function t$(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function n$(t){let{result:e,type:n}=t;if(oN(e)){let r;try{r=await t$(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Np(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?zO(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Np(e.init?.status||500,void 0,e.data),statusCode:Vh(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Vh(e)?e.status:void 0}:zO(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function r$(t,e,n,r,i){let a=t.headers.get("Location");if(ut(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!CE(a)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);a=X_(new URL(e.url),l,i,a),t.headers.set("Location",a)}return t}function LO(t,e,n){if(CE(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=Pi(i.pathname,n)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function oc(t,e,n,r){let i=t.createURL(sN(e)).toString(),a={signal:n};if(r&&Pr(r.formMethod)){let{formMethod:l,formEncType:u}=r;a.method=l.toUpperCase(),u==="application/json"?(a.headers=new Headers({"Content-Type":u}),a.body=JSON.stringify(r.json)):u==="text/plain"?a.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?a.body=Z_(r.formData):a.body=r.formData}return new Request(i,a)}function Z_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function UO(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function i$(t,e,n,r=!1,i=!1){let a={},l=null,u,f=!1,h={},d=n&&Wr(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let v=p.route.id,b=e[v];if(ut(!Cl(b),"Cannot handle redirect results in processLoaderData"),Wr(b)){let w=b.error;if(d!==void 0&&(w=d,d=void 0),l=l||{},i)l[v]=w;else{let E=go(t,v);l[E.route.id]==null&&(l[E.route.id]=w)}r||(a[v]=eN),f||(f=!0,u=Vh(b.error)?b.error.status:500),b.headers&&(h[v]=b.headers)}else a[v]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(u=b.statusCode),b.headers&&(h[v]=b.headers)}),d!==void 0&&n&&(l={[n[0]]:d},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:l,statusCode:u||200,loaderHeaders:h}}function VO(t,e,n,r,i,a){let{loaderData:l,errors:u}=i$(e,n,r);return i.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:d,controller:p}=f;if(p&&p.signal.aborted)return;let v=a[h];if(ut(v,"Did not find corresponding fetcher result"),Wr(v)){let b=go(t.matches,d?.route.id);u&&u[b.route.id]||(u={...u,[b.route.id]:v.error}),t.fetchers.delete(h)}else if(Cl(v))ut(!1,"Unhandled fetcher revalidation redirect");else{let b=co(v.data);t.fetchers.set(h,b)}}),{loaderData:l,errors:u}}function $O(t,e,n,r){let i=Object.entries(e).filter(([,a])=>a!==eN).reduce((a,[l,u])=>(a[l]=u,a),{});for(let a of n){let l=a.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&a.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function BO(t){return t?Wr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function go(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ym(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ai(t,{pathname:e,routeId:n,method:r,type:i,message:a}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",u=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new Np(t||500,l,new Error(u),!0)}function Wm(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Cl(i))return{key:r,result:i}}}function sN(t){let e=typeof t=="string"?jo(t):t;return Oo({...e,hash:""})}function a$(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function s$(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&o$(n))}function o$(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function l$(t){return oN(t.result)&&B6.has(t.result.status)}function Wr(t){return t.type==="error"}function Cl(t){return(t&&t.type)==="redirect"}function zO(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function oN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function u$(t){return $6.has(t.toUpperCase())}function Pr(t){return U6.has(t.toUpperCase())}function PE(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function wp(t,e){let n=typeof e=="string"?jo(e).search:e.search;if(t[t.length-1].route.index&&PE(n||""))return t[t.length-1];let r=QI(t);return r[r.length-1]}function qO(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:a,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function Y0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function c$(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function sh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function f$(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function co(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function h$(t,e){try{let n=t.sessionStorage.getItem(ZI);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function d$(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(ZI,JSON.stringify(n))}catch(r){_n(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function m$(){let t,e,n=new Promise((r,i)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Ql=A.createContext(null);Ql.displayName="DataRouter";var ud=A.createContext(null);ud.displayName="DataRouterState";A.createContext(!1);var DE=A.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var lN=A.createContext(new Map);lN.displayName="Fetchers";var p$=A.createContext(null);p$.displayName="Await";var Na=A.createContext(null);Na.displayName="Navigation";var $g=A.createContext(null);$g.displayName="Location";var ws=A.createContext({outlet:null,matches:[],isDataRoute:!1});ws.displayName="Route";var IE=A.createContext(null);IE.displayName="RouteError";function g$(t,{relative:e}={}){ut(cd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Na),{hash:i,pathname:a,search:l}=fd(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Ea([n,a])),r.createHref({pathname:u,search:l,hash:i})}function cd(){return A.useContext($g)!=null}function Lo(){return ut(cd(),"useLocation() may be used only in the context of a <Router> component."),A.useContext($g).location}var uN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cN(t){A.useContext(Na).static||A.useLayoutEffect(t)}function y$(){let{isDataRoute:t}=A.useContext(ws);return t?C$():v$()}function v$(){ut(cd(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Ql),{basename:e,navigator:n}=A.useContext(Na),{matches:r}=A.useContext(ws),{pathname:i}=Lo(),a=JSON.stringify(OE(r)),l=A.useRef(!1);return cN(()=>{l.current=!0}),A.useCallback((f,h={})=>{if(_n(l.current,uN),!l.current)return;if(typeof f=="number"){n.go(f);return}let d=RE(f,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ea([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,a,i,t])}A.createContext(null);function fd(t,{relative:e}={}){let{matches:n}=A.useContext(ws),{pathname:r}=Lo(),i=JSON.stringify(OE(n));return A.useMemo(()=>RE(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function b$(t,e,n,r,i){ut(cd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=A.useContext(Na),{matches:l}=A.useContext(ws),u=l[l.length-1],f=u?u.params:{},h=u?u.pathname:"/",d=u?u.pathnameBase:"/",p=u&&u.route;{let C=p&&p.path||"";hN(h,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=Lo(),b;b=v;let w=b.pathname||"/",E=w;if(d!=="/"){let C=d.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=po(t,{pathname:E});return _n(p||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),_n(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),T$(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:Ea([d,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Ea([d,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,n,r,i)}function _$(){let t=fN(),e=Vh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,l)}var w$=A.createElement(_$,null),E$=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(ws.Provider,{value:this.props.routeContext},A.createElement(IE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S$({routeContext:t,match:e,children:n}){let r=A.useContext(Ql);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(ws.Provider,{value:t},n)}function T$(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let h=a.findIndex(d=>d.route.id&&l?.[d.route.id]!==void 0);ut(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,f=-1;if(n)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(f=h),d.route.id){let{loaderData:p,errors:v}=n,b=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||b){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,d,p)=>{let v,b=!1,w=null,E=null;n&&(v=l&&d.route.id?l[d.route.id]:void 0,w=d.route.errorElement||w$,u&&(f<0&&p===0?(hN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):f===p&&(b=!0,E=d.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,p+1)),x=()=>{let C;return v?C=w:b?C=E:d.route.Component?C=A.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=h,A.createElement(S$,{match:d,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:C})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?A.createElement(E$,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:x(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):x()},null)}function NE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A$(t){let e=A.useContext(Ql);return ut(e,NE(t)),e}function x$(t){let e=A.useContext(ud);return ut(e,NE(t)),e}function O$(t){let e=A.useContext(ws);return ut(e,NE(t)),e}function kE(t){let e=O$(t),n=e.matches[e.matches.length-1];return ut(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function R$(){return kE("useRouteId")}function fN(){let t=A.useContext(IE),e=x$("useRouteError"),n=kE("useRouteError");return t!==void 0?t:e.errors?.[n]}function C$(){let{router:t}=A$("useNavigate"),e=kE("useNavigate"),n=A.useRef(!1);return cN(()=>{n.current=!0}),A.useCallback(async(i,a={})=>{_n(n.current,uN),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var FO={};function hN(t,e,n){!e&&!FO[t]&&(FO[t]=!0,_n(!1,n))}var HO={};function KO(t,e){!t&&!HO[e]&&(HO[e]=!0,console.warn(e))}function P$(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&_n(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:A.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&_n(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:A.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&_n(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:A.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var D$=["HydrateFallback","hydrateFallbackElement"],I$=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function N$({router:t,flushSync:e,unstable_onError:n}){let[r,i]=A.useState(t.state),[a,l]=A.useState(),[u,f]=A.useState({isTransitioning:!1}),[h,d]=A.useState(),[p,v]=A.useState(),[b,w]=A.useState(),E=A.useRef(new Map),S=A.useCallback(I=>{i(D=>(I.errors&&n&&Object.entries(I.errors).forEach(([N,k])=>{D.errors?.[N]!==k&&n(k)}),I))},[n]),x=A.useCallback((I,{deletedFetchers:D,flushSync:N,viewTransitionOpts:k})=>{I.fetchers.forEach((z,B)=>{z.data!==void 0&&E.current.set(B,z.data)}),D.forEach(z=>E.current.delete(z)),KO(N===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(KO(k==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!M){e&&N?e(()=>S(I)):A.startTransition(()=>S(I));return}if(e&&N){e(()=>{p&&(h&&h.resolve(),p.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let z=t.window.document.startViewTransition(()=>{e(()=>S(I))});z.finished.finally(()=>{e(()=>{d(void 0),v(void 0),l(void 0),f({isTransitioning:!1})})}),e(()=>v(z));return}p?(h&&h.resolve(),p.skipTransition(),w({state:I,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(l(I),f({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[t.window,e,p,h,S]);A.useLayoutEffect(()=>t.subscribe(x),[t,x]),A.useEffect(()=>{u.isTransitioning&&!u.flushSync&&d(new I$)},[u]),A.useEffect(()=>{if(h&&a&&t.window){let I=a,D=h.promise,N=t.window.document.startViewTransition(async()=>{A.startTransition(()=>S(I)),await D});N.finished.finally(()=>{d(void 0),v(void 0),l(void 0),f({isTransitioning:!1})}),v(N)}},[a,h,t.window,S]),A.useEffect(()=>{h&&a&&r.location.key===a.location.key&&h.resolve()},[h,p,r.location,a]),A.useEffect(()=>{!u.isTransitioning&&b&&(l(b.state),f({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),w(void 0))},[u.isTransitioning,b]);let C=A.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:I=>t.navigate(I),push:(I,D,N)=>t.navigate(I,{state:D,preventScrollReset:N?.preventScrollReset}),replace:(I,D,N)=>t.navigate(I,{replace:!0,state:D,preventScrollReset:N?.preventScrollReset})}),[t]),O=t.basename||"/",V=A.useMemo(()=>({router:t,navigator:C,static:!1,basename:O,unstable_onError:n}),[t,C,O,n]);return A.createElement(A.Fragment,null,A.createElement(Ql.Provider,{value:V},A.createElement(ud.Provider,{value:r},A.createElement(lN.Provider,{value:E.current},A.createElement(DE.Provider,{value:u},A.createElement(j$,{basename:O,location:r.location,navigationType:r.historyAction,navigator:C},A.createElement(k$,{routes:t.routes,future:t.future,state:r,unstable_onError:n})))))),null)}var k$=A.memo(M$);function M$({routes:t,future:e,state:n,unstable_onError:r}){return b$(t,void 0,n,r,e)}function j$({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){ut(!cd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=jo(n));let{pathname:f="/",search:h="",hash:d="",state:p=null,key:v="default"}=n,b=A.useMemo(()=>{let w=Pi(f,l);return w==null?null:{location:{pathname:w,search:h,hash:d,state:p,key:v},navigationType:r}},[l,f,h,d,p,v,r]);return _n(b!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:A.createElement(Na.Provider,{value:u},A.createElement($g.Provider,{children:e,value:b}))}var Ep="get",Sp="application/x-www-form-urlencoded";function Bg(t){return t!=null&&typeof t.tagName=="string"}function L$(t){return Bg(t)&&t.tagName.toLowerCase()==="button"}function U$(t){return Bg(t)&&t.tagName.toLowerCase()==="form"}function V$(t){return Bg(t)&&t.tagName.toLowerCase()==="input"}function $$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function B$(t,e){return t.button===0&&(!e||e==="_self")&&!$$(t)}var Xm=null;function z$(){if(Xm===null)try{new FormData(document.createElement("form"),0),Xm=!1}catch{Xm=!0}return Xm}var q$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function W0(t){return t!=null&&!q$.has(t)?(_n(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sp}"`),null):t}function F$(t,e){let n,r,i,a,l;if(U$(t)){let u=t.getAttribute("action");r=u?Pi(u,e):null,n=t.getAttribute("method")||Ep,i=W0(t.getAttribute("enctype"))||Sp,a=new FormData(t)}else if(L$(t)||V$(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?Pi(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Ep,i=W0(t.getAttribute("formenctype"))||W0(u.getAttribute("enctype"))||Sp,a=new FormData(u,t),!z$()){let{name:h,type:d,value:p}=t;if(d==="image"){let v=h?`${h}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else h&&a.append(h,p)}}else{if(Bg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ep,r=null,i=Sp,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ME(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function H$(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Pi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function K$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Y$(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await K$(a,n);return l.links?l.links():[]}return[]}));return J$(r.flat(1).filter(G$).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function GO(t,e,n,r,i,a){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,h)=>l(f,h)||u(f,h)):a==="data"?e.filter((f,h)=>{let d=r.routes[f.route.id];if(!d||!d.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function W$(t,e,{includeHydrateFallback:n}={}){return X$(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function X$(t){return[...new Set(t)]}function Q$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function J$(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(Q$(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function dN(){let t=A.useContext(Ql);return ME(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Z$(){let t=A.useContext(ud);return ME(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jE=A.createContext(void 0);jE.displayName="FrameworkContext";function mN(){let t=A.useContext(jE);return ME(t,"You must render this element inside a <HydratedRouter> element"),t}function e5(t,e){let n=A.useContext(jE),[r,i]=A.useState(!1),[a,l]=A.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:d,onTouchStart:p}=e,v=A.useRef(null);A.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=x=>{x.forEach(C=>{l(C.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[t]),A.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:oh(u,b),onBlur:oh(f,w),onMouseEnter:oh(h,b),onMouseLeave:oh(d,w),onTouchStart:oh(p,b)}]:[!1,v,{}]}function oh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function t5({page:t,...e}){let{router:n}=dN(),r=A.useMemo(()=>po(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(r5,{page:t,matches:r,...e}):null}function n5(t){let{manifest:e,routeModules:n}=mN(),[r,i]=A.useState([]);return A.useEffect(()=>{let a=!1;return Y$(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function r5({page:t,matches:e,...n}){let r=Lo(),{manifest:i,routeModules:a}=mN(),{basename:l}=dN(),{loaderData:u,matches:f}=Z$(),h=A.useMemo(()=>GO(t,e,f,i,r,"data"),[t,e,f,i,r]),d=A.useMemo(()=>GO(t,e,f,i,r,"assets"),[t,e,f,i,r]),p=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,E=!1;if(e.forEach(x=>{let C=i.routes[x.route.id];!C||!C.hasLoader||(!h.some(O=>O.route.id===x.route.id)&&x.route.id in u&&a[x.route.id]?.shouldRevalidate||C.hasClientLoader?E=!0:w.add(x.route.id))}),w.size===0)return[];let S=H$(t,l,"data");return E&&w.size>0&&S.searchParams.set("_routes",e.filter(x=>w.has(x.route.id)).map(x=>x.route.id).join(",")),[S.pathname+S.search]},[l,u,r,i,h,e,t,a]),v=A.useMemo(()=>W$(d,i),[d,i]),b=n5(d);return A.createElement(A.Fragment,null,p.map(w=>A.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>A.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:E})=>A.createElement("link",{key:w,nonce:n.nonce,...E})))}function i5(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pN&&(window.__reactRouterVersion="7.8.2")}catch{}function a5(t,e){return K6({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:f6({window:e?.window}),hydrationData:e?.hydrationData||s5(),routes:t,mapRouteProperties:P$,hydrationRouteProperties:D$,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function s5(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:o5(t.errors)}),t}function o5(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Np(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let l=new a(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}var gN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yc=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:f,to:h,preventScrollReset:d,viewTransition:p,...v},b){let{basename:w}=A.useContext(Na),E=typeof h=="string"&&gN.test(h),S,x=!1;if(typeof h=="string"&&E&&(S=h,pN))try{let M=new URL(window.location.href),z=h.startsWith("//")?new URL(M.protocol+h):new URL(h),B=Pi(z.pathname,w);z.origin===M.origin&&B!=null?h=B+z.search+z.hash:x=!0}catch{_n(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=g$(h,{relative:i}),[O,V,I]=e5(r,v),D=f5(h,{replace:l,state:u,target:f,preventScrollReset:d,relative:i,viewTransition:p});function N(M){e&&e(M),M.defaultPrevented||D(M)}let k=A.createElement("a",{...v,...I,href:S||C,onClick:x||a?e:N,ref:i5(b,V),target:f,"data-discover":!E&&n==="render"?"true":void 0});return O&&!E?A.createElement(A.Fragment,null,k,A.createElement(t5,{page:C})):k});yc.displayName="Link";var l5=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:f,...h},d){let p=fd(l,{relative:h.relative}),v=Lo(),b=A.useContext(ud),{navigator:w,basename:E}=A.useContext(Na),S=b!=null&&g5(p)&&u===!0,x=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,C=v.pathname,O=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(C=C.toLowerCase(),O=O?O.toLowerCase():null,x=x.toLowerCase()),O&&E&&(O=Pi(O,E)||O);const V=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let I=C===x||!i&&C.startsWith(x)&&C.charAt(V)==="/",D=O!=null&&(O===x||!i&&O.startsWith(x)&&O.charAt(x.length)==="/"),N={isActive:I,isPending:D,isTransitioning:S},k=I?e:void 0,M;typeof r=="function"?M=r(N):M=[r,I?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(N):a;return A.createElement(yc,{...h,"aria-current":k,className:M,ref:d,style:z,to:l,viewTransition:u},typeof f=="function"?f(N):f)});l5.displayName="NavLink";var u5=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=Ep,action:u,onSubmit:f,relative:h,preventScrollReset:d,viewTransition:p,...v},b)=>{let w=m5(),E=p5(u,{relative:h}),S=l.toLowerCase()==="get"?"get":"post",x=typeof u=="string"&&gN.test(u),C=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let V=O.nativeEvent.submitter,I=V?.getAttribute("formmethod")||l;w(V||O.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:i,state:a,relative:h,preventScrollReset:d,viewTransition:p})};return A.createElement("form",{ref:b,method:S,action:E,onSubmit:r?f:C,...v,"data-discover":!x&&t==="render"?"true":void 0})});u5.displayName="Form";function c5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yN(t){let e=A.useContext(Ql);return ut(e,c5(t)),e}function f5(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=y$(),f=Lo(),h=fd(t,{relative:a});return A.useCallback(d=>{if(B$(d,e)){d.preventDefault();let p=n!==void 0?n:Oo(f)===Oo(h);u(t,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,u,h,n,r,e,t,i,a,l])}var h5=0,d5=()=>`__${String(++h5)}__`;function m5(){let{router:t}=yN("useSubmit"),{basename:e}=A.useContext(Na),n=R$();return A.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:f,body:h}=F$(r,e);if(i.navigate===!1){let d=i.fetcherKey||d5();await t.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function p5(t,{relative:e}={}){let{basename:n}=A.useContext(Na),r=A.useContext(ws);ut(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...fd(t||".",{relative:e})},l=Lo();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(d=>d==="")){u.delete("index"),f.filter(p=>p).forEach(p=>u.append("index",p));let d=u.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ea([n,a.pathname])),Oo(a)}function g5(t,{relative:e}={}){let n=A.useContext(DE);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yN("useViewTransitionState"),i=fd(t,{relative:e});if(!n.isTransitioning)return!1;let a=Pi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Pi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ip(i.pathname,l)!=null||Ip(i.pathname,a)!=null}var LE=KI();function y5(t){return A.createElement(N$,{flushSync:LE.flushSync,...t})}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b5=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),YO=t=>{const e=b5(t);return e.charAt(0).toUpperCase()+e.slice(1)},vN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),_5=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},f)=>A.createElement("svg",{ref:f,...w5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:vN("lucide",i),...!a&&!_5(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,d])=>A.createElement(h,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=(t,e)=>{const n=A.forwardRef(({className:r,...i},a)=>A.createElement(E5,{ref:a,iconNode:e,className:vN(`lucide-${v5(YO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=YO(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 16a2 2 0 0 1-2 2H8.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 4 20.286V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2z",key:"11gyqh"}],["path",{d:"M9 11v2",key:"1ueba0"}]],T5=Ni("bot-message-square",S5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],x5=Ni("ellipsis",A5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],R5=Ni("eye-off",O5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],P5=Ni("highlighter",C5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],I5=Ni("menu",D5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],k5=Ni("refresh-cw",N5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],j5=Ni("send",M5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],U5=Ni("settings-2",L5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$5=Ni("settings",V5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m8 14 4-4 4 4",key:"fy2ptz"}]],z5=Ni("square-chevron-up",B5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}]],F5=Ni("square-play",q5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],K5=Ni("video",H5),G5="/ScoutingOffseason2025/assets/icon-CcJZ9g6Y.png",WO=[{name:"Tables",path:"/"},{name:"Ranks",path:"/ranks"},{name:"Teams",path:"/teams"},{name:"Compare",path:"/compare"},{name:"Match",path:"/match"},{name:"Pick List",path:"/picklist"}];function Jl(){const[t,e]=A.useState(!1),n=Lo();return L.jsxs("header",{className:"bg-gray-900 fixed w-full top-0 left-0 z-50 select-none drop-shadow-lg",children:[L.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex justify-between items-center h-16",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("img",{src:G5,alt:"Logo",className:"h-15 w-15 object-contain"}),L.jsx("div",{className:"text-2xl font-bold text-orange-400 ml-5",children:"Scouting 2025"})]}),L.jsxs("nav",{className:"hidden lg:flex gap-4",children:[WO.map(r=>{const i=n.pathname===r.path;return L.jsxs(yc,{to:r.path,className:"relative text-orange-400 px-3 py-2 rounded group overflow-hidden font-medium text-xl",children:[i?L.jsx("span",{className:"absolute inset-0 bg-orange-600 group-hover:bg-orange-800 transition duration-300 rounded"}):L.jsx("span",{className:"absolute inset-0 bg-orange-600 scale-y-0 origin-top group-hover:scale-y-100 transition duration-300 rounded"}),L.jsx("span",{className:`relative ${i?"text-white":"group-hover:text-white transition-colors duration-500"}`,children:r.name})]},r.name)}),L.jsxs(yc,{to:"/coscout",className:"hidden relative text-orange-400 px-3 py-2 rounded group overflow-hidden font-medium text-xl",children:[L.jsx("span",{className:"absolute inset-0 bg-gray-500 scale-y-0 origin-top group-hover:scale-y-100 transition duration-300 rounded"}),L.jsx(T5,{color:"orange",size:28,className:"relative"})]})]}),L.jsx("div",{className:"lg:hidden z-50 relative",children:L.jsx("button",{onClick:()=>e(!t),children:t?L.jsx(z5,{size:36,color:"white"}):L.jsx(I5,{size:32,color:"white"})})})]}),L.jsx("div",{className:`lg:hidden fixed inset-0 bg-gray-900 bg-opacity-95 flex flex-col items-center justify-center space-y-8 text-3xl
          transform transition-transform-opacity duration-500
          ${t?"translate-y-0 opacity-100":"-translate-y-full opacity-0 pointer-events-none"}
        `,children:WO.map(r=>{const i=n.pathname===r.path;return L.jsxs(yc,{to:r.path,className:"relative text-orange-400 px-6 py-3 rounded group overflow-hidden font-medium",onClick:()=>e(!1),children:[i&&L.jsx("span",{className:"absolute inset-0 bg-orange-600 rounded"}),L.jsx("span",{className:`relative ${i?"text-white":"group-hover:text-white transition-colors duration-300"}`,children:r.name})]},r.name)})})]})}const XO=t=>{let e;const n=new Set,r=(h,d)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const v=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(b=>b(e,v))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h))},f=e=t(r,i,u);return u},Y5=(t=>t?XO(t):XO),W5=t=>t;function X5(t,e=W5){const n=gh.useSyncExternalStore(t.subscribe,gh.useCallback(()=>e(t.getState()),[t,e]),gh.useCallback(()=>e(t.getInitialState()),[t,e]));return gh.useDebugValue(n),n}const QO=t=>{const e=Y5(t),n=r=>X5(e,r);return Object.assign(n,e),n},Q5=(t=>t?QO(t):QO),J5=()=>{};var JO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Z5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},_N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,d=a>>2,p=(a&3)<<4|u>>4;let v=(u&15)<<2|h>>6,b=h&63;f||(b=64,l||(v=64)),r.push(n[d],n[p],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Z5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||h==null||p==null)throw new eB;const v=a<<2|u>>4;if(r.push(v),h!==64){const b=u<<4&240|h>>2;if(r.push(b),p!==64){const w=h<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tB=function(t){const e=bN(t);return _N.encodeByteArray(e,!0)},Mp=function(t){return tB(t).replace(/\./g,"")},nB=function(t){try{return _N.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=()=>rB().__FIREBASE_DEFAULTS__,aB=()=>{if(typeof process>"u"||typeof JO>"u")return;const t=JO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nB(t[1]);return e&&JSON.parse(e)},UE=()=>{try{return J5()||iB()||aB()||sB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oB=t=>UE()?.emulatorHosts?.[t],lB=t=>{const e=oB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wN=()=>UE()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uB=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cB(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Mp(JSON.stringify(n)),Mp(JSON.stringify(l)),""].join(".")}const xh={};function hB(){const t={prod:[],emulator:[]};for(const e of Object.keys(xh))xh[e]?t.emulator.push(e):t.prod.push(e);return t}function dB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ZO=!1;function mB(t,e){if(typeof window>"u"||typeof document>"u"||!VE(window.location.host)||xh[t]===e||xh[t]||ZO)return;xh[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=hB().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{ZO=!0,l()},v}function d(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=dB(r),b=n("text"),w=document.getElementById(b)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),x=n("preprendIcon"),C=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const O=v.element;u(O),d(S,E);const V=h();f(C,x),O.append(C,w,S,V),document.body.appendChild(O)}a?(w.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gB(){const t=UE()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yB(){return!gB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vB(){try{return typeof indexedDB=="object"}catch{return!1}}function bB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B="FirebaseError";class Zl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_B,Object.setPrototypeOf(this,Zl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,EN.prototype.create)}}class EN{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?wB(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Zl(i,u,r)}}function wB(t,e){return t.replace(EB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const EB=/\{\$([^}]+)}/g;function jp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(eR(a)&&eR(l)){if(!jp(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function eR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){return t&&t._delegate?t._delegate:t}class Tc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SB=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AB(e))try{this.getOrInitializeService({instanceIdentifier:wl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wl){return this.instances.has(e)}getOptions(e=wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wl){return this.component?this.component.multipleInstances?e:wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function TB(t){return t===wl?void 0:t}function AB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yt||(yt={}));const OB={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},RB=yt.INFO,CB={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},PB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=CB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $E{constructor(e){this.name=e,this._logLevel=RB,this._logHandler=PB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const DB=(t,e)=>e.some(n=>t instanceof n);let tR,nR;function IB(){return tR||(tR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NB(){return nR||(nR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SN=new WeakMap,ew=new WeakMap,TN=new WeakMap,X0=new WeakMap,BE=new WeakMap;function kB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(wo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&SN.set(n,t)}).catch(()=>{}),BE.set(e,t),e}function MB(t){if(ew.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});ew.set(t,e)}let tw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ew.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jB(t){tw=t(tw)}function LB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Q0(this),e,...n);return TN.set(r,e.sort?e.sort():[e]),wo(r)}:NB().includes(t)?function(...e){return t.apply(Q0(this),e),wo(SN.get(this))}:function(...e){return wo(t.apply(Q0(this),e))}}function UB(t){return typeof t=="function"?LB(t):(t instanceof IDBTransaction&&MB(t),DB(t,IB())?new Proxy(t,tw):t)}function wo(t){if(t instanceof IDBRequest)return kB(t);if(X0.has(t))return X0.get(t);const e=UB(t);return e!==t&&(X0.set(t,e),BE.set(e,t)),e}const Q0=t=>BE.get(t);function VB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=wo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(wo(l.result),f.oldVersion,f.newVersion,wo(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const $B=["get","getKey","getAll","getAllKeys","count"],BB=["put","add","delete","clear"],J0=new Map;function rR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(J0.get(e))return J0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=BB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$B.includes(n)))return;const a=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return J0.set(e,a),a}jB(t=>({...t,get:(e,n,r)=>rR(e,n)||t.get(e,n,r),has:(e,n)=>!!rR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qB(t){return t.getComponent()?.type==="VERSION"}const nw="@firebase/app",iR="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new $E("@firebase/app"),FB="@firebase/app-compat",HB="@firebase/analytics-compat",KB="@firebase/analytics",GB="@firebase/app-check-compat",YB="@firebase/app-check",WB="@firebase/auth",XB="@firebase/auth-compat",QB="@firebase/database",JB="@firebase/data-connect",ZB="@firebase/database-compat",e9="@firebase/functions",t9="@firebase/functions-compat",n9="@firebase/installations",r9="@firebase/installations-compat",i9="@firebase/messaging",a9="@firebase/messaging-compat",s9="@firebase/performance",o9="@firebase/performance-compat",l9="@firebase/remote-config",u9="@firebase/remote-config-compat",c9="@firebase/storage",f9="@firebase/storage-compat",h9="@firebase/firestore",d9="@firebase/ai",m9="@firebase/firestore-compat",p9="firebase",g9="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="[DEFAULT]",y9={[nw]:"fire-core",[FB]:"fire-core-compat",[KB]:"fire-analytics",[HB]:"fire-analytics-compat",[YB]:"fire-app-check",[GB]:"fire-app-check-compat",[WB]:"fire-auth",[XB]:"fire-auth-compat",[QB]:"fire-rtdb",[JB]:"fire-data-connect",[ZB]:"fire-rtdb-compat",[e9]:"fire-fn",[t9]:"fire-fn-compat",[n9]:"fire-iid",[r9]:"fire-iid-compat",[i9]:"fire-fcm",[a9]:"fire-fcm-compat",[s9]:"fire-perf",[o9]:"fire-perf-compat",[l9]:"fire-rc",[u9]:"fire-rc-compat",[c9]:"fire-gcs",[f9]:"fire-gcs-compat",[h9]:"fire-fst",[m9]:"fire-fst-compat",[d9]:"fire-vertex","fire-js":"fire-js",[p9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=new Map,v9=new Map,iw=new Map;function aR(t,e){try{t.container.addComponent(e)}catch(n){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $h(t){const e=t.name;if(iw.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;iw.set(e,t);for(const n of Lp.values())aR(n,t);for(const n of v9.values())aR(n,t);return!0}function AN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xN(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new EN("app","Firebase",b9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=g9;function ON(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:rw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Eo.create("bad-app-name",{appName:String(i)});if(n||(n=wN()),!n)throw Eo.create("no-options");const a=Lp.get(i);if(a){if(jp(n,a.options)&&jp(r,a.config))return a;throw Eo.create("duplicate-app",{appName:i})}const l=new xB(i);for(const f of iw.values())l.addComponent(f);const u=new _9(n,r,l);return Lp.set(i,u),u}function RN(t=rw){const e=Lp.get(t);if(!e&&t===rw&&wN())return ON();if(!e)throw Eo.create("no-app",{appName:t});return e}function So(t,e,n){let r=y9[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(l.join(" "));return}$h(new Tc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9="firebase-heartbeat-database",S9=1,Bh="firebase-heartbeat-store";let Z0=null;function CN(){return Z0||(Z0=VB(E9,S9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Eo.create("idb-open",{originalErrorMessage:t.message})})),Z0}async function T9(t){try{const n=(await CN()).transaction(Bh),r=await n.objectStore(Bh).get(PN(t));return await n.done,r}catch(e){if(e instanceof Zl)ms.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e?.message});ms.warn(n.message)}}}async function sR(t,e){try{const r=(await CN()).transaction(Bh,"readwrite");await r.objectStore(Bh).put(e,PN(t)),await r.done}catch(n){if(n instanceof Zl)ms.warn(n.message);else{const r=Eo.create("idb-set",{originalErrorMessage:n?.message});ms.warn(r.message)}}}function PN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=1024,x9=30;class O9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>x9){const i=P9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=oR(),{heartbeatsToSend:n,unsentEntries:r}=R9(this._heartbeatsCache.heartbeats),i=Mp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ms.warn(e),""}}}function oR(){return new Date().toISOString().substring(0,10)}function R9(t,e=A9){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),lR(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class C9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vB()?bB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T9(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lR(t){return Mp(JSON.stringify({version:2,heartbeats:t})).length}function P9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t){$h(new Tc("platform-logger",e=>new zB(e),"PRIVATE")),$h(new Tc("heartbeat",e=>new O9(e),"PRIVATE")),So(nw,iR,t),So(nw,iR,"esm2020"),So("fire-js","")}D9("");var uR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,DN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,k){function M(){}M.prototype=k.prototype,N.D=k.prototype,N.prototype=new M,N.prototype.constructor=N,N.C=function(z,B,q){for(var $=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)$[ye-2]=arguments[ye];return k.prototype[B].apply(z,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,k,M){M||(M=0);var z=Array(16);if(typeof k=="string")for(var B=0;16>B;++B)z[B]=k.charCodeAt(M++)|k.charCodeAt(M++)<<8|k.charCodeAt(M++)<<16|k.charCodeAt(M++)<<24;else for(B=0;16>B;++B)z[B]=k[M++]|k[M++]<<8|k[M++]<<16|k[M++]<<24;k=N.g[0],M=N.g[1],B=N.g[2];var q=N.g[3],$=k+(q^M&(B^q))+z[0]+3614090360&4294967295;k=M+($<<7&4294967295|$>>>25),$=q+(B^k&(M^B))+z[1]+3905402710&4294967295,q=k+($<<12&4294967295|$>>>20),$=B+(M^q&(k^M))+z[2]+606105819&4294967295,B=q+($<<17&4294967295|$>>>15),$=M+(k^B&(q^k))+z[3]+3250441966&4294967295,M=B+($<<22&4294967295|$>>>10),$=k+(q^M&(B^q))+z[4]+4118548399&4294967295,k=M+($<<7&4294967295|$>>>25),$=q+(B^k&(M^B))+z[5]+1200080426&4294967295,q=k+($<<12&4294967295|$>>>20),$=B+(M^q&(k^M))+z[6]+2821735955&4294967295,B=q+($<<17&4294967295|$>>>15),$=M+(k^B&(q^k))+z[7]+4249261313&4294967295,M=B+($<<22&4294967295|$>>>10),$=k+(q^M&(B^q))+z[8]+1770035416&4294967295,k=M+($<<7&4294967295|$>>>25),$=q+(B^k&(M^B))+z[9]+2336552879&4294967295,q=k+($<<12&4294967295|$>>>20),$=B+(M^q&(k^M))+z[10]+4294925233&4294967295,B=q+($<<17&4294967295|$>>>15),$=M+(k^B&(q^k))+z[11]+2304563134&4294967295,M=B+($<<22&4294967295|$>>>10),$=k+(q^M&(B^q))+z[12]+1804603682&4294967295,k=M+($<<7&4294967295|$>>>25),$=q+(B^k&(M^B))+z[13]+4254626195&4294967295,q=k+($<<12&4294967295|$>>>20),$=B+(M^q&(k^M))+z[14]+2792965006&4294967295,B=q+($<<17&4294967295|$>>>15),$=M+(k^B&(q^k))+z[15]+1236535329&4294967295,M=B+($<<22&4294967295|$>>>10),$=k+(B^q&(M^B))+z[1]+4129170786&4294967295,k=M+($<<5&4294967295|$>>>27),$=q+(M^B&(k^M))+z[6]+3225465664&4294967295,q=k+($<<9&4294967295|$>>>23),$=B+(k^M&(q^k))+z[11]+643717713&4294967295,B=q+($<<14&4294967295|$>>>18),$=M+(q^k&(B^q))+z[0]+3921069994&4294967295,M=B+($<<20&4294967295|$>>>12),$=k+(B^q&(M^B))+z[5]+3593408605&4294967295,k=M+($<<5&4294967295|$>>>27),$=q+(M^B&(k^M))+z[10]+38016083&4294967295,q=k+($<<9&4294967295|$>>>23),$=B+(k^M&(q^k))+z[15]+3634488961&4294967295,B=q+($<<14&4294967295|$>>>18),$=M+(q^k&(B^q))+z[4]+3889429448&4294967295,M=B+($<<20&4294967295|$>>>12),$=k+(B^q&(M^B))+z[9]+568446438&4294967295,k=M+($<<5&4294967295|$>>>27),$=q+(M^B&(k^M))+z[14]+3275163606&4294967295,q=k+($<<9&4294967295|$>>>23),$=B+(k^M&(q^k))+z[3]+4107603335&4294967295,B=q+($<<14&4294967295|$>>>18),$=M+(q^k&(B^q))+z[8]+1163531501&4294967295,M=B+($<<20&4294967295|$>>>12),$=k+(B^q&(M^B))+z[13]+2850285829&4294967295,k=M+($<<5&4294967295|$>>>27),$=q+(M^B&(k^M))+z[2]+4243563512&4294967295,q=k+($<<9&4294967295|$>>>23),$=B+(k^M&(q^k))+z[7]+1735328473&4294967295,B=q+($<<14&4294967295|$>>>18),$=M+(q^k&(B^q))+z[12]+2368359562&4294967295,M=B+($<<20&4294967295|$>>>12),$=k+(M^B^q)+z[5]+4294588738&4294967295,k=M+($<<4&4294967295|$>>>28),$=q+(k^M^B)+z[8]+2272392833&4294967295,q=k+($<<11&4294967295|$>>>21),$=B+(q^k^M)+z[11]+1839030562&4294967295,B=q+($<<16&4294967295|$>>>16),$=M+(B^q^k)+z[14]+4259657740&4294967295,M=B+($<<23&4294967295|$>>>9),$=k+(M^B^q)+z[1]+2763975236&4294967295,k=M+($<<4&4294967295|$>>>28),$=q+(k^M^B)+z[4]+1272893353&4294967295,q=k+($<<11&4294967295|$>>>21),$=B+(q^k^M)+z[7]+4139469664&4294967295,B=q+($<<16&4294967295|$>>>16),$=M+(B^q^k)+z[10]+3200236656&4294967295,M=B+($<<23&4294967295|$>>>9),$=k+(M^B^q)+z[13]+681279174&4294967295,k=M+($<<4&4294967295|$>>>28),$=q+(k^M^B)+z[0]+3936430074&4294967295,q=k+($<<11&4294967295|$>>>21),$=B+(q^k^M)+z[3]+3572445317&4294967295,B=q+($<<16&4294967295|$>>>16),$=M+(B^q^k)+z[6]+76029189&4294967295,M=B+($<<23&4294967295|$>>>9),$=k+(M^B^q)+z[9]+3654602809&4294967295,k=M+($<<4&4294967295|$>>>28),$=q+(k^M^B)+z[12]+3873151461&4294967295,q=k+($<<11&4294967295|$>>>21),$=B+(q^k^M)+z[15]+530742520&4294967295,B=q+($<<16&4294967295|$>>>16),$=M+(B^q^k)+z[2]+3299628645&4294967295,M=B+($<<23&4294967295|$>>>9),$=k+(B^(M|~q))+z[0]+4096336452&4294967295,k=M+($<<6&4294967295|$>>>26),$=q+(M^(k|~B))+z[7]+1126891415&4294967295,q=k+($<<10&4294967295|$>>>22),$=B+(k^(q|~M))+z[14]+2878612391&4294967295,B=q+($<<15&4294967295|$>>>17),$=M+(q^(B|~k))+z[5]+4237533241&4294967295,M=B+($<<21&4294967295|$>>>11),$=k+(B^(M|~q))+z[12]+1700485571&4294967295,k=M+($<<6&4294967295|$>>>26),$=q+(M^(k|~B))+z[3]+2399980690&4294967295,q=k+($<<10&4294967295|$>>>22),$=B+(k^(q|~M))+z[10]+4293915773&4294967295,B=q+($<<15&4294967295|$>>>17),$=M+(q^(B|~k))+z[1]+2240044497&4294967295,M=B+($<<21&4294967295|$>>>11),$=k+(B^(M|~q))+z[8]+1873313359&4294967295,k=M+($<<6&4294967295|$>>>26),$=q+(M^(k|~B))+z[15]+4264355552&4294967295,q=k+($<<10&4294967295|$>>>22),$=B+(k^(q|~M))+z[6]+2734768916&4294967295,B=q+($<<15&4294967295|$>>>17),$=M+(q^(B|~k))+z[13]+1309151649&4294967295,M=B+($<<21&4294967295|$>>>11),$=k+(B^(M|~q))+z[4]+4149444226&4294967295,k=M+($<<6&4294967295|$>>>26),$=q+(M^(k|~B))+z[11]+3174756917&4294967295,q=k+($<<10&4294967295|$>>>22),$=B+(k^(q|~M))+z[2]+718787259&4294967295,B=q+($<<15&4294967295|$>>>17),$=M+(q^(B|~k))+z[9]+3951481745&4294967295,N.g[0]=N.g[0]+k&4294967295,N.g[1]=N.g[1]+(B+($<<21&4294967295|$>>>11))&4294967295,N.g[2]=N.g[2]+B&4294967295,N.g[3]=N.g[3]+q&4294967295}r.prototype.u=function(N,k){k===void 0&&(k=N.length);for(var M=k-this.blockSize,z=this.B,B=this.h,q=0;q<k;){if(B==0)for(;q<=M;)i(this,N,q),q+=this.blockSize;if(typeof N=="string"){for(;q<k;)if(z[B++]=N.charCodeAt(q++),B==this.blockSize){i(this,z),B=0;break}}else for(;q<k;)if(z[B++]=N[q++],B==this.blockSize){i(this,z),B=0;break}}this.h=B,this.o+=k},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var k=1;k<N.length-8;++k)N[k]=0;var M=8*this.o;for(k=N.length-8;k<N.length;++k)N[k]=M&255,M/=256;for(this.u(N),N=Array(16),k=M=0;4>k;++k)for(var z=0;32>z;z+=8)N[M++]=this.g[k]>>>z&255;return N};function a(N,k){var M=u;return Object.prototype.hasOwnProperty.call(M,N)?M[N]:M[N]=k(N)}function l(N,k){this.h=k;for(var M=[],z=!0,B=N.length-1;0<=B;B--){var q=N[B]|0;z&&q==k||(M[B]=q,z=!1)}this.g=M}var u={};function f(N){return-128<=N&&128>N?a(N,function(k){return new l([k|0],0>k?-1:0)}):new l([N|0],0>N?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return p;if(0>N)return S(h(-N));for(var k=[],M=1,z=0;N>=M;z++)k[z]=N/M|0,M*=4294967296;return new l(k,0)}function d(N,k){if(N.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(N.charAt(0)=="-")return S(d(N.substring(1),k));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=h(Math.pow(k,8)),z=p,B=0;B<N.length;B+=8){var q=Math.min(8,N.length-B),$=parseInt(N.substring(B,B+q),k);8>q?(q=h(Math.pow(k,q)),z=z.j(q).add(h($))):(z=z.j(M),z=z.add(h($)))}return z}var p=f(0),v=f(1),b=f(16777216);t=l.prototype,t.m=function(){if(E(this))return-S(this).m();for(var N=0,k=1,M=0;M<this.g.length;M++){var z=this.i(M);N+=(0<=z?z:4294967296+z)*k,k*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(w(this))return"0";if(E(this))return"-"+S(this).toString(N);for(var k=h(Math.pow(N,6)),M=this,z="";;){var B=V(M,k).g;M=x(M,B.j(k));var q=((0<M.g.length?M.g[0]:M.h)>>>0).toString(N);if(M=B,w(M))return q+z;for(;6>q.length;)q="0"+q;z=q+z}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function w(N){if(N.h!=0)return!1;for(var k=0;k<N.g.length;k++)if(N.g[k]!=0)return!1;return!0}function E(N){return N.h==-1}t.l=function(N){return N=x(this,N),E(N)?-1:w(N)?0:1};function S(N){for(var k=N.g.length,M=[],z=0;z<k;z++)M[z]=~N.g[z];return new l(M,~N.h).add(v)}t.abs=function(){return E(this)?S(this):this},t.add=function(N){for(var k=Math.max(this.g.length,N.g.length),M=[],z=0,B=0;B<=k;B++){var q=z+(this.i(B)&65535)+(N.i(B)&65535),$=(q>>>16)+(this.i(B)>>>16)+(N.i(B)>>>16);z=$>>>16,q&=65535,$&=65535,M[B]=$<<16|q}return new l(M,M[M.length-1]&-2147483648?-1:0)};function x(N,k){return N.add(S(k))}t.j=function(N){if(w(this)||w(N))return p;if(E(this))return E(N)?S(this).j(S(N)):S(S(this).j(N));if(E(N))return S(this.j(S(N)));if(0>this.l(b)&&0>N.l(b))return h(this.m()*N.m());for(var k=this.g.length+N.g.length,M=[],z=0;z<2*k;z++)M[z]=0;for(z=0;z<this.g.length;z++)for(var B=0;B<N.g.length;B++){var q=this.i(z)>>>16,$=this.i(z)&65535,ye=N.i(B)>>>16,Ne=N.i(B)&65535;M[2*z+2*B]+=$*Ne,C(M,2*z+2*B),M[2*z+2*B+1]+=q*Ne,C(M,2*z+2*B+1),M[2*z+2*B+1]+=$*ye,C(M,2*z+2*B+1),M[2*z+2*B+2]+=q*ye,C(M,2*z+2*B+2)}for(z=0;z<k;z++)M[z]=M[2*z+1]<<16|M[2*z];for(z=k;z<2*k;z++)M[z]=0;return new l(M,0)};function C(N,k){for(;(N[k]&65535)!=N[k];)N[k+1]+=N[k]>>>16,N[k]&=65535,k++}function O(N,k){this.g=N,this.h=k}function V(N,k){if(w(k))throw Error("division by zero");if(w(N))return new O(p,p);if(E(N))return k=V(S(N),k),new O(S(k.g),S(k.h));if(E(k))return k=V(N,S(k)),new O(S(k.g),k.h);if(30<N.g.length){if(E(N)||E(k))throw Error("slowDivide_ only works with positive integers.");for(var M=v,z=k;0>=z.l(N);)M=I(M),z=I(z);var B=D(M,1),q=D(z,1);for(z=D(z,2),M=D(M,2);!w(z);){var $=q.add(z);0>=$.l(N)&&(B=B.add(M),q=$),z=D(z,1),M=D(M,1)}return k=x(N,B.j(k)),new O(B,k)}for(B=p;0<=N.l(k);){for(M=Math.max(1,Math.floor(N.m()/k.m())),z=Math.ceil(Math.log(M)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),q=h(M),$=q.j(k);E($)||0<$.l(N);)M-=z,q=h(M),$=q.j(k);w(q)&&(q=v),B=B.add(q),N=x(N,$)}return new O(B,N)}t.A=function(N){return V(this,N).h},t.and=function(N){for(var k=Math.max(this.g.length,N.g.length),M=[],z=0;z<k;z++)M[z]=this.i(z)&N.i(z);return new l(M,this.h&N.h)},t.or=function(N){for(var k=Math.max(this.g.length,N.g.length),M=[],z=0;z<k;z++)M[z]=this.i(z)|N.i(z);return new l(M,this.h|N.h)},t.xor=function(N){for(var k=Math.max(this.g.length,N.g.length),M=[],z=0;z<k;z++)M[z]=this.i(z)^N.i(z);return new l(M,this.h^N.h)};function I(N){for(var k=N.g.length+1,M=[],z=0;z<k;z++)M[z]=N.i(z)<<1|N.i(z-1)>>>31;return new l(M,N.h)}function D(N,k){var M=k>>5;k%=32;for(var z=N.g.length-M,B=[],q=0;q<z;q++)B[q]=0<k?N.i(q+M)>>>k|N.i(q+M+1)<<32-k:N.i(q+M);return new l(B,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DN=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=d,To=l}).apply(typeof uR<"u"?uR:typeof self<"u"?self:typeof window<"u"?window:{});var Qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IN,vh,NN,Tp,aw,kN,MN,jN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,T,R){return g==Array.prototype||g==Object.prototype||(g[T]=R.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qm=="object"&&Qm];for(var T=0;T<g.length;++T){var R=g[T];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var R=r;g=g.split(".");for(var U=0;U<g.length-1;U++){var Q=g[U];if(!(Q in R))break e;R=R[Q]}g=g[g.length-1],U=R[g],T=T(U),T!=U&&T!=null&&e(R,g,{configurable:!0,writable:!0,value:T})}}function a(g,T){g instanceof String&&(g+="");var R=0,U=!1,Q={next:function(){if(!U&&R<g.length){var re=R++;return{value:T(re,g[re]),done:!1}}return U=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(g){return g||function(){return a(this,function(T,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(g){var T=typeof g;return T=T!="object"?T:g?Array.isArray(g)?"array":T:"null",T=="array"||T=="object"&&typeof g.length=="number"}function h(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function d(g,T,R){return g.call.apply(g.bind,arguments)}function p(g,T,R){if(!g)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,U),g.apply(T,Q)}}return function(){return g.apply(T,arguments)}}function v(g,T,R){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,v.apply(null,arguments)}function b(g,T){var R=Array.prototype.slice.call(arguments,1);return function(){var U=R.slice();return U.push.apply(U,arguments),g.apply(this,U)}}function w(g,T){function R(){}R.prototype=T.prototype,g.aa=T.prototype,g.prototype=new R,g.prototype.constructor=g,g.Qb=function(U,Q,re){for(var be=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)be[dt-2]=arguments[dt];return T.prototype[Q].apply(U,be)}}function E(g){const T=g.length;if(0<T){const R=Array(T);for(let U=0;U<T;U++)R[U]=g[U];return R}return[]}function S(g,T){for(let R=1;R<arguments.length;R++){const U=arguments[R];if(f(U)){const Q=g.length||0,re=U.length||0;g.length=Q+re;for(let be=0;be<re;be++)g[Q+be]=U[be]}else g.push(U)}}class x{constructor(T,R){this.i=T,this.j=R,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function C(g){return/^[\s\xa0]*$/.test(g)}function O(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function V(g){return V[" "](g),g}V[" "]=function(){};var I=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function D(g,T,R){for(const U in g)T.call(R,g[U],U,g)}function N(g,T){for(const R in g)T.call(void 0,g[R],R,g)}function k(g){const T={};for(const R in g)T[R]=g[R];return T}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(g,T){let R,U;for(let Q=1;Q<arguments.length;Q++){U=arguments[Q];for(R in U)g[R]=U[R];for(let re=0;re<M.length;re++)R=M[re],Object.prototype.hasOwnProperty.call(U,R)&&(g[R]=U[R])}}function B(g){var T=1;g=g.split(":");const R=[];for(;0<T&&g.length;)R.push(g.shift()),T--;return g.length&&R.push(g.join(":")),R}function q(g){u.setTimeout(()=>{throw g},0)}function $(){var g=De;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class ye{constructor(){this.h=this.g=null}add(T,R){const U=Ne.get();U.set(T,R),this.h?this.h.next=U:this.g=U,this.h=U}}var Ne=new x(()=>new Y,g=>g.reset());class Y{constructor(){this.next=this.g=this.h=null}set(T,R){this.h=T,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ve=!1,De=new ye,H=()=>{const g=u.Promise.resolve(void 0);ue=()=>{g.then(se)}};var se=()=>{for(var g;g=$();){try{g.h.call(g.g)}catch(R){q(R)}var T=Ne;T.j(g),100>T.h&&(T.h++,g.next=T.g,T.g=g)}ve=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Te=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const R=()=>{};u.addEventListener("test",R,T),u.removeEventListener("test",R,T)}catch{}return g})();function Ue(g,T){if(me.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var R=this.type=g.type,U=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget){if(I){e:{try{V(T.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(T=null)}}else R=="mouseover"?T=g.fromElement:R=="mouseout"&&(T=g.toElement);this.relatedTarget=T,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ve[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ue.aa.h.call(this)}}w(Ue,me);var Ve={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var tn="closure_listenable_"+(1e6*Math.random()|0),At=0;function _e(g,T,R,U,Q){this.listener=g,this.proxy=null,this.src=T,this.type=R,this.capture=!!U,this.ha=Q,this.key=++At,this.da=this.fa=!1}function Ie(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ke(g){this.src=g,this.g={},this.h=0}Ke.prototype.add=function(g,T,R,U,Q){var re=g.toString();g=this.g[re],g||(g=this.g[re]=[],this.h++);var be=Yt(g,T,U,Q);return-1<be?(T=g[be],R||(T.fa=!1)):(T=new _e(T,this.src,re,!!U,Q),T.fa=R,g.push(T)),T};function pe(g,T){var R=T.type;if(R in g.g){var U=g.g[R],Q=Array.prototype.indexOf.call(U,T,void 0),re;(re=0<=Q)&&Array.prototype.splice.call(U,Q,1),re&&(Ie(T),g.g[R].length==0&&(delete g.g[R],g.h--))}}function Yt(g,T,R,U){for(var Q=0;Q<g.length;++Q){var re=g[Q];if(!re.da&&re.listener==T&&re.capture==!!R&&re.ha==U)return Q}return-1}var et="closure_lm_"+(1e6*Math.random()|0),on={};function fn(g,T,R,U,Q){if(Array.isArray(T)){for(var re=0;re<T.length;re++)fn(g,T[re],R,U,Q);return null}return R=Ds(R),g&&g[tn]?g.K(T,R,h(U)?!!U.capture:!1,Q):Jt(g,T,R,!1,U,Q)}function Jt(g,T,R,U,Q,re){if(!T)throw Error("Invalid event type");var be=h(Q)?!!Q.capture:!!Q,dt=ai(g);if(dt||(g[et]=dt=new Ke(g)),R=dt.add(T,R,U,be,re),R.proxy)return R;if(U=Rs(),R.proxy=U,U.src=g,U.listener=R,g.addEventListener)Te||(Q=be),Q===void 0&&(Q=!1),g.addEventListener(T.toString(),U,Q);else if(g.attachEvent)g.attachEvent(Ma(T.toString()),U);else if(g.addListener&&g.removeListener)g.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Rs(){function g(R){return T.call(g.src,g.listener,R)}const T=Mi;return g}function Ho(g,T,R,U,Q){if(Array.isArray(T))for(var re=0;re<T.length;re++)Ho(g,T[re],R,U,Q);else U=h(U)?!!U.capture:!!U,R=Ds(R),g&&g[tn]?(g=g.i,T=String(T).toString(),T in g.g&&(re=g.g[T],R=Yt(re,R,U,Q),-1<R&&(Ie(re[R]),Array.prototype.splice.call(re,R,1),re.length==0&&(delete g.g[T],g.h--)))):g&&(g=ai(g))&&(T=g.g[T.toString()],g=-1,T&&(g=Yt(T,R,U,Q)),(R=-1<g?T[g]:null)&&Cs(R))}function Cs(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[tn])pe(T.i,g);else{var R=g.type,U=g.proxy;T.removeEventListener?T.removeEventListener(R,U,g.capture):T.detachEvent?T.detachEvent(Ma(R),U):T.addListener&&T.removeListener&&T.removeListener(U),(R=ai(T))?(pe(R,g),R.h==0&&(R.src=null,T[et]=null)):Ie(g)}}}function Ma(g){return g in on?on[g]:on[g]="on"+g}function Mi(g,T){if(g.da)g=!0;else{T=new Ue(T,this);var R=g.listener,U=g.ha||g.src;g.fa&&Cs(g),g=R.call(U,T)}return g}function ai(g){return g=g[et],g instanceof Ke?g:null}var Ps="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ds(g){return typeof g=="function"?g:(g[Ps]||(g[Ps]=function(T){return g.handleEvent(T)}),g[Ps])}function _t(){ae.call(this),this.i=new Ke(this),this.M=this,this.F=null}w(_t,ae),_t.prototype[tn]=!0,_t.prototype.removeEventListener=function(g,T,R,U){Ho(this,g,T,R,U)};function nt(g,T){var R,U=g.F;if(U)for(R=[];U;U=U.F)R.push(U);if(g=g.M,U=T.type||T,typeof T=="string")T=new me(T,g);else if(T instanceof me)T.target=T.target||g;else{var Q=T;T=new me(U,g),z(T,Q)}if(Q=!0,R)for(var re=R.length-1;0<=re;re--){var be=T.g=R[re];Q=sr(be,U,!0,T)&&Q}if(be=T.g=g,Q=sr(be,U,!0,T)&&Q,Q=sr(be,U,!1,T)&&Q,R)for(re=0;re<R.length;re++)be=T.g=R[re],Q=sr(be,U,!1,T)&&Q}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var g=this.i,T;for(T in g.g){for(var R=g.g[T],U=0;U<R.length;U++)Ie(R[U]);delete g.g[T],g.h--}}this.F=null},_t.prototype.K=function(g,T,R,U){return this.i.add(String(g),T,!1,R,U)},_t.prototype.L=function(g,T,R,U){return this.i.add(String(g),T,!0,R,U)};function sr(g,T,R,U){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();for(var Q=!0,re=0;re<T.length;++re){var be=T[re];if(be&&!be.da&&be.capture==R){var dt=be.listener,Tn=be.ha||be.src;be.fa&&pe(g.i,be),Q=dt.call(Tn,U)!==!1&&Q}}return Q&&!U.defaultPrevented}function hn(g,T,R){if(typeof g=="function")R&&(g=v(g,R));else if(g&&typeof g.handleEvent=="function")g=v(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:u.setTimeout(g,T||0)}function cu(g){g.g=hn(()=>{g.g=null,g.i&&(g.i=!1,cu(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class si extends ae{constructor(T,R){super(),this.m=T,this.l=R,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(g){ae.call(this),this.h=g,this.g={}}w(na,ae);var ra=[];function ia(g){D(g.g,function(T,R){this.g.hasOwnProperty(R)&&Cs(T)},g),g.g={}}na.prototype.N=function(){na.aa.N.call(this),ia(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mr=u.JSON.stringify,ja=u.JSON.parse,oi=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Is(){}Is.prototype.h=null;function La(g){return g.h||(g.h=g.i())}function Ko(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){me.call(this,"d")}w(ji,me);function Ns(){me.call(this,"c")}w(Ns,me);var gr={},aa=null;function sa(){return aa=aa||new _t}gr.La="serverreachability";function ks(g){me.call(this,gr.La,g)}w(ks,me);function K(g){const T=sa();nt(T,new ks(T))}gr.STAT_EVENT="statevent";function X(g,T){me.call(this,gr.STAT_EVENT,g),this.stat=T}w(X,me);function ee(g){const T=sa();nt(T,new X(T,g))}gr.Ma="timingevent";function fe(g,T){me.call(this,gr.Ma,g),this.size=T}w(fe,me);function ge(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},T)}function we(){this.g=!0}we.prototype.xa=function(){this.g=!1};function ke(g,T,R,U,Q,re){g.info(function(){if(g.g)if(re)for(var be="",dt=re.split("&"),Tn=0;Tn<dt.length;Tn++){var mt=dt[Tn].split("=");if(1<mt.length){var Un=mt[0];mt=mt[1];var An=Un.split("_");be=2<=An.length&&An[1]=="type"?be+(Un+"="+mt+"&"):be+(Un+"=redacted&")}}else be=null;else be=re;return"XMLHTTP REQ ("+U+") [attempt "+Q+"]: "+T+`
`+R+`
`+be})}function Re(g,T,R,U,Q,re,be){g.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Q+"]: "+T+`
`+R+`
`+re+" "+be})}function Ce(g,T,R,U){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+Pe(g,R)+(U?" "+U:"")})}function $e(g,T){g.info(function(){return"TIMEOUT: "+T})}we.prototype.info=function(){};function Pe(g,T){if(!g.g)return T;if(!T)return null;try{var R=JSON.parse(T);if(R){for(g=0;g<R.length;g++)if(Array.isArray(R[g])){var U=R[g];if(!(2>U.length)){var Q=U[1];if(Array.isArray(Q)&&!(1>Q.length)){var re=Q[0];if(re!="noop"&&re!="stop"&&re!="close")for(var be=1;be<Q.length;be++)Q[be]=""}}}}return Mr(R)}catch{return T}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ze={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ht;function Rt(){}w(Rt,Is),Rt.prototype.g=function(){return new XMLHttpRequest},Rt.prototype.i=function(){return{}},ht=new Rt;function wt(g,T,R,U){this.j=g,this.i=T,this.l=R,this.R=U||1,this.U=new na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new We}function We(){this.i=null,this.g="",this.h=!1}var Et={},Sr={};function Yn(g,T,R){g.L=1,g.v=Wo(Ur(T)),g.m=R,g.P=!0,jn(g,null)}function jn(g,T){g.F=Date.now(),jr(g),g.A=Ur(g.v);var R=g.A,U=g.R;Array.isArray(U)||(U=[String(U)]),cf(R.i,"t",U),g.C=0,R=g.j.J,g.h=new We,g.g=Fd(g.j,R?T:null,!g.m),0<g.O&&(g.M=new si(v(g.Y,g,g.g),g.O)),T=g.U,R=g.g,U=g.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(ra[0]=Q.toString()),Q=ra);for(var re=0;re<Q.length;re++){var be=fn(R,Q[re],U||T.handleEvent,!1,T.h||T);if(!be)break;T.g[be.key]=be}T=g.H?k(g.H):{},g.m?(g.u||(g.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,T)):(g.u="GET",g.g.ea(g.A,g.u,null,T)),K(),ke(g.i,g.u,g.A,g.l,g.R,g.m)}wt.prototype.ca=function(g){g=g.target;const T=this.M;T&&di(g)==3?T.j():this.Y(g)},wt.prototype.Y=function(g){try{if(g==this.g)e:{const An=di(this.g);var T=this.g.Ba();const Fa=this.g.Z();if(!(3>An)&&(An!=3||this.g&&(this.h.h||this.g.oa()||jd(this.g)))){this.J||An!=4||T==7||(T==8||0>=Fa?K(3):K(2)),Lr(this);var R=this.g.Z();this.X=R;t:if(yr(this)){var U=jd(this.g);g="";var Q=U.length,re=di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),vr(this);var be="";break t}this.h.i=new u.TextDecoder}for(T=0;T<Q;T++)this.h.h=!0,g+=this.h.i.decode(U[T],{stream:!(re&&T==Q-1)});U.length=0,this.h.g+=g,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=R==200,Re(this.i,this.u,this.A,this.l,this.R,An,R),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Tn=this.g;if((dt=Tn.g?Tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(dt)){var mt=dt;break t}}mt=null}if(R=mt)Ce(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wt(this,R);else{this.o=!1,this.s=3,ee(12),Fe(this),vr(this);break e}}if(this.P){R=!0;let Xn;for(;!this.J&&this.C<be.length;)if(Xn=Ms(this,be),Xn==Sr){An==4&&(this.s=4,ee(14),R=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==Et){this.s=4,ee(15),Ce(this.i,this.l,be,"[Invalid Chunk]"),R=!1;break}else Ce(this.i,this.l,Xn,null),Wt(this,Xn);if(yr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),An!=4||be.length!=0||this.h.h||(this.s=1,ee(16),R=!1),this.o=this.o&&R,!R)Ce(this.i,this.l,be,"[Invalid Chunked Response]"),Fe(this),vr(this);else if(0<be.length&&!this.W){this.W=!0;var Un=this.j;Un.g==this&&Un.ba&&!Un.M&&(Un.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),rl(Un),Un.M=!0,ee(11))}}else Ce(this.i,this.l,be,null),Wt(this,be);An==4&&Fe(this),this.o&&!this.J&&(An==4?Bd(this.j,this):(this.o=!1,jr(this)))}else Gy(this.g),R==400&&0<be.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Fe(this),vr(this)}}}catch{}finally{}};function yr(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Ms(g,T){var R=g.C,U=T.indexOf(`
`,R);return U==-1?Sr:(R=Number(T.substring(R,U)),isNaN(R)?Et:(U+=1,U+R>T.length?Sr:(T=T.slice(U,U+R),g.C=U+R,T)))}wt.prototype.cancel=function(){this.J=!0,Fe(this)};function jr(g){g.S=Date.now()+g.I,ui(g,g.I)}function ui(g,T){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ge(v(g.ba,g),T)}function Lr(g){g.B&&(u.clearTimeout(g.B),g.B=null)}wt.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?($e(this.i,this.A),this.L!=2&&(K(),ee(17)),Fe(this),this.s=2,vr(this)):ui(this,this.S-g)};function vr(g){g.j.G==0||g.J||Bd(g.j,g)}function Fe(g){Lr(g);var T=g.M;T&&typeof T.ma=="function"&&T.ma(),g.M=null,ia(g.U),g.g&&(T=g.g,g.g=null,T.abort(),T.ma())}function Wt(g,T){try{var R=g.j;if(R.G!=0&&(R.g==g||js(R.h,g))){if(!g.K&&js(R.h,g)&&R.G==3){try{var U=R.Da.g.parse(T)}catch{U=null}if(Array.isArray(U)&&U.length==3){var Q=U;if(Q[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<g.F)bu(R),yu(R);else break e;pf(R),ee(18)}}else R.za=Q[1],0<R.za-R.T&&37500>Q[2]&&R.F&&R.v==0&&!R.C&&(R.C=ge(v(R.Za,R),6e3));if(1>=Ui(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else qa(R,11)}else if((g.K||R.g==g)&&bu(R),!C(T))for(Q=R.Da.g.parse(T),T=0;T<Q.length;T++){let mt=Q[T];if(R.T=mt[0],mt=mt[1],R.G==2)if(mt[0]=="c"){R.K=mt[1],R.ia=mt[2];const Un=mt[3];Un!=null&&(R.la=Un,R.j.info("VER="+R.la));const An=mt[4];An!=null&&(R.Aa=An,R.j.info("SVER="+R.Aa));const Fa=mt[5];Fa!=null&&typeof Fa=="number"&&0<Fa&&(U=1.5*Fa,R.L=U,R.j.info("backChannelRequestTimeoutMs_="+U)),U=R;const Xn=g.g;if(Xn){const da=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var re=U.h;re.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Ls(re,re.h),re.h=null))}if(U.D){const yf=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;yf&&(U.ya=yf,Nt(U.I,U.D,yf))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-g.F,R.j.info("Handshake RTT: "+R.R+"ms")),U=R;var be=g;if(U.qa=qd(U,U.J?U.ia:null,U.W),be.K){br(U.h,be);var dt=be,Tn=U.L;Tn&&(dt.I=Tn),dt.B&&(Lr(dt),jr(dt)),U.g=be}else Vd(U);0<R.i.length&&vu(R)}else mt[0]!="stop"&&mt[0]!="close"||qa(R,7);else R.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?qa(R,7):df(R):mt[0]!="noop"&&R.l&&R.l.ta(mt),R.v=0)}}K(4)}catch{}}var Li=class{constructor(g,T){this.g=g,this.map=T}};function Wn(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $t(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ui(g){return g.h?1:g.g?g.g.size:0}function js(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Ls(g,T){g.g?g.g.add(T):g.h=T}function br(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}Wn.prototype.cancel=function(){if(this.i=sf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function sf(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const R of g.g.values())T=T.concat(R.D);return T}return E(g.i)}function qy(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(f(g)){for(var T=[],R=g.length,U=0;U<R;U++)T.push(g[U]);return T}T=[],R=0;for(U in g)T[R++]=g[U];return T}function fu(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(f(g)||typeof g=="string"){var T=[];g=g.length;for(var R=0;R<g;R++)T.push(R);return T}T=[],R=0;for(const U in g)T[R++]=U;return T}}}function of(g,T){if(g.forEach&&typeof g.forEach=="function")g.forEach(T,void 0);else if(f(g)||typeof g=="string")Array.prototype.forEach.call(g,T,void 0);else for(var R=fu(g),U=qy(g),Q=U.length,re=0;re<Q;re++)T.call(void 0,U[re],R&&R[re],g)}var Go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fy(g,T){if(g){g=g.split("&");for(var R=0;R<g.length;R++){var U=g[R].indexOf("="),Q=null;if(0<=U){var re=g[R].substring(0,U);Q=g[R].substring(U+1)}else re=g[R];T(re,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function dn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof dn){this.h=g.h,Yo(this,g.j),this.o=g.o,this.g=g.g,Us(this,g.s),this.l=g.l;var T=g.i,R=new Va;R.i=T.i,T.g&&(R.g=new Map(T.g),R.h=T.h),Ua(this,R),this.m=g.m}else g&&(T=String(g).match(Go))?(this.h=!1,Yo(this,T[1]||"",!0),this.o=ci(T[2]||""),this.g=ci(T[3]||"",!0),Us(this,T[4]),this.l=ci(T[5]||"",!0),Ua(this,T[6]||"",!0),this.m=ci(T[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}dn.prototype.toString=function(){var g=[],T=this.j;T&&g.push(Xo(T,lf,!0),":");var R=this.g;return(R||T=="file")&&(g.push("//"),(T=this.o)&&g.push(Xo(T,lf,!0),"@"),g.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&g.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&g.push("/"),g.push(Xo(R,R.charAt(0)=="/"?Hy:uf,!0))),(R=this.i.toString())&&g.push("?",R),(R=this.m)&&g.push("#",Xo(R,hu)),g.join("")};function Ur(g){return new dn(g)}function Yo(g,T,R){g.j=R?ci(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function Us(g,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);g.s=T}else g.s=null}function Ua(g,T,R){T instanceof Va?(g.i=T,kd(g.i,g.h)):(R||(T=Xo(T,Ky)),g.i=new Va(T,g.h))}function Nt(g,T,R){g.i.set(T,R)}function Wo(g){return Nt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function ci(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Xo(g,T,R){return typeof g=="string"?(g=encodeURI(g).replace(T,Nd),R&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Nd(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var lf=/[#\/\?@]/g,uf=/[#\?:]/g,Hy=/[#\?]/g,Ky=/[#\?@]/g,hu=/#/g;function Va(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function fi(g){g.g||(g.g=new Map,g.h=0,g.i&&Fy(g.i,function(T,R){g.add(decodeURIComponent(T.replace(/\+/g," ")),R)}))}t=Va.prototype,t.add=function(g,T){fi(this),this.i=null,g=oa(this,g);var R=this.g.get(g);return R||this.g.set(g,R=[]),R.push(T),this.h+=1,this};function $a(g,T){fi(g),T=oa(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function Ba(g,T){return fi(g),T=oa(g,T),g.g.has(T)}t.forEach=function(g,T){fi(this),this.g.forEach(function(R,U){R.forEach(function(Q){g.call(T,Q,U,this)},this)},this)},t.na=function(){fi(this);const g=Array.from(this.g.values()),T=Array.from(this.g.keys()),R=[];for(let U=0;U<T.length;U++){const Q=g[U];for(let re=0;re<Q.length;re++)R.push(T[U])}return R},t.V=function(g){fi(this);let T=[];if(typeof g=="string")Ba(this,g)&&(T=T.concat(this.g.get(oa(this,g))));else{g=Array.from(this.g.values());for(let R=0;R<g.length;R++)T=T.concat(g[R])}return T},t.set=function(g,T){return fi(this),this.i=null,g=oa(this,g),Ba(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=this.V(g),0<g.length?String(g[0]):T):T};function cf(g,T,R){$a(g,T),0<R.length&&(g.i=null,g.g.set(oa(g,T),E(R)),g.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(var R=0;R<T.length;R++){var U=T[R];const re=encodeURIComponent(String(U)),be=this.V(U);for(U=0;U<be.length;U++){var Q=re;be[U]!==""&&(Q+="="+encodeURIComponent(String(be[U]))),g.push(Q)}}return this.i=g.join("&")};function oa(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function kd(g,T){T&&!g.j&&(fi(g),g.i=null,g.g.forEach(function(R,U){var Q=U.toLowerCase();U!=Q&&($a(this,U),cf(this,Q,R))},g)),g.j=T}function Qo(g,T){const R=new we;if(u.Image){const U=new Image;U.onload=b(hi,R,"TestLoadImage: loaded",!0,T,U),U.onerror=b(hi,R,"TestLoadImage: error",!1,T,U),U.onabort=b(hi,R,"TestLoadImage: abort",!1,T,U),U.ontimeout=b(hi,R,"TestLoadImage: timeout",!1,T,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=g}else T(!1)}function Vi(g,T){const R=new we,U=new AbortController,Q=setTimeout(()=>{U.abort(),hi(R,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:U.signal}).then(re=>{clearTimeout(Q),re.ok?hi(R,"TestPingServer: ok",!0,T):hi(R,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Q),hi(R,"TestPingServer: error",!1,T)})}function hi(g,T,R,U,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),U(R)}catch{}}function Jo(){this.g=new oi}function la(g,T,R){const U=R||"";try{of(g,function(Q,re){let be=Q;h(Q)&&(be=Mr(Q)),T.push(U+re+"="+encodeURIComponent(be))})}catch(Q){throw T.push(U+"type="+encodeURIComponent("_badmap")),Q}}function Vs(g){this.l=g.Ub||null,this.j=g.eb||!1}w(Vs,Is),Vs.prototype.g=function(){return new za(this.l,this.j)},Vs.prototype.i=(function(g){return function(){return g}})({});function za(g,T){_t.call(this),this.D=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(za,_t),t=za.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=T,this.readyState=1,ca(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(T.body=g),(this.D||u).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ff(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function ff(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?ua(this):ca(this),this.readyState==3&&ff(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,ua(this))},t.Qa=function(g){this.g&&(this.response=g,ua(this))},t.ga=function(){this.g&&ua(this)};function ua(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ca(g)}t.setRequestHeader=function(g,T){this.u.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var R=T.next();!R.done;)R=R.value,g.push(R[0]+": "+R[1]),R=T.next();return g.join(`\r
`)};function ca(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(za.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function hf(g){let T="";return D(g,function(R,U){T+=U,T+=":",T+=R,T+=`\r
`}),T}function Ln(g,T,R){e:{for(U in R){var U=!1;break e}U=!0}U||(R=hf(R),typeof g=="string"?R!=null&&encodeURIComponent(String(R)):Nt(g,T,R))}function xt(g){_t.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(xt,_t);var du=/^https?$/i,Zo=["POST","PUT"];t=xt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,T,R,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ht.g(),this.v=this.o?La(this.o):La(ht),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(re){Md(this,re);return}if(g=R||"",R=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Q in U)R.set(Q,U[Q]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const re of U.keys())R.set(re,U.get(re));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(R.keys()).find(re=>re.toLowerCase()=="content-type"),Q=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Zo,T,void 0))||U||Q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,be]of R)this.g.setRequestHeader(re,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{el(this),this.u=!0,this.g.send(g),this.u=!1}catch(re){Md(this,re)}};function Md(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.m=5,mu(g),fa(g)}function mu(g){g.A||(g.A=!0,nt(g,"complete"),nt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,nt(this,"complete"),nt(this,"abort"),fa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fa(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pu(this):this.bb())},t.bb=function(){pu(this)};function pu(g){if(g.h&&typeof l<"u"&&(!g.v[1]||di(g)!=4||g.Z()!=2)){if(g.u&&di(g)==4)hn(g.Ea,0,g);else if(nt(g,"readystatechange"),di(g)==4){g.h=!1;try{const be=g.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var R;if(!(R=T)){var U;if(U=be===0){var Q=String(g.D).match(Go)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),U=!du.test(Q?Q.toLowerCase():"")}R=U}if(R)nt(g,"complete"),nt(g,"success");else{g.m=6;try{var re=2<di(g)?g.g.statusText:""}catch{re=""}g.l=re+" ["+g.Z()+"]",mu(g)}}finally{fa(g)}}}}function fa(g,T){if(g.g){el(g);const R=g.g,U=g.v[0]?()=>{}:null;g.g=null,g.v=null,T||nt(g,"ready");try{R.onreadystatechange=U}catch{}}}function el(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function di(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<di(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),ja(T)}};function jd(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Gy(g){const T={};g=(g.g&&2<=di(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<g.length;U++){if(C(g[U]))continue;var R=B(g[U]);const Q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const re=T[Q]||[];T[Q]=re,re.push(R)}N(T,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tl(g,T,R){return R&&R.internalChannelParams&&R.internalChannelParams[g]||T}function gu(g){this.Aa=0,this.i=[],this.j=new we,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tl("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tl("baseRetryDelayMs",5e3,g),this.cb=tl("retryDelaySeedMs",1e4,g),this.Wa=tl("forwardChannelMaxRetries",2,g),this.wa=tl("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Wn(g&&g.concurrentRequestLimit),this.Da=new Jo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gu.prototype,t.la=8,t.G=1,t.connect=function(g,T,R,U){ee(0),this.W=g,this.H=T||{},R&&U!==void 0&&(this.H.OSID=R,this.H.OAID=U),this.F=this.X,this.I=qd(this,null,this.W),vu(this)};function df(g){if(Ld(g),g.G==3){var T=g.U++,R=Ur(g.I);if(Nt(R,"SID",g.K),Nt(R,"RID",T),Nt(R,"TYPE","terminate"),nl(g,R),T=new wt(g,g.j,T),T.L=2,T.v=Wo(Ur(R)),R=!1,u.navigator&&u.navigator.sendBeacon)try{R=u.navigator.sendBeacon(T.v.toString(),"")}catch{}!R&&u.Image&&(new Image().src=T.v,R=!0),R||(T.g=Fd(T.j,null),T.g.ea(T.v)),T.F=Date.now(),jr(T)}zd(g)}function yu(g){g.g&&(rl(g),g.g.cancel(),g.g=null)}function Ld(g){yu(g),g.u&&(u.clearTimeout(g.u),g.u=null),bu(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function vu(g){if(!$t(g.h)&&!g.s){g.s=!0;var T=g.Ga;ue||H(),ve||(ue(),ve=!0),De.add(T,g),g.B=0}}function Yy(g,T){return Ui(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=T.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ge(v(g.Ga,g,T),gf(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Q=new wt(this,this.j,g);let re=this.o;if(this.S&&(re?(re=k(re),z(re,this.S)):re=this.S),this.m!==null||this.O||(Q.H=re,re=null),this.P)e:{for(var T=0,R=0;R<this.i.length;R++){t:{var U=this.i[R];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(T+=U,4096<T){T=R;break e}if(T===4096||R===this.i.length-1){T=R+1;break e}}T=1e3}else T=1e3;T=Ud(this,Q,T),R=Ur(this.I),Nt(R,"RID",g),Nt(R,"CVER",22),this.D&&Nt(R,"X-HTTP-Session-Id",this.D),nl(this,R),re&&(this.O?T="headers="+encodeURIComponent(String(hf(re)))+"&"+T:this.m&&Ln(R,this.m,re)),Ls(this.h,Q),this.Ua&&Nt(R,"TYPE","init"),this.P?(Nt(R,"$req",T),Nt(R,"SID","null"),Q.T=!0,Yn(Q,R,null)):Yn(Q,R,T),this.G=2}}else this.G==3&&(g?mf(this,g):this.i.length==0||$t(this.h)||mf(this))};function mf(g,T){var R;T?R=T.l:R=g.U++;const U=Ur(g.I);Nt(U,"SID",g.K),Nt(U,"RID",R),Nt(U,"AID",g.T),nl(g,U),g.m&&g.o&&Ln(U,g.m,g.o),R=new wt(g,g.j,R,g.B+1),g.m===null&&(R.H=g.o),T&&(g.i=T.D.concat(g.i)),T=Ud(g,R,1e3),R.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Ls(g.h,R),Yn(R,U,T)}function nl(g,T){g.H&&D(g.H,function(R,U){Nt(T,U,R)}),g.l&&of({},function(R,U){Nt(T,U,R)})}function Ud(g,T,R){R=Math.min(g.i.length,R);var U=g.l?v(g.l.Na,g.l,g):null;e:{var Q=g.i;let re=-1;for(;;){const be=["count="+R];re==-1?0<R?(re=Q[0].g,be.push("ofs="+re)):re=0:be.push("ofs="+re);let dt=!0;for(let Tn=0;Tn<R;Tn++){let mt=Q[Tn].g;const Un=Q[Tn].map;if(mt-=re,0>mt)re=Math.max(0,Q[Tn].g-100),dt=!1;else try{la(Un,be,"req"+mt+"_")}catch{U&&U(Un)}}if(dt){U=be.join("&");break e}}}return g=g.i.splice(0,R),T.D=g,U}function Vd(g){if(!g.g&&!g.u){g.Y=1;var T=g.Fa;ue||H(),ve||(ue(),ve=!0),De.add(T,g),g.v=0}}function pf(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ge(v(g.Fa,g),gf(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,$d(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ge(v(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),yu(this),$d(this))};function rl(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function $d(g){g.g=new wt(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var T=Ur(g.qa);Nt(T,"RID","rpc"),Nt(T,"SID",g.K),Nt(T,"AID",g.T),Nt(T,"CI",g.F?"0":"1"),!g.F&&g.ja&&Nt(T,"TO",g.ja),Nt(T,"TYPE","xmlhttp"),nl(g,T),g.m&&g.o&&Ln(T,g.m,g.o),g.L&&(g.g.I=g.L);var R=g.g;g=g.ia,R.L=1,R.v=Wo(Ur(T)),R.m=null,R.P=!0,jn(R,g)}t.Za=function(){this.C!=null&&(this.C=null,yu(this),pf(this),ee(19))};function bu(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Bd(g,T){var R=null;if(g.g==T){bu(g),rl(g),g.g=null;var U=2}else if(js(g.h,T))R=T.D,br(g.h,T),U=1;else return;if(g.G!=0){if(T.o)if(U==1){R=T.m?T.m.length:0,T=Date.now()-T.F;var Q=g.B;U=sa(),nt(U,new fe(U,R)),vu(g)}else Vd(g);else if(Q=T.s,Q==3||Q==0&&0<T.X||!(U==1&&Yy(g,T)||U==2&&pf(g)))switch(R&&0<R.length&&(T=g.h,T.i=T.i.concat(R)),Q){case 1:qa(g,5);break;case 4:qa(g,10);break;case 3:qa(g,6);break;default:qa(g,2)}}}function gf(g,T){let R=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(R*=2),R*T}function qa(g,T){if(g.j.info("Error code "+T),T==2){var R=v(g.fb,g),U=g.Xa;const Q=!U;U=new dn(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Yo(U,"https"),Wo(U),Q?Qo(U.toString(),R):Vi(U.toString(),R)}else ee(2);g.G=0,g.l&&g.l.sa(T),zd(g),Ld(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function zd(g){if(g.G=0,g.ka=[],g.l){const T=sf(g.h);(T.length!=0||g.i.length!=0)&&(S(g.ka,T),S(g.ka,g.i),g.h.i.length=0,E(g.i),g.i.length=0),g.l.ra()}}function qd(g,T,R){var U=R instanceof dn?Ur(R):new dn(R);if(U.g!="")T&&(U.g=T+"."+U.g),Us(U,U.s);else{var Q=u.location;U=Q.protocol,T=T?T+"."+Q.hostname:Q.hostname,Q=+Q.port;var re=new dn(null);U&&Yo(re,U),T&&(re.g=T),Q&&Us(re,Q),R&&(re.l=R),U=re}return R=g.D,T=g.ya,R&&T&&Nt(U,R,T),Nt(U,"VER",g.la),nl(g,U),U}function Fd(g,T,R){if(T&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Ca&&!g.pa?new xt(new Vs({eb:R})):new xt(g.pa),T.Ha(g.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hd(){}t=Hd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _u(){}_u.prototype.g=function(g,T){return new _r(g,T)};function _r(g,T){_t.call(this),this.g=new gu(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(g?g["X-WebChannel-Client-Profile"]=T.va:g={"X-WebChannel-Client-Profile":T.va}),this.g.S=g,(g=T&&T.Sb)&&!C(g)&&(this.g.m=g),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!C(T)&&(this.g.D=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new ha(this)}w(_r,_t),_r.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_r.prototype.close=function(){df(this.g)},_r.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var R={};R.__data__=g,g=R}else this.u&&(R={},R.__data__=Mr(g),g=R);T.i.push(new Li(T.Ya++,g)),T.G==3&&vu(T)},_r.prototype.N=function(){this.g.l=null,delete this.j,df(this.g),delete this.g,_r.aa.N.call(this)};function Kd(g){ji.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const R in T){g=R;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}w(Kd,ji);function Gd(){Ns.call(this),this.status=1}w(Gd,Ns);function ha(g){this.g=g}w(ha,Hd),ha.prototype.ua=function(){nt(this.g,"a")},ha.prototype.ta=function(g){nt(this.g,new Kd(g))},ha.prototype.sa=function(g){nt(this.g,new Gd)},ha.prototype.ra=function(){nt(this.g,"b")},_u.prototype.createWebChannel=_u.prototype.g,_r.prototype.send=_r.prototype.o,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,jN=function(){return new _u},MN=function(){return sa()},kN=gr,aw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Tp=Ae,Ze.COMPLETE="complete",NN=Ze,Ko.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",_t.prototype.listen=_t.prototype.K,vh=Ko,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,IN=xt}).apply(typeof Qm<"u"?Qm:typeof self<"u"?self:typeof window<"u"?window:{});const cR="@firebase/firestore",fR="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new $E("@firebase/firestore");function lc(){return zl.logLevel}function Ee(t,...e){if(zl.logLevel<=yt.DEBUG){const n=e.map(zE);zl.debug(`Firestore (${zc}): ${t}`,...n)}}function ps(t,...e){if(zl.logLevel<=yt.ERROR){const n=e.map(zE);zl.error(`Firestore (${zc}): ${t}`,...n)}}function Ac(t,...e){if(zl.logLevel<=yt.WARN){const n=e.map(zE);zl.warn(`Firestore (${zc}): ${t}`,...n)}}function zE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,LN(t,r,n)}function LN(t,e,n){let r=`FIRESTORE (${zc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ps(r),new Error(r)}function Ot(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||LN(e,i,r)}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Zl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fr.UNAUTHENTICATED)))}shutdown(){}}class N9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class k9{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ot(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new us;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new us,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new us)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot(typeof r.accessToken=="string",31837,{l:r}),new UN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ot(e===null||typeof e=="string",2055,{h:e}),new fr(e)}}class M9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new M9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xN(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ot(this.o===void 0,3512);const r=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hR(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=U9(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function sw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return eb(i)===eb(a)?ct(i,a):eb(i)?1:-1}return ct(t.length,e.length)}const V9=55296,$9=57343;function eb(t){const e=t.charCodeAt(0);return e>=V9&&e<=$9}function xc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="__name__";class _a{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _a.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _a?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=_a.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ct(e.length,n.length)}static compareSegments(e,n){const r=_a.isNumericId(e),i=_a.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?_a.extractNumericId(e).compare(_a.extractNumericId(n)):sw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return To.fromString(e.substring(4,e.length-2))}}class Ht extends _a{construct(e,n,r){return new Ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ht(n)}static emptyPath(){return new Ht([])}}const B9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends _a{construct(e,n,r){return new rr(e,n,r)}static isValidIdentifier(e){return B9.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dR}static keyField(){return new rr([dR])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Me(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Me(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Me(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new Me(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(n)}static emptyPath(){return new rr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Ht.fromString(e))}static fromName(e){return new Be(Ht.fromString(e).popFirst(5))}static empty(){return new Be(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e,n){if(!n)throw new Me(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z9(t,e,n,r){if(e===!0&&r===!0)throw new Me(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mR(t){if(!Be.isDocumentKey(t))throw new Me(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pR(t){if(Be.isDocumentKey(t))throw new Me(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $N(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function FE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function ql(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=FE(t);throw new Me(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,e){const n={typeString:t};return e&&(n.value=e),n}function hd(t,e){if(!$N(t))throw new Me(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Me(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=-62135596800,yR=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*yR);return new Kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Me(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gR)throw new Me(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yR}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hd(e,Kt._jsonSchema))return new Kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kt._jsonSchemaVersion="firestore/timestamp/1.0",Kt._jsonSchema={type:bn("string",Kt._jsonSchemaVersion),seconds:bn("number"),nanoseconds:bn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Kt(0,0))}static max(){return new Xe(new Kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=-1;function q9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new Kt(n+1,0):new Kt(n,r));return new Ro(i,Be.empty(),e)}function F9(t){return new Ro(t.readTime,t.key,zh)}class Ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ro(Xe.min(),Be.empty(),zh)}static max(){return new Ro(Xe.max(),Be.empty(),zh)}}function H9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==K9)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,r)=>{n(e)}))}static reject(e){return new he(((n,r)=>{r(e)}))}static waitFor(e){return new he(((n,r)=>{let i=0,a=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++a,l&&a===i&&n()}),(f=>r(f)))})),l=!0,a===i&&n()}))}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next((i=>i?he.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new he(((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const h=f;n(e[h]).next((d=>{l[h]=d,++u,u===a&&r(l)}),(d=>i(d)))}}))}static doWhile(e,n){return new he(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Y9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=-1;function qg(t){return t==null}function Up(t){return t===0&&1/t==-1/0}function W9(t){return typeof t=="number"&&Number.isInteger(t)&&!Up(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="";function X9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vR(e)),e=Q9(t.get(n),e);return vR(e)}function Q9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case BN:n+="";break;default:n+=a}}return n}function vR(t){return t+BN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){this.comparator=e,this.root=n||tr.EMPTY}insert(e,n){return new en(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jm(this.root,e,this.comparator,!0)}}class Jm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??tr.RED,this.left=i??tr.EMPTY,this.right=a??tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new tr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return tr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new tr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _R(this.data.getIterator())}getIteratorFrom(e){return new _R(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new In(this.comparator);return n.data=e,n}}class _R{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new Xi([])}unionWith(e){let n=new In(rr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new qN("Invalid base64 string: "+a):a}})(e);return new ar(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new ar(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const J9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(t){if(Ot(!!t,39018),typeof t=="string"){let e=0;const n=J9.exec(t);if(Ot(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:cn(t.seconds),nanos:cn(t.nanos)}}function cn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Po(t){return typeof t=="string"?ar.fromBase64String(t):ar.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="server_timestamp",HN="__type__",KN="__previous_value__",GN="__local_write_time__";function KE(t){return(t?.mapValue?.fields||{})[HN]?.stringValue===FN}function Fg(t){const e=t.mapValue.fields[KN];return KE(e)?Fg(e):e}function qh(t){const e=Co(t.mapValue.fields[GN].timestampValue);return new Kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n,r,i,a,l,u,f,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=d}}const Vp="(default)";class Fh{constructor(e,n){this.projectId=e,this.database=n||Vp}static empty(){return new Fh("","")}get isDefaultDatabase(){return this.database===Vp}isEqual(e){return e instanceof Fh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="__type__",ez="__max__",Zm={mapValue:{}},WN="__vector__",$p="value";function Do(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?KE(t)?4:nz(t)?9007199254740991:tz(t)?10:11:Ge(28295,{value:t})}function Ca(t,e){if(t===e)return!0;const n=Do(t);if(n!==Do(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qh(t).isEqual(qh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Co(i.timestampValue),u=Co(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Po(i.bytesValue).isEqual(Po(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return cn(i.geoPointValue.latitude)===cn(a.geoPointValue.latitude)&&cn(i.geoPointValue.longitude)===cn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return cn(i.integerValue)===cn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=cn(i.doubleValue),u=cn(a.doubleValue);return l===u?Up(l)===Up(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return xc(t.arrayValue.values||[],e.arrayValue.values||[],Ca);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(bR(l)!==bR(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Ca(l[f],u[f])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function Hh(t,e){return(t.values||[]).find((n=>Ca(n,e)))!==void 0}function Oc(t,e){if(t===e)return 0;const n=Do(t),r=Do(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=cn(a.integerValue||a.doubleValue),f=cn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return wR(t.timestampValue,e.timestampValue);case 4:return wR(qh(t),qh(e));case 5:return sw(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=Po(a),f=Po(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),f=l.split("/");for(let h=0;h<u.length&&h<f.length;h++){const d=ct(u[h],f[h]);if(d!==0)return d}return ct(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=ct(cn(a.latitude),cn(l.latitude));return u!==0?u:ct(cn(a.longitude),cn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ER(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},f=l.fields||{},h=u[$p]?.arrayValue,d=f[$p]?.arrayValue,p=ct(h?.values?.length||0,d?.values?.length||0);return p!==0?p:ER(h,d)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Zm.mapValue&&l===Zm.mapValue)return 0;if(a===Zm.mapValue)return 1;if(l===Zm.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),h=l.fields||{},d=Object.keys(h);f.sort(),d.sort();for(let p=0;p<f.length&&p<d.length;++p){const v=sw(f[p],d[p]);if(v!==0)return v;const b=Oc(u[f[p]],h[d[p]]);if(b!==0)return b}return ct(f.length,d.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function wR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Co(t),r=Co(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function ER(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Oc(n[i],r[i]);if(a)return a}return ct(n.length,r.length)}function Rc(t){return ow(t)}function ow(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Co(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Po(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=ow(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${ow(n.fields[l])}`;return i+"}"})(t.mapValue):Ge(61005,{value:t})}function Ap(t){switch(Do(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fg(t);return e?16+Ap(e):16;case 5:return 2*t.stringValue.length;case 6:return Po(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Ap(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return eu(r.fields,((a,l)=>{i+=a.length+Ap(l)})),i})(t.mapValue);default:throw Ge(13486,{value:t})}}function lw(t){return!!t&&"integerValue"in t}function GE(t){return!!t&&"arrayValue"in t}function SR(t){return!!t&&"nullValue"in t}function TR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xp(t){return!!t&&"mapValue"in t}function tz(t){return(t?.mapValue?.fields||{})[YN]?.stringValue===WN}function Oh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return eu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Oh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oh(t.arrayValue.values[n]);return e}return{...t}}function nz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ez}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(n)}setAll(e){let n=rr.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Oh(l):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());xp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ca(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){eu(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Oi(Oh(this.value))}}function XN(t){const e=[];return eu(t.fields,((n,r)=>{const i=new rr([n]);if(xp(r)){const a=XN(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new Xi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new dr(e,0,Xe.min(),Xe.min(),Xe.min(),Oi.empty(),0)}static newFoundDocument(e,n,r,i){return new dr(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new dr(e,2,n,Xe.min(),Xe.min(),Oi.empty(),0)}static newUnknownDocument(e,n){return new dr(e,3,n,Xe.min(),Xe.min(),Oi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n){this.position=e,this.inclusive=n}}function AR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Be.comparator(Be.fromName(l.referenceValue),n.key):r=Oc(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function xR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ca(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n="asc"){this.field=e,this.dir=n}}function rz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{}class Pn extends QN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new az(e,n,r):n==="array-contains"?new lz(e,r):n==="in"?new uz(e,r):n==="not-in"?new cz(e,r):n==="array-contains-any"?new fz(e,r):new Pn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sz(e,r):new oz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oc(n,this.value)):n!==null&&Do(this.value)===Do(n)&&this.matchesComparison(Oc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pa extends QN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pa(e,n)}matches(e){return JN(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function JN(t){return t.op==="and"}function ZN(t){return iz(t)&&JN(t)}function iz(t){for(const e of t.filters)if(e instanceof Pa)return!1;return!0}function uw(t){if(t instanceof Pn)return t.field.canonicalString()+t.op.toString()+Rc(t.value);if(ZN(t))return t.filters.map((e=>uw(e))).join(",");{const e=t.filters.map((n=>uw(n))).join(",");return`${t.op}(${e})`}}function ek(t,e){return t instanceof Pn?(function(r,i){return i instanceof Pn&&r.op===i.op&&r.field.isEqual(i.field)&&Ca(r.value,i.value)})(t,e):t instanceof Pa?(function(r,i){return i instanceof Pa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,u)=>a&&ek(l,i.filters[u])),!0):!1})(t,e):void Ge(19439)}function tk(t){return t instanceof Pn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Rc(n.value)}`})(t):t instanceof Pa?(function(n){return n.op.toString()+" {"+n.getFilters().map(tk).join(" ,")+"}"})(t):"Filter"}class az extends Pn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class sz extends Pn{constructor(e,n){super(e,"in",n),this.keys=nk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class oz extends Pn{constructor(e,n){super(e,"not-in",n),this.keys=nk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nk(t,e){return(e.arrayValue?.values||[]).map((n=>Be.fromName(n.referenceValue)))}class lz extends Pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return GE(n)&&Hh(n.arrayValue,this.value)}}class uz extends Pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hh(this.value.arrayValue,n)}}class cz extends Pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hh(this.value.arrayValue,n)}}class fz extends Pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!GE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Hh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function OR(t,e=null,n=[],r=[],i=null,a=null,l=null){return new hz(t,e,n,r,i,a,l)}function YE(t){const e=Je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>uw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Rc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Rc(r))).join(",")),e.Te=n}return e.Te}function WE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ek(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xR(t.startAt,e.startAt)&&xR(t.endAt,e.endAt)}function cw(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dz(t,e,n,r,i,a,l,u){return new Hg(t,e,n,r,i,a,l,u)}function XE(t){return new Hg(t)}function RR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mz(t){return t.collectionGroup!==null}function Rh(t){const e=Je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new In(rr.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new zp(a,r))})),n.has(rr.keyField().canonicalString())||e.Ie.push(new zp(rr.keyField(),r))}return e.Ie}function Sa(t){const e=Je(t);return e.Ee||(e.Ee=pz(e,Rh(t))),e.Ee}function pz(t,e){if(t.limitType==="F")return OR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new zp(i.field,a)}));const n=t.endAt?new Bp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bp(t.startAt.position,t.startAt.inclusive):null;return OR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fw(t,e,n){return new Hg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kg(t,e){return WE(Sa(t),Sa(e))&&t.limitType===e.limitType}function rk(t){return`${YE(Sa(t))}|lt:${t.limitType}`}function uc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>tk(i))).join(", ")}]`),qg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Rc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Rc(i))).join(",")),`Target(${r})`})(Sa(t))}; limitType=${t.limitType})`}function Gg(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Rh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,f){const h=AR(l,u,f);return l.inclusive?h<=0:h<0})(r.startAt,Rh(r),i)||r.endAt&&!(function(l,u,f){const h=AR(l,u,f);return l.inclusive?h>=0:h>0})(r.endAt,Rh(r),i))})(t,e)}function gz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ik(t){return(e,n)=>{let r=!1;for(const i of Rh(t)){const a=yz(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function yz(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):(function(a,l,u){const f=l.data.field(a),h=u.data.field(a);return f!==null&&h!==null?Oc(f,h):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){eu(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return zN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=new en(Be.comparator);function gs(){return vz}const ak=new en(Be.comparator);function bh(...t){let e=ak;for(const n of t)e=e.insert(n.key,n);return e}function sk(t){let e=ak;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Pl(){return Ch()}function ok(){return Ch()}function Ch(){return new tu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const bz=new en(Be.comparator),_z=new In(Be.comparator);function ft(...t){let e=_z;for(const n of t)e=e.add(n);return e}const wz=new In(ct);function Ez(){return wz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Up(e)?"-0":e}}function lk(t){return{integerValue:""+t}}function Sz(t,e){return W9(e)?lk(e):QE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this._=void 0}}function Tz(t,e,n){return t instanceof qp?(function(i,a){const l={fields:{[HN]:{stringValue:FN},[GN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&KE(a)&&(a=Fg(a)),a&&(l.fields[KN]=a),{mapValue:l}})(n,e):t instanceof Kh?ck(t,e):t instanceof Gh?fk(t,e):(function(i,a){const l=uk(i,a),u=CR(l)+CR(i.Ae);return lw(l)&&lw(i.Ae)?lk(u):QE(i.serializer,u)})(t,e)}function Az(t,e,n){return t instanceof Kh?ck(t,e):t instanceof Gh?fk(t,e):n}function uk(t,e){return t instanceof Fp?(function(r){return lw(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class qp extends Yg{}class Kh extends Yg{constructor(e){super(),this.elements=e}}function ck(t,e){const n=hk(e);for(const r of t.elements)n.some((i=>Ca(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Gh extends Yg{constructor(e){super(),this.elements=e}}function fk(t,e){let n=hk(e);for(const r of t.elements)n=n.filter((i=>!Ca(i,r)));return{arrayValue:{values:n}}}class Fp extends Yg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CR(t){return cn(t.integerValue||t.doubleValue)}function hk(t){return GE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xz(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Kh&&i instanceof Kh||r instanceof Gh&&i instanceof Gh?xc(r.elements,i.elements,Ca):r instanceof Fp&&i instanceof Fp?Ca(r.Ae,i.Ae):r instanceof qp&&i instanceof qp})(t.transform,e.transform)}class Oz{constructor(e,n){this.version=e,this.transformResults=n}}class cs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cs}static exists(e){return new cs(void 0,e)}static updateTime(e){return new cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Op(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wg{}function dk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pk(t.key,cs.none()):new dd(t.key,t.data,cs.none());{const n=t.data,r=Oi.empty();let i=new In(rr.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new nu(t.key,r,new Xi(i.toArray()),cs.none())}}function Rz(t,e,n){t instanceof dd?(function(i,a,l){const u=i.value.clone(),f=DR(i.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof nu?(function(i,a,l){if(!Op(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=DR(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(mk(i)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Ph(t,e,n,r){return t instanceof dd?(function(a,l,u,f){if(!Op(a.precondition,l))return u;const h=a.value.clone(),d=IR(a.fieldTransforms,f,l);return h.setAll(d),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof nu?(function(a,l,u,f){if(!Op(a.precondition,l))return u;const h=IR(a.fieldTransforms,f,l),d=l.data;return d.setAll(mk(a)),d.setAll(h),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,l,u){return Op(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function Cz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=uk(r.transform,i||null);a!=null&&(n===null&&(n=Oi.empty()),n.set(r.field,a))}return n||null}function PR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xc(r,i,((a,l)=>xz(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dd extends Wg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class nu extends Wg{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function mk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function DR(t,e,n){const r=new Map;Ot(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,Az(l,u,n[i]))}return r}function IR(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,Tz(a,l,e))}return r}class pk extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pz extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Rz(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ph(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ph(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ok();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const f=dk(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ft())}isEqual(e){return this.batchId===e.batchId&&xc(this.mutations,e.mutations,((n,r)=>PR(n,r)))&&xc(this.baseMutations,e.baseMutations,((n,r)=>PR(n,r)))}}class JE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ot(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return bz})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new JE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,gt;function kz(t){switch(t){case de.OK:return Ge(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function gk(t){if(t===void 0)return ps("GRPC error has no .code"),de.UNKNOWN;switch(t){case gn.OK:return de.OK;case gn.CANCELLED:return de.CANCELLED;case gn.UNKNOWN:return de.UNKNOWN;case gn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case gn.INTERNAL:return de.INTERNAL;case gn.UNAVAILABLE:return de.UNAVAILABLE;case gn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case gn.NOT_FOUND:return de.NOT_FOUND;case gn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case gn.ABORTED:return de.ABORTED;case gn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case gn.DATA_LOSS:return de.DATA_LOSS;default:return Ge(39323,{code:t})}}(gt=gn||(gn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=new To([4294967295,4294967295],0);function NR(t){const e=Mz().encode(t),n=new DN;return n.update(e),new Uint8Array(n.digest())}function kR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new To([n,r],0),new To([i,a],0)]}class ZE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _h(`Invalid padding: ${n}`);if(r<0)throw new _h(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _h(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _h(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=To.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(To.fromNumber(r)));return i.compare(jz)===1&&(i=new To([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=NR(e),[r,i]=kR(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new ZE(a,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=NR(e),[r,i]=kR(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _h extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xg(Xe.min(),i,new en(ct),gs(),ft())}}class md{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new md(r,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class yk{constructor(e,n){this.targetId=e,this.Ce=n}}class vk{constructor(e,n,r=ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class MR{constructor(){this.ve=0,this.Fe=jR(),this.Me=ar.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ft(),n=ft(),r=ft();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ge(38017,{changeType:a})}})),new md(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=jR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Lz{constructor(e){this.Ge=e,this.ze=new Map,this.je=gs(),this.Je=ep(),this.He=ep(),this.Ye=new en(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(cw(a))if(r===0){const l=new Be(a.path);this.et(n,l,dr.newNoDocument(l,Xe.min()))}else Ot(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=Po(r).toUint8Array()}catch(f){if(f instanceof qN)return Ac("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new ZE(l,i,a)}catch(f){return Ac(f instanceof _h?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&cw(u.target)){const f=new Be(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,dr.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=ft();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new Xg(e,n,this.Ye,this.je,r);return this.je=gs(),this.Je=ep(),this.He=ep(),this.Ye=new en(ct),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new MR,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new In(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new In(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new MR),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ep(){return new en(Be.comparator)}function jR(){return new en(Be.comparator)}const Uz={asc:"ASCENDING",desc:"DESCENDING"},Vz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$z={and:"AND",or:"OR"};class Bz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hw(t,e){return t.useProto3Json||qg(e)?e:{value:e}}function Hp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zz(t,e){return Hp(t,e.toTimestamp())}function Ta(t){return Ot(!!t,49232),Xe.fromTimestamp((function(n){const r=Co(n);return new Kt(r.seconds,r.nanos)})(t))}function eS(t,e){return dw(t,e).canonicalString()}function dw(t,e){const n=(function(i){return new Ht(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function _k(t){const e=Ht.fromString(t);return Ot(Ak(e),10190,{key:e.toString()}),e}function mw(t,e){return eS(t.databaseId,e.path)}function tb(t,e){const n=_k(e);if(n.get(1)!==t.databaseId.projectId)throw new Me(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Me(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(Ek(n))}function wk(t,e){return eS(t.databaseId,e)}function qz(t){const e=_k(t);return e.length===4?Ht.emptyPath():Ek(e)}function pw(t){return new Ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ek(t){return Ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function LR(t,e,n){return{name:mw(t,e),fields:n.value.mapValue.fields}}function Fz(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ge(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,d){return h.useProto3Json?(Ot(d===void 0||typeof d=="string",58123),ar.fromBase64String(d||"")):(Ot(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ar.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const d=h.code===void 0?de.UNKNOWN:gk(h.code);return new Me(d,h.message||"")})(l);n=new vk(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tb(t,r.document.name),a=Ta(r.document.updateTime),l=r.document.createTime?Ta(r.document.createTime):Xe.min(),u=new Oi({mapValue:{fields:r.document.fields}}),f=dr.newFoundDocument(i,a,l,u),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Rp(h,d,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tb(t,r.document),a=r.readTime?Ta(r.readTime):Xe.min(),l=dr.newNoDocument(i,a),u=r.removedTargetIds||[];n=new Rp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tb(t,r.document),a=r.removedTargetIds||[];n=new Rp([],a,i,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new Nz(i,a),u=r.targetId;n=new yk(u,l)}}return n}function Hz(t,e){let n;if(e instanceof dd)n={update:LR(t,e.key,e.value)};else if(e instanceof pk)n={delete:mw(t,e.key)};else if(e instanceof nu)n={update:LR(t,e.key,e.data),updateMask:eq(e.fieldMask)};else{if(!(e instanceof Pz))return Ge(16599,{Vt:e.type});n={verify:mw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof qp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Kh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Gh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Fp)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ge(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:zz(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ge(27497)})(t,e.precondition)),n}function Kz(t,e){return t&&t.length>0?(Ot(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?Ta(i.updateTime):Ta(a);return l.isEqual(Xe.min())&&(l=Ta(a)),new Oz(l,i.transformResults||[])})(n,e)))):[]}function Gz(t,e){return{documents:[wk(t,e.path)]}}function Yz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wk(t,i);const a=(function(h){if(h.length!==0)return Tk(Pa.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(h){if(h.length!==0)return h.map((d=>(function(v){return{field:cc(v.field),direction:Qz(v.dir)}})(d)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=hw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function Wz(t){let e=qz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ot(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=(function(p){const v=Sk(p);return v instanceof Pa&&ZN(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((v=>(function(w){return new zp(fc(w.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(v)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let v;return v=typeof p=="object"?p.value:p,qg(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(p){const v=!!p.before,b=p.values||[];return new Bp(b,v)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const v=!p.before,b=p.values||[];return new Bp(b,v)})(n.endAt)),dz(e,i,l,a,u,"F",f,h)}function Xz(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Sk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fc(n.unaryFilter.field);return Pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fc(n.unaryFilter.field);return Pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=fc(n.unaryFilter.field);return Pn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fc(n.unaryFilter.field);return Pn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pn.create(fc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Pa.create(n.compositeFilter.filters.map((r=>Sk(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function Qz(t){return Uz[t]}function Jz(t){return Vz[t]}function Zz(t){return $z[t]}function cc(t){return{fieldPath:t.canonicalString()}}function fc(t){return rr.fromServerFormat(t.fieldPath)}function Tk(t){return t instanceof Pn?(function(n){if(n.op==="=="){if(TR(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NAN"}};if(SR(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TR(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NOT_NAN"}};if(SR(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(n.field),op:Jz(n.op),value:n.value}}})(t):t instanceof Pa?(function(n){const r=n.getFilters().map((i=>Tk(i)));return r.length===1?r[0]:{compositeFilter:{op:Zz(n.op),filters:r}}})(t):Ge(54877,{filter:t})}function eq(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ak(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r,i,a=Xe.min(),l=Xe.min(),u=ar.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e){this.yt=e}}function nq(t){const e=Wz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(){this.Cn=new iq}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Ro.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class iq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new In(Ht.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new In(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xk=41943040;class Cr{static withCacheSize(e){return new Cr(e,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr.DEFAULT_COLLECTION_PERCENTILE=10,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cr.DEFAULT=new Cr(xk,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cr.DISABLED=new Cr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cc(0)}static cr(){return new Cc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="LruGarbageCollector",aq=1048576;function $R([t,e],[n,r]){const i=ct(t,n);return i===0?ct(e,r):i}class sq{constructor(e){this.Ir=e,this.buffer=new In($R),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$R(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(VR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fc(n)?Ee(VR,"Ignoring IndexedDB error during garbage collection: ",n):await qc(n)}await this.Vr(3e5)}))}}class lq{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(zg.ce);const r=new sq(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(UR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,u,f,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(h=Date.now(),lc()<=yt.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-d}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${p} documents in `+(h-f)+`ms
Total Duration: ${h-d}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function uq(t,e){return new lq(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(){this.changes=new tu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Ph(r.mutation,i,Xi.empty(),Kt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ft()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ft()){const i=Pl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=bh();return a.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Pl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ft())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let a=gs();const l=Ch(),u=(function(){return Ch()})();return n.forEach(((f,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof nu)?a=a.insert(h.key,h):d!==void 0?(l.set(h.key,d.mutation.getFieldMask()),Ph(d.mutation,h,d.mutation.getFieldMask(),Kt.now())):l.set(h.key,Xi.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((h,d)=>l.set(h,d))),n.forEach(((h,d)=>u.set(h,new fq(d,l.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Ch();let i=new en(((l,u)=>l-u)),a=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let d=r.get(f)||Xi.empty();d=u.applyToLocalView(h,d),r.set(f,d);const p=(i.get(u.batchId)||ft()).add(f);i=i.insert(u.batchId,p)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,d=f.value,p=ok();d.forEach((v=>{if(!a.has(v)){const b=dk(n.get(v),r.get(v));b!==null&&p.set(v,b),a=a.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,p))}return he.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):he.resolve(Pl());let u=zh,f=a;return l.next((h=>he.forEach(h,((d,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(d)?he.resolve():this.remoteDocumentCache.getEntry(e,d).next((v=>{f=f.insert(d,v)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,f,h,ft()))).next((d=>({batchId:u,changes:sk(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((r=>{let i=bh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=bh();return this.indexManager.getCollectionParents(e,a).next((u=>he.forEach(u,(f=>{const h=(function(p,v){return new Hg(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((d=>{d.forEach(((p,v)=>{l=l.insert(p,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((f,h)=>{const d=h.getKey();l.get(d)===null&&(l=l.insert(d,dr.newInvalidDocument(d)))}));let u=bh();return l.forEach(((f,h)=>{const d=a.get(f);d!==void 0&&Ph(d.mutation,h,Xi.empty(),Kt.now()),Gg(n,h)&&(u=u.insert(f,h))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ta(i.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:nq(i.bundledQuery),readTime:Ta(i.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(){this.overlays=new en(Be.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pl();return he.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),he.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const i=Pl(),a=n.length+1,l=new Be(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return he.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new en(((h,d)=>h-d));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=a.get(h.largestBatchId);d===null&&(d=Pl(),a=a.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const u=Pl(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,d)=>u.set(h,d))),!(u.size()>=i)););return he.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Iz(n,r));let a=this.qr.get(n);a===void 0&&(a=ft(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(){this.sessionToken=ar.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.Qr=new In(qn.$r),this.Ur=new In(qn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new qn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new qn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Be(new Ht([])),r=new qn(n,e),i=new qn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Be(new Ht([])),r=new qn(n,e),i=new qn(n,e+1);let a=ft();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new qn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Be.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new In(qn.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Dz(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new qn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?HE:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qn(n,0),i=new qn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);a.push(u)})),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new In(ct);return n.forEach((i=>{const a=new qn(i,0),l=new qn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Be.isDocumentKey(a)||(a=a.child(""));const l=new qn(new Be(a),0);let u=new In(ct);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Yr)),!0)}),l),he.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ot(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(n.mutations,(i=>{const a=new qn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new qn(n,0),i=this.Zr.firstAfterOrEqual(r);return he.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e){this.ri=e,this.docs=(function(){return new en(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(n))}getEntries(e,n){let r=gs();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():dr.newInvalidDocument(i))})),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=gs();const l=n.path,u=new Be(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:d}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||H9(F9(d),r)<=0||(i.has(d.key)||Gg(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ge(9500)}ii(e,n){return he.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new vq(this)}getSize(e){return he.resolve(this.size)}}class vq extends cq{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e){this.persistence=e,this.si=new tu((n=>YE(n)),WE),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.oi=0,this._i=new tS,this.targetCount=0,this.ai=Cc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Cc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),he.waitFor(a).next((()=>i))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),he.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n){this.ui={},this.overlays={},this.ci=new zg(0),this.li=!1,this.li=!0,this.hi=new pq,this.referenceDelegate=e(this),this.Pi=new bq(this),this.indexManager=new rq,this.remoteDocumentCache=(function(i){return new yq(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new tq(n),this.Ii=new dq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new gq(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new _q(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return he.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class _q extends G9{constructor(e){super(),this.currentSequenceNumber=e}}class nS{constructor(e){this.persistence=e,this.Ri=new tS,this.Vi=null}static mi(e){return new nS(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(r=>{const i=Be.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kp{constructor(e,n){this.persistence=e,this.pi=new tu((r=>X9(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=uq(this,n)}static mi(e,n){return new Kp(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return he.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?he.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,Xe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ap(e.data.value)),n}br(e,n,r){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return he.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ft(),i=ft();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new rS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yB()?8:Y9(pB())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new wq;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(lc()<=yt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",uc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(lc()<=yt.DEBUG&&Ee("QueryEngine","Query:",uc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(lc()<=yt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",uc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sa(n))):he.resolve())}ys(e,n){if(RR(n))return he.resolve(null);let r=Sa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=fw(n,null,"F"),r=Sa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=ft(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,u);return this.Cs(n,h,l,f.readTime)?this.ys(e,fw(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return RR(n)||i.isEqual(Xe.min())?he.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?he.resolve(null):(lc()<=yt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uc(n)),this.vs(e,l,n,q9(i,zh)).next((u=>u)))}))}Ds(e,n){let r=new In(ik(e));return n.forEach(((i,a)=>{Gg(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return lc()<=yt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",uc(n)),this.ps.getDocumentsMatchingQuery(e,n,Ro.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="LocalStore",Sq=3e8;class Tq{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new en(ct),this.xs=new tu((a=>YE(a)),WE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hq(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Aq(t,e,n,r){return new Tq(t,e,n,r)}async function Rk(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let f=ft();for(const h of i){l.push(h.batchId);for(const d of h.mutations)f=f.add(d.key)}for(const h of a){u.push(h.batchId);for(const d of h.mutations)f=f.add(d.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function xq(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,h,d){const p=h.batch,v=p.keys();let b=he.resolve();return v.forEach((w=>{b=b.next((()=>d.getEntry(f,w))).next((E=>{const S=h.docVersions.get(w);Ot(S!==null,48541),E.version.compareTo(S)<0&&(p.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),d.addEntry(E)))}))})),b.next((()=>u.mutationQueue.removeMutationBatch(f,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=ft();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Ck(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Oq(t,e){const n=Je(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((d,p)=>{const v=i.get(p);if(!v)return;u.push(n.Pi.removeMatchingKeys(a,d.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,d.addedDocuments,p))));let b=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(ar.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):d.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(d.resumeToken,r)),i=i.insert(p,b),(function(E,S,x){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=Sq?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0})(v,b,d)&&u.push(n.Pi.updateTargetData(a,b))}));let f=gs(),h=ft();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))})),u.push(Rq(a,l,e.documentUpdates).next((d=>{f=d.ks,h=d.qs}))),!r.isEqual(Xe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(d)}return he.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,h))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function Rq(t,e,n){let r=ft(),i=ft();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=gs();return n.forEach(((u,f)=>{const h=a.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Ee(iS,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function Cq(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=HE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Pq(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,he.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new bo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function gw(t,e,n){const r=Je(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Fc(l))throw l;Ee(iS,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function BR(t,e,n){const r=Je(t);let i=Xe.min(),a=ft();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,d){const p=Je(f),v=p.xs.get(d);return v!==void 0?he.resolve(p.Ms.get(v)):p.Pi.getTargetData(h,d)})(r,l,Sa(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Xe.min(),n?a:ft()))).next((u=>(Dq(r,gz(e),u),{documents:u,Qs:a})))))}function Dq(t,e,n){let r=t.Os.get(e)||Xe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class zR{constructor(){this.activeTargetIds=Ez()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Iq{constructor(){this.Mo=new zR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="ConnectivityMonitor";class FR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(qR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(qR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp=null;function yw(){return tp===null?tp=(function(){return 268435456+Math.round(2147483648*Math.random())})():tp++,"0x"+tp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="RestConnection",kq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mq{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Vp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=yw(),u=this.zo(e,n.toUriEncodedString());Ee(nb,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:h}=new URL(u),d=VE(h);return this.Jo(e,u,f,r,d).then((p=>(Ee(nb,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw Ac(nb,`RPC '${e}' ${l} failed with error: `,p,"url: ",u,"request:",r),p}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=kq[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="WebChannelConnection";class Lq extends Mq{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=yw();return new Promise(((u,f)=>{const h=new IN;h.setWithCredentials(!0),h.listenOnce(NN.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Tp.NO_ERROR:const p=h.getResponseJson();Ee(ur,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),u(p);break;case Tp.TIMEOUT:Ee(ur,`RPC '${e}' ${l} timed out`),f(new Me(de.DEADLINE_EXCEEDED,"Request time out"));break;case Tp.HTTP_ERROR:const v=h.getStatus();if(Ee(ur,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b?.error;if(w&&w.status&&w.message){const E=(function(x){const C=x.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(C)>=0?C:de.UNKNOWN})(w.status);f(new Me(E,w.message))}else f(new Me(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Me(de.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ee(ur,`RPC '${e}' ${l} completed.`)}}));const d=JSON.stringify(i);Ee(ur,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=yw(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=jN(),u=MN(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const d=a.join("");Ee(ur,`Creating RPC '${e}' stream ${i}: ${d}`,f);const p=l.createWebChannel(d,f);this.I_(p);let v=!1,b=!1;const w=new jq({Yo:S=>{b?Ee(ur,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(v||(Ee(ur,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Ee(ur,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),E=(S,x,C)=>{S.listen(x,(O=>{try{C(O)}catch(V){setTimeout((()=>{throw V}),0)}}))};return E(p,vh.EventType.OPEN,(()=>{b||(Ee(ur,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),E(p,vh.EventType.CLOSE,(()=>{b||(b=!0,Ee(ur,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))})),E(p,vh.EventType.ERROR,(S=>{b||(b=!0,Ac(ur,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),w.a_(new Me(de.UNAVAILABLE,"The operation could not be completed")))})),E(p,vh.EventType.MESSAGE,(S=>{if(!b){const x=S.data[0];Ot(!!x,16349);const C=x,O=C?.error||C[0]?.error;if(O){Ee(ur,`RPC '${e}' stream ${i} received error:`,O);const V=O.status;let I=(function(k){const M=gn[k];if(M!==void 0)return gk(M)})(V),D=O.message;I===void 0&&(I=de.INTERNAL,D="Unknown error status: "+V+" with message "+O.message),b=!0,w.a_(new Me(I,D)),p.close()}else Ee(ur,`RPC '${e}' stream ${i} received:`,x),w.u_(x)}})),E(u,kN.STAT_EVENT,(S=>{S.stat===aw.PROXY?Ee(ur,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===aw.NOPROXY&&Ee(ur,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function rb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){return new Bz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="PersistentStream";class Dk{constructor(e,n,r,i,a,l,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Pk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Me(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(HR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(HR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Uq extends Dk{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Fz(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Xe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Xe.min():l.readTime?Ta(l.readTime):Xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=pw(this.serializer),n.addTarget=(function(a,l){let u;const f=l.target;if(u=cw(f)?{documents:Gz(a,f)}:{query:Yz(a,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=bk(a,l.resumeToken);const h=hw(a,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Xe.min())>0){u.readTime=Hp(a,l.snapshotVersion.toTimestamp());const h=hw(a,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=Xz(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=pw(this.serializer),n.removeTarget=e,this.q_(n)}}class Vq extends Dk{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Kz(e.writeResults,e.commitTime),r=Ta(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=pw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Hz(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{}class Bq extends $q{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Me(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,dw(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(de.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,dw(n,r),i,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Me(de.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl="RemoteStore";class qq{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{ru(this)&&(Ee(Fl,"Restarting streams for network reachability change."),await(async function(f){const h=Je(f);h.Ea.add(4),await pd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Jg(h)})(this))}))})),this.Ra=new zq(r,i)}}async function Jg(t){if(ru(t))for(const e of t.da)await e(!0)}async function pd(t){for(const e of t.da)await e(!1)}function Ik(t,e){const n=Je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lS(n)?oS(n):Hc(n).O_()&&sS(n,e))}function aS(t,e){const n=Je(t),r=Hc(n);n.Ia.delete(e),r.O_()&&Nk(n,e),n.Ia.size===0&&(r.O_()?r.L_():ru(n)&&n.Ra.set("Unknown"))}function sS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hc(t).Y_(e)}function Nk(t,e){t.Va.Ue(e),Hc(t).Z_(e)}function oS(t){t.Va=new Lz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Hc(t).start(),t.Ra.ua()}function lS(t){return ru(t)&&!Hc(t).x_()&&t.Ia.size>0}function ru(t){return Je(t).Ea.size===0}function kk(t){t.Va=void 0}async function Fq(t){t.Ra.set("Online")}async function Hq(t){t.Ia.forEach(((e,n)=>{sS(t,e)}))}async function Kq(t,e){kk(t),lS(t)?(t.Ra.ha(e),oS(t)):t.Ra.set("Unknown")}async function Gq(t,e,n){if(t.Ra.set("Online"),e instanceof vk&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Ee(Fl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gp(t,r)}else if(e instanceof Rp?t.Va.Ze(e):e instanceof yk?t.Va.st(e):t.Va.tt(e),!n.isEqual(Xe.min()))try{const r=await Ck(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const d=a.Ia.get(h);d&&a.Ia.set(h,d.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,h)=>{const d=a.Ia.get(f);if(!d)return;a.Ia.set(f,d.withResumeToken(ar.EMPTY_BYTE_STRING,d.snapshotVersion)),Nk(a,f);const p=new bo(d.target,f,h,d.sequenceNumber);sS(a,p)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Ee(Fl,"Failed to raise snapshot:",r),await Gp(t,r)}}async function Gp(t,e,n){if(!Fc(e))throw e;t.Ea.add(1),await pd(t),t.Ra.set("Offline"),n||(n=()=>Ck(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(Fl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Jg(t)}))}function Mk(t,e){return e().catch((n=>Gp(t,n,e)))}async function Zg(t){const e=Je(t),n=Io(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:HE;for(;Yq(e);)try{const i=await Cq(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Wq(e,i)}catch(i){await Gp(e,i)}jk(e)&&Lk(e)}function Yq(t){return ru(t)&&t.Ta.length<10}function Wq(t,e){t.Ta.push(e);const n=Io(t);n.O_()&&n.X_&&n.ea(e.mutations)}function jk(t){return ru(t)&&!Io(t).x_()&&t.Ta.length>0}function Lk(t){Io(t).start()}async function Xq(t){Io(t).ra()}async function Qq(t){const e=Io(t);for(const n of t.Ta)e.ea(n.mutations)}async function Jq(t,e,n){const r=t.Ta.shift(),i=JE.from(r,e,n);await Mk(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Zg(t)}async function Zq(t,e){e&&Io(t).X_&&await(async function(r,i){if((function(l){return kz(l)&&l!==de.ABORTED})(i.code)){const a=r.Ta.shift();Io(r).B_(),await Mk(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Zg(r)}})(t,e),jk(t)&&Lk(t)}async function KR(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Ee(Fl,"RemoteStore received new credentials");const r=ru(n);n.Ea.add(3),await pd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jg(n)}async function e8(t,e){const n=Je(t);e?(n.Ea.delete(2),await Jg(n)):e||(n.Ea.add(2),await pd(n),n.Ra.set("Unknown"))}function Hc(t){return t.ma||(t.ma=(function(n,r,i){const a=Je(n);return a.sa(),new Uq(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Fq.bind(null,t),t_:Hq.bind(null,t),r_:Kq.bind(null,t),H_:Gq.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),lS(t)?oS(t):t.Ra.set("Unknown")):(await t.ma.stop(),kk(t))}))),t.ma}function Io(t){return t.fa||(t.fa=(function(n,r,i){const a=Je(n);return a.sa(),new Vq(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Xq.bind(null,t),r_:Zq.bind(null,t),ta:Qq.bind(null,t),na:Jq.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Zg(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(Fl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new uS(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cS(t,e){if(ps("AsyncQueue",`${e}: ${t}`),Fc(t))return new Me(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{static emptySet(e){return new vc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=bh(),this.sortedSet=new en(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.ga=new en(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Pc{constructor(e,n,r,i,a,l,u,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Pc(e,n,vc.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class n8{constructor(){this.queries=YR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Je(n),a=i.queries;i.queries=YR(),a.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Me(de.ABORTED,"Firestore shutting down"))}}function YR(){return new tu((t=>rk(t)),Kg)}async function Uk(t,e){const n=Je(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new t8,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=cS(l,`Initialization of query '${uc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&fS(n)}async function Vk(t,e){const n=Je(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function r8(t,e){const n=Je(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&fS(n)}function i8(t,e,n){const r=Je(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function fS(t){t.Ca.forEach((e=>{e.next()}))}var vw,WR;(WR=vw||(vw={})).Ma="default",WR.Cache="cache";class $k{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.key=e}}class zk{constructor(e){this.key=e}}class a8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ft(),this.mutatedKeys=ft(),this.eu=ik(e),this.tu=new vc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new GR,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,p)=>{const v=i.get(d),b=Gg(this.query,p)?p:null,w=!!v&&this.mutatedKeys.has(v.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;v&&b?v.data.isEqual(b.data)?w!==E&&(r.track({type:3,doc:b}),S=!0):this.su(v,b)||(r.track({type:2,doc:b}),S=!0,(f&&this.eu(b,f)>0||h&&this.eu(b,h)<0)&&(u=!0)):!v&&b?(r.track({type:0,doc:b}),S=!0):v&&!b&&(r.track({type:1,doc:v}),S=!0,(f||h)&&(u=!0)),S&&(b?(l=l.add(b),a=E?a.add(d):a.delete(d)):(l=l.delete(d),a=a.delete(d)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const d=this.query.limitType==="F"?l.last():l.first();l=l.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((d,p)=>(function(b,w){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:S})}};return E(b)-E(w)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new Pc(this.query,e.tu,a,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ft(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new zk(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Bk(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ft();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Pc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hS="SyncEngine";class s8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class o8{constructor(e){this.key=e,this.hu=!1}}class l8{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new tu((u=>rk(u)),Kg),this.Iu=new Map,this.Eu=new Set,this.du=new en(Be.comparator),this.Au=new Map,this.Ru=new tS,this.Vu={},this.mu=new Map,this.fu=Cc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function u8(t,e,n=!0){const r=Yk(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await qk(r,e,n,!0),i}async function c8(t,e){const n=Yk(t);await qk(n,e,!0,!1)}async function qk(t,e,n,r){const i=await Pq(t.localStore,Sa(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await f8(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ik(t.remoteStore,i),u}async function f8(t,e,n,r,i){t.pu=(p,v,b)=>(async function(E,S,x,C){let O=S.view.ru(x);O.Cs&&(O=await BR(E.localStore,S.query,!1).then((({documents:N})=>S.view.ru(N,O))));const V=C&&C.targetChanges.get(S.targetId),I=C&&C.targetMismatches.get(S.targetId)!=null,D=S.view.applyChanges(O,E.isPrimaryClient,V,I);return QR(E,S.targetId,D.au),D.snapshot})(t,p,v,b);const a=await BR(t.localStore,e,!0),l=new a8(e,a.Qs),u=l.ru(a.documents),f=md.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,f);QR(t,n,h.au);const d=new s8(e,n,l);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function h8(t,e,n){const r=Je(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!Kg(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&aS(r.remoteStore,i.targetId),bw(r,i.targetId)})).catch(qc)):(bw(r,i.targetId),await gw(r.localStore,i.targetId,!0))}async function d8(t,e){const n=Je(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),aS(n.remoteStore,r.targetId))}async function m8(t,e,n){const r=w8(t);try{const i=await(function(l,u){const f=Je(l),h=Kt.now(),d=u.reduce(((b,w)=>b.add(w.key)),ft());let p,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let w=gs(),E=ft();return f.Ns.getEntries(b,d).next((S=>{w=S,w.forEach(((x,C)=>{C.isValidDocument()||(E=E.add(x))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,w))).next((S=>{p=S;const x=[];for(const C of u){const O=Cz(C,p.get(C.key).overlayedDocument);O!=null&&x.push(new nu(C.key,O,XN(O.value.mapValue),cs.exists(!0)))}return f.mutationQueue.addMutationBatch(b,h,x,u)})).next((S=>{v=S;const x=S.applyToLocalDocumentSet(p,E);return f.documentOverlayCache.saveOverlays(b,S.batchId,x)}))})).then((()=>({batchId:v.batchId,changes:sk(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new en(ct)),h=h.insert(u,f),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await gd(r,i.changes),await Zg(r.remoteStore)}catch(i){const a=cS(i,"Failed to persist write");n.reject(a)}}async function Fk(t,e){const n=Je(t);try{const r=await Oq(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(Ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Ot(l.hu,14607):i.removedDocuments.size>0&&(Ot(l.hu,42227),l.hu=!1))})),await gd(n,r,e)}catch(r){await qc(r)}}function XR(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const f=Je(l);f.onlineState=u;let h=!1;f.queries.forEach(((d,p)=>{for(const v of p.Sa)v.va(u)&&(h=!0)})),h&&fS(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function p8(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new en(Be.comparator);l=l.insert(a,dr.newNoDocument(a,Xe.min()));const u=ft().add(a),f=new Xg(Xe.min(),new Map,new en(ct),l,u);await Fk(r,f),r.du=r.du.remove(a),r.Au.delete(e),dS(r)}else await gw(r.localStore,e,!1).then((()=>bw(r,e,n))).catch(qc)}async function g8(t,e){const n=Je(t),r=e.batch.batchId;try{const i=await xq(n.localStore,e);Kk(n,r,null),Hk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gd(n,i)}catch(i){await qc(i)}}async function y8(t,e,n){const r=Je(t);try{const i=await(function(l,u){const f=Je(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let d;return f.mutationQueue.lookupMutationBatch(h,u).next((p=>(Ot(p!==null,37113),d=p.keys(),f.mutationQueue.removeMutationBatch(h,p)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,d,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d))).next((()=>f.localDocuments.getDocuments(h,d)))}))})(r.localStore,e);Kk(r,e,n),Hk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gd(r,i)}catch(i){await qc(i)}}function Hk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Kk(t,e,n){const r=Je(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function bw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Gk(t,r)}))}function Gk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(aS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),dS(t))}function QR(t,e,n){for(const r of n)r instanceof Bk?(t.Ru.addReference(r.key,e),v8(t,r)):r instanceof zk?(Ee(hS,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Gk(t,r.key)):Ge(19791,{wu:r})}function v8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ee(hS,"New document in limbo: "+n),t.Eu.add(r),dS(t))}function dS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be(Ht.fromString(e)),r=t.fu.next();t.Au.set(r,new o8(n)),t.du=t.du.insert(n,r),Ik(t.remoteStore,new bo(Sa(XE(n.path)),r,"TargetPurposeLimboResolution",zg.ce))}}async function gd(t,e,n){const r=Je(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const d=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,d?"current":"not-current")}if(h){i.push(h);const d=rS.As(f.targetId,h);a.push(d)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,h){const d=Je(f);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>he.forEach(h,(v=>he.forEach(v.Es,(b=>d.persistence.referenceDelegate.addReference(p,v.targetId,b))).next((()=>he.forEach(v.ds,(b=>d.persistence.referenceDelegate.removeReference(p,v.targetId,b)))))))))}catch(p){if(!Fc(p))throw p;Ee(iS,"Failed to update sequence numbers: "+p)}for(const p of h){const v=p.targetId;if(!p.fromCache){const b=d.Ms.get(v),w=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(w);d.Ms=d.Ms.insert(v,E)}}})(r.localStore,a))}async function b8(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Ee(hS,"User change. New user:",e.toKey());const r=await Rk(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((f=>{f.reject(new Me(de.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gd(n,r.Ls)}}function _8(t,e){const n=Je(t),r=n.Au.get(e);if(r&&r.hu)return ft().add(r.key);{let i=ft();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function Yk(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p8.bind(null,e),e.Pu.H_=r8.bind(null,e.eventManager),e.Pu.yu=i8.bind(null,e.eventManager),e}function w8(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y8.bind(null,e),e}class Yp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Aq(this.persistence,new Eq,e.initialUser,this.serializer)}Cu(e){return new Ok(nS.mi,this.serializer)}Du(e){return new Iq}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yp.provider={build:()=>new Yp};class E8 extends Yp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ot(this.persistence.referenceDelegate instanceof Kp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oq(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cr.withCacheSize(this.cacheSizeBytes):Cr.DEFAULT;return new Ok((r=>Kp.mi(r,n)),this.serializer)}}class _w{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=b8.bind(null,this.syncEngine),await e8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new n8})()}createDatastore(e){const n=Qg(e.databaseInfo.databaseId),r=(function(a){return new Lq(a)})(e.databaseInfo);return(function(a,l,u,f){return new Bq(a,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,u){return new qq(r,i,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>XR(this.syncEngine,n,0)),(function(){return FR.v()?new FR:new Nq})())}createSyncEngine(e,n){return(function(i,a,l,u,f,h,d){const p=new l8(i,a,l,u,f,h);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Je(n);Ee(Fl,"RemoteStore shutting down."),r.Ea.add(5),await pd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_w.provider={build:()=>new _w};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="FirestoreClient";class S8{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fr.UNAUTHENTICATED,this.clientId=qE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Ee(No,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ee(No,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ib(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(No,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Rk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function JR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await T8(t);Ee(No,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>KR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>KR(e.remoteStore,i))),t._onlineComponents=e}async function T8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(No,"Using user provided OfflineComponentProvider");try{await ib(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ac("Error using user provided cache. Falling back to memory cache: "+n),await ib(t,new Yp)}}else Ee(No,"Using default OfflineComponentProvider"),await ib(t,new E8(void 0));return t._offlineComponents}async function Xk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(No,"Using user provided OnlineComponentProvider"),await JR(t,t._uninitializedComponentsProvider._online)):(Ee(No,"Using default OnlineComponentProvider"),await JR(t,new _w))),t._onlineComponents}function A8(t){return Xk(t).then((e=>e.syncEngine))}async function Qk(t){const e=await Xk(t),n=e.eventManager;return n.onListen=u8.bind(null,e.syncEngine),n.onUnlisten=h8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=c8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=d8.bind(null,e.syncEngine),n}function x8(t,e,n={}){const r=new us;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,h){const d=new Wk({next:v=>{d.Nu(),l.enqueueAndForget((()=>Vk(a,p)));const b=v.docs.has(u);!b&&v.fromCache?h.reject(new Me(de.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&f&&f.source==="server"?h.reject(new Me(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),p=new $k(XE(u.path),d,{includeMetadataChanges:!0,qa:!0});return Uk(a,p)})(await Qk(t),t.asyncQueue,e,n,r))),r.promise}function O8(t,e,n={}){const r=new us;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,h){const d=new Wk({next:v=>{d.Nu(),l.enqueueAndForget((()=>Vk(a,p))),v.fromCache&&f.source==="server"?h.reject(new Me(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),p=new $k(u,d,{includeMetadataChanges:!0,qa:!0});return Uk(a,p)})(await Qk(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="firestore.googleapis.com",eC=!0;class tC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Me(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zk,this.ssl=eC}else this.host=e.host,this.ssl=e.ssl??eC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aq)throw new Me(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jk(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Me(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Me(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Me(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ey{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new I9;switch(r.type){case"firstParty":return new j9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Me(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=ZR.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),ZR.delete(n),r.terminate())})(this),Promise.resolve()}}function R8(t,e,n,r={}){t=ql(t,ey);const i=VE(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(cB(`https://${u}`),mB("Firestore",!0)),a.host!==Zk&&a.host!==u&&Ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:u,ssl:i,emulatorOptions:r};if(!jp(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=fr.MOCK_USER;else{h=fB(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Me(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new fr(p)}t._authCredentials=new N9(new UN(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ty(this.firestore,e,this._query)}}class Dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}toJSON(){return{type:Dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hd(n,Dn._jsonSchema))return new Dn(e,r||null,new Be(Ht.fromString(n.referencePath)))}}Dn._jsonSchemaVersion="firestore/documentReference/1.0",Dn._jsonSchema={type:bn("string",Dn._jsonSchemaVersion),referencePath:bn("string")};class Ao extends ty{constructor(e,n,r){super(e,n,XE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new Be(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function C8(t,e,...n){if(t=Sc(t),VN("collection","path",e),t instanceof ey){const r=Ht.fromString(e,...n);return pR(r),new Ao(t,null,r)}{if(!(t instanceof Dn||t instanceof Ao))throw new Me(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return pR(r),new Ao(t.firestore,null,r)}}function Wp(t,e,...n){if(t=Sc(t),arguments.length===1&&(e=qE.newId()),VN("doc","path",e),t instanceof ey){const r=Ht.fromString(e,...n);return mR(r),new Dn(t,null,new Be(r))}{if(!(t instanceof Dn||t instanceof Ao))throw new Me(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return mR(r),new Dn(t.firestore,t instanceof Ao?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="AsyncQueue";class rC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Pk(this,"async_queue_retry"),this._c=()=>{const r=rb();r&&Ee(nC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=rb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fc(e))throw e;Ee(nC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",iC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=uS.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ge(47125,{Pc:iC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function iC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ny extends ey{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rC,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rC(e),this._firestoreClient=void 0,await e}}}function P8(t,e){const n=typeof t=="object"?t:RN(),r=typeof t=="string"?t:Vp,i=AN(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=lB("firestore");a&&R8(i,...a)}return i}function mS(t){if(t._terminated)throw new Me(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||D8(t),t._firestoreClient}function D8(t){const e=t._freezeSettings(),n=(function(i,a,l,u){return new Z9(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Jk(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new S8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(ar.fromBase64String(e))}catch(n){throw new Me(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hd(e,Ri._jsonSchema))return Ri.fromBase64String(e.bytes)}}Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:bn("string",Ri._jsonSchemaVersion),bytes:bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Me(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Me(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Me(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Aa._jsonSchemaVersion}}static fromJSON(e){if(hd(e,Aa._jsonSchema))return new Aa(e.latitude,e.longitude)}}Aa._jsonSchemaVersion="firestore/geoPoint/1.0",Aa._jsonSchema={type:bn("string",Aa._jsonSchemaVersion),latitude:bn("number"),longitude:bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hd(e,xa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xa(e.vectorValues);throw new Me(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xa._jsonSchemaVersion="firestore/vectorValue/1.0",xa._jsonSchema={type:bn("string",xa._jsonSchemaVersion),vectorValues:bn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=/^__.*__$/;class N8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new nu(e,this.data,this.fieldMask,n,this.fieldTransforms):new dd(e,this.data,n,this.fieldTransforms)}}function tM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:t})}}class gS{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tM(this.Ac)&&I8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class k8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qg(e)}Cc(e,n,r,i=!1){return new gS({Ac:e,methodName:n,Dc:r,path:rr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M8(t){const e=t._freezeSettings(),n=Qg(t._databaseId);return new k8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function j8(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);aM("Data must be an object, but it was:",l,r);const u=rM(r,l);let f,h;if(a.merge)f=new Xi(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const d=[];for(const p of a.mergeFields){const v=L8(e,p,n);if(!l.contains(v))throw new Me(de.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);V8(d,v)||d.push(v)}f=new Xi(d),h=l.fieldTransforms.filter((p=>f.covers(p.field)))}else f=null,h=l.fieldTransforms;return new N8(new Oi(u),f,h)}function nM(t,e){if(iM(t=Sc(t)))return aM("Unsupported field value:",e,t),rM(t,e);if(t instanceof eM)return(function(r,i){if(!tM(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const u of r){let f=nM(u,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Sc(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Sz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Kt.fromDate(r);return{timestampValue:Hp(i.serializer,a)}}if(r instanceof Kt){const a=new Kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hp(i.serializer,a)}}if(r instanceof Aa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:bk(i.serializer,r._byteString)};if(r instanceof Dn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:eS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xa)return(function(l,u){return{mapValue:{fields:{[YN]:{stringValue:WN},[$p]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return QE(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${FE(r)}`)})(t,e)}function rM(t,e){const n={};return zN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eu(t,((r,i)=>{const a=nM(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function iM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kt||t instanceof Aa||t instanceof Ri||t instanceof Dn||t instanceof eM||t instanceof xa)}function aM(t,e,n){if(!iM(n)||!$N(n)){const r=FE(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function L8(t,e,n){if((e=Sc(e))instanceof pS)return e._internalPath;if(typeof e=="string")return sM(t,e);throw Xp("Field path arguments must be of type string or ",t,!1,void 0,n)}const U8=new RegExp("[~\\*/\\[\\]]");function sM(t,e,n){if(e.search(U8)>=0)throw Xp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pS(...e.split("."))._internalPath}catch{throw Xp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xp(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Me(de.INVALID_ARGUMENT,u+t+f)}function V8(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $8 extends oM{data(){return super.data()}}function lM(t,e){return typeof e=="string"?sM(t,e):e instanceof pS?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z8{convertValue(e,n="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return eu(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[$p].arrayValue?.values?.map((r=>cn(r.doubleValue)));return new xa(n)}convertGeoPoint(e){return new Aa(cn(e.latitude),cn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qh(e));default:return null}}convertTimestamp(e){const n=Co(e);return new Kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ht.fromString(e);Ot(Ak(r),9688,{name:e});const i=new Fh(r.get(1),r.get(3)),a=new Be(r.popFirst(5));return i.isEqual(n)||ps(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class wh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends oM{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ll._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ll._jsonSchema={type:bn("string",Ll._jsonSchemaVersion),bundleSource:bn("string","DocumentSnapshot"),bundleName:bn("string"),bundle:bn("string")};class Cp extends Ll{data(e={}){return super.data(e)}}class bc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Cp(this._firestore,this._userDataWriter,r.key,r,new wh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const f=new Cp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new wh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const f=new Cp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new wh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),d=l.indexOf(u.doc.key)),{type:F8(u.type),doc:f,oldIndex:h,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function F8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){t=ql(t,Dn);const e=ql(t.firestore,ny);return x8(mS(e),t._key).then((n=>G8(e,t,n)))}bc._jsonSchemaVersion="firestore/querySnapshot/1.0",bc._jsonSchema={type:bn("string",bc._jsonSchemaVersion),bundleSource:bn("string","QuerySnapshot"),bundleName:bn("string"),bundle:bn("string")};class cM extends z8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function H8(t){t=ql(t,ty);const e=ql(t.firestore,ny),n=mS(e),r=new cM(e);return B8(t._query),O8(n,t._query).then((i=>new bc(e,r,t,i)))}function aC(t,e,n){t=ql(t,Dn);const r=ql(t.firestore,ny),i=q8(t.converter,e,n);return K8(r,[j8(M8(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,cs.none())])}function K8(t,e){return(function(r,i){const a=new us;return r.asyncQueue.enqueueAndForget((async()=>m8(await A8(r),i,a))),a.promise})(mS(t),e)}function G8(t,e,n){const r=n.docs.get(e._key),i=new cM(t);return new Ll(t,i,e._key,r,new wh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){zc=i})(w9),$h(new Tc("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new ny(new k9(r.getProvider("auth-internal")),new L9(l,r.getProvider("app-check-internal")),(function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Me(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fh(h.options.projectId,d)})(l,i),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),So(cR,fR,e),So(cR,fR,"esm2020")})();var sC="@firebase/ai",ww="2.1.0";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="AI",oC="us-central1",Y8="https://firebasevertexai.googleapis.com",W8="v1beta",lC=ww,X8="gl-js",Q8=180*1e3,J8="gemini-2.0-flash-lite";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=["user","model","function","system"],fM={HARM_SEVERITY_UNSUPPORTED:"HARM_SEVERITY_UNSUPPORTED"},cC={SAFETY:"SAFETY",RECITATION:"RECITATION"},fC={ONLY_ON_DEVICE:"only_on_device",ONLY_IN_CLOUD:"only_in_cloud"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={ERROR:"error",REQUEST_ERROR:"request-error",RESPONSE_ERROR:"response-error",FETCH_ERROR:"fetch-error",INVALID_CONTENT:"invalid-content",API_NOT_ENABLED:"api-not-enabled",INVALID_SCHEMA:"invalid-schema",NO_API_KEY:"no-api-key",NO_APP_ID:"no-app-id",NO_MODEL:"no-model",NO_PROJECT_ID:"no-project-id",PARSE_FAILED:"parse-failed",UNSUPPORTED:"unsupported"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.backendType=e}}class yd extends hM{constructor(){super(Es.GOOGLE_AI)}}class ry extends hM{constructor(e=oC){super(Es.VERTEX_AI),e?this.location=e:this.location=oC}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,n,r,i){this.app=e,this.backend=n;const a=i?.getImmediate({optional:!0}),l=r?.getImmediate({optional:!0});this.auth=l||null,this.appCheck=a||null,n instanceof ry?this.location=n.location:this.location=""}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends Zl{constructor(e,n,r){const i=Dc,a=`${i}/${e}`,l=`${i}: ${n} (${a})`;super(e,l),this.code=e,this.customErrorData=r,Error.captureStackTrace&&Error.captureStackTrace(this,it),Object.setPrototypeOf(this,it.prototype),this.toString=()=>l}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(t){if(t instanceof yd)return`${Dc}/googleai`;if(t instanceof ry)return`${Dc}/vertexai/${t.location}`;throw new it(st.ERROR,`Invalid backend: ${JSON.stringify(t.backendType)}`)}function t7(t){const e=t.split("/");if(e[0]!==Dc)throw new it(st.ERROR,`Invalid instance identifier, unknown prefix '${e[0]}'`);switch(e[1]){case"vertexai":const r=e[2];if(!r)throw new it(st.ERROR,`Invalid instance identifier, unknown location '${t}'`);return new ry(r);case"googleai":return new yd;default:throw new it(st.ERROR,`Invalid instance identifier string: '${t}'`)}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){if(e.app?.options?.apiKey)if(e.app?.options?.projectId)if(e.app?.options?.appId){if(this._apiSettings={apiKey:e.app.options.apiKey,project:e.app.options.projectId,appId:e.app.options.appId,automaticDataCollectionEnabled:e.app.automaticDataCollectionEnabled,location:e.location,backend:e.backend},xN(e.app)&&e.app.settings.appCheckToken){const r=e.app.settings.appCheckToken;this._apiSettings.getAppCheckToken=()=>Promise.resolve({token:r})}else e.appCheck&&(this._apiSettings.getAppCheckToken=()=>e.appCheck.getToken());e.auth&&(this._apiSettings.getAuthToken=()=>e.auth.getToken()),this.model=Dh.normalizeModelName(n,this._apiSettings.backend.backendType)}else throw new it(st.NO_APP_ID,'The "appId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid app ID.');else throw new it(st.NO_PROJECT_ID,'The "projectId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid project ID.');else throw new it(st.NO_API_KEY,'The "apiKey" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid API key.')}static normalizeModelName(e,n){return n===Es.GOOGLE_AI?Dh.normalizeGoogleAIModelName(e):Dh.normalizeVertexAIModelName(e)}static normalizeGoogleAIModelName(e){return`models/${e}`}static normalizeVertexAIModelName(e){let n;return e.includes("/")?e.startsWith("models/")?n=`publishers/google/${e}`:n=e:n=`publishers/google/models/${e}`,n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new $E("@firebase/vertexai");/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yh;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.PREDICT="predict"})(Yh||(Yh={}));class dM{constructor(e,n,r,i,a){this.model=e,this.task=n,this.apiSettings=r,this.stream=i,this.requestOptions=a}toString(){const e=new URL(this.baseUrl);return e.pathname=`/${this.apiVersion}/${this.modelPath}:${this.task}`,e.search=this.queryParams.toString(),e.toString()}get baseUrl(){return this.requestOptions?.baseUrl||Y8}get apiVersion(){return W8}get modelPath(){if(this.apiSettings.backend instanceof yd)return`projects/${this.apiSettings.project}/${this.model}`;if(this.apiSettings.backend instanceof ry)return`projects/${this.apiSettings.project}/locations/${this.apiSettings.backend.location}/${this.model}`;throw new it(st.ERROR,`Invalid backend: ${JSON.stringify(this.apiSettings.backend)}`)}get queryParams(){const e=new URLSearchParams;return this.stream&&e.set("alt","sse"),e}}function n7(){const t=[];return t.push(`${X8}/${lC}`),t.push(`fire/${lC}`),t.join(" ")}async function r7(t){const e=new Headers;if(e.append("Content-Type","application/json"),e.append("x-goog-api-client",n7()),e.append("x-goog-api-key",t.apiSettings.apiKey),t.apiSettings.automaticDataCollectionEnabled&&e.append("X-Firebase-Appid",t.apiSettings.appId),t.apiSettings.getAppCheckToken){const n=await t.apiSettings.getAppCheckToken();n&&(e.append("X-Firebase-AppCheck",n.token),n.error&&hr.warn(`Unable to obtain a valid App Check token: ${n.error.message}`))}if(t.apiSettings.getAuthToken){const n=await t.apiSettings.getAuthToken();n&&e.append("Authorization",`Firebase ${n.accessToken}`)}return e}async function i7(t,e,n,r,i,a){const l=new dM(t,e,n,r,a);return{url:l.toString(),fetchOptions:{method:"POST",headers:await r7(l),body:i}}}async function yS(t,e,n,r,i,a){const l=new dM(t,e,n,r,a);let u,f;try{const h=await i7(t,e,n,r,i,a),d=a?.timeout!=null&&a.timeout>=0?a.timeout:Q8,p=new AbortController;if(f=setTimeout(()=>p.abort(),d),h.fetchOptions.signal=p.signal,u=await fetch(h.url,h.fetchOptions),!u.ok){let v="",b;try{const w=await u.json();v=w.error.message,w.error.details&&(v+=` ${JSON.stringify(w.error.details)}`,b=w.error.details)}catch{}throw u.status===403&&b&&b.some(w=>w.reason==="SERVICE_DISABLED")&&b.some(w=>w.links?.[0]?.description.includes("Google developers console API activation"))?new it(st.API_NOT_ENABLED,`The Firebase AI SDK requires the Firebase AI API ('firebasevertexai.googleapis.com') to be enabled in your Firebase project. Enable this API by visiting the Firebase Console at https://console.firebase.google.com/project/${l.apiSettings.project}/genai/ and clicking "Get started". If you enabled this API recently, wait a few minutes for the action to propagate to our systems and then retry.`,{status:u.status,statusText:u.statusText,errorDetails:b}):new it(st.FETCH_ERROR,`Error fetching from ${l}: [${u.status} ${u.statusText}] ${v}`,{status:u.status,statusText:u.statusText,errorDetails:b})}}catch(h){let d=h;throw h.code!==st.FETCH_ERROR&&h.code!==st.API_NOT_ENABLED&&h instanceof Error&&(d=new it(st.ERROR,`Error fetching from ${l.toString()}: ${h.message}`),d.stack=h.stack),d}finally{f&&clearTimeout(f)}return u}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t){return t.candidates&&!t.candidates[0].hasOwnProperty("index")&&(t.candidates[0].index=0),a7(t)}function a7(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&hr.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Pp(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${ho(t)}. Response body stored in error.response`,{response:t});return s7(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Text not available. ${ho(t)}`,{response:t});return""},t.inlineDataParts=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&hr.warn(`This response had ${t.candidates.length} candidates. Returning data from the first candidate only. Access response.candidates directly to use the other candidates.`),Pp(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${ho(t)}. Response body stored in error.response`,{response:t});return l7(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Data not available. ${ho(t)}`,{response:t})},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&hr.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Pp(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${ho(t)}. Response body stored in error.response`,{response:t});return o7(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Function call not available. ${ho(t)}`,{response:t})},t}function s7(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.text&&e.push(n.text);return e.length>0?e.join(""):""}function o7(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.functionCall&&e.push(n.functionCall);if(e.length>0)return e}function l7(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.inlineData&&e.push(n);if(e.length>0)return e}const u7=[cC.RECITATION,cC.SAFETY];function Pp(t){return!!t.finishReason&&u7.some(e=>e===t.finishReason)}function ho(t){let e="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)e+="Response was blocked",t.promptFeedback?.blockReason&&(e+=` due to ${t.promptFeedback.blockReason}`),t.promptFeedback?.blockReasonMessage&&(e+=`: ${t.promptFeedback.blockReasonMessage}`);else if(t.candidates?.[0]){const n=t.candidates[0];Pp(n)&&(e+=`Candidate was blocked due to ${n.finishReason}`,n.finishMessage&&(e+=`: ${n.finishMessage}`))}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t){if(t.safetySettings?.forEach(e=>{if(e.method)throw new it(st.UNSUPPORTED,"SafetySetting.method is not supported in the the Gemini Developer API. Please remove this property.")}),t.generationConfig?.topK){const e=Math.round(t.generationConfig.topK);e!==t.generationConfig.topK&&(hr.warn("topK in GenerationConfig has been rounded to the nearest integer to match the format for requests to the Gemini Developer API."),t.generationConfig.topK=e)}return t}function vS(t){return{candidates:t.candidates?f7(t.candidates):void 0,prompt:t.promptFeedback?h7(t.promptFeedback):void 0,usageMetadata:t.usageMetadata}}function c7(t,e){return{generateContentRequest:{model:e,...t}}}function f7(t){const e=[];let n;return e&&t.forEach(r=>{let i;if(r.citationMetadata&&(i={citations:r.citationMetadata.citationSources}),r.safetyRatings&&(n=r.safetyRatings.map(l=>({...l,severity:l.severity??fM.HARM_SEVERITY_UNSUPPORTED,probabilityScore:l.probabilityScore??0,severityScore:l.severityScore??0}))),r.content?.parts.some(l=>l?.videoMetadata))throw new it(st.UNSUPPORTED,"Part.videoMetadata is not supported in the Gemini Developer API. Please remove this property.");const a={index:r.index,content:r.content,finishReason:r.finishReason,finishMessage:r.finishMessage,safetyRatings:n,citationMetadata:i,groundingMetadata:r.groundingMetadata};e.push(a)}),e}function h7(t){const e=[];return t.safetyRatings.forEach(r=>{e.push({category:r.category,probability:r.probability,severity:r.severity??fM.HARM_SEVERITY_UNSUPPORTED,probabilityScore:r.probabilityScore??0,severityScore:r.severityScore??0,blocked:r.blocked})}),{blockReason:t.blockReason,safetyRatings:e,blockReasonMessage:t.blockReasonMessage}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function d7(t,e){const n=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=g7(n),[i,a]=r.tee();return{stream:p7(i,e),response:m7(a,e)}}async function m7(t,e){const n=[],r=t.getReader();for(;;){const{done:i,value:a}=await r.read();if(i){let l=y7(n);return e.backend.backendType===Es.GOOGLE_AI&&(l=vS(l)),Qp(l)}n.push(a)}}async function*p7(t,e){const n=t.getReader();for(;;){const{value:r,done:i}=await n.read();if(i)break;let a;e.backend.backendType===Es.GOOGLE_AI?a=Qp(vS(r)):a=Qp(r),yield a}}function g7(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return e.read().then(({value:l,done:u})=>{if(u){if(i.trim()){r.error(new it(st.PARSE_FAILED,"Failed to parse stream"));return}r.close();return}i+=l;let f=i.match(hC),h;for(;f;){try{h=JSON.parse(f[1])}catch{r.error(new it(st.PARSE_FAILED,`Error parsing JSON response: "${f[1]}`));return}r.enqueue(h),i=i.substring(f[0].length),f=i.match(hC)}return a()})}}})}function y7(t){const n={promptFeedback:t[t.length-1]?.promptFeedback};for(const r of t)if(r.candidates)for(const i of r.candidates){const a=i.index||0;if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:i.index}),n.candidates[a].citationMetadata=i.citationMetadata,n.candidates[a].finishReason=i.finishReason,n.candidates[a].finishMessage=i.finishMessage,n.candidates[a].safetyRatings=i.safetyRatings,n.candidates[a].groundingMetadata=i.groundingMetadata,i.content&&i.content.parts){n.candidates[a].content||(n.candidates[a].content={role:i.content.role||"user",parts:[]});const l={};for(const u of i.content.parts){if(u.text!==void 0){if(u.text==="")continue;l.text=u.text}if(u.functionCall&&(l.functionCall=u.functionCall),Object.keys(l).length===0)throw new it(st.INVALID_CONTENT,"Part should have at least one property, but there are none. This is likely caused by a malformed response from the backend.");n.candidates[a].content.parts.push(l)}}}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(t,e,n,r){return t.backend.backendType===Es.GOOGLE_AI&&(n=mM(n)),yS(e,Yh.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r)}async function pM(t,e,n,r,i){let a;return r&&await r.isAvailable(n)?a=await r.generateContentStream(n):a=await v7(t,e,n,i),d7(a,t)}async function b7(t,e,n,r){return t.backend.backendType===Es.GOOGLE_AI&&(n=mM(n)),yS(e,Yh.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)}async function gM(t,e,n,r,i){let a;r&&await r.isAvailable(n)?a=await r.generateContent(n):a=await b7(t,e,n,i);const l=await _7(a,t);return{response:Qp(l)}}async function _7(t,e){const n=await t.json();return e.backend.backendType===Es.GOOGLE_AI?vS(n):n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Ew(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return w7(e)}function w7(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),i=!0):(e.parts.push(a),r=!0);if(r&&i)throw new it(st.INVALID_CONTENT,"Within a single message, FunctionResponse cannot be mixed with other type of Part in the request for sending chat message.");if(!r&&!i)throw new it(st.INVALID_CONTENT,"No Content is provided for sending chat message.");return r?e:n}function ab(t){let e;return t.contents?e=t:e={contents:[Ew(t)]},t.systemInstruction&&(e.systemInstruction=yM(t.systemInstruction)),e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=["text","inlineData","functionCall","functionResponse"],E7={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]},mC={user:["model"],function:["model"],model:["user","function"],system:[]};function S7(t){let e=null;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new it(st.INVALID_CONTENT,`First Content should be with role 'user', got ${r}`);if(!uC.includes(r))throw new it(st.INVALID_CONTENT,`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(uC)}`);if(!Array.isArray(i))throw new it(st.INVALID_CONTENT,"Content should have 'parts' but property with an array of Parts");if(i.length===0)throw new it(st.INVALID_CONTENT,"Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0};for(const u of i)for(const f of dC)f in u&&(a[f]+=1);const l=E7[r];for(const u of dC)if(!l.includes(u)&&a[u]>0)throw new it(st.INVALID_CONTENT,`Content with role '${r}' can't contain '${u}' part`);if(e&&!mC[r].includes(e.role))throw new it(st.INVALID_CONTENT,`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(mC)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="SILENT_ERROR";class T7{constructor(e,n,r,i,a){this.model=n,this.chromeAdapter=r,this.params=i,this.requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiSettings=e,i?.history&&(S7(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){await this._sendPromise;const n=Ew(e),r={safetySettings:this.params?.safetySettings,generationConfig:this.params?.generationConfig,tools:this.params?.tools,toolConfig:this.params?.toolConfig,systemInstruction:this.params?.systemInstruction,contents:[...this._history,n]};let i={};return this._sendPromise=this._sendPromise.then(()=>gM(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions)).then(a=>{if(a.response.candidates&&a.response.candidates.length>0){this._history.push(n);const l={parts:a.response.candidates?.[0].content.parts||[],role:a.response.candidates?.[0].content.role||"model"};this._history.push(l)}else{const l=ho(a.response);l&&hr.warn(`sendMessage() was unsuccessful. ${l}. Inspect response object for details.`)}i=a}),await this._sendPromise,i}async sendMessageStream(e){await this._sendPromise;const n=Ew(e),r={safetySettings:this.params?.safetySettings,generationConfig:this.params?.generationConfig,tools:this.params?.tools,toolConfig:this.params?.toolConfig,systemInstruction:this.params?.systemInstruction,contents:[...this._history,n]},i=pM(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>i).catch(a=>{throw new Error(pC)}).then(a=>a.response).then(a=>{if(a.candidates&&a.candidates.length>0){this._history.push(n);const l={...a.candidates[0].content};l.role||(l.role="model"),this._history.push(l)}else{const l=ho(a);l&&hr.warn(`sendMessageStream() was unsuccessful. ${l}. Inspect response object for details.`)}}).catch(a=>{a.message!==pC&&hr.error(a)}),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A7(t,e,n,r){let i="";if(t.backend.backendType===Es.GOOGLE_AI){const l=c7(n,e);i=JSON.stringify(l)}else i=JSON.stringify(n);return(await yS(e,Yh.COUNT_TOKENS,t,!1,i,r)).json()}async function x7(t,e,n,r,i){return r&&await r.isAvailable(n)?(await r.countTokens(n)).json():A7(t,e,n,i)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7 extends Dh{constructor(e,n,r,i){super(e,n.model),this.chromeAdapter=i,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=yM(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=ab(e);return gM(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}async generateContentStream(e){const n=ab(e);return pM(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}startChat(e){return new T7(this._apiSettings,this.model,this.chromeAdapter,{tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,generationConfig:this.generationConfig,safetySettings:this.safetySettings,...e},this.requestOptions)}async countTokens(e){const n=ab(e);return x7(this._apiSettings,this.model,n,this.chromeAdapter)}}var xl;(function(t){t.UNAVAILABLE="unavailable",t.DOWNLOADABLE="downloadable",t.DOWNLOADING="downloading",t.AVAILABLE="available"})(xl||(xl={}));/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r={createOptions:{expectedInputs:[{type:"image"}]}}){this.languageModelProvider=e,this.mode=n,this.onDeviceParams=r,this.isDownloading=!1}async isAvailable(e){if(!this.mode)return hr.debug("On-device inference unavailable because mode is undefined."),!1;if(this.mode===fC.ONLY_IN_CLOUD)return hr.debug('On-device inference unavailable because mode is "only_in_cloud".'),!1;const n=await this.downloadIfAvailable();if(this.mode===fC.ONLY_ON_DEVICE){if(n===xl.UNAVAILABLE)throw new it(st.API_NOT_ENABLED,"Local LanguageModel API not available in this environment.");return(n===xl.DOWNLOADABLE||n===xl.DOWNLOADING)&&(hr.debug("Waiting for download of LanguageModel to complete."),await this.downloadPromise),!0}return n!==xl.AVAILABLE?(hr.debug(`On-device inference unavailable because availability is "${n}".`),!1):Fi.isOnDeviceRequest(e)?!0:(hr.debug("On-device inference unavailable because request is incompatible."),!1)}async generateContent(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Fi.toLanguageModelMessage)),i=await n.prompt(r,this.onDeviceParams.promptOptions);return Fi.toResponse(i)}async generateContentStream(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Fi.toLanguageModelMessage)),i=n.promptStreaming(r,this.onDeviceParams.promptOptions);return Fi.toStreamResponse(i)}async countTokens(e){throw new it(st.REQUEST_ERROR,"Count Tokens is not yet available for on-device model.")}static isOnDeviceRequest(e){if(e.contents.length===0)return hr.debug("Empty prompt rejected for on-device inference."),!1;for(const n of e.contents){if(n.role==="function")return hr.debug('"Function" role rejected for on-device inference.'),!1;for(const r of n.parts)if(r.inlineData&&Fi.SUPPORTED_MIME_TYPES.indexOf(r.inlineData.mimeType)===-1)return hr.debug(`Unsupported mime type "${r.inlineData.mimeType}" rejected for on-device inference.`),!1}return!0}async downloadIfAvailable(){const e=await this.languageModelProvider?.availability(this.onDeviceParams.createOptions);return e===xl.DOWNLOADABLE&&this.download(),e}download(){this.isDownloading||(this.isDownloading=!0,this.downloadPromise=this.languageModelProvider?.create(this.onDeviceParams.createOptions).finally(()=>{this.isDownloading=!1}))}static async toLanguageModelMessage(e){const n=await Promise.all(e.parts.map(Fi.toLanguageModelMessageContent));return{role:Fi.toLanguageModelMessageRole(e.role),content:n}}static async toLanguageModelMessageContent(e){if(e.text)return{type:"text",value:e.text};if(e.inlineData){const r=await(await fetch(`data:${e.inlineData.mimeType};base64,${e.inlineData.data}`)).blob();return{type:"image",value:await createImageBitmap(r)}}throw new it(st.REQUEST_ERROR,"Processing of this Part type is not currently supported.")}static toLanguageModelMessageRole(e){return e==="model"?"assistant":"user"}async createSession(){if(!this.languageModelProvider)throw new it(st.UNSUPPORTED,"Chrome AI requested for unsupported browser version.");const e=await this.languageModelProvider.create(this.onDeviceParams.createOptions);return this.oldSession&&this.oldSession.destroy(),this.oldSession=e,e}static toResponse(e){return{json:async()=>({candidates:[{content:{parts:[{text:e}]}}]})}}static toStreamResponse(e){const n=new TextEncoder;return{body:e.pipeThrough(new TransformStream({transform(r,i){const a=JSON.stringify({candidates:[{content:{role:"model",parts:[{text:r}]}}]});i.enqueue(n.encode(`data: ${a}

`))}}))}}}Fi.SUPPORTED_MIME_TYPES=["image/jpeg","image/png"];/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(t=RN(),e={backend:new yd}){t=Sc(t);const n=AN(t,Dc),r=e7(e.backend);return n.getImmediate({identifier:r})}function vM(t,e,n){const r=e;let i;if(r.mode?i=r.inCloudParams||{model:J8}:i=e,!i.model)throw new it(st.NO_MODEL,"Must provide a model name. Example: getGenerativeModel({ model: 'my-model-name' })");let a;return typeof window<"u"&&r.mode&&(a=new Fi(window.LanguageModel,r.mode,r.onDeviceParams)),new O7(t,i,n,a)}function C7(){$h(new Tc(Dc,(t,{instanceIdentifier:e})=>{if(!e)throw new it(st.ERROR,"AIService instance identifier is undefined.");const n=t7(e),r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Z8(r,n,i,a)},"PUBLIC").setMultipleInstances(!0)),So(sC,ww),So(sC,ww,"esm2020")}C7();var P7="firebase",D7="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So(P7,D7,"app");const I7={apiKey:"AIzaSyCwWrLjCbvrbWeEKCdz6X1kQsRqudLogvk",authDomain:"robotics-3c92c.firebaseapp.com",projectId:"robotics-3c92c",storageBucket:"robotics-3c92c.firebasestorage.app",messagingSenderId:"286446162060",appId:"1:286446162060:web:30976ed5981cb902d4eba9",measurementId:"G-LMVZ79XKBW"},bM=ON(I7),Wh=P8(bM),_M=R7(bM,{backend:new yd}),_o=["team_number","opr","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","auto_made_net","auto_missed_net","auto_made_processor","auto_l4","auto_l3","auto_l2","auto_l1","auto_missed_coral","tele_made_net","tele_missed_net","tele_processor","tele_l4","tele_l3","tele_l2","tele_l1","tele_missed_coral","driver_rating"],gC=["opr","team_number","match_number","driver_station","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","auto_mobility","auto_made_net","auto_missed_net","auto_made_processor","auto_l4","auto_l3","auto_l2","auto_l1","auto_missed_coral","tele_made_net","tele_missed_net","tele_processor","tele_l4","tele_l3","tele_l2","tele_l1","tele_missed_coral","endgame_type","comments","lost_comms","auto_start_position","driver_rating","disabled"],N7="modulepreload",k7=function(t){return"/ScoutingOffseason2025/"+t},yC={},vd=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let h=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var l=h;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");i=h(n.map(d=>{if(d=k7(d),d in yC)return;yC[d]=!0;const p=d.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":N7,p||(b.as="script"),b.crossOrigin="",b.href=d,f&&b.setAttribute("nonce",f),document.head.appendChild(b),p)return new Promise((w,E)=>{b.addEventListener("load",w),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return i.then(u=>{for(const f of u||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})},M7=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vd(async()=>{const{default:r}=await Promise.resolve().then(()=>Kc);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class bS extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class vC extends bS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class bC extends bS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _C extends bS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sw||(Sw={}));var j7=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class L7{constructor(e,{headers:n={},customFetch:r,region:i=Sw.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=M7(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return j7(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:a,method:l,body:u,signal:f}=r;let h={},{region:d}=r;d||(d=this.region);const p=new URL(`${this.url}/${n}`);d&&d!=="any"&&(h["x-region"]=d,p.searchParams.set("forceFunctionRegion",d));let v;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(h["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(h["Content-Type"]="application/json",v=JSON.stringify(u)));const b=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:v,signal:f}).catch(x=>{throw x.name==="AbortError"?x:new vC(x)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new bC(b);if(!b.ok)throw new _C(b);let E=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return E==="application/json"?S=yield b.json():E==="application/octet-stream"?S=yield b.blob():E==="text/event-stream"?S=b:E==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new vC(a)}:{data:null,error:a,response:a instanceof _C||a instanceof bC?a.context:void 0}}})}}var zn={},Wu={},Xu={},Qu={},Ju={},Zu={},U7=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ic=U7();const V7=Ic.fetch,wM=Ic.fetch.bind(Ic),EM=Ic.Headers,$7=Ic.Request,B7=Ic.Response,Kc=Object.freeze(Object.defineProperty({__proto__:null,Headers:EM,Request:$7,Response:B7,default:wM,fetch:V7},Symbol.toStringTag,{value:"Module"})),z7=JV(Kc);var np={},wC;function SM(){if(wC)return np;wC=1,Object.defineProperty(np,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return np.default=t,np}var EC;function TM(){if(EC)return Zu;EC=1;var t=Zu&&Zu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Zu,"__esModule",{value:!0});const e=t(z7),n=t(SM());class r{constructor(a){var l,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var d,p,v,b;let w=null,E=null,S=null,x=h.status,C=h.statusText;if(h.ok){if(this.method!=="HEAD"){const D=await h.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?E=D:E=JSON.parse(D))}const V=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),I=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");V&&I&&I.length>1&&(S=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(w={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,S=null,x=406,C="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const V=await h.text();try{w=JSON.parse(V),Array.isArray(w)&&h.status===404&&(E=[],w=null,x=200,C="OK")}catch{h.status===404&&V===""?(x=204,C="No Content"):w={message:V}}if(w&&this.isMaybeSingle&&(!((b=w?.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,x=200,C="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:E,count:S,status:x,statusText:C}});return this.shouldThrowOnError||(f=f.catch(h=>{var d,p,v;return{error:{message:`${(d=h?.name)!==null&&d!==void 0?d:"FetchError"}: ${h?.message}`,details:`${(p=h?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(v=h?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(a,l)}returns(){return this}overrideTypes(){return this}}return Zu.default=r,Zu}var SC;function AM(){if(SC)return Ju;SC=1;var t=Ju&&Ju.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ju,"__esModule",{value:!0});const e=t(TM());class n extends e.default{select(i){let a=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.order`:"order",d=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:h="text"}={}){var d;const p=[i?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Ju.default=n,Ju}var TC;function _S(){if(TC)return Qu;TC=1;var t=Qu&&Qu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qu,"__esModule",{value:!0});const e=t(AM());class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${h}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return Qu.default=n,Qu}var AC;function xM(){if(AC)return Xu;AC=1;var t=Xu&&Xu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xu,"__esModule",{value:!0});const e=t(_S());class n{constructor(i,{headers:a={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=u}select(i,a){const{head:l=!1,count:u}=a??{},f=l?"HEAD":"GET";let h=!1;const d=(i??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",d),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var u;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(h.length>0){const d=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){var h;const d="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(p.length>0){const v=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:a}={}){var l;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Xu.default=n,Xu}var xC;function q7(){if(xC)return Wu;xC=1;var t=Wu&&Wu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wu,"__esModule",{value:!0});const e=t(xM()),n=t(_S());class r{constructor(a,{headers:l={},schema:u,fetch:f}={}){this.url=a,this.headers=new Headers(l),this.schemaName=u,this.fetch=f}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:u=!1,get:f=!1,count:h}={}){var d;let p;const v=new URL(`${this.url}/rpc/${a}`);let b;u||f?(p=u?"HEAD":"GET",Object.entries(l).filter(([E,S])=>S!==void 0).map(([E,S])=>[E,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([E,S])=>{v.searchParams.append(E,S)})):(p="POST",b=l);const w=new Headers(this.headers);return h&&w.set("Prefer",`count=${h}`),new n.default({method:p,url:v,headers:w,schema:this.schemaName,body:b,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Wu.default=r,Wu}var OC;function F7(){if(OC)return zn;OC=1;var t=zn&&zn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(zn,"__esModule",{value:!0}),zn.PostgrestError=zn.PostgrestBuilder=zn.PostgrestTransformBuilder=zn.PostgrestFilterBuilder=zn.PostgrestQueryBuilder=zn.PostgrestClient=void 0;const e=t(q7());zn.PostgrestClient=e.default;const n=t(xM());zn.PostgrestQueryBuilder=n.default;const r=t(_S());zn.PostgrestFilterBuilder=r.default;const i=t(AM());zn.PostgrestTransformBuilder=i.default;const a=t(TM());zn.PostgrestBuilder=a.default;const l=t(SM());return zn.PostgrestError=l.default,zn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},zn}var H7=F7();const K7=Zi(H7),{PostgrestClient:G7,PostgrestQueryBuilder:iue,PostgrestFilterBuilder:aue,PostgrestTransformBuilder:sue,PostgrestBuilder:oue,PostgrestError:lue}=K7;class Y7{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const W7="2.75.0",X7=`realtime-js/${W7}`,Q7="1.0.0",Tw=1e4,J7=1e3,Z7=100;var Ih;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ih||(Ih={}));var Cn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Cn||(Cn={}));var Hi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Hi||(Hi={}));var Aw;(function(t){t.websocket="websocket"})(Aw||(Aw={}));var Ol;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ol||(Ol={}));class eF{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+i));l=l+i;const f=r.decode(e.slice(l,l+a));l=l+a;const h=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:f,payload:h}}}class OM{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(zt||(zt={}));const RC=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=tF(l,t,e,i),a),{}):{}},tF=(t,e,n,r)=>{const i=e.find(u=>u.name===t),a=i?.type,l=n[t];return a&&!r.includes(a)?RM(a,l):xw(l)},RM=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return aF(e,n)}switch(t){case zt.bool:return nF(e);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return rF(e);case zt.json:case zt.jsonb:return iF(e);case zt.timestamp:return sF(e);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return xw(e);default:return xw(e)}},xw=t=>t,nF=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},rF=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},iF=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},aF=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const l=t.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>RM(e,u))}return t},sF=t=>typeof t=="string"?t.replace(" ","T"):t,CM=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class sb{constructor(e,n,r={},i=Tw){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var CC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(CC||(CC={}));class Nh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nh.syncState(this.state,i,a,l),this.pendingDiffs.forEach(f=>{this.state=Nh.syncDiff(this.state,f,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Nh.syncDiff(this.state,i,a,l),u())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),l=this.transformState(n),u={},f={};return this.map(a,(h,d)=>{l[h]||(f[h]=d)}),this.map(l,(h,d)=>{const p=a[h];if(p){const v=d.map(S=>S.presence_ref),b=p.map(S=>S.presence_ref),w=d.filter(S=>b.indexOf(S.presence_ref)<0),E=p.filter(S=>v.indexOf(S.presence_ref)<0);w.length>0&&(u[h]=w),E.length>0&&(f[h]=E)}else u[h]=d}),this.syncDiff(a,{joins:u,leaves:f},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,f)=>{var h;const d=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(f),d.length>0){const p=e[u].map(b=>b.presence_ref),v=d.filter(b=>p.indexOf(b.presence_ref)<0);e[u].unshift(...v)}r(u,d,f)}),this.map(l,(u,f)=>{let h=e[u];if(!h)return;const d=f.map(p=>p.presence_ref);h=h.filter(p=>d.indexOf(p.presence_ref)<0),e[u]=h,i(u,h,f),h.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(PC||(PC={}));var kh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(kh||(kh={}));var is;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(is||(is={}));class wS{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Cn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new sb(this,Hi.join,this.params,this.timeout),this.rejoinTimer=new OM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hi.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Nh(this),this.broadcastEndpointURL=CM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Cn.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[kh.PRESENCE]&&this.bindings[kh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:d}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(is.CHANNEL_ERROR,b)),this._onClose(()=>e?.(is.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket.setAuth(),b===void 0){e?.(is.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,S=(w=E?.length)!==null&&w!==void 0?w:0,x=[];for(let C=0;C<S;C++){const O=E[C],{filter:{event:V,schema:I,table:D,filter:N}}=O,k=b&&b[C];if(k&&k.event===V&&k.schema===I&&k.table===D&&k.filter===N)x.push(Object.assign(Object.assign({},O),{id:k.id}));else{this.unsubscribe(),this.state=Cn.errored,e?.(is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(is.SUBSCRIBED);return}}).receive("error",b=>{this.state=Cn.errored,e?.(is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Cn.joined&&e===kh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,f;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Cn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new sb(this,Hi.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Cn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new sb(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Z7){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const l=e.toLocaleLowerCase(),{close:u,error:f,leave:h,join:d}=Hi;if(r&&[u,f,h,d].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var w,E,S;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(E=b.filter)===null||E===void 0?void 0:E.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(b=>b.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(b=>{var w,E,S,x,C,O;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const V=b.id,I=(w=b.filter)===null||w===void 0?void 0:w.event;return V&&((E=n.ids)===null||E===void 0?void 0:E.includes(V))&&(I==="*"||I?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const V=(C=(x=b?.filter)===null||x===void 0?void 0:x.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return V==="*"||V===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:E,table:S,commit_timestamp:x,type:C,errors:O}=w;v=Object.assign(Object.assign({},{schema:E,table:S,commit_timestamp:x,eventType:C,new:{},old:{},errors:O}),this._getPayloadRecords(w))}b.callback(v,r)})}_isClosed(){return this.state===Cn.closed}_isJoined(){return this.state===Cn.joined}_isJoining(){return this.state===Cn.joining}_isLeaving(){return this.state===Cn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&wS.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Hi.close,{},e)}_onError(e){this._on(Hi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=RC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=RC(e.columns,e.old_record)),n}}const ob=()=>{},rp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oF=[1e3,2e3,5e3,1e4],lF=1e4,uF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cF{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tw,this.transport=null,this.heartbeatIntervalMs=rp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ob,this.ref=0,this.reconnectTimer=null,this.logger=ob,this.conn=null,this.sendBuffer=[],this.serializer=new eF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>vd(async()=>{const{default:u}=await Promise.resolve().then(()=>Kc);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Aw.websocket}`,this.httpEndpoint=CM(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Y7.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Q7}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ih.connecting:return Ol.Connecting;case Ih.open:return Ol.Open;case Ih.closing:return Ol.Closing;default:return Ol.Closed}}isConnected(){return this.connectionState()===Ol.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new wS(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,l=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(J7,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},rp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:l}=n,u=l?`(${l})`:"",f=a.status||"";this.log("receive",`${f} ${r} ${i} ${u}`.trim(),a),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Hi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([uF],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:X7};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Hi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new OM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},rp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,l,u,f,h,d;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Tw,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:rp.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:ob,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(p=>oF[p-1]||lF),this.encode=(h=e?.encode)!==null&&h!==void 0?h:((p,v)=>v(JSON.stringify(p))),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class ES extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function vn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class fF extends ES{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ow extends ES{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var hF=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};const PM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vd(async()=>{const{default:r}=await Promise.resolve().then(()=>Kc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},dF=()=>hF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vd(()=>Promise.resolve().then(()=>Kc),void 0)).Response:Response}),Rw=t=>{if(Array.isArray(t))return t.map(n=>Rw(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Rw(r)}),e},mF=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var iu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};const lb=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pF=(t,e,n)=>iu(void 0,void 0,void 0,function*(){const r=yield dF();t instanceof r&&!n?.noResolveJson?t.json().then(i=>{const a=t.status||500,l=i?.statusCode||a+"";e(new fF(lb(i),a,l))}).catch(i=>{e(new Ow(lb(i),i))}):e(new Ow(lb(t),t))}),gF=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(mF(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function bd(t,e,n,r,i,a){return iu(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(n,gF(e,r,i,a)).then(f=>{if(!f.ok)throw f;return r?.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>pF(f,u,r))})})}function Jp(t,e,n,r){return iu(this,void 0,void 0,function*(){return bd(t,"GET",e,n,r)})}function ba(t,e,n,r,i){return iu(this,void 0,void 0,function*(){return bd(t,"POST",e,r,i,n)})}function Cw(t,e,n,r,i){return iu(this,void 0,void 0,function*(){return bd(t,"PUT",e,r,i,n)})}function yF(t,e,n,r){return iu(this,void 0,void 0,function*(){return bd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function DM(t,e,n,r,i){return iu(this,void 0,void 0,function*(){return bd(t,"DELETE",e,r,i,n)})}var vF=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class bF{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return vF(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vn(e))return{data:null,error:e};throw e}})}}var _F=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class wF{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new bF(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return _F(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vn(e))return{data:null,error:e};throw e}})}}var Or=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};const EF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class SF{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=PM(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return Or(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},DC),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f))):(a=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i?.headers&&(u=Object.assign(Object.assign({},u),i.headers));const h=this._removeEmptyFolders(n),d=this._getFinalPath(h),p=yield(e=="PUT"?Cw:ba)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vn(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Or(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Or(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let f;const h=Object.assign({upsert:DC.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType);const p=yield Cw(this.fetch,u.toString(),f,{headers:d});return{data:{path:a,fullPath:p.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(vn(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return Or(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield ba(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+a.url),u=l.searchParams.get("token");if(!u)throw new ES("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Or(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Or(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Or(this,void 0,void 0,function*(){try{return{data:{path:(yield ba(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Or(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ba(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Or(this,void 0,void 0,function*(){try{const i=yield ba(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vn(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),l=a?`?${a}`:"",u=this._getFinalPath(e),f=()=>Jp(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new wF(f,this.shouldThrowOnError)}info(e){return Or(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Jp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Rw(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vn(r))return{data:null,error:r};throw r}})}exists(e){return Or(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield yF(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vn(r)&&r instanceof Ow){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const u=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&i.push(f);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}remove(e){return Or(this,void 0,void 0,function*(){try{return{data:yield DM(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Or(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},EF),n),{prefix:e||""});return{data:yield ba(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vn(i))return{data:null,error:i};throw i}})}listV2(e,n){return Or(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ba(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const TF="2.75.0",AF={"X-Client-Info":`storage-js/${TF}`};var ec=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class xF{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AF),n),this.fetch=PM(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ec(this,void 0,void 0,function*(){try{return{data:yield Jp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vn(e))return{data:null,error:e};throw e}})}getBucket(e){return ec(this,void 0,void 0,function*(){try{return{data:yield Jp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vn(n))return{data:null,error:n};throw n}})}createBucket(e){return ec(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ba(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vn(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return ec(this,void 0,void 0,function*(){try{return{data:yield Cw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ec(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ec(this,void 0,void 0,function*(){try{return{data:yield DM(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vn(n))return{data:null,error:n};throw n}})}}class OF extends xF{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new SF(this.url,this.headers,e,this.fetch)}}const RF="2.75.0";let Eh="";typeof Deno<"u"?Eh="deno":typeof document<"u"?Eh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Eh="react-native":Eh="node";const CF={"X-Client-Info":`supabase-js-${Eh}/${RF}`},PF={headers:CF},DF={schema:"public"},IF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NF={};var kF=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};const MF=t=>{let e;return t?e=t:typeof fetch>"u"?e=wM:e=fetch,(...n)=>e(...n)},jF=()=>typeof Headers>"u"?EM:Headers,LF=(t,e,n)=>{const r=MF(n),i=jF();return(a,l)=>kF(void 0,void 0,void 0,function*(){var u;const f=(u=yield e())!==null&&u!==void 0?u:t;let h=new i(l?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),r(a,Object.assign(Object.assign({},l),{headers:h}))})};var UF=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};function VF(t){return t.endsWith("/")?t:t+"/"}function $F(t,e){var n,r;const{db:i,auth:a,realtime:l,global:u}=t,{db:f,auth:h,realtime:d,global:p}=e,v={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},d),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=u?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>UF(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function BF(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(VF(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const IM="2.75.0",hc=30*1e3,Pw=3,ub=Pw*hc,zF="http://localhost:9999",qF="supabase.auth.token",FF={"X-Client-Info":`gotrue-js/${IM}`},Dw="X-Supabase-Api-Version",NM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KF=600*1e3;class Xh extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ze(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class GF extends Xh{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function YF(t){return ze(t)&&t.name==="AuthApiError"}class Rl extends Xh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Uo extends Xh{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class fo extends Uo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function WF(t){return ze(t)&&t.name==="AuthSessionMissingError"}class tc extends Uo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ip extends Uo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ap extends Uo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XF(t){return ze(t)&&t.name==="AuthImplicitGrantRedirectError"}class IC extends Uo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Iw extends Uo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function cb(t){return ze(t)&&t.name==="AuthRetryableFetchError"}class NC extends Uo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Nw extends Uo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kC=` 	
\r=`.split(""),QF=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<kC.length;e+=1)t[kC[e].charCodeAt(0)]=-2;for(let e=0;e<Zp.length;e+=1)t[Zp[e].charCodeAt(0)]=e;return t})();function MC(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Zp[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Zp[r]),e.queuedBits-=6}}function kM(t,e,n){const r=QF[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function jC(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{eH(l,r,n)};for(let l=0;l<t.length;l+=1)kM(t.charCodeAt(l),i,a);return e.join("")}function JF(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ZF(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}JF(r,e)}}function eH(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function _c(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)kM(t.charCodeAt(i),n,r);return new Uint8Array(e)}function tH(t){const e=[];return ZF(t,n=>e.push(n)),new Uint8Array(e)}function Dl(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>MC(i,n,r)),MC(null,n,r),e.join("")}function nH(t){return Math.round(Date.now()/1e3)+t}function rH(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Kr=()=>typeof window<"u"&&typeof document<"u",bl={tested:!1,writable:!1},MM=()=>{if(!Kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bl.tested)return bl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),bl.tested=!0,bl.writable=!0}catch{bl.tested=!0,bl.writable=!1}return bl.writable};function iH(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const jM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vd(async()=>{const{default:r}=await Promise.resolve().then(()=>Kc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},aH=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",dc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},_l=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},oo=async(t,e)=>{await t.removeItem(e)};class iy{constructor(){this.promise=new iy.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}iy.promiseConstructor=Promise;function fb(t){const e=t.split(".");if(e.length!==3)throw new Nw("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!HF.test(e[r]))throw new Nw("JWT not in base64url format");return{header:JSON.parse(jC(e[0])),payload:JSON.parse(jC(e[1])),signature:_c(e[2]),raw:{header:e[0],payload:e[1]}}}async function sH(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function oH(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function lH(t){return("0"+t.toString(16)).substr(-2)}function uH(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,lH).join("")}async function cH(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function fH(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await cH(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nc(t,e,n=!1){const r=uH();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await dc(t,`${e}-code-verifier`,i);const a=await fH(r);return[a,r===a?"plain":"s256"]}const hH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dH(t){const e=t.headers.get(Dw);if(!e||!e.match(hH))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mH(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pH(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rc(t){if(!gH.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hb(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function LC(t){return JSON.parse(JSON.stringify(t))}var yH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const El=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vH=[502,503,504];async function UC(t){var e;if(!aH(t))throw new Iw(El(t),0);if(vH.includes(t.status))throw new Iw(El(t),t.status);let n;try{n=await t.json()}catch(a){throw new Rl(El(a),a)}let r;const i=dH(t);if(i&&i.getTime()>=NM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new NC(El(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new fo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new NC(El(n),t.status,n.weak_password.reasons);throw new GF(El(n),t.status||500,r)}const bH=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Qe(t,e,n,r){var i;const a=Object.assign({},r?.headers);a[Dw]||(a[Dw]=NM["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await _H(t,e,n+u,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function _H(t,e,n,r,i,a){const l=bH(e,r,i,a);let u;try{u=await t(n,Object.assign({},l))}catch(f){throw console.error(f),new Iw(El(f),0)}if(u.ok||await UC(u),r?.noResolveJson)return u;try{return await u.json()}catch(f){await UC(f)}}function qi(t){var e;let n=null;SH(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=nH(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function VC(t){const e=qi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wH(t){return{data:t,error:null}}function EH(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,l=yH(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function $C(t){return t}function SH(t){return t.access_token&&t.refresh_token&&t.expires_in}const db=["global","local","others"];var TH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class AH{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=jM(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=db[0]){if(db.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${db.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yo})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=TH(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:EH,redirectTo:n?.redirectTo})}catch(n){if(ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yo})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,l,u,f;try{const h={nextPage:null,lastPage:0,total:0},d=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:$C});if(d.error)throw d.error;const p=await d.json(),v=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(u=d.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);h[`${S}Page`]=E}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(ze(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){rc(e);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yo})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){rc(e);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:yo})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){rc(e);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:yo})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){rc(e.userId);try{const{data:n,error:r}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteFactor(e){rc(e.userId),rc(e.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,l,u,f;try{const h={nextPage:null,lastPage:0,total:0},d=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:$C});if(d.error)throw d.error;const p=await d.json(),v=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(u=d.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);h[`${S}Page`]=E}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(ze(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}}function BC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ic={debug:!!(globalThis&&MM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LM extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xH extends LM{}async function OH(t,e,n){ic.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ic.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ic.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ic.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ic.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xH(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ic.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function RH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function UM(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function CH(t){return parseInt(t,16)}function PH(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function DH(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:f,resources:h,scheme:d,uri:p,version:v}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=UM(t.address),w=d?`${d}://${r}`:r,E=t.statement?`${t.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${b}

${E}`;let x=`URI: ${p}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),u&&(x+=`
Not Before: ${u.toISOString()}`),f&&(x+=`
Request ID: ${f}`),h){let C=`
Resources:`;for(const O of h){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);C+=`
- ${O}`}x+=C}return`${S}
${x}`}class yn extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class eg extends yn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function IH({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new yn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new yn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new yn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new yn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new yn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new yn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new yn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new yn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if($M(l)){if(a.rp.id!==l)return new yn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new yn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new yn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new yn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function NH({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new yn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new yn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if($M(r)){if(n.rpId!==r)return new yn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new yn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new yn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var VM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class kH{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const MH=new kH;function jH(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=VM(t,["challenge","user","excludeCredentials"]),a=_c(e).buffer,l=Object.assign(Object.assign({},n),{id:_c(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const h=r[f];u.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:_c(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function LH(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=VM(t,["challenge","allowCredentials"]),i=_c(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:_c(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function UH(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Dl(new Uint8Array(t.response.attestationObject)),clientDataJSON:Dl(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function VH(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Dl(new Uint8Array(i.authenticatorData)),clientDataJSON:Dl(new Uint8Array(i.clientDataJSON)),signature:Dl(new Uint8Array(i.signature)),userHandle:i.userHandle?Dl(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $M(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function zC(){var t,e;return!!(Kr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function $H(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new eg("Browser returned unexpected credential type",e)}:{data:null,error:new eg("Empty credential response",e)}}catch(e){return{data:null,error:IH({error:e,options:t})}}}async function BH(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new eg("Browser returned unexpected credential type",e)}:{data:null,error:new eg("Empty credential response",e)}}catch(e){return{data:null,error:NH({error:e,options:t})}}}const zH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},qH={userVerification:"preferred",hints:["security-key"]};function tg(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(n(l))r[a]=l;else if(e(l)){const u=r[a];e(u)?r[a]=tg(u,l):r[a]=tg(l)}else r[a]=l}return r}function FH(t,e){return tg(zH,t,e||{})}function HH(t,e){return tg(qH,t,e||{})}class KH{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:u};const f=i??MH.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=FH(l.webauthn.credential_options.publicKey,a?.create),{data:d,error:p}=await $H({publicKey:h,signal:f});return d?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}case"request":{const h=HH(l.webauthn.credential_options.publicKey,a?.request),{data:d,error:p}=await BH(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:f}));return d?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}}}catch(l){return ze(l)?{data:null,error:l}:{data:null,error:new Rl("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new Xh("rpId is required for WebAuthn authentication")};try{if(!zC())return{data:null,error:new Rl("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return ze(l)?{data:null,error:l}:{data:null,error:new Rl("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new Xh("rpId is required for WebAuthn registration")};try{if(!zC())return{data:null,error:new Rl("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(d=>{var p;return(p=d.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:u};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return ze(l)?{data:null,error:l}:{data:null,error:new Rl("Unexpected error in register",l)}}}}RH();const GH={url:zF,storageKey:qF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qC(t,e,n){return await n()}const ac={};class Qh{get jwks(){var e,n;return(n=(e=ac[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ac[this.storageKey]=Object.assign(Object.assign({},ac[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ac[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ac[this.storageKey]=Object.assign(Object.assign({},ac[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qh.nextInstanceID,Qh.nextInstanceID+=1,this.instanceID>0&&Kr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},GH),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new AH({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=jM(i.fetch),this.lock=i.lock||qC,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Kr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=OH:this.lock=qC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KH(this)},this.persistSession?(i.storage?this.storage=i.storage:MM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=BC(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=BC(this.memoryStorage)),Kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${IM}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=iH(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Kr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),XF(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ze(n)?{error:n}:{error:new Rl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:qi}),{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:d,password:p,options:v}=e;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await nc(this.storage,this.storageKey)),a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:d,password:p,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:w},xform:qi})}else if("phone"in e){const{phone:d,password:p,options:v}=e;a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(i=v?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:qi})}else throw new ip("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:l,options:u}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:VC})}else if("phone"in e){const{phone:a,password:l,options:u}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:VC})}else throw new ip("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new tc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,l,u,f,h,d,p,v;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:E,wallet:S,statement:x,options:C}=e;let O;if(Kr())if(typeof S=="object")O=S;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")O=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=S}const V=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href),I=await O.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=UM(I[0]);let N=(r=C?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!N){const M=await O.request({method:"eth_chainId"});N=CH(M)}const k={domain:V.host,address:D,statement:x,uri:V.href,version:"1",chainId:N,nonce:(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=C?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=C?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=C?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(d=C?.signInWithEthereum)===null||d===void 0?void 0:d.resources};b=DH(k),w=await O.request({method:"personal_sign",params:[PH(b),D]})}try{const{data:E,error:S}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:qi});if(S)throw S;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new tc}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:S})}catch(E){if(ze(E))return{data:{user:null,session:null},error:E};throw E}}async signInWithSolana(e){var n,r,i,a,l,u,f,h,d,p,v,b;let w,E;if("message"in e)w=e.message,E=e.signature;else{const{chain:S,wallet:x,statement:C,options:O}=e;let V;if(Kr())if(typeof x=="object")V=x;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))V=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=x}const I=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in V&&V.signIn){const D=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),C?{statement:C}:null));let N;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")N=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)N=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)w=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),E=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${I.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(i=(r=O?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=O?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((u=O?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((h=O?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(d=O?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const D=await V.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=D}}try{const{data:S,error:x}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Dl(E)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:qi});if(x)throw x;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new tc}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:x})}catch(S){if(ze(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await _l(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:l}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:qi});if(await oo(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new tc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(ze(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:l}=e,u=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:qi}),{data:f,error:h}=u;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new tc}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,l;try{if("email"in e){const{email:u,options:f}=e;let h=null,d=null;this.flowType==="pkce"&&([h,d]=await nc(this.storage,this.storageKey));const{error:p}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:d},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:u,options:f}=e,{data:h,error:d}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(l=f?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:d}}throw new ip("You must provide either an email or phone number.")}catch(u){if(ze(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:qi});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await nc(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:wH})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new fo;const{error:i}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ze(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:l}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:l,error:u}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:u}}throw new ip("You must provide either an email or phone number and a type")}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await _l(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ub:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await _l(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=hb()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,h,d)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,d))})}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yo}):await this._useSession(async n=>{var r,i,a;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fo}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:yo})})}catch(n){if(ze(n))return WF(n)&&(await this._removeSession(),await oo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new fo;const l=i.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await nc(this.storage,this.storageKey));const{data:h,error:d}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:yo});if(d)throw d;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new fo;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:l}=fb(e.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(ze(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:u}=n;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new fo;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Kr())throw new ap("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ap(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new IC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ap("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new IC("No code detected.");const{data:C,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:u,expires_at:f,token_type:h}=e;if(!a||!u||!l||!h)throw new ap("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(u);let v=d+p;f&&(v=parseInt(f));const b=v-d;b*1e3<=hc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const w=v-p;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,d);const{data:E,error:S}=await this._getUser(a);if(S)throw S;const x={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:v,refresh_token:l,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(r){if(ze(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await _l(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(YF(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await oo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=rH(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await nc(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var l,u,f,h,d;const{data:p,error:v}=a;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",b,{headers:this.headers,jwt:(d=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Kr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(ze(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:l,provider:u,token:f,access_token:h,nonce:d}=e,p=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:f,access_token:h,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:qi}),{data:v,error:b}=p;return b?{data:{user:null,session:null},error:b}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new tc}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:b})}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)throw l;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await oH(async i=>(i>0&&await sH(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qi})),(i,a)=>{const l=200*Math.pow(2,i);return a&&cb(a)&&Date.now()+l-r<hc})}catch(r){if(this._debug(n,"error",r),ze(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Kr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await _l(this.storage,this.storageKey);if(i&&this.userStorage){let l=await _l(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await dc(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l?.user)!==null&&e!==void 0?e:hb()}else if(i&&!i.user&&!i.user){const l=await _l(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await oo(this.storage,this.storageKey+"-user"),await dc(this.storage,this.storageKey,i)):i.user=hb()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ub;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${ub}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),cb(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new fo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new iy;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new fo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),ze(a)){const l={data:null,error:a};return cb(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(f){a.push(f)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await dc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=LC(i);await dc(this.storage,this.storageKey,a)}else{const i=LC(n);await dc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await oo(this.storage,this.storageKey),await oo(this.storage,this.storageKey+"-code-verifier"),await oo(this.storage,this.storageKey+"-user"),this.userStorage&&await oo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Kr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/hc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${hc}ms, refresh threshold is ${Pw} ticks`),i<=Pw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof LM)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await nc(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:h}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&f.type==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?UH(e.webauthn.credential_response):VH(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:f}=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:jH(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:LH(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=fb(i.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const d=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+KF>i)return r;const{data:a,error:l}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:b,error:w}=await this.getSession();if(w||!b.session)return{data:null,error:w};r=b.session.access_token}const{header:i,payload:a,signature:l,raw:{header:u,payload:f}}=fb(r);n?.allowExpired||mH(a.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:l},error:null}}const d=pH(i.alg),p=await crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,l,tH(`${u}.${f}`)))throw new Nw("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}}Qh.nextInstanceID=0;const YH=Qh;class WH extends YH{constructor(e){super(e)}}var XH=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class QH{constructor(e,n,r){var i,a,l;this.supabaseUrl=e,this.supabaseKey=n;const u=BF(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:DF,realtime:NF,auth:Object.assign(Object.assign({},IF),{storageKey:f}),global:PF},d=$F(r??{},h);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=d.auth)!==null&&l!==void 0?l:{},this.headers,d.global.fetch),this.fetch=LF(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new G7(new URL("rest/v1",u).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new OF(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new L7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return XH(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:l,flowType:u,lock:f,debug:h},d,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new WH({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),d),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:u,lock:f,debug:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new cF(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const JH=(t,e,n)=>new QH(t,e,n);function ZH(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ZH()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const eK="https://odzsnrjocdmbajksnzpk.supabase.co",tK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9kenNucmpvY2RtYmFqa3NuenBrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkyNjk3NTcsImV4cCI6MjA3NDg0NTc1N30.LE8xoK5-rmAXnRJBx60-tNEIQq350sEs43PLoYWtQ8M",BM=JH(eK,tK),Sh="sBluV8DKQA0hTvJ2ABC9U3VDZunUGUSehxuDPvtNC8SQ3Q5XHvQVt0nm3X7cvP7j";function nK(t){if(!t.length)return{max:0,min:0,median:0,mean:0,q3:0};const e=[...t].sort((u,f)=>u-f),n=e.at(-1)??0,r=e[0],i=e.length%2===0?Math.round((e[e.length/2-1]+e[e.length/2])/2*10)/10:e[Math.floor(e.length/2)],a=Math.round(e.reduce((u,f)=>u+f,0)/e.length*10)/10,l=e[Math.floor(e.length*.75)];return{max:n,min:r,median:i,mean:a,q3:l}}function rK(t){const e=t.reduce((r,i)=>(r[i.team_number]||(r[i.team_number]=[]),r[i.team_number].push(i),r),{}),n={};for(const[r,i]of Object.entries(e)){const a=Number(r),l={};Object.keys(i[0]).filter(u=>{const f=i[0][u];return typeof f=="number"||f===null}).forEach(u=>{const f=i.map(h=>typeof h[u]=="number"?h[u]:0).filter(h=>!isNaN(h));l[u]=nK(f)}),n[a]=l}return n}function iK(t){console.error(t);function e(r,i){if(!r.length)return 0;const a=i/100*(r.length-1),l=Math.floor(a),u=Math.ceil(a);return l===u?r[l]:r[l]+(r[u]-r[l])*(a-l)}const n={};for(const r of _o){if(!Object.values(t).some(l=>l[r]!==void 0))continue;n[r]={min:{p10:0,p25:0,p75:0,p90:0},max:{p10:0,p25:0,p75:0,p90:0},median:{p10:0,p25:0,p75:0,p90:0},mean:{p10:0,p25:0,p75:0,p90:0},q3:{p10:0,p25:0,p75:0,p90:0}};const a=["min","max","median","mean","q3"];for(const l of a){const u=Object.values(t).map(f=>f[r]?.[l]??0).filter(f=>typeof f=="number"&&!isNaN(f)).sort((f,h)=>f-h);n[r][l]={p10:e(u,10),p25:e(u,25),p75:e(u,75),p90:e(u,90)}}}return console.log(n),n}async function aK(t){try{const e=await fetch(`https://www.thebluealliance.com/api/v3/events/${t}/keys`,{headers:{"X-TBA-Auth-Key":Sh}});return e.ok?e.json():[]}catch(e){return console.error("Failed fetching events",e),[]}}async function sK(){const{data:t,error:e}=await BM.from("Pit Scouting").select("*");return t?t.filter(n=>n.team_number>0):[]}async function oK(t){if(!t||t==="XX")return null;try{const[e,n,r,i]=await Promise.all([fetch(`https://www.thebluealliance.com/api/v3/event/${t}/rankings`,{headers:{"X-TBA-Auth-Key":Sh}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/oprs`,{headers:{"X-TBA-Auth-Key":Sh}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/matches`,{headers:{"X-TBA-Auth-Key":Sh}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/teams`,{headers:{"X-TBA-Auth-Key":Sh}})]),a=await e.json(),l=await n.json(),u=await r.json(),f=await i.json(),h={};return f.forEach(d=>{h[d.team_number]={name:d.name??`Team ${d.team_number}`,nickname:d.nickname??`Team ${d.team_number}`}}),{tbaData:{rankings:a.rankings??[],oprs:l.oprs??{},matches:u},teamInfo:h}}catch(e){return console.error("TBA fetch error",e),null}}async function lK(t){try{const e=new Date().getFullYear();return await(await fetch(`https://api.statbotics.io/v3/team_year/${String(t)}/${e}`)).json()}catch(e){return console.error("Statbotics fetch error",e),null}}async function uK(){const t=Wp(Wh,"aiOverview","overview"),e=await uM(t);if(!e.exists())return console.warn("No AI overviews found"),{};const n=e.data(),r={};return Object.entries(n).forEach(([i,a])=>{const l=Number(i);!isNaN(l)&&typeof a=="string"&&(r[l]=a)}),r}async function cK(){const t=Wp(Wh,"aiOverview","match"),e=await uM(t);if(!e.exists())return console.warn("No AI matches found"),{};const n=e.data(),r={};return Object.entries(n).forEach(([i,a])=>{const l=String(i);typeof a=="string"&&(r[l]=a)}),r}const ea=Q5((t,e)=>({forms:[],pitForms:[],teamStats:{},columnPercentiles:{},loading:!0,eventKeys:[],tbaData:null,teamInfo:{},aiOverviews:{},aiMatches:{},eventName:localStorage.getItem("eventName")||"XX",currentViewingTeam:Number(localStorage.getItem("currentViewingTeam")||3197),usePracticeData:localStorage.getItem("usePracticeData")==="true",statboticsTeams:[],teamImages:{},loadTeamImages:async()=>{try{const n=await H8(C8(Wh,"robotImages")),r={};n.forEach(i=>{const a=i.data(),l=i.id.match(/image_team(\d+)/);if(l){const u=parseInt(l[1],10);r[u]=a.url}}),t({teamImages:r})}catch(n){console.error("Error loading team images:",n)}},loadStatbotics:async()=>{t({loading:!0});const n=await lK(e().currentViewingTeam);t({statboticsTeams:n??void 0,loading:!1})},setEventName:n=>{localStorage.setItem("eventName",n),t({eventName:n})},setCurrentViewingTeam:async n=>{t({loading:!0}),localStorage.setItem("currentViewingTeam",String(n)),t({currentViewingTeam:n,loading:!1})},setUsePracticeData:n=>{localStorage.setItem("usePracticeData",String(n)),t({usePracticeData:n})},loadData:async()=>{e().forms.length>0||await e().hotRefresh()},hotRefresh:async()=>{t({loading:!0});const n=new Date().getFullYear(),[r,i,a,l,u,f]=await Promise.all([aK(n),fK(),sK(),oK(e().eventName),uK(),cK()]);console.log(i);const h=rK(i);console.log(h),l?.tbaData?.oprs&&Object.entries(l.tbaData.oprs).forEach(([p,v])=>{const b=Number(p.replace("frc",""));if(Object.keys(h).includes(String(b))){const w=Math.round(v*10)/10;h[b],h[b].opr={max:w,min:w,median:w,mean:w,q3:w}}}),Object.keys(h).forEach(p=>{const v=Number(p);h[v].opr||(h[v].opr={max:0,min:0,median:0,mean:0,q3:0})});const d=iK(h);console.warn(d),t({forms:i,pitForms:a,teamStats:h,columnPercentiles:d,aiOverviews:u,aiMatches:f,eventKeys:r,tbaData:l?.tbaData??null,teamInfo:l?.teamInfo??{},loading:!1})}})),fK=async()=>{const{data:t,error:e}=await BM.from("Live Data").select("*");return t?t.map(n=>({...n,opr:0})):[]};function au(){const t=ea(e=>e.hotRefresh);return L.jsx("button",{onClick:t,className:"fixed bottom-2 right-2 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-700 transition duration-300 z-50 cursor-pointer",title:"Reload Data",children:L.jsx(k5,{size:24})})}function Gc(){return L.jsx(yc,{to:"/settings",className:"fixed bottom-2 left-2 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-700 transition duration-300 z-50 cursor-pointer",children:L.jsx("div",{children:L.jsx($5,{})})},"settings")}const hK=["opr","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","tele_made_net"],dK=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()},mK=t=>{alert(t||"No comment")},FC="tableTeamValueType";function pK(){const{forms:t,teamStats:e,loading:n,columnPercentiles:r,loadData:i}=ea();A.useEffect(()=>{i()},[]);const[a,l]=A.useState("Team"),[u,f]=A.useState(sessionStorage.getItem(FC)??"Median"),[h,d]=A.useState(!0),[p,v]=A.useState(!0),[b,w]=A.useState(-1),[E,S]=A.useState({column:null,direction:null});A.useEffect(()=>{sessionStorage.setItem(FC,u)},[u]);const x=V=>{S(I=>I.column===V?I.direction==="desc"?{column:V,direction:"asc"}:I.direction==="asc"?{column:null,direction:null}:{column:V,direction:"desc"}:{column:V,direction:"desc"})};function C(V,I){return I.column||!I.direction?V:[...V].sort((D,N)=>{let k=D[I.column??0]??0,M=N[I.column??0]??0;return(I.column==="team_number"||I.column==="match_number")&&(k=Number(k),M=Number(M)),typeof k=="number"&&typeof M=="number"&&!isNaN(k)&&!isNaN(M)?I.direction==="asc"?k-M:M-k:I.direction==="asc"?String(k).localeCompare(String(M)):String(M).localeCompare(String(k))})}function O(V,I,D){return!I.column||!I.direction?V:[...V].sort((N,k)=>{const M=N.stats[I.column??0][D]??0,z=k.stats[I.column??0][D]??0;return typeof M=="number"&&typeof z=="number"?I.direction==="asc"?M-z:z-M:I.direction==="asc"?String(M).localeCompare(String(z)):String(z).localeCompare(String(M))})}return L.jsxs("div",{className:"min-h-screen bg-gray-50",children:[L.jsx(Jl,{}),L.jsxs("main",{className:"pt-20 px-0 md:px-6 pr-10",children:[n?L.jsx("div",{className:"text-orange-500",children:"Loading data..."}):L.jsxs("div",{className:"scrollbar-thin scrollbar-thumb-orange-500 scrollbar-track-gray-200 relative ",children:[L.jsx("button",{className:`fixed top-22 right-2 z-50 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-600 transition duration-500 cursor-pointer ${p?"opacity-0 pointer-events-none":"opacity-100"}`,onClick:()=>v(!0),children:L.jsx(U5,{size:24})}),L.jsxs("div",{className:`fixed top-18 right-0 ${p?"-translate-x-2 opacity-100":"translate-x-full opacity-0 pointer-events-none"} bg-gray-100 py-1.5 px-5 flex flex-row gap-4 items-center shadow-md w-fit rounded-lg hover:bg-gray-200 transition duration-500 z-40`,children:[L.jsx(gK,{view:a,setView:l}),a==="Team"&&L.jsx(yK,{view:u,setView:f}),L.jsx("button",{className:"ml-0 p-1 text-gray-600 hover:text-gray-800 transition cursor-pointer",onClick:()=>d(V=>!V),children:L.jsx(P5,{size:24,color:h?"darkorange":"currentColor"})}),L.jsx("button",{className:"ml-0 p-1 text-gray-600 hover:text-gray-800 transition cursor-pointer",onClick:()=>v(!1),children:L.jsx(R5,{size:24})})]}),L.jsxs("table",{className:"table-auto border-collapse border border-gray-300 w-full text-sm md:text-base mt-18 ml-0 mb-15",children:[L.jsx("thead",{className:"sticky top-15 transition-top duration-250",children:L.jsx("tr",{className:"bg-gray-200 shadow-lg ",children:(a==="Raw"?gC:_o).map(V=>L.jsxs("th",{onClick:()=>{x(V)},className:` border-t-1 border-b-1 border-gray-300 px-3 py-2 text-center whitespace-nowrap cursor-pointer select-none hover:bg-gray-300 transition duration-250 ${E.column===V?"bg-orange-400":""}`,children:[dK(V),E.column===V&&L.jsx("span",{className:"ml-1 text-xs",children:E.direction==="desc"?"▼":E.direction==="asc"?"▲":""})]},V))})}),L.jsx("tbody",{children:a==="Raw"?C(t,E).map((V,I)=>L.jsx("tr",{className:(I+1)%3===0?"bg-gray-200 hover:bg-gray-300":"hover:bg-gray-100",children:gC.map(D=>L.jsx("td",{className:"border border-gray-300 px-3 py-2",children:D==="comments"?L.jsx("button",{onClick:()=>mK(V[D]),className:"px-2 py-1 bg-orange-500 text-white rounded hover:bg-orange-600 transition",children:"View"}):typeof V[D]=="boolean"?V[D]?"Yes":"No":V[D]??""},D))},V.id)):O(Object.entries(e).map(([V,I])=>({teamNumber:V,stats:I})),E,u.toLowerCase()).map(({teamNumber:V,stats:I},D)=>{const N=I;return L.jsx("tr",{className:`${(D+1)%3===0&&b!==N.team_number[u.toLowerCase()]?"bg-gray-200 hover:bg-gray-300":"hover:bg-gray-100"} ${b==N.team_number[u.toLowerCase()]?"bg-orange-300 hover:bg-orange-400":""} transition duration-250`,onClick:()=>w(k=>k===N.team_number[u.toLowerCase()]?-1:N.team_number[u.toLowerCase()]),children:_o.map(k=>{console.error(N[k]+", "+k);const M=N[k][u.toLowerCase()],{p10:z,p25:B,p75:q,p90:$}=r[k][u.toLowerCase()]??{p10:0,p25:0,p75:1/0,p90:1/0};let ye=" rounded-md px-4 py-1 transition duration-250 ";return hK.includes(k)&&h&&(M<=z?ye=ye.concat(" bg-red-500 font-bold shadow-md "):M<=B?ye=ye.concat(" bg-red-200 shadow-md "):M>=$?ye=ye.concat(" bg-blue-300 font-bold shadow-md "):M>=q&&(ye=ye.concat(" bg-green-200 shadow-md "))),L.jsx("td",{className:`border-t-1 border-b-1 border-y-gray-500 px-3 py-2 text-center ${E.column===k?"border-x-orange-400 border-x-3":""}`,children:L.jsx("span",{className:ye,children:M})},k)})},V)})})]})]}),L.jsx(au,{}),L.jsx(Gc,{})]})]})}function gK({view:t,setView:e}){return L.jsxs("div",{className:"my-0",children:[L.jsx("label",{htmlFor:"table-type-select",className:"mr-2 font-medium text-gray-700",children:"Table Type:"}),L.jsxs("select",{id:"table-type-select",value:t,onChange:n=>e(n.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-xl hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:[L.jsx("option",{value:"Raw",children:"Raw"}),L.jsx("option",{value:"Team",children:"Team"})]})]})}function yK({view:t,setView:e}){return L.jsxs("div",{className:"my-0 ml-2",children:[L.jsx("label",{htmlFor:"team-value-select",className:"mr-2 font-medium text-gray-700",children:"Value Type:"}),L.jsxs("select",{id:"team-value-select",value:t,onChange:n=>e(n.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-xl hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:[L.jsx("option",{value:"Max",children:"Max"}),L.jsx("option",{value:"Q3",children:"Q3"}),L.jsx("option",{value:"Median",children:"Median"}),L.jsx("option",{value:"Mean",children:"Mean"}),L.jsx("option",{value:"Min",children:"Min"})]})]})}function vK(){const t=fN();return console.error(t),L.jsxs("div",{id:"error-page",children:[L.jsx("h1",{children:"That page does not exist."}),L.jsx("p",{children:"Sorry, an unexpected error has occurred."}),L.jsx("p",{children:L.jsx("i",{children:t.statusText||t.message})})]})}const bK=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()};function fs({view:t,setView:e,label:n,options:r}){return L.jsxs("div",{className:"my-0",children:[L.jsx("label",{className:"mr-2 font-medium text-gray-700",children:n}),L.jsx("select",{value:t,onChange:i=>e(i.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-lg hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:r.map(i=>L.jsxs("option",{value:String(i),children:[" ",typeof i=="string"?bK(i):String(i)," "]},String(i)))})]})}function zM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=zM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function It(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=zM(t))&&(r&&(r+=" "),r+=e);return r}var mb={},pb={},HC;function _K(){return HC||(HC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(pb)),pb}var gb={},KC;function qM(){return KC||(KC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(gb)),gb}var yb={},GC;function FM(){return GC||(GC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(yb)),yb}var vb={},YC;function SS(){return YC||(YC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,l="",u="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const h=n[a];u?h==="\\"&&a+1<i?(a++,l+=n[a]):h===u?u="":l+=h:f?h==='"'||h==="'"?u=h:h==="]"?(f=!1,r.push(l),l=""):l+=h:h==="["?(f=!0,l&&(r.push(l),l="")):h==="."?l&&(r.push(l),l=""):l+=h,a++}return l&&r.push(l),r}t.toPath=e})(vb)),vb}var WC;function TS(){return WC||(WC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_K(),n=qM(),r=FM(),i=SS();function a(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const d=u[f];return d===void 0?n.isDeepKey(f)?a(u,i.toPath(f),h):h:d}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const d=u[f];return d===void 0?h:d}default:{if(Array.isArray(f))return l(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const d=u[f];return d===void 0?h:d}}}function l(u,f,h){if(f.length===0)return h;let d=u;for(let p=0;p<f.length;p++){if(d==null||e.isUnsafeProperty(f[p]))return h;d=d[f[p]]}return d===void 0?h:d}t.get=a})(mb)),mb}var bb,XC;function wK(){return XC||(XC=1,bb=TS().get),bb}var EK=wK();const Hl=Zi(EK);var _b={exports:{}},Lt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function SK(){if(QC)return Lt;QC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case i:case r:case f:case h:case v:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case p:case d:return E;case a:return E;default:return S}}case e:return S}}}return Lt.ContextConsumer=a,Lt.ContextProvider=l,Lt.Element=t,Lt.ForwardRef=u,Lt.Fragment=n,Lt.Lazy=p,Lt.Memo=d,Lt.Portal=e,Lt.Profiler=i,Lt.StrictMode=r,Lt.Suspense=f,Lt.SuspenseList=h,Lt.isContextConsumer=function(E){return w(E)===a},Lt.isContextProvider=function(E){return w(E)===l},Lt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Lt.isForwardRef=function(E){return w(E)===u},Lt.isFragment=function(E){return w(E)===n},Lt.isLazy=function(E){return w(E)===p},Lt.isMemo=function(E){return w(E)===d},Lt.isPortal=function(E){return w(E)===e},Lt.isProfiler=function(E){return w(E)===i},Lt.isStrictMode=function(E){return w(E)===r},Lt.isSuspense=function(E){return w(E)===f},Lt.isSuspenseList=function(E){return w(E)===h},Lt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===p||E.$$typeof===d||E.$$typeof===l||E.$$typeof===a||E.$$typeof===u||E.$$typeof===b||E.getModuleId!==void 0)},Lt.typeOf=w,Lt}var JC;function TK(){return JC||(JC=1,_b.exports=SK()),_b.exports}var AK=TK(),Dr=t=>t===0?0:t>0?1:-1,ei=t=>typeof t=="number"&&t!=+t,Il=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Oe=t=>(typeof t=="number"||t instanceof Number)&&!ei(t),Da=t=>Oe(t)||typeof t=="string",xK=0,Jh=t=>{var e=++xK;return"".concat(t||"").concat(e)},Qi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(e)&&typeof e!="string")return r;var a;if(Il(e)){if(n==null)return r;var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return ei(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},HM=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Ki(t,e,n){return Oe(t)&&Oe(e)?t+n*(e-t):e}function KM(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Hl(r,e))===n)}var Gt=t=>t===null||typeof t>"u",_d=t=>Gt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),OK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function AS(t){if(typeof t!="string")return!1;var e=OK;return e.includes(t)}var RK=["viewBox","children"],ZC=["points","pathLength"],wb={svg:RK,polygon:ZC,polyline:ZC},xS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{AS(i)&&(r[i]=(a=>n[i](n,a)))}),r},CK=(t,e,n)=>r=>(t(e,n,r),null),ay=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];AS(i)&&typeof a=="function"&&(r||(r={}),r[i]=CK(a,e,n))}),r},PK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function GM(t){if(typeof t!="string")return!1;var e=PK;return e.includes(t)}function su(t){var e=Object.entries(t).filter(n=>{var[r]=n;return GM(r)});return Object.fromEntries(e)}var eP=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",tP=null,Eb=null,YM=t=>{if(t===tP&&Array.isArray(Eb))return Eb;var e=[];return A.Children.forEach(t,n=>{Gt(n)||(AK.isFragment(n)?e=e.concat(YM(n.props.children)):e.push(n))}),Eb=e,tP=t,e};function OS(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>eP(i)):r=[eP(e)],YM(t).forEach(i=>{var a=Hl(i,"type.displayName")||Hl(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var WM=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,DK=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&wb?.[r])!==null&&i!==void 0?i:[],l=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&a.includes(e)||GM(e)),f=!!n&&AS(e);return l||u||f},sn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(A.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var l;DK((l=r)===null||l===void 0?void 0:l[a],a,e,n)&&(i[a]=r[a])}),i},IK=["children","width","height","viewBox","className","style","title","desc"];function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(null,arguments)}function NK(t,e){if(t==null)return{};var n,r,i=kK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var RS=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:f,desc:h}=t,d=NK(t,IK),p=a||{width:r,height:i,x:0,y:0},v=It("recharts-surface",l);return A.createElement("svg",kw({},sn(d,!0,"svg"),{className:v,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),A.createElement("title",null,f),A.createElement("desc",null,h),n)}),MK=["children","className"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(null,arguments)}function jK(t,e){if(t==null)return{};var n,r,i=LK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ji=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=jK(t,MK),a=It("recharts-layer",r);return A.createElement("g",Mw({className:a},sn(i,!0),{ref:e}),n)}),XM=A.createContext(null),UK=()=>A.useContext(XM);function qt(t){return function(){return t}}const QM=Math.cos,ng=Math.sin,ta=Math.sqrt,rg=Math.PI,sy=2*rg,jw=Math.PI,Lw=2*jw,Sl=1e-6,VK=Lw-Sl;function JM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function $K(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return JM;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class BK{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?JM:$K(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,f=r-e,h=i-n,d=l-e,p=u-n,v=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Sl)if(!(Math.abs(p*f-h*d)>Sl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-l,w=i-u,E=f*f+h*h,S=b*b+w*w,x=Math.sqrt(E),C=Math.sqrt(v),O=a*Math.tan((jw-Math.acos((E+v-S)/(2*x*C)))/2),V=O/C,I=O/x;Math.abs(V-1)>Sl&&this._append`L${e+V*d},${n+V*p}`,this._append`A${a},${a},0,0,${+(p*b>d*w)},${this._x1=e+I*f},${this._y1=n+I*h}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=e+u,d=n+f,p=1^l,v=l?i-a:a-i;this._x1===null?this._append`M${h},${d}`:(Math.abs(this._x1-h)>Sl||Math.abs(this._y1-d)>Sl)&&this._append`L${h},${d}`,r&&(v<0&&(v=v%Lw+Lw),v>VK?this._append`A${r},${r},0,1,${p},${e-u},${n-f}A${r},${r},0,1,${p},${this._x1=h},${this._y1=d}`:v>Sl&&this._append`A${r},${r},0,${+(v>=jw)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function CS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new BK(e)}function PS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ZM(t){this._context=t}ZM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function oy(t){return new ZM(t)}function ej(t){return t[0]}function tj(t){return t[1]}function nj(t,e){var n=qt(!0),r=null,i=oy,a=null,l=CS(u);t=typeof t=="function"?t:t===void 0?ej:qt(t),e=typeof e=="function"?e:e===void 0?tj:qt(e);function u(f){var h,d=(f=PS(f)).length,p,v=!1,b;for(r==null&&(a=i(b=l())),h=0;h<=d;++h)!(h<d&&n(p=f[h],h,f))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,h,f),+e(p,h,f));if(b)return a=null,b+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:qt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function sp(t,e,n){var r=null,i=qt(!0),a=null,l=oy,u=null,f=CS(h);t=typeof t=="function"?t:t===void 0?ej:qt(+t),e=typeof e=="function"?e:qt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?tj:qt(+n);function h(p){var v,b,w,E=(p=PS(p)).length,S,x=!1,C,O=new Array(E),V=new Array(E);for(a==null&&(u=l(C=f())),v=0;v<=E;++v){if(!(v<E&&i(S=p[v],v,p))===x)if(x=!x)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=v-1;w>=b;--w)u.point(O[w],V[w]);u.lineEnd(),u.areaEnd()}x&&(O[v]=+t(S,v,p),V[v]=+e(S,v,p),u.point(r?+r(S,v,p):O[v],n?+n(S,v,p):V[v]))}if(C)return u=null,C+""||null}function d(){return nj().defined(i).curve(l).context(a)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:qt(+p),r=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:qt(+p),h):t},h.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:qt(+p),h):r},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:qt(+p),n=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:qt(+p),h):e},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:qt(+p),h):n},h.lineX0=h.lineY0=function(){return d().x(t).y(e)},h.lineY1=function(){return d().x(t).y(n)},h.lineX1=function(){return d().x(r).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:qt(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,a!=null&&(u=l(a)),h):l},h.context=function(p){return arguments.length?(p==null?a=u=null:u=l(a=p),h):a},h}class rj{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function zK(t){return new rj(t,!0)}function qK(t){return new rj(t,!1)}const DS={draw(t,e){const n=ta(e/rg);t.moveTo(n,0),t.arc(0,0,n,0,sy)}},FK={draw(t,e){const n=ta(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ij=ta(1/3),HK=ij*2,KK={draw(t,e){const n=ta(e/HK),r=n*ij;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},GK={draw(t,e){const n=ta(e),r=-n/2;t.rect(r,r,n,n)}},YK=.8908130915292852,aj=ng(rg/10)/ng(7*rg/10),WK=ng(sy/10)*aj,XK=-QM(sy/10)*aj,QK={draw(t,e){const n=ta(e*YK),r=WK*n,i=XK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=sy*a/5,u=QM(l),f=ng(l);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Sb=ta(3),JK={draw(t,e){const n=-ta(e/(Sb*3));t.moveTo(0,n*2),t.lineTo(-Sb*n,-n),t.lineTo(Sb*n,-n),t.closePath()}},wi=-.5,Ei=ta(3)/2,Uw=1/ta(12),ZK=(Uw/2+1)*3,eG={draw(t,e){const n=ta(e/ZK),r=n/2,i=n*Uw,a=r,l=n*Uw+n,u=-a,f=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(u,f),t.lineTo(wi*r-Ei*i,Ei*r+wi*i),t.lineTo(wi*a-Ei*l,Ei*a+wi*l),t.lineTo(wi*u-Ei*f,Ei*u+wi*f),t.lineTo(wi*r+Ei*i,wi*i-Ei*r),t.lineTo(wi*a+Ei*l,wi*l-Ei*a),t.lineTo(wi*u+Ei*f,wi*f-Ei*u),t.closePath()}};function tG(t,e){let n=null,r=CS(i);t=typeof t=="function"?t:qt(t||DS),e=typeof e=="function"?e:qt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:qt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:qt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function ig(){}function ag(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function sj(t){this._context=t}sj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ag(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ag(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nG(t){return new sj(t)}function oj(t){this._context=t}oj.prototype={areaStart:ig,areaEnd:ig,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ag(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rG(t){return new oj(t)}function lj(t){this._context=t}lj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ag(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iG(t){return new lj(t)}function uj(t){this._context=t}uj.prototype={areaStart:ig,areaEnd:ig,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function aG(t){return new uj(t)}function nP(t){return t<0?-1:1}function rP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(nP(a)+nP(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function iP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Tb(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,l-u*n,a,l)}function sg(t){this._context=t}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tb(this,this._t0,iP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tb(this,iP(this,n=rP(this,t,e)),n);break;default:Tb(this,this._t0,n=rP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function cj(t){this._context=new fj(t)}(cj.prototype=Object.create(sg.prototype)).point=function(t,e){sg.prototype.point.call(this,e,t)};function fj(t){this._context=t}fj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function sG(t){return new sg(t)}function oG(t){return new cj(t)}function hj(t){this._context=t}hj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=aP(t),i=aP(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aP(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function lG(t){return new hj(t)}function ly(t,e){this._context=t,this._t=e}ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function uG(t){return new ly(t,.5)}function cG(t){return new ly(t,0)}function fG(t){return new ly(t,1)}function Nc(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,u=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Vw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function hG(t,e){return t[e]}function dG(t){const e=[];return e.key=t,e}function mG(){var t=qt([]),e=Vw,n=Nc,r=hG;function i(a){var l=Array.from(t.apply(this,arguments),dG),u,f=l.length,h=-1,d;for(const p of a)for(u=0,++h;u<f;++u)(l[u][h]=[0,+r(p,l[u].key,h,a)]).data=p;for(u=0,d=PS(e(l));u<f;++u)l[d[u]].index=u;return n(l,d),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:qt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:qt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Vw:typeof a=="function"?a:qt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Nc,i):n},i}function pG(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Nc(t,e)}}function gG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Nc(t,e)}}function yG(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,f=0,h=0;u<l;++u){for(var d=t[e[u]],p=d[r][1]||0,v=d[r-1][1]||0,b=(p-v)/2,w=0;w<u;++w){var E=t[e[w]],S=E[r][1]||0,x=E[r-1][1]||0;b+=S-x}f+=p,h+=b*p}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,Nc(t,e)}}var vG=["type","size","sizeType"];function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(null,arguments)}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){bG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bG(t,e,n){return(e=_G(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _G(t){var e=wG(t,"string");return typeof e=="symbol"?e:e+""}function wG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EG(t,e){if(t==null)return{};var n,r,i=SG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dj={symbolCircle:DS,symbolCross:FK,symbolDiamond:KK,symbolSquare:GK,symbolStar:QK,symbolTriangle:JK,symbolWye:eG},TG=Math.PI/180,AG=t=>{var e="symbol".concat(_d(t));return dj[e]||DS},xG=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*TG;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},OG=(t,e)=>{dj["symbol".concat(_d(t))]=e},IS=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=EG(t,vG),a=oP(oP({},i),{},{type:e,size:n,sizeType:r}),l=()=>{var p=AG(e),v=tG().type(p).size(xG(n,r,e));return v()},{className:u,cx:f,cy:h}=a,d=sn(a,!0);return f===+f&&h===+h&&n===+n?A.createElement("path",$w({},d,{className:It("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:l()})):null};IS.registerSymbol=OG;function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(null,arguments)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){NS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NS(t,e,n){return(e=CG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CG(t){var e=PG(t,"string");return typeof e=="symbol"?e:e+""}function PG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Si=32;class kS extends A.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Si/2,a=Si/6,l=Si/3,u=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline")return A.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Si,y2:i,className:"recharts-legend-icon"});if(f==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Si,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return A.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Si/8,"h").concat(Si,"v").concat(Si*3/4,"h").concat(-Si,"z"),className:"recharts-legend-icon"});if(A.isValidElement(e.legendIcon)){var h=RG({},e);return delete h.legendIcon,A.cloneElement(e.legendIcon,h)}return A.createElement(IS,{fill:u,cx:i,cy:i,size:Si,sizeType:"diameter",type:f})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=this.props,u={x:0,y:0,width:Si,height:Si},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,p)=>{var v=d.formatter||i,b=It({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var w=d.inactive?a:d.color,E=v?v(d.value,d,p):d.value;return A.createElement("li",Bw({className:b,style:f,key:"legend-item-".concat(p)},ay(this.props,d,p)),A.createElement(RS,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(E," legend icon")},this.renderIcon(d,l)),A.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},E))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}NS(kS,"displayName","Legend");NS(kS,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Ab={},xb={},uP;function DG(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(xb)),xb}var Ob={},cP;function mj(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Ob)),Ob}var Rb={},Cb={},Pb={},fP;function IG(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Pb)),Pb}var hP;function MS(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IG();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Cb)),Cb}var Db={},dP;function NG(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Db)),Db}var mP;function kG(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MS(),n=NG();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Rb)),Rb}var Ib={},Nb={},pP;function MG(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TS();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Nb)),Nb}var kb={},Mb={},jb={},Lb={},gP;function pj(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Lb)),Lb}var Ub={},yP;function gj(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Ub)),Ub}var Vb={},vP;function jS(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Vb)),Vb}var bP;function jG(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LS(),n=pj(),r=gj(),i=jS();function a(p,v,b){return typeof b!="function"?e.isMatch(p,v):l(p,v,function w(E,S,x,C,O,V){const I=b(E,S,x,C,O,V);return I!==void 0?!!I:l(E,S,w,V)},new Map)}function l(p,v,b,w){if(v===p)return!0;switch(typeof v){case"object":return u(p,v,b,w);case"function":return Object.keys(v).length>0?l(p,{...v},b,w):i.eq(p,v);default:return n.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function u(p,v,b,w){if(v==null)return!0;if(Array.isArray(v))return h(p,v,b,w);if(v instanceof Map)return f(p,v,b,w);if(v instanceof Set)return d(p,v,b,w);const E=Object.keys(v);if(p==null)return E.length===0;if(E.length===0)return!0;if(w&&w.has(v))return w.get(v)===p;w&&w.set(v,p);try{for(let S=0;S<E.length;S++){const x=E[S];if(!r.isPrimitive(p)&&!(x in p)||v[x]===void 0&&p[x]!==void 0||v[x]===null&&p[x]!==null||!b(p[x],v[x],x,p,v,w))return!1}return!0}finally{w&&w.delete(v)}}function f(p,v,b,w){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,S]of v.entries()){const x=p.get(E);if(b(x,S,E,p,v,w)===!1)return!1}return!0}function h(p,v,b,w){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let S=0;S<v.length;S++){const x=v[S];let C=!1;for(let O=0;O<p.length;O++){if(E.has(O))continue;const V=p[O];let I=!1;if(b(V,x,S,p,v,w)&&(I=!0),I){E.add(O),C=!0;break}}if(!C)return!1}return!0}function d(p,v,b,w){return v.size===0?!0:p instanceof Set?h([...p],[...v],b,w):!1}t.isMatchWith=a,t.isSetMatch=d})(jb)),jb}var _P;function LS(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jG();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Mb)),Mb}var $b={},Bb={},zb={},wP;function yj(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(zb)),zb}var qb={},EP;function US(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(qb)),qb}var Fb={},SP;function VS(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",d="[object Array]",p="[object Function]",v="[object ArrayBuffer]",b="[object Object]",w="[object Error]",E="[object DataView]",S="[object Uint8Array]",x="[object Uint8ClampedArray]",C="[object Uint16Array]",O="[object Uint32Array]",V="[object BigUint64Array]",I="[object Int8Array]",D="[object Int16Array]",N="[object Int32Array]",k="[object BigInt64Array]",M="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=d,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=V,t.booleanTag=i,t.dataViewTag=E,t.dateTag=u,t.errorTag=w,t.float32ArrayTag=M,t.float64ArrayTag=z,t.functionTag=p,t.int16ArrayTag=D,t.int32ArrayTag=N,t.int8ArrayTag=I,t.mapTag=f,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=C,t.uint32ArrayTag=O,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=x})(Fb)),Fb}var Hb={},TP;function LG(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Hb)),Hb}var AP;function vj(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yj(),n=US(),r=VS(),i=gj(),a=LG();function l(d,p){return u(d,void 0,d,new Map,p)}function u(d,p,v,b=new Map,w=void 0){const E=w?.(d,p,v,b);if(E!==void 0)return E;if(i.isPrimitive(d))return d;if(b.has(d))return b.get(d);if(Array.isArray(d)){const S=new Array(d.length);b.set(d,S);for(let x=0;x<d.length;x++)S[x]=u(d[x],x,v,b,w);return Object.hasOwn(d,"index")&&(S.index=d.index),Object.hasOwn(d,"input")&&(S.input=d.input),S}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const S=new RegExp(d.source,d.flags);return S.lastIndex=d.lastIndex,S}if(d instanceof Map){const S=new Map;b.set(d,S);for(const[x,C]of d)S.set(x,u(C,x,v,b,w));return S}if(d instanceof Set){const S=new Set;b.set(d,S);for(const x of d)S.add(u(x,void 0,v,b,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const S=new(Object.getPrototypeOf(d)).constructor(d.length);b.set(d,S);for(let x=0;x<d.length;x++)S[x]=u(d[x],x,v,b,w);return S}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const S=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return b.set(d,S),f(S,d,v,b,w),S}if(typeof File<"u"&&d instanceof File){const S=new File([d],d.name,{type:d.type});return b.set(d,S),f(S,d,v,b,w),S}if(d instanceof Blob){const S=new Blob([d],{type:d.type});return b.set(d,S),f(S,d,v,b,w),S}if(d instanceof Error){const S=new d.constructor;return b.set(d,S),S.message=d.message,S.name=d.name,S.stack=d.stack,S.cause=d.cause,f(S,d,v,b,w),S}if(typeof d=="object"&&h(d)){const S=Object.create(Object.getPrototypeOf(d));return b.set(d,S),f(S,d,v,b,w),S}return d}function f(d,p,v=d,b,w){const E=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<E.length;S++){const x=E[S],C=Object.getOwnPropertyDescriptor(d,x);(C==null||C.writable)&&(d[x]=u(p[x],x,v,b,w))}}function h(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=f})(Bb)),Bb}var xP;function UG(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vj();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})($b)),$b}var OP;function VG(){return OP||(OP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LS(),n=UG();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(kb)),kb}var Kb={},Gb={},Yb={},RP;function $G(){return RP||(RP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vj(),n=VS();function r(i,a){return e.cloneDeepWith(i,(l,u,f,h)=>{const d=a?.(l,u,f,h);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(Yb)),Yb}var CP;function BG(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$G();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Gb)),Gb}var Wb={},Xb={},PP;function bj(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Xb)),Xb}var Qb={},DP;function zG(){return DP||(DP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=US();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Qb)),Qb}var IP;function qG(){return IP||(IP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qM(),n=bj(),r=zG(),i=SS();function a(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let h=l;for(let d=0;d<f.length;d++){const p=f[d];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}t.has=a})(Wb)),Wb}var NP;function FG(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LS(),n=FM(),r=BG(),i=TS(),a=qG();function l(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(h){const d=i.get(h,u);return d===void 0?a.has(h,u):f===void 0?d===void 0:e.isMatch(d,f)}}t.matchesProperty=l})(Kb)),Kb}var kP;function HG(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mj(),n=MG(),r=VG(),i=FG();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=a})(Ib)),Ib}var MP;function KG(){return MP||(MP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DG(),n=mj(),r=kG(),i=HG();function a(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=a})(Ab)),Ab}var Jb,jP;function GG(){return jP||(jP=1,Jb=KG().uniqBy),Jb}var YG=GG();const LP=Zi(YG);function _j(t,e,n){return e===!0?LP(t,n):typeof e=="function"?LP(t,e):t}var Zb={exports:{}},e_={},t_={exports:{}},n_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UP;function WG(){if(UP)return n_;UP=1;var t=Bc();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function u(p,v){var b=v(),w=r({inst:{value:b,getSnapshot:v}}),E=w[0].inst,S=w[1];return a(function(){E.value=b,E.getSnapshot=v,f(E)&&S({inst:E})},[p,b,v]),i(function(){return f(E)&&S({inst:E}),p(function(){f(E)&&S({inst:E})})},[p]),l(b),b}function f(p){var v=p.getSnapshot;p=p.value;try{var b=v();return!n(p,b)}catch{return!0}}function h(p,v){return v()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return n_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,n_}var VP;function XG(){return VP||(VP=1,t_.exports=WG()),t_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $P;function QG(){if($P)return e_;$P=1;var t=Bc(),e=XG();function n(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return e_.useSyncExternalStoreWithSelector=function(h,d,p,v,b){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=u(function(){function x(D){if(!C){if(C=!0,O=D,D=v(D),b!==void 0&&E.hasValue){var N=E.value;if(b(N,D))return V=N}return V=D}if(N=V,r(O,D))return N;var k=v(D);return b!==void 0&&b(N,k)?(O=D,N):(O=D,V=k)}var C=!1,O,V,I=p===void 0?null:p;return[function(){return x(d())},I===null?void 0:function(){return x(I())}]},[d,p,v,b]);var S=i(h,w[0],w[1]);return l(function(){E.hasValue=!0,E.value=S},[S]),f(S),S},e_}var BP;function JG(){return BP||(BP=1,Zb.exports=QG()),Zb.exports}var ZG=JG(),$S=A.createContext(null),eY=t=>t,En=()=>{var t=A.useContext($S);return t?t.store.dispatch:eY},Dp=()=>{},tY=()=>Dp,nY=(t,e)=>t===e;function Le(t){var e=A.useContext($S);return ZG.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:tY,e?e.store.getState:Dp,e?e.store.getState:Dp,e?t:Dp,nY)}function rY(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function iY(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function aY(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var zP=t=>Array.isArray(t)?t:[t];function sY(t){const e=Array.isArray(t[0])?t[0]:t;return aY(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function oY(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var lY=class{constructor(t){this.value=t}deref(){return this.value}},uY=typeof WeakRef<"u"?WeakRef:lY,cY=0,qP=1;function op(){return{s:cY,v:void 0,o:null,p:null}}function wj(t,e={}){let n=op();const{resultEqualityCheck:r}=e;let i,a=0;function l(){let u=n;const{length:f}=arguments;for(let p=0,v=f;p<v;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const E=w.get(b);E===void 0?(u=op(),w.set(b,u)):u=E}else{let w=u.p;w===null&&(u.p=w=new Map);const E=w.get(b);E===void 0?(u=op(),w.set(b,u)):u=E}}const h=u;let d;if(u.s===qP)d=u.v;else if(d=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new uY(d):d}return h.s=qP,h.v=d,d}return l.clearCache=()=>{n=op(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function fY(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,l=0,u,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),rY(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const d={...n,...f},{memoize:p,memoizeOptions:v=[],argsMemoize:b=wj,argsMemoizeOptions:w=[]}=d,E=zP(v),S=zP(w),x=sY(i),C=p(function(){return a++,h.apply(null,arguments)},...E),O=b(function(){l++;const I=oY(x,arguments);return u=C.apply(null,I),u},...S);return Object.assign(O,{resultFunc:h,memoizedResultFunc:C,dependencies:x,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ie=fY(wj),hY=Object.assign((t,e=ie)=>{iY(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>hY}),r_={},i_={},a_={},FP;function dY(){return FP||(FP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};t.compareValues=n})(a_)),a_}var s_={},o_={},HP;function Ej(){return HP||(HP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(o_)),o_}var KP;function mY(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ej(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(s_)),s_}var GP;function pY(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dY(),n=mY(),r=SS();function i(a,l,u,f){if(a==null)return[];u=f?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const h=(b,w)=>{let E=b;for(let S=0;S<w.length&&E!=null;++S)E=E[w[S]];return E},d=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:h(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?h(w,b):typeof w=="object"?w[b]:w,p=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(w=>d(w,b))})).slice().sort((b,w)=>{for(let E=0;E<p.length;E++){const S=e.compareValues(b.criteria[E],w.criteria[E],u[E]);if(S!==0)return S}return 0}).map(b=>b.original)}t.orderBy=i})(i_)),i_}var l_={},YP;function gY(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),l=(u,f)=>{for(let h=0;h<u.length;h++){const d=u[h];Array.isArray(d)&&f<a?l(d,f+1):i.push(d)}};return l(n,0),i}t.flatten=e})(l_)),l_}var u_={},WP;function Sj(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bj(),n=MS(),r=pj(),i=jS();function a(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}t.isIterateeCall=a})(u_)),u_}var XP;function yY(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pY(),n=gY(),r=Sj();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,n.flatten(l),["asc"])}t.sortBy=i})(r_)),r_}var c_,QP;function vY(){return QP||(QP=1,c_=yY().sortBy),c_}var bY=vY();const uy=Zi(bY);var Tj=t=>t.legend.settings,_Y=t=>t.legend.size,wY=t=>t.legend.payload,EY=ie([wY,Tj],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?uy(r,n):r});function SY(){return Le(EY)}var lp=1;function Aj(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>lp||Math.abs(l.left-e.left)>lp||Math.abs(l.top-e.top)>lp||Math.abs(l.width-e.width)>lp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function er(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var TY=typeof Symbol=="function"&&Symbol.observable||"@@observable",JP=TY,f_=()=>Math.random().toString(36).substring(7).split("").join("."),AY={INIT:`@@redux/INIT${f_()}`,REPLACE:`@@redux/REPLACE${f_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${f_()}`},og=AY;function BS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function xj(t,e,n){if(typeof t!="function")throw new Error(er(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(er(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(er(1));return n(xj)(t,e)}let r=t,i=e,a=new Map,l=a,u=0,f=!1;function h(){l===a&&(l=new Map,a.forEach((S,x)=>{l.set(x,S)}))}function d(){if(f)throw new Error(er(3));return i}function p(S){if(typeof S!="function")throw new Error(er(4));if(f)throw new Error(er(5));let x=!0;h();const C=u++;return l.set(C,S),function(){if(x){if(f)throw new Error(er(6));x=!1,h(),l.delete(C),a=null}}}function v(S){if(!BS(S))throw new Error(er(7));if(typeof S.type>"u")throw new Error(er(8));if(typeof S.type!="string")throw new Error(er(17));if(f)throw new Error(er(9));try{f=!0,i=r(i,S)}finally{f=!1}return(a=l).forEach(C=>{C()}),S}function b(S){if(typeof S!="function")throw new Error(er(10));r=S,v({type:og.REPLACE})}function w(){const S=p;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(er(11));function C(){const V=x;V.next&&V.next(d())}return C(),{unsubscribe:S(C)}},[JP](){return this}}}return v({type:og.INIT}),{dispatch:v,subscribe:p,getState:d,replaceReducer:b,[JP]:w}}function xY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:og.INIT})>"u")throw new Error(er(12));if(typeof n(void 0,{type:og.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(er(13))})}function Oj(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{xY(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let f=!1;const h={};for(let d=0;d<r.length;d++){const p=r[d],v=n[p],b=l[p],w=v(b,u);if(typeof w>"u")throw u&&u.type,new Error(er(14));h[p]=w,f=f||w!==b}return f=f||r.length!==Object.keys(l).length,f?h:l}}function lg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function OY(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(er(15))};const l={getState:i.getState,dispatch:(f,...h)=>a(f,...h)},u=t.map(f=>f(l));return a=lg(...u)(i.dispatch),{...i,dispatch:a}}}function Rj(t){return BS(t)&&"type"in t&&typeof t.type=="string"}var Cj=Symbol.for("immer-nothing"),ZP=Symbol.for("immer-draftable"),ti=Symbol.for("immer-state");function Yi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var kc=Object.getPrototypeOf;function Kl(t){return!!t&&!!t[ti]}function ys(t){return t?Pj(t)||Array.isArray(t)||!!t[ZP]||!!t.constructor?.[ZP]||fy(t)||hy(t):!1}var RY=Object.prototype.constructor.toString();function Pj(t){if(!t||typeof t!="object")return!1;const e=kc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===RY}function ug(t,e){cy(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function cy(t){const e=t[ti];return e?e.type_:Array.isArray(t)?1:fy(t)?2:hy(t)?3:0}function zw(t,e){return cy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Dj(t,e,n){const r=cy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function CY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function fy(t){return t instanceof Map}function hy(t){return t instanceof Set}function Tl(t){return t.copy_||t.base_}function qw(t,e){if(fy(t))return new Map(t);if(hy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Pj(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ti];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(kc(t),r)}else{const r=kc(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function zS(t,e=!1){return dy(t)||Kl(t)||!ys(t)||(cy(t)>1&&(t.set=t.add=t.clear=t.delete=PY),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>zS(r,!0))),t}function PY(){Yi(2)}function dy(t){return Object.isFrozen(t)}var DY={};function Gl(t){const e=DY[t];return e||Yi(0,t),e}var Zh;function Ij(){return Zh}function IY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function e2(t,e){e&&(Gl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Fw(t){Hw(t),t.drafts_.forEach(NY),t.drafts_=null}function Hw(t){t===Zh&&(Zh=t.parent_)}function t2(t){return Zh=IY(Zh,t)}function NY(t){const e=t[ti];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function n2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ti].modified_&&(Fw(e),Yi(4)),ys(t)&&(t=cg(e,t),e.parent_||fg(e,t)),e.patches_&&Gl("Patches").generateReplacementPatches_(n[ti].base_,t,e.patches_,e.inversePatches_)):t=cg(e,n,[]),Fw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Cj?t:void 0}function cg(t,e,n){if(dy(e))return e;const r=e[ti];if(!r)return ug(e,(i,a)=>r2(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return fg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,l=!1;r.type_===3&&(a=new Set(i),i.clear(),l=!0),ug(a,(u,f)=>r2(t,r,i,u,f,n,l)),fg(t,i,!1),n&&t.patches_&&Gl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function r2(t,e,n,r,i,a,l){if(Kl(i)){const u=a&&e&&e.type_!==3&&!zw(e.assigned_,r)?a.concat(r):void 0,f=cg(t,i,u);if(Dj(n,r,f),Kl(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(ys(i)&&!dy(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;cg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&fg(t,i)}}function fg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&zS(e,n)}function kY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Ij(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=qS;n&&(i=[r],a=ed);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var qS={get(t,e){if(e===ti)return t;const n=Tl(t);if(!zw(n,e))return MY(t,n,e);const r=n[e];return t.finalized_||!ys(r)?r:r===h_(t.base_,e)?(d_(t),t.copy_[e]=Gw(r,t)):r},has(t,e){return e in Tl(t)},ownKeys(t){return Reflect.ownKeys(Tl(t))},set(t,e,n){const r=Nj(Tl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=h_(Tl(t),e),a=i?.[ti];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(CY(n,i)&&(n!==void 0||zw(t.base_,e)))return!0;d_(t),Kw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return h_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,d_(t),Kw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Tl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Yi(11)},getPrototypeOf(t){return kc(t.base_)},setPrototypeOf(){Yi(12)}},ed={};ug(qS,(t,e)=>{ed[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ed.deleteProperty=function(t,e){return ed.set.call(this,t,e,void 0)};ed.set=function(t,e,n){return qS.set.call(this,t[0],e,n,t[0])};function h_(t,e){const n=t[ti];return(n?Tl(n):t)[e]}function MY(t,e,n){const r=Nj(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function Nj(t,e){if(!(e in t))return;let n=kc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=kc(n)}}function Kw(t){t.modified_||(t.modified_=!0,t.parent_&&Kw(t.parent_))}function d_(t){t.copy_||(t.copy_=qw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var jY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const l=this;return function(f=a,...h){return l.produce(f,d=>n.call(this,d,...h))}}typeof n!="function"&&Yi(6),r!==void 0&&typeof r!="function"&&Yi(7);let i;if(ys(e)){const a=t2(this),l=Gw(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Fw(a):Hw(a)}return e2(a,r),n2(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Cj&&(i=void 0),this.autoFreeze_&&zS(i,!0),r){const a=[],l=[];Gl("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else Yi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,f=>e(f,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ys(t)||Yi(8),Kl(t)&&(t=hs(t));const e=t2(this),n=Gw(t,void 0);return n[ti].isManual_=!0,Hw(e),n}finishDraft(t,e){const n=t&&t[ti];(!n||!n.isManual_)&&Yi(9);const{scope_:r}=n;return e2(r,e),n2(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Gl("Patches").applyPatches_;return Kl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Gw(t,e){const n=fy(t)?Gl("MapSet").proxyMap_(t,e):hy(t)?Gl("MapSet").proxySet_(t,e):kY(t,e);return(e?e.scope_:Ij()).drafts_.push(n),n}function hs(t){return Kl(t)||Yi(10,t),kj(t)}function kj(t){if(!ys(t)||dy(t))return t;const e=t[ti];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=qw(t,e.scope_.immer_.useStrictShallowCopy_)}else n=qw(t,!0);return ug(n,(r,i)=>{Dj(n,r,kj(i))}),e&&(e.finalized_=!1),n}var ni=new jY,Mj=ni.produce;ni.produceWithPatches.bind(ni);ni.setAutoFreeze.bind(ni);ni.setUseStrictShallowCopy.bind(ni);ni.applyPatches.bind(ni);ni.createDraft.bind(ni);ni.finishDraft.bind(ni);function jj(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var LY=jj(),UY=jj,VY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lg:lg.apply(null,arguments)};function Di(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Zr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Rj(r)&&r.type===t,n}var Lj=class Th extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Th.prototype)}static get[Symbol.species](){return Th}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Th(...e[0].concat(this)):new Th(...e.concat(this))}};function i2(t){return ys(t)?Mj(t,()=>{}):t}function up(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function $Y(t){return typeof t=="boolean"}var BY=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new Lj;return n&&($Y(n)?l.push(LY):l.push(UY(n.extraArgument))),l},zY="RTK_autoBatch",a2=t=>e=>{setTimeout(e,t)},qY=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,l=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:a2(10):t.type==="callback"?t.queueNotification:a2(t.timeout),h=()=>{l=!1,a&&(a=!1,u.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),v=r.subscribe(p);return u.add(d),()=>{v(),u.delete(d)}},dispatch(d){try{return i=!d?.meta?.[zY],a=!i,a&&(l||(l=!0,f(h))),r.dispatch(d)}finally{i=!0}}})},FY=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Lj(t);return r&&i.push(qY(typeof r=="object"?r:void 0)),i};function HY(t){const e=BY(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(BS(n))u=Oj(n);else throw new Error(Zr(1));let f;typeof r=="function"?f=r(e):f=e();let h=lg;i&&(h=VY({trace:!1,...typeof i=="object"&&i}));const d=OY(...f),p=FY(d);let v=typeof l=="function"?l(p):p();const b=h(...v);return xj(u,a,b)}function Uj(t){const e={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(Zr(28));if(u in e)throw new Error(Zr(29));return e[u]=l,i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function KY(t){return typeof t=="function"}function GY(t,e){let[n,r,i]=Uj(e),a;if(KY(t))a=()=>i2(t());else{const u=i2(t);a=()=>u}function l(u=a(),f){let h=[n[f.type],...r.filter(({matcher:d})=>d(f)).map(({reducer:d})=>d)];return h.filter(d=>!!d).length===0&&(h=[i]),h.reduce((d,p)=>{if(p)if(Kl(d)){const b=p(d,f);return b===void 0?d:b}else{if(ys(d))return Mj(d,v=>p(v,f));{const v=p(d,f);if(v===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return d},u)}return l.getInitialState=a,l}var YY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",WY=(t=21)=>{let e="",n=t;for(;n--;)e+=YY[Math.random()*64|0];return e},XY=Symbol.for("rtk-slice-createasyncthunk");function QY(t,e){return`${t}/${e}`}function JY({creators:t}={}){const e=t?.asyncThunk?.[XY];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Zr(11));const l=(typeof r.reducers=="function"?r.reducers(eW()):r.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(O,V){const I=typeof O=="string"?O:O.type;if(!I)throw new Error(Zr(12));if(I in f.sliceCaseReducersByType)throw new Error(Zr(13));return f.sliceCaseReducersByType[I]=V,h},addMatcher(O,V){return f.sliceMatchers.push({matcher:O,reducer:V}),h},exposeAction(O,V){return f.actionCreators[O]=V,h},exposeCaseReducer(O,V){return f.sliceCaseReducersByName[O]=V,h}};u.forEach(O=>{const V=l[O],I={reducerName:O,type:QY(i,O),createNotation:typeof r.reducers=="function"};nW(V)?iW(I,V,h,e):tW(I,V,h)});function d(){const[O={},V=[],I=void 0]=typeof r.extraReducers=="function"?Uj(r.extraReducers):[r.extraReducers],D={...O,...f.sliceCaseReducersByType};return GY(r.initialState,N=>{for(let k in D)N.addCase(k,D[k]);for(let k of f.sliceMatchers)N.addMatcher(k.matcher,k.reducer);for(let k of V)N.addMatcher(k.matcher,k.reducer);I&&N.addDefaultCase(I)})}const p=O=>O,v=new Map,b=new WeakMap;let w;function E(O,V){return w||(w=d()),w(O,V)}function S(){return w||(w=d()),w.getInitialState()}function x(O,V=!1){function I(N){let k=N[O];return typeof k>"u"&&V&&(k=up(b,I,S)),k}function D(N=p){const k=up(v,V,()=>new WeakMap);return up(k,N,()=>{const M={};for(const[z,B]of Object.entries(r.selectors??{}))M[z]=ZY(B,N,()=>up(b,N,S),V);return M})}return{reducerPath:O,getSelectors:D,get selectors(){return D(I)},selectSlice:I}}const C={name:i,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:S,...x(a),injectInto(O,{reducerPath:V,...I}={}){const D=V??a;return O.inject({reducerPath:D,reducer:E},I),{...C,...x(D,!0)}}};return C}}function ZY(t,e,n,r){function i(a,...l){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var ii=JY();function eW(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function tW({type:t,reducerName:e,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!rW(r))throw new Error(Zr(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?Di(t,l):Di(t))}function nW(t){return t._reducerDefinitionType==="asyncThunk"}function rW(t){return t._reducerDefinitionType==="reducerWithPrepare"}function iW({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Zr(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:f,settled:h,options:d}=n,p=i(t,a,d);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),u&&r.addCase(p.pending,u),f&&r.addCase(p.rejected,f),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(e,{fulfilled:l||cp,pending:u||cp,rejected:f||cp,settled:h||cp})}function cp(){}var aW="task",Vj="listener",$j="completed",FS="cancelled",sW=`task-${FS}`,oW=`task-${$j}`,Yw=`${Vj}-${FS}`,lW=`${Vj}-${$j}`,my=class{constructor(t){this.code=t,this.message=`${aW} ${FS} (reason: ${t})`}name="TaskAbortError";message},HS=(t,e)=>{if(typeof t!="function")throw new TypeError(Zr(32))},hg=()=>{},Bj=(t,e=hg)=>(t.catch(e),t),zj=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ul=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Vl=t=>{if(t.aborted){const{reason:e}=t;throw new my(e)}};function qj(t,e){let n=hg;return new Promise((r,i)=>{const a=()=>i(new my(t.reason));if(t.aborted){a();return}n=zj(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=hg})}var uW=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof my?"cancelled":"rejected",error:n}}finally{e?.()}},dg=t=>e=>Bj(qj(t,e).then(n=>(Vl(t),n))),Fj=t=>{const e=dg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:wc}=Object,s2={},py="listenerMiddleware",cW=(t,e)=>{const n=r=>zj(t,()=>Ul(r,t.reason));return(r,i)=>{HS(r);const a=new AbortController;n(a);const l=uW(async()=>{Vl(t),Vl(a.signal);const u=await r({pause:dg(a.signal),delay:Fj(a.signal),signal:a.signal});return Vl(a.signal),u},()=>Ul(a,oW));return i?.autoJoin&&e.push(l.catch(hg)),{result:dg(t)(l),cancel(){Ul(a,sW)}}}},fW=(t,e)=>{const n=async(r,i)=>{Vl(e);let a=()=>{};const u=[new Promise((f,h)=>{let d=t({predicate:r,effect:(p,v)=>{v.unsubscribe(),f([p,v.getState(),v.getOriginalState()])}});a=()=>{d(),h()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await qj(e,Promise.race(u));return Vl(e),f}finally{a()}};return(r,i)=>Bj(n(r,i))},Hj=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Di(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Zr(21));return HS(a),{predicate:i,type:e,effect:a}},Kj=wc(t=>{const{type:e,predicate:n,effect:r}=Hj(t);return{id:WY(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Zr(22))}}},{withTypes:()=>Kj}),o2=(t,e)=>{const{type:n,effect:r,predicate:i}=Hj(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Ww=t=>{t.pending.forEach(e=>{Ul(e,Yw)})},hW=t=>()=>{t.forEach(Ww),t.clear()},l2=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Gj=wc(Di(`${py}/add`),{withTypes:()=>Gj}),dW=Di(`${py}/removeAll`),Yj=wc(Di(`${py}/remove`),{withTypes:()=>Yj}),mW=(...t)=>{console.error(`${py}/error`,...t)},wd=(t={})=>{const e=new Map,{extra:n,onError:r=mW}=t;HS(r);const i=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),p=>{d.unsubscribe(),p?.cancelActive&&Ww(d)}),a=d=>{const p=o2(e,d)??Kj(d);return i(p)};wc(a,{withTypes:()=>a});const l=d=>{const p=o2(e,d);return p&&(p.unsubscribe(),d.cancelActive&&Ww(p)),!!p};wc(l,{withTypes:()=>l});const u=async(d,p,v,b)=>{const w=new AbortController,E=fW(a,w.signal),S=[];try{d.pending.add(w),await Promise.resolve(d.effect(p,wc({},v,{getOriginalState:b,condition:(x,C)=>E(x,C).then(Boolean),take:E,delay:Fj(w.signal),pause:dg(w.signal),extra:n,signal:w.signal,fork:cW(w.signal,S),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((x,C,O)=>{x!==w&&(Ul(x,Yw),O.delete(x))})},cancel:()=>{Ul(w,Yw),d.pending.delete(w)},throwIfCancelled:()=>{Vl(w.signal)}})))}catch(x){x instanceof my||l2(r,x,{raisedBy:"effect"})}finally{await Promise.all(S),Ul(w,lW),d.pending.delete(w)}},f=hW(e);return{middleware:d=>p=>v=>{if(!Rj(v))return p(v);if(Gj.match(v))return a(v.payload);if(dW.match(v)){f();return}if(Yj.match(v))return l(v.payload);let b=d.getState();const w=()=>{if(b===s2)throw new Error(Zr(23));return b};let E;try{if(E=p(v),e.size>0){const S=d.getState(),x=Array.from(e.values());for(const C of x){let O=!1;try{O=C.predicate(v,S,b)}catch(V){O=!1,l2(r,V,{raisedBy:"predicate"})}O&&u(C,v,d,w)}}}finally{b=s2}return E},startListening:a,stopListening:l,clearListeners:f}};function Zr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Wj=ii({name:"chartLayout",initialState:pW,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:gW,setLayout:yW,setChartSize:vW,setScale:bW}=Wj.actions,_W=Wj.reducer;function u2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(n),!0).forEach(function(r){wW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wW(t,e,n){return(e=EW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EW(t){var e=SW(t,"string");return typeof e=="symbol"?e:e+""}function SW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mg=Math.PI/180,TW=t=>t*180/Math.PI,ir=(t,e,n,r)=>({x:t+Math.cos(-mg*r)*n,y:e+Math.sin(-mg*r)*n}),AW=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xW=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},OW=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,l=xW({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>a&&(f=2*Math.PI-f),{radius:l,angle:TW(f),angleInRadian:f}},RW=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},CW=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return t+l*360},PW=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=OW({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:h}=RW(e),d=a,p;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;p=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;p=d>=h&&d<=f}return p?c2(c2({},e),{},{radius:i,angle:CW(d,e)}):null};function Xj(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){DW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DW(t,e,n){return(e=IW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IW(t){var e=NW(t,"string");return typeof e=="symbol"?e:e+""}function NW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hn(t,e,n){return Gt(t)||Gt(e)?n:Da(e)?Hl(t,e,n):typeof e=="function"?e(t):n}var kW=(t,e,n,r,i)=>{var a,l=-1,u=(a=e?.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var h=f>0?n[f-1].coordinate:n[u-1].coordinate,d=n[f].coordinate,p=f>=u-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(Dr(d-h)!==Dr(p-d)){var b=[];if(Dr(p-d)===Dr(i[1]-i[0])){v=p;var w=d+i[1]-i[0];b[0]=Math.min(w,(w+h)/2),b[1]=Math.max(w,(w+h)/2)}else{v=h;var E=p+i[1]-i[0];b[0]=Math.min(d,(E+d)/2),b[1]=Math.max(d,(E+d)/2)}var S=[Math.min(d,(v+d)/2),Math.max(d,(v+d)/2)];if(t>S[0]&&t<=S[1]||t>=b[0]&&t<=b[1]){({index:l}=n[f]);break}}else{var x=Math.min(h,p),C=Math.max(h,p);if(t>(x+d)/2&&t<=(C+d)/2){({index:l}=n[f]);break}}}else if(e){for(var O=0;O<u;O++)if(O===0&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O>0&&O<u-1&&t>(e[O].coordinate+e[O-1].coordinate)/2&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O===u-1&&t>(e[O].coordinate+e[O-1].coordinate)/2){({index:l}=e[O]);break}}return l},MW=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&Oe(t[a]))return xi(xi({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&Oe(t[l]))return xi(xi({},t),{},{[l]:t[l]+(i||0)})}return t},Vo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Qj=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(e),a||l.push(n),l},Jj=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:d,ticks:p,niceTicks:v,axisType:b}=t;if(!l)return null;var w=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(E=b==="angleAxis"&&a&&a.length>=2?Dr(a[0]-a[1])*2*E:E,p||v){var S=(p||v||[]).map((x,C)=>{var O=r?r.indexOf(x):x;return{coordinate:l(O)+E,value:x,offset:E,index:C}});return S.filter(x=>!ei(x.coordinate))}return f&&h?h.map((x,C)=>({coordinate:l(x)+E,value:x,index:C,offset:E})):l.ticks&&d!=null?l.ticks(d).map((x,C)=>({coordinate:l(x)+E,value:x,offset:E,index:C})):l.domain().map((x,C)=>({coordinate:l(x)+E,value:r?r[x]:x,index:C,offset:E}))},h2=1e-4,jW=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-h2,a=Math.max(r[0],r[1])+h2,l=t(e[0]),u=t(e[n-1]);(l<i||l>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},LW=(t,e)=>{if(!e||e.length!==2||!Oe(e[0])||!Oe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Oe(t[0])||t[0]<n)&&(i[0]=n),(!Oe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},UW=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,l=0;l<e;++l){var u=ei(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=a,t[l][n][1]=a+u,a=t[l][n][1])}},VW=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var l=ei(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},$W={sign:UW,expand:pG,none:Nc,silhouette:gG,wiggle:yG,positive:VW},BW=(t,e,n)=>{var r=$W[n],i=mG().keys(e).value((a,l)=>+Hn(a,l,0)).order(Vw).offset(r);return i(t)};function zW(t){return t==null?void 0:String(t)}function d2(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Gt(i[e.dataKey])){var u=KM(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var f=Hn(i,Gt(l)?e.dataKey:l);return Gt(f)?null:e.scale(f)}var m2=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=Hn(a,e.dataKey,e.scale.domain()[l]);return Gt(u)?null:e.scale(u)-i/2+r},qW=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},FW=t=>{var e=t.flat(2).filter(Oe);return[Math.min(...e),Math.max(...e)]},HW=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],KW=(t,e,n)=>{if(t!=null)return HW(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:l}=a,u=l.reduce((f,h)=>{var d=Xj(h,e,n),p=FW(d);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},p2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,g2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,td=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=uy(e,d=>d.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var f=i[l],h=i[l-1];a=Math.min((f.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function y2(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return xi(xi({},e),{},{dataKey:n,payload:r,value:i,name:a})}function gy(t,e){if(t)return String(t);if(typeof e=="string")return e}function GW(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?PW({x:t,y:e},r):null}var YW=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:l}=r;return xi(xi(xi({},r),ir(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:f}=r;return xi(xi(xi({},r),ir(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},WW=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ss=t=>t.layout.width,Ts=t=>t.layout.height,XW=t=>t.layout.scale,Zj=t=>t.layout.margin,KS=ie(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),GS=ie(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),QW="data-recharts-item-index",JW="data-recharts-item-data-key",yy=60;function v2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(n),!0).forEach(function(r){ZW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZW(t,e,n){return(e=eX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eX(t){var e=tX(t,"string");return typeof e=="symbol"?e:e+""}function tX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nX=t=>t.brush.height,Kn=ie([Ss,Ts,Zj,nX,KS,GS,Tj,_Y],(t,e,n,r,i,a,l,u)=>{var f=a.reduce((w,E)=>{var{orientation:S}=E;if(!E.mirror&&!E.hide){var x=typeof E.width=="number"?E.width:yy;return lo(lo({},w),{},{[S]:w[S]+x})}return w},{left:n.left||0,right:n.right||0}),h=i.reduce((w,E)=>{var{orientation:S}=E;return!E.mirror&&!E.hide?lo(lo({},w),{},{[S]:Hl(w,"".concat(S))+E.height}):w},{top:n.top||0,bottom:n.bottom||0}),d=lo(lo({},h),f),p=d.bottom;d.bottom+=r,d=MW(d,l,u);var v=t-d.left-d.right,b=e-d.top-d.bottom;return lo(lo({brushBottom:p},d),{},{width:Math.max(v,0),height:Math.max(b,0)})}),rX=ie(Kn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),eL=ie(Ss,Ts,(t,e)=>({x:0,y:0,width:t,height:e})),iX=A.createContext(null),Nr=()=>A.useContext(iX)!=null,vy=t=>t.brush,by=ie([vy,Kn,Zj],(t,e,n)=>({height:t.height,x:Oe(t.x)?t.x:e.left,y:Oe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Oe(t.width)?t.width:e.width})),YS=()=>{var t,e=Nr(),n=Le(rX),r=Le(by),i=(t=Le(vy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},aX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},tL=()=>{var t;return(t=Le(Kn))!==null&&t!==void 0?t:aX},WS=()=>Le(Ss),XS=()=>Le(Ts),sX={top:0,right:0,bottom:0,left:0},oX=()=>{var t;return(t=Le(e=>e.layout.margin))!==null&&t!==void 0?t:sX},Tt=t=>t.layout.layoutType,_y=()=>Le(Tt),lX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},nL=ii({name:"legend",initialState:lX,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=hs(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:b2,setLegendSettings:uX,addLegendPayload:cX,removeLegendPayload:fX}=nL.actions,hX=nL.reducer,dX=["contextPayload"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(null,arguments)}function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){QS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QS(t,e,n){return(e=mX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mX(t){var e=pX(t,"string");return typeof e=="symbol"?e:e+""}function pX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gX(t,e){if(t==null)return{};var n,r,i=yX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vX(t){return t.value}function bX(t){var{contextPayload:e}=t,n=gX(t,dX),r=_j(e,t.payloadUniqBy,vX),i=Mc(Mc({},n),{},{payload:r});return A.isValidElement(t.content)?A.cloneElement(t.content,i):typeof t.content=="function"?A.createElement(t.content,i):A.createElement(kS,i)}function _X(t,e,n,r,i,a){var{layout:l,align:u,verticalAlign:f}=e,h,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?h={left:((r||0)-a.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?d={top:((i||0)-a.height)/2}:d=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Mc(Mc({},h),d)}function wX(t){var e=En();return A.useEffect(()=>{e(uX(t))},[e,t]),null}function EX(t){var e=En();return A.useEffect(()=>(e(b2(t)),()=>{e(b2({width:0,height:0}))}),[e,t]),null}function SX(t){var e=SY(),n=UK(),r=oX(),{width:i,height:a,wrapperStyle:l,portal:u}=t,[f,h]=Aj([e]),d=WS(),p=XS(),v=d-(r.left||0)-(r.right||0),b=wy.getWidthOrHeight(t.layout,a,i,v),w=u?l:Mc(Mc({position:"absolute",width:b?.width||i||"auto",height:b?.height||a||"auto"},_X(l,t,r,d,p,f)),l),E=u??n;if(E==null)return null;var S=A.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},A.createElement(wX,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),A.createElement(EX,{width:f.width,height:f.height}),A.createElement(bX,Xw({},t,b,{margin:r,chartWidth:d,chartHeight:p,contextPayload:e})));return LE.createPortal(S,E)}class wy extends A.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Oe(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return A.createElement(SX,this.props)}}QS(wy,"displayName","Legend");QS(wy,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(null,arguments)}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){TX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TX(t,e,n){return(e=AX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AX(t){var e=xX(t,"string");return typeof e=="symbol"?e:e+""}function xX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OX(t){return Array.isArray(t)&&Da(t[0])&&Da(t[1])?t.join(" ~ "):t}var RX=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:h,label:d,labelFormatter:p,accessibilityLayer:v=!1}=t,b=()=>{if(a&&a.length){var I={padding:0,margin:0},D=(u?uy(a,u):a).map((N,k)=>{if(N.type==="none")return null;var M=N.formatter||l||OX,{value:z,name:B}=N,q=z,$=B;if(M){var ye=M(z,B,N,k,a);if(Array.isArray(ye))[q,$]=ye;else if(ye!=null)q=ye;else return null}var Ne=m_({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:Ne},Da($)?A.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Da($)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},q),A.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:I},D)}return null},w=m_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=m_({margin:0},i),S=!Gt(d),x=S?d:"",C=It("recharts-default-tooltip",f),O=It("recharts-tooltip-label",h);S&&p&&a!==void 0&&a!==null&&(x=p(d,a));var V=v?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",Qw({className:C,style:w},V),A.createElement("p",{className:O,style:E},A.isValidElement(x)?x:"".concat(x)),b())},lh="recharts-tooltip-wrapper",CX={visibility:"hidden"};function PX(t){var{coordinate:e,translateX:n,translateY:r}=t;return It(lh,{["".concat(lh,"-right")]:Oe(n)&&e&&Oe(e.x)&&n>=e.x,["".concat(lh,"-left")]:Oe(n)&&e&&Oe(e.x)&&n<e.x,["".concat(lh,"-bottom")]:Oe(r)&&e&&Oe(e.y)&&r>=e.y,["".concat(lh,"-top")]:Oe(r)&&e&&Oe(e.y)&&r<e.y})}function E2(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=t;if(a&&Oe(a[r]))return a[r];var d=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?d:p;var v=f[r];if(v==null)return 0;if(l[r]){var b=d,w=v;return b<w?Math.max(p,v):Math.max(d,v)}if(h==null)return 0;var E=p+u,S=v+h;return E>S?Math.max(d,v):Math.max(p,v)}function DX(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function IX(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:f}=t,h,d,p;return l.height>0&&l.width>0&&n?(d=E2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),p=E2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=DX({translateX:d,translateY:p,useTranslate3d:u})):h=CX,{cssProperties:h,cssClasses:PX({translateX:d,translateY:p,coordinate:n})}}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){Jw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jw(t,e,n){return(e=NX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NX(t){var e=kX(t,"string");return typeof e=="symbol"?e:e+""}function kX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class MX extends A.PureComponent{constructor(){super(...arguments),Jw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Jw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:f,offset:h,position:d,reverseDirection:p,useTranslate3d:v,viewBox:b,wrapperStyle:w,lastBoundingBox:E,innerRef:S,hasPortalFromProps:x}=this.props,{cssClasses:C,cssProperties:O}=IX({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:d,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:v,viewBox:b}),V=x?{}:fp(fp({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),I=fp(fp({},V),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},w);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:I,ref:S},a)}}var jX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Yc={isSsr:jX()},rL=()=>Le(t=>t.rootProps.accessibilityLayer);function ri(t){return Number.isFinite(t)}function pg(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(null,arguments)}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){LX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LX(t,e,n){return(e=UX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UX(t){var e=VX(t,"string");return typeof e=="symbol"?e:e+""}function VX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x2={curveBasisClosed:rG,curveBasisOpen:iG,curveBasis:nG,curveBumpX:zK,curveBumpY:qK,curveLinearClosed:aG,curveLinear:oy,curveMonotoneX:sG,curveMonotoneY:oG,curveNatural:lG,curveStep:uG,curveStepAfter:fG,curveStepBefore:cG},hp=t=>ri(t.x)&&ri(t.y),uh=t=>t.x,ch=t=>t.y,$X=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(_d(t));return(n==="curveMonotone"||n==="curveBump")&&e?x2["".concat(n).concat(e==="vertical"?"Y":"X")]:x2[n]||oy},BX=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,l=$X(e,i),u=a?n.filter(hp):n,f;if(Array.isArray(r)){var h=a?r.filter(p=>hp(p)):r,d=u.map((p,v)=>A2(A2({},p),{},{base:h[v]}));return i==="vertical"?f=sp().y(ch).x1(uh).x0(p=>p.base.x):f=sp().x(uh).y1(ch).y0(p=>p.base.y),f.defined(hp).curve(l),f(d)}return i==="vertical"&&Oe(r)?f=sp().y(ch).x1(uh).x0(r):Oe(r)?f=sp().x(uh).y1(ch).y0(r):f=nj().x(uh).y(ch),f.defined(hp).curve(l),f(u)},iL=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?BX(t):r;return A.createElement("path",Zw({},su(t),xS(t),{className:It("recharts-curve",e),d:a===null?void 0:a,ref:i}))},zX=["x","y","top","left","width","height","className"];function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(null,arguments)}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){FX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FX(t,e,n){return(e=HX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HX(t){var e=KX(t,"string");return typeof e=="symbol"?e:e+""}function KX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GX(t,e){if(t==null)return{};var n,r,i=YX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var WX=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),XX=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=t,f=GX(t,zX),h=qX({x:e,y:n,top:r,left:i,width:a,height:l},f);return!Oe(e)||!Oe(n)||!Oe(a)||!Oe(l)||!Oe(r)||!Oe(i)?null:A.createElement("path",eE({},sn(h,!0),{className:It("recharts-cross",u),d:WX(e,n,a,l,r,i)}))};function QX(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(r){ZX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZX(t,e,n){return(e=eQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eQ(t){var e=tQ(t,"string");return typeof e=="symbol"?e:e+""}function tQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ka(t,e){var n=JX({},t),r=e,i=Object.keys(e),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}var p_={},g_={},y_={},C2;function nQ(){return C2||(C2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(y_)),y_}var P2;function rQ(){return P2||(P2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nQ(),n=yj(),r=US(),i=VS(),a=jS();function l(h,d,p){return u(h,d,void 0,void 0,void 0,void 0,p)}function u(h,d,p,v,b,w,E){const S=E(h,d,p,v,b,w);if(S!==void 0)return S;if(typeof h==typeof d)switch(typeof h){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return h===d;case"number":return h===d||Object.is(h,d);case"function":return h===d;case"object":return f(h,d,w,E)}return f(h,d,w,E)}function f(h,d,p,v){if(Object.is(h,d))return!0;let b=r.getTag(h),w=r.getTag(d);if(b===i.argumentsTag&&(b=i.objectTag),w===i.argumentsTag&&(w=i.objectTag),b!==w)return!1;switch(b){case i.stringTag:return h.toString()===d.toString();case i.numberTag:{const x=h.valueOf(),C=d.valueOf();return a.eq(x,C)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(h.valueOf(),d.valueOf());case i.regexpTag:return h.source===d.source&&h.flags===d.flags;case i.functionTag:return h===d}p=p??new Map;const E=p.get(h),S=p.get(d);if(E!=null&&S!=null)return E===d;p.set(h,d),p.set(d,h);try{switch(b){case i.mapTag:{if(h.size!==d.size)return!1;for(const[x,C]of h.entries())if(!d.has(x)||!u(C,d.get(x),x,h,d,p,v))return!1;return!0}case i.setTag:{if(h.size!==d.size)return!1;const x=Array.from(h.values()),C=Array.from(d.values());for(let O=0;O<x.length;O++){const V=x[O],I=C.findIndex(D=>u(V,D,void 0,h,d,p,v));if(I===-1)return!1;C.splice(I,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(h)!==Buffer.isBuffer(d)||h.length!==d.length)return!1;for(let x=0;x<h.length;x++)if(!u(h[x],d[x],x,h,d,p,v))return!1;return!0}case i.arrayBufferTag:return h.byteLength!==d.byteLength?!1:f(new Uint8Array(h),new Uint8Array(d),p,v);case i.dataViewTag:return h.byteLength!==d.byteLength||h.byteOffset!==d.byteOffset?!1:f(new Uint8Array(h),new Uint8Array(d),p,v);case i.errorTag:return h.name===d.name&&h.message===d.message;case i.objectTag:{if(!(f(h.constructor,d.constructor,p,v)||e.isPlainObject(h)&&e.isPlainObject(d)))return!1;const C=[...Object.keys(h),...n.getSymbols(h)],O=[...Object.keys(d),...n.getSymbols(d)];if(C.length!==O.length)return!1;for(let V=0;V<C.length;V++){const I=C[V],D=h[I];if(!Object.hasOwn(d,I))return!1;const N=d[I];if(!u(D,N,I,h,d,p,v))return!1}return!0}default:return!1}}finally{p.delete(h),p.delete(d)}}t.isEqualWith=l})(g_)),g_}var v_={},D2;function iQ(){return D2||(D2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(v_)),v_}var I2;function aQ(){return I2||(I2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rQ(),n=iQ();function r(i,a){return e.isEqualWith(i,a,n.noop)}t.isEqual=r})(p_)),p_}var b_,N2;function sQ(){return N2||(N2=1,b_=aQ().isEqual),b_}var oQ=sQ();const lQ=Zi(oQ);var gg=1e-4,aL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],sL=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),k2=(t,e)=>n=>{var r=aL(t,e);return sL(r,n)},uQ=(t,e)=>n=>{var r=aL(t,e),i=[...r.map((a,l)=>a*l).slice(1),0];return sL(i,n)},M2=function(){for(var e,n,r,i,a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else l.length===4&&([e,r,n,i]=l);var h=k2(e,n),d=k2(r,i),p=uQ(e,n),v=w=>w>1?1:w<0?0:w,b=w=>{for(var E=w>1?1:w,S=E,x=0;x<8;++x){var C=h(S)-E,O=p(S);if(Math.abs(C-E)<gg||O<gg)return d(S);S=v(S-C/O)}return d(S)};return b.isStepper=!1,b},cQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(l,u,f)=>{var h=-(l-u)*n,d=f*r,p=f+(h-d)*i/1e3,v=f*i/1e3+l;return Math.abs(v-u)<gg&&Math.abs(p)<gg?[u,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},oL=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return M2(t);case"spring":return cQ();default:if(t.split("(")[0]==="cubic-bezier")return M2(t)}return typeof t=="function"?t:null};function j2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(n),!0).forEach(function(r){fQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fQ(t,e,n){return(e=hQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hQ(t){var e=dQ(t,"string");return typeof e=="symbol"?e:e+""}function dQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mQ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),pQ=(t,e,n)=>t.map(r=>"".concat(mQ(r)," ").concat(e,"ms ").concat(n)).join(","),gQ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),nd=(t,e)=>Object.keys(e).reduce((n,r)=>L2(L2({},n),{},{[r]:t(r,e[r])}),{});function U2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(n),!0).forEach(function(r){yQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yQ(t,e,n){return(e=vQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vQ(t){var e=bQ(t,"string");return typeof e=="symbol"?e:e+""}function bQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yg=(t,e,n)=>t+(e-t)*n,tE=t=>{var{from:e,to:n}=t;return e!==n},lL=(t,e,n)=>{var r=nd((i,a)=>{if(tE(a)){var[l,u]=t(a.from,a.to,a.velocity);return nr(nr({},a),{},{from:l,velocity:u})}return a},e);return n<1?nd((i,a)=>tE(a)?nr(nr({},a),{},{velocity:yg(a.velocity,r[i].velocity,n),from:yg(a.from,r[i].from,n)}):a,e):lL(t,r,n-1)};function _Q(t,e,n,r,i,a){var l,u=r.reduce((v,b)=>nr(nr({},v),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>nd((v,b)=>b.from,u),h=()=>!Object.values(u).filter(tE).length,d=null,p=v=>{l||(l=v);var b=v-l,w=b/n.dt;u=lL(n,u,w),i(nr(nr(nr({},t),e),f())),l=v,h()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{d()})}function wQ(t,e,n,r,i,a,l){var u=null,f=i.reduce((p,v)=>nr(nr({},p),{},{[v]:[t[v],e[v]]}),{}),h,d=p=>{h||(h=p);var v=(p-h)/r,b=nd((E,S)=>yg(...S,n(v)),f);if(a(nr(nr(nr({},t),e),b)),v<1)u=l.setTimeout(d);else{var w=nd((E,S)=>yg(...S,n(1)),f);a(nr(nr(nr({},t),e),w))}};return()=>(u=l.setTimeout(d),()=>{u()})}const uL=(t,e,n,r,i,a)=>{var l=gQ(t,e);return n.isStepper===!0?_Q(t,e,n,l,i,a):wQ(t,e,n,r,l,i,a)};function EQ(t){var e,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...h]=u;if(typeof f=="number"){i=t.setTimeout(a.bind(null,h),f);return}a(f),i=t.setTimeout(a.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class SQ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function TQ(){return EQ(new SQ)}var AQ=A.createContext(TQ);function cL(t,e){var n=A.useContext(AQ);return A.useMemo(()=>e??n(t),[t,e,n])}var xQ=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(null,arguments)}function OQ(t,e){if(t==null)return{};var n,r,i=RQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function RQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){Nl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nl(t,e,n){return(e=CQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CQ(t){var e=PQ(t,"string");return typeof e=="symbol"?e:e+""}function PQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class JS extends A.PureComponent{constructor(e,n){super(e,n),Nl(this,"mounted",!1),Nl(this,"manager",void 0),Nl(this,"stopJSAnimation",null),Nl(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:a,to:l,children:u,duration:f,animationManager:h}=this.props;if(this.manager=h,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:l});return}if(a){if(typeof u=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:a,to:l,from:u}=this.props,{style:f}=this.state;if(r){if(!n){var h={style:i?{[i]:l}:l};this.state&&f&&(i&&f[i]!==l||!i&&f!==l)&&this.setState(h);return}if(!(lQ(e.to,l)&&e.canBegin&&e.isActive)){var d=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=d||a?u:e.to;if(this.state&&f){var v={style:i?{[i]:p}:p};(i&&f[i]!==p||!i&&f!==p)&&this.setState(v)}this.runAnimation(uo(uo({},this.props),{},{from:p,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:f}=e,h=uL(n,r,oL(a),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=h()};this.manager.start([f,l,d,i,u])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:a,easing:l,onAnimationStart:u,onAnimationEnd:f,children:h}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof h=="function"||l==="spring"){this.runJSAnimation(e);return}var d=i?{[i]:a}:a,p=pQ(Object.keys(d),r,l);this.manager.start([u,n,uo(uo({},d),{},{transition:p}),r,f])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:a,easing:l,isActive:u,from:f,to:h,canBegin:d,onAnimationEnd:p,shouldReAnimate:v,onAnimationReStart:b,animationManager:w}=e,E=OQ(e,xQ),S=A.Children.count(n),x=this.state.style;if(typeof n=="function")return n(x);if(!u||S===0||i<=0)return n;var C=O=>{var{style:V={},className:I}=O.props,D=A.cloneElement(O,uo(uo({},E),{},{style:uo(uo({},V),x),className:I}));return D};return S===1?C(A.Children.only(n)):A.createElement("div",null,A.Children.map(n,O=>C(O)))}}Nl(JS,"displayName","Animate");Nl(JS,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function vg(t){var e,n=cL((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return A.createElement(JS,nE({},t,{animationManager:n}))}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(null,arguments)}var $2=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,v=4;p<v;p++)d[p]=i[p]>a?a:i[p];h="M".concat(t,",").concat(e+l*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(f,",").concat(t+u*d[0],",").concat(e)),h+="L ".concat(t+n-u*d[1],",").concat(e),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*d[1])),h+="L ".concat(t+n,",").concat(e+r-l*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(f,`,
        `).concat(t+n-u*d[2],",").concat(e+r)),h+="L ".concat(t+u*d[3],",").concat(e+r),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*d[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);h="M ".concat(t,",").concat(e+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+u*b,",").concat(e,`
            L `).concat(t+n-u*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*b,`
            L `).concat(t+n,",").concat(e+r-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-u*b,",").concat(e+r,`
            L `).concat(t+u*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*b," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},DQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fL=t=>{var e=ka(t,DQ),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&i(x)}catch{}},[]);var{x:a,y:l,width:u,height:f,radius:h,className:d}=e,{animationEasing:p,animationDuration:v,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:E}=e;if(a!==+a||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var S=It("recharts-rectangle",d);return E?A.createElement(vg,{canBegin:r>0,from:{width:u,height:f,x:a,y:l},to:{width:u,height:f,x:a,y:l},duration:v,animationEasing:p,isActive:E},x=>{var{width:C,height:O,x:V,y:I}=x;return A.createElement(vg,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:w,easing:p},A.createElement("path",bg({},sn(e,!0),{className:S,d:$2(V,I,C,O,h),ref:n})))}):A.createElement("path",bg({},sn(e,!0),{className:S,d:$2(a,l,u,f,h)}))};function hL(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,l=ir(e,n,r,i),u=ir(e,n,r,a);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(null,arguments)}var IQ=(t,e)=>{var n=Dr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},dp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:f}=t,h=u*(l?1:-1)+r,d=Math.asin(u/h)/mg,p=f?i:i+a*d,v=ir(e,n,h,p),b=ir(e,n,r,p),w=f?i-a*d:i,E=ir(e,n,h*Math.cos(d*mg),w);return{center:v,circleTangency:b,lineTangency:E,theta:d}},dL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=t,u=IQ(a,l),f=a+u,h=ir(e,n,i,a),d=ir(e,n,i,f),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>f),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var v=ir(e,n,r,a),b=ir(e,n,r,f);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},NQ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}=t,d=Dr(h-f),{circleTangency:p,lineTangency:v,theta:b}=dp({cx:e,cy:n,radius:i,angle:f,sign:d,cornerRadius:a,cornerIsExternal:u}),{circleTangency:w,lineTangency:E,theta:S}=dp({cx:e,cy:n,radius:i,angle:h,sign:-d,cornerRadius:a,cornerIsExternal:u}),x=u?Math.abs(f-h):Math.abs(f-h)-b-S;if(x<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):dL({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:V,theta:I}=dp({cx:e,cy:n,radius:r,angle:f,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:D,lineTangency:N,theta:k}=dp({cx:e,cy:n,radius:r,angle:h,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),M=u?Math.abs(f-h):Math.abs(f-h)-I-k;if(M<0&&a===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(V.x,",").concat(V.y,"Z")}else C+="L".concat(e,",").concat(n,"Z");return C},kQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mL=t=>{var e=ka(t,kQ),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:d,className:p}=e;if(a<i||h===d)return null;var v=It("recharts-sector",p),b=a-i,w=Qi(l,b,0,!0),E;return w>0&&Math.abs(h-d)<360?E=NQ({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:d}):E=dL({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:d}),A.createElement("path",rE({},sn(e,!0),{className:v,d:E}))};function MQ(t,e,n){var r,i,a,l;if(t==="horizontal")r=e.x,a=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:f,innerRadius:h,outerRadius:d,angle:p}=e,v=ir(u,f,h,p),b=ir(u,f,d,p);r=v.x,i=v.y,a=b.x,l=b.y}else return hL(e);return[{x:r,y:i},{x:a,y:l}]}var __={},w_={},E_={},B2;function jQ(){return B2||(B2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ej();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(E_)),E_}var z2;function LQ(){return z2||(z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jQ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(w_)),w_}var q2;function UQ(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sj(),n=LQ();function r(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=i,i+=l;return f}t.range=r})(__)),__}var S_,F2;function VQ(){return F2||(F2=1,S_=UQ().range),S_}var $Q=VQ();const pL=Zi($Q);function xo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ZS(t){let e,n,r;t.length!==2?(e=xo,n=(u,f)=>xo(t(u),f),r=(u,f)=>t(u)-f):(e=t===xo||t===BQ?t:zQ,n=t,r=t);function i(u,f,h=0,d=u.length){if(h<d){if(e(f,f)!==0)return d;do{const p=h+d>>>1;n(u[p],f)<0?h=p+1:d=p}while(h<d)}return h}function a(u,f,h=0,d=u.length){if(h<d){if(e(f,f)!==0)return d;do{const p=h+d>>>1;n(u[p],f)<=0?h=p+1:d=p}while(h<d)}return h}function l(u,f,h=0,d=u.length){const p=i(u,f,h,d-1);return p>h&&r(u[p-1],f)>-r(u[p],f)?p-1:p}return{left:i,center:l,right:a}}function zQ(){return 0}function gL(t){return t===null?NaN:+t}function*qQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const FQ=ZS(xo),Ed=FQ.right;ZS(gL).center;class H2 extends Map{constructor(e,n=GQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(K2(this,e))}has(e){return super.has(K2(this,e))}set(e,n){return super.set(HQ(this,e),n)}delete(e){return super.delete(KQ(this,e))}}function K2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function HQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function KQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function GQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function YQ(t=xo){if(t===xo)return yL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function yL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const WQ=Math.sqrt(50),XQ=Math.sqrt(10),QQ=Math.sqrt(2);function _g(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=WQ?10:a>=XQ?5:a>=QQ?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?_g(t,e,n*2):[u,f,h]}function iE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?_g(e,t,n):_g(t,e,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)f[h]=(a-h)/-l;else for(let h=0;h<u;++h)f[h]=(a-h)*l;else if(l<0)for(let h=0;h<u;++h)f[h]=(i+h)/-l;else for(let h=0;h<u;++h)f[h]=(i+h)*l;return f}function aE(t,e,n){return e=+e,t=+t,n=+n,_g(t,e,n)[2]}function sE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?aE(e,t,n):aE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function G2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Y2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function vL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?yL:YQ(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,d=Math.log(f),p=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*p*(f-p)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(e-h*p/f+v)),w=Math.min(r,Math.floor(e+(f-h)*p/f+v));vL(t,e,b,w,i)}const a=t[e];let l=n,u=r;for(fh(t,n,e),i(t[r],a)>0&&fh(t,n,r);l<u;){for(fh(t,l,u),++l,--u;i(t[l],a)<0;)++l;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?fh(t,n,u):(++u,fh(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function fh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function JQ(t,e,n){if(t=Float64Array.from(qQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Y2(t);if(e>=1)return G2(t);var r,i=(r-1)*e,a=Math.floor(i),l=G2(vL(t,a).subarray(0,a+1)),u=Y2(t.subarray(a+1));return l+(u-l)*(i-a)}}function ZQ(t,e,n=gL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return l+(u-l)*(i-a)}}function eJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ki(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function As(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const oE=Symbol("implicit");function e1(){var t=new H2,e=[],n=[],r=oE;function i(a){let l=t.get(a);if(l===void 0){if(r!==oE)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new H2;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return e1(e,n).unknown(r)},ki.apply(i,arguments),i}function t1(){var t=e1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,u=!1,f=0,h=0,d=.5;delete t.unknown;function p(){var v=e().length,b=i<r,w=b?i:r,E=b?r:i;a=(E-w)/Math.max(1,v-f+h*2),u&&(a=Math.floor(a)),w+=(E-w-a*(v-f))*d,l=a*(1-f),u&&(w=Math.round(w),l=Math.round(l));var S=eJ(v).map(function(x){return w+a*x});return n(b?S.reverse():S)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(v){return arguments.length?(u=!!v,p()):u},t.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),p()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),p()):f},t.paddingOuter=function(v){return arguments.length?(h=+v,p()):h},t.align=function(v){return arguments.length?(d=Math.max(0,Math.min(1,v)),p()):d},t.copy=function(){return t1(e(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(d)},ki.apply(p(),arguments)}function bL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return bL(e())},t}function tJ(){return bL(t1.apply(null,arguments).paddingInner(1))}function n1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _L(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sd(){}var rd=.7,wg=1/rd,Ec="\\s*([+-]?\\d+)\\s*",id="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nJ=/^#([0-9a-f]{3,8})$/,rJ=new RegExp(`^rgb\\(${Ec},${Ec},${Ec}\\)$`),iJ=new RegExp(`^rgb\\(${Oa},${Oa},${Oa}\\)$`),aJ=new RegExp(`^rgba\\(${Ec},${Ec},${Ec},${id}\\)$`),sJ=new RegExp(`^rgba\\(${Oa},${Oa},${Oa},${id}\\)$`),oJ=new RegExp(`^hsl\\(${id},${Oa},${Oa}\\)$`),lJ=new RegExp(`^hsla\\(${id},${Oa},${Oa},${id}\\)$`),W2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n1(Sd,ad,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:X2,formatHex:X2,formatHex8:uJ,formatHsl:cJ,formatRgb:Q2,toString:Q2});function X2(){return this.rgb().formatHex()}function uJ(){return this.rgb().formatHex8()}function cJ(){return wL(this).formatHsl()}function Q2(){return this.rgb().formatRgb()}function ad(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?J2(e):n===3?new Ir(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?mp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?mp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rJ.exec(t))?new Ir(e[1],e[2],e[3],1):(e=iJ.exec(t))?new Ir(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=aJ.exec(t))?mp(e[1],e[2],e[3],e[4]):(e=sJ.exec(t))?mp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oJ.exec(t))?tD(e[1],e[2]/100,e[3]/100,1):(e=lJ.exec(t))?tD(e[1],e[2]/100,e[3]/100,e[4]):W2.hasOwnProperty(t)?J2(W2[t]):t==="transparent"?new Ir(NaN,NaN,NaN,0):null}function J2(t){return new Ir(t>>16&255,t>>8&255,t&255,1)}function mp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ir(t,e,n,r)}function fJ(t){return t instanceof Sd||(t=ad(t)),t?(t=t.rgb(),new Ir(t.r,t.g,t.b,t.opacity)):new Ir}function lE(t,e,n,r){return arguments.length===1?fJ(t):new Ir(t,e,n,r??1)}function Ir(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}n1(Ir,lE,_L(Sd,{brighter(t){return t=t==null?wg:Math.pow(wg,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rd:Math.pow(rd,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ir($l(this.r),$l(this.g),$l(this.b),Eg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Z2,formatHex:Z2,formatHex8:hJ,formatRgb:eD,toString:eD}));function Z2(){return`#${kl(this.r)}${kl(this.g)}${kl(this.b)}`}function hJ(){return`#${kl(this.r)}${kl(this.g)}${kl(this.b)}${kl((isNaN(this.opacity)?1:this.opacity)*255)}`}function eD(){const t=Eg(this.opacity);return`${t===1?"rgb(":"rgba("}${$l(this.r)}, ${$l(this.g)}, ${$l(this.b)}${t===1?")":`, ${t})`}`}function Eg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $l(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function kl(t){return t=$l(t),(t<16?"0":"")+t.toString(16)}function tD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wi(t,e,n,r)}function wL(t){if(t instanceof Wi)return new Wi(t.h,t.s,t.l,t.opacity);if(t instanceof Sd||(t=ad(t)),!t)return new Wi;if(t instanceof Wi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,u=a-i,f=(a+i)/2;return u?(e===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-e)/u+2:l=(e-n)/u+4,u/=f<.5?a+i:2-a-i,l*=60):u=f>0&&f<1?0:l,new Wi(l,u,f,t.opacity)}function dJ(t,e,n,r){return arguments.length===1?wL(t):new Wi(t,e,n,r??1)}function Wi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}n1(Wi,dJ,_L(Sd,{brighter(t){return t=t==null?wg:Math.pow(wg,t),new Wi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rd:Math.pow(rd,t),new Wi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ir(T_(t>=240?t-240:t+120,i,r),T_(t,i,r),T_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wi(nD(this.h),pp(this.s),pp(this.l),Eg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Eg(this.opacity);return`${t===1?"hsl(":"hsla("}${nD(this.h)}, ${pp(this.s)*100}%, ${pp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function nD(t){return t=(t||0)%360,t<0?t+360:t}function pp(t){return Math.max(0,Math.min(1,t||0))}function T_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const r1=t=>()=>t;function mJ(t,e){return function(n){return t+n*e}}function pJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gJ(t){return(t=+t)==1?EL:function(e,n){return n-e?pJ(e,n,t):r1(isNaN(e)?n:e)}}function EL(t,e){var n=e-t;return n?mJ(t,n):r1(isNaN(t)?e:t)}const rD=(function t(e){var n=gJ(e);function r(i,a){var l=n((i=lE(i)).r,(a=lE(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),h=EL(i.opacity,a.opacity);return function(d){return i.r=l(d),i.g=u(d),i.b=f(d),i.opacity=h(d),i+""}}return r.gamma=t,r})(1);function yJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function vJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Wc(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function _J(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Wc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var uE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,A_=new RegExp(uE.source,"g");function EJ(t){return function(){return t}}function SJ(t){return function(e){return t(e)+""}}function TJ(t,e){var n=uE.lastIndex=A_.lastIndex=0,r,i,a,l=-1,u=[],f=[];for(t=t+"",e=e+"";(r=uE.exec(t))&&(i=A_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:Sg(r,i)})),n=A_.lastIndex;return n<e.length&&(a=e.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?f[0]?SJ(f[0].x):EJ(e):(e=f.length,function(h){for(var d=0,p;d<e;++d)u[(p=f[d]).i]=p.x(h);return u.join("")})}function Wc(t,e){var n=typeof e,r;return e==null||n==="boolean"?r1(e):(n==="number"?Sg:n==="string"?(r=ad(e))?(e=r,rD):TJ:e instanceof ad?rD:e instanceof Date?_J:vJ(e)?yJ:Array.isArray(e)?bJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wJ:Sg)(t,e)}function i1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function AJ(t,e){e===void 0&&(e=t,t=Wc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function xJ(t){return function(){return t}}function Tg(t){return+t}var iD=[0,1];function Er(t){return t}function cE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:xJ(isNaN(e)?NaN:.5)}function OJ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function RJ(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=cE(i,r),a=n(l,a)):(r=cE(r,i),a=n(a,l)),function(u){return a(r(u))}}function CJ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=cE(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(u){var f=Ed(t,u,1,r)-1;return a[f](i[f](u))}}function Td(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ey(){var t=iD,e=iD,n=Wc,r,i,a,l=Er,u,f,h;function d(){var v=Math.min(t.length,e.length);return l!==Er&&(l=OJ(t[0],t[v-1])),u=v>2?CJ:RJ,f=h=null,p}function p(v){return v==null||isNaN(v=+v)?a:(f||(f=u(t.map(r),e,n)))(r(l(v)))}return p.invert=function(v){return l(i((h||(h=u(e,t.map(r),Sg)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,Tg),d()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),d()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),n=i1,d()},p.clamp=function(v){return arguments.length?(l=v?!0:Er,d()):l!==Er},p.interpolate=function(v){return arguments.length?(n=v,d()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,b){return r=v,i=b,d()}}function a1(){return Ey()(Er,Er)}function PJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ag(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function jc(t){return t=Ag(Math.abs(t)),t?t[1]:NaN}function DJ(t,e){return function(n,r){for(var i=n.length,a=[],l=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[l=(l+1)%t.length];return a.reverse().join(e)}}function IJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var NJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sd(t){if(!(e=NJ.exec(t)))throw new Error("invalid format: "+t);var e;return new s1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}sd.prototype=s1.prototype;function s1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}s1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kJ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var SL;function MJ(t,e){var n=Ag(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(SL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ag(t,Math.max(0,e+a-1))[0]}function aD(t,e){var n=Ag(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const sD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:PJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>aD(t*100,e),r:aD,s:MJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function oD(t){return t}var lD=Array.prototype.map,uD=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function jJ(t){var e=t.grouping===void 0||t.thousands===void 0?oD:DJ(lD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?oD:IJ(lD.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(p){p=sd(p);var v=p.fill,b=p.align,w=p.sign,E=p.symbol,S=p.zero,x=p.width,C=p.comma,O=p.precision,V=p.trim,I=p.type;I==="n"?(C=!0,I="g"):sD[I]||(O===void 0&&(O=12),V=!0,I="g"),(S||v==="0"&&b==="=")&&(S=!0,v="0",b="=");var D=E==="$"?n:E==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",N=E==="$"?r:/[%p]/.test(I)?l:"",k=sD[I],M=/[defgprs%]/.test(I);O=O===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function z(B){var q=D,$=N,ye,Ne,Y;if(I==="c")$=k(B)+$,B="";else{B=+B;var ue=B<0||1/B<0;if(B=isNaN(B)?f:k(Math.abs(B),O),V&&(B=kJ(B)),ue&&+B==0&&w!=="+"&&(ue=!1),q=(ue?w==="("?w:u:w==="-"||w==="("?"":w)+q,$=(I==="s"?uD[8+SL/3]:"")+$+(ue&&w==="("?")":""),M){for(ye=-1,Ne=B.length;++ye<Ne;)if(Y=B.charCodeAt(ye),48>Y||Y>57){$=(Y===46?i+B.slice(ye+1):B.slice(ye))+$,B=B.slice(0,ye);break}}}C&&!S&&(B=e(B,1/0));var ve=q.length+B.length+$.length,De=ve<x?new Array(x-ve+1).join(v):"";switch(C&&S&&(B=e(De+B,De.length?x-$.length:1/0),De=""),b){case"<":B=q+B+$+De;break;case"=":B=q+De+B+$;break;case"^":B=De.slice(0,ve=De.length>>1)+q+B+$+De.slice(ve);break;default:B=De+q+B+$;break}return a(B)}return z.toString=function(){return p+""},z}function d(p,v){var b=h((p=sd(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(jc(v)/3)))*3,E=Math.pow(10,-w),S=uD[8+w/3];return function(x){return b(E*x)+S}}return{format:h,formatPrefix:d}}var gp,o1,TL;LJ({thousands:",",grouping:[3],currency:["$",""]});function LJ(t){return gp=jJ(t),o1=gp.format,TL=gp.formatPrefix,gp}function UJ(t){return Math.max(0,-jc(Math.abs(t)))}function VJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jc(e)/3)))*3-jc(Math.abs(t)))}function $J(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jc(e)-jc(t))+1}function AL(t,e,n,r){var i=sE(t,e,n),a;switch(r=sd(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=VJ(i,l))&&(r.precision=a),TL(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=$J(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=UJ(i))&&(r.precision=a-(r.type==="%")*2);break}}return o1(r)}function $o(t){var e=t.domain;return t.ticks=function(n){var r=e();return iE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return AL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],u=r[a],f,h,d=10;for(u<l&&(h=l,l=u,u=h,h=i,i=a,a=h);d-- >0;){if(h=aE(l,u,n),h===f)return r[i]=l,r[a]=u,e(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function xL(){var t=a1();return t.copy=function(){return Td(t,xL())},ki.apply(t,arguments),$o(t)}function OL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Tg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return OL(t).unknown(e)},t=arguments.length?Array.from(t,Tg):[0,1],$o(n)}function RL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function cD(t){return Math.log(t)}function fD(t){return Math.exp(t)}function BJ(t){return-Math.log(-t)}function zJ(t){return-Math.exp(-t)}function qJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function FJ(t){return t===10?qJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function HJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function hD(t){return(e,n)=>-t(-e,n)}function l1(t){const e=t(cD,fD),n=e.domain;let r=10,i,a;function l(){return i=HJ(r),a=FJ(r),n()[0]<0?(i=hD(i),a=hD(a),t(BJ,zJ)):t(cD,fD),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const f=n();let h=f[0],d=f[f.length-1];const p=d<h;p&&([h,d]=[d,h]);let v=i(h),b=i(d),w,E;const S=u==null?10:+u;let x=[];if(!(r%1)&&b-v<S){if(v=Math.floor(v),b=Math.ceil(b),h>0){for(;v<=b;++v)for(w=1;w<r;++w)if(E=v<0?w/a(-v):w*a(v),!(E<h)){if(E>d)break;x.push(E)}}else for(;v<=b;++v)for(w=r-1;w>=1;--w)if(E=v>0?w/a(-v):w*a(v),!(E<h)){if(E>d)break;x.push(E)}x.length*2<S&&(x=iE(h,d,S))}else x=iE(v,b,Math.min(b-v,S)).map(a);return p?x.reverse():x},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=sd(f)).precision==null&&(f.trim=!0),f=o1(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=h?f(d):""}},e.nice=()=>n(RL(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function CL(){const t=l1(Ey()).domain([1,10]);return t.copy=()=>Td(t,CL()).base(t.base()),ki.apply(t,arguments),t}function dD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function mD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function u1(t){var e=1,n=t(dD(e),mD(e));return n.constant=function(r){return arguments.length?t(dD(e=+r),mD(e)):e},$o(n)}function PL(){var t=u1(Ey());return t.copy=function(){return Td(t,PL()).constant(t.constant())},ki.apply(t,arguments)}function pD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function KJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function GJ(t){return t<0?-t*t:t*t}function c1(t){var e=t(Er,Er),n=1;function r(){return n===1?t(Er,Er):n===.5?t(KJ,GJ):t(pD(n),pD(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},$o(e)}function f1(){var t=c1(Ey());return t.copy=function(){return Td(t,f1()).exponent(t.exponent())},ki.apply(t,arguments),t}function YJ(){return f1.apply(null,arguments).exponent(.5)}function gD(t){return Math.sign(t)*t*t}function WJ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function DL(){var t=a1(),e=[0,1],n=!1,r;function i(a){var l=WJ(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(gD(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Tg)).map(gD)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return DL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ki.apply(i,arguments),$o(i)}function IL(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=ZQ(t,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:e[Ed(n,l)]}return a.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(xo),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return IL().domain(t).range(e).unknown(r)},ki.apply(a,arguments)}function NL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(f){return f!=null&&f<=f?i[Ed(r,f,0,n)]:a}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(a=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return NL().domain([t,e]).range(i).unknown(a)},ki.apply($o(l),arguments)}function kL(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Ed(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return kL().domain(t).range(e).unknown(n)},ki.apply(i,arguments)}const x_=new Date,O_=new Date;function Nn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return f;let h;do f.push(h=new Date(+a)),e(a,u),t(a);while(h<a&&a<l);return f},i.filter=a=>Nn(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!a(l););else for(;--u>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(x_.setTime(+a),O_.setTime(+l),t(x_),t(O_),Math.floor(n(x_,O_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const xg=Nn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);xg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):xg);xg.range;const os=1e3,Ci=os*60,ls=Ci*60,vs=ls*24,h1=vs*7,yD=vs*30,R_=vs*365,Ml=Nn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*os)},(t,e)=>(e-t)/os,t=>t.getUTCSeconds());Ml.range;const d1=Nn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*os)},(t,e)=>{t.setTime(+t+e*Ci)},(t,e)=>(e-t)/Ci,t=>t.getMinutes());d1.range;const m1=Nn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ci)},(t,e)=>(e-t)/Ci,t=>t.getUTCMinutes());m1.range;const p1=Nn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*os-t.getMinutes()*Ci)},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getHours());p1.range;const g1=Nn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getUTCHours());g1.range;const Ad=Nn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ci)/vs,t=>t.getDate()-1);Ad.range;const Sy=Nn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>t.getUTCDate()-1);Sy.range;const ML=Nn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>Math.floor(t/vs));ML.range;function ou(t){return Nn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ci)/h1)}const Ty=ou(0),Og=ou(1),XJ=ou(2),QJ=ou(3),Lc=ou(4),JJ=ou(5),ZJ=ou(6);Ty.range;Og.range;XJ.range;QJ.range;Lc.range;JJ.range;ZJ.range;function lu(t){return Nn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/h1)}const Ay=lu(0),Rg=lu(1),eZ=lu(2),tZ=lu(3),Uc=lu(4),nZ=lu(5),rZ=lu(6);Ay.range;Rg.range;eZ.range;tZ.range;Uc.range;nZ.range;rZ.range;const y1=Nn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());y1.range;const v1=Nn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());v1.range;const bs=Nn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});bs.range;const _s=Nn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());_s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});_s.range;function jL(t,e,n,r,i,a){const l=[[Ml,1,os],[Ml,5,5*os],[Ml,15,15*os],[Ml,30,30*os],[a,1,Ci],[a,5,5*Ci],[a,15,15*Ci],[a,30,30*Ci],[i,1,ls],[i,3,3*ls],[i,6,6*ls],[i,12,12*ls],[r,1,vs],[r,2,2*vs],[n,1,h1],[e,1,yD],[e,3,3*yD],[t,1,R_]];function u(h,d,p){const v=d<h;v&&([h,d]=[d,h]);const b=p&&typeof p.range=="function"?p:f(h,d,p),w=b?b.range(h,+d+1):[];return v?w.reverse():w}function f(h,d,p){const v=Math.abs(d-h)/p,b=ZS(([,,S])=>S).right(l,v);if(b===l.length)return t.every(sE(h/R_,d/R_,p));if(b===0)return xg.every(Math.max(sE(h,d,p),1));const[w,E]=l[v/l[b-1][2]<l[b][2]/v?b-1:b];return w.every(E)}return[u,f]}const[iZ,aZ]=jL(_s,v1,Ay,ML,g1,m1),[sZ,oZ]=jL(bs,y1,Ty,Ad,p1,d1);function C_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function P_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function lZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,h=dh(i),d=mh(i),p=dh(a),v=mh(a),b=dh(l),w=mh(l),E=dh(u),S=mh(u),x=dh(f),C=mh(f),O={a:ue,A:ve,b:De,B:H,c:null,d:SD,e:SD,f:DZ,g:BZ,G:qZ,H:RZ,I:CZ,j:PZ,L:LL,m:IZ,M:NZ,p:se,q:ae,Q:xD,s:OD,S:kZ,u:MZ,U:jZ,V:LZ,w:UZ,W:VZ,x:null,X:null,y:$Z,Y:zZ,Z:FZ,"%":AD},V={a:me,A:Te,b:Ue,B:Ve,c:null,d:TD,e:TD,f:YZ,g:iee,G:see,H:HZ,I:KZ,j:GZ,L:VL,m:WZ,M:XZ,p:tn,q:At,Q:xD,s:OD,S:QZ,u:JZ,U:ZZ,V:eee,w:tee,W:nee,x:null,X:null,y:ree,Y:aee,Z:oee,"%":AD},I={a:z,A:B,b:q,B:$,c:ye,d:wD,e:wD,f:TZ,g:_D,G:bD,H:ED,I:ED,j:_Z,L:SZ,m:bZ,M:wZ,p:M,q:vZ,Q:xZ,s:OZ,S:EZ,u:dZ,U:mZ,V:pZ,w:hZ,W:gZ,x:Ne,X:Y,y:_D,Y:bD,Z:yZ,"%":AZ};O.x=D(n,O),O.X=D(r,O),O.c=D(e,O),V.x=D(n,V),V.X=D(r,V),V.c=D(e,V);function D(_e,Ie){return function(Ke){var pe=[],Yt=-1,et=0,on=_e.length,fn,Jt,Rs;for(Ke instanceof Date||(Ke=new Date(+Ke));++Yt<on;)_e.charCodeAt(Yt)===37&&(pe.push(_e.slice(et,Yt)),(Jt=vD[fn=_e.charAt(++Yt)])!=null?fn=_e.charAt(++Yt):Jt=fn==="e"?" ":"0",(Rs=Ie[fn])&&(fn=Rs(Ke,Jt)),pe.push(fn),et=Yt+1);return pe.push(_e.slice(et,Yt)),pe.join("")}}function N(_e,Ie){return function(Ke){var pe=hh(1900,void 0,1),Yt=k(pe,_e,Ke+="",0),et,on;if(Yt!=Ke.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(Ie&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(et=P_(hh(pe.y,0,1)),on=et.getUTCDay(),et=on>4||on===0?Rg.ceil(et):Rg(et),et=Sy.offset(et,(pe.V-1)*7),pe.y=et.getUTCFullYear(),pe.m=et.getUTCMonth(),pe.d=et.getUTCDate()+(pe.w+6)%7):(et=C_(hh(pe.y,0,1)),on=et.getDay(),et=on>4||on===0?Og.ceil(et):Og(et),et=Ad.offset(et,(pe.V-1)*7),pe.y=et.getFullYear(),pe.m=et.getMonth(),pe.d=et.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),on="Z"in pe?P_(hh(pe.y,0,1)).getUTCDay():C_(hh(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(on+5)%7:pe.w+pe.U*7-(on+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,P_(pe)):C_(pe)}}function k(_e,Ie,Ke,pe){for(var Yt=0,et=Ie.length,on=Ke.length,fn,Jt;Yt<et;){if(pe>=on)return-1;if(fn=Ie.charCodeAt(Yt++),fn===37){if(fn=Ie.charAt(Yt++),Jt=I[fn in vD?Ie.charAt(Yt++):fn],!Jt||(pe=Jt(_e,Ke,pe))<0)return-1}else if(fn!=Ke.charCodeAt(pe++))return-1}return pe}function M(_e,Ie,Ke){var pe=h.exec(Ie.slice(Ke));return pe?(_e.p=d.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function z(_e,Ie,Ke){var pe=b.exec(Ie.slice(Ke));return pe?(_e.w=w.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function B(_e,Ie,Ke){var pe=p.exec(Ie.slice(Ke));return pe?(_e.w=v.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function q(_e,Ie,Ke){var pe=x.exec(Ie.slice(Ke));return pe?(_e.m=C.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function $(_e,Ie,Ke){var pe=E.exec(Ie.slice(Ke));return pe?(_e.m=S.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function ye(_e,Ie,Ke){return k(_e,e,Ie,Ke)}function Ne(_e,Ie,Ke){return k(_e,n,Ie,Ke)}function Y(_e,Ie,Ke){return k(_e,r,Ie,Ke)}function ue(_e){return l[_e.getDay()]}function ve(_e){return a[_e.getDay()]}function De(_e){return f[_e.getMonth()]}function H(_e){return u[_e.getMonth()]}function se(_e){return i[+(_e.getHours()>=12)]}function ae(_e){return 1+~~(_e.getMonth()/3)}function me(_e){return l[_e.getUTCDay()]}function Te(_e){return a[_e.getUTCDay()]}function Ue(_e){return f[_e.getUTCMonth()]}function Ve(_e){return u[_e.getUTCMonth()]}function tn(_e){return i[+(_e.getUTCHours()>=12)]}function At(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var Ie=D(_e+="",O);return Ie.toString=function(){return _e},Ie},parse:function(_e){var Ie=N(_e+="",!1);return Ie.toString=function(){return _e},Ie},utcFormat:function(_e){var Ie=D(_e+="",V);return Ie.toString=function(){return _e},Ie},utcParse:function(_e){var Ie=N(_e+="",!0);return Ie.toString=function(){return _e},Ie}}}var vD={"-":"",_:" ",0:"0"},Gn=/^\s*\d+/,uZ=/^%/,cZ=/[\\^$*+?|[\]().{}]/g;function bt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function fZ(t){return t.replace(cZ,"\\$&")}function dh(t){return new RegExp("^(?:"+t.map(fZ).join("|")+")","i")}function mh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function hZ(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function dZ(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mZ(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function pZ(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function gZ(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function bD(t,e,n){var r=Gn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _D(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vZ(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function bZ(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function wD(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _Z(t,e,n){var r=Gn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ED(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function wZ(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function EZ(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function SZ(t,e,n){var r=Gn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function TZ(t,e,n){var r=Gn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function AZ(t,e,n){var r=uZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function xZ(t,e,n){var r=Gn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function OZ(t,e,n){var r=Gn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function SD(t,e){return bt(t.getDate(),e,2)}function RZ(t,e){return bt(t.getHours(),e,2)}function CZ(t,e){return bt(t.getHours()%12||12,e,2)}function PZ(t,e){return bt(1+Ad.count(bs(t),t),e,3)}function LL(t,e){return bt(t.getMilliseconds(),e,3)}function DZ(t,e){return LL(t,e)+"000"}function IZ(t,e){return bt(t.getMonth()+1,e,2)}function NZ(t,e){return bt(t.getMinutes(),e,2)}function kZ(t,e){return bt(t.getSeconds(),e,2)}function MZ(t){var e=t.getDay();return e===0?7:e}function jZ(t,e){return bt(Ty.count(bs(t)-1,t),e,2)}function UL(t){var e=t.getDay();return e>=4||e===0?Lc(t):Lc.ceil(t)}function LZ(t,e){return t=UL(t),bt(Lc.count(bs(t),t)+(bs(t).getDay()===4),e,2)}function UZ(t){return t.getDay()}function VZ(t,e){return bt(Og.count(bs(t)-1,t),e,2)}function $Z(t,e){return bt(t.getFullYear()%100,e,2)}function BZ(t,e){return t=UL(t),bt(t.getFullYear()%100,e,2)}function zZ(t,e){return bt(t.getFullYear()%1e4,e,4)}function qZ(t,e){var n=t.getDay();return t=n>=4||n===0?Lc(t):Lc.ceil(t),bt(t.getFullYear()%1e4,e,4)}function FZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bt(e/60|0,"0",2)+bt(e%60,"0",2)}function TD(t,e){return bt(t.getUTCDate(),e,2)}function HZ(t,e){return bt(t.getUTCHours(),e,2)}function KZ(t,e){return bt(t.getUTCHours()%12||12,e,2)}function GZ(t,e){return bt(1+Sy.count(_s(t),t),e,3)}function VL(t,e){return bt(t.getUTCMilliseconds(),e,3)}function YZ(t,e){return VL(t,e)+"000"}function WZ(t,e){return bt(t.getUTCMonth()+1,e,2)}function XZ(t,e){return bt(t.getUTCMinutes(),e,2)}function QZ(t,e){return bt(t.getUTCSeconds(),e,2)}function JZ(t){var e=t.getUTCDay();return e===0?7:e}function ZZ(t,e){return bt(Ay.count(_s(t)-1,t),e,2)}function $L(t){var e=t.getUTCDay();return e>=4||e===0?Uc(t):Uc.ceil(t)}function eee(t,e){return t=$L(t),bt(Uc.count(_s(t),t)+(_s(t).getUTCDay()===4),e,2)}function tee(t){return t.getUTCDay()}function nee(t,e){return bt(Rg.count(_s(t)-1,t),e,2)}function ree(t,e){return bt(t.getUTCFullYear()%100,e,2)}function iee(t,e){return t=$L(t),bt(t.getUTCFullYear()%100,e,2)}function aee(t,e){return bt(t.getUTCFullYear()%1e4,e,4)}function see(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Uc(t):Uc.ceil(t),bt(t.getUTCFullYear()%1e4,e,4)}function oee(){return"+0000"}function AD(){return"%"}function xD(t){return+t}function OD(t){return Math.floor(+t/1e3)}var sc,BL,zL;lee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lee(t){return sc=lZ(t),BL=sc.format,sc.parse,zL=sc.utcFormat,sc.utcParse,sc}function uee(t){return new Date(t)}function cee(t){return t instanceof Date?+t:+new Date(+t)}function b1(t,e,n,r,i,a,l,u,f,h){var d=a1(),p=d.invert,v=d.domain,b=h(".%L"),w=h(":%S"),E=h("%I:%M"),S=h("%I %p"),x=h("%a %d"),C=h("%b %d"),O=h("%B"),V=h("%Y");function I(D){return(f(D)<D?b:u(D)<D?w:l(D)<D?E:a(D)<D?S:r(D)<D?i(D)<D?x:C:n(D)<D?O:V)(D)}return d.invert=function(D){return new Date(p(D))},d.domain=function(D){return arguments.length?v(Array.from(D,cee)):v().map(uee)},d.ticks=function(D){var N=v();return t(N[0],N[N.length-1],D??10)},d.tickFormat=function(D,N){return N==null?I:h(N)},d.nice=function(D){var N=v();return(!D||typeof D.range!="function")&&(D=e(N[0],N[N.length-1],D??10)),D?v(RL(N,D)):d},d.copy=function(){return Td(d,b1(t,e,n,r,i,a,l,u,f,h))},d}function fee(){return ki.apply(b1(sZ,oZ,bs,y1,Ty,Ad,p1,d1,Ml,BL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hee(){return ki.apply(b1(iZ,aZ,_s,v1,Ay,Sy,g1,m1,Ml,zL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xy(){var t=0,e=1,n,r,i,a,l=Er,u=!1,f;function h(p){return p==null||isNaN(p=+p)?f:l(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(l=p,h):l};function d(p){return function(v){var b,w;return arguments.length?([b,w]=v,l=p(b,w),h):[l(0),l(1)]}}return h.range=d(Wc),h.rangeRound=d(i1),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),h}}function Bo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qL(){var t=$o(xy()(Er));return t.copy=function(){return Bo(t,qL())},As.apply(t,arguments)}function FL(){var t=l1(xy()).domain([1,10]);return t.copy=function(){return Bo(t,FL()).base(t.base())},As.apply(t,arguments)}function HL(){var t=u1(xy());return t.copy=function(){return Bo(t,HL()).constant(t.constant())},As.apply(t,arguments)}function _1(){var t=c1(xy());return t.copy=function(){return Bo(t,_1()).exponent(t.exponent())},As.apply(t,arguments)}function dee(){return _1.apply(null,arguments).exponent(.5)}function KL(){var t=[],e=Er;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ed(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(xo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>JQ(t,a/r))},n.copy=function(){return KL(e).domain(t)},As.apply(n,arguments)}function Oy(){var t=0,e=.5,n=1,r=1,i,a,l,u,f,h=Er,d,p=!1,v;function b(E){return isNaN(E=+E)?v:(E=.5+((E=+d(E))-a)*(r*E<r*a?u:f),h(p?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,n]=E,i=d(t=+t),a=d(e=+e),l=d(n=+n),u=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(E){return arguments.length?(p=!!E,b):p},b.interpolator=function(E){return arguments.length?(h=E,b):h};function w(E){return function(S){var x,C,O;return arguments.length?([x,C,O]=S,h=AJ(E,[x,C,O]),b):[h(0),h(.5),h(1)]}}return b.range=w(Wc),b.rangeRound=w(i1),b.unknown=function(E){return arguments.length?(v=E,b):v},function(E){return d=E,i=E(t),a=E(e),l=E(n),u=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,b}}function GL(){var t=$o(Oy()(Er));return t.copy=function(){return Bo(t,GL())},As.apply(t,arguments)}function YL(){var t=l1(Oy()).domain([.1,1,10]);return t.copy=function(){return Bo(t,YL()).base(t.base())},As.apply(t,arguments)}function WL(){var t=u1(Oy());return t.copy=function(){return Bo(t,WL()).constant(t.constant())},As.apply(t,arguments)}function w1(){var t=c1(Oy());return t.copy=function(){return Bo(t,w1()).exponent(t.exponent())},As.apply(t,arguments)}function mee(){return w1.apply(null,arguments).exponent(.5)}const Ah=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:t1,scaleDiverging:GL,scaleDivergingLog:YL,scaleDivergingPow:w1,scaleDivergingSqrt:mee,scaleDivergingSymlog:WL,scaleIdentity:OL,scaleImplicit:oE,scaleLinear:xL,scaleLog:CL,scaleOrdinal:e1,scalePoint:tJ,scalePow:f1,scaleQuantile:IL,scaleQuantize:NL,scaleRadial:DL,scaleSequential:qL,scaleSequentialLog:FL,scaleSequentialPow:_1,scaleSequentialQuantile:KL,scaleSequentialSqrt:dee,scaleSequentialSymlog:HL,scaleSqrt:YJ,scaleSymlog:PL,scaleThreshold:kL,scaleTime:fee,scaleUtc:hee,tickFormat:AL},Symbol.toStringTag,{value:"Module"}));var zo=t=>t.chartData,pee=ie([zo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Ry=(t,e,n,r)=>r?pee(t):zo(t);function Vc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ri(e)&&ri(n))return!0}return!1}function RD(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function gee(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(ri(n))i=n;else if(typeof n=="function")return;if(ri(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(Vc(l))return l}}function yee(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Vc(r))return RD(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Oe(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&p2.test(i)){var f=p2.exec(i);if(f==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e?.[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(Oe(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e?.[1]))}catch{}else if(typeof a=="string"&&g2.test(a)){var d=g2.exec(a);if(d==null||e==null)u=void 0;else{var p=+d[1];u=e[1]+p}}else u=e?.[1];var v=[l,u];if(Vc(v))return e==null?v:RD(v,e,n)}}}var Xc=1e9,vee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},S1,Qt=!0,Ii="[DecimalError] ",Bl=Ii+"Invalid argument: ",E1=Ii+"Exponent out of range: ",Qc=Math.floor,Al=Math.pow,bee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jr,Fn=1e7,Ft=7,XL=9007199254740991,Cg=Qc(XL/Ft),Se={};Se.absoluteValue=Se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Se.comparedTo=Se.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ft;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Se.dividedBy=Se.div=function(t){return ds(this,new this.constructor(t))};Se.dividedToIntegerBy=Se.idiv=function(t){var e=this,n=e.constructor;return Vt(ds(e,new n(t),0,1),n.precision)};Se.equals=Se.eq=function(t){return!this.cmp(t)};Se.exponent=function(){return wn(this)};Se.greaterThan=Se.gt=function(t){return this.cmp(t)>0};Se.greaterThanOrEqualTo=Se.gte=function(t){return this.cmp(t)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(t){return this.cmp(t)<0};Se.lessThanOrEqualTo=Se.lte=function(t){return this.cmp(t)<1};Se.logarithm=Se.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Jr))throw Error(Ii+"NaN");if(n.s<1)throw Error(Ii+(n.s?"NaN":"-Infinity"));return n.eq(Jr)?new r(0):(Qt=!1,e=ds(od(n,a),od(t,a),a),Qt=!0,Vt(e,i))};Se.minus=Se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ZL(e,t):QL(e,(t.s=-t.s,t))};Se.modulo=Se.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ii+"NaN");return n.s?(Qt=!1,e=ds(n,t,0,1).times(t),Qt=!0,n.minus(e)):Vt(new r(n),i)};Se.naturalExponential=Se.exp=function(){return JL(this)};Se.naturalLogarithm=Se.ln=function(){return od(this)};Se.negated=Se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Se.plus=Se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?QL(e,t):ZL(e,(t.s=-t.s,t))};Se.precision=Se.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bl+t);if(e=wn(i)+1,r=i.d.length-1,n=r*Ft+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Se.squareRoot=Se.sqrt=function(){var t,e,n,r,i,a,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Ii+"NaN")}for(t=wn(u),Qt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=wa(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Qc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(a=r,r=a.plus(ds(u,a,l+2)).times(.5),wa(a.d).slice(0,l)===(e=wa(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Vt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;l+=4}return Qt=!0,Vt(r,n)};Se.times=Se.mul=function(t){var e,n,r,i,a,l,u,f,h,d=this,p=d.constructor,v=d.d,b=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,f=v.length,h=b.length,f<h&&(a=v,v=b,b=a,l=f,f=h,h=l),a=[],l=f+h,r=l;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)u=a[i]+b[r]*v[i-r-1]+e,a[i--]=u%Fn|0,e=u/Fn|0;a[i]=(a[i]+e)%Fn|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Qt?Vt(t,p.precision):t};Se.toDecimalPlaces=Se.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ia(t,0,Xc),e===void 0?e=r.rounding:Ia(e,0,8),Vt(n,t+wn(n)+1,e))};Se.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Yl(r,!0):(Ia(t,0,Xc),e===void 0?e=i.rounding:Ia(e,0,8),r=Vt(new i(r),t+1,e),n=Yl(r,!0,t+1)),n};Se.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Yl(i):(Ia(t,0,Xc),e===void 0?e=a.rounding:Ia(e,0,8),r=Vt(new a(i),t+wn(i)+1,e),n=Yl(r.abs(),!1,t+wn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Se.toInteger=Se.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),wn(t)+1,e.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(t){var e,n,r,i,a,l,u=this,f=u.constructor,h=12,d=+(t=new f(t));if(!t.s)return new f(Jr);if(u=new f(u),!u.s){if(t.s<1)throw Error(Ii+"Infinity");return u}if(u.eq(Jr))return u;if(r=f.precision,t.eq(Jr))return Vt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=u.s,l){if((n=d<0?-d:d)<=XL){for(i=new f(Jr),e=Math.ceil(r/Ft+4),Qt=!1;n%2&&(i=i.times(u),PD(i.d,e)),n=Qc(n/2),n!==0;)u=u.times(u),PD(u.d,e);return Qt=!0,t.s<0?new f(Jr).div(i):Vt(i,r)}}else if(a<0)throw Error(Ii+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Qt=!1,i=t.times(od(u,r+h)),Qt=!0,i=JL(i),i.s=a,i};Se.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=wn(i),r=Yl(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ia(t,1,Xc),e===void 0?e=a.rounding:Ia(e,0,8),i=Vt(new a(i),t,e),n=wn(i),r=Yl(i,t<=n||n<=a.toExpNeg,t)),r};Se.toSignificantDigits=Se.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ia(t,1,Xc),e===void 0?e=r.rounding:Ia(e,0,8)),Vt(new r(n),t,e)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=wn(t),n=t.constructor;return Yl(t,e<=n.toExpNeg||e>=n.toExpPos)};function QL(t,e){var n,r,i,a,l,u,f,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Qt?Vt(e,p):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),a=l-i,a){for(a<0?(r=f,a=-a,u=h.length):(r=h,i=l,u=f.length),l=Math.ceil(p/Ft),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=f.length,a=h.length,u-a<0&&(a=u,r=h,h=f,f=r),n=0;a;)n=(f[--a]=f[a]+h[a]+n)/Fn|0,f[a]%=Fn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Qt?Vt(e,p):e}function Ia(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Bl+t)}function wa(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=Ft-r.length,n&&(a+=mo(n)),a+=r;l=t[e],r=l+"",n=Ft-r.length,n&&(a+=mo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var ds=(function(){function t(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%Fn|0,l=a/Fn|0;return l&&r.unshift(l),r}function e(r,i,a,l){var u,f;if(a!=l)f=a>l?1:-1;else for(u=f=0;u<a;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Fn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,f,h,d,p,v,b,w,E,S,x,C,O,V,I,D,N,k,M=r.constructor,z=r.s==i.s?1:-1,B=r.d,q=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Ii+"Division by zero");for(f=r.e-i.e,N=q.length,I=B.length,b=new M(z),w=b.d=[],h=0;q[h]==(B[h]||0);)++h;if(q[h]>(B[h]||0)&&--f,a==null?C=a=M.precision:l?C=a+(wn(r)-wn(i))+1:C=a,C<0)return new M(0);if(C=C/Ft+2|0,h=0,N==1)for(d=0,q=q[0],C++;(h<I||d)&&C--;h++)O=d*Fn+(B[h]||0),w[h]=O/q|0,d=O%q|0;else{for(d=Fn/(q[0]+1)|0,d>1&&(q=t(q,d),B=t(B,d),N=q.length,I=B.length),V=N,E=B.slice(0,N),S=E.length;S<N;)E[S++]=0;k=q.slice(),k.unshift(0),D=q[0],q[1]>=Fn/2&&++D;do d=0,u=e(q,E,N,S),u<0?(x=E[0],N!=S&&(x=x*Fn+(E[1]||0)),d=x/D|0,d>1?(d>=Fn&&(d=Fn-1),p=t(q,d),v=p.length,S=E.length,u=e(p,E,v,S),u==1&&(d--,n(p,N<v?k:q,v))):(d==0&&(u=d=1),p=q.slice()),v=p.length,v<S&&p.unshift(0),n(E,p,S),u==-1&&(S=E.length,u=e(q,E,N,S),u<1&&(d++,n(E,N<S?k:q,S))),S=E.length):u===0&&(d++,E=[0]),w[h++]=d,u&&E[0]?E[S++]=B[V]||0:(E=[B[V]],S=1);while((V++<I||E[0]!==void 0)&&C--)}return w[0]||w.shift(),b.e=f,Vt(b,l?a+wn(b)+1:a)}})();function JL(t,e){var n,r,i,a,l,u,f=0,h=0,d=t.constructor,p=d.precision;if(wn(t)>16)throw Error(E1+wn(t));if(!t.s)return new d(Jr);for(Qt=!1,u=p,l=new d(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(Al(2,h))/Math.LN10*2+5|0,u+=r,n=i=a=new d(Jr),d.precision=u;;){if(i=Vt(i.times(t),u),n=n.times(++f),l=a.plus(ds(i,n,u)),wa(l.d).slice(0,u)===wa(a.d).slice(0,u)){for(;h--;)a=Vt(a.times(a),u);return d.precision=p,e==null?(Qt=!0,Vt(a,p)):a}a=l}}function wn(t){for(var e=t.e*Ft,n=t.d[0];n>=10;n/=10)e++;return e}function D_(t,e,n){if(e>t.LN10.sd())throw Qt=!0,n&&(t.precision=n),Error(Ii+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function mo(t){for(var e="";t--;)e+="0";return e}function od(t,e){var n,r,i,a,l,u,f,h,d,p=1,v=10,b=t,w=b.d,E=b.constructor,S=E.precision;if(b.s<1)throw Error(Ii+(b.s?"NaN":"-Infinity"));if(b.eq(Jr))return new E(0);if(e==null?(Qt=!1,h=S):h=e,b.eq(10))return e==null&&(Qt=!0),D_(E,h);if(h+=v,E.precision=h,n=wa(w),r=n.charAt(0),a=wn(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=wa(b.d),r=n.charAt(0),p++;a=wn(b),r>1?(b=new E("0."+n),a++):b=new E(r+"."+n.slice(1))}else return f=D_(E,h+2,S).times(a+""),b=od(new E(r+"."+n.slice(1)),h-v).plus(f),E.precision=S,e==null?(Qt=!0,Vt(b,S)):b;for(u=l=b=ds(b.minus(Jr),b.plus(Jr),h),d=Vt(b.times(b),h),i=3;;){if(l=Vt(l.times(d),h),f=u.plus(ds(l,new E(i),h)),wa(f.d).slice(0,h)===wa(u.d).slice(0,h))return u=u.times(2),a!==0&&(u=u.plus(D_(E,h+2,S).times(a+""))),u=ds(u,new E(p),h),E.precision=S,e==null?(Qt=!0,Vt(u,S)):u;u=f,i+=2}}function CD(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Qc(n/Ft),t.d=[],r=(n+1)%Ft,n<0&&(r+=Ft),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ft;r<i;)t.d.push(+e.slice(r,r+=Ft));e=e.slice(r),r=Ft-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Qt&&(t.e>Cg||t.e<-Cg))throw Error(E1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,n){var r,i,a,l,u,f,h,d,p=t.d;for(l=1,a=p[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=Ft,i=e,h=p[d=0];else{if(d=Math.ceil((r+1)/Ft),a=p.length,d>=a)return t;for(h=a=p[d],l=1;a>=10;a/=10)l++;r%=Ft,i=r-Ft+l}if(n!==void 0&&(a=Al(10,l-i-1),u=h/a%10|0,f=e<0||p[d+1]!==void 0||h%a,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/Al(10,l-i):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(a=wn(t),p.length=1,e=e-a-1,p[0]=Al(10,(Ft-e%Ft)%Ft),t.e=Qc(-e/Ft)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=d,a=1,d--):(p.length=d+1,a=Al(10,Ft-r),p[d]=i>0?(h/Al(10,l-i)%Al(10,i)|0)*a:0),f)for(;;)if(d==0){(p[0]+=a)==Fn&&(p[0]=1,++t.e);break}else{if(p[d]+=a,p[d]!=Fn)break;p[d--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Qt&&(t.e>Cg||t.e<-Cg))throw Error(E1+wn(t));return t}function ZL(t,e){var n,r,i,a,l,u,f,h,d,p,v=t.constructor,b=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Qt?Vt(e,b):e;if(f=t.d,p=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(d=l<0,d?(n=f,l=-l,u=p.length):(n=p,r=h,u=f.length),i=Math.max(Math.ceil(b/Ft),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=p.length,d=i<u,d&&(u=i),i=0;i<u;i++)if(f[i]!=p[i]){d=f[i]<p[i];break}l=0}for(d&&(n=f,f=p,p=n,e.s=-e.s),u=f.length,i=p.length-u;i>0;--i)f[u++]=0;for(i=p.length;i>l;){if(f[--i]<p[i]){for(a=i;a&&f[--a]===0;)f[a]=Fn-1;--f[a],f[i]+=Fn}f[i]-=p[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Qt?Vt(e,b):e):new v(0)}function Yl(t,e,n){var r,i=wn(t),a=wa(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+mo(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+mo(-i-1)+a,n&&(r=n-l)>0&&(a+=mo(r))):i>=l?(a+=mo(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+mo(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=mo(r))),t.s<0?"-"+a:a}function PD(t,e){if(t.length>e)return t.length=e,!0}function e4(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Bl+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return CD(l,a.toString())}else if(typeof a!="string")throw Error(Bl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,bee.test(a))CD(l,a);else throw Error(Bl+a)}if(i.prototype=Se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e4,i.config=i.set=_ee,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function _ee(t){if(!t||typeof t!="object")throw Error(Ii+"Object expected");var e,n,r,i=["precision",1,Xc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Qc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Bl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bl+n+": "+r);return this}var S1=e4(vee);Jr=new S1(1);const Dt=S1;var wee=t=>t,t4={},n4=t=>t===t4,DD=t=>function e(){return arguments.length===0||arguments.length===1&&n4(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},r4=(t,e)=>t===1?e:DD(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==t4).length;return a>=t?e(...r):r4(t-a,DD(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var h=r.map(d=>n4(d)?u.shift():d);return e(...h,...u)}))}),Cy=t=>r4(t.length,t),fE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Eee=Cy((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),See=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return wee;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),a(...arguments))}},hE=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),i4=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((l,u)=>{var f;return l===((f=e)===null||f===void 0?void 0:f[u])})||(e=i,n=t(...i)),n}};function a4(t){var e;return t===0?e=1:e=Math.floor(new Dt(t).abs().log(10).toNumber())+1,e}function s4(t,e,n){for(var r=new Dt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Cy((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Cy((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Cy((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var o4=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},l4=(t,e,n)=>{if(t.lte(0))return new Dt(0);var r=a4(t.toNumber()),i=new Dt(10).pow(r),a=t.div(i),l=r!==1?.05:.1,u=new Dt(Math.ceil(a.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return e?new Dt(f.toNumber()):new Dt(Math.ceil(f.toNumber()))},Tee=(t,e,n)=>{var r=new Dt(1),i=new Dt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Dt(10).pow(a4(t)-1),i=new Dt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Dt(Math.floor(t)))}else t===0?i=new Dt(Math.floor((e-1)/2)):n||(i=new Dt(Math.floor(t)));var l=Math.floor((e-1)/2),u=See(Eee(f=>i.add(new Dt(f-l).mul(r)).toNumber()),fE);return u(0,e)},u4=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var l=l4(new Dt(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new Dt(0):(u=new Dt(e).add(n).div(2),u=u.sub(new Dt(u).mod(l)));var f=Math.ceil(u.sub(e).div(l).toNumber()),h=Math.ceil(new Dt(n).sub(u).div(l).toNumber()),d=f+h+1;return d>r?u4(e,n,r,i,a+1):(d<r&&(h=n>0?h+(r-d):h,f=n>0?f:f+(r-d)),{step:l,tickMin:u.sub(new Dt(f).mul(l)),tickMax:u.add(new Dt(h).mul(l))})};function Aee(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[l,u]=o4([e,n]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...fE(0,r-1).map(()=>1/0)]:[...fE(0,r-1).map(()=>-1/0),u];return e>n?hE(f):f}if(l===u)return Tee(l,r,i);var{step:h,tickMin:d,tickMax:p}=u4(l,u,a,i,0),v=s4(d,p.add(new Dt(.1).mul(h)),h);return e>n?hE(v):v}function xee(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=o4([n,r]);if(a===-1/0||l===1/0)return[n,r];if(a===l)return[a];var u=Math.max(e,2),f=l4(new Dt(l).sub(a).div(u-1),i,0),h=[...s4(new Dt(a),new Dt(l),f),l];return i===!1&&(h=h.map(d=>Math.round(d))),n>r?hE(h):h}var Oee=i4(Aee),Ree=i4(xee),c4=t=>t.rootProps.maxBarSize,Cee=t=>t.rootProps.barGap,f4=t=>t.rootProps.barCategoryGap,Pee=t=>t.rootProps.barSize,Py=t=>t.rootProps.stackOffset,T1=t=>t.options.chartName,A1=t=>t.rootProps.syncId,h4=t=>t.rootProps.syncMethod,x1=t=>t.options.eventEmitter,as={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Xr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Dy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Dee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:as.reversed,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:as.type,unit:void 0},Iee={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,ticks:void 0,type:Xr.type,unit:void 0},Nee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:as.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},kee={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,ticks:void 0,type:"category",unit:void 0},O1=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Nee:Dee,R1=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?kee:Iee,Iy=t=>t.polarOptions,C1=ie([Ss,Ts,Kn],AW),d4=ie([Iy,C1],(t,e)=>{if(t!=null)return Qi(t.innerRadius,e,0)}),m4=ie([Iy,C1],(t,e)=>{if(t!=null)return Qi(t.outerRadius,e,e*.8)}),Mee=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},p4=ie([Iy],Mee);ie([O1,p4],Dy);var g4=ie([C1,d4,m4],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ie([R1,g4],Dy);var y4=ie([Tt,Iy,d4,m4,Ss,Ts],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:h}=e;return{cx:Qi(l,i,i/2),cy:Qi(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Sn=(t,e)=>e,Ny=(t,e,n)=>n;function P1(t){return t?.id}var kn=t=>{var e=Tt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Jc=t=>t.tooltip.settings.axisId,Mn=t=>{var e=kn(t),n=Jc(t);return xd(t,e,n)};function v4(t,e,n){var{chartData:r=[]}=e,i=n?.dataKey,a=new Map;return t.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var h=P1(l);f.forEach((d,p)=>{var v=i==null?p:String(Hn(d,i,null)),b=Hn(d,l.dataKey,0),w;a.has(v)?w=a.get(v):w={},Object.assign(w,{[h]:b}),a.set(v,w)})}}),Array.from(a.values())}function ky(t){return t.stackId!=null&&t.dataKey!=null}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){jee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jee(t,e,n){return(e=Lee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lee(t){var e=Uee(t,"string");return typeof e=="symbol"?e:e+""}function Uee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dE=[0,"auto"],Gr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},xs=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Gr},Yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yy},qo=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??Yr},Vee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},D1=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Vee},kr=(t,e,n)=>{switch(e){case"xAxis":return xs(t,n);case"yAxis":return qo(t,n);case"zAxis":return D1(t,n);case"angleAxis":return O1(t,n);case"radiusAxis":return R1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},$ee=(t,e,n)=>{switch(e){case"xAxis":return xs(t,n);case"yAxis":return qo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xd=(t,e,n)=>{switch(e){case"xAxis":return xs(t,n);case"yAxis":return qo(t,n);case"angleAxis":return O1(t,n);case"radiusAxis":return R1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},b4=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function _4(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var My=t=>t.graphicalItems.cartesianItems,Bee=ie([Sn,Ny],_4),w4=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Od=ie([My,kr,Bee],w4),E4=ie([Od],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(ky)),S4=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),T4=ie([Od],S4),A4=t=>t.map(e=>e.data).filter(Boolean).flat(1),zee=ie([Od],A4),x4=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},I1=ie([zee,Ry],x4),O4=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Hn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Hn(i,r)}))):t.map(r=>({value:r})),jy=ie([I1,kr,Od],O4);function R4(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function uu(t){return t.filter(e=>Da(e)||e instanceof Date).map(Number).filter(e=>ei(e)===!1)}function qee(t,e,n){return!n||typeof e!="number"||ei(e)?[]:n.length?uu(n.flatMap(r=>{var i=Hn(t,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!ri(a)||!ri(l)))return[e-a,e+l]})):[]}var Fee=ie([E4,Ry,Mn],v4),C4=(t,e,n)=>{var r={},i=e.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[l,u]=a,f=u.map(P1);return[l,{stackedData:BW(t,f,n),graphicalItems:u}]}))},mE=ie([Fee,E4,Py],C4),P4=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=KW(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Hee=ie([mE,zo,Sn],P4),D4=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(l=>{var u,f,h=(u=r[l.id])===null||u===void 0?void 0:u.filter(p=>R4(i,p)),d=Hn(a,(f=e.dataKey)!==null&&f!==void 0?f:l.dataKey);return{value:d,errorDomain:qee(a,d,h)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:Hn(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),Ly=t=>t.errorBars,I4=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>R4(n,r));ie([T4,Ly,Sn],I4);var Kee=ie([I1,kr,T4,Ly,Sn],D4);function Gee(t){var{value:e}=t;if(Da(e)||e instanceof Date)return e}var ND=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=uu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Yee=(t,e,n)=>{var r=t.map(Gee).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&HM(r))?pL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},N1=t=>{var e;if(t==null||!("domain"in t))return dE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=uu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:dE},Dg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},N4=t=>t.referenceElements.dots,Zc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Wee=ie([N4,Sn,Ny],Zc),k4=t=>t.referenceElements.areas,Xee=ie([k4,Sn,Ny],Zc),M4=t=>t.referenceElements.lines,Qee=ie([M4,Sn,Ny],Zc),j4=(t,e)=>{var n=uu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Jee=ie(Wee,Sn,j4),L4=(t,e)=>{var n=uu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Zee=ie([Xee,Sn],L4),U4=(t,e)=>{var n=uu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ete=ie(Qee,Sn,U4),tte=ie(Jee,ete,Zee,(t,e,n)=>Dg(t,n,e)),nte=ie([kr],N1),V4=(t,e,n,r,i,a,l)=>{var u=gee(e,t.allowDataOverflow);if(u!=null)return u;var f=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",h=f?Dg(n,i,ND(r)):Dg(i,ND(r));return yee(e,h,t.allowDataOverflow)},rte=ie([kr,nte,Hee,Kee,tte,Tt,Sn],V4),ite=[0,1],$4=(t,e,n,r,i,a,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=t,h=Vo(e,a);return h&&u==null?pL(0,n.length):f==="category"?Yee(r,t,h):i==="expand"?ite:l}},k1=ie([kr,Tt,I1,jy,Py,Sn,rte],$4),B4=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:l}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(_d(a));return u in Ah?u:"point"}}},Rd=ie([kr,Tt,b4,T1,Sn],B4);function ate(t){if(t!=null){if(t in Ah)return Ah[t]();var e="scale".concat(_d(t));if(e in Ah)return Ah[e]()}}function M1(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=ate(e);if(i!=null){var a=i.domain(n).range(r);return jW(a),a}}}var z4=(t,e,n)=>{var r=N1(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Vc(t))return Oee(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Vc(t))return Ree(t,e.tickCount,e.allowDecimals)}},j1=ie([k1,xd,Rd],z4),q4=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Vc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(l,u)]}return e},ste=ie([kr,k1,j1,Sn],q4),ote=ie(jy,kr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(uu(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),F4=ie(ote,Tt,f4,Kn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ri(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=Qi(n,t*a),u=t*a/2;return u-l-(u-l)/a*l}return 0}),lte=(t,e)=>{var n=xs(t,e);return n==null||typeof n.padding!="string"?0:F4(t,"xAxis",e,n.padding)},ute=(t,e)=>{var n=qo(t,e);return n==null||typeof n.padding!="string"?0:F4(t,"yAxis",e,n.padding)},cte=ie(xs,lte,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),fte=ie(qo,ute,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),hte=ie([Kn,cte,by,vy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),dte=ie([Kn,Tt,fte,by,vy,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Cd=(t,e,n,r)=>{var i;switch(e){case"xAxis":return hte(t,n,r);case"yAxis":return dte(t,n,r);case"zAxis":return(i=D1(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return p4(t);case"radiusAxis":return g4(t,n);default:return}},H4=ie([kr,Cd],Dy),ef=ie([kr,Rd,ste,H4],M1);ie([Od,Ly,Sn],I4);function K4(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Uy=(t,e)=>e,Vy=(t,e,n)=>n,mte=ie(KS,Uy,Vy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(K4)),pte=ie(GS,Uy,Vy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(K4)),G4=(t,e)=>({width:t.width,height:e.height}),gte=(t,e)=>{var n=typeof e.width=="number"?e.width:yy;return{width:n,height:t.height}},Y4=ie(Kn,xs,G4),yte=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},vte=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},bte=ie(Ts,Kn,mte,Uy,Vy,(t,e,n,r,i)=>{var a={},l;return n.forEach(u=>{var f=G4(e,u);l==null&&(l=yte(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),a}),_te=ie(Ss,Kn,pte,Uy,Vy,(t,e,n,r,i)=>{var a={},l;return n.forEach(u=>{var f=gte(e,u);l==null&&(l=vte(e,r,t));var h=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),a}),wte=(t,e)=>{var n=Kn(t),r=xs(t,e);if(r!=null){var i=bte(t,r.orientation,r.mirror),a=i[e];return a==null?{x:n.left,y:0}:{x:n.left,y:a}}},Ete=(t,e)=>{var n=Kn(t),r=qo(t,e);if(r!=null){var i=_te(t,r.orientation,r.mirror),a=i[e];return a==null?{x:0,y:n.top}:{x:a,y:n.top}}},W4=ie(Kn,qo,(t,e)=>{var n=typeof e.width=="number"?e.width:yy;return{width:n,height:t.height}}),kD=(t,e,n)=>{switch(e){case"xAxis":return Y4(t,n).width;case"yAxis":return W4(t,n).height;default:return}},X4=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=Vo(t,r),f=e.map(h=>h.value);if(l&&u&&a==="category"&&i&&HM(f))return f}},L1=ie([Tt,jy,kr,Sn],X4),Q4=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=Vo(t,r);if(l&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},U1=ie([Tt,jy,xd,Sn],Q4),MD=ie([Tt,$ee,Rd,ef,L1,U1,Cd,j1,Sn],(t,e,n,r,i,a,l,u,f)=>{if(e==null)return null;var h=Vo(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}),Ste=(t,e,n,r,i,a,l,u,f)=>{if(!(e==null||r==null)){var h=Vo(t,f),{type:d,ticks:p,tickCount:v}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=d==="category"&&r.bandwidth?r.bandwidth()/b:0;w=f==="angleAxis"&&a!=null&&a.length>=2?Dr(a[0]-a[1])*2*w:w;var E=p||i;if(E){var S=E.map((x,C)=>{var O=l?l.indexOf(x):x;return{index:C,coordinate:r(O)+w,value:x,offset:w}});return S.filter(x=>!ei(x.coordinate))}return h&&u?u.map((x,C)=>({coordinate:r(x)+w,value:x,index:C,offset:w})):r.ticks?r.ticks(v).map(x=>({coordinate:r(x)+w,value:x,offset:w})):r.domain().map((x,C)=>({coordinate:r(x)+w,value:l?l[x]:x,index:C,offset:w}))}},J4=ie([Tt,xd,Rd,ef,j1,Cd,L1,U1,Sn],Ste),Tte=(t,e,n,r,i,a,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Vo(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?Dr(r[0]-r[1])*2*h:h,u&&a?a.map((d,p)=>({coordinate:n(d)+h,value:d,index:p,offset:h})):n.ticks?n.ticks(f).map(d=>({coordinate:n(d)+h,value:d,offset:h})):n.domain().map((d,p)=>({coordinate:n(d)+h,value:i?i[d]:d,index:p,offset:h}))}},ko=ie([Tt,xd,ef,Cd,L1,U1,Sn],Tte),Mo=ie(kr,ef,(t,e)=>{if(!(t==null||e==null))return Pg(Pg({},t),{},{scale:e})}),Ate=ie([kr,Rd,k1,H4],M1);ie((t,e,n)=>D1(t,n),Ate,(t,e)=>{if(!(t==null||e==null))return Pg(Pg({},t),{},{scale:e})});var xte=ie([Tt,KS,GS],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Z4=t=>t.options.defaultTooltipEventType,e3=t=>t.options.validateTooltipEventTypes;function t3(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function V1(t,e){var n=Z4(t),r=e3(t);return t3(e,n,r)}function Ote(t){return Le(e=>V1(e,t))}var n3=(t,e)=>{var n,r=Number(e);if(!(ei(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Rte=t=>t.tooltip.settings,vo={active:!1,index:null,dataKey:void 0,coordinate:void 0},Cte={itemInteraction:{click:vo,hover:vo},axisInteraction:{click:vo,hover:vo},keyboardInteraction:vo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},r3=ii({name:"tooltip",initialState:Cte,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=hs(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Pte,removeTooltipEntrySettings:Dte,setTooltipSettingsState:Ite,setActiveMouseOverItemIndex:i3,mouseLeaveItem:Nte,mouseLeaveChart:a3,setActiveClickItemIndex:kte,setMouseOverAxisIndex:s3,setMouseClickAxisIndex:Mte,setSyncInteraction:pE,setKeyboardInteraction:gE}=r3.actions,jte=r3.reducer;function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){Lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lte(t,e,n){return(e=Ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $te(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Bte(t){return t.index!=null}var o3=(t,e,n,r)=>{if(e==null)return vo;var i=$te(t,e,n);if(i==null)return vo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Bte(i)){if(a)return yp(yp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return yp(yp({},vo),{},{coordinate:i.coordinate})},$1=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!ri(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},l3=(t,e,n,r,i,a,l,u)=>{if(!(a==null||u==null)){var f=l[0],h=f==null?void 0:u(f.positions,a);if(h!=null)return h;var d=i?.[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},u3=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},Pd=t=>t.options.tooltipPayloadSearcher,tf=t=>t.tooltip;function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e,n){return(e=qte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qte(t){var e=Fte(t,"string");return typeof e=="symbol"?e:e+""}function Fte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hte(t,e){return t??e}var c3=(t,e,n,r,i,a,l)=>{if(!(e==null||a==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:d}=n,p=[];return t.reduce((v,b)=>{var w,{dataDefinedOnItem:E,settings:S}=b,x=Hte(E,u),C=Array.isArray(x)?Xj(x,h,d):x,O=(w=S?.dataKey)!==null&&w!==void 0?w:r?.dataKey,V=S?.nameKey,I;if(r!=null&&r.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&l==="axis"?I=KM(C,r.dataKey,i):I=a(C,e,f,V),Array.isArray(I))I.forEach(N=>{var k=UD(UD({},S),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});v.push(y2({tooltipEntrySettings:k,dataKey:N.dataKey,payload:N.payload,value:Hn(N.payload,N.dataKey),name:N.name}))});else{var D;v.push(y2({tooltipEntrySettings:S,dataKey:O,payload:I,value:Hn(I,O),name:(D=Hn(I,V))!==null&&D!==void 0?D:S?.name}))}return v},p)}},B1=ie([Mn,Tt,b4,T1,kn],B4),Kte=ie([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Gte=ie([kn,Jc],_4),Dd=ie([Kte,Mn,Gte],w4),Yte=ie([Dd],t=>t.filter(ky)),Wte=ie([Dd],A4),nf=ie([Wte,zo],x4),Xte=ie([Yte,zo,Mn],v4),z1=ie([nf,Mn,Dd],O4),Qte=ie([Mn],N1),Jte=ie([Dd],t=>t.filter(ky)),Zte=ie([Xte,Jte,Py],C4),ene=ie([Zte,zo,kn],P4),tne=ie([Dd],S4),nne=ie([nf,Mn,tne,Ly,kn],D4),rne=ie([N4,kn,Jc],Zc),ine=ie([rne,kn],j4),ane=ie([k4,kn,Jc],Zc),sne=ie([ane,kn],L4),one=ie([M4,kn,Jc],Zc),lne=ie([one,kn],U4),une=ie([ine,lne,sne],Dg),cne=ie([Mn,Qte,ene,nne,une,Tt,kn],V4),f3=ie([Mn,Tt,nf,z1,Py,kn,cne],$4),fne=ie([f3,Mn,B1],z4),hne=ie([Mn,f3,fne,kn],q4),h3=t=>{var e=kn(t),n=Jc(t),r=!1;return Cd(t,e,n,r)},d3=ie([Mn,h3],Dy),m3=ie([Mn,B1,hne,d3],M1),dne=ie([Tt,z1,Mn,kn],X4),mne=ie([Tt,z1,Mn,kn],Q4),pne=(t,e,n,r,i,a,l,u)=>{if(e){var{type:f}=e,h=Vo(t,u);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=f==="category"&&r.bandwidth?r.bandwidth()/d:0;return p=u==="angleAxis"&&i!=null&&i?.length>=2?Dr(i[0]-i[1])*2*p:p,h&&l?l.map((v,b)=>({coordinate:r(v)+p,value:v,index:b,offset:p})):r.domain().map((v,b)=>({coordinate:r(v)+p,value:a?a[v]:v,index:b,offset:p}))}}},Os=ie([Tt,Mn,B1,m3,h3,dne,mne,kn],pne),q1=ie([Z4,e3,Rte],(t,e,n)=>t3(n.shared,t,e)),p3=t=>t.tooltip.settings.trigger,F1=t=>t.tooltip.settings.defaultIndex,$y=ie([tf,q1,p3,F1],o3),Wl=ie([$y,nf],$1),g3=ie([Os,Wl],n3),y3=ie([$y],t=>{if(t)return t.dataKey}),v3=ie([tf,q1,p3,F1],u3),gne=ie([Ss,Ts,Tt,Kn,Os,F1,v3,Pd],l3),yne=ie([$y,gne],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),vne=ie([$y],t=>t.active),bne=ie([v3,Wl,zo,Mn,g3,Pd,q1],c3),_ne=ie([bne],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wne(t,e,n){return(e=Ene(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ene(t){var e=Sne(t,"string");return typeof e=="symbol"?e:e+""}function Sne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tne=()=>Le(Mn),Ane=()=>{var t=Tne(),e=Le(Os),n=Le(m3);return td($D($D({},t),{},{scale:n}),e)},xne=()=>Le(T1),H1=(t,e)=>e,b3=(t,e,n)=>n,K1=(t,e,n,r)=>r,One=ie(Os,t=>uy(t,e=>e.coordinate)),G1=ie([tf,H1,b3,K1],o3),_3=ie([G1,nf],$1),Rne=(t,e,n)=>{if(e!=null){var r=tf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},w3=ie([tf,H1,b3,K1],u3),Ig=ie([Ss,Ts,Tt,Kn,Os,K1,w3,Pd],l3),Cne=ie([G1,Ig],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),E3=ie(Os,_3,n3),Pne=ie([w3,_3,zo,Mn,E3,Pd,H1],c3),Dne=ie([G1],t=>({isActive:t.active,activeIndex:t.index})),Ine=(t,e,n,r,i,a,l,u)=>{if(!(!t||!e||!r||!i||!a)){var f=GW(t.chartX,t.chartY,e,n,u);if(f){var h=WW(f,e),d=kW(h,l,a,r,i),p=YW(e,a,d,f);return{activeIndex:String(d),activeCoordinate:p}}}};function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yE.apply(null,arguments)}function BD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BD(Object(n),!0).forEach(function(r){Nne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nne(t,e,n){return(e=kne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kne(t){var e=Mne(t,"string");return typeof e=="symbol"?e:e+""}function Mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jne(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:l,cursor:u,tooltipEventType:f,chartName:h}=t,d=e,p=n,v=r;if(!u||!d||h!=="ScatterChart"&&f!=="axis")return null;var b,w;if(h==="ScatterChart")b=d,w=XX;else if(h==="BarChart")b=QX(l,d,i,a),w=fL;else if(l==="radial"){var{cx:E,cy:S,radius:x,startAngle:C,endAngle:O}=hL(d);b={cx:E,cy:S,startAngle:C,endAngle:O,innerRadius:x,outerRadius:x},w=mL}else b={points:MQ(l,d,i)},w=iL;var V=typeof u=="object"&&"className"in u?u.className:void 0,I=vp(vp(vp(vp({stroke:"#ccc",pointerEvents:"none"},i),b),sn(u,!1)),{},{payload:p,payloadIndex:v,className:It("recharts-tooltip-cursor",V)});return A.isValidElement(u)?A.cloneElement(u,I):A.createElement(w,I)}function Lne(t){var e=Ane(),n=tL(),r=_y(),i=xne();return A.createElement(jne,yE({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var S3=A.createContext(null),Une=()=>A.useContext(S3),I_={exports:{}},zD;function Vne(){return zD||(zD=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,d){this.fn=f,this.context=h,this.once=d||!1}function a(f,h,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var b=new i(d,p||f,v),w=n?n+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],d,p;if(this._eventsCount===0)return h;for(p in d=this._events)e.call(d,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},u.prototype.listeners=function(h){var d=n?n+h:h,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,b=p.length,w=new Array(b);v<b;v++)w[v]=p[v].fn;return w},u.prototype.listenerCount=function(h){var d=n?n+h:h,p=this._events[d];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,d,p,v,b,w){var E=n?n+h:h;if(!this._events[E])return!1;var S=this._events[E],x=arguments.length,C,O;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),x){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,d),!0;case 3:return S.fn.call(S.context,d,p),!0;case 4:return S.fn.call(S.context,d,p,v),!0;case 5:return S.fn.call(S.context,d,p,v,b),!0;case 6:return S.fn.call(S.context,d,p,v,b,w),!0}for(O=1,C=new Array(x-1);O<x;O++)C[O-1]=arguments[O];S.fn.apply(S.context,C)}else{var V=S.length,I;for(O=0;O<V;O++)switch(S[O].once&&this.removeListener(h,S[O].fn,void 0,!0),x){case 1:S[O].fn.call(S[O].context);break;case 2:S[O].fn.call(S[O].context,d);break;case 3:S[O].fn.call(S[O].context,d,p);break;case 4:S[O].fn.call(S[O].context,d,p,v);break;default:if(!C)for(I=1,C=new Array(x-1);I<x;I++)C[I-1]=arguments[I];S[O].fn.apply(S[O].context,C)}}return!0},u.prototype.on=function(h,d,p){return a(this,h,d,p,!1)},u.prototype.once=function(h,d,p){return a(this,h,d,p,!0)},u.prototype.removeListener=function(h,d,p,v){var b=n?n+h:h;if(!this._events[b])return this;if(!d)return l(this,b),this;var w=this._events[b];if(w.fn)w.fn===d&&(!v||w.once)&&(!p||w.context===p)&&l(this,b);else{for(var E=0,S=[],x=w.length;E<x;E++)(w[E].fn!==d||v&&!w[E].once||p&&w[E].context!==p)&&S.push(w[E]);S.length?this._events[b]=S.length===1?S[0]:S:l(this,b)}return this},u.prototype.removeAllListeners=function(h){var d;return h?(d=n?n+h:h,this._events[d]&&l(this,d)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(I_)),I_.exports}var $ne=Vne();const Bne=Zi($ne);var ld=new Bne,vE="recharts.syncEvent.tooltip",qD="recharts.syncEvent.brush";function T3(t,e){if(e){var n=Number.parseInt(e,10);if(!ei(n))return t?.[n]}}var zne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},A3=ii({name:"options",initialState:zne,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qne=A3.reducer,{createEventEmitter:Fne}=A3.actions;function Hne(t){return t.tooltip.syncInteraction}var Kne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},x3=ii({name:"chartData",initialState:Kne,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:FD,setDataStartEndIndexes:Gne,setComputedData:uue}=x3.actions,Yne=x3.reducer,O3=()=>{};function Wne(){var t=Le(A1),e=Le(x1),n=En(),r=Le(h4),i=Le(Os),a=_y(),l=YS(),u=Le(f=>f.rootProps.className);A.useEffect(()=>{if(t==null)return O3;var f=(h,d,p)=>{if(e!==p&&t===h){if(r==="index"){n(d);return}if(i!=null){var v;if(typeof r=="function"){var b={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},w=r(i,b);v=i[w]}else r==="value"&&(v=i.find(D=>String(D.value)===d.payload.label));var{coordinate:E}=d.payload;if(v==null||d.payload.active===!1||E==null||l==null){n(pE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:x}=E,C=Math.min(S,l.x+l.width),O=Math.min(x,l.y+l.height),V={x:a==="horizontal"?v.coordinate:C,y:a==="horizontal"?O:v.coordinate},I=pE({active:d.payload.active,coordinate:V,dataKey:d.payload.dataKey,index:String(v.index),label:d.payload.label});n(I)}}};return ld.on(vE,f),()=>{ld.off(vE,f)}},[u,n,e,t,r,i,a,l])}function Xne(){var t=Le(A1),e=Le(x1),n=En();A.useEffect(()=>{if(t==null)return O3;var r=(i,a,l)=>{e!==l&&t===i&&n(Gne(a))};return ld.on(qD,r),()=>{ld.off(qD,r)}},[n,e,t])}function Qne(){var t=En();A.useEffect(()=>{t(Fne())},[t]),Wne(),Xne()}function Jne(t,e,n,r,i,a){var l=Le(v=>Rne(v,t,e)),u=Le(x1),f=Le(A1),h=Le(h4),d=Le(Hne),p=d?.active;A.useEffect(()=>{if(!p&&f!=null&&u!=null){var v=pE({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});ld.emit(vE,f,v,u)}},[p,n,l,i,r,u,f,h,a])}function HD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(n),!0).forEach(function(r){Zne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zne(t,e,n){return(e=ere(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ere(t){var e=tre(t,"string");return typeof e=="symbol"?e:e+""}function tre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nre(t){return t.dataKey}function rre(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(RX,e)}var GD=[],ire={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Yc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Y1(t){var e=ka(t,ire),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:l,filterNull:u,isAnimationActive:f,offset:h,payloadUniqBy:d,position:p,reverseDirection:v,useTranslate3d:b,wrapperStyle:w,cursor:E,shared:S,trigger:x,defaultIndex:C,portal:O,axisId:V}=e,I=En(),D=typeof C=="number"?String(C):C;A.useEffect(()=>{I(Ite({shared:S,trigger:x,axisId:V,active:n,defaultIndex:D}))},[I,S,x,V,n,D]);var N=YS(),k=rL(),M=Ote(S),{activeIndex:z,isActive:B}=Le(Ue=>Dne(Ue,M,x,D)),q=Le(Ue=>Pne(Ue,M,x,D)),$=Le(Ue=>E3(Ue,M,x,D)),ye=Le(Ue=>Cne(Ue,M,x,D)),Ne=q,Y=Une(),ue=n??B,[ve,De]=Aj([Ne,ue]),H=M==="axis"?$:void 0;Jne(M,x,ye,H,z,ue);var se=O??Y;if(se==null)return null;var ae=Ne??GD;ue||(ae=GD),u&&ae.length&&(ae=_j(Ne.filter(Ue=>Ue.value!=null&&(Ue.hide!==!0||e.includeHidden)),d,nre));var me=ae.length>0,Te=A.createElement(MX,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:f,active:ue,coordinate:ye,hasPayload:me,offset:h,position:p,reverseDirection:v,useTranslate3d:b,viewBox:N,wrapperStyle:w,lastBoundingBox:ve,innerRef:De,hasPortalFromProps:!!O},rre(l,KD(KD({},e),{},{payload:ae,label:H,active:ue,coordinate:ye,accessibilityLayer:k})));return A.createElement(A.Fragment,null,LE.createPortal(Te,se),ue&&A.createElement(Lne,{cursor:E,tooltipEventType:M,coordinate:ye,payload:Ne,index:z}))}var N_={},k_={},M_={},YD;function are(){return YD||(YD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let l,u=null;const f=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),d=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},p=()=>{h&&d(),E()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},E=()=>{w(),l=void 0,u=null},S=()=>{d()},x=function(...C){if(i?.aborted)return;l=this,u=C;const O=v==null;b(),f&&O&&d()};return x.schedule=b,x.cancel=E,x.flush=S,i?.addEventListener("abort",E,{once:!0}),x}t.debounce=e})(M_)),M_}var WD;function sre(){return WD||(WD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=are();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:f}=a,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let d,p=null;const v=e.debounce(function(...E){d=r.apply(this,E),p=null},i,{edges:h}),b=function(...E){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(d=r.apply(this,E),p=Date.now(),v.cancel(),v.schedule(),d):(v.apply(this,E),d)},w=()=>(v.flush(),d);return b.cancel=v.cancel,b.flush=w,b}t.debounce=n})(k_)),k_}var XD;function ore(){return XD||(XD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sre();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(N_)),N_}var j_,QD;function lre(){return QD||(QD=1,j_=ore().throttle),j_}var ure=lre();const cre=Zi(ure);var Mh=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return(e=hre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hre(t){var e=dre(t,"string");return typeof e=="symbol"?e:e+""}function dre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var By=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:l=0,minHeight:u,maxHeight:f,children:h,debounce:d=0,id:p,className:v,onResize:b,style:w={}}=t,E=A.useRef(null),S=A.useRef();S.current=b,A.useImperativeHandle(e,()=>E.current);var[x,C]=A.useState({containerWidth:r.width,containerHeight:r.height}),O=A.useCallback((I,D)=>{C(N=>{var k=Math.round(I),M=Math.round(D);return N.containerWidth===k&&N.containerHeight===M?N:{containerWidth:k,containerHeight:M}})},[]);A.useEffect(()=>{var I=M=>{var z,{width:B,height:q}=M[0].contentRect;O(B,q),(z=S.current)===null||z===void 0||z.call(S,B,q)};d>0&&(I=cre(I,d,{trailing:!0,leading:!1}));var D=new ResizeObserver(I),{width:N,height:k}=E.current.getBoundingClientRect();return O(N,k),D.observe(E.current),()=>{D.disconnect()}},[O,d]);var V=A.useMemo(()=>{var{containerWidth:I,containerHeight:D}=x;if(I<0||D<0)return null;Mh(Il(i)||Il(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Mh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var N=Il(i)?I:i,k=Il(a)?D:a;return n&&n>0&&(N?k=N/n:k&&(N=k*n),f&&k>f&&(k=f)),Mh(N>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,k,i,a,l,u,n),A.Children.map(h,M=>A.cloneElement(M,{width:N,height:k,style:L_({width:N,height:k},M.props.style)}))},[n,h,a,f,u,l,x,i]);return A.createElement("div",{id:p?"".concat(p):void 0,className:It("recharts-responsive-container",v),style:L_(L_({},w),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:f}),ref:E},A.createElement("div",{style:{width:0,height:0,overflow:"visible"}},V))}),R3=t=>null;R3.displayName="Cell";function mre(t,e,n){return(e=pre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pre(t){var e=gre(t,"string");return typeof e=="symbol"?e:e+""}function gre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yre{constructor(e){mre(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bre(t,e,n){return(e=_re(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _re(t){var e=wre(t,"string");return typeof e=="symbol"?e:e+""}function wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ere={cacheSize:2e3,enableCache:!0},C3=vre({},Ere),eI=new yre(C3.cacheSize),Sre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tI="recharts_measurement_span";function Tre(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var nI=(t,e)=>{try{var n=document.getElementById(tI);n||(n=document.createElement("span"),n.setAttribute("id",tI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Sre,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},jh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Yc.isSsr)return{width:0,height:0};if(!C3.enableCache)return nI(e,n);var r=Tre(e,n),i=eI.get(r);if(i)return i;var a=nI(e,n);return eI.set(r,a),a},rI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Are=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,P3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ore=Object.keys(P3),mc="NaN";function Rre(t,e){return t*P3[e]}class Rr{static parse(e){var n,[,r,i]=(n=xre.exec(e))!==null&&n!==void 0?n:[];return new Rr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ei(e)&&(this.unit=""),n!==""&&!Are.test(n)&&(this.num=NaN,this.unit=""),Ore.includes(n)&&(this.num=Rre(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Rr(NaN,""):new Rr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Rr(NaN,""):new Rr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Rr(NaN,""):new Rr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Rr(NaN,""):new Rr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ei(this.num)}}function D3(t){if(t.includes(mc))return mc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=rI.exec(e))!==null&&n!==void 0?n:[],l=Rr.parse(r??""),u=Rr.parse(a??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return mc;e=e.replace(rI,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,d,p,v]=(h=iI.exec(e))!==null&&h!==void 0?h:[],b=Rr.parse(d??""),w=Rr.parse(v??""),E=p==="+"?b.add(w):b.subtract(w);if(E.isNaN())return mc;e=e.replace(iI,E.toString())}return e}var aI=/\(([^()]*)\)/;function Cre(t){for(var e=t,n;(n=aI.exec(e))!=null;){var[,r]=n;e=e.replace(aI,D3(r))}return e}function Pre(t){var e=t.replace(/\s+/g,"");return e=Cre(e),e=D3(e),e}function Dre(t){try{return Pre(t)}catch{return mc}}function U_(t){var e=Dre(t.slice(5,-1));return e===mc?"":e}var Ire=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Nre=["dx","dy","angle","className","breakAll"];function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(null,arguments)}function sI(t,e){if(t==null)return{};var n,r,i=kre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var I3=/[ \f\n\r\t\v\u2028\u2029]+/,N3=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Gt(e)||(n?i=e.toString().split(""):i=e.toString().split(I3));var a=i.map(u=>({word:u,width:jh(u,r).width})),l=n?0:jh(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},Mre=(t,e,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:f}=t,h=Oe(a),d=l,p=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce((q,$)=>{var{word:ye,width:Ne}=$,Y=q[q.length-1];if(Y&&(r==null||i||Y.width+Ne+n<Number(r)))Y.words.push(ye),Y.width+=Ne+n;else{var ue={words:[ye],width:Ne};q.push(ue)}return q},[])},v=p(e),b=z=>z.reduce((B,q)=>B.width>q.width?B:q);if(!h||i)return v;var w=v.length>a||b(v).width>Number(r);if(!w)return v;for(var E="…",S=z=>{var B=d.slice(0,z),q=N3({breakAll:f,style:u,children:B+E}).wordsWithComputedWidth,$=p(q),ye=$.length>a||b($).width>Number(r);return[ye,$]},x=0,C=d.length-1,O=0,V;x<=C&&O<=d.length-1;){var I=Math.floor((x+C)/2),D=I-1,[N,k]=S(D),[M]=S(I);if(!N&&!M&&(x=I+1),N&&M&&(C=I-1),!N&&M){V=k;break}O++}return V||v},oI=t=>{var e=Gt(t)?[]:t.toString().split(I3);return[{words:e}]},jre=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=t;if((e||n)&&!Yc.isSsr){var u,f,h=N3({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:d,spaceWidth:p}=h;u=d,f=p}else return oI(r);return Mre({breakAll:a,children:r,maxLines:l,style:i},u,f,e,n)}return oI(r)},lI="#808080",W1=A.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:f="end",fill:h=lI}=t,d=sI(t,Ire),p=A.useMemo(()=>jre({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:v,dy:b,angle:w,className:E,breakAll:S}=d,x=sI(d,Nre);if(!Da(n)||!Da(r))return null;var C=n+(Oe(v)?v:0),O=r+(Oe(b)?b:0),V;switch(f){case"start":V=U_("calc(".concat(a,")"));break;case"middle":V=U_("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:V=U_("calc(".concat(p.length-1," * -").concat(i,")"));break}var I=[];if(l){var D=p[0].width,{width:N}=d;I.push("scale(".concat(Oe(N)?N/D:1,")"))}return w&&I.push("rotate(".concat(w,", ").concat(C,", ").concat(O,")")),I.length&&(x.transform=I.join(" ")),A.createElement("text",bE({},sn(x,!0),{ref:e,x:C,y:O,className:It("recharts-text",E),textAnchor:u,fill:h.includes("url")?lI:h}),p.map((k,M)=>{var z=k.words.join(S?"":" ");return A.createElement("tspan",{x:C,dy:M===0?V:i,key:"".concat(z,"-").concat(M)},z)}))});W1.displayName="Text";var Lre=["offset"],Ure=["labelRef"];function uI(t,e){if(t==null)return{};var n,r,i=Vre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){$re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $re(t,e,n){return(e=Bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){var e=zre(t,"string");return typeof e=="symbol"?e:e+""}function zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(null,arguments)}var qre=t=>{var{value:e,formatter:n}=t,r=Gt(t.children)?e:t.children;return typeof n=="function"?n(r):r},X1=t=>t!=null&&typeof t=="function",Fre=(t,e)=>{var n=Dr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Hre=(t,e,n,r)=>{var{position:i,offset:a,className:l}=t,{cx:u,cy:f,innerRadius:h,outerRadius:d,startAngle:p,endAngle:v,clockWise:b}=r,w=(h+d)/2,E=Fre(p,v),S=E>=0?1:-1,x,C;i==="insideStart"?(x=p+S*a,C=b):i==="insideEnd"?(x=v-S*a,C=!b):i==="end"&&(x=v+S*a,C=b),C=E<=0?C:!C;var O=ir(u,f,w,x),V=ir(u,f,w,x+(C?1:-1)*359),I="M".concat(O.x,",").concat(O.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(V.x,",").concat(V.y),D=Gt(t.id)?Jh("recharts-radial-line-"):t.id;return A.createElement("text",ss({},n,{dominantBaseline:"central",className:It("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:D,d:I})),A.createElement("textPath",{xlinkHref:"#".concat(D)},e))},Kre=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:f}=t,h=(u+f)/2;if(n==="outside"){var{x:d,y:p}=ir(r,i,l+e,h);return{x:d,y:p,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+l)/2,{x:b,y:w}=ir(r,i,v,h);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Gre=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:a,y:l,width:u,height:f}=e,h=f>=0?1:-1,d=h*r,p=h>0?"end":"start",v=h>0?"start":"end",b=u>=0?1:-1,w=b*r,E=b>0?"end":"start",S=b>0?"start":"end";if(i==="top"){var x={x:a+u/2,y:l-h*r,textAnchor:"middle",verticalAnchor:p};return an(an({},x),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var C={x:a+u/2,y:l+f+d,textAnchor:"middle",verticalAnchor:v};return an(an({},C),n?{height:Math.max(n.y+n.height-(l+f),0),width:u}:{})}if(i==="left"){var O={x:a-w,y:l+f/2,textAnchor:E,verticalAnchor:"middle"};return an(an({},O),n?{width:Math.max(O.x-n.x,0),height:f}:{})}if(i==="right"){var V={x:a+u+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"};return an(an({},V),n?{width:Math.max(n.x+n.width-V.x,0),height:f}:{})}var I=n?{width:u,height:f}:{};return i==="insideLeft"?an({x:a+w,y:l+f/2,textAnchor:S,verticalAnchor:"middle"},I):i==="insideRight"?an({x:a+u-w,y:l+f/2,textAnchor:E,verticalAnchor:"middle"},I):i==="insideTop"?an({x:a+u/2,y:l+d,textAnchor:"middle",verticalAnchor:v},I):i==="insideBottom"?an({x:a+u/2,y:l+f-d,textAnchor:"middle",verticalAnchor:p},I):i==="insideTopLeft"?an({x:a+w,y:l+d,textAnchor:S,verticalAnchor:v},I):i==="insideTopRight"?an({x:a+u-w,y:l+d,textAnchor:E,verticalAnchor:v},I):i==="insideBottomLeft"?an({x:a+w,y:l+f-d,textAnchor:S,verticalAnchor:p},I):i==="insideBottomRight"?an({x:a+u-w,y:l+f-d,textAnchor:E,verticalAnchor:p},I):i&&typeof i=="object"&&(Oe(i.x)||Il(i.x))&&(Oe(i.y)||Il(i.y))?an({x:a+Qi(i.x,u),y:l+Qi(i.y,f),textAnchor:"end",verticalAnchor:"end"},I):an({x:a+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},I)},Yre=t=>"cx"in t&&Oe(t.cx);function Qr(t){var{offset:e=5}=t,n=uI(t,Lre),r=an({offset:e},n),{viewBox:i,position:a,value:l,children:u,content:f,className:h="",textBreakAll:d,labelRef:p}=r,v=Le(y4),b=YS(),w=a==="center"?b:v??b,E=i||w;if(!E||Gt(l)&&Gt(u)&&!A.isValidElement(f)&&typeof f!="function")return null;var S=an(an({},r),{},{viewBox:E});if(A.isValidElement(f)){var{labelRef:x}=S,C=uI(S,Ure);return A.cloneElement(f,C)}var O;if(typeof f=="function"){if(O=A.createElement(f,S),A.isValidElement(O))return O}else O=qre(r);var V=Yre(E),I=sn(r,!0);if(V&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Hre(r,O,I,E);var D=V?Kre(E,r.offset,r.position):Gre(r,E);return A.createElement(W1,ss({ref:p,className:It("recharts-label",h)},I,D,{breakAll:d}),O)}Qr.displayName="Label";var k3=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:a,r:l,radius:u,innerRadius:f,outerRadius:h,x:d,y:p,top:v,left:b,width:w,height:E,clockWise:S,labelViewBox:x}=t;if(x)return x;if(Oe(w)&&Oe(E)){if(Oe(d)&&Oe(p))return{x:d,y:p,width:w,height:E};if(Oe(v)&&Oe(b))return{x:v,y:b,width:w,height:E}}if(Oe(d)&&Oe(p))return{x:d,y:p,width:0,height:0};if(Oe(e)&&Oe(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:f||0,outerRadius:h||u||l||0,clockWise:S};if(t.viewBox)return t.viewBox},Wre=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(Qr,ss({key:"label-implicit"},r)):Da(t)?A.createElement(Qr,ss({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===Qr?A.cloneElement(t,an({key:"label-implicit"},r)):A.createElement(Qr,ss({key:"label-implicit",content:t},r)):X1(t)?A.createElement(Qr,ss({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(Qr,ss({},t,{key:"label-implicit"},r)):null},Xre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:a}=e,l=k3(e),u=OS(i,Qr).map((h,d)=>A.cloneElement(h,{viewBox:n||l,key:"label-".concat(d)}));if(!r)return u;var f=Wre(e.label,n||l,a);return[f,...u]};Qr.parseViewBox=k3;Qr.renderCallByParent=Xre;var V_={},$_={},fI;function Qre(){return fI||(fI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})($_)),$_}var B_={},hI;function Jre(){return hI||(hI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(B_)),B_}var dI;function Zre(){return dI||(dI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qre(),n=Jre(),r=MS();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(V_)),V_}var z_,mI;function eie(){return mI||(mI=1,z_=Zre().last),z_}var tie=eie();const nie=Zi(tie);var rie=["valueAccessor"],iie=["data","dataKey","clockWise","id","textBreakAll"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ng.apply(null,arguments)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aie(t,e,n){return(e=sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sie(t){var e=oie(t,"string");return typeof e=="symbol"?e:e+""}function oie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yI(t,e){if(t==null)return{};var n,r,i=lie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uie=t=>Array.isArray(t.value)?nie(t.value):t.value;function Ra(t){var{valueAccessor:e=uie}=t,n=yI(t,rie),{data:r,dataKey:i,clockWise:a,id:l,textBreakAll:u}=n,f=yI(n,iie);return!r||!r.length?null:A.createElement(Ji,{className:"recharts-label-list"},r.map((h,d)=>{var p=Gt(i)?e(h,d):Hn(h&&h.payload,i),v=Gt(l)?{}:{id:"".concat(l,"-").concat(d)};return A.createElement(Qr,Ng({},sn(h,!0),f,v,{parentViewBox:h.parentViewBox,value:p,textBreakAll:u,viewBox:Qr.parseViewBox(Gt(a)?h:gI(gI({},h),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Ra.displayName="LabelList";function cie(t,e){return t?t===!0?A.createElement(Ra,{key:"labelList-implicit",data:e}):A.isValidElement(t)||X1(t)?A.createElement(Ra,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?A.createElement(Ra,Ng({data:e},t,{key:"labelList-implicit"})):null:null}function fie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=OS(r,Ra).map((l,u)=>A.cloneElement(l,{data:e,key:"labelList-".concat(u)}));if(!n)return i;var a=cie(t.label,e);return[a,...i]}Ra.renderCallByParent=fie;function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_E.apply(null,arguments)}var M3=t=>{var{cx:e,cy:n,r,className:i}=t,a=It("recharts-dot",i);return e===+e&&n===+n&&r===+r?A.createElement("circle",_E({},su(t),xS(t),{className:a,cx:e,cy:n,r})):null},hie={radiusAxis:{},angleAxis:{}},j3=ii({name:"polarAxis",initialState:hie,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:cue,removeRadiusAxis:fue,addAngleAxis:hue,removeAngleAxis:due}=j3.actions,die=j3.reducer,q_={},vI;function mie(){return vI||(vI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(q_)),q_}var F_,bI;function pie(){return bI||(bI=1,F_=mie().isPlainObject),F_}var gie=pie();const yie=Zi(gie);function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(null,arguments)}var _I=(t,e,n,r,i)=>{var a=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-a/2,",").concat(e+i),l+="L ".concat(t+n-a/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},vie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bie=t=>{var e=ka(t,vie),n=A.useRef(),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&i(S)}catch{}},[]);var{x:a,y:l,upperWidth:u,lowerWidth:f,height:h,className:d}=e,{animationEasing:p,animationDuration:v,animationBegin:b,isUpdateAnimationActive:w}=e;if(a!==+a||l!==+l||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var E=It("recharts-trapezoid",d);return w?A.createElement(vg,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:h,x:a,y:l},to:{upperWidth:u,lowerWidth:f,height:h,x:a,y:l},duration:v,animationEasing:p,isActive:w},S=>{var{upperWidth:x,lowerWidth:C,height:O,x:V,y:I}=S;return A.createElement(vg,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:p},A.createElement("path",kg({},sn(e,!0),{className:E,d:_I(V,I,x,C,O),ref:n})))}):A.createElement("g",null,A.createElement("path",kg({},sn(e,!0),{className:E,d:_I(a,l,u,f,h)})))},_ie=["option","shapeType","propTransformer","activeClassName","isActive"];function wie(t,e){if(t==null)return{};var n,r,i=Eie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Eie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){Sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sie(t,e,n){return(e=Tie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tie(t){var e=Aie(t,"string");return typeof e=="symbol"?e:e+""}function Aie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xie(t,e){return Mg(Mg({},e),t)}function Oie(t,e){return t==="symbols"}function EI(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement(fL,n);case"trapezoid":return A.createElement(bie,n);case"sector":return A.createElement(mL,n);case"symbols":if(Oie(e))return A.createElement(IS,n);break;default:return null}}function Rie(t){return A.isValidElement(t)?t.props:t}function Cie(t){var{option:e,shapeType:n,propTransformer:r=xie,activeClassName:i="recharts-active-shape",isActive:a}=t,l=wie(t,_ie),u;if(A.isValidElement(e))u=A.cloneElement(e,Mg(Mg({},l),Rie(e)));else if(typeof e=="function")u=e(l);else if(yie(e)&&typeof e!="boolean"){var f=r(e,l);u=A.createElement(EI,{shapeType:n,elementProps:f})}else{var h=l;u=A.createElement(EI,{shapeType:n,elementProps:h})}return a?A.createElement(Ji,{className:i},u):u}var L3=(t,e)=>{var n=En();return(r,i)=>a=>{t?.(r,i,a),n(i3({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},U3=t=>{var e=En();return(n,r)=>i=>{t?.(n,r,i),e(Nte())}},V3=(t,e)=>{var n=En();return(r,i)=>a=>{t?.(r,i,a),n(kte({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function $3(t){var{fn:e,args:n}=t,r=En(),i=Nr();return A.useEffect(()=>{if(!i){var a=e(n);return r(Pte(a)),()=>{r(Dte(a))}}},[e,n,r,i]),null}var Pie=()=>{};function B3(t){var{legendPayload:e}=t,n=En(),r=Nr();return A.useEffect(()=>r?Pie:(n(cX(e)),()=>{n(fX(e))}),[n,r,e]),null}function z3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(Jh(e)),r=A.useRef(t);return r.current!==t&&(n.current=Jh(e),r.current=t),n.current}var H_,Die=()=>{var[t]=A.useState(()=>Jh("uid-"));return t},Iie=(H_=n6.useId)!==null&&H_!==void 0?H_:Die;function Nie(t,e){var n=Iie();return e||(t?"".concat(t,"-").concat(n):n)}var kie=A.createContext(void 0),q3=t=>{var{id:e,type:n,children:r}=t,i=Nie("recharts-".concat(n),e);return A.createElement(kie.Provider,{value:i},r(i))},Mie={cartesianItems:[],polarItems:[]},F3=ii({name:"graphicalItems",initialState:Mie,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=hs(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=hs(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=hs(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:jie,replaceCartesianGraphicalItem:Lie,removeCartesianGraphicalItem:Uie,addPolarGraphicalItem:mue,removePolarGraphicalItem:pue}=F3.actions,Vie=F3.reducer;function H3(t){var e=En(),n=A.useRef(null);return A.useEffect(()=>{n.current===null?e(jie(t)):n.current!==t&&e(Lie({prev:n.current,next:t})),n.current=t},[e,t]),A.useEffect(()=>()=>{n.current&&(e(Uie(n.current)),n.current=null)},[e]),null}function $ie(){}var Bie={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SI={t:0},K_={t:1};function K3(t){var e=ka(t,Bie),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:f,children:h}=e,d=cL("JavascriptAnimate",e.animationManager),[p,v]=A.useState(n?SI:K_),b=A.useRef(null);return A.useEffect(()=>{n||v(K_)},[n]),A.useEffect(()=>{if(!n||!r)return $ie;var w=uL(SI,K_,oL(a),i,v,d.getTimeoutController()),E=()=>{b.current=w()};return d.start([f,l,E,i,u]),()=>{d.stop(),b.current&&b.current(),u()}},[n,r,i,a,l,f,u,d]),h(p.t)}var zie=ie([Kn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),qie=ie([zie,Ss,Ts],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Q1=()=>Le(qie),Fie=()=>Le(_ne);function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){Hie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hie(t,e,n){return(e=Kie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kie(t){var e=Gie(t,"string");return typeof e=="symbol"?e:e+""}function Gie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yie=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l=AI(AI({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},sn(i,!1)),xS(i)),u;return A.isValidElement(i)?u=A.cloneElement(i,l):typeof i=="function"?u=i(l):u=A.createElement(M3,l),A.createElement(Ji,{className:"recharts-active-dot"},u)};function Wie(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Le(Wl),l=Fie();if(e==null||l==null)return null;var u=e.find(f=>l.includes(f.payload));return Gt(u)?null:Yie({point:u,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var Xie="Invariant failed";function Qie(t,e){throw new Error(Xie)}var Jie=["x","y"];function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wE.apply(null,arguments)}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){Zie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zie(t,e,n){return(e=eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eae(t){var e=tae(t,"string");return typeof e=="symbol"?e:e+""}function tae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nae(t,e){if(t==null)return{};var n,r,i=rae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iae(t,e){var{x:n,y:r}=t,i=nae(t,Jie),a="".concat(n),l=parseInt(a,10),u="".concat(r),f=parseInt(u,10),h="".concat(e.height||i.height),d=parseInt(h,10),p="".concat(e.width||i.width),v=parseInt(p,10);return ph(ph(ph(ph(ph({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:d,width:v,name:e.name,radius:e.radius})}function G3(t){return A.createElement(Cie,wE({shapeType:"rectangle",propTransformer:iae,activeClassName:"recharts-active-bar"},t))}var aae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Oe(e))return e;var a=Oe(r)||Gt(r);return a?e(r,i):(a||Qie(),n)}},sae={},Y3=ii({name:"errorBars",initialState:sae,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:gue,removeErrorBar:yue}=Y3.actions,oae=Y3.reducer,lae=["children"];function uae(t,e){if(t==null)return{};var n,r,i=cae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},hae=A.createContext(fae);function W3(t){var{children:e}=t,n=uae(t,lae);return A.createElement(hae.Provider,{value:n},e)}function J1(t,e){var n,r,i=Le(h=>xs(h,t)),a=Le(h=>qo(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Gr.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Yr.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function X3(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Q1(),{needClipX:a,needClipY:l,needClip:u}=J1(e,n);if(!u)return null;var{x:f,y:h,width:d,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:a?f:f-d/2,y:l?h:h-p/2,width:a?d:d*2,height:l?p:p*2}))}var dae=["onMouseEnter","onMouseLeave","onClick"],mae=["value","background","tooltipPosition"],pae=["id"],gae=["onMouseEnter","onClick","onMouseLeave"];function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$c.apply(null,arguments)}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yae(t,e,n){return(e=vae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vae(t){var e=bae(t,"string");return typeof e=="symbol"?e:e+""}function bae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jg(t,e){if(t==null)return{};var n,r,i=_ae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wae=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:gy(n,e),payload:t}]};function Eae(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:l,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:gy(a,e),hide:l,type:t.tooltipType,color:t.fill,unit:u}}}function Sae(t){var e=Le(Wl),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:l,onMouseLeave:u,onClick:f}=a,h=jg(a,dae),d=L3(l,r),p=U3(u),v=V3(f,r);if(!i||n==null)return null;var b=sn(i,!1);return A.createElement(A.Fragment,null,n.map((w,E)=>{var{value:S,background:x,tooltipPosition:C}=w,O=jg(w,mae);if(!x)return null;var V=d(w,E),I=p(w,E),D=v(w,E),N=mr(mr(mr(mr(mr({option:i,isActive:String(E)===e},O),{},{fill:"#eee"},x),b),ay(h,w,E)),{},{onMouseEnter:V,onMouseLeave:I,onClick:D,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return A.createElement(G3,$c({key:"background-bar-".concat(E)},N))}))}function Q3(t){var{data:e,props:n,showLabels:r}=t,i=su(n),{id:a}=i,l=jg(i,pae),{shape:u,dataKey:f,activeBar:h}=n,d=Le(Wl),p=Le(y3),{onMouseEnter:v,onClick:b,onMouseLeave:w}=n,E=jg(n,gae),S=L3(v,f),x=U3(w),C=V3(b,f);return e?A.createElement(A.Fragment,null,e.map((O,V)=>{var I=h&&String(V)===d&&(p==null||f===p),D=I?h:u,N=mr(mr(mr({},l),O),{},{isActive:I,option:D,index:V,dataKey:f});return A.createElement(Ji,$c({className:"recharts-bar-rectangle"},ay(E,O,V),{onMouseEnter:S(O,V),onMouseLeave:x(O,V),onClick:C(O,V),key:"rectangle-".concat(O?.x,"-").concat(O?.y,"-").concat(O?.value,"-").concat(V)}),A.createElement(G3,N))}),r&&Ra.renderCallByParent(n,e)):null}function Tae(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:d}=e,p=n.current,v=z3(e,"recharts-bar-"),[b,w]=A.useState(!1),E=A.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),S=A.useCallback(()=>{typeof d=="function"&&d(),w(!0)},[d]);return A.createElement(K3,{begin:l,duration:u,isActive:a,easing:f,onAnimationEnd:E,onAnimationStart:S,key:v},x=>{var C=x===1?r:r?.map((O,V)=>{var I=p&&p[V];if(I)return mr(mr({},O),{},{x:Ki(I.x,O.x,x),y:Ki(I.y,O.y,x),width:Ki(I.width,O.width,x),height:Ki(I.height,O.height,x)});if(i==="horizontal"){var D=Ki(0,O.height,x);return mr(mr({},O),{},{y:O.y+O.height-D,height:D})}var N=Ki(0,O.width,x);return mr(mr({},O),{},{width:N})});return x>0&&(n.current=C??null),C==null?null:A.createElement(Ji,null,A.createElement(Q3,{props:e,data:C,showLabels:!b}))})}function Aae(t){var{data:e,isAnimationActive:n}=t,r=A.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?A.createElement(Tae,{previousRectanglesRef:r,props:t}):A.createElement(Q3,{props:t,data:e,showLabels:!0})}var J3=0,xae=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Hn(t,e)}};class Oae extends A.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:l,needClip:u,background:f,id:h}=this.props;if(e)return null;var d=It("recharts-bar",i),p=h;return A.createElement(Ji,{className:d,id:h},u&&A.createElement("defs",null,A.createElement(X3,{clipPathId:p,xAxisId:a,yAxisId:l})),A.createElement(Ji,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},A.createElement(Sae,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),A.createElement(Aae,this.props)),this.props.children)}}var Rae={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Yc.isSsr,legendType:"rect",minPointSize:J3,xAxisId:0,yAxisId:0};function Cae(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:d}=t,{needClip:p}=J1(e,n),v=_y(),b=Nr(),w=OS(t.children,R3),E=Le(C=>nse(C,e,n,b,t.id,w));if(v!=="vertical"&&v!=="horizontal")return null;var S,x=E?.[0];return x==null||x.height==null||x.width==null?S=0:S=v==="vertical"?x.height/2:x.width/2,A.createElement(W3,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:xae,errorBarOffset:S},A.createElement(Oae,$c({},t,{layout:v,needClip:p,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:d})))}function Pae(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:d,displayedData:p,offset:v,cells:b}=t,w=e==="horizontal"?u:l,E=d?w.scale.domain():null,S=qW({numericAxis:w});return p.map((x,C)=>{var O,V,I,D,N,k;d?O=LW(d[C],E):(O=Hn(x,n),Array.isArray(O)||(O=[S,O]));var M=aae(r,J3)(O[1],C);if(e==="horizontal"){var z,[B,q]=[u.scale(O[0]),u.scale(O[1])];V=m2({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:x,index:C}),I=(z=q??B)!==null&&z!==void 0?z:void 0,D=i.size;var $=B-q;if(N=ei($)?0:$,k={x:V,y:v.top,width:D,height:v.height},Math.abs(M)>0&&Math.abs(N)<Math.abs(M)){var ye=Dr(N||M)*(Math.abs(M)-Math.abs(N));I-=ye,N+=ye}}else{var[Ne,Y]=[l.scale(O[0]),l.scale(O[1])];if(V=Ne,I=m2({axis:u,ticks:h,bandSize:a,offset:i.offset,entry:x,index:C}),D=Y-Ne,N=i.size,k={x:v.left,y:I,width:v.width,height:N},Math.abs(M)>0&&Math.abs(D)<Math.abs(M)){var ue=Dr(D||M)*(Math.abs(M)-Math.abs(D));D+=ue}}if(V==null||I==null||D==null||N==null)return null;var ve=mr(mr({},x),{},{x:V,y:I,width:D,height:N,value:d?O:O[1],payload:x,background:k,tooltipPosition:{x:V+D/2,y:I+N/2}},b&&b[C]&&b[C].props);return ve}).filter(Boolean)}function zy(t){var e=ka(t,Rae),n=Nr();return A.createElement(q3,{id:e.id,type:"bar"},r=>A.createElement(A.Fragment,null,A.createElement(B3,{legendPayload:wae(e)}),A.createElement($3,{fn:Eae,args:e}),A.createElement(H3,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:zW(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),A.createElement(Cae,$c({},e,{id:r}))))}zy.displayName="Bar";function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){Dae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dae(t,e,n){return(e=Iae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iae(t){var e=Nae(t,"string");return typeof e=="symbol"?e:e+""}function Nae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kae=(t,e)=>e,Mae=(t,e,n)=>n,jae=(t,e,n,r)=>r,Lae=(t,e,n,r,i)=>i,Id=ie([My,Lae],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Uae=ie([Id],t=>t?.maxBarSize),Vae=(t,e,n,r,i,a)=>a,CI=(t,e,n)=>{var r=n??t;if(!Gt(r))return Qi(r,e,0)},$ae=ie([Tt,My,kae,Mae,jae],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Bae=(t,e,n,r)=>{var i=Tt(t);return i==="horizontal"?mE(t,"yAxis",n,r):mE(t,"xAxis",e,r)},zae=(t,e,n)=>{var r=Tt(t);return r==="horizontal"?kD(t,"xAxis",e):kD(t,"yAxis",n)},qae=(t,e,n)=>{var r={},i=t.filter(ky),a=t.filter(h=>h.stackId==null),l=i.reduce((h,d)=>(h[d.stackId]||(h[d.stackId]=[]),h[d.stackId].push(d),h),r),u=Object.entries(l).map(h=>{var[d,p]=h,v=p.map(w=>w.dataKey),b=CI(e,n,p[0].barSize);return{stackId:d,dataKeys:v,barSize:b}}),f=a.map(h=>{var d=[h.dataKey].filter(v=>v!=null),p=CI(e,n,h.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...u,...f]},Fae=ie([$ae,Pee,zae],qae),Hae=(t,e,n,r,i)=>{var a,l,u=Id(t,e,n,r,i);if(u!=null){var f=Tt(t),h=c4(t),{maxBarSize:d}=u,p=Gt(d)?h:d,v,b;return f==="horizontal"?(v=Mo(t,"xAxis",e,r),b=ko(t,"xAxis",e,r)):(v=Mo(t,"yAxis",n,r),b=ko(t,"yAxis",n,r)),(a=(l=td(v,b,!0))!==null&&l!==void 0?l:p)!==null&&a!==void 0?a:0}},Z3=(t,e,n,r)=>{var i=Tt(t),a,l;return i==="horizontal"?(a=Mo(t,"xAxis",e,r),l=ko(t,"xAxis",e,r)):(a=Mo(t,"yAxis",n,r),l=ko(t,"yAxis",n,r)),td(a,l)};function Kae(t,e,n,r,i){var a=r.length;if(!(a<1)){var l=Qi(t,n,0,!0),u,f=[];if(ri(r[0].barSize)){var h=!1,d=n/a,p=r.reduce((x,C)=>x+(C.barSize||0),0);p+=(a-1)*l,p>=n&&(p-=(a-1)*l,l=0),p>=n&&d>0&&(h=!0,d*=.9,p=a*d);var v=(n-p)/2>>0,b={offset:v-l,size:0};u=r.reduce((x,C)=>{var O,V={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b.offset+b.size+l,size:h?d:(O=C.barSize)!==null&&O!==void 0?O:0}},I=[...x,V];return b=I[I.length-1].position,I},f)}else{var w=Qi(e,n,0,!0);n-2*w-(a-1)*l<=0&&(l=0);var E=(n-2*w-(a-1)*l)/a;E>1&&(E>>=0);var S=ri(i)?Math.min(E,i):E;u=r.reduce((x,C,O)=>[...x,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:w+(E+l)*O+(E-S)/2,size:S}}],f)}return u}}var Gae=(t,e,n,r,i,a,l)=>{var u=Gt(l)?e:l,f=Kae(n,r,i!==a?i:a,t,u);return i!==a&&f!=null&&(f=f.map(h=>bp(bp({},h),{},{position:bp(bp({},h.position),{},{offset:h.position.offset-i/2})}))),f},Yae=ie([Fae,c4,Cee,f4,Hae,Z3,Uae],Gae),Wae=(t,e,n,r)=>Mo(t,"xAxis",e,r),Xae=(t,e,n,r)=>Mo(t,"yAxis",n,r),Qae=(t,e,n,r)=>ko(t,"xAxis",e,r),Jae=(t,e,n,r)=>ko(t,"yAxis",n,r),Zae=ie([Yae,Id],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),ese=(t,e)=>{var n=P1(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===n)}}}},tse=ie([Bae,Id],ese),nse=ie([Kn,Wae,Xae,Qae,Jae,Zae,Tt,Ry,Z3,tse,Id,Vae],(t,e,n,r,i,a,l,u,f,h,d,p)=>{var{chartData:v,dataStartIndex:b,dataEndIndex:w}=u;if(!(d==null||a==null||l!=="horizontal"&&l!=="vertical"||e==null||n==null||r==null||i==null||f==null)){var{data:E}=d,S;if(E!=null&&E.length>0?S=E:S=v?.slice(b,w+1),S!=null)return Pae({layout:l,barSettings:d,pos:a,bandSize:f,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:h,displayedData:S,offset:t,cells:p})}}),rse=t=>{var{chartData:e}=t,n=En(),r=Nr();return A.useEffect(()=>r?()=>{}:(n(FD(e)),()=>{n(FD(void 0))}),[e,n,r]),null},PI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},eU=ii({name:"brush",initialState:PI,reducers:{setBrushSettings(t,e){return e.payload==null?PI:e.payload}}}),{setBrushSettings:vue}=eU.actions,ise=eU.reducer;function ase(t,e,n){return(e=sse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sse(t){var e=ose(t,"string");return typeof e=="symbol"?e:e+""}function ose(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Z1{static create(e){return new Z1(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}ase(Z1,"EPS",1e-4);function lse(t){return(t%180+180)%180}var use=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=lse(i),l=a*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},cse={dots:[],areas:[],lines:[]},tU=ii({name:"referenceElements",initialState:cse,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=hs(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=hs(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=hs(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:bue,removeDot:_ue,addArea:wue,removeArea:Eue,addLine:Sue,removeLine:Tue}=tU.actions,fse=tU.reducer,hse=A.createContext(void 0),dse=t=>{var{children:e}=t,[n]=A.useState("".concat(Jh("recharts"),"-clip")),r=Q1();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return A.createElement(hse.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:a,height:u,width:l}))),e)};function G_(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function nU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function mse(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return use(r,n)}function pse(t,e,n){var r=n==="width",{x:i,y:a,width:l,height:u}=t;return e===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function Lg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function gse(t,e){return nU(t,e+1)}function yse(t,e,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=e,f=0,h=1,d=l,p=function(){var w=r?.[f];if(w===void 0)return{v:nU(r,h)};var E=f,S,x=()=>(S===void 0&&(S=n(w,E)),S),C=w.coordinate,O=f===0||Lg(t,C,x,d,u);O||(f=0,d=l,h+=1),O&&(d=C+t*(x()/2+i),f+=h)},v;h<=a.length;)if(v=p(),v)return v.v;return[]}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){vse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vse(t,e,n){return(e=bse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bse(t){var e=_se(t,"string");return typeof e=="symbol"?e:e+""}function _se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wse(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=e,{end:f}=e,h=function(v){var b=a[v],w,E=()=>(w===void 0&&(w=n(b,v)),w);if(v===l-1){var S=t*(b.coordinate+t*E()/2-f);a[v]=b=cr(cr({},b),{},{tickCoord:S>0?b.coordinate-S*t:b.coordinate})}else a[v]=b=cr(cr({},b),{},{tickCoord:b.coordinate});var x=Lg(t,b.tickCoord,E,u,f);x&&(f=b.tickCoord-t*(E()/2+i),a[v]=cr(cr({},b),{},{isShow:!0}))},d=l-1;d>=0;d--)h(d);return a}function Ese(t,e,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:f,end:h}=e;if(a){var d=r[u-1],p=n(d,u-1),v=t*(d.coordinate+t*p/2-h);l[u-1]=d=cr(cr({},d),{},{tickCoord:v>0?d.coordinate-v*t:d.coordinate});var b=Lg(t,d.tickCoord,()=>p,f,h);b&&(h=d.tickCoord-t*(p/2+i),l[u-1]=cr(cr({},d),{},{isShow:!0}))}for(var w=a?u-1:u,E=function(C){var O=l[C],V,I=()=>(V===void 0&&(V=n(O,C)),V);if(C===0){var D=t*(O.coordinate-t*I()/2-f);l[C]=O=cr(cr({},O),{},{tickCoord:D<0?O.coordinate-D*t:O.coordinate})}else l[C]=O=cr(cr({},O),{},{tickCoord:O.coordinate});var N=Lg(t,O.tickCoord,I,f,h);N&&(f=O.tickCoord+t*(I()/2+i),l[C]=cr(cr({},O),{},{isShow:!0}))},S=0;S<w;S++)E(S);return l}function eT(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:f,tickFormatter:h,unit:d,angle:p}=t;if(!i||!i.length||!r)return[];if(Oe(f)||Yc.isSsr){var v;return(v=gse(i,Oe(f)?f:0))!==null&&v!==void 0?v:[]}var b=[],w=u==="top"||u==="bottom"?"width":"height",E=d&&w==="width"?jh(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(O,V)=>{var I=typeof h=="function"?h(O.value,V):O.value;return w==="width"?mse(jh(I,{fontSize:e,letterSpacing:n}),E,p):jh(I,{fontSize:e,letterSpacing:n})[w]},x=i.length>=2?Dr(i[1].coordinate-i[0].coordinate):1,C=pse(a,x,w);return f==="equidistantPreserveStart"?yse(x,C,S,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=Ese(x,C,S,i,l,f==="preserveStartEnd"):b=wse(x,C,S,i,l),b.filter(O=>O.isShow))}var Sse=["viewBox"],Tse=["viewBox"];function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(null,arguments)}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){tT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NI(t,e){if(t==null)return{};var n,r,i=Ase(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ase(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tT(t,e,n){return(e=xse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xse(t){var e=Ose(t,"string");return typeof e=="symbol"?e:e+""}function Ose(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Fo extends A.Component{constructor(e){super(e),this.tickRefs=A.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=NI(e,Sse),a=this.props,{viewBox:l}=a,u=NI(a,Tse);return!G_(r,l)||!G_(i,u)||!G_(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:a,orientation:l,tickSize:u,mirror:f,tickMargin:h}=this.props,d,p,v,b,w,E,S=f?-1:1,x=e.tickSize||u,C=Oe(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":d=p=e.coordinate,b=r+ +!f*a,v=b-S*x,E=v-S*h,w=C;break;case"left":v=b=e.coordinate,p=n+ +!f*i,d=p-S*x,w=d-S*h,E=C;break;case"right":v=b=e.coordinate,p=n+ +f*i,d=p+S*x,w=d+S*h,E=C;break;default:d=p=e.coordinate,b=r+ +f*a,v=b+S*x,E=v+S*h,w=C;break}return{line:{x1:d,y1:v,x2:p,y2:b},tick:{x:w,y:E}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u}=this.props,f=Rn(Rn(Rn({},sn(this.props,!1)),sn(u,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!l||a==="bottom"&&l);f=Rn(Rn({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var d=+(a==="left"&&!l||a==="right"&&l);f=Rn(Rn({},f),{},{x1:e+d*r,y1:n,x2:e+d*r,y2:n+i})}return A.createElement("line",pc({},f,{className:It("recharts-cartesian-axis-line",Hl(u,"className"))}))}static renderTickItem(e,n,r){var i,a=It(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,Rn(Rn({},n),{},{className:a}));else if(typeof e=="function")i=e(Rn(Rn({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=It(l,e.className)),i=A.createElement(W1,pc({},n,{className:l}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:l,tickFormatter:u,unit:f,padding:h}=this.props,d=eT(Rn(Rn({},this.props),{},{ticks:r}),e,n),p=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=su(this.props),w=sn(l,!1),E=Rn(Rn({},b),{},{fill:"none"},sn(i,!1)),S=d.map((x,C)=>{var{line:O,tick:V}=this.getTickLineCoord(x),I=Rn(Rn(Rn(Rn({textAnchor:p,verticalAnchor:v},b),{},{stroke:"none",fill:a},w),V),{},{index:C,payload:x,visibleTicksCount:d.length,tickFormatter:u,padding:h});return A.createElement(Ji,pc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},ay(this.props,x,C)),i&&A.createElement("line",pc({},E,O,{className:It("recharts-cartesian-axis-tick-line",Hl(i,"className"))})),l&&Fo.renderTickItem(l,I,"".concat(typeof u=="function"?u(x.value,C):x.value).concat(f||"")))});return S.length>0?A.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:a}=this.props;if(a)return null;var{ticks:l}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:A.createElement(Ji,{className:It("recharts-cartesian-axis",i),ref:u=>{if(u){var f=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var h=f[0];if(h){var d=window.getComputedStyle(h).fontSize,p=window.getComputedStyle(h).letterSpacing;(d!==this.state.fontSize||p!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),Qr.renderCallByParent(this.props))}}tT(Fo,"displayName","CartesianAxis");tT(Fo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Rse=["x1","y1","x2","y2","key"],Cse=["offset"],Pse=["xAxisId","yAxisId"],Dse=["xAxisId","yAxisId"];function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){Ise(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ise(t,e,n){return(e=Nse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nse(t){var e=kse(t,"string");return typeof e=="symbol"?e:e+""}function kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(null,arguments)}function Ug(t,e){if(t==null)return{};var n,r,i=Mse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jse=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=t;return A.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function rU(t,e){var n;if(A.isValidElement(t))n=A.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:l,key:u}=e,f=Ug(e,Rse),h=su(f),{offset:d}=h,p=Ug(h,Cse);n=A.createElement("line",jl({},p,{x1:r,y1:i,x2:a,y2:l,fill:"none",key:u}))}return n}function Lse(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,u=Ug(t,Pse),f=i.map((h,d)=>{var p=pr(pr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(d),index:d});return rU(r,p)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Use(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,u=Ug(t,Dse),f=i.map((h,d)=>{var p=pr(pr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(d),index:d});return rU(r,p)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Vse(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length)return null;var h=u.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==h[0]&&h.unshift(0);var d=h.map((p,v)=>{var b=!h[v+1],w=b?i+l-p:h[v+1]-p;if(w<=0)return null;var E=v%e.length;return A.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:w,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function $se(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==h[0]&&h.unshift(0);var d=h.map((p,v)=>{var b=!h[v+1],w=b?i+l-p:h[v+1]-p;if(w<=0)return null;var E=v%n.length;return A.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:w,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Bse=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return Qj(eT(pr(pr(pr({},Fo.defaultProps),n),{},{ticks:Jj(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},zse=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return Qj(eT(pr(pr(pr({},Fo.defaultProps),n),{},{ticks:Jj(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},qse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function iU(t){var e=WS(),n=XS(),r=tL(),i=pr(pr({},ka(t,qse)),{},{x:Oe(t.x)?t.x:r.left,y:Oe(t.y)?t.y:r.top,width:Oe(t.width)?t.width:r.width,height:Oe(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:f,width:h,height:d,syncWithTicks:p,horizontalValues:v,verticalValues:b}=i,w=Nr(),E=Le(M=>MD(M,"xAxis",a,w)),S=Le(M=>MD(M,"yAxis",l,w));if(!Oe(h)||h<=0||!Oe(d)||d<=0||!Oe(u)||u!==+u||!Oe(f)||f!==+f)return null;var x=i.verticalCoordinatesGenerator||Bse,C=i.horizontalCoordinatesGenerator||zse,{horizontalPoints:O,verticalPoints:V}=i;if((!O||!O.length)&&typeof C=="function"){var I=v&&v.length,D=C({yAxis:S?pr(pr({},S),{},{ticks:I?v:S.ticks}):void 0,width:e,height:n,offset:r},I?!0:p);Mh(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(O=D)}if((!V||!V.length)&&typeof x=="function"){var N=b&&b.length,k=x({xAxis:E?pr(pr({},E),{},{ticks:N?b:E.ticks}):void 0,width:e,height:n,offset:r},N?!0:p);Mh(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(V=k)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(jse,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(Vse,jl({},i,{horizontalPoints:O})),A.createElement($se,jl({},i,{verticalPoints:V})),A.createElement(Lse,jl({},i,{offset:r,horizontalPoints:O,xAxis:E,yAxis:S})),A.createElement(Use,jl({},i,{offset:r,verticalPoints:V,xAxis:E,yAxis:S})))}iU.displayName="CartesianGrid";var aU=(t,e,n,r)=>Mo(t,"xAxis",e,r),sU=(t,e,n,r)=>ko(t,"xAxis",e,r),oU=(t,e,n,r)=>Mo(t,"yAxis",n,r),lU=(t,e,n,r)=>ko(t,"yAxis",n,r),Fse=ie([Tt,aU,oU,sU,lU],(t,e,n,r,i)=>Vo(t,"xAxis")?td(e,r,!1):td(n,i,!1)),Hse=(t,e,n,r,i)=>i;function Kse(t){return t.type==="line"}var Gse=ie([My,Hse],(t,e)=>t.filter(Kse).find(n=>n.id===e)),Yse=ie([Tt,aU,oU,sU,lU,Gse,Fse,Ry],(t,e,n,r,i,a,l,u)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:d}=u;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:p,data:v}=a,b;if(v!=null&&v.length>0?b=v:b=f?.slice(h,d+1),b!=null)return poe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:b})}}),Wse=["id"],Xse=["type","layout","connectNulls","needClip"],Qse=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){Jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jse(t,e,n){return(e=Zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=eoe(t,"string");return typeof e=="symbol"?e:e+""}function eoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nT(t,e){if(t==null)return{};var n,r,i=toe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function toe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(null,arguments)}var noe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:gy(n,e),payload:t}]};function roe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:f}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:gy(l,e),hide:u,type:t.tooltipType,color:t.stroke,unit:f}}}var uU=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function ioe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var aoe=(t,e,n)=>{var r=n.reduce((p,v)=>p+v);if(!r)return uU(e,t);for(var i=Math.floor(t/r),a=t%r,l=e-t,u=[],f=0,h=0;f<n.length;h+=n[f],++f)if(h+n[f]>a){u=[...n.slice(0,f),a-h];break}var d=u.length%2===0?[0,l]:[l];return[...ioe(n,i),...u,...d].map(p=>"".concat(p,"px")).join(", ")};function soe(t,e){var n;if(A.isValidElement(t))n=A.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=It("recharts-line-dot",typeof t!="boolean"?t.className:"");n=A.createElement(M3,Xl({},e,{className:r}))}return n}function ooe(t,e){return t==null?!1:e?!0:t.length===1}function loe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:l}=r;if(!ooe(n,i))return null;var{id:u}=r,f=nT(r,Wse),h=WM(i),d=su(f),p=sn(i,!0),v=n.map((w,E)=>{var S=Gi(Gi(Gi({key:"dot-".concat(E),r:3},d),p),{},{index:E,cx:w.x,cy:w.y,dataKey:a,value:w.value,payload:w.payload,points:n});return soe(i,S)}),b={clipPath:l?"url(#clipPath-".concat(h?"":"dots-").concat(e,")"):void 0};return A.createElement(Ji,Xl({className:"recharts-line-dots",key:"dots"},b),v)}function EE(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a,showLabels:l}=t,{type:u,layout:f,connectNulls:h,needClip:d}=a,p=nT(a,Xse),v=Gi(Gi({},sn(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:u,layout:f,connectNulls:h,strokeDasharray:i??a.strokeDasharray});return A.createElement(A.Fragment,null,r?.length>1&&A.createElement(iL,Xl({},v,{pathRef:n})),A.createElement(loe,{points:r,clipPathId:e,props:a}),l&&Ra.renderCallByParent(a,r))}function uoe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function coe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:u,isAnimationActive:f,animationBegin:h,animationDuration:d,animationEasing:p,animateNewValues:v,width:b,height:w,onAnimationEnd:E,onAnimationStart:S}=n,x=i.current,C=z3(n,"recharts-line-"),[O,V]=A.useState(!1),I=A.useCallback(()=>{typeof E=="function"&&E(),V(!1)},[E]),D=A.useCallback(()=>{typeof S=="function"&&S(),V(!0)},[S]),N=uoe(r.current),k=a.current;return A.createElement(K3,{begin:h,duration:d,isActive:f,easing:p,onAnimationEnd:I,onAnimationStart:D,key:C},M=>{var z=Ki(k,N+k,M),B=Math.min(z,N),q;if(u){var $="".concat(u).split(/[,\s]+/gim).map(Y=>parseFloat(Y));q=aoe(B,N,$)}else q=uU(N,B);if(x){var ye=x.length/l.length,Ne=M===1?l:l.map((Y,ue)=>{var ve=Math.floor(ue*ye);if(x[ve]){var De=x[ve];return Gi(Gi({},Y),{},{x:Ki(De.x,Y.x,M),y:Ki(De.y,Y.y,M)})}return v?Gi(Gi({},Y),{},{x:Ki(b*2,Y.x,M),y:Ki(w/2,Y.y,M)}):Gi(Gi({},Y),{},{x:Y.x,y:Y.y})});return i.current=Ne,A.createElement(EE,{props:n,points:Ne,clipPathId:e,pathRef:r,showLabels:!O,strokeDasharray:q})}return M>0&&N>0&&(i.current=l,a.current=B),A.createElement(EE,{props:n,points:l,clipPathId:e,pathRef:r,showLabels:!O,strokeDasharray:q})})}function foe(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:i}=n,a=A.useRef(null),l=A.useRef(0),u=A.useRef(null),f=a.current;return i&&r&&r.length&&f!==r?A.createElement(coe,{props:n,clipPathId:e,previousPointsRef:a,longestAnimatedLengthRef:l,pathRef:u}):A.createElement(EE,{props:n,points:r,clipPathId:e,pathRef:u,showLabels:!0})}var hoe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Hn(t.payload,e)});class doe extends A.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:l,yAxisId:u,top:f,left:h,width:d,height:p,id:v,needClip:b}=this.props;if(n)return null;var w=It("recharts-line",a),E=v,{r:S=3,strokeWidth:x=2}=(e=sn(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},C=WM(r),O=S*2+x;return A.createElement(A.Fragment,null,A.createElement(Ji,{className:w},b&&A.createElement("defs",null,A.createElement(X3,{clipPathId:E,xAxisId:l,yAxisId:u}),!C&&A.createElement("clipPath",{id:"clipPath-dots-".concat(E)},A.createElement("rect",{x:h-O/2,y:f-O/2,width:d+O,height:p+O}))),A.createElement(foe,{props:this.props,clipPathId:E}),A.createElement(W3,{xAxisId:l,yAxisId:u,data:i,dataPointFormatter:hoe,errorBarOffset:0},this.props.children)),A.createElement(Wie,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var cU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Yc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function moe(t){var e=ka(t,cU),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:f,hide:h,isAnimationActive:d,label:p,legendType:v,xAxisId:b,yAxisId:w,id:E}=e,S=nT(e,Qse),{needClip:x}=J1(b,w),C=Q1(),O=_y(),V=Nr(),I=Le(z=>Yse(z,b,w,V,E));if(O!=="horizontal"&&O!=="vertical"||I==null||C==null)return null;var{height:D,width:N,x:k,y:M}=C;return A.createElement(doe,Xl({},S,{id:E,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:d,hide:h,label:p,legendType:v,xAxisId:b,yAxisId:w,points:I,layout:O,height:D,width:N,left:k,top:M,needClip:x}))}function poe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:u,displayedData:f}=t;return f.map((h,d)=>{var p=Hn(h,l);if(e==="horizontal"){var v=d2({axis:n,ticks:i,bandSize:u,entry:h,index:d}),b=Gt(p)?null:r.scale(p);return{x:v,y:b,value:p,payload:h}}var w=Gt(p)?null:n.scale(p),E=d2({axis:r,ticks:a,bandSize:u,entry:h,index:d});return w==null||E==null?null:{x:w,y:E,value:p,payload:h}}).filter(Boolean)}function fU(t){var e=ka(t,cU),n=Nr();return A.createElement(q3,{id:e.id,type:"line"},r=>A.createElement(A.Fragment,null,A.createElement(B3,{legendPayload:noe(e)}),A.createElement($3,{fn:roe,args:e}),A.createElement(H3,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),A.createElement(moe,Xl({},e,{id:r}))))}fU.displayName="Line";function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){goe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function goe(t,e,n){return(e=yoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yoe(t){var e=voe(t,"string");return typeof e=="symbol"?e:e+""}function voe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var boe={xAxis:{},yAxis:{},zAxis:{}},hU=ii({name:"cartesianAxis",initialState:boe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=LI(LI({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:_oe,removeXAxis:woe,addYAxis:Eoe,removeYAxis:Soe,addZAxis:Aue,removeZAxis:xue,updateYAxisWidth:Toe}=hU.actions,Aoe=hU.reducer,xoe=["children"],Ooe=["dangerouslySetInnerHTML","ticks"];function dU(t,e,n){return(e=Roe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Roe(t){var e=Coe(t,"string");return typeof e=="symbol"?e:e+""}function Coe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}function mU(t,e){if(t==null)return{};var n,r,i=Poe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Poe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Doe(t){var e=En(),n=A.useMemo(()=>{var{children:a}=t,l=mU(t,xoe);return l},[t]),r=Le(a=>xs(a,n.id)),i=n===r;return A.useEffect(()=>(e(_oe(n)),()=>{e(woe(n))}),[n,e]),i?t.children:null}var Ioe=t=>{var{xAxisId:e,className:n}=t,r=Le(eL),i=Nr(),a="xAxis",l=Le(b=>ef(b,a,e,i)),u=Le(b=>J4(b,a,e,i)),f=Le(b=>Y4(b,e)),h=Le(b=>wte(b,e));if(f==null||h==null)return null;var{dangerouslySetInnerHTML:d,ticks:p}=t,v=mU(t,Ooe);return A.createElement(Fo,SE({},v,{scale:l,x:h.x,y:h.y,width:f.width,height:f.height,className:It("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u}))},Noe=t=>{var e,n,r,i,a;return A.createElement(Doe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter},A.createElement(Ioe,t))};class rf extends A.Component{render(){return A.createElement(Noe,this.props)}}dU(rf,"displayName","XAxis");dU(rf,"defaultProps",{allowDataOverflow:Gr.allowDataOverflow,allowDecimals:Gr.allowDecimals,allowDuplicatedCategory:Gr.allowDuplicatedCategory,height:Gr.height,hide:!1,mirror:Gr.mirror,orientation:Gr.orientation,padding:Gr.padding,reversed:Gr.reversed,scale:Gr.scale,tickCount:Gr.tickCount,type:Gr.type,xAxisId:0});var koe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){e.forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>l&&(l=p.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+a,h=l+f+u+(n?r:0);return Math.round(h)}return 0},Moe=["dangerouslySetInnerHTML","ticks"];function pU(t,e,n){return(e=joe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function joe(t){var e=Loe(t,"string");return typeof e=="symbol"?e:e+""}function Loe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(null,arguments)}function Uoe(t,e){if(t==null)return{};var n,r,i=Voe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Voe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $oe(t){var e=En();return A.useEffect(()=>(e(Eoe(t)),()=>{e(Soe(t))}),[t,e]),null}var Boe=t=>{var e,{yAxisId:n,className:r,width:i,label:a}=t,l=A.useRef(null),u=A.useRef(null),f=Le(eL),h=Nr(),d=En(),p="yAxis",v=Le(O=>ef(O,p,n,h)),b=Le(O=>W4(O,n)),w=Le(O=>Ete(O,n)),E=Le(O=>J4(O,p,n,h));if(A.useLayoutEffect(()=>{var O;if(!(i!=="auto"||!b||X1(a)||A.isValidElement(a))){var V=l.current,I=V==null||(O=V.tickRefs)===null||O===void 0?void 0:O.current,{tickSize:D,tickMargin:N}=V.props,k=koe({ticks:I,label:u.current,labelGapWithTick:5,tickSize:D,tickMargin:N});Math.round(b.width)!==Math.round(k)&&d(Toe({id:n,width:k}))}},[l,l==null||(e=l.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,b?.width,b,d,a,n,i]),b==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:x}=t,C=Uoe(t,Moe);return A.createElement(Fo,TE({},C,{ref:l,labelRef:u,scale:v,x:w.x,y:w.y,width:b.width,height:b.height,className:It("recharts-".concat(p," ").concat(p),r),viewBox:f,ticks:E}))},zoe=t=>{var e,n,r,i,a;return A.createElement(A.Fragment,null,A.createElement($oe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter}),A.createElement(Boe,t))},qoe={allowDataOverflow:Yr.allowDataOverflow,allowDecimals:Yr.allowDecimals,allowDuplicatedCategory:Yr.allowDuplicatedCategory,hide:!1,mirror:Yr.mirror,orientation:Yr.orientation,padding:Yr.padding,reversed:Yr.reversed,scale:Yr.scale,tickCount:Yr.tickCount,type:Yr.type,width:Yr.width,yAxisId:0};class af extends A.Component{render(){return A.createElement(zoe,this.props)}}pU(af,"displayName","YAxis");pU(af,"defaultProps",qoe);var Y_={exports:{}},W_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI;function Foe(){if(UI)return W_;UI=1;var t=Bc();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return W_.useSyncExternalStoreWithSelector=function(f,h,d,p,v){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function S(I){if(!x){if(x=!0,C=I,I=p(I),v!==void 0&&w.hasValue){var D=w.value;if(v(D,I))return O=D}return O=I}if(D=O,n(C,I))return D;var N=p(I);return v!==void 0&&v(D,N)?(C=I,D):(C=I,O=N)}var x=!1,C,O,V=d===void 0?null:d;return[function(){return S(h())},V===null?void 0:function(){return S(V())}]},[h,d,p,v]);var E=r(f,b[0],b[1]);return a(function(){w.hasValue=!0,w.value=E},[E]),u(E),E},W_}var VI;function Hoe(){return VI||(VI=1,Y_.exports=Foe()),Y_.exports}Hoe();function Koe(t){t()}function Goe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Koe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var $I={notify(){},get:()=>[]};function Yoe(t,e){let n,r=$I,i=0,a=!1;function l(E){d();const S=r.subscribe(E);let x=!1;return()=>{x||(x=!0,S(),p())}}function u(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return a}function d(){i++,n||(n=t.subscribe(f),r=Goe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=$I)}function v(){a||(a=!0,d())}function b(){a&&(a=!1,p())}const w={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>r};return w}var Woe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xoe=Woe(),Qoe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Joe=Qoe(),Zoe=()=>Xoe||Joe?A.useLayoutEffect:A.useEffect,ele=Zoe(),tle=Symbol.for("react-redux-context"),nle=typeof globalThis<"u"?globalThis:{};function rle(){if(!A.createContext)return{};const t=nle[tle]??=new Map;let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var ile=rle();function ale(t){const{children:e,context:n,serverState:r,store:i}=t,a=A.useMemo(()=>{const f=Yoe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=A.useMemo(()=>i.getState(),[i]);ele(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,l]);const u=n||ile;return A.createElement(u.Provider,{value:a},e)}var sle=ale,ole=(t,e)=>e,rT=ie([ole,Tt,y4,kn,d3,Os,One,Kn],Ine),iT=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},gU=Di("mouseClick"),yU=wd();yU.startListening({actionCreator:gU,effect:(t,e)=>{var n=t.payload,r=rT(e.getState(),iT(n));r?.activeIndex!=null&&e.dispatch(Mte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var AE=Di("mouseMove"),vU=wd();vU.startListening({actionCreator:AE,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=V1(r,r.tooltip.settings.shared),a=rT(r,iT(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(s3({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(a3()))}});function lle(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var BI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},bU=ii({name:"rootProps",initialState:BI,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:BI.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),ule=bU.reducer,{updateOptions:cle}=bU.actions,_U=ii({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Oue}=_U.actions,fle=_U.reducer,wU=Di("keyDown"),EU=Di("focus"),aT=wd();aT.startListening({actionCreator:wU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Number($1(i,nf(n))),u=Os(n);if(a==="Enter"){var f=Ig(n,"axis","hover",String(i.index));e.dispatch(gE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=xte(n),d=h==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,v=l+p*d;if(!(u==null||v>=u.length||v<0)){var b=Ig(n,"axis","hover",String(v));e.dispatch(gE({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});aT.startListening({actionCreator:EU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=Ig(n,"axis","hover",String(a));e.dispatch(gE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var Ti=Di("externalEvent"),SU=wd();SU.startListening({actionCreator:Ti,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:yne(n),activeDataKey:y3(n),activeIndex:Wl(n),activeLabel:g3(n),activeTooltipIndex:Wl(n),isTooltipActive:vne(n)};t.payload.handler(r,t.payload.reactEvent)}}});var hle=ie([tf],t=>t.tooltipItemPayloads),dle=ie([hle,Pd,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=e(a,n);return l}}}),TU=Di("touchMove"),AU=wd();AU.startListening({actionCreator:TU,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=V1(r,r.tooltip.settings.shared);if(i==="axis"){var a=rT(r,iT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(s3({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(QW),d=(l=f.getAttribute(JW))!==null&&l!==void 0?l:void 0,p=dle(e.getState(),h,d);e.dispatch(i3({activeDataKey:d,activeIndex:h,activeCoordinate:p}))}}});var mle=Oj({brush:ise,cartesianAxis:Aoe,chartData:Yne,errorBars:oae,graphicalItems:Vie,layout:_W,legend:hX,options:qne,polarAxis:die,polarOptions:fle,referenceElements:fse,rootProps:ule,tooltip:jte}),ple=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return HY({reducer:mle,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([yU.middleware,vU.middleware,aT.middleware,SU.middleware,AU.middleware]),devTools:{serialize:{replacer:lle},name:"recharts-".concat(n)}})};function gle(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Nr(),a=A.useRef(null);if(i)return n;a.current==null&&(a.current=ple(e,r));var l=$S;return A.createElement(sle,{context:l,store:a.current},n)}function yle(t){var{layout:e,width:n,height:r,margin:i}=t,a=En(),l=Nr();return A.useEffect(()=>{l||(a(yW(e)),a(vW({width:n,height:r})),a(gW(i)))},[a,l,e,n,r,i]),null}function vle(t){var e=En();return A.useEffect(()=>{e(cle(t))},[e,t]),null}var ble=["children"];function _le(t,e){if(t==null)return{};var n,r,i=wle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(null,arguments)}var Ele={width:"100%",height:"100%"},Sle=A.forwardRef((t,e)=>{var n=WS(),r=XS(),i=rL();if(!pg(n)||!pg(r))return null;var{children:a,otherAttributes:l,title:u,desc:f}=t,h,d;return typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?d=l.role:d=i?"application":void 0,A.createElement(RS,Vg({},l,{title:u,desc:f,role:d,tabIndex:h,width:n,height:r,style:Ele,ref:e}),a)}),Tle=t=>{var{children:e}=t,n=Le(by);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return A.createElement(RS,{width:r,height:i,x:l,y:a},e)},zI=A.forwardRef((t,e)=>{var{children:n}=t,r=_le(t,ble),i=Nr();return i?A.createElement(Tle,null,n):A.createElement(Sle,Vg({ref:e},r),n)});function Ale(){var t=En(),[e,n]=A.useState(null),r=Le(XW);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;ri(a)&&a!==r&&t(bW(a))}},[e,t,r]),n}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){Ole(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ole(t,e,n){return(e=Rle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rle(t){var e=Cle(t,"string");return typeof e=="symbol"?e:e+""}function Cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ple=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:d,onMouseMove:p,onMouseUp:v,onTouchEnd:b,onTouchMove:w,onTouchStart:E,style:S,width:x}=t,C=En(),[O,V]=A.useState(null),[I,D]=A.useState(null);Qne();var N=Ale(),k=A.useCallback(ae=>{N(ae),typeof e=="function"&&e(ae),V(ae),D(ae)},[N,e,V,D]),M=A.useCallback(ae=>{C(gU(ae)),C(Ti({handler:a,reactEvent:ae}))},[C,a]),z=A.useCallback(ae=>{C(AE(ae)),C(Ti({handler:h,reactEvent:ae}))},[C,h]),B=A.useCallback(ae=>{C(a3()),C(Ti({handler:d,reactEvent:ae}))},[C,d]),q=A.useCallback(ae=>{C(AE(ae)),C(Ti({handler:p,reactEvent:ae}))},[C,p]),$=A.useCallback(()=>{C(EU())},[C]),ye=A.useCallback(ae=>{C(wU(ae.key))},[C]),Ne=A.useCallback(ae=>{C(Ti({handler:l,reactEvent:ae}))},[C,l]),Y=A.useCallback(ae=>{C(Ti({handler:u,reactEvent:ae}))},[C,u]),ue=A.useCallback(ae=>{C(Ti({handler:f,reactEvent:ae}))},[C,f]),ve=A.useCallback(ae=>{C(Ti({handler:v,reactEvent:ae}))},[C,v]),De=A.useCallback(ae=>{C(Ti({handler:E,reactEvent:ae}))},[C,E]),H=A.useCallback(ae=>{C(TU(ae)),C(Ti({handler:w,reactEvent:ae}))},[C,w]),se=A.useCallback(ae=>{C(Ti({handler:b,reactEvent:ae}))},[C,b]);return A.createElement(S3.Provider,{value:O},A.createElement(XM.Provider,{value:I},A.createElement("div",{className:It("recharts-wrapper",r),style:xle({position:"relative",cursor:"default",width:x,height:i},S),onClick:M,onContextMenu:Ne,onDoubleClick:Y,onFocus:$,onKeyDown:ye,onMouseDown:ue,onMouseEnter:z,onMouseLeave:B,onMouseMove:q,onMouseUp:ve,onTouchEnd:se,onTouchMove:H,onTouchStart:De,ref:k},n)))}),Dle=["children","className","width","height","style","compact","title","desc"];function Ile(t,e){if(t==null)return{};var n,r,i=Nle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kle=A.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:l,compact:u,title:f,desc:h}=t,d=Ile(t,Dle),p=su(d);return u?A.createElement(zI,{otherAttributes:p,title:f,desc:h},n):A.createElement(Ple,{className:r,style:l,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(zI,{otherAttributes:p,title:f,desc:h,ref:e},A.createElement(dse,null,n)))}),Mle=["width","height"];function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(null,arguments)}function jle(t,e){if(t==null)return{};var n,r,i=Lle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ule={top:5,right:5,bottom:5,left:5},Vle={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ule,reverseStackOrder:!1,syncMethod:"index"},xU=A.forwardRef(function(e,n){var r,i=ka(e.categoricalChartProps,Vle),{width:a,height:l}=i,u=jle(i,Mle);if(!pg(a)||!pg(l))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,categoricalChartProps:v}=e,b={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return A.createElement(gle,{preloadedState:{options:b},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:f},A.createElement(rse,{chartData:v.data}),A.createElement(yle,{width:a,height:l,layout:i.layout,margin:i.margin}),A.createElement(vle,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),A.createElement(kle,xE({},u,{width:a,height:l,ref:n})))}),$le=["axis"],Ble=A.forwardRef((t,e)=>A.createElement(xU,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$le,tooltipPayloadSearcher:T3,categoricalChartProps:t,ref:e})),zle=["axis","item"],sT=A.forwardRef((t,e)=>A.createElement(xU,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zle,tooltipPayloadSearcher:T3,categoricalChartProps:t,ref:e}));const qle=({categories:t})=>{const{teamStats:e,columnPercentiles:n,currentViewingTeam:r}=ea(),i=(l,u)=>!u||l<=u.p10?0:l>=u.p90?100:l<=u.p25?0+25*((l-u.p10)/(u.p25-u.p10)):l<=u.p75?25+50*((l-u.p25)/(u.p75-u.p25)):75+25*((l-u.p75)/(u.p90-u.p75)),a=A.useMemo(()=>t.map(l=>{const u=e[r]?.[l]?.q3??0,f=n[l]?.q3,h=f?i(u,f):0;return{category:l.replace(/([A-Z])/g," $1").replace(/^./,d=>d.toUpperCase()),value:Math.min(100,h)}}),[t,e,n,r]);return L.jsxs("div",{className:"w-full h-102 bg-white rounded-xl p-4 shadow-md mt-5 pb-15",children:[L.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Team Percentile Comparison"}),L.jsx(By,{width:"100%",height:"100%",children:L.jsxs(sT,{data:a,margin:{top:20,right:20,bottom:40,left:40},children:[L.jsx(rf,{dataKey:"category",angle:-25,textAnchor:"end",interval:0}),L.jsx(af,{type:"number",domain:[0,100],tickFormatter:l=>`${l.toFixed(0)}%`}),L.jsx(Y1,{formatter:l=>`${l.toFixed(1)}%`,animationDuration:50}),L.jsx(zy,{dataKey:"value",fill:"#f69f3bff",radius:[4,4,0,0],maxBarSize:50,animationDuration:500,children:L.jsx(Ra,{dataKey:"value",position:"top",formatter:l=>`${Number(l).toFixed(0)}%`})})]})})]})};function Fle(){const{forms:t,teamInfo:e,teamStats:n,teamImages:r,loadData:i,loadTeamImages:a,loading:l,currentViewingTeam:u,setCurrentViewingTeam:f,tbaData:h,aiOverviews:d,pitForms:p}=ea();A.useEffect(()=>{a(),i()},[]);const v=r[u],[b,w]=A.useState("total_points"),[E,S]=A.useState("comments"),x=I=>{let D=I.replace(/_/g," ");return D=D.replace(/([A-Z])/g," $1"),D=D.charAt(0).toUpperCase()+D.slice(1),D.replace(/\s+/g," ").trim()},C=A.useMemo(()=>(console.log(t),!t||t.length===0?[]:t.filter(I=>Number(I.team_number)===Number(u)).sort((I,D)=>(I.match_number??0)-(D.match_number??0))),[t,u]),O=A.useMemo(()=>C.length===0?[]:C.map(I=>({match:I.match_number,value:Number(I[b]??0)})),[C,b]),V=A.useMemo(()=>p.find(I=>Number(I.team_number)===Number(u)),[u,p]);return L.jsxs("div",{className:"min-h-screen bg-gray-50",children:[L.jsx(Jl,{}),L.jsx("main",{className:"pt-20 px-4 md:px-6",children:l||!t.length?L.jsx("div",{className:"text-orange-500 text-lg font-semibold",children:"Loading data..."}):L.jsxs("div",{className:"max-w-3xl mx-auto",children:[L.jsx("div",{className:"mb-6 fixed left-5 top-21 bg-gray-100 px-4 py-2 rounded-lg shadow-md",children:L.jsx(fs,{view:u,setView:f,label:"Team: ",options:Object.keys(n).map(Number)})}),v&&L.jsx("img",{src:v,alt:`Team ${u}`,className:"w-40 h-40 object-contain mb-3 relative ml-auto"}),!v&&L.jsx("div",{className:"mt-16"}),L.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:[L.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Team ",u," - ",e[u]?.nickname??""]}),L.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[L.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[L.jsx("p",{className:"text-gray-500 text-sm",children:"Rank"}),L.jsx("p",{className:"text-lg font-semibold",children:h?.rankings?.find(I=>I.team_key===`frc${u}`)?.rank??"N/A"})]}),L.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[L.jsx("p",{className:"text-gray-500 text-sm",children:"Record"}),L.jsxs("p",{className:"text-lg font-semibold",children:[h?.rankings?.find(I=>I.team_key===`frc${u}`)?.record?.wins??0,"-",h?.rankings?.find(I=>I.team_key===`frc${u}`)?.record?.losses??0,"-",h?.rankings?.find(I=>I.team_key===`frc${u}`)?.record?.ties??0]})]}),L.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[L.jsx("p",{className:"text-gray-500 text-sm",children:"OPR"}),L.jsx("p",{className:"text-lg font-semibold",children:Math.round((Number(h?.oprs[`frc${u}`])??0)*10)/10})]}),L.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[L.jsx("p",{className:"text-gray-500 text-sm",children:"Quartile 3 Points"}),L.jsx("p",{className:"text-lg font-semibold",children:n[u].total_points.q3??0})]}),L.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[L.jsx("p",{className:"text-gray-500 text-sm",children:"Auto Points"}),L.jsx("p",{className:"text-lg font-semibold",children:n[u]?.auto_points?.q3??0})]}),L.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[L.jsx("p",{className:"text-gray-500 text-sm",children:"Tele Points"}),L.jsx("p",{className:"text-lg font-semibold",children:n[u]?.tele_points?.q3??0})]}),L.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[L.jsx("p",{className:"text-gray-500 text-sm",children:"Endgame Points"}),L.jsx("p",{className:"text-lg font-semibold",children:n[u]?.endgame_points?.q3??0})]}),L.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[L.jsx("p",{className:"text-gray-500 text-sm",children:"Total Gamepieces"}),L.jsx("p",{className:"text-lg font-semibold",children:n[u]?.total_gamepieces?.q3??0})]}),L.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[L.jsx("p",{className:"text-gray-500 text-sm",children:"Max Algae Net"}),L.jsx("p",{className:"text-lg font-semibold",children:n[u]?.tele_made_net?.max??0})]})]})]}),d[u]&&L.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[L.jsx("h3",{className:"text-xl font-bold mb-4",children:"CoScout Analysis"}),L.jsx("h5",{className:"text-md mb-4",children:d[u]})]}),L.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[L.jsx("h3",{className:"text-xl font-bold mb-4",children:"Consistency Graph"}),L.jsx("div",{className:"mb-4",children:L.jsx(fs,{view:b,setView:w,label:"Field: ",options:_o.filter(I=>I!=="team_number")})}),L.jsx(By,{width:"100%",height:300,children:L.jsxs(Ble,{data:O,children:[L.jsx(iU,{strokeDasharray:"3 3"}),L.jsx(rf,{dataKey:"match",label:{value:"Match",position:"insideBottom",offset:-5}}),L.jsx(af,{}),L.jsx(Y1,{animationDuration:50,labelFormatter:I=>`Match ${I}`}),L.jsx(fU,{type:"monotone",dataKey:"value",stroke:"#d8aa84ff",strokeWidth:2,animationDuration:750})]})})]}),L.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[L.jsxs("div",{className:"flex gap-2 mb-4",children:[L.jsx("button",{onClick:()=>S("comments"),className:`px-4 py-2 rounded-full font-medium transition cursor-pointer ${E==="comments"?"bg-orange-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Comments"}),L.jsx("button",{onClick:()=>S("pitScout"),className:`px-4 py-2 rounded-full font-medium transition cursor-pointer ${E==="pitScout"?"bg-orange-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Pit Scouting"})]}),E==="comments"&&L.jsx("div",{children:L.jsx("div",{className:"max-h-64 overflow-y-auto space-y-3 border border-gray-200 rounded p-3",children:C.length>0?C.filter(I=>I.comments).map(I=>L.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[L.jsxs("span",{className:"font-semibold text-orange-600",children:["Match ",I.match_number,":"]})," ",L.jsx("span",{className:"text-gray-800",children:I.comments})]},I.id)):L.jsx("div",{className:"text-gray-500",children:"No comments available for this team."})})}),E==="pitScout"&&(V?L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[L.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[L.jsx("p",{className:"text-gray-500 text-sm",children:"Driver Experience"}),L.jsx("p",{className:"text-lg font-medium text-gray-800",children:V.driver_experience||"N/A"})]}),L.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[L.jsx("p",{className:"text-gray-500 text-sm",children:"Autos"}),L.jsx("p",{className:"text-lg font-medium text-gray-800",children:V.auto_description||"N/A"})]}),L.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[L.jsx("p",{className:"text-gray-500 text-sm",children:"Algae Details"}),L.jsx("p",{className:"text-lg font-medium text-gray-800",children:V.algae_description||"N/A"})]}),L.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[L.jsx("p",{className:"text-gray-500 text-sm",children:"Climb Details"}),L.jsx("p",{className:"text-lg font-medium text-gray-800",children:V.endgame_description||"N/A"})]}),L.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[L.jsx("p",{className:"text-gray-500 text-sm",children:"Final Comments"}),L.jsx("p",{className:"text-lg font-medium text-gray-800",children:V.comments||"N/A"})]})]}):L.jsx("p",{className:"text-gray-500",children:"No pit scout data for this team."}))]}),L.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[L.jsx("h3",{className:"text-xl font-bold mb-4",children:"Match Stats"}),L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"min-w-full border border-gray-600 table-auto rounded-md",children:[L.jsx("thead",{className:"bg-gray-100 shadow-md",children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-2 py-1 border-y border-gray-600 font-medium text-center",children:"Match #"}),_o.map(I=>L.jsxs("th",{className:"px-4 py-0 border-y border-gray-600 font-medium text-sm min-w-20 text-center",children:[x(I)," "]},I))]})}),L.jsx("tbody",{children:C.length>0?C.map((I,D)=>L.jsxs("tr",{className:D%3===2?"bg-gray-100 hover:bg-gray-200":"hover:bg-gray-100",children:[L.jsx("td",{className:"px-4 py-2 border-y border-gray-600",children:I.match_number}),_o.map(N=>L.jsx("td",{className:"px-4 py-2 border-y border-gray-600 text-center",children:I[N]??0},N))]},I.id)):L.jsx("tr",{children:L.jsx("td",{className:"px-4 py-2 border text-center",colSpan:_o.length+1,children:"No match data available for this team."})})})]})})]}),L.jsxs("div",{className:"mt-8 max-w-3xl mx-auto",children:[L.jsx("h3",{className:"text-xl font-bold mb-4",children:"Match Schedule"}),L.jsx("div",{className:"space-y-2",children:h?.matches.filter(I=>I.alliances.red.team_keys.includes(`frc${u}`)||I.alliances.blue.team_keys.includes(`frc${u}`)).sort((I,D)=>{const N=["qf","sf","f"],k=N.includes(I.comp_level),M=N.includes(D.comp_level);return k&&!M?1:!k&&M?-1:I.match_number-D.match_number}).map(I=>{const D=I.alliances.red.team_keys.includes(`frc${u}`),N=D?I.alliances.red:I.alliances.blue,k=D?I.alliances.blue:I.alliances.red,M=N.score,z=k.score,B=I.winning_alliance?I.winning_alliance==="red"?"Red":I.winning_alliance==="blue"?"Blue":"Tie":null,q=["qf","sf","f"].includes(I.comp_level)?I.comp_level.toUpperCase():null;return L.jsxs("div",{className:`flex flex-row sm:flex-row justify-between items-center sm:items-center px-3 py-1 rounded-lg shadow-sm 
                        ${D?"bg-red-50":"bg-blue-50"}`,children:[L.jsxs("button",{className:"flex flex-row gap-3 p-3 cursor-pointer rounded-md hover:bg-gray-300 transition-bg duration-150",onClick:()=>{if(I.videos?.length>0){const $=I.videos[0];let ye="";$.type==="youtube"?ye=`https://www.youtube.com/watch?v=${$.key}`:$.type==="tba"&&(ye=`https://www.thebluealliance.com/match/${$.key}`),ye&&window.open(ye,"_blank")}},children:["                                                    ",I.videos?.length>0&&L.jsx("div",{children:L.jsx(F5,{color:"gray",size:24})}),L.jsxs("div",{className:"font-semibold mb-1 sm:mb-0",children:[q?"Match":"Qual"," ",I.match_number," ",q&&L.jsxs("span",{className:"ml-2 text-sm text-red-600 font-bold",children:["[",q,"]"]})]})]}),L.jsxs("div",{className:"text-gray-700 mb-1 sm:mb-0",children:[L.jsx("div",{className:`${D?"bg-red-200":"bg-blue-200"} px-3 flex flex-row  justify-around rounded-md font-bold mb-1`,children:N.team_keys.map($=>$.replace("frc","")).join(", ")}),L.jsx("div",{className:`${D?"bg-blue-200":"bg-red-200"} px-3 flex flex-row  justify-around rounded-md`,children:k.team_keys.map($=>$.replace("frc","")).join(", ")})]}),L.jsx("div",{className:"text-right mt-1 sm:mt-0",children:M!=null&&z!=null?L.jsxs("div",{children:[L.jsxs("div",{className:"font-bold text-lg",children:[M," - ",z]}),B&&L.jsx("div",{className:`text-sm font-semibold ${B===(D?"Red":"Blue")?"text-green-600":"text-red-600"}`,children:B===(D?"Red":"Blue")?"Win":"Loss"})]}):I.time?L.jsx("div",{className:"text-sm text-gray-500",children:new Date(I.time*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}):L.jsx("div",{className:"text-sm text-gray-400",children:"TBD"})})]},I.key)})})]}),L.jsx(qle,{categories:["total_coral","auto_points","tele_points","endgame_points","total_algae","total_gamepieces"]}),L.jsx("div",{className:"mb-30"})]})}),L.jsx(au,{}),L.jsx(Gc,{})]})}function Hle({data:t,category:e,show:n}){const r=[...t].sort((a,l)=>l.value-a.value),{setCurrentViewingTeam:i}=ea();return L.jsxs("div",{className:"flex flex-row gap-0 w-full mb-10 justify-center",children:[L.jsxs("div",{className:"flex flex-col gap-1 flex-1 max-w-xl min-w-50",children:[L.jsxs("div",{className:"grid grid-cols-3 bg-gray-700 text-white font-bold px-0 py-1 rounded grid-cols-[25%_25%_auto]",children:[L.jsx("div",{className:"text-center cursor-pointer",children:"Rank"}),L.jsx("div",{className:"text-center cursor-pointer",children:"Team"}),L.jsx("div",{className:"text-center cursor-pointer truncate",children:e})]}),r.map((a,l)=>L.jsxs("div",{className:`grid grid-cols-3 px-0 py-1 border-b border-gray-300 grid-cols-[25%_25%_auto] ${l%2===0?"bg-gray-100":"bg-gray-200"}`,children:[L.jsx("div",{className:"text-center",children:l+1}),L.jsx("div",{className:"text-center cursor-pointer hover:text-orange-500 hover:font-bold transition duartion-250",onClick:()=>{i(Number(a.team)),window.open("/teams","_self")},children:a.team}),L.jsx("div",{className:"text-center",children:a.value})]},a.team))]}),n&&L.jsx("div",{className:"flex-3 h-[50px * data.length] pt-8",children:L.jsx(By,{width:"100%",height:"100%",children:L.jsxs(sT,{data:r,layout:"vertical",margin:{left:20},children:[L.jsx(rf,{type:"number",hide:!0}),L.jsx(af,{type:"category",dataKey:"team",hide:!0,interval:0}),L.jsx(Y1,{isAnimationActive:!1}),L.jsx(zy,{dataKey:"value",fill:"#FF7F50",label:{position:"insideRight",fill:"white"}})]})})})]})}const Kle=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()};function Gle(){const{teamStats:t,loading:e,loadData:n}=ea(),[r,i]=A.useState("total_points"),[a,l]=A.useState("median"),[u,f]=A.useState(!0),h=Object.entries(t).map(([d,p])=>({team:d,value:p[r][a]})).sort((d,p)=>p.value-d.value);return A.useEffect(()=>{n()},[]),L.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[L.jsx(Jl,{}),L.jsxs("main",{className:"pt-20 px-0 md:px-6",children:[e?L.jsx("div",{className:"text-orange-500",children:"Loading data..."}):L.jsxs("div",{children:[L.jsxs("div",{className:"flex flex-col lg:flex-row gap-5",children:[L.jsx(fs,{view:r,setView:i,label:"Category:",options:_o.filter(d=>d!="team_number")}),L.jsx(fs,{view:a,setView:l,label:"Type:",options:["min","mean","median","q3","max"]}),L.jsx(fs,{view:u,setView:d=>f(d===!0||d==="true"),label:"Show graph:",options:[!0,!1]})]}),L.jsx("div",{className:"h-10"}),L.jsx(Hle,{data:h,category:Kle(r),show:u})]}),L.jsx(au,{}),L.jsx(Gc,{})]})]})}function Yle(){const{loading:t,loadData:e,eventName:n,setEventName:r,eventKeys:i,usePracticeData:a,setUsePracticeData:l,teamInfo:u,forms:f,tbaData:h,pitForms:d}=ea();A.useEffect(()=>{e()},[]);const v=vM(_M,{model:"gemini-2.5-flash",generationConfig:{temperature:.6,topP:.1,topK:16},systemInstruction:"You are a scouting assistant on team 3197, the hexhounds, competing in FRC robotics. give helpful tips that will help our team win, use insights from our data to answer questions"});async function b(){const x=["Provide a team overview for each team. Make it a few sentences, specifically touch on any struggles, what their auto does, endgame capabilities, tele-operated scoring, algae/coral capabilities, and how good they are for picking","Respond in a json format with the team's number as the key followed by the text.",JSON.stringify(u),JSON.stringify(f),JSON.stringify(h),JSON.stringify(d)];var C;try{C=await v.generateContent(x),alert("Successfully generated overviews... uploading now.")}catch(I){alert("Error: "+I)}return(C?.response??null)?.text()??"{}"}async function w(){const x=["Provide match analysis for each match. If it is completed then analyze how each team performed in a sentence or two and why one alliance won. If it is upcoming provide ideas for how each alliance can win and your prediction.","Respond in a json format with 'match' concatenated with the number as the key followed by the output.","Make it concise, interesting to read as a quick overview for someone who missed the match and wants to know why one alliance won. you may add critical feedback or sarcasm but be professional and not mean","Scoring guide: auto : {l1: 3, l2: 4, l3: 6, l4: 7, leave: 3, algaenet:4, algaeProcessor:2}, tele : {l1: 2, l2:3, l3: 4, l4: 5, algaenet:4, algaeProcessor:2}, endgame: {deep climb: 12, park: 2, can only have one or the other}","Only do qual matches, not playoff (f, sf, etc)",JSON.stringify(u),JSON.stringify(f),JSON.stringify(h),JSON.stringify(d)];var C;try{C=await v.generateContent(x),alert("Successfully generated overviews... uploading now.")}catch(I){alert("Error: "+I)}return(C?.response??null)?.text()??"{}"}async function E(){try{alert("Sending message to ai...");const x=await b();console.warn(x);const C=x.replace(/`/g,"").replace("json","");console.warn(C);const O=JSON.parse(C);console.warn(O);const V=Wp(Wh,"aiOverview","overview");await aC(V,O,{merge:!0}),alert("All good! Finished fully.")}catch(x){alert("Error: "+x)}}async function S(){try{alert("Sending message to ai...");const x=await w();console.warn(x);const C=x.replace(/`/g,"").replace("json","");console.warn(C);const O=JSON.parse(C);console.warn(O);const V=Wp(Wh,"aiOverview","match");await aC(V,O,{merge:!0}),alert("All good! Finished fully.")}catch(x){alert("Error: "+x)}}return L.jsxs("div",{className:"min-h-screen bg-gray-50",children:[L.jsx(Jl,{}),L.jsx("main",{className:"pt-20 px-0 md:px-6 pr-10",children:t?L.jsx("div",{className:"text-orange-500",children:"Loading data..."}):L.jsxs("div",{className:"flex flex-col items-center gap-2",children:[L.jsx(fs,{view:n,setView:r,label:"Event Name: ",options:i}),L.jsx(fs,{view:a,setView:l,label:"Include practice/pre scout data ",options:[!0,!1]}),L.jsx("button",{className:"cursor-pointer border-2 border-orange-400 px-2 py-1 text-lg rounded-md hover:bg-orange-700 hover:text-white transition duration-500",onClick:()=>{prompt("Put in a password to prevent abuse:")==="TyTy77"&&(alert("Generating ai overviews, play stay on the page until it either errors or succeeds... please close this dialogue."),E())},children:"Generate Team Overviews"}),L.jsx("button",{className:"cursor-pointer border-2 border-orange-400 px-2 py-1 text-lg rounded-md hover:bg-orange-700 hover:text-white transition duration-500",onClick:()=>{prompt("Put in a password to prevent abuse:")==="TyTy77"&&(alert("Generating ai overviews, play stay on the page until it either errors or succeeds... please close this dialogue."),S())},children:"Generate Match Overviews"})]})}),L.jsx(au,{})]})}function Wle(){const{loading:t,loadData:e,forms:n,tbaData:r,pitForms:i,teamInfo:a}=ea(),[l,u]=A.useState(""),[f,h]=A.useState([{message:"Hi ai.",sender:"you"},{message:"Hey human!",sender:"ai"}]),[d,p]=A.useState(!1),b=vM(_M,{model:"gemini-2.5-flash",generationConfig:{temperature:.6,topP:.1,topK:16},systemInstruction:"You are a scouting assistant on team 3197, the hexhounds, competing in FRC robotics. give helpful tips that will help our team win, use insights from our data to answer questions"});async function w(E){const S=E;p(!0),u(""),h(I=>[...I,{message:S,sender:"you"}]);const x=["For team names you can reference teamInfo nickname data supplied, favor totalPoints in our scouting data more than opr","If they ask about a team using its name, find its corresponding number in teamInfo and then answer","Getting rank points help you improve rank. 3 for winning, 1 for 14+ points in endgame, 1 for auto mobility + 1 or more coral, and one for 4 levels with 5+ coral","Try to be as quick and concise as possible. don't write more than one or two paragraphs unless it asks for analysis","Scoring guide: auto : {l1: 3, l2: 4, l3: 6, l4: 7, leave: 3, algaenet:4, algaeProcessor:2}, tele : {l1: 2, l2:3, l3: 4, l4: 5, algaenet:4, algaeProcessor:2}, endgame: {deep climb: 12, park: 2, can only have one or the other}","Use scoring rules, team roles, and match strategies",S,JSON.stringify(a),JSON.stringify(n),JSON.stringify(r),JSON.stringify(i)],V=(await b.generateContent(x)).response.text();return p(!1),h(I=>[...I,{message:V,sender:"ai"}]),V}return A.useEffect(()=>{e()},[]),L.jsxs("div",{className:"min-h-screen bg-gray-50",children:[L.jsx(Jl,{}),L.jsx("main",{className:"pt-20 px-4 md:px-6 h-screen flex flex-col items-center pb-10",children:t?L.jsx("div",{className:"text-orange-500",children:"Loading data..."}):L.jsxs("div",{className:"flex flex-col items-center w-full max-w-4xl h-full gap-4",children:[L.jsx("div",{className:"text-2xl px-5 py-2 md:px-10 md:py-5 bg-gray-100 shadow-lg rounded-lg text-center w-full",children:"CoScout, the scouting assistant."}),L.jsxs("div",{className:"flex-1 w-full bg-gray-50 border-2 border-gray-100 rounded-lg p-4 md:p-5 flex flex-col gap-2 md:gap-4 overflow-y-auto",children:[f.map((E,S)=>{const x=E.sender==="you",C=O=>O.split(/\n/).flatMap(I=>I.startsWith("* ")?["*",I.slice(2)]:[I]).map((I,D)=>{if(I==="*")return L.jsx("br",{},D);const N=I.split(/\*\*/);return L.jsxs("div",{className:I.startsWith("*")?"flex gap-2":"",children:[I.startsWith("*")&&L.jsx("span",{children:"•"}),N.map((k,M)=>M%2===1?L.jsx("strong",{children:k},M):k)]},D)});return L.jsx("div",{className:`px-3 py-2 rounded-md shadow-sm max-w-full sm:max-w-[80%] my-1 self-${x?"end":"start"} ${x?"bg-orange-300":"bg-gray-200"}`,children:C(E.message)},S)}),d&&L.jsx("div",{className:"flex justify-start sm:justify-start",children:L.jsx(x5,{size:28,className:"animate-pulse"})})]}),L.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-end w-full",children:[L.jsx("textarea",{value:l,onChange:E=>u(E.target.value),placeholder:"Send text here...",rows:3,className:"border-2 border-gray-400 active:border-gray-500 resize-none text-md px-4 py-3 bg-gray-100 shadow-lg rounded-lg w-full sm:w-auto flex-1"}),L.jsx("button",{onClick:()=>{l.length>0&&w(l)},className:"bg-orange-300 w-full sm:w-16 h-12 flex items-center justify-center rounded-lg cursor-pointer hover:shadow-lg hover:bg-orange-400 transition duration-200",children:L.jsx(j5,{size:28})})]})]})}),L.jsx(au,{}),L.jsx(Gc,{})]})}const Xle=({matchObject:t})=>{const{forms:e}=ea(),n=t.alliances.blue.team_keys.map(h=>h.replace(/^frc/,"")),r=t.alliances.red.team_keys.map(h=>h.replace(/^frc/,"")),i=[...n,...r],a=["#FF0000","#FF4D4D","#CC0000"],l=["#3B82F6","#60A5FA","#1E40AF"],u=e.filter(h=>h.matchNumber==t.match_number&&i.includes(h.teamNumber));var f={match:t.match_number};return u.map(h=>{f[`${n.includes(String(h.teamNumber))?"b":"R"}${String(h.teamNumber)}`]=h.totalPoints}),L.jsxs("div",{className:"w-full h-35 bg-white rounded-xl p-1 shadow-md mt-5 flex flex-col",children:[L.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Scoring Distribution"}),L.jsx(By,{width:"100%",height:"100%",children:L.jsxs(sT,{layout:"vertical",data:[f],children:[L.jsx(rf,{type:"number",domain:[0,100],tickFormatter:h=>`${h.toFixed(0)}%`,hide:!0}),L.jsx(af,{type:"category",dataKey:"match",width:10,hide:!0}),L.jsx(wy,{verticalAlign:"top",height:36,formatter:h=>h.replace("R","").replace("b","")}),Object.keys(f).sort().map((h,d)=>{if(h!="match")return L.jsx(zy,{dataKey:h,stackId:"stack",fill:h.includes("R")?a.pop():l.pop(),children:L.jsx(Ra,{dataKey:h,position:"center",formatter:p=>`${p}`,fill:"white",offset:0})},d)})]})})]})},FI="viewingModeMatches",HI="viewingTeamMatches";function Qle(){const{loadData:t,tbaData:e,eventName:n,aiMatches:r,forms:i,teamStats:a}=ea(),[l,u]=A.useState([]),[f,h]=A.useState(null),[d,p]=A.useState(!1),[v,b]=A.useState(sessionStorage.getItem(FI)??"All"),[w,E]=A.useState(parseInt(sessionStorage.getItem(HI)??"3197")),S={};return e?.rankings?.rankings&&e.rankings.rankings.forEach(x=>{S[`frc${x.team_key}`]=x.rank}),A.useEffect(()=>{sessionStorage.setItem(FI,v)},[v]),A.useEffect(()=>{sessionStorage.setItem(HI,String(w))},[w]),A.useEffect(()=>{if(!e){t();return}if(e.matches){p(!0);const x=[...e.matches].sort((C,O)=>{const V=["qm","ef","qf","sf","f"],I=V.indexOf(C.comp_level),D=V.indexOf(O.comp_level);return I!==D?I-D:C.match_number-O.match_number});u(x),p(!1)}},[e,t]),L.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[L.jsx(Jl,{}),L.jsxs("main",{className:"pt-20 px-2 md:px-6 flex flex-col items-center",children:[L.jsxs("h2",{className:"text-xl font-semibold mb-3",children:["Matches for Event: ",n]}),L.jsx(fs,{view:v,setView:b,label:"View: ",options:["All","Team","Hypothetical"]}),v=="Team"&&L.jsx("div",{className:"mt-4",children:L.jsx(fs,{view:w,setView:E,label:"Viewing team: ",options:Object.keys(a).map(Number)})}),L.jsx("div",{className:"h-10"}),d?L.jsx("div",{className:"text-orange-500 text-center",children:"Loading matches..."}):v!="Hypothetical"&&L.jsx("div",{className:"flex flex-col gap-2",children:l.filter(x=>v=="All"||[...x.alliances.red.team_keys.map(C=>C.replace("frc","")),...x.alliances.blue.team_keys.map(C=>C.replace("frc",""))].includes(String(w))).map(x=>{const{red:C,blue:O}=x.alliances,V=C.score!=null&&O.score!=null?C.score>O.score?"red":O.score>C.score?"blue":"tie":null,I=f===x.key;return L.jsxs("div",{className:"w-full max-w-xl ml-auto mr-auto p-3 rounded-lg shadow-sm bg-white border-2 border-gray-200 hover:border-gray-500 h-auto transition",children:[L.jsx("button",{className:"w-full transition cursor-pointer",onClick:()=>h(I?null:x.key),children:L.jsxs("div",{className:"flex flex-row items-center justify-between mt-1",children:[L.jsx("div",{className:`flex flex-col items-end text-md ${V==="red"?"text-red-500 font-bold":"text-red-900 font-regular"}`,children:C.team_keys.map(D=>{const N=D.replace("frc","");return L.jsxs("div",{className:"flex gap-1",children:[L.jsx("span",{children:N}),S[D]&&L.jsxs("span",{className:"text-gray-400",children:["#",S[D]]})]},D)})}),L.jsxs("div",{className:"mx-3 flex flex-col items-center font-bold justify-center gap-2",children:[L.jsxs("div",{className:"font-medium",children:[x.comp_level.toUpperCase()," ",x.match_number]}),C.score!=null&&O.score!=null?L.jsx(L.Fragment,{children:L.jsxs("div",{className:`px-2 py-0.5 rounded text-xl ${V==="red"?"bg-red-100 text-red-700":V==="blue"?"bg-blue-100 text-blue-700":"bg-gray-100"}`,children:[C.score," - ",O.score]})}):L.jsx("div",{className:"text-gray-400",children:"Upcoming"})]}),L.jsx("div",{className:`flex flex-col items-start text-md ${V==="blue"?"text-blue-500 font-bold":"text-blue-900 font-regular"}`,children:O.team_keys.map(D=>{const N=D.replace("frc","");return L.jsxs("div",{className:"flex gap-1",children:[L.jsx("span",{children:N}),S[D]&&L.jsxs("span",{className:"text-gray-400",children:["#",S[D]]})]},D)})})]})}),L.jsxs("div",{className:`mt-2 border-t pt-2 text-md text-gray-600 space-y-1 overflow-y-auto transition-all duration-300 ${I?"max-h-70 opacity-100":"max-h-0 opacity-0"}`,children:[x.time&&L.jsxs("div",{children:["Time:"," ",new Date(x.time*1e3).toLocaleString([],{hour:"2-digit",minute:"2-digit"})]}),x.videos?.length?L.jsxs("div",{className:"flex flex-row items-center",children:["Videos:"," ",x.videos.map(D=>{const N=D.type==="youtube"?`https://www.youtube.com/watch?v=${D.key}`:`https://www.thebluealliance.com/match/${x.key}`;return L.jsx("button",{onClick:()=>window.open(N,"_blank"),className:"ml-2 cursor-pointer bg-gray-50 hover:bg-gray-200 transition px-2 py-1 rounded-sm",children:L.jsx(K5,{className:"hover:scale-[1.25] transition",color:"darkorange"})})})]}):L.jsx("div",{children:"No videos yet"}),I&&L.jsx(Xle,{matchObject:x}),r["match"+x.match_number]&&x.comp_level==="qm"&&L.jsxs("div",{className:"mt-0 bg-white p-2",children:[L.jsx("h3",{className:"text-md font-bold mb-2",children:"CoScout Analysis"}),L.jsx("h5",{className:"text-sm mb-4",children:r["match"+x.match_number]})]})]})]},x.key)})}),L.jsx(au,{}),L.jsx(Gc,{})]})]})}function Jle(){const{teamStats:t,loading:e,loadData:n}=ea();return A.useEffect(()=>{n()},[]),L.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[L.jsx(Jl,{}),L.jsxs("main",{className:"pt-20 px-0 md:px-6",children:[e?L.jsx("div",{className:"text-orange-500",children:"Loading data..."}):L.jsx("div",{}),L.jsx(au,{}),L.jsx(Gc,{})]})]})}const Zle=a5([{path:"/",element:L.jsx(pK,{}),errorElement:L.jsx(vK,{})},{path:"teams",element:L.jsx(Fle,{})},{path:"ranks",element:L.jsx(Gle,{})},{path:"settings",element:L.jsx(Yle,{})},{path:"coscout",element:L.jsx(Wle,{})},{path:"match",element:L.jsx(Qle,{})},{path:"picklist",element:L.jsx(Jle,{})}],{basename:"/ScoutingOffseason2025"});l6.createRoot(document.getElementById("root")).render(L.jsx(A.StrictMode,{children:L.jsx(y5,{router:Zle})}));
