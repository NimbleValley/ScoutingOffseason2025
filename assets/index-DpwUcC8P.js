function aV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ea(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sV(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var $0={exports:{}},ih={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bO;function oV(){if(bO)return ih;bO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return ih.Fragment=e,ih.jsx=n,ih.jsxs=n,ih}var _O;function lV(){return _O||(_O=1,$0.exports=oV()),$0.exports}var T=lV(),B0={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wO;function uV(){if(wO)return tt;wO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function E(H,oe,ie){this.props=H,this.context=oe,this.refs=x,this.updater=ie||b}E.prototype.isReactComponent={},E.prototype.setState=function(H,oe){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,oe,"setState")},E.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function A(){}A.prototype=E.prototype;function P(H,oe,ie){this.props=H,this.context=oe,this.refs=x,this.updater=ie||b}var C=P.prototype=new A;C.constructor=P,w(C,E.prototype),C.isPureReactComponent=!0;var V=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function j(H,oe,ie,me,Ae,Ue){return ie=Ue.ref,{$$typeof:t,type:H,key:oe,ref:ie!==void 0?ie:null,props:Ue}}function I(H,oe){return j(H.type,oe,void 0,void 0,void 0,H.props)}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var oe={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ie){return oe[ie]})}var z=/\/+/g;function q(H,oe){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):oe.toString(36)}function $(){}function ve(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then($,$):(H.status="pending",H.then(function(oe){H.status==="pending"&&(H.status="fulfilled",H.value=oe)},function(oe){H.status==="pending"&&(H.status="rejected",H.reason=oe)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function we(H,oe,ie,me,Ae){var Ue=typeof H;(Ue==="undefined"||Ue==="boolean")&&(H=null);var Ve=!1;if(H===null)Ve=!0;else switch(Ue){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(H.$$typeof){case t:case e:Ve=!0;break;case d:return Ve=H._init,we(Ve(H._payload),oe,ie,me,Ae)}}if(Ve)return Ae=Ae(H),Ve=me===""?"."+q(H,0):me,V(Ae)?(ie="",Ve!=null&&(ie=Ve.replace(z,"$&/")+"/"),we(Ae,oe,ie,"",function(_e){return _e})):Ae!=null&&(M(Ae)&&(Ae=I(Ae,ie+(Ae.key==null||H&&H.key===Ae.key?"":(""+Ae.key).replace(z,"$&/")+"/")+Ve)),oe.push(Ae)),1;Ve=0;var nn=me===""?".":me+":";if(V(H))for(var Tt=0;Tt<H.length;Tt++)me=H[Tt],Ue=nn+q(me,Tt),Ve+=we(me,oe,ie,Ue,Ae);else if(Tt=y(H),typeof Tt=="function")for(H=Tt.call(H),Tt=0;!(me=H.next()).done;)me=me.value,Ue=nn+q(me,Tt++),Ve+=we(me,oe,ie,Ue,Ae);else if(Ue==="object"){if(typeof H.then=="function")return we(ve(H),oe,ie,me,Ae);throw oe=String(H),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function G(H,oe,ie){if(H==null)return H;var me=[],Ae=0;return we(H,me,"","",function(Ue){return oe.call(ie,Ue,Ae++)}),me}function re(H){if(H._status===-1){var oe=H._result;oe=oe(),oe.then(function(ie){(H._status===0||H._status===-1)&&(H._status=1,H._result=ie)},function(ie){(H._status===0||H._status===-1)&&(H._status=2,H._result=ie)}),H._status===-1&&(H._status=0,H._result=oe)}if(H._status===1)return H._result.default;throw H._result}var pe=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function xe(){}return tt.Children={map:G,forEach:function(H,oe,ie){G(H,function(){oe.apply(this,arguments)},ie)},count:function(H){var oe=0;return G(H,function(){oe++}),oe},toArray:function(H){return G(H,function(oe){return oe})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},tt.Component=E,tt.Fragment=n,tt.Profiler=i,tt.PureComponent=P,tt.StrictMode=r,tt.Suspense=f,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,tt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return L.H.useMemoCache(H)}},tt.cache=function(H){return function(){return H.apply(null,arguments)}},tt.cloneElement=function(H,oe,ie){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var me=w({},H.props),Ae=H.key,Ue=void 0;if(oe!=null)for(Ve in oe.ref!==void 0&&(Ue=void 0),oe.key!==void 0&&(Ae=""+oe.key),oe)!D.call(oe,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&oe.ref===void 0||(me[Ve]=oe[Ve]);var Ve=arguments.length-2;if(Ve===1)me.children=ie;else if(1<Ve){for(var nn=Array(Ve),Tt=0;Tt<Ve;Tt++)nn[Tt]=arguments[Tt+2];me.children=nn}return j(H.type,Ae,void 0,void 0,Ue,me)},tt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},tt.createElement=function(H,oe,ie){var me,Ae={},Ue=null;if(oe!=null)for(me in oe.key!==void 0&&(Ue=""+oe.key),oe)D.call(oe,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ae[me]=oe[me]);var Ve=arguments.length-2;if(Ve===1)Ae.children=ie;else if(1<Ve){for(var nn=Array(Ve),Tt=0;Tt<Ve;Tt++)nn[Tt]=arguments[Tt+2];Ae.children=nn}if(H&&H.defaultProps)for(me in Ve=H.defaultProps,Ve)Ae[me]===void 0&&(Ae[me]=Ve[me]);return j(H,Ue,void 0,void 0,null,Ae)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(H){return{$$typeof:u,render:H}},tt.isValidElement=M,tt.lazy=function(H){return{$$typeof:d,_payload:{_status:-1,_result:H},_init:re}},tt.memo=function(H,oe){return{$$typeof:h,type:H,compare:oe===void 0?null:oe}},tt.startTransition=function(H){var oe=L.T,ie={};L.T=ie;try{var me=H(),Ae=L.S;Ae!==null&&Ae(ie,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(xe,pe)}catch(Ue){pe(Ue)}finally{L.T=oe}},tt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},tt.use=function(H){return L.H.use(H)},tt.useActionState=function(H,oe,ie){return L.H.useActionState(H,oe,ie)},tt.useCallback=function(H,oe){return L.H.useCallback(H,oe)},tt.useContext=function(H){return L.H.useContext(H)},tt.useDebugValue=function(){},tt.useDeferredValue=function(H,oe){return L.H.useDeferredValue(H,oe)},tt.useEffect=function(H,oe,ie){var me=L.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(H,oe)},tt.useId=function(){return L.H.useId()},tt.useImperativeHandle=function(H,oe,ie){return L.H.useImperativeHandle(H,oe,ie)},tt.useInsertionEffect=function(H,oe){return L.H.useInsertionEffect(H,oe)},tt.useLayoutEffect=function(H,oe){return L.H.useLayoutEffect(H,oe)},tt.useMemo=function(H,oe){return L.H.useMemo(H,oe)},tt.useOptimistic=function(H,oe){return L.H.useOptimistic(H,oe)},tt.useReducer=function(H,oe,ie){return L.H.useReducer(H,oe,ie)},tt.useRef=function(H){return L.H.useRef(H)},tt.useState=function(H){return L.H.useState(H)},tt.useSyncExternalStore=function(H,oe,ie){return L.H.useSyncExternalStore(H,oe,ie)},tt.useTransition=function(){return L.H.useTransition()},tt.version="19.1.1",tt}var xO;function qc(){return xO||(xO=1,B0.exports=uV()),B0.exports}var O=qc();const yh=ea(O),cV=aV({__proto__:null,default:yh},[O]);var z0={exports:{}},ah={},q0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO;function fV(){return EO||(EO=1,(function(t){function e(G,re){var pe=G.length;G.push(re);e:for(;0<pe;){var xe=pe-1>>>1,H=G[xe];if(0<i(H,re))G[xe]=re,G[pe]=H,pe=xe;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var re=G[0],pe=G.pop();if(pe!==re){G[0]=pe;e:for(var xe=0,H=G.length,oe=H>>>1;xe<oe;){var ie=2*(xe+1)-1,me=G[ie],Ae=ie+1,Ue=G[Ae];if(0>i(me,pe))Ae<H&&0>i(Ue,me)?(G[xe]=Ue,G[Ae]=pe,xe=Ae):(G[xe]=me,G[ie]=pe,xe=ie);else if(Ae<H&&0>i(Ue,pe))G[xe]=Ue,G[Ae]=pe,xe=Ae;else break e}}return re}function i(G,re){var pe=G.sortIndex-re.sortIndex;return pe!==0?pe:G.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],h=[],d=1,p=null,y=3,b=!1,w=!1,x=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function V(G){for(var re=n(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=G)r(h),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(h)}}function L(G){if(x=!1,V(G),!w)if(n(f)!==null)w=!0,D||(D=!0,q());else{var re=n(h);re!==null&&we(L,re.startTime-G)}}var D=!1,j=-1,I=5,M=-1;function U(){return E?!0:!(t.unstable_now()-M<I)}function z(){if(E=!1,D){var G=t.unstable_now();M=G;var re=!0;try{e:{w=!1,x&&(x=!1,P(j),j=-1),b=!0;var pe=y;try{t:{for(V(G),p=n(f);p!==null&&!(p.expirationTime>G&&U());){var xe=p.callback;if(typeof xe=="function"){p.callback=null,y=p.priorityLevel;var H=xe(p.expirationTime<=G);if(G=t.unstable_now(),typeof H=="function"){p.callback=H,V(G),re=!0;break t}p===n(f)&&r(f),V(G)}else r(f);p=n(f)}if(p!==null)re=!0;else{var oe=n(h);oe!==null&&we(L,oe.startTime-G),re=!1}}break e}finally{p=null,y=pe,b=!1}re=void 0}}finally{re?q():D=!1}}}var q;if(typeof C=="function")q=function(){C(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ve=$.port2;$.port1.onmessage=z,q=function(){ve.postMessage(null)}}else q=function(){A(z,0)};function we(G,re){j=A(function(){G(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(G){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var pe=y;y=re;try{return G()}finally{y=pe}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pe=y;y=G;try{return re()}finally{y=pe}},t.unstable_scheduleCallback=function(G,re,pe){var xe=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?xe+pe:xe):pe=xe,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=pe+H,G={id:d++,callback:re,priorityLevel:G,startTime:pe,expirationTime:H,sortIndex:-1},pe>xe?(G.sortIndex=pe,e(h,G),n(f)===null&&G===n(h)&&(x?(P(j),j=-1):x=!0,we(L,pe-xe))):(G.sortIndex=H,e(f,G),w||b||(w=!0,D||(D=!0,q()))),G},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(G){var re=y;return function(){var pe=y;y=re;try{return G.apply(this,arguments)}finally{y=pe}}}})(F0)),F0}var SO;function hV(){return SO||(SO=1,q0.exports=fV()),q0.exports}var H0={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TO;function dV(){if(TO)return ur;TO=1;var t=qc();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:h,implementation:d}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ur.createPortal=function(f,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,d)},ur.flushSync=function(f){var h=l.T,d=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=d,r.d.f()}},ur.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},ur.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ur.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var d=h.as,p=u(d,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):d==="script"&&r.d.X(f,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ur.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},ur.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,p=u(d,h.crossOrigin);r.d.L(f,d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ur.preloadModule=function(f,h){if(typeof f=="string")if(h){var d=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},ur.requestFormReset=function(f){r.d.r(f)},ur.unstable_batchedUpdates=function(f,h){return f(h)},ur.useFormState=function(f,h,d){return l.H.useFormState(f,h,d)},ur.useFormStatus=function(){return l.H.useHostTransitionStatus()},ur.version="19.1.1",ur}var AO;function Wj(){if(AO)return H0.exports;AO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),H0.exports=dV(),H0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO;function mV(){if(OO)return ah;OO=1;var t=hV(),e=qc(),n=Wj();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var c=s,m=o;;){var v=c.return;if(v===null)break;var _=v.alternate;if(_===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===c)return u(v),s;if(_===m)return u(v),o;_=_.sibling}throw Error(r(188))}if(c.return!==m.return)c=v,m=_;else{for(var N=!1,k=v.child;k;){if(k===c){N=!0,c=v,m=_;break}if(k===m){N=!0,m=v,c=_;break}k=k.sibling}if(!N){for(k=_.child;k;){if(k===c){N=!0,c=_,m=v;break}if(k===m){N=!0,m=_,c=v;break}k=k.sibling}if(!N)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:o}function h(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=h(s),o!==null)return o;s=s.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),C=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var $=Symbol.for("react.client.reference");function ve(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===$?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case L:return"Suspense";case D:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case C:return(s.displayName||"Context")+".Provider";case P:return(s._context.displayName||"Context")+".Consumer";case V:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case j:return o=s.displayName||null,o!==null?o:ve(s.type)||"Memo";case I:o=s._payload,s=s._init;try{return ve(s(o))}catch{}}return null}var we=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},xe=[],H=-1;function oe(s){return{current:s}}function ie(s){0>H||(s.current=xe[H],xe[H]=null,H--)}function me(s,o){H++,xe[H]=s.current,s.current=o}var Ae=oe(null),Ue=oe(null),Ve=oe(null),nn=oe(null);function Tt(s,o){switch(me(Ve,o),me(Ue,s),me(Ae,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?GA(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=GA(o),s=WA(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ie(Ae),me(Ae,s)}function _e(){ie(Ae),ie(Ue),ie(Ve)}function De(s){s.memoizedState!==null&&me(nn,s);var o=Ae.current,c=WA(o,s.type);o!==c&&(me(Ue,s),me(Ae,c))}function Ke(s){Ue.current===s&&(ie(Ae),ie(Ue)),nn.current===s&&(ie(nn),Zf._currentValue=pe)}var ge=Object.prototype.hasOwnProperty,Yt=t.unstable_scheduleCallback,et=t.unstable_cancelCallback,ln=t.unstable_shouldYield,dn=t.unstable_requestPaint,Zt=t.unstable_now,Rs=t.unstable_getCurrentPriorityLevel,Go=t.unstable_ImmediatePriority,Ps=t.unstable_UserBlockingPriority,ka=t.unstable_NormalPriority,Mi=t.unstable_LowPriority,oi=t.unstable_IdlePriority,Ns=t.log,js=t.unstable_setDisableYieldValue,_t=null,nt=null;function or(s){if(typeof Ns=="function"&&js(s),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(_t,s)}catch{}}var mn=Math.clz32?Math.clz32:na,fu=Math.log,li=Math.LN2;function na(s){return s>>>=0,s===0?32:31-(fu(s)/li|0)|0}var ra=256,ia=4194304;function Lr(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ma(s,o,c){var m=s.pendingLanes;if(m===0)return 0;var v=0,_=s.suspendedLanes,N=s.pingedLanes;s=s.warmLanes;var k=m&134217727;return k!==0?(m=k&~_,m!==0?v=Lr(m):(N&=k,N!==0?v=Lr(N):c||(c=k&~s,c!==0&&(v=Lr(c))))):(k=m&~_,k!==0?v=Lr(k):N!==0?v=Lr(N):c||(c=m&~s,c!==0&&(v=Lr(c)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,c=o&-o,_>=c||_===32&&(c&4194048)!==0)?o:v}function ui(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Ds(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function La(){var s=ra;return ra<<=1,(ra&4194048)===0&&(ra=256),s}function Wo(){var s=ia;return ia<<=1,(ia&62914560)===0&&(ia=4194304),s}function ci(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Li(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Is(s,o,c,m,v,_){var N=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var k=s.entanglements,F=s.expirationTimes,Z=s.hiddenUpdates;for(c=N&~c;0<c;){var le=31-mn(c),ce=1<<le;k[le]=0,F[le]=-1;var te=Z[le];if(te!==null)for(Z[le]=null,le=0;le<te.length;le++){var ne=te[le];ne!==null&&(ne.lane&=-536870913)}c&=~ce}m!==0&&vr(s,m,0),_!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=_&~(N&~o))}function vr(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var m=31-mn(o);s.entangledLanes|=o,s.entanglements[m]=s.entanglements[m]|1073741824|c&4194090}function aa(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var m=31-mn(c),v=1<<m;v&o|s[m]&o&&(s[m]|=o),c&=~v}}function sa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ks(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function K(){var s=re.p;return s!==0?s:(s=window.event,s===void 0?32:dO(s.type))}function X(s,o){var c=re.p;try{return re.p=s,o()}finally{re.p=c}}var ee=Math.random().toString(36).slice(2),fe="__reactFiber$"+ee,ye="__reactProps$"+ee,Ee="__reactContainer$"+ee,Ie="__reactEvents$"+ee,Pe="__reactListeners$"+ee,Ne="__reactHandles$"+ee,$e="__reactResources$"+ee,je="__reactMarker$"+ee;function Oe(s){delete s[fe],delete s[ye],delete s[Ie],delete s[Pe],delete s[Ne]}function Ze(s){var o=s[fe];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Ee]||c[fe]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=JA(s);s!==null;){if(c=s[fe])return c;s=JA(s)}return o}s=c,c=s.parentNode}return null}function ht(s){if(s=s[fe]||s[Ee]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Ct(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function wt(s){var o=s[$e];return o||(o=s[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ye(s){s[je]=!0}var xt=new Set,Tr={};function Yn(s,o){Ln(s,o),Ln(s+"Capture",o)}function Ln(s,o){for(Tr[s]=o,s=0;s<o.length;s++)xt.add(o[s])}var br=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ms={},Ur={};function fi(s){return ge.call(Ur,s)?!0:ge.call(Ms,s)?!1:br.test(s)?Ur[s]=!0:(Ms[s]=!0,!1)}function Vr(s,o,c){if(fi(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function _r(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function Fe(s,o,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+m)}}var Xt,Ui;function Xn(s){if(Xt===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Xt=o&&o[1]||"",Ui=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xt+s+Ui}var $t=!1;function Vi(s,o){if(!s||$t)return"";$t=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var te=ne}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(ne){te=ne}s.call(ce.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),N=_[0],k=_[1];if(N&&k){var F=N.split(`
`),Z=k.split(`
`);for(v=m=0;m<F.length&&!F[m].includes("DetermineComponentFrameRoot");)m++;for(;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;if(m===F.length||v===Z.length)for(m=F.length-1,v=Z.length-1;1<=m&&0<=v&&F[m]!==Z[v];)v--;for(;1<=m&&0<=v;m--,v--)if(F[m]!==Z[v]){if(m!==1||v!==1)do if(m--,v--,0>v||F[m]!==Z[v]){var le=`
`+F[m].replace(" at new "," at ");return s.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",s.displayName)),le}while(1<=m&&0<=v);break}}}finally{$t=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Xn(c):""}function Ls(s){switch(s.tag){case 26:case 27:case 5:return Xn(s.type);case 16:return Xn("Lazy");case 13:return Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Vi(s.type,!1);case 11:return Vi(s.type.render,!1);case 1:return Vi(s.type,!0);case 31:return Xn("Activity");default:return""}}function Us(s){try{var o="";do o+=Ls(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function wr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function of(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Fy(s){var o=of(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),m=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,_=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(N){m=""+N,_.call(this,N)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(N){m=""+N},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function hu(s){s._valueTracker||(s._valueTracker=Fy(s))}function lf(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return s&&(m=of(s)?s.checked?"true":"false":s.value),s=m,s!==c?(o.setValue(s),!0):!1}function Yo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Hy=/[\n"\\]/g;function pn(s){return s.replace(Hy,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function $r(s,o,c,m,v,_,N,k){s.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.type=N:s.removeAttribute("type"),o!=null?N==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+wr(o)):s.value!==""+wr(o)&&(s.value=""+wr(o)):N!=="submit"&&N!=="reset"||s.removeAttribute("value"),o!=null?Vs(s,N,wr(o)):c!=null?Vs(s,N,wr(c)):m!=null&&s.removeAttribute("value"),v==null&&_!=null&&(s.defaultChecked=!!_),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+wr(k):s.removeAttribute("name")}function Xo(s,o,c,m,v,_,N,k){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),o!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;c=c!=null?""+wr(c):"",o=o!=null?""+wr(o):c,k||o===s.value||(s.value=o),s.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=k?s.checked:!!m,s.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.name=N)}function Vs(s,o,c){o==="number"&&Yo(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Ua(s,o,c,m){if(s=s.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=o.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&m&&(s[c].defaultSelected=!0)}else{for(c=""+wr(c),o=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,m&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function Dt(s,o,c){if(o!=null&&(o=""+wr(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+wr(c):""}function Qo(s,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(we(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=wr(o),s.defaultValue=c,m=s.textContent,m===c&&m!==""&&m!==null&&(s.value=m)}function hi(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Jo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dd(s,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":m?s.setProperty(o,c):typeof c!="number"||c===0||Jo.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function uf(s,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&c[v]!==m&&Dd(s,v,m)}else for(var _ in o)o.hasOwnProperty(_)&&Dd(s,_,o[_])}function cf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ky=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function du(s){return Gy.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Va=null;function di(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $a=null,Ba=null;function ff(s){var o=ht(s);if(o&&(s=o.stateNode)){var c=s[ye]||null;e:switch(s=o.stateNode,o.type){case"input":if($r(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+pn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==s&&m.form===s.form){var v=m[ye]||null;if(!v)throw Error(r(90));$r(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===s.form&&lf(m)}break e;case"textarea":Dt(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Ua(s,!!c.multiple,o,!1)}}}var oa=!1;function Id(s,o,c){if(oa)return s(o,c);oa=!0;try{var m=s(o);return m}finally{if(oa=!1,($a!==null||Ba!==null)&&(Om(),$a&&(o=$a,s=Ba,Ba=$a=null,ff(o),s)))for(o=0;o<s.length;o++)ff(s[o])}}function Zo(s,o){var c=s.stateNode;if(c===null)return null;var m=c[ye]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mi=!1;if($i)try{var el={};Object.defineProperty(el,"passive",{get:function(){mi=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{mi=!1}var la=null,$s=null,za=null;function hf(){if(za)return za;var s,o=$s,c=o.length,m,v="value"in la?la.value:la.textContent,_=v.length;for(s=0;s<c&&o[s]===v[s];s++);var N=c-s;for(m=1;m<=N&&o[c-m]===v[_-m];m++);return za=v.slice(s,1<m?1-m:void 0)}function ua(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ca(){return!0}function df(){return!1}function Un(s){function o(c,m,v,_,N){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(c=s[k],this[k]=c?c(_):_[k]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ca:df,this.isPropagationStopped=df,this}return d(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),o}var At={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=Un(At),tl=d({},At,{view:0,detail:0}),kd=Un(tl),pu,gu,fa,nl=d({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:al,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fa&&(fa&&s.type==="mousemove"?(pu=s.screenX-fa.screenX,gu=s.screenY-fa.screenY):gu=pu=0,fa=s),pu)},movementY:function(s){return"movementY"in s?s.movementY:gu}}),pi=Un(nl),Md=d({},nl,{dataTransfer:0}),Wy=Un(Md),rl=d({},tl,{relatedTarget:0}),yu=Un(rl),mf=d({},At,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Un(mf),Ld=d({},At,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),bu=Un(Ld),Yy=d({},At,{data:0}),pf=Un(Yy),il={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gf(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Vd[s])?!!o[s]:!1}function al(){return gf}var $d=d({},tl,{key:function(s){if(s.key){var o=il[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ua(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ud[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:al,charCode:function(s){return s.type==="keypress"?ua(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ua(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_u=Un($d),Bd=d({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=Un(Bd),qa=d({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:al}),zd=Un(qa),qd=d({},At,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fd=Un(qd),Hd=d({},nl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),wu=Un(Hd),xr=d({},At,{newState:0,oldState:0}),Kd=Un(xr),Gd=[9,13,27,32],ha=$i&&"CompositionEvent"in window,g=null;$i&&"documentMode"in document&&(g=document.documentMode);var S=$i&&"TextEvent"in window&&!g,R=$i&&(!ha||g&&8<g&&11>=g),B=" ",Q=!1;function ae(s,o){switch(s){case"keyup":return Gd.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var dt=!1;function Tn(s,o){switch(s){case"compositionend":return be(o);case"keypress":return o.which!==32?null:(Q=!0,B);case"textInput":return s=o.data,s===B&&Q?null:s;default:return null}}function mt(s,o){if(dt)return s==="compositionend"||!ha&&ae(s,o)?(s=hf(),za=$s=la=null,dt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return R&&o.locale!=="ko"?null:o.data;default:return null}}var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Vn[s.type]:o==="textarea"}function Fa(s,o,c,m){$a?Ba?Ba.push(m):Ba=[m]:$a=m,o=Dm(o,"onChange"),0<o.length&&(c=new mu("onChange","change",null,c,m),s.push({event:c,listeners:o}))}var Qn=null,da=null;function vf(s){zA(s,0)}function Wd(s){var o=Ct(s);if(lf(o))return s}function uS(s,o){if(s==="change")return o}var cS=!1;if($i){var Xy;if($i){var Qy="oninput"in document;if(!Qy){var fS=document.createElement("div");fS.setAttribute("oninput","return;"),Qy=typeof fS.oninput=="function"}Xy=Qy}else Xy=!1;cS=Xy&&(!document.documentMode||9<document.documentMode)}function hS(){Qn&&(Qn.detachEvent("onpropertychange",dS),da=Qn=null)}function dS(s){if(s.propertyName==="value"&&Wd(da)){var o=[];Fa(o,da,s,di(s)),Id(vf,o)}}function k6(s,o,c){s==="focusin"?(hS(),Qn=o,da=c,Qn.attachEvent("onpropertychange",dS)):s==="focusout"&&hS()}function M6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Wd(da)}function L6(s,o){if(s==="click")return Wd(o)}function U6(s,o){if(s==="input"||s==="change")return Wd(o)}function V6(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Br=typeof Object.is=="function"?Object.is:V6;function bf(s,o){if(Br(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!ge.call(o,v)||!Br(s[v],o[v]))return!1}return!0}function mS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function pS(s,o){var c=mS(s);s=0;for(var m;c;){if(c.nodeType===3){if(m=s+c.textContent.length,s<=o&&m>=o)return{node:c,offset:o-s};s=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=mS(c)}}function gS(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?gS(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function yS(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Yo(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Yo(s.document)}return o}function Jy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var $6=$i&&"documentMode"in document&&11>=document.documentMode,xu=null,Zy=null,_f=null,ev=!1;function vS(s,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ev||xu==null||xu!==Yo(m)||(m=xu,"selectionStart"in m&&Jy(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),_f&&bf(_f,m)||(_f=m,m=Dm(Zy,"onSelect"),0<m.length&&(o=new mu("onSelect","select",null,o,c),s.push({event:o,listeners:m}),o.target=xu)))}function sl(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Eu={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionrun:sl("Transition","TransitionRun"),transitionstart:sl("Transition","TransitionStart"),transitioncancel:sl("Transition","TransitionCancel"),transitionend:sl("Transition","TransitionEnd")},tv={},bS={};$i&&(bS=document.createElement("div").style,"AnimationEvent"in window||(delete Eu.animationend.animation,delete Eu.animationiteration.animation,delete Eu.animationstart.animation),"TransitionEvent"in window||delete Eu.transitionend.transition);function ol(s){if(tv[s])return tv[s];if(!Eu[s])return s;var o=Eu[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in bS)return tv[s]=o[c];return s}var _S=ol("animationend"),wS=ol("animationiteration"),xS=ol("animationstart"),B6=ol("transitionrun"),z6=ol("transitionstart"),q6=ol("transitioncancel"),ES=ol("transitionend"),SS=new Map,nv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nv.push("scrollEnd");function Bi(s,o){SS.set(s,o),Yn(o,[s])}var TS=new WeakMap;function gi(s,o){if(typeof s=="object"&&s!==null){var c=TS.get(s);return c!==void 0?c:(o={value:s,source:o,stack:Us(o)},TS.set(s,o),o)}return{value:s,source:o,stack:Us(o)}}var yi=[],Su=0,rv=0;function Yd(){for(var s=Su,o=rv=Su=0;o<s;){var c=yi[o];yi[o++]=null;var m=yi[o];yi[o++]=null;var v=yi[o];yi[o++]=null;var _=yi[o];if(yi[o++]=null,m!==null&&v!==null){var N=m.pending;N===null?v.next=v:(v.next=N.next,N.next=v),m.pending=v}_!==0&&AS(c,v,_)}}function Xd(s,o,c,m){yi[Su++]=s,yi[Su++]=o,yi[Su++]=c,yi[Su++]=m,rv|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function iv(s,o,c,m){return Xd(s,o,c,m),Qd(s)}function Tu(s,o){return Xd(s,null,null,o),Qd(s)}function AS(s,o,c){s.lanes|=c;var m=s.alternate;m!==null&&(m.lanes|=c);for(var v=!1,_=s.return;_!==null;)_.childLanes|=c,m=_.alternate,m!==null&&(m.childLanes|=c),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(v=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,v&&o!==null&&(v=31-mn(c),s=_.hiddenUpdates,m=s[v],m===null?s[v]=[o]:m.push(o),o.lane=c|536870912),_):null}function Qd(s){if(50<Hf)throw Hf=0,c0=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Au={};function F6(s,o,c,m){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(s,o,c,m){return new F6(s,o,c,m)}function av(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ha(s,o){var c=s.alternate;return c===null?(c=zr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function OS(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Jd(s,o,c,m,v,_){var N=0;if(m=s,typeof s=="function")av(s)&&(N=1);else if(typeof s=="string")N=KU(s,c,Ae.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=zr(31,c,o,v),s.elementType=M,s.lanes=_,s;case w:return ll(c.children,v,_,o);case x:N=8,v|=24;break;case E:return s=zr(12,c,o,v|2),s.elementType=E,s.lanes=_,s;case L:return s=zr(13,c,o,v),s.elementType=L,s.lanes=_,s;case D:return s=zr(19,c,o,v),s.elementType=D,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:case C:N=10;break e;case P:N=9;break e;case V:N=11;break e;case j:N=14;break e;case I:N=16,m=null;break e}N=29,c=Error(r(130,s===null?"null":typeof s,"")),m=null}return o=zr(N,c,o,v),o.elementType=s,o.type=m,o.lanes=_,o}function ll(s,o,c,m){return s=zr(7,s,m,o),s.lanes=c,s}function sv(s,o,c){return s=zr(6,s,null,o),s.lanes=c,s}function ov(s,o,c){return o=zr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Ou=[],Cu=0,Zd=null,em=0,vi=[],bi=0,ul=null,Ka=1,Ga="";function cl(s,o){Ou[Cu++]=em,Ou[Cu++]=Zd,Zd=s,em=o}function CS(s,o,c){vi[bi++]=Ka,vi[bi++]=Ga,vi[bi++]=ul,ul=s;var m=Ka;s=Ga;var v=32-mn(m)-1;m&=~(1<<v),c+=1;var _=32-mn(o)+v;if(30<_){var N=v-v%5;_=(m&(1<<N)-1).toString(32),m>>=N,v-=N,Ka=1<<32-mn(o)+v|c<<v|m,Ga=_+s}else Ka=1<<_|c<<v|m,Ga=s}function lv(s){s.return!==null&&(cl(s,1),CS(s,1,0))}function uv(s){for(;s===Zd;)Zd=Ou[--Cu],Ou[Cu]=null,em=Ou[--Cu],Ou[Cu]=null;for(;s===ul;)ul=vi[--bi],vi[bi]=null,Ga=vi[--bi],vi[bi]=null,Ka=vi[--bi],vi[bi]=null}var Er=null,rn=null,Et=!1,fl=null,ma=!1,cv=Error(r(519));function hl(s){var o=Error(r(418,""));throw Ef(gi(o,s)),cv}function RS(s){var o=s.stateNode,c=s.type,m=s.memoizedProps;switch(o[fe]=s,o[ye]=m,c){case"dialog":lt("cancel",o),lt("close",o);break;case"iframe":case"object":case"embed":lt("load",o);break;case"video":case"audio":for(c=0;c<Gf.length;c++)lt(Gf[c],o);break;case"source":lt("error",o);break;case"img":case"image":case"link":lt("error",o),lt("load",o);break;case"details":lt("toggle",o);break;case"input":lt("invalid",o),Xo(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),hu(o);break;case"select":lt("invalid",o);break;case"textarea":lt("invalid",o),Qo(o,m.value,m.defaultValue,m.children),hu(o)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||KA(o.textContent,c)?(m.popover!=null&&(lt("beforetoggle",o),lt("toggle",o)),m.onScroll!=null&&lt("scroll",o),m.onScrollEnd!=null&&lt("scrollend",o),m.onClick!=null&&(o.onclick=Im),o=!0):o=!1,o||hl(s)}function PS(s){for(Er=s.return;Er;)switch(Er.tag){case 5:case 13:ma=!1;return;case 27:case 3:ma=!0;return;default:Er=Er.return}}function wf(s){if(s!==Er)return!1;if(!Et)return PS(s),Et=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||A0(s.type,s.memoizedProps)),c=!c),c&&rn&&hl(s),PS(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){rn=qi(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}rn=null}}else o===27?(o=rn,no(s.type)?(s=P0,P0=null,rn=s):rn=o):rn=Er?qi(s.stateNode.nextSibling):null;return!0}function xf(){rn=Er=null,Et=!1}function NS(){var s=fl;return s!==null&&(Cr===null?Cr=s:Cr.push.apply(Cr,s),fl=null),s}function Ef(s){fl===null?fl=[s]:fl.push(s)}var fv=oe(null),dl=null,Wa=null;function Bs(s,o,c){me(fv,o._currentValue),o._currentValue=c}function Ya(s){s._currentValue=fv.current,ie(fv)}function hv(s,o,c){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===c)break;s=s.return}}function dv(s,o,c,m){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var _=v.dependencies;if(_!==null){var N=v.child;_=_.firstContext;e:for(;_!==null;){var k=_;_=v;for(var F=0;F<o.length;F++)if(k.context===o[F]){_.lanes|=c,k=_.alternate,k!==null&&(k.lanes|=c),hv(_.return,c,s),m||(N=null);break e}_=k.next}}else if(v.tag===18){if(N=v.return,N===null)throw Error(r(341));N.lanes|=c,_=N.alternate,_!==null&&(_.lanes|=c),hv(N,c,s),N=null}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===s){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}}function Sf(s,o,c,m){s=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var N=v.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var k=v.type;Br(v.pendingProps.value,N.value)||(s!==null?s.push(k):s=[k])}}else if(v===nn.current){if(N=v.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Zf):s=[Zf])}v=v.return}s!==null&&dv(o,s,c,m),o.flags|=262144}function tm(s){for(s=s.firstContext;s!==null;){if(!Br(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ml(s){dl=s,Wa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function lr(s){return jS(dl,s)}function nm(s,o){return dl===null&&ml(s),jS(s,o)}function jS(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Wa===null){if(s===null)throw Error(r(308));Wa=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Wa=Wa.next=o;return c}var H6=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,m){s.push(m)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},K6=t.unstable_scheduleCallback,G6=t.unstable_NormalPriority,On={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mv(){return{controller:new H6,data:new Map,refCount:0}}function Tf(s){s.refCount--,s.refCount===0&&K6(G6,function(){s.controller.abort()})}var Af=null,pv=0,Ru=0,Pu=null;function W6(s,o){if(Af===null){var c=Af=[];pv=0,Ru=y0(),Pu={status:"pending",value:void 0,then:function(m){c.push(m)}}}return pv++,o.then(DS,DS),o}function DS(){if(--pv===0&&Af!==null){Pu!==null&&(Pu.status="fulfilled");var s=Af;Af=null,Ru=0,Pu=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function Y6(s,o){var c=[],m={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return s.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),m}var IS=G.S;G.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&W6(s,o),IS!==null&&IS(s,o)};var pl=oe(null);function gv(){var s=pl.current;return s!==null?s:Bt.pooledCache}function rm(s,o){o===null?me(pl,pl.current):me(pl,o.pool)}function kS(){var s=gv();return s===null?null:{parent:On._currentValue,pool:s}}var Of=Error(r(460)),MS=Error(r(474)),im=Error(r(542)),yv={then:function(){}};function LS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function am(){}function US(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(am,am),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,$S(s),s;default:if(typeof o.status=="string")o.then(am,am);else{if(s=Bt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,$S(s),s}throw Cf=o,Of}}var Cf=null;function VS(){if(Cf===null)throw Error(r(459));var s=Cf;return Cf=null,s}function $S(s){if(s===Of||s===im)throw Error(r(483))}var zs=!1;function vv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function qs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fs(s,o,c){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Rt&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=Qd(s),AS(s,null,c),o}return Xd(s,m,o,c),Qd(s)}function Rf(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=s.pendingLanes,c|=m,o.lanes=c,aa(s,c)}}function _v(s,o){var c=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var N={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?v=_=N:_=_.next=N,c=c.next}while(c!==null);_===null?v=_=o:_=_.next=o}else v=_=o;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var wv=!1;function Pf(){if(wv){var s=Pu;if(s!==null)throw s}}function Nf(s,o,c,m){wv=!1;var v=s.updateQueue;zs=!1;var _=v.firstBaseUpdate,N=v.lastBaseUpdate,k=v.shared.pending;if(k!==null){v.shared.pending=null;var F=k,Z=F.next;F.next=null,N===null?_=Z:N.next=Z,N=F;var le=s.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==N&&(k===null?le.firstBaseUpdate=Z:k.next=Z,le.lastBaseUpdate=F))}if(_!==null){var ce=v.baseState;N=0,le=Z=F=null,k=_;do{var te=k.lane&-536870913,ne=te!==k.lane;if(ne?(pt&te)===te:(m&te)===te){te!==0&&te===Ru&&(wv=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var We=s,qe=k;te=o;var Mt=c;switch(qe.tag){case 1:if(We=qe.payload,typeof We=="function"){ce=We.call(Mt,ce,te);break e}ce=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=qe.payload,te=typeof We=="function"?We.call(Mt,ce,te):We,te==null)break e;ce=d({},ce,te);break e;case 2:zs=!0}}te=k.callback,te!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(Z=le=ne,F=ce):le=le.next=ne,N|=te;if(k=k.next,k===null){if(k=v.shared.pending,k===null)break;ne=k,k=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);le===null&&(F=ce),v.baseState=F,v.firstBaseUpdate=Z,v.lastBaseUpdate=le,_===null&&(v.shared.lanes=0),Js|=N,s.lanes=N,s.memoizedState=ce}}function BS(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function zS(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)BS(c[s],o)}var Nu=oe(null),sm=oe(0);function qS(s,o){s=ns,me(sm,s),me(Nu,o),ns=s|o.baseLanes}function xv(){me(sm,ns),me(Nu,Nu.current)}function Ev(){ns=sm.current,ie(Nu),ie(sm)}var Hs=0,rt=null,It=null,gn=null,om=!1,ju=!1,gl=!1,lm=0,jf=0,Du=null,X6=0;function un(){throw Error(r(321))}function Sv(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Br(s[c],o[c]))return!1;return!0}function Tv(s,o,c,m,v,_){return Hs=_,rt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=s===null||s.memoizedState===null?AT:OT,gl=!1,_=c(m,v),gl=!1,ju&&(_=HS(o,c,m,v)),FS(s),_}function FS(s){G.H=mm;var o=It!==null&&It.next!==null;if(Hs=0,gn=It=rt=null,om=!1,jf=0,Du=null,o)throw Error(r(300));s===null||$n||(s=s.dependencies,s!==null&&tm(s)&&($n=!0))}function HS(s,o,c,m){rt=s;var v=0;do{if(ju&&(Du=null),jf=0,ju=!1,25<=v)throw Error(r(301));if(v+=1,gn=It=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}G.H=rU,_=o(c,m)}while(ju);return _}function Q6(){var s=G.H,o=s.useState()[0];return o=typeof o.then=="function"?Df(o):o,s=s.useState()[0],(It!==null?It.memoizedState:null)!==s&&(rt.flags|=1024),o}function Av(){var s=lm!==0;return lm=0,s}function Ov(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function Cv(s){if(om){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}om=!1}Hs=0,gn=It=rt=null,ju=!1,jf=lm=0,Du=null}function Ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?rt.memoizedState=gn=s:gn=gn.next=s,gn}function yn(){if(It===null){var s=rt.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var o=gn===null?rt.memoizedState:gn.next;if(o!==null)gn=o,It=s;else{if(s===null)throw rt.alternate===null?Error(r(467)):Error(r(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},gn===null?rt.memoizedState=gn=s:gn=gn.next=s}return gn}function Rv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Df(s){var o=jf;return jf+=1,Du===null&&(Du=[]),s=US(Du,s,o),o=rt,(gn===null?o.memoizedState:gn.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?AT:OT),s}function um(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Df(s);if(s.$$typeof===C)return lr(s)}throw Error(r(438,String(s)))}function Pv(s){var o=null,c=rt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=rt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Rv(),rt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),m=0;m<s;m++)c[m]=U;return o.index++,c}function Xa(s,o){return typeof o=="function"?o(s):o}function cm(s){var o=yn();return Nv(o,It,s)}function Nv(s,o,c){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var v=s.baseQueue,_=m.pending;if(_!==null){if(v!==null){var N=v.next;v.next=_.next,_.next=N}o.baseQueue=v=_,m.pending=null}if(_=s.baseState,v===null)s.memoizedState=_;else{o=v.next;var k=N=null,F=null,Z=o,le=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(pt&ce)===ce:(Hs&ce)===ce){var te=Z.revertLane;if(te===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===Ru&&(le=!0);else if((Hs&te)===te){Z=Z.next,te===Ru&&(le=!0);continue}else ce={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(k=F=ce,N=_):F=F.next=ce,rt.lanes|=te,Js|=te;ce=Z.action,gl&&c(_,ce),_=Z.hasEagerState?Z.eagerState:c(_,ce)}else te={lane:ce,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(k=F=te,N=_):F=F.next=te,rt.lanes|=ce,Js|=ce;Z=Z.next}while(Z!==null&&Z!==o);if(F===null?N=_:F.next=k,!Br(_,s.memoizedState)&&($n=!0,le&&(c=Pu,c!==null)))throw c;s.memoizedState=_,s.baseState=N,s.baseQueue=F,m.lastRenderedState=_}return v===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function jv(s){var o=yn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var m=c.dispatch,v=c.pending,_=o.memoizedState;if(v!==null){c.pending=null;var N=v=v.next;do _=s(_,N.action),N=N.next;while(N!==v);Br(_,o.memoizedState)||($n=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,m]}function KS(s,o,c){var m=rt,v=yn(),_=Et;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=o();var N=!Br((It||v).memoizedState,c);N&&(v.memoizedState=c,$n=!0),v=v.queue;var k=YS.bind(null,m,v,s);if(If(2048,8,k,[s]),v.getSnapshot!==o||N||gn!==null&&gn.memoizedState.tag&1){if(m.flags|=2048,Iu(9,fm(),WS.bind(null,m,v,c,o),null),Bt===null)throw Error(r(349));_||(Hs&124)!==0||GS(m,o,c)}return c}function GS(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=rt.updateQueue,o===null?(o=Rv(),rt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function WS(s,o,c,m){o.value=c,o.getSnapshot=m,XS(o)&&QS(s)}function YS(s,o,c){return c(function(){XS(o)&&QS(s)})}function XS(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Br(s,c)}catch{return!0}}function QS(s){var o=Tu(s,2);o!==null&&Gr(o,s,2)}function Dv(s){var o=Ar();if(typeof s=="function"){var c=s;if(s=c(),gl){or(!0);try{c()}finally{or(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:s},o}function JS(s,o,c,m){return s.baseState=c,Nv(s,It,typeof m=="function"?m:Xa)}function J6(s,o,c,m,v){if(dm(s))throw Error(r(485));if(s=o.action,s!==null){var _={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){_.listeners.push(N)}};G.T!==null?c(!0):_.isTransition=!1,m(_),c=o.pending,c===null?(_.next=o.pending=_,ZS(o,_)):(_.next=c.next,o.pending=c.next=_)}}function ZS(s,o){var c=o.action,m=o.payload,v=s.state;if(o.isTransition){var _=G.T,N={};G.T=N;try{var k=c(v,m),F=G.S;F!==null&&F(N,k),eT(s,o,k)}catch(Z){Iv(s,o,Z)}finally{G.T=_}}else try{_=c(v,m),eT(s,o,_)}catch(Z){Iv(s,o,Z)}}function eT(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){tT(s,o,m)},function(m){return Iv(s,o,m)}):tT(s,o,c)}function tT(s,o,c){o.status="fulfilled",o.value=c,nT(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,ZS(s,c)))}function Iv(s,o,c){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,nT(o),o=o.next;while(o!==m)}s.action=null}function nT(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function rT(s,o){return o}function iT(s,o){if(Et){var c=Bt.formState;if(c!==null){e:{var m=rt;if(Et){if(rn){t:{for(var v=rn,_=ma;v.nodeType!==8;){if(!_){v=null;break t}if(v=qi(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){rn=qi(v.nextSibling),m=v.data==="F!";break e}}hl(m)}m=!1}m&&(o=c[0])}}return c=Ar(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rT,lastRenderedState:o},c.queue=m,c=ET.bind(null,rt,m),m.dispatch=c,m=Dv(!1),_=Vv.bind(null,rt,!1,m.queue),m=Ar(),v={state:o,dispatch:null,action:s,pending:null},m.queue=v,c=J6.bind(null,rt,v,_,c),v.dispatch=c,m.memoizedState=s,[o,c,!1]}function aT(s){var o=yn();return sT(o,It,s)}function sT(s,o,c){if(o=Nv(s,o,rT)[0],s=cm(Xa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Df(o)}catch(N){throw N===Of?im:N}else m=o;o=yn();var v=o.queue,_=v.dispatch;return c!==o.memoizedState&&(rt.flags|=2048,Iu(9,fm(),Z6.bind(null,v,c),null)),[m,_,s]}function Z6(s,o){s.action=o}function oT(s){var o=yn(),c=It;if(c!==null)return sT(o,c,s);yn(),o=o.memoizedState,c=yn();var m=c.queue.dispatch;return c.memoizedState=s,[o,m,!1]}function Iu(s,o,c,m){return s={tag:s,create:c,deps:m,inst:o,next:null},o=rt.updateQueue,o===null&&(o=Rv(),rt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(m=c.next,c.next=s,s.next=m,o.lastEffect=s),s}function fm(){return{destroy:void 0,resource:void 0}}function lT(){return yn().memoizedState}function hm(s,o,c,m){var v=Ar();m=m===void 0?null:m,rt.flags|=s,v.memoizedState=Iu(1|o,fm(),c,m)}function If(s,o,c,m){var v=yn();m=m===void 0?null:m;var _=v.memoizedState.inst;It!==null&&m!==null&&Sv(m,It.memoizedState.deps)?v.memoizedState=Iu(o,_,c,m):(rt.flags|=s,v.memoizedState=Iu(1|o,_,c,m))}function uT(s,o){hm(8390656,8,s,o)}function cT(s,o){If(2048,8,s,o)}function fT(s,o){return If(4,2,s,o)}function hT(s,o){return If(4,4,s,o)}function dT(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function mT(s,o,c){c=c!=null?c.concat([s]):null,If(4,4,dT.bind(null,o,s),c)}function kv(){}function pT(s,o){var c=yn();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&Sv(o,m[1])?m[0]:(c.memoizedState=[s,o],s)}function gT(s,o){var c=yn();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&Sv(o,m[1]))return m[0];if(m=s(),gl){or(!0);try{s()}finally{or(!1)}}return c.memoizedState=[m,o],m}function Mv(s,o,c){return c===void 0||(Hs&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=bA(),rt.lanes|=s,Js|=s,c)}function yT(s,o,c,m){return Br(c,o)?c:Nu.current!==null?(s=Mv(s,c,m),Br(s,o)||($n=!0),s):(Hs&42)===0?($n=!0,s.memoizedState=c):(s=bA(),rt.lanes|=s,Js|=s,o)}function vT(s,o,c,m,v){var _=re.p;re.p=_!==0&&8>_?_:8;var N=G.T,k={};G.T=k,Vv(s,!1,o,c);try{var F=v(),Z=G.S;if(Z!==null&&Z(k,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var le=Y6(F,m);kf(s,o,le,Kr(s))}else kf(s,o,m,Kr(s))}catch(ce){kf(s,o,{then:function(){},status:"rejected",reason:ce},Kr())}finally{re.p=_,G.T=N}}function eU(){}function Lv(s,o,c,m){if(s.tag!==5)throw Error(r(476));var v=bT(s).queue;vT(s,v,o,pe,c===null?eU:function(){return _T(s),c(m)})}function bT(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:pe},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function _T(s){var o=bT(s).next.queue;kf(s,o,{},Kr())}function Uv(){return lr(Zf)}function wT(){return yn().memoizedState}function xT(){return yn().memoizedState}function tU(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=Kr();s=qs(c);var m=Fs(o,s,c);m!==null&&(Gr(m,o,c),Rf(m,o,c)),o={cache:mv()},s.payload=o;return}o=o.return}}function nU(s,o,c){var m=Kr();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},dm(s)?ST(o,c):(c=iv(s,o,c,m),c!==null&&(Gr(c,s,m),TT(c,o,m)))}function ET(s,o,c){var m=Kr();kf(s,o,c,m)}function kf(s,o,c,m){var v={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(dm(s))ST(o,v);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var N=o.lastRenderedState,k=_(N,c);if(v.hasEagerState=!0,v.eagerState=k,Br(k,N))return Xd(s,o,v,0),Bt===null&&Yd(),!1}catch{}finally{}if(c=iv(s,o,v,m),c!==null)return Gr(c,s,m),TT(c,o,m),!0}return!1}function Vv(s,o,c,m){if(m={lane:2,revertLane:y0(),action:m,hasEagerState:!1,eagerState:null,next:null},dm(s)){if(o)throw Error(r(479))}else o=iv(s,c,m,2),o!==null&&Gr(o,s,2)}function dm(s){var o=s.alternate;return s===rt||o!==null&&o===rt}function ST(s,o){ju=om=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function TT(s,o,c){if((c&4194048)!==0){var m=o.lanes;m&=s.pendingLanes,c|=m,o.lanes=c,aa(s,c)}}var mm={readContext:lr,use:um,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un},AT={readContext:lr,use:um,useCallback:function(s,o){return Ar().memoizedState=[s,o===void 0?null:o],s},useContext:lr,useEffect:uT,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,hm(4194308,4,dT.bind(null,o,s),c)},useLayoutEffect:function(s,o){return hm(4194308,4,s,o)},useInsertionEffect:function(s,o){hm(4,2,s,o)},useMemo:function(s,o){var c=Ar();o=o===void 0?null:o;var m=s();if(gl){or(!0);try{s()}finally{or(!1)}}return c.memoizedState=[m,o],m},useReducer:function(s,o,c){var m=Ar();if(c!==void 0){var v=c(o);if(gl){or(!0);try{c(o)}finally{or(!1)}}}else v=o;return m.memoizedState=m.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},m.queue=s,s=s.dispatch=nU.bind(null,rt,s),[m.memoizedState,s]},useRef:function(s){var o=Ar();return s={current:s},o.memoizedState=s},useState:function(s){s=Dv(s);var o=s.queue,c=ET.bind(null,rt,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:kv,useDeferredValue:function(s,o){var c=Ar();return Mv(c,s,o)},useTransition:function(){var s=Dv(!1);return s=vT.bind(null,rt,s.queue,!0,!1),Ar().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var m=rt,v=Ar();if(Et){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Bt===null)throw Error(r(349));(pt&124)!==0||GS(m,o,c)}v.memoizedState=c;var _={value:c,getSnapshot:o};return v.queue=_,uT(YS.bind(null,m,_,s),[s]),m.flags|=2048,Iu(9,fm(),WS.bind(null,m,_,c,o),null),c},useId:function(){var s=Ar(),o=Bt.identifierPrefix;if(Et){var c=Ga,m=Ka;c=(m&~(1<<32-mn(m)-1)).toString(32)+c,o="«"+o+"R"+c,c=lm++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=X6++,o="«"+o+"r"+c.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:Uv,useFormState:iT,useActionState:iT,useOptimistic:function(s){var o=Ar();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Vv.bind(null,rt,!0,c),c.dispatch=o,[s,o]},useMemoCache:Pv,useCacheRefresh:function(){return Ar().memoizedState=tU.bind(null,rt)}},OT={readContext:lr,use:um,useCallback:pT,useContext:lr,useEffect:cT,useImperativeHandle:mT,useInsertionEffect:fT,useLayoutEffect:hT,useMemo:gT,useReducer:cm,useRef:lT,useState:function(){return cm(Xa)},useDebugValue:kv,useDeferredValue:function(s,o){var c=yn();return yT(c,It.memoizedState,s,o)},useTransition:function(){var s=cm(Xa)[0],o=yn().memoizedState;return[typeof s=="boolean"?s:Df(s),o]},useSyncExternalStore:KS,useId:wT,useHostTransitionStatus:Uv,useFormState:aT,useActionState:aT,useOptimistic:function(s,o){var c=yn();return JS(c,It,s,o)},useMemoCache:Pv,useCacheRefresh:xT},rU={readContext:lr,use:um,useCallback:pT,useContext:lr,useEffect:cT,useImperativeHandle:mT,useInsertionEffect:fT,useLayoutEffect:hT,useMemo:gT,useReducer:jv,useRef:lT,useState:function(){return jv(Xa)},useDebugValue:kv,useDeferredValue:function(s,o){var c=yn();return It===null?Mv(c,s,o):yT(c,It.memoizedState,s,o)},useTransition:function(){var s=jv(Xa)[0],o=yn().memoizedState;return[typeof s=="boolean"?s:Df(s),o]},useSyncExternalStore:KS,useId:wT,useHostTransitionStatus:Uv,useFormState:oT,useActionState:oT,useOptimistic:function(s,o){var c=yn();return It!==null?JS(c,It,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Pv,useCacheRefresh:xT},ku=null,Mf=0;function pm(s){var o=Mf;return Mf+=1,ku===null&&(ku=[]),US(ku,s,o)}function Lf(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function gm(s,o){throw o.$$typeof===p?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function CT(s){var o=s._init;return o(s._payload)}function RT(s){function o(Y,W){if(s){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function c(Y,W){if(!s)return null;for(;W!==null;)o(Y,W),W=W.sibling;return null}function m(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function v(Y,W){return Y=Ha(Y,W),Y.index=0,Y.sibling=null,Y}function _(Y,W,J){return Y.index=J,s?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=67108866,W):J):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function N(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function k(Y,W,J,ue){return W===null||W.tag!==6?(W=sv(J,Y.mode,ue),W.return=Y,W):(W=v(W,J),W.return=Y,W)}function F(Y,W,J,ue){var Ce=J.type;return Ce===w?le(Y,W,J.props.children,ue,J.key):W!==null&&(W.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&CT(Ce)===W.type)?(W=v(W,J.props),Lf(W,J),W.return=Y,W):(W=Jd(J.type,J.key,J.props,null,Y.mode,ue),Lf(W,J),W.return=Y,W)}function Z(Y,W,J,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=ov(J,Y.mode,ue),W.return=Y,W):(W=v(W,J.children||[]),W.return=Y,W)}function le(Y,W,J,ue,Ce){return W===null||W.tag!==7?(W=ll(J,Y.mode,ue,Ce),W.return=Y,W):(W=v(W,J),W.return=Y,W)}function ce(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=sv(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return J=Jd(W.type,W.key,W.props,null,Y.mode,J),Lf(J,W),J.return=Y,J;case b:return W=ov(W,Y.mode,J),W.return=Y,W;case I:var ue=W._init;return W=ue(W._payload),ce(Y,W,J)}if(we(W)||q(W))return W=ll(W,Y.mode,J,null),W.return=Y,W;if(typeof W.then=="function")return ce(Y,pm(W),J);if(W.$$typeof===C)return ce(Y,nm(Y,W),J);gm(Y,W)}return null}function te(Y,W,J,ue){var Ce=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ce!==null?null:k(Y,W,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case y:return J.key===Ce?F(Y,W,J,ue):null;case b:return J.key===Ce?Z(Y,W,J,ue):null;case I:return Ce=J._init,J=Ce(J._payload),te(Y,W,J,ue)}if(we(J)||q(J))return Ce!==null?null:le(Y,W,J,ue,null);if(typeof J.then=="function")return te(Y,W,pm(J),ue);if(J.$$typeof===C)return te(Y,W,nm(Y,J),ue);gm(Y,J)}return null}function ne(Y,W,J,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Y=Y.get(J)||null,k(W,Y,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case y:return Y=Y.get(ue.key===null?J:ue.key)||null,F(W,Y,ue,Ce);case b:return Y=Y.get(ue.key===null?J:ue.key)||null,Z(W,Y,ue,Ce);case I:var at=ue._init;return ue=at(ue._payload),ne(Y,W,J,ue,Ce)}if(we(ue)||q(ue))return Y=Y.get(J)||null,le(W,Y,ue,Ce,null);if(typeof ue.then=="function")return ne(Y,W,J,pm(ue),Ce);if(ue.$$typeof===C)return ne(Y,W,J,nm(W,ue),Ce);gm(W,ue)}return null}function We(Y,W,J,ue){for(var Ce=null,at=null,Me=W,He=W=0,zn=null;Me!==null&&He<J.length;He++){Me.index>He?(zn=Me,Me=null):zn=Me.sibling;var vt=te(Y,Me,J[He],ue);if(vt===null){Me===null&&(Me=zn);break}s&&Me&&vt.alternate===null&&o(Y,Me),W=_(vt,W,He),at===null?Ce=vt:at.sibling=vt,at=vt,Me=zn}if(He===J.length)return c(Y,Me),Et&&cl(Y,He),Ce;if(Me===null){for(;He<J.length;He++)Me=ce(Y,J[He],ue),Me!==null&&(W=_(Me,W,He),at===null?Ce=Me:at.sibling=Me,at=Me);return Et&&cl(Y,He),Ce}for(Me=m(Me);He<J.length;He++)zn=ne(Me,Y,He,J[He],ue),zn!==null&&(s&&zn.alternate!==null&&Me.delete(zn.key===null?He:zn.key),W=_(zn,W,He),at===null?Ce=zn:at.sibling=zn,at=zn);return s&&Me.forEach(function(oo){return o(Y,oo)}),Et&&cl(Y,He),Ce}function qe(Y,W,J,ue){if(J==null)throw Error(r(151));for(var Ce=null,at=null,Me=W,He=W=0,zn=null,vt=J.next();Me!==null&&!vt.done;He++,vt=J.next()){Me.index>He?(zn=Me,Me=null):zn=Me.sibling;var oo=te(Y,Me,vt.value,ue);if(oo===null){Me===null&&(Me=zn);break}s&&Me&&oo.alternate===null&&o(Y,Me),W=_(oo,W,He),at===null?Ce=oo:at.sibling=oo,at=oo,Me=zn}if(vt.done)return c(Y,Me),Et&&cl(Y,He),Ce;if(Me===null){for(;!vt.done;He++,vt=J.next())vt=ce(Y,vt.value,ue),vt!==null&&(W=_(vt,W,He),at===null?Ce=vt:at.sibling=vt,at=vt);return Et&&cl(Y,He),Ce}for(Me=m(Me);!vt.done;He++,vt=J.next())vt=ne(Me,Y,He,vt.value,ue),vt!==null&&(s&&vt.alternate!==null&&Me.delete(vt.key===null?He:vt.key),W=_(vt,W,He),at===null?Ce=vt:at.sibling=vt,at=vt);return s&&Me.forEach(function(iV){return o(Y,iV)}),Et&&cl(Y,He),Ce}function Mt(Y,W,J,ue){if(typeof J=="object"&&J!==null&&J.type===w&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case y:e:{for(var Ce=J.key;W!==null;){if(W.key===Ce){if(Ce=J.type,Ce===w){if(W.tag===7){c(Y,W.sibling),ue=v(W,J.props.children),ue.return=Y,Y=ue;break e}}else if(W.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&CT(Ce)===W.type){c(Y,W.sibling),ue=v(W,J.props),Lf(ue,J),ue.return=Y,Y=ue;break e}c(Y,W);break}else o(Y,W);W=W.sibling}J.type===w?(ue=ll(J.props.children,Y.mode,ue,J.key),ue.return=Y,Y=ue):(ue=Jd(J.type,J.key,J.props,null,Y.mode,ue),Lf(ue,J),ue.return=Y,Y=ue)}return N(Y);case b:e:{for(Ce=J.key;W!==null;){if(W.key===Ce)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){c(Y,W.sibling),ue=v(W,J.children||[]),ue.return=Y,Y=ue;break e}else{c(Y,W);break}else o(Y,W);W=W.sibling}ue=ov(J,Y.mode,ue),ue.return=Y,Y=ue}return N(Y);case I:return Ce=J._init,J=Ce(J._payload),Mt(Y,W,J,ue)}if(we(J))return We(Y,W,J,ue);if(q(J)){if(Ce=q(J),typeof Ce!="function")throw Error(r(150));return J=Ce.call(J),qe(Y,W,J,ue)}if(typeof J.then=="function")return Mt(Y,W,pm(J),ue);if(J.$$typeof===C)return Mt(Y,W,nm(Y,J),ue);gm(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,W!==null&&W.tag===6?(c(Y,W.sibling),ue=v(W,J),ue.return=Y,Y=ue):(c(Y,W),ue=sv(J,Y.mode,ue),ue.return=Y,Y=ue),N(Y)):c(Y,W)}return function(Y,W,J,ue){try{Mf=0;var Ce=Mt(Y,W,J,ue);return ku=null,Ce}catch(Me){if(Me===Of||Me===im)throw Me;var at=zr(29,Me,null,Y.mode);return at.lanes=ue,at.return=Y,at}finally{}}}var Mu=RT(!0),PT=RT(!1),_i=oe(null),pa=null;function Ks(s){var o=s.alternate;me(Cn,Cn.current&1),me(_i,s),pa===null&&(o===null||Nu.current!==null||o.memoizedState!==null)&&(pa=s)}function NT(s){if(s.tag===22){if(me(Cn,Cn.current),me(_i,s),pa===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(pa=s)}}else Gs()}function Gs(){me(Cn,Cn.current),me(_i,_i.current)}function Qa(s){ie(_i),pa===s&&(pa=null),ie(Cn)}var Cn=oe(0);function ym(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||R0(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function $v(s,o,c,m){o=s.memoizedState,c=c(m,o),c=c==null?o:d({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Bv={enqueueSetState:function(s,o,c){s=s._reactInternals;var m=Kr(),v=qs(m);v.payload=o,c!=null&&(v.callback=c),o=Fs(s,v,m),o!==null&&(Gr(o,s,m),Rf(o,s,m))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var m=Kr(),v=qs(m);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=Fs(s,v,m),o!==null&&(Gr(o,s,m),Rf(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Kr(),m=qs(c);m.tag=2,o!=null&&(m.callback=o),o=Fs(s,m,c),o!==null&&(Gr(o,s,c),Rf(o,s,c))}};function jT(s,o,c,m,v,_,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,_,N):o.prototype&&o.prototype.isPureReactComponent?!bf(c,m)||!bf(v,_):!0}function DT(s,o,c,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==s&&Bv.enqueueReplaceState(o,o.state,null)}function yl(s,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(s=s.defaultProps){c===o&&(c=d({},c));for(var v in s)c[v]===void 0&&(c[v]=s[v])}return c}var vm=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function IT(s){vm(s)}function kT(s){console.error(s)}function MT(s){vm(s)}function bm(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function LT(s,o,c){try{var m=s.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function zv(s,o,c){return c=qs(c),c.tag=3,c.payload={element:null},c.callback=function(){bm(s,o)},c}function UT(s){return s=qs(s),s.tag=3,s}function VT(s,o,c,m){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var _=m.value;s.payload=function(){return v(_)},s.callback=function(){LT(o,c,m)}}var N=c.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(s.callback=function(){LT(o,c,m),typeof v!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function iU(s,o,c,m,v){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&Sf(o,c,v,!0),c=_i.current,c!==null){switch(c.tag){case 13:return pa===null?h0():c.alternate===null&&an===0&&(an=3),c.flags&=-257,c.flags|=65536,c.lanes=v,m===yv?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),m0(s,m,v)),!1;case 22:return c.flags|=65536,m===yv?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),m0(s,m,v)),!1}throw Error(r(435,c.tag))}return m0(s,m,v),h0(),!1}if(Et)return o=_i.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==cv&&(s=Error(r(422),{cause:m}),Ef(gi(s,c)))):(m!==cv&&(o=Error(r(423),{cause:m}),Ef(gi(o,c))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,m=gi(m,c),v=zv(s.stateNode,m,v),_v(s,v),an!==4&&(an=2)),!1;var _=Error(r(520),{cause:m});if(_=gi(_,c),Ff===null?Ff=[_]:Ff.push(_),an!==4&&(an=2),o===null)return!0;m=gi(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=v&-v,c.lanes|=s,s=zv(c.stateNode,m,s),_v(c,s),!1;case 1:if(o=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Zs===null||!Zs.has(_))))return c.flags|=65536,v&=-v,c.lanes|=v,v=UT(v),VT(v,s,c,m),_v(c,v),!1}c=c.return}while(c!==null);return!1}var $T=Error(r(461)),$n=!1;function Jn(s,o,c,m){o.child=s===null?PT(o,null,c,m):Mu(o,s.child,c,m)}function BT(s,o,c,m,v){c=c.render;var _=o.ref;if("ref"in m){var N={};for(var k in m)k!=="ref"&&(N[k]=m[k])}else N=m;return ml(o),m=Tv(s,o,c,N,_,v),k=Av(),s!==null&&!$n?(Ov(s,o,v),Ja(s,o,v)):(Et&&k&&lv(o),o.flags|=1,Jn(s,o,m,v),o.child)}function zT(s,o,c,m,v){if(s===null){var _=c.type;return typeof _=="function"&&!av(_)&&_.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=_,qT(s,o,_,m,v)):(s=Jd(c.type,null,m,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,!Xv(s,v)){var N=_.memoizedProps;if(c=c.compare,c=c!==null?c:bf,c(N,m)&&s.ref===o.ref)return Ja(s,o,v)}return o.flags|=1,s=Ha(_,m),s.ref=o.ref,s.return=o,o.child=s}function qT(s,o,c,m,v){if(s!==null){var _=s.memoizedProps;if(bf(_,m)&&s.ref===o.ref)if($n=!1,o.pendingProps=m=_,Xv(s,v))(s.flags&131072)!==0&&($n=!0);else return o.lanes=s.lanes,Ja(s,o,v)}return qv(s,o,c,m,v)}function FT(s,o,c){var m=o.pendingProps,v=m.children,_=s!==null?s.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=_!==null?_.baseLanes|c:c,s!==null){for(v=o.child=s.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;o.childLanes=_&~m}else o.childLanes=0,o.child=null;return HT(s,o,m,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&rm(o,_!==null?_.cachePool:null),_!==null?qS(o,_):xv(),NT(o);else return o.lanes=o.childLanes=536870912,HT(s,o,_!==null?_.baseLanes|c:c,c)}else _!==null?(rm(o,_.cachePool),qS(o,_),Gs(),o.memoizedState=null):(s!==null&&rm(o,null),xv(),Gs());return Jn(s,o,v,c),o.child}function HT(s,o,c,m){var v=gv();return v=v===null?null:{parent:On._currentValue,pool:v},o.memoizedState={baseLanes:c,cachePool:v},s!==null&&rm(o,null),xv(),NT(o),s!==null&&Sf(s,o,m,!0),null}function _m(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function qv(s,o,c,m,v){return ml(o),c=Tv(s,o,c,m,void 0,v),m=Av(),s!==null&&!$n?(Ov(s,o,v),Ja(s,o,v)):(Et&&m&&lv(o),o.flags|=1,Jn(s,o,c,v),o.child)}function KT(s,o,c,m,v,_){return ml(o),o.updateQueue=null,c=HS(o,m,c,v),FS(s),m=Av(),s!==null&&!$n?(Ov(s,o,_),Ja(s,o,_)):(Et&&m&&lv(o),o.flags|=1,Jn(s,o,c,_),o.child)}function GT(s,o,c,m,v){if(ml(o),o.stateNode===null){var _=Au,N=c.contextType;typeof N=="object"&&N!==null&&(_=lr(N)),_=new c(m,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Bv,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=m,_.state=o.memoizedState,_.refs={},vv(o),N=c.contextType,_.context=typeof N=="object"&&N!==null?lr(N):Au,_.state=o.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&($v(o,c,N,m),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(N=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),N!==_.state&&Bv.enqueueReplaceState(_,_.state,null),Nf(o,m,_,v),Pf(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(s===null){_=o.stateNode;var k=o.memoizedProps,F=yl(c,k);_.props=F;var Z=_.context,le=c.contextType;N=Au,typeof le=="object"&&le!==null&&(N=lr(le));var ce=c.getDerivedStateFromProps;le=typeof ce=="function"||typeof _.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k||Z!==N)&&DT(o,_,m,N),zs=!1;var te=o.memoizedState;_.state=te,Nf(o,m,_,v),Pf(),Z=o.memoizedState,k||te!==Z||zs?(typeof ce=="function"&&($v(o,c,ce,m),Z=o.memoizedState),(F=zs||jT(o,c,F,m,te,Z,N))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=Z),_.props=m,_.state=Z,_.context=N,m=F):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{_=o.stateNode,bv(s,o),N=o.memoizedProps,le=yl(c,N),_.props=le,ce=o.pendingProps,te=_.context,Z=c.contextType,F=Au,typeof Z=="object"&&Z!==null&&(F=lr(Z)),k=c.getDerivedStateFromProps,(Z=typeof k=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==ce||te!==F)&&DT(o,_,m,F),zs=!1,te=o.memoizedState,_.state=te,Nf(o,m,_,v),Pf();var ne=o.memoizedState;N!==ce||te!==ne||zs||s!==null&&s.dependencies!==null&&tm(s.dependencies)?(typeof k=="function"&&($v(o,c,k,m),ne=o.memoizedState),(le=zs||jT(o,c,le,m,te,ne,F)||s!==null&&s.dependencies!==null&&tm(s.dependencies))?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,ne,F),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,ne,F)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ne),_.props=m,_.state=ne,_.context=F,m=le):(typeof _.componentDidUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),m=!1)}return _=m,_m(s,o),m=(o.flags&128)!==0,_||m?(_=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,s!==null&&m?(o.child=Mu(o,s.child,null,v),o.child=Mu(o,null,c,v)):Jn(s,o,c,v),o.memoizedState=_.state,s=o.child):s=Ja(s,o,v),s}function WT(s,o,c,m){return xf(),o.flags|=256,Jn(s,o,c,m),o.child}var Fv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hv(s){return{baseLanes:s,cachePool:kS()}}function Kv(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=wi),s}function YT(s,o,c){var m=o.pendingProps,v=!1,_=(o.flags&128)!==0,N;if((N=_)||(N=s!==null&&s.memoizedState===null?!1:(Cn.current&2)!==0),N&&(v=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,s===null){if(Et){if(v?Ks(o):Gs(),Et){var k=rn,F;if(F=k){e:{for(F=k,k=ma;F.nodeType!==8;){if(!k){k=null;break e}if(F=qi(F.nextSibling),F===null){k=null;break e}}k=F}k!==null?(o.memoizedState={dehydrated:k,treeContext:ul!==null?{id:Ka,overflow:Ga}:null,retryLane:536870912,hydrationErrors:null},F=zr(18,null,null,0),F.stateNode=k,F.return=o,o.child=F,Er=o,rn=null,F=!0):F=!1}F||hl(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return R0(k)?o.lanes=32:o.lanes=536870912,null;Qa(o)}return k=m.children,m=m.fallback,v?(Gs(),v=o.mode,k=wm({mode:"hidden",children:k},v),m=ll(m,v,c,null),k.return=o,m.return=o,k.sibling=m,o.child=k,v=o.child,v.memoizedState=Hv(c),v.childLanes=Kv(s,N,c),o.memoizedState=Fv,m):(Ks(o),Gv(o,k))}if(F=s.memoizedState,F!==null&&(k=F.dehydrated,k!==null)){if(_)o.flags&256?(Ks(o),o.flags&=-257,o=Wv(s,o,c)):o.memoizedState!==null?(Gs(),o.child=s.child,o.flags|=128,o=null):(Gs(),v=m.fallback,k=o.mode,m=wm({mode:"visible",children:m.children},k),v=ll(v,k,c,null),v.flags|=2,m.return=o,v.return=o,m.sibling=v,o.child=m,Mu(o,s.child,null,c),m=o.child,m.memoizedState=Hv(c),m.childLanes=Kv(s,N,c),o.memoizedState=Fv,o=v);else if(Ks(o),R0(k)){if(N=k.nextSibling&&k.nextSibling.dataset,N)var Z=N.dgst;N=Z,m=Error(r(419)),m.stack="",m.digest=N,Ef({value:m,source:null,stack:null}),o=Wv(s,o,c)}else if($n||Sf(s,o,c,!1),N=(c&s.childLanes)!==0,$n||N){if(N=Bt,N!==null&&(m=c&-c,m=(m&42)!==0?1:sa(m),m=(m&(N.suspendedLanes|c))!==0?0:m,m!==0&&m!==F.retryLane))throw F.retryLane=m,Tu(s,m),Gr(N,s,m),$T;k.data==="$?"||h0(),o=Wv(s,o,c)}else k.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=F.treeContext,rn=qi(k.nextSibling),Er=o,Et=!0,fl=null,ma=!1,s!==null&&(vi[bi++]=Ka,vi[bi++]=Ga,vi[bi++]=ul,Ka=s.id,Ga=s.overflow,ul=o),o=Gv(o,m.children),o.flags|=4096);return o}return v?(Gs(),v=m.fallback,k=o.mode,F=s.child,Z=F.sibling,m=Ha(F,{mode:"hidden",children:m.children}),m.subtreeFlags=F.subtreeFlags&65011712,Z!==null?v=Ha(Z,v):(v=ll(v,k,c,null),v.flags|=2),v.return=o,m.return=o,m.sibling=v,o.child=m,m=v,v=o.child,k=s.child.memoizedState,k===null?k=Hv(c):(F=k.cachePool,F!==null?(Z=On._currentValue,F=F.parent!==Z?{parent:Z,pool:Z}:F):F=kS(),k={baseLanes:k.baseLanes|c,cachePool:F}),v.memoizedState=k,v.childLanes=Kv(s,N,c),o.memoizedState=Fv,m):(Ks(o),c=s.child,s=c.sibling,c=Ha(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,s!==null&&(N=o.deletions,N===null?(o.deletions=[s],o.flags|=16):N.push(s)),o.child=c,o.memoizedState=null,c)}function Gv(s,o){return o=wm({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function wm(s,o){return s=zr(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Wv(s,o,c){return Mu(o,s.child,null,c),s=Gv(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function XT(s,o,c){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),hv(s.return,o,c)}function Yv(s,o,c,m,v){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=c,_.tailMode=v)}function QT(s,o,c){var m=o.pendingProps,v=m.revealOrder,_=m.tail;if(Jn(s,o,m.children,c),m=Cn.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&XT(s,c,o);else if(s.tag===19)XT(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}switch(me(Cn,m),v){case"forwards":for(c=o.child,v=null;c!==null;)s=c.alternate,s!==null&&ym(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),Yv(o,!1,v,c,_);break;case"backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&ym(s)===null){o.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}Yv(o,!0,c,null,_);break;case"together":Yv(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ja(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Js|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(Sf(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,c=Ha(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Ha(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function Xv(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&tm(s)))}function aU(s,o,c){switch(o.tag){case 3:Tt(o,o.stateNode.containerInfo),Bs(o,On,s.memoizedState.cache),xf();break;case 27:case 5:De(o);break;case 4:Tt(o,o.stateNode.containerInfo);break;case 10:Bs(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Ks(o),o.flags|=128,null):(c&o.child.childLanes)!==0?YT(s,o,c):(Ks(o),s=Ja(s,o,c),s!==null?s.sibling:null);Ks(o);break;case 19:var v=(s.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(Sf(s,o,c,!1),m=(c&o.childLanes)!==0),v){if(m)return QT(s,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),me(Cn,Cn.current),m)break;return null;case 22:case 23:return o.lanes=0,FT(s,o,c);case 24:Bs(o,On,s.memoizedState.cache)}return Ja(s,o,c)}function JT(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)$n=!0;else{if(!Xv(s,c)&&(o.flags&128)===0)return $n=!1,aU(s,o,c);$n=(s.flags&131072)!==0}else $n=!1,Et&&(o.flags&1048576)!==0&&CS(o,em,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var m=o.elementType,v=m._init;if(m=v(m._payload),o.type=m,typeof m=="function")av(m)?(s=yl(m,s),o.tag=1,o=GT(null,o,m,s,c)):(o.tag=0,o=qv(null,o,m,s,c));else{if(m!=null){if(v=m.$$typeof,v===V){o.tag=11,o=BT(null,o,m,s,c);break e}else if(v===j){o.tag=14,o=zT(null,o,m,s,c);break e}}throw o=ve(m)||m,Error(r(306,o,""))}}return o;case 0:return qv(s,o,o.type,o.pendingProps,c);case 1:return m=o.type,v=yl(m,o.pendingProps),GT(s,o,m,v,c);case 3:e:{if(Tt(o,o.stateNode.containerInfo),s===null)throw Error(r(387));m=o.pendingProps;var _=o.memoizedState;v=_.element,bv(s,o),Nf(o,m,null,c);var N=o.memoizedState;if(m=N.cache,Bs(o,On,m),m!==_.cache&&dv(o,[On],c,!0),Pf(),m=N.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=WT(s,o,m,c);break e}else if(m!==v){v=gi(Error(r(424)),o),Ef(v),o=WT(s,o,m,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(rn=qi(s.firstChild),Er=o,Et=!0,fl=null,ma=!0,c=PT(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(xf(),m===v){o=Ja(s,o,c);break e}Jn(s,o,m,c)}o=o.child}return o;case 26:return _m(s,o),s===null?(c=nO(o.type,null,o.pendingProps,null))?o.memoizedState=c:Et||(c=o.type,s=o.pendingProps,m=km(Ve.current).createElement(c),m[fe]=o,m[ye]=s,er(m,c,s),Ye(m),o.stateNode=m):o.memoizedState=nO(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return De(o),s===null&&Et&&(m=o.stateNode=ZA(o.type,o.pendingProps,Ve.current),Er=o,ma=!0,v=rn,no(o.type)?(P0=v,rn=qi(m.firstChild)):rn=v),Jn(s,o,o.pendingProps.children,c),_m(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Et&&((v=m=rn)&&(m=DU(m,o.type,o.pendingProps,ma),m!==null?(o.stateNode=m,Er=o,rn=qi(m.firstChild),ma=!1,v=!0):v=!1),v||hl(o)),De(o),v=o.type,_=o.pendingProps,N=s!==null?s.memoizedProps:null,m=_.children,A0(v,_)?m=null:N!==null&&A0(v,N)&&(o.flags|=32),o.memoizedState!==null&&(v=Tv(s,o,Q6,null,null,c),Zf._currentValue=v),_m(s,o),Jn(s,o,m,c),o.child;case 6:return s===null&&Et&&((s=c=rn)&&(c=IU(c,o.pendingProps,ma),c!==null?(o.stateNode=c,Er=o,rn=null,s=!0):s=!1),s||hl(o)),null;case 13:return YT(s,o,c);case 4:return Tt(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=Mu(o,null,m,c):Jn(s,o,m,c),o.child;case 11:return BT(s,o,o.type,o.pendingProps,c);case 7:return Jn(s,o,o.pendingProps,c),o.child;case 8:return Jn(s,o,o.pendingProps.children,c),o.child;case 12:return Jn(s,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,Bs(o,o.type,m.value),Jn(s,o,m.children,c),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,ml(o),v=lr(v),m=m(v),o.flags|=1,Jn(s,o,m,c),o.child;case 14:return zT(s,o,o.type,o.pendingProps,c);case 15:return qT(s,o,o.type,o.pendingProps,c);case 19:return QT(s,o,c);case 31:return m=o.pendingProps,c=o.mode,m={mode:m.mode,children:m.children},s===null?(c=wm(m,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Ha(s.child,m),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return FT(s,o,c);case 24:return ml(o),m=lr(On),s===null?(v=gv(),v===null&&(v=Bt,_=mv(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=c),v=_),o.memoizedState={parent:m,cache:v},vv(o),Bs(o,On,v)):((s.lanes&c)!==0&&(bv(s,o),Nf(o,null,null,c),Pf()),v=s.memoizedState,_=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Bs(o,On,m)):(m=_.cache,Bs(o,On,m),m!==v.cache&&dv(o,[On],c,!0))),Jn(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Za(s){s.flags|=4}function ZT(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!oO(o)){if(o=_i.current,o!==null&&((pt&4194048)===pt?pa!==null:(pt&62914560)!==pt&&(pt&536870912)===0||o!==pa))throw Cf=yv,MS;s.flags|=8192}}function xm(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Wo():536870912,s.lanes|=o,$u|=o)}function Uf(s,o){if(!Et)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function en(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,m=0;if(o)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=m,s.childLanes=c,o}function sU(s,o,c){var m=o.pendingProps;switch(uv(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(o),null;case 1:return en(o),null;case 3:return c=o.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Ya(On),_e(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(wf(o)?Za(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,NS())),en(o),null;case 26:return c=o.memoizedState,s===null?(Za(o),c!==null?(en(o),ZT(o,c)):(en(o),o.flags&=-16777217)):c?c!==s.memoizedState?(Za(o),en(o),ZT(o,c)):(en(o),o.flags&=-16777217):(s.memoizedProps!==m&&Za(o),en(o),o.flags&=-16777217),null;case 27:Ke(o),c=Ve.current;var v=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==m&&Za(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return en(o),null}s=Ae.current,wf(o)?RS(o):(s=ZA(v,m,c),o.stateNode=s,Za(o))}return en(o),null;case 5:if(Ke(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==m&&Za(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return en(o),null}if(s=Ae.current,wf(o))RS(o);else{switch(v=km(Ve.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof m.is=="string"?v.createElement("select",{is:m.is}):v.createElement("select"),m.multiple?s.multiple=!0:m.size&&(s.size=m.size);break;default:s=typeof m.is=="string"?v.createElement(c,{is:m.is}):v.createElement(c)}}s[fe]=o,s[ye]=m;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=s;e:switch(er(s,c,m),c){case"button":case"input":case"select":case"textarea":s=!!m.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Za(o)}}return en(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==m&&Za(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(s=Ve.current,wf(o)){if(s=o.stateNode,c=o.memoizedProps,m=null,v=Er,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}s[fe]=o,s=!!(s.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||KA(s.nodeValue,c)),s||hl(o)}else s=km(s).createTextNode(m),s[fe]=o,o.stateNode=s}return en(o),null;case 13:if(m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=wf(o),m!==null&&m.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[fe]=o}else xf(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;en(o),v=!1}else v=NS(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Qa(o),o):(Qa(o),null)}if(Qa(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=m!==null,s=s!==null&&s.memoizedState!==null,c){m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool);var _=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==v&&(m.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),xm(o,o.updateQueue),en(o),null;case 4:return _e(),s===null&&w0(o.stateNode.containerInfo),en(o),null;case 10:return Ya(o.type),en(o),null;case 19:if(ie(Cn),v=o.memoizedState,v===null)return en(o),null;if(m=(o.flags&128)!==0,_=v.rendering,_===null)if(m)Uf(v,!1);else{if(an!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(_=ym(s),_!==null){for(o.flags|=128,Uf(v,!1),s=_.updateQueue,o.updateQueue=s,xm(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)OS(c,s),c=c.sibling;return me(Cn,Cn.current&1|2),o.child}s=s.sibling}v.tail!==null&&Zt()>Tm&&(o.flags|=128,m=!0,Uf(v,!1),o.lanes=4194304)}else{if(!m)if(s=ym(_),s!==null){if(o.flags|=128,m=!0,s=s.updateQueue,o.updateQueue=s,xm(o,s),Uf(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!Et)return en(o),null}else 2*Zt()-v.renderingStartTime>Tm&&c!==536870912&&(o.flags|=128,m=!0,Uf(v,!1),o.lanes=4194304);v.isBackwards?(_.sibling=o.child,o.child=_):(s=v.last,s!==null?s.sibling=_:o.child=_,v.last=_)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Zt(),o.sibling=null,s=Cn.current,me(Cn,m?s&1|2:s&1),o):(en(o),null);case 22:case 23:return Qa(o),Ev(),m=o.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(en(o),o.subtreeFlags&6&&(o.flags|=8192)):en(o),c=o.updateQueue,c!==null&&xm(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),s!==null&&ie(pl),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ya(On),en(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function oU(s,o){switch(uv(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ya(On),_e(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ke(o),null;case 13:if(Qa(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));xf()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ie(Cn),null;case 4:return _e(),null;case 10:return Ya(o.type),null;case 22:case 23:return Qa(o),Ev(),s!==null&&ie(pl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Ya(On),null;case 25:return null;default:return null}}function eA(s,o){switch(uv(o),o.tag){case 3:Ya(On),_e();break;case 26:case 27:case 5:Ke(o);break;case 4:_e();break;case 13:Qa(o);break;case 19:ie(Cn);break;case 10:Ya(o.type);break;case 22:case 23:Qa(o),Ev(),s!==null&&ie(pl);break;case 24:Ya(On)}}function Vf(s,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&s)===s){m=void 0;var _=c.create,N=c.inst;m=_(),N.destroy=m}c=c.next}while(c!==v)}}catch(k){Ut(o,o.return,k)}}function Ws(s,o,c){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var _=v.next;m=_;do{if((m.tag&s)===s){var N=m.inst,k=N.destroy;if(k!==void 0){N.destroy=void 0,v=o;var F=c,Z=k;try{Z()}catch(le){Ut(v,F,le)}}}m=m.next}while(m!==_)}}catch(le){Ut(o,o.return,le)}}function tA(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{zS(o,c)}catch(m){Ut(s,s.return,m)}}}function nA(s,o,c){c.props=yl(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(m){Ut(s,o,m)}}function $f(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof c=="function"?s.refCleanup=c(m):c.current=m}}catch(v){Ut(s,o,v)}}function ga(s,o){var c=s.ref,m=s.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(v){Ut(s,o,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Ut(s,o,v)}else c.current=null}function rA(s){var o=s.type,c=s.memoizedProps,m=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(v){Ut(s,s.return,v)}}function Qv(s,o,c){try{var m=s.stateNode;CU(m,s.type,c,o),m[ye]=o}catch(v){Ut(s,s.return,v)}}function iA(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&no(s.type)||s.tag===4}function Jv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||iA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&no(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Zv(s,o,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Im));else if(m!==4&&(m===27&&no(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(Zv(s,o,c),s=s.sibling;s!==null;)Zv(s,o,c),s=s.sibling}function Em(s,o,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(m!==4&&(m===27&&no(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Em(s,o,c),s=s.sibling;s!==null;)Em(s,o,c),s=s.sibling}function aA(s){var o=s.stateNode,c=s.memoizedProps;try{for(var m=s.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);er(o,m,c),o[fe]=s,o[ye]=c}catch(_){Ut(s,s.return,_)}}var es=!1,cn=!1,e0=!1,sA=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function lU(s,o){if(s=s.containerInfo,S0=Bm,s=yS(s),Jy(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var N=0,k=-1,F=-1,Z=0,le=0,ce=s,te=null;t:for(;;){for(var ne;ce!==c||v!==0&&ce.nodeType!==3||(k=N+v),ce!==_||m!==0&&ce.nodeType!==3||(F=N+m),ce.nodeType===3&&(N+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)te=ce,ce=ne;for(;;){if(ce===s)break t;if(te===c&&++Z===v&&(k=N),te===_&&++le===m&&(F=N),(ne=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=ne}c=k===-1||F===-1?null:{start:k,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(T0={focusedElem:s,selectionRange:c},Bm=!1,Bn=o;Bn!==null;)if(o=Bn,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Bn=s;else for(;Bn!==null;){switch(o=Bn,_=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,c=o,v=_.memoizedProps,_=_.memoizedState,m=c.stateNode;try{var We=yl(c.type,v,c.elementType===c.type);s=m.getSnapshotBeforeUpdate(We,_),m.__reactInternalSnapshotBeforeUpdate=s}catch(qe){Ut(c,c.return,qe)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)C0(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":C0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,Bn=s;break}Bn=o.return}}function oA(s,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Ys(s,c),m&4&&Vf(5,c);break;case 1:if(Ys(s,c),m&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(N){Ut(c,c.return,N)}else{var v=yl(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(v,o,s.__reactInternalSnapshotBeforeUpdate)}catch(N){Ut(c,c.return,N)}}m&64&&tA(c),m&512&&$f(c,c.return);break;case 3:if(Ys(s,c),m&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{zS(s,o)}catch(N){Ut(c,c.return,N)}}break;case 27:o===null&&m&4&&aA(c);case 26:case 5:Ys(s,c),o===null&&m&4&&rA(c),m&512&&$f(c,c.return);break;case 12:Ys(s,c);break;case 13:Ys(s,c),m&4&&cA(s,c),m&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=yU.bind(null,c),kU(s,c))));break;case 22:if(m=c.memoizedState!==null||es,!m){o=o!==null&&o.memoizedState!==null||cn,v=es;var _=cn;es=m,(cn=o)&&!_?Xs(s,c,(c.subtreeFlags&8772)!==0):Ys(s,c),es=v,cn=_}break;case 30:break;default:Ys(s,c)}}function lA(s){var o=s.alternate;o!==null&&(s.alternate=null,lA(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Oe(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Qt=null,Or=!1;function ts(s,o,c){for(c=c.child;c!==null;)uA(s,o,c),c=c.sibling}function uA(s,o,c){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(_t,c)}catch{}switch(c.tag){case 26:cn||ga(c,o),ts(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:cn||ga(c,o);var m=Qt,v=Or;no(c.type)&&(Qt=c.stateNode,Or=!1),ts(s,o,c),Yf(c.stateNode),Qt=m,Or=v;break;case 5:cn||ga(c,o);case 6:if(m=Qt,v=Or,Qt=null,ts(s,o,c),Qt=m,Or=v,Qt!==null)if(Or)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(c.stateNode)}catch(_){Ut(c,o,_)}else try{Qt.removeChild(c.stateNode)}catch(_){Ut(c,o,_)}break;case 18:Qt!==null&&(Or?(s=Qt,QA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),rh(s)):QA(Qt,c.stateNode));break;case 4:m=Qt,v=Or,Qt=c.stateNode.containerInfo,Or=!0,ts(s,o,c),Qt=m,Or=v;break;case 0:case 11:case 14:case 15:cn||Ws(2,c,o),cn||Ws(4,c,o),ts(s,o,c);break;case 1:cn||(ga(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&nA(c,o,m)),ts(s,o,c);break;case 21:ts(s,o,c);break;case 22:cn=(m=cn)||c.memoizedState!==null,ts(s,o,c),cn=m;break;default:ts(s,o,c)}}function cA(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{rh(s)}catch(c){Ut(o,o.return,c)}}function uU(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new sA),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new sA),o;default:throw Error(r(435,s.tag))}}function t0(s,o){var c=uU(s);o.forEach(function(m){var v=vU.bind(null,s,m);c.has(m)||(c.add(m),m.then(v,v))})}function qr(s,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m],_=s,N=o,k=N;e:for(;k!==null;){switch(k.tag){case 27:if(no(k.type)){Qt=k.stateNode,Or=!1;break e}break;case 5:Qt=k.stateNode,Or=!1;break e;case 3:case 4:Qt=k.stateNode.containerInfo,Or=!0;break e}k=k.return}if(Qt===null)throw Error(r(160));uA(_,N,v),Qt=null,Or=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)fA(o,s),o=o.sibling}var zi=null;function fA(s,o){var c=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:qr(o,s),Fr(s),m&4&&(Ws(3,s,s.return),Vf(3,s),Ws(5,s,s.return));break;case 1:qr(o,s),Fr(s),m&512&&(cn||c===null||ga(c,c.return)),m&64&&es&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var v=zi;if(qr(o,s),Fr(s),m&512&&(cn||c===null||ga(c,c.return)),m&4){var _=c!==null?c.memoizedState:null;if(m=s.memoizedState,c===null)if(m===null)if(s.stateNode===null){e:{m=s.type,c=s.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":_=v.getElementsByTagName("title")[0],(!_||_[je]||_[fe]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(m),v.head.insertBefore(_,v.querySelector("head > title"))),er(_,m,c),_[fe]=s,Ye(_),m=_;break e;case"link":var N=aO("link","href",v).get(m+(c.href||""));if(N){for(var k=0;k<N.length;k++)if(_=N[k],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){N.splice(k,1);break t}}_=v.createElement(m),er(_,m,c),v.head.appendChild(_);break;case"meta":if(N=aO("meta","content",v).get(m+(c.content||""))){for(k=0;k<N.length;k++)if(_=N[k],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){N.splice(k,1);break t}}_=v.createElement(m),er(_,m,c),v.head.appendChild(_);break;default:throw Error(r(468,m))}_[fe]=s,Ye(_),m=_}s.stateNode=m}else sO(v,s.type,s.stateNode);else s.stateNode=iO(v,m,s.memoizedProps);else _!==m?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,m===null?sO(v,s.type,s.stateNode):iO(v,m,s.memoizedProps)):m===null&&s.stateNode!==null&&Qv(s,s.memoizedProps,c.memoizedProps)}break;case 27:qr(o,s),Fr(s),m&512&&(cn||c===null||ga(c,c.return)),c!==null&&m&4&&Qv(s,s.memoizedProps,c.memoizedProps);break;case 5:if(qr(o,s),Fr(s),m&512&&(cn||c===null||ga(c,c.return)),s.flags&32){v=s.stateNode;try{hi(v,"")}catch(ne){Ut(s,s.return,ne)}}m&4&&s.stateNode!=null&&(v=s.memoizedProps,Qv(s,v,c!==null?c.memoizedProps:v)),m&1024&&(e0=!0);break;case 6:if(qr(o,s),Fr(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,c=s.stateNode;try{c.nodeValue=m}catch(ne){Ut(s,s.return,ne)}}break;case 3:if(Um=null,v=zi,zi=Mm(o.containerInfo),qr(o,s),zi=v,Fr(s),m&4&&c!==null&&c.memoizedState.isDehydrated)try{rh(o.containerInfo)}catch(ne){Ut(s,s.return,ne)}e0&&(e0=!1,hA(s));break;case 4:m=zi,zi=Mm(s.stateNode.containerInfo),qr(o,s),Fr(s),zi=m;break;case 12:qr(o,s),Fr(s);break;case 13:qr(o,s),Fr(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(o0=Zt()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,t0(s,m)));break;case 22:v=s.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,Z=es,le=cn;if(es=Z||v,cn=le||F,qr(o,s),cn=le,es=Z,Fr(s),m&8192)e:for(o=s.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||F||es||cn||vl(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){F=c=o;try{if(_=F.stateNode,v)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{k=F.stateNode;var ce=F.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;k.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Ut(F,F.return,ne)}}}else if(o.tag===6){if(c===null){F=o;try{F.stateNode.nodeValue=v?"":F.memoizedProps}catch(ne){Ut(F,F.return,ne)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=s.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,t0(s,c))));break;case 19:qr(o,s),Fr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,t0(s,m)));break;case 30:break;case 21:break;default:qr(o,s),Fr(s)}}function Fr(s){var o=s.flags;if(o&2){try{for(var c,m=s.return;m!==null;){if(iA(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,_=Jv(s);Em(s,_,v);break;case 5:var N=c.stateNode;c.flags&32&&(hi(N,""),c.flags&=-33);var k=Jv(s);Em(s,k,N);break;case 3:case 4:var F=c.stateNode.containerInfo,Z=Jv(s);Zv(s,Z,F);break;default:throw Error(r(161))}}catch(le){Ut(s,s.return,le)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function hA(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;hA(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Ys(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)oA(s,o.alternate,o),o=o.sibling}function vl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ws(4,o,o.return),vl(o);break;case 1:ga(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&nA(o,o.return,c),vl(o);break;case 27:Yf(o.stateNode);case 26:case 5:ga(o,o.return),vl(o);break;case 22:o.memoizedState===null&&vl(o);break;case 30:vl(o);break;default:vl(o)}s=s.sibling}}function Xs(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=s,_=o,N=_.flags;switch(_.tag){case 0:case 11:case 15:Xs(v,_,c),Vf(4,_);break;case 1:if(Xs(v,_,c),m=_,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Z){Ut(m,m.return,Z)}if(m=_,v=m.updateQueue,v!==null){var k=m.stateNode;try{var F=v.shared.hiddenCallbacks;if(F!==null)for(v.shared.hiddenCallbacks=null,v=0;v<F.length;v++)BS(F[v],k)}catch(Z){Ut(m,m.return,Z)}}c&&N&64&&tA(_),$f(_,_.return);break;case 27:aA(_);case 26:case 5:Xs(v,_,c),c&&m===null&&N&4&&rA(_),$f(_,_.return);break;case 12:Xs(v,_,c);break;case 13:Xs(v,_,c),c&&N&4&&cA(v,_);break;case 22:_.memoizedState===null&&Xs(v,_,c),$f(_,_.return);break;case 30:break;default:Xs(v,_,c)}o=o.sibling}}function n0(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Tf(c))}function r0(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Tf(s))}function ya(s,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)dA(s,o,c,m),o=o.sibling}function dA(s,o,c,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:ya(s,o,c,m),v&2048&&Vf(9,o);break;case 1:ya(s,o,c,m);break;case 3:ya(s,o,c,m),v&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Tf(s)));break;case 12:if(v&2048){ya(s,o,c,m),s=o.stateNode;try{var _=o.memoizedProps,N=_.id,k=_.onPostCommit;typeof k=="function"&&k(N,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(F){Ut(o,o.return,F)}}else ya(s,o,c,m);break;case 13:ya(s,o,c,m);break;case 23:break;case 22:_=o.stateNode,N=o.alternate,o.memoizedState!==null?_._visibility&2?ya(s,o,c,m):Bf(s,o):_._visibility&2?ya(s,o,c,m):(_._visibility|=2,Lu(s,o,c,m,(o.subtreeFlags&10256)!==0)),v&2048&&n0(N,o);break;case 24:ya(s,o,c,m),v&2048&&r0(o.alternate,o);break;default:ya(s,o,c,m)}}function Lu(s,o,c,m,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=s,N=o,k=c,F=m,Z=N.flags;switch(N.tag){case 0:case 11:case 15:Lu(_,N,k,F,v),Vf(8,N);break;case 23:break;case 22:var le=N.stateNode;N.memoizedState!==null?le._visibility&2?Lu(_,N,k,F,v):Bf(_,N):(le._visibility|=2,Lu(_,N,k,F,v)),v&&Z&2048&&n0(N.alternate,N);break;case 24:Lu(_,N,k,F,v),v&&Z&2048&&r0(N.alternate,N);break;default:Lu(_,N,k,F,v)}o=o.sibling}}function Bf(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,m=o,v=m.flags;switch(m.tag){case 22:Bf(c,m),v&2048&&n0(m.alternate,m);break;case 24:Bf(c,m),v&2048&&r0(m.alternate,m);break;default:Bf(c,m)}o=o.sibling}}var zf=8192;function Uu(s){if(s.subtreeFlags&zf)for(s=s.child;s!==null;)mA(s),s=s.sibling}function mA(s){switch(s.tag){case 26:Uu(s),s.flags&zf&&s.memoizedState!==null&&WU(zi,s.memoizedState,s.memoizedProps);break;case 5:Uu(s);break;case 3:case 4:var o=zi;zi=Mm(s.stateNode.containerInfo),Uu(s),zi=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=zf,zf=16777216,Uu(s),zf=o):Uu(s));break;default:Uu(s)}}function pA(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function qf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Bn=m,yA(m,s)}pA(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)gA(s),s=s.sibling}function gA(s){switch(s.tag){case 0:case 11:case 15:qf(s),s.flags&2048&&Ws(9,s,s.return);break;case 3:qf(s);break;case 12:qf(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Sm(s)):qf(s);break;default:qf(s)}}function Sm(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Bn=m,yA(m,s)}pA(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ws(8,o,o.return),Sm(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Sm(o));break;default:Sm(o)}s=s.sibling}}function yA(s,o){for(;Bn!==null;){var c=Bn;switch(c.tag){case 0:case 11:case 15:Ws(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Tf(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Bn=m;else e:for(c=s;Bn!==null;){m=Bn;var v=m.sibling,_=m.return;if(lA(m),m===c){Bn=null;break e}if(v!==null){v.return=_,Bn=v;break e}Bn=_}}}var cU={getCacheForType:function(s){var o=lr(On),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},fU=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Bt=null,ot=null,pt=0,Pt=0,Hr=null,Qs=!1,Vu=!1,i0=!1,ns=0,an=0,Js=0,bl=0,a0=0,wi=0,$u=0,Ff=null,Cr=null,s0=!1,o0=0,Tm=1/0,Am=null,Zs=null,Zn=0,eo=null,Bu=null,zu=0,l0=0,u0=null,vA=null,Hf=0,c0=null;function Kr(){if((Rt&2)!==0&&pt!==0)return pt&-pt;if(G.T!==null){var s=Ru;return s!==0?s:y0()}return K()}function bA(){wi===0&&(wi=(pt&536870912)===0||Et?La():536870912);var s=_i.current;return s!==null&&(s.flags|=32),wi}function Gr(s,o,c){(s===Bt&&(Pt===2||Pt===9)||s.cancelPendingCommit!==null)&&(qu(s,0),to(s,pt,wi,!1)),Li(s,c),((Rt&2)===0||s!==Bt)&&(s===Bt&&((Rt&2)===0&&(bl|=c),an===4&&to(s,pt,wi,!1)),va(s))}function _A(s,o,c){if((Rt&6)!==0)throw Error(r(327));var m=!c&&(o&124)===0&&(o&s.expiredLanes)===0||ui(s,o),v=m?mU(s,o):d0(s,o,!0),_=m;do{if(v===0){Vu&&!m&&to(s,o,0,!1);break}else{if(c=s.current.alternate,_&&!hU(c)){v=d0(s,o,!1),_=!1;continue}if(v===2){if(_=o,s.errorRecoveryDisabledLanes&_)var N=0;else N=s.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var k=s;v=Ff;var F=k.current.memoizedState.isDehydrated;if(F&&(qu(k,N).flags|=256),N=d0(k,N,!1),N!==2){if(i0&&!F){k.errorRecoveryDisabledLanes|=_,bl|=_,v=4;break e}_=Cr,Cr=v,_!==null&&(Cr===null?Cr=_:Cr.push.apply(Cr,_))}v=N}if(_=!1,v!==2)continue}}if(v===1){qu(s,0),to(s,o,0,!0);break}e:{switch(m=s,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:to(m,o,wi,!Qs);break e;case 2:Cr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=o0+300-Zt(),10<v)){if(to(m,o,wi,!Qs),Ma(m,0,!0)!==0)break e;m.timeoutHandle=YA(wA.bind(null,m,c,Cr,Am,s0,o,wi,bl,$u,Qs,_,2,-0,0),v);break e}wA(m,c,Cr,Am,s0,o,wi,bl,$u,Qs,_,0,-0,0)}}break}while(!0);va(s)}function wA(s,o,c,m,v,_,N,k,F,Z,le,ce,te,ne){if(s.timeoutHandle=-1,ce=o.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Jf={stylesheets:null,count:0,unsuspend:GU},mA(o),ce=YU(),ce!==null)){s.cancelPendingCommit=ce(CA.bind(null,s,o,_,c,m,v,N,k,F,le,1,te,ne)),to(s,_,N,!Z);return}CA(s,o,_,c,m,v,N,k,F)}function hU(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var v=c[m],_=v.getSnapshot;v=v.value;try{if(!Br(_(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function to(s,o,c,m){o&=~a0,o&=~bl,s.suspendedLanes|=o,s.pingedLanes&=~o,m&&(s.warmLanes|=o),m=s.expirationTimes;for(var v=o;0<v;){var _=31-mn(v),N=1<<_;m[_]=-1,v&=~N}c!==0&&vr(s,c,o)}function Om(){return(Rt&6)===0?(Kf(0),!1):!0}function f0(){if(ot!==null){if(Pt===0)var s=ot.return;else s=ot,Wa=dl=null,Cv(s),ku=null,Mf=0,s=ot;for(;s!==null;)eA(s.alternate,s),s=s.return;ot=null}}function qu(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,PU(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),f0(),Bt=s,ot=c=Ha(s.current,null),pt=o,Pt=0,Hr=null,Qs=!1,Vu=ui(s,o),i0=!1,$u=wi=a0=bl=Js=an=0,Cr=Ff=null,s0=!1,(o&8)!==0&&(o|=o&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=o;0<m;){var v=31-mn(m),_=1<<v;o|=s[v],m&=~_}return ns=o,Yd(),c}function xA(s,o){rt=null,G.H=mm,o===Of||o===im?(o=VS(),Pt=3):o===MS?(o=VS(),Pt=4):Pt=o===$T?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Hr=o,ot===null&&(an=1,bm(s,gi(o,s.current)))}function EA(){var s=G.H;return G.H=mm,s===null?mm:s}function SA(){var s=G.A;return G.A=cU,s}function h0(){an=4,Qs||(pt&4194048)!==pt&&_i.current!==null||(Vu=!0),(Js&134217727)===0&&(bl&134217727)===0||Bt===null||to(Bt,pt,wi,!1)}function d0(s,o,c){var m=Rt;Rt|=2;var v=EA(),_=SA();(Bt!==s||pt!==o)&&(Am=null,qu(s,o)),o=!1;var N=an;e:do try{if(Pt!==0&&ot!==null){var k=ot,F=Hr;switch(Pt){case 8:f0(),N=6;break e;case 3:case 2:case 9:case 6:_i.current===null&&(o=!0);var Z=Pt;if(Pt=0,Hr=null,Fu(s,k,F,Z),c&&Vu){N=0;break e}break;default:Z=Pt,Pt=0,Hr=null,Fu(s,k,F,Z)}}dU(),N=an;break}catch(le){xA(s,le)}while(!0);return o&&s.shellSuspendCounter++,Wa=dl=null,Rt=m,G.H=v,G.A=_,ot===null&&(Bt=null,pt=0,Yd()),N}function dU(){for(;ot!==null;)TA(ot)}function mU(s,o){var c=Rt;Rt|=2;var m=EA(),v=SA();Bt!==s||pt!==o?(Am=null,Tm=Zt()+500,qu(s,o)):Vu=ui(s,o);e:do try{if(Pt!==0&&ot!==null){o=ot;var _=Hr;t:switch(Pt){case 1:Pt=0,Hr=null,Fu(s,o,_,1);break;case 2:case 9:if(LS(_)){Pt=0,Hr=null,AA(o);break}o=function(){Pt!==2&&Pt!==9||Bt!==s||(Pt=7),va(s)},_.then(o,o);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:LS(_)?(Pt=0,Hr=null,AA(o)):(Pt=0,Hr=null,Fu(s,o,_,7));break;case 5:var N=null;switch(ot.tag){case 26:N=ot.memoizedState;case 5:case 27:var k=ot;if(!N||oO(N)){Pt=0,Hr=null;var F=k.sibling;if(F!==null)ot=F;else{var Z=k.return;Z!==null?(ot=Z,Cm(Z)):ot=null}break t}}Pt=0,Hr=null,Fu(s,o,_,5);break;case 6:Pt=0,Hr=null,Fu(s,o,_,6);break;case 8:f0(),an=6;break e;default:throw Error(r(462))}}pU();break}catch(le){xA(s,le)}while(!0);return Wa=dl=null,G.H=m,G.A=v,Rt=c,ot!==null?0:(Bt=null,pt=0,Yd(),an)}function pU(){for(;ot!==null&&!ln();)TA(ot)}function TA(s){var o=JT(s.alternate,s,ns);s.memoizedProps=s.pendingProps,o===null?Cm(s):ot=o}function AA(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=KT(c,o,o.pendingProps,o.type,void 0,pt);break;case 11:o=KT(c,o,o.pendingProps,o.type.render,o.ref,pt);break;case 5:Cv(o);default:eA(c,o),o=ot=OS(o,ns),o=JT(c,o,ns)}s.memoizedProps=s.pendingProps,o===null?Cm(s):ot=o}function Fu(s,o,c,m){Wa=dl=null,Cv(o),ku=null,Mf=0;var v=o.return;try{if(iU(s,v,o,c,pt)){an=1,bm(s,gi(c,s.current)),ot=null;return}}catch(_){if(v!==null)throw ot=v,_;an=1,bm(s,gi(c,s.current)),ot=null;return}o.flags&32768?(Et||m===1?s=!0:Vu||(pt&536870912)!==0?s=!1:(Qs=s=!0,(m===2||m===9||m===3||m===6)&&(m=_i.current,m!==null&&m.tag===13&&(m.flags|=16384))),OA(o,s)):Cm(o)}function Cm(s){var o=s;do{if((o.flags&32768)!==0){OA(o,Qs);return}s=o.return;var c=sU(o.alternate,o,ns);if(c!==null){ot=c;return}if(o=o.sibling,o!==null){ot=o;return}ot=o=s}while(o!==null);an===0&&(an=5)}function OA(s,o){do{var c=oU(s.alternate,s);if(c!==null){c.flags&=32767,ot=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){ot=s;return}ot=s=c}while(s!==null);an=6,ot=null}function CA(s,o,c,m,v,_,N,k,F){s.cancelPendingCommit=null;do Rm();while(Zn!==0);if((Rt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=rv,Is(s,c,_,N,k,F),s===Bt&&(ot=Bt=null,pt=0),Bu=o,eo=s,zu=c,l0=_,u0=v,vA=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,bU(ka,function(){return DA(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,v=re.p,re.p=2,N=Rt,Rt|=4;try{lU(s,o,c)}finally{Rt=N,re.p=v,G.T=m}}Zn=1,RA(),PA(),NA()}}function RA(){if(Zn===1){Zn=0;var s=eo,o=Bu,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=G.T,G.T=null;var m=re.p;re.p=2;var v=Rt;Rt|=4;try{fA(o,s);var _=T0,N=yS(s.containerInfo),k=_.focusedElem,F=_.selectionRange;if(N!==k&&k&&k.ownerDocument&&gS(k.ownerDocument.documentElement,k)){if(F!==null&&Jy(k)){var Z=F.start,le=F.end;if(le===void 0&&(le=Z),"selectionStart"in k)k.selectionStart=Z,k.selectionEnd=Math.min(le,k.value.length);else{var ce=k.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var ne=te.getSelection(),We=k.textContent.length,qe=Math.min(F.start,We),Mt=F.end===void 0?qe:Math.min(F.end,We);!ne.extend&&qe>Mt&&(N=Mt,Mt=qe,qe=N);var Y=pS(k,qe),W=pS(k,Mt);if(Y&&W&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==W.node||ne.focusOffset!==W.offset)){var J=ce.createRange();J.setStart(Y.node,Y.offset),ne.removeAllRanges(),qe>Mt?(ne.addRange(J),ne.extend(W.node,W.offset)):(J.setEnd(W.node,W.offset),ne.addRange(J))}}}}for(ce=[],ne=k;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ce.length;k++){var ue=ce[k];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Bm=!!S0,T0=S0=null}finally{Rt=v,re.p=m,G.T=c}}s.current=o,Zn=2}}function PA(){if(Zn===2){Zn=0;var s=eo,o=Bu,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=G.T,G.T=null;var m=re.p;re.p=2;var v=Rt;Rt|=4;try{oA(s,o.alternate,o)}finally{Rt=v,re.p=m,G.T=c}}Zn=3}}function NA(){if(Zn===4||Zn===3){Zn=0,dn();var s=eo,o=Bu,c=zu,m=vA;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Zn=5:(Zn=0,Bu=eo=null,jA(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(Zs=null),ks(c),o=o.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(_t,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=G.T,v=re.p,re.p=2,G.T=null;try{for(var _=s.onRecoverableError,N=0;N<m.length;N++){var k=m[N];_(k.value,{componentStack:k.stack})}}finally{G.T=o,re.p=v}}(zu&3)!==0&&Rm(),va(s),v=s.pendingLanes,(c&4194090)!==0&&(v&42)!==0?s===c0?Hf++:(Hf=0,c0=s):Hf=0,Kf(0)}}function jA(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Tf(o)))}function Rm(s){return RA(),PA(),NA(),DA()}function DA(){if(Zn!==5)return!1;var s=eo,o=l0;l0=0;var c=ks(zu),m=G.T,v=re.p;try{re.p=32>c?32:c,G.T=null,c=u0,u0=null;var _=eo,N=zu;if(Zn=0,Bu=eo=null,zu=0,(Rt&6)!==0)throw Error(r(331));var k=Rt;if(Rt|=4,gA(_.current),dA(_,_.current,N,c),Rt=k,Kf(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(_t,_)}catch{}return!0}finally{re.p=v,G.T=m,jA(s,o)}}function IA(s,o,c){o=gi(c,o),o=zv(s.stateNode,o,2),s=Fs(s,o,2),s!==null&&(Li(s,2),va(s))}function Ut(s,o,c){if(s.tag===3)IA(s,s,c);else for(;o!==null;){if(o.tag===3){IA(o,s,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Zs===null||!Zs.has(m))){s=gi(c,s),c=UT(2),m=Fs(o,c,2),m!==null&&(VT(c,m,o,s),Li(m,2),va(m));break}}o=o.return}}function m0(s,o,c){var m=s.pingCache;if(m===null){m=s.pingCache=new fU;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(c)||(i0=!0,v.add(c),s=gU.bind(null,s,o,c),o.then(s,s))}function gU(s,o,c){var m=s.pingCache;m!==null&&m.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Bt===s&&(pt&c)===c&&(an===4||an===3&&(pt&62914560)===pt&&300>Zt()-o0?(Rt&2)===0&&qu(s,0):a0|=c,$u===pt&&($u=0)),va(s)}function kA(s,o){o===0&&(o=Wo()),s=Tu(s,o),s!==null&&(Li(s,o),va(s))}function yU(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),kA(s,c)}function vU(s,o){var c=0;switch(s.tag){case 13:var m=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),kA(s,c)}function bU(s,o){return Yt(s,o)}var Pm=null,Hu=null,p0=!1,Nm=!1,g0=!1,_l=0;function va(s){s!==Hu&&s.next===null&&(Hu===null?Pm=Hu=s:Hu=Hu.next=s),Nm=!0,p0||(p0=!0,wU())}function Kf(s,o){if(!g0&&Nm){g0=!0;do for(var c=!1,m=Pm;m!==null;){if(s!==0){var v=m.pendingLanes;if(v===0)var _=0;else{var N=m.suspendedLanes,k=m.pingedLanes;_=(1<<31-mn(42|s)+1)-1,_&=v&~(N&~k),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,VA(m,_))}else _=pt,_=Ma(m,m===Bt?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||ui(m,_)||(c=!0,VA(m,_));m=m.next}while(c);g0=!1}}function _U(){MA()}function MA(){Nm=p0=!1;var s=0;_l!==0&&(RU()&&(s=_l),_l=0);for(var o=Zt(),c=null,m=Pm;m!==null;){var v=m.next,_=LA(m,o);_===0?(m.next=null,c===null?Pm=v:c.next=v,v===null&&(Hu=c)):(c=m,(s!==0||(_&3)!==0)&&(Nm=!0)),m=v}Kf(s)}function LA(s,o){for(var c=s.suspendedLanes,m=s.pingedLanes,v=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var N=31-mn(_),k=1<<N,F=v[N];F===-1?((k&c)===0||(k&m)!==0)&&(v[N]=Ds(k,o)):F<=o&&(s.expiredLanes|=k),_&=~k}if(o=Bt,c=pt,c=Ma(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,c===0||s===o&&(Pt===2||Pt===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&et(m),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||ui(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(m!==null&&et(m),ks(c)){case 2:case 8:c=Ps;break;case 32:c=ka;break;case 268435456:c=oi;break;default:c=ka}return m=UA.bind(null,s),c=Yt(c,m),s.callbackPriority=o,s.callbackNode=c,o}return m!==null&&m!==null&&et(m),s.callbackPriority=2,s.callbackNode=null,2}function UA(s,o){if(Zn!==0&&Zn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Rm()&&s.callbackNode!==c)return null;var m=pt;return m=Ma(s,s===Bt?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(_A(s,m,o),LA(s,Zt()),s.callbackNode!=null&&s.callbackNode===c?UA.bind(null,s):null)}function VA(s,o){if(Rm())return null;_A(s,o,!0)}function wU(){NU(function(){(Rt&6)!==0?Yt(Go,_U):MA()})}function y0(){return _l===0&&(_l=La()),_l}function $A(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:du(""+s)}function BA(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function xU(s,o,c,m,v){if(o==="submit"&&c&&c.stateNode===v){var _=$A((v[ye]||null).action),N=m.submitter;N&&(o=(o=N[ye]||null)?$A(o.formAction):N.getAttribute("formAction"),o!==null&&(_=o,N=null));var k=new mu("action","action",null,m,v);s.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(_l!==0){var F=N?BA(v,N):new FormData(v);Lv(c,{pending:!0,data:F,method:v.method,action:_},null,F)}}else typeof _=="function"&&(k.preventDefault(),F=N?BA(v,N):new FormData(v),Lv(c,{pending:!0,data:F,method:v.method,action:_},_,F))},currentTarget:v}]})}}for(var v0=0;v0<nv.length;v0++){var b0=nv[v0],EU=b0.toLowerCase(),SU=b0[0].toUpperCase()+b0.slice(1);Bi(EU,"on"+SU)}Bi(_S,"onAnimationEnd"),Bi(wS,"onAnimationIteration"),Bi(xS,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(B6,"onTransitionRun"),Bi(z6,"onTransitionStart"),Bi(q6,"onTransitionCancel"),Bi(ES,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gf));function zA(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var m=s[c],v=m.event;m=m.listeners;e:{var _=void 0;if(o)for(var N=m.length-1;0<=N;N--){var k=m[N],F=k.instance,Z=k.currentTarget;if(k=k.listener,F!==_&&v.isPropagationStopped())break e;_=k,v.currentTarget=Z;try{_(v)}catch(le){vm(le)}v.currentTarget=null,_=F}else for(N=0;N<m.length;N++){if(k=m[N],F=k.instance,Z=k.currentTarget,k=k.listener,F!==_&&v.isPropagationStopped())break e;_=k,v.currentTarget=Z;try{_(v)}catch(le){vm(le)}v.currentTarget=null,_=F}}}}function lt(s,o){var c=o[Ie];c===void 0&&(c=o[Ie]=new Set);var m=s+"__bubble";c.has(m)||(qA(o,s,2,!1),c.add(m))}function _0(s,o,c){var m=0;o&&(m|=4),qA(c,s,m,o)}var jm="_reactListening"+Math.random().toString(36).slice(2);function w0(s){if(!s[jm]){s[jm]=!0,xt.forEach(function(c){c!=="selectionchange"&&(TU.has(c)||_0(c,!1,s),_0(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[jm]||(o[jm]=!0,_0("selectionchange",!1,o))}}function qA(s,o,c,m){switch(dO(o)){case 2:var v=JU;break;case 8:v=ZU;break;default:v=k0}c=v.bind(null,o,c,s),v=void 0,!mi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?s.addEventListener(o,c,{capture:!0,passive:v}):s.addEventListener(o,c,!0):v!==void 0?s.addEventListener(o,c,{passive:v}):s.addEventListener(o,c,!1)}function x0(s,o,c,m,v){var _=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var k=m.stateNode.containerInfo;if(k===v)break;if(N===4)for(N=m.return;N!==null;){var F=N.tag;if((F===3||F===4)&&N.stateNode.containerInfo===v)return;N=N.return}for(;k!==null;){if(N=Ze(k),N===null)return;if(F=N.tag,F===5||F===6||F===26||F===27){m=_=N;continue e}k=k.parentNode}}m=m.return}Id(function(){var Z=_,le=di(c),ce=[];e:{var te=SS.get(s);if(te!==void 0){var ne=mu,We=s;switch(s){case"keypress":if(ua(c)===0)break e;case"keydown":case"keyup":ne=_u;break;case"focusin":We="focus",ne=yu;break;case"focusout":We="blur",ne=yu;break;case"beforeblur":case"afterblur":ne=yu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Wy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=zd;break;case _S:case wS:case xS:ne=vu;break;case ES:ne=Fd;break;case"scroll":case"scrollend":ne=kd;break;case"wheel":ne=wu;break;case"copy":case"cut":case"paste":ne=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=yf;break;case"toggle":case"beforetoggle":ne=Kd}var qe=(o&4)!==0,Mt=!qe&&(s==="scroll"||s==="scrollend"),Y=qe?te!==null?te+"Capture":null:te;qe=[];for(var W=Z,J;W!==null;){var ue=W;if(J=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||J===null||Y===null||(ue=Zo(W,Y),ue!=null&&qe.push(Wf(W,ue,J))),Mt)break;W=W.return}0<qe.length&&(te=new ne(te,We,null,c,le),ce.push({event:te,listeners:qe}))}}if((o&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",te&&c!==Va&&(We=c.relatedTarget||c.fromElement)&&(Ze(We)||We[Ee]))break e;if((ne||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(We=c.relatedTarget||c.toElement,ne=Z,We=We?Ze(We):null,We!==null&&(Mt=a(We),qe=We.tag,We!==Mt||qe!==5&&qe!==27&&qe!==6)&&(We=null)):(ne=null,We=Z),ne!==We)){if(qe=pi,ue="onMouseLeave",Y="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(qe=yf,ue="onPointerLeave",Y="onPointerEnter",W="pointer"),Mt=ne==null?te:Ct(ne),J=We==null?te:Ct(We),te=new qe(ue,W+"leave",ne,c,le),te.target=Mt,te.relatedTarget=J,ue=null,Ze(le)===Z&&(qe=new qe(Y,W+"enter",We,c,le),qe.target=J,qe.relatedTarget=Mt,ue=qe),Mt=ue,ne&&We)t:{for(qe=ne,Y=We,W=0,J=qe;J;J=Ku(J))W++;for(J=0,ue=Y;ue;ue=Ku(ue))J++;for(;0<W-J;)qe=Ku(qe),W--;for(;0<J-W;)Y=Ku(Y),J--;for(;W--;){if(qe===Y||Y!==null&&qe===Y.alternate)break t;qe=Ku(qe),Y=Ku(Y)}qe=null}else qe=null;ne!==null&&FA(ce,te,ne,qe,!1),We!==null&&Mt!==null&&FA(ce,Mt,We,qe,!0)}}e:{if(te=Z?Ct(Z):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ce=uS;else if(An(te))if(cS)Ce=U6;else{Ce=M6;var at=k6}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&cf(Z.elementType)&&(Ce=uS):Ce=L6;if(Ce&&(Ce=Ce(s,Z))){Fa(ce,Ce,c,le);break e}at&&at(s,te,Z),s==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Vs(te,"number",te.value)}switch(at=Z?Ct(Z):window,s){case"focusin":(An(at)||at.contentEditable==="true")&&(xu=at,Zy=Z,_f=null);break;case"focusout":_f=Zy=xu=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,vS(ce,c,le);break;case"selectionchange":if($6)break;case"keydown":case"keyup":vS(ce,c,le)}var Me;if(ha)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else dt?ae(s,c)&&(He="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(He="onCompositionStart");He&&(R&&c.locale!=="ko"&&(dt||He!=="onCompositionStart"?He==="onCompositionEnd"&&dt&&(Me=hf()):(la=le,$s="value"in la?la.value:la.textContent,dt=!0)),at=Dm(Z,He),0<at.length&&(He=new pf(He,s,null,c,le),ce.push({event:He,listeners:at}),Me?He.data=Me:(Me=be(c),Me!==null&&(He.data=Me)))),(Me=S?Tn(s,c):mt(s,c))&&(He=Dm(Z,"onBeforeInput"),0<He.length&&(at=new pf("onBeforeInput","beforeinput",null,c,le),ce.push({event:at,listeners:He}),at.data=Me)),xU(ce,s,Z,c,le)}zA(ce,o)})}function Wf(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Dm(s,o){for(var c=o+"Capture",m=[];s!==null;){var v=s,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Zo(s,c),v!=null&&m.unshift(Wf(s,v,_)),v=Zo(s,o),v!=null&&m.push(Wf(s,v,_))),s.tag===3)return m;s=s.return}return[]}function Ku(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function FA(s,o,c,m,v){for(var _=o._reactName,N=[];c!==null&&c!==m;){var k=c,F=k.alternate,Z=k.stateNode;if(k=k.tag,F!==null&&F===m)break;k!==5&&k!==26&&k!==27||Z===null||(F=Z,v?(Z=Zo(c,_),Z!=null&&N.unshift(Wf(c,Z,F))):v||(Z=Zo(c,_),Z!=null&&N.push(Wf(c,Z,F)))),c=c.return}N.length!==0&&s.push({event:o,listeners:N})}var AU=/\r\n?/g,OU=/\u0000|\uFFFD/g;function HA(s){return(typeof s=="string"?s:""+s).replace(AU,`
`).replace(OU,"")}function KA(s,o){return o=HA(o),HA(s)===o}function Im(){}function kt(s,o,c,m,v,_){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||hi(s,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&hi(s,""+m);break;case"className":_r(s,"class",m);break;case"tabIndex":_r(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(s,c,m);break;case"style":uf(s,m,_);break;case"data":if(o!=="object"){_r(s,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=du(""+m),s.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(o!=="input"&&kt(s,o,"name",v.name,v,null),kt(s,o,"formEncType",v.formEncType,v,null),kt(s,o,"formMethod",v.formMethod,v,null),kt(s,o,"formTarget",v.formTarget,v,null)):(kt(s,o,"encType",v.encType,v,null),kt(s,o,"method",v.method,v,null),kt(s,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=du(""+m),s.setAttribute(c,m);break;case"onClick":m!=null&&(s.onclick=Im);break;case"onScroll":m!=null&&lt("scroll",s);break;case"onScrollEnd":m!=null&&lt("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}c=du(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""+m):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":m===!0?s.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,m):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(c,m):s.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(c):s.setAttribute(c,m);break;case"popover":lt("beforetoggle",s),lt("toggle",s),Vr(s,"popover",m);break;case"xlinkActuate":Fe(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Fe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Fe(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Fe(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Fe(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Fe(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Vr(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ky.get(c)||c,Vr(s,c,m))}}function E0(s,o,c,m,v,_){switch(c){case"style":uf(s,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof m=="string"?hi(s,m):(typeof m=="number"||typeof m=="bigint")&&hi(s,""+m);break;case"onScroll":m!=null&&lt("scroll",s);break;case"onScrollEnd":m!=null&&lt("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Im);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tr.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),_=s[ye]||null,_=_!=null?_[c]:null,typeof _=="function"&&s.removeEventListener(o,_,v),typeof m=="function")){typeof _!="function"&&_!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,m,v);break e}c in s?s[c]=m:m===!0?s.setAttribute(c,""):Vr(s,c,m)}}}function er(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",s),lt("load",s);var m=!1,v=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var N=c[_];if(N!=null)switch(_){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:kt(s,o,_,N,c,null)}}v&&kt(s,o,"srcSet",c.srcSet,c,null),m&&kt(s,o,"src",c.src,c,null);return;case"input":lt("invalid",s);var k=_=N=v=null,F=null,Z=null;for(m in c)if(c.hasOwnProperty(m)){var le=c[m];if(le!=null)switch(m){case"name":v=le;break;case"type":N=le;break;case"checked":F=le;break;case"defaultChecked":Z=le;break;case"value":_=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:kt(s,o,m,le,c,null)}}Xo(s,_,k,F,Z,N,v,!1),hu(s);return;case"select":lt("invalid",s),m=N=_=null;for(v in c)if(c.hasOwnProperty(v)&&(k=c[v],k!=null))switch(v){case"value":_=k;break;case"defaultValue":N=k;break;case"multiple":m=k;default:kt(s,o,v,k,c,null)}o=_,c=N,s.multiple=!!m,o!=null?Ua(s,!!m,o,!1):c!=null&&Ua(s,!!m,c,!0);return;case"textarea":lt("invalid",s),_=v=m=null;for(N in c)if(c.hasOwnProperty(N)&&(k=c[N],k!=null))switch(N){case"value":m=k;break;case"defaultValue":v=k;break;case"children":_=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:kt(s,o,N,k,c,null)}Qo(s,m,v,_),hu(s);return;case"option":for(F in c)if(c.hasOwnProperty(F)&&(m=c[F],m!=null))switch(F){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:kt(s,o,F,m,c,null)}return;case"dialog":lt("beforetoggle",s),lt("toggle",s),lt("cancel",s),lt("close",s);break;case"iframe":case"object":lt("load",s);break;case"video":case"audio":for(m=0;m<Gf.length;m++)lt(Gf[m],s);break;case"image":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"embed":case"source":case"link":lt("error",s),lt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(m=c[Z],m!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:kt(s,o,Z,m,c,null)}return;default:if(cf(o)){for(le in c)c.hasOwnProperty(le)&&(m=c[le],m!==void 0&&E0(s,o,le,m,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(m=c[k],m!=null&&kt(s,o,k,m,c,null))}function CU(s,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,N=null,k=null,F=null,Z=null,le=null;for(ne in c){var ce=c[ne];if(c.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":F=ce;default:m.hasOwnProperty(ne)||kt(s,o,ne,null,m,ce)}}for(var te in m){var ne=m[te];if(ce=c[te],m.hasOwnProperty(te)&&(ne!=null||ce!=null))switch(te){case"type":_=ne;break;case"name":v=ne;break;case"checked":Z=ne;break;case"defaultChecked":le=ne;break;case"value":N=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:ne!==ce&&kt(s,o,te,ne,m,ce)}}$r(s,N,k,F,Z,le,_,v);return;case"select":ne=N=k=te=null;for(_ in c)if(F=c[_],c.hasOwnProperty(_)&&F!=null)switch(_){case"value":break;case"multiple":ne=F;default:m.hasOwnProperty(_)||kt(s,o,_,null,m,F)}for(v in m)if(_=m[v],F=c[v],m.hasOwnProperty(v)&&(_!=null||F!=null))switch(v){case"value":te=_;break;case"defaultValue":k=_;break;case"multiple":N=_;default:_!==F&&kt(s,o,v,_,m,F)}o=k,c=N,m=ne,te!=null?Ua(s,!!c,te,!1):!!m!=!!c&&(o!=null?Ua(s,!!c,o,!0):Ua(s,!!c,c?[]:"",!1));return;case"textarea":ne=te=null;for(k in c)if(v=c[k],c.hasOwnProperty(k)&&v!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:kt(s,o,k,null,m,v)}for(N in m)if(v=m[N],_=c[N],m.hasOwnProperty(N)&&(v!=null||_!=null))switch(N){case"value":te=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&kt(s,o,N,v,m,_)}Dt(s,te,ne);return;case"option":for(var We in c)if(te=c[We],c.hasOwnProperty(We)&&te!=null&&!m.hasOwnProperty(We))switch(We){case"selected":s.selected=!1;break;default:kt(s,o,We,null,m,te)}for(F in m)if(te=m[F],ne=c[F],m.hasOwnProperty(F)&&te!==ne&&(te!=null||ne!=null))switch(F){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:kt(s,o,F,te,m,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in c)te=c[qe],c.hasOwnProperty(qe)&&te!=null&&!m.hasOwnProperty(qe)&&kt(s,o,qe,null,m,te);for(Z in m)if(te=m[Z],ne=c[Z],m.hasOwnProperty(Z)&&te!==ne&&(te!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:kt(s,o,Z,te,m,ne)}return;default:if(cf(o)){for(var Mt in c)te=c[Mt],c.hasOwnProperty(Mt)&&te!==void 0&&!m.hasOwnProperty(Mt)&&E0(s,o,Mt,void 0,m,te);for(le in m)te=m[le],ne=c[le],!m.hasOwnProperty(le)||te===ne||te===void 0&&ne===void 0||E0(s,o,le,te,m,ne);return}}for(var Y in c)te=c[Y],c.hasOwnProperty(Y)&&te!=null&&!m.hasOwnProperty(Y)&&kt(s,o,Y,null,m,te);for(ce in m)te=m[ce],ne=c[ce],!m.hasOwnProperty(ce)||te===ne||te==null&&ne==null||kt(s,o,ce,te,m,ne)}var S0=null,T0=null;function km(s){return s.nodeType===9?s:s.ownerDocument}function GA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function WA(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function A0(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var O0=null;function RU(){var s=window.event;return s&&s.type==="popstate"?s===O0?!1:(O0=s,!0):(O0=null,!1)}var YA=typeof setTimeout=="function"?setTimeout:void 0,PU=typeof clearTimeout=="function"?clearTimeout:void 0,XA=typeof Promise=="function"?Promise:void 0,NU=typeof queueMicrotask=="function"?queueMicrotask:typeof XA<"u"?function(s){return XA.resolve(null).then(s).catch(jU)}:YA;function jU(s){setTimeout(function(){throw s})}function no(s){return s==="head"}function QA(s,o){var c=o,m=0,v=0;do{var _=c.nextSibling;if(s.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"){if(0<m&&8>m){c=m;var N=s.ownerDocument;if(c&1&&Yf(N.documentElement),c&2&&Yf(N.body),c&4)for(c=N.head,Yf(c),N=c.firstChild;N;){var k=N.nextSibling,F=N.nodeName;N[je]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&N.rel.toLowerCase()==="stylesheet"||c.removeChild(N),N=k}}if(v===0){s.removeChild(_),rh(o);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:m=c.charCodeAt(0)-48;else m=0;c=_}while(c);rh(o)}function C0(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":C0(c),Oe(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function DU(s,o,c,m){for(;s.nodeType===1;){var v=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[je])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=qi(s.nextSibling),s===null)break}return null}function IU(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=qi(s.nextSibling),s===null))return null;return s}function R0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function kU(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function qi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var P0=null;function JA(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function ZA(s,o,c){switch(o=km(c),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Yf(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Oe(s)}var xi=new Map,eO=new Set;function Mm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var rs=re.d;re.d={f:MU,r:LU,D:UU,C:VU,L:$U,m:BU,X:qU,S:zU,M:FU};function MU(){var s=rs.f(),o=Om();return s||o}function LU(s){var o=ht(s);o!==null&&o.tag===5&&o.type==="form"?_T(o):rs.r(s)}var Gu=typeof document>"u"?null:document;function tO(s,o,c){var m=Gu;if(m&&typeof o=="string"&&o){var v=pn(o);v='link[rel="'+s+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),eO.has(v)||(eO.add(v),s={rel:s,crossOrigin:c,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),er(o,"link",s),Ye(o),m.head.appendChild(o)))}}function UU(s){rs.D(s),tO("dns-prefetch",s,null)}function VU(s,o){rs.C(s,o),tO("preconnect",s,o)}function $U(s,o,c){rs.L(s,o,c);var m=Gu;if(m&&s&&o){var v='link[rel="preload"][as="'+pn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+pn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+pn(c.imageSizes)+'"]')):v+='[href="'+pn(s)+'"]';var _=v;switch(o){case"style":_=Wu(s);break;case"script":_=Yu(s)}xi.has(_)||(s=d({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),xi.set(_,s),m.querySelector(v)!==null||o==="style"&&m.querySelector(Xf(_))||o==="script"&&m.querySelector(Qf(_))||(o=m.createElement("link"),er(o,"link",s),Ye(o),m.head.appendChild(o)))}}function BU(s,o){rs.m(s,o);var c=Gu;if(c&&s){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+pn(m)+'"][href="'+pn(s)+'"]',_=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Yu(s)}if(!xi.has(_)&&(s=d({rel:"modulepreload",href:s},o),xi.set(_,s),c.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Qf(_)))return}m=c.createElement("link"),er(m,"link",s),Ye(m),c.head.appendChild(m)}}}function zU(s,o,c){rs.S(s,o,c);var m=Gu;if(m&&s){var v=wt(m).hoistableStyles,_=Wu(s);o=o||"default";var N=v.get(_);if(!N){var k={loading:0,preload:null};if(N=m.querySelector(Xf(_)))k.loading=5;else{s=d({rel:"stylesheet",href:s,"data-precedence":o},c),(c=xi.get(_))&&N0(s,c);var F=N=m.createElement("link");Ye(F),er(F,"link",s),F._p=new Promise(function(Z,le){F.onload=Z,F.onerror=le}),F.addEventListener("load",function(){k.loading|=1}),F.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Lm(N,o,m)}N={type:"stylesheet",instance:N,count:1,state:k},v.set(_,N)}}}function qU(s,o){rs.X(s,o);var c=Gu;if(c&&s){var m=wt(c).hoistableScripts,v=Yu(s),_=m.get(v);_||(_=c.querySelector(Qf(v)),_||(s=d({src:s,async:!0},o),(o=xi.get(v))&&j0(s,o),_=c.createElement("script"),Ye(_),er(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(v,_))}}function FU(s,o){rs.M(s,o);var c=Gu;if(c&&s){var m=wt(c).hoistableScripts,v=Yu(s),_=m.get(v);_||(_=c.querySelector(Qf(v)),_||(s=d({src:s,async:!0,type:"module"},o),(o=xi.get(v))&&j0(s,o),_=c.createElement("script"),Ye(_),er(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(v,_))}}function nO(s,o,c,m){var v=(v=Ve.current)?Mm(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Wu(c.href),c=wt(v).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Wu(c.href);var _=wt(v).hoistableStyles,N=_.get(s);if(N||(v=v.ownerDocument||v,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,N),(_=v.querySelector(Xf(s)))&&!_._p&&(N.instance=_,N.state.loading=5),xi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},xi.set(s,c),_||HU(v,s,c,N.state))),o&&m===null)throw Error(r(528,""));return N}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Yu(c),c=wt(v).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Wu(s){return'href="'+pn(s)+'"'}function Xf(s){return'link[rel="stylesheet"]['+s+"]"}function rO(s){return d({},s,{"data-precedence":s.precedence,precedence:null})}function HU(s,o,c,m){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=s.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),er(o,"link",c),Ye(o),s.head.appendChild(o))}function Yu(s){return'[src="'+pn(s)+'"]'}function Qf(s){return"script[async]"+s}function iO(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=s.querySelector('style[data-href~="'+pn(c.href)+'"]');if(m)return o.instance=m,Ye(m),m;var v=d({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),Ye(m),er(m,"style",v),Lm(m,c.precedence,s),o.instance=m;case"stylesheet":v=Wu(c.href);var _=s.querySelector(Xf(v));if(_)return o.state.loading|=4,o.instance=_,Ye(_),_;m=rO(c),(v=xi.get(v))&&N0(m,v),_=(s.ownerDocument||s).createElement("link"),Ye(_);var N=_;return N._p=new Promise(function(k,F){N.onload=k,N.onerror=F}),er(_,"link",m),o.state.loading|=4,Lm(_,c.precedence,s),o.instance=_;case"script":return _=Yu(c.src),(v=s.querySelector(Qf(_)))?(o.instance=v,Ye(v),v):(m=c,(v=xi.get(_))&&(m=d({},c),j0(m,v)),s=s.ownerDocument||s,v=s.createElement("script"),Ye(v),er(v,"link",m),s.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Lm(m,c.precedence,s));return o.instance}function Lm(s,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,_=v,N=0;N<m.length;N++){var k=m[N];if(k.dataset.precedence===o)_=k;else if(_!==v)break}_?_.parentNode.insertBefore(s,_.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function N0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function j0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Um=null;function aO(s,o,c){if(Um===null){var m=new Map,v=Um=new Map;v.set(c,m)}else v=Um,m=v.get(c),m||(m=new Map,v.set(c,m));if(m.has(s))return m;for(m.set(s,null),c=c.getElementsByTagName(s),v=0;v<c.length;v++){var _=c[v];if(!(_[je]||_[fe]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var N=_.getAttribute(o)||"";N=s+N;var k=m.get(N);k?k.push(_):m.set(N,[_])}}return m}function sO(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function KU(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function oO(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Jf=null;function GU(){}function WU(s,o,c){if(Jf===null)throw Error(r(475));var m=Jf;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=Wu(c.href),_=s.querySelector(Xf(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(m.count++,m=Vm.bind(m),s.then(m,m)),o.state.loading|=4,o.instance=_,Ye(_);return}_=s.ownerDocument||s,c=rO(c),(v=xi.get(v))&&N0(c,v),_=_.createElement("link"),Ye(_);var N=_;N._p=new Promise(function(k,F){N.onload=k,N.onerror=F}),er(_,"link",c),o.instance=_}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=Vm.bind(m),s.addEventListener("load",o),s.addEventListener("error",o))}}function YU(){if(Jf===null)throw Error(r(475));var s=Jf;return s.stylesheets&&s.count===0&&D0(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&D0(s,s.stylesheets),s.unsuspend){var m=s.unsuspend;s.unsuspend=null,m()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Vm(){if(this.count--,this.count===0){if(this.stylesheets)D0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var $m=null;function D0(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,$m=new Map,o.forEach(XU,s),$m=null,Vm.call(s))}function XU(s,o){if(!(o.state.loading&4)){var c=$m.get(s);if(c)var m=c.get(null);else{c=new Map,$m.set(s,c);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var N=v[_];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(c.set(N.dataset.precedence,N),m=N)}m&&c.set(null,m)}v=o.instance,N=v.getAttribute("data-precedence"),_=c.get(N)||m,_===m&&c.set(null,v),c.set(N,v),this.count++,m=Vm.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),_?_.parentNode.insertBefore(v,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),o.state.loading|=4}}var Zf={$$typeof:C,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function QU(s,o,c,m,v,_,N,k){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function lO(s,o,c,m,v,_,N,k,F,Z,le,ce){return s=new QU(s,o,c,N,k,F,Z,ce),o=1,_===!0&&(o|=24),_=zr(3,null,null,o),s.current=_,_.stateNode=s,o=mv(),o.refCount++,s.pooledCache=o,o.refCount++,_.memoizedState={element:m,isDehydrated:c,cache:o},vv(_),s}function uO(s){return s?(s=Au,s):Au}function cO(s,o,c,m,v,_){v=uO(v),m.context===null?m.context=v:m.pendingContext=v,m=qs(o),m.payload={element:c},_=_===void 0?null:_,_!==null&&(m.callback=_),c=Fs(s,m,o),c!==null&&(Gr(c,s,o),Rf(c,s,o))}function fO(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function I0(s,o){fO(s,o),(s=s.alternate)&&fO(s,o)}function hO(s){if(s.tag===13){var o=Tu(s,67108864);o!==null&&Gr(o,s,67108864),I0(s,67108864)}}var Bm=!0;function JU(s,o,c,m){var v=G.T;G.T=null;var _=re.p;try{re.p=2,k0(s,o,c,m)}finally{re.p=_,G.T=v}}function ZU(s,o,c,m){var v=G.T;G.T=null;var _=re.p;try{re.p=8,k0(s,o,c,m)}finally{re.p=_,G.T=v}}function k0(s,o,c,m){if(Bm){var v=M0(m);if(v===null)x0(s,o,m,zm,c),mO(s,m);else if(tV(v,s,o,c,m))m.stopPropagation();else if(mO(s,m),o&4&&-1<eV.indexOf(s)){for(;v!==null;){var _=ht(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var N=Lr(_.pendingLanes);if(N!==0){var k=_;for(k.pendingLanes|=2,k.entangledLanes|=2;N;){var F=1<<31-mn(N);k.entanglements[1]|=F,N&=~F}va(_),(Rt&6)===0&&(Tm=Zt()+500,Kf(0))}}break;case 13:k=Tu(_,2),k!==null&&Gr(k,_,2),Om(),I0(_,2)}if(_=M0(m),_===null&&x0(s,o,m,zm,c),_===v)break;v=_}v!==null&&m.stopPropagation()}else x0(s,o,m,null,c)}}function M0(s){return s=di(s),L0(s)}var zm=null;function L0(s){if(zm=null,s=Ze(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return zm=s,null}function dO(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rs()){case Go:return 2;case Ps:return 8;case ka:case Mi:return 32;case oi:return 268435456;default:return 32}default:return 32}}var U0=!1,ro=null,io=null,ao=null,eh=new Map,th=new Map,so=[],eV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mO(s,o){switch(s){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":eh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(o.pointerId)}}function nh(s,o,c,m,v,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:_,targetContainers:[v]},o!==null&&(o=ht(o),o!==null&&hO(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function tV(s,o,c,m,v){switch(o){case"focusin":return ro=nh(ro,s,o,c,m,v),!0;case"dragenter":return io=nh(io,s,o,c,m,v),!0;case"mouseover":return ao=nh(ao,s,o,c,m,v),!0;case"pointerover":var _=v.pointerId;return eh.set(_,nh(eh.get(_)||null,s,o,c,m,v)),!0;case"gotpointercapture":return _=v.pointerId,th.set(_,nh(th.get(_)||null,s,o,c,m,v)),!0}return!1}function pO(s){var o=Ze(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,X(s.priority,function(){if(c.tag===13){var m=Kr();m=sa(m);var v=Tu(c,m);v!==null&&Gr(v,c,m),I0(c,m)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function qm(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=M0(s.nativeEvent);if(c===null){c=s.nativeEvent;var m=new c.constructor(c.type,c);Va=m,c.target.dispatchEvent(m),Va=null}else return o=ht(c),o!==null&&hO(o),s.blockedOn=c,!1;o.shift()}return!0}function gO(s,o,c){qm(s)&&c.delete(o)}function nV(){U0=!1,ro!==null&&qm(ro)&&(ro=null),io!==null&&qm(io)&&(io=null),ao!==null&&qm(ao)&&(ao=null),eh.forEach(gO),th.forEach(gO)}function Fm(s,o){s.blockedOn===o&&(s.blockedOn=null,U0||(U0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nV)))}var Hm=null;function yO(s){Hm!==s&&(Hm=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Hm===s&&(Hm=null);for(var o=0;o<s.length;o+=3){var c=s[o],m=s[o+1],v=s[o+2];if(typeof m!="function"){if(L0(m||c)===null)continue;break}var _=ht(c);_!==null&&(s.splice(o,3),o-=3,Lv(_,{pending:!0,data:v,method:c.method,action:m},m,v))}}))}function rh(s){function o(F){return Fm(F,s)}ro!==null&&Fm(ro,s),io!==null&&Fm(io,s),ao!==null&&Fm(ao,s),eh.forEach(o),th.forEach(o);for(var c=0;c<so.length;c++){var m=so[c];m.blockedOn===s&&(m.blockedOn=null)}for(;0<so.length&&(c=so[0],c.blockedOn===null);)pO(c),c.blockedOn===null&&so.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var v=c[m],_=c[m+1],N=v[ye]||null;if(typeof _=="function")N||yO(c);else if(N){var k=null;if(_&&_.hasAttribute("formAction")){if(v=_,N=_[ye]||null)k=N.formAction;else if(L0(v)!==null)continue}else k=N.action;typeof k=="function"?c[m+1]=k:(c.splice(m,3),m-=3),yO(c)}}}function V0(s){this._internalRoot=s}Km.prototype.render=V0.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=Kr();cO(c,m,s,o,null,null)},Km.prototype.unmount=V0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;cO(s.current,2,null,s,null,null),Om(),o[Ee]=null}};function Km(s){this._internalRoot=s}Km.prototype.unstable_scheduleHydration=function(s){if(s){var o=K();s={blockedOn:null,target:s,priority:o};for(var c=0;c<so.length&&o!==0&&o<so[c].priority;c++);so.splice(c,0,s),c===0&&pO(s)}};var vO=e.version;if(vO!=="19.1.1")throw Error(r(527,vO,"19.1.1"));re.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(o),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var rV={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gm.isDisabled&&Gm.supportsFiber)try{_t=Gm.inject(rV),nt=Gm}catch{}}return ah.createRoot=function(s,o){if(!i(s))throw Error(r(299));var c=!1,m="",v=IT,_=kT,N=MT,k=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=lO(s,1,!1,null,null,c,m,v,_,N,k,null),s[Ee]=o.current,w0(s),new V0(o)},ah.hydrateRoot=function(s,o,c){if(!i(s))throw Error(r(299));var m=!1,v="",_=IT,N=kT,k=MT,F=null,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(F=c.unstable_transitionCallbacks),c.formState!==void 0&&(Z=c.formState)),o=lO(s,1,!0,o,c??null,m,v,_,N,k,F,Z),o.context=uO(null),c=o.current,m=Kr(),m=sa(m),v=qs(m),v.callback=null,Fs(c,v,m),c=m,o.current.lanes=c,Li(o,c),va(o),s[Ee]=o.current,w0(s),new Km(o)},ah.version="19.1.1",ah}var CO;function pV(){if(CO)return z0.exports;CO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),z0.exports=mV(),z0.exports}var gV=pV();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yj=t=>{throw TypeError(t)},yV=(t,e,n)=>e.has(t)||Yj("Cannot "+n),K0=(t,e,n)=>(yV(t,e,"read from private field"),n?n.call(t):e.get(t)),vV=(t,e,n)=>e.has(t)?Yj("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),RO="popstate";function bV(t={}){function e(i,a){let{pathname:l="/",search:u="",hash:f=""}=ws(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Lh("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=i.location.href,h=f.indexOf("#");u=h===-1?f:f.slice(0,h)}return u+"#"+(typeof a=="string"?a:Co(a))}function r(i,a){hn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return wV(e,n,r,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _V(){return Math.random().toString(36).substring(2,10)}function PO(t,e){return{usr:t.state,key:t.key,idx:e}}function Lh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ws(e):e,state:n,key:e&&e.key||r||_V()}}function Co({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ws(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function wV(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",f=null,h=d();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function d(){return(l.state||{idx:null}).idx}function p(){u="POP";let E=d(),A=E==null?null:E-h;h=E,f&&f({action:u,location:x.location,delta:A})}function y(E,A){u="PUSH";let P=Lh(x.location,E,A);n&&n(P,E),h=d()+1;let C=PO(P,h),V=x.createHref(P);try{l.pushState(C,"",V)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(V)}a&&f&&f({action:u,location:x.location,delta:1})}function b(E,A){u="REPLACE";let P=Lh(x.location,E,A);n&&n(P,E),h=d();let C=PO(P,h),V=x.createHref(P);l.replaceState(C,"",V),a&&f&&f({action:u,location:x.location,delta:0})}function w(E){return Xj(E)}let x={get action(){return u},get location(){return t(i,l)},listen(E){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(RO,p),f=E,()=>{i.removeEventListener(RO,p),f=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let A=w(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:b,go(E){return l.go(E)}};return x}function Xj(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Co(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var vh,NO=class{constructor(t){if(vV(this,vh,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(K0(this,vh).has(t))return K0(this,vh).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){K0(this,vh).set(t,e)}};vh=new WeakMap;var xV=new Set(["lazy","caseSensitive","path","id","index","children"]);function EV(t){return xV.has(t)}var SV=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function TV(t){return SV.has(t)}function AV(t){return t.index===!0}function Uh(t,e,n=[],r={},i=!1){return t.map((a,l)=>{let u=[...n,String(l)],f=typeof a.id=="string"?a.id:u.join("-");if(ut(a.index!==!0||!a.children,"Cannot specify children on an index route"),ut(i||!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),AV(a)){let h={...a,...e(a),id:f};return r[f]=h,h}else{let h={...a,...e(a),id:f,children:void 0};return r[f]=h,a.children&&(h.children=Uh(a.children,e,u,r,i)),h}})}function go(t,e,n="/"){return _p(t,e,n,!1)}function _p(t,e,n,r){let i=typeof e=="string"?ws(e):e,a=ji(i.pathname||"/",n);if(a==null)return null;let l=Qj(t);CV(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=VV(a);u=LV(l[f],h,r)}return u}function OV(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function Qj(t,e=[],n=[],r="",i=!1){let a=(l,u,f=i,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&f)return;ut(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let p=xa([r,d.relativePath]),y=n.concat(d);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Qj(l.children,e,y,p,f)),!(l.path==null&&!l.index)&&e.push({path:p,score:kV(p,l.index),routesMeta:y})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let f of Jj(l.path))a(l,u,!0,f)}),e}function Jj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Jj(r.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...l),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function CV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var RV=/^:[\w-]+$/,PV=3,NV=2,jV=1,DV=10,IV=-2,jO=t=>t==="*";function kV(t,e){let n=t.split("/"),r=n.length;return n.some(jO)&&(r+=IV),e&&(r+=NV),n.filter(i=>!jO(i)).reduce((i,a)=>i+(RV.test(a)?PV:a===""?jV:DV),r)}function MV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function LV(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",p=jp({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},d),y=f.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=jp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:xa([a,p.pathname]),pathnameBase:qV(xa([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=xa([a,p.pathnameBase]))}return l}function jp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:p},y)=>{if(d==="*"){let w=u[y]||"";l=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=u[y];return p&&!b?h[d]=void 0:h[d]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function UV(t,e=!1,n=!0){hn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function VV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ji(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $V({basename:t,pathname:e}){return e==="/"?t:xa([t,e])}function BV(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ws(t):t;return{pathname:n?n.startsWith("/")?n:zV(n,e):e,search:FV(r),hash:HV(i)}}function zV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function G0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cx(t){let e=Zj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Rx(t,e,n,r=!1){let i;typeof t=="string"?i=ws(t):(i={...t},ut(!i.pathname||!i.pathname.includes("?"),G0("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),G0("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),G0("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}u=p>=0?e[p]:"/"}let f=BV(i,u),h=l&&l!=="/"&&l.endsWith("/"),d=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||d)&&(f.pathname+="/"),f}var xa=t=>t.join("/").replace(/\/\/+/g,"/"),qV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Dp=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Vh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var eD=["POST","PUT","PATCH","DELETE"],KV=new Set(eD),GV=["GET",...eD],WV=new Set(GV),YV=new Set([301,302,303,307,308]),XV=new Set([307,308]),W0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},QV={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},JV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Px=t=>JV.test(t),ZV=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),tD="remix-router-transitions",nD=Symbol("ResetLoaderData");function e5(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ut(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||ZV,a={},l=Uh(t.routes,i,void 0,a),u,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let h=t.dataStrategy||a5,d={...t.future},p=null,y=new Set,b=null,w=null,x=null,E=t.hydrationData!=null,A=go(l,t.history.location,f),P=!1,C=null,V;if(A==null&&!t.patchRoutesOnNavigation){let K=Oi(404,{pathname:t.history.location.pathname}),{matches:X,route:ee}=Wm(l);V=!0,A=X,C={[ee.id]:K}}else if(A&&!t.hydrationData&&vr(A,l,t.history.location.pathname).active&&(A=null),A)if(A.some(K=>K.route.lazy))V=!1;else if(!A.some(K=>K.route.loader))V=!0;else{let K=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null;if(X){let ee=A.findIndex(fe=>X[fe.route.id]!==void 0);V=A.slice(0,ee+1).every(fe=>!J_(fe.route,K,X))}else V=A.every(ee=>!J_(ee.route,K,X))}else{V=!1,A=[];let K=vr(null,l,t.history.location.pathname);K.active&&K.matches&&(P=!0,A=K.matches)}let L,D={historyAction:t.history.action,location:t.history.location,matches:A,initialized:V,navigation:W0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},j="POP",I=!1,M,U=!1,z=new Map,q=null,$=!1,ve=!1,we=new Set,G=new Map,re=0,pe=-1,xe=new Map,H=new Set,oe=new Map,ie=new Map,me=new Set,Ae=new Map,Ue,Ve=null;function nn(){if(p=t.history.listen(({action:K,location:X,delta:ee})=>{if(Ue){Ue(),Ue=void 0;return}hn(Ae.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=Ds({currentLocation:D.location,nextLocation:X,historyAction:K});if(fe&&ee!=null){let ye=new Promise(Ee=>{Ue=Ee});t.history.go(ee*-1),ui(fe,{state:"blocked",location:X,proceed(){ui(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),ye.then(()=>t.history.go(ee))},reset(){let Ee=new Map(D.blockers);Ee.set(fe,sh),De({blockers:Ee})}});return}return et(K,X)}),n){_5(e,z);let K=()=>w5(e,z);e.addEventListener("pagehide",K),q=()=>e.removeEventListener("pagehide",K)}return D.initialized||et("POP",D.location,{initialHydration:!0}),L}function Tt(){p&&p(),q&&q(),y.clear(),M&&M.abort(),D.fetchers.forEach((K,X)=>mn(X)),D.blockers.forEach((K,X)=>Ma(X))}function _e(K){return y.add(K),()=>y.delete(K)}function De(K,X={}){K.matches&&(K.matches=K.matches.map(ye=>{let Ee=a[ye.route.id],Ie=ye.route;return Ie.element!==Ee.element||Ie.errorElement!==Ee.errorElement||Ie.hydrateFallbackElement!==Ee.hydrateFallbackElement?{...ye,route:Ee}:ye})),D={...D,...K};let ee=[],fe=[];D.fetchers.forEach((ye,Ee)=>{ye.state==="idle"&&(me.has(Ee)?ee.push(Ee):fe.push(Ee))}),me.forEach(ye=>{!D.fetchers.has(ye)&&!G.has(ye)&&ee.push(ye)}),[...y].forEach(ye=>ye(D,{deletedFetchers:ee,viewTransitionOpts:X.viewTransitionOpts,flushSync:X.flushSync===!0})),ee.forEach(ye=>mn(ye)),fe.forEach(ye=>D.fetchers.delete(ye))}function Ke(K,X,{flushSync:ee}={}){let fe=D.actionData!=null&&D.navigation.formMethod!=null&&jr(D.navigation.formMethod)&&D.navigation.state==="loading"&&K.state?._isRedirect!==!0,ye;X.actionData?Object.keys(X.actionData).length>0?ye=X.actionData:ye=null:fe?ye=D.actionData:ye=null;let Ee=X.loaderData?zO(D.loaderData,X.loaderData,X.matches||[],X.errors):D.loaderData,Ie=D.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((je,Oe)=>Ie.set(Oe,sh)));let Pe=$?!1:Is(K,X.matches||D.matches),Ne=I===!0||D.navigation.formMethod!=null&&jr(D.navigation.formMethod)&&K.state?._isRedirect!==!0;u&&(l=u,u=void 0),$||j==="POP"||(j==="PUSH"?t.history.push(K,K.state):j==="REPLACE"&&t.history.replace(K,K.state));let $e;if(j==="POP"){let je=z.get(D.location.pathname);je&&je.has(K.pathname)?$e={currentLocation:D.location,nextLocation:K}:z.has(K.pathname)&&($e={currentLocation:K,nextLocation:D.location})}else if(U){let je=z.get(D.location.pathname);je?je.add(K.pathname):(je=new Set([K.pathname]),z.set(D.location.pathname,je)),$e={currentLocation:D.location,nextLocation:K}}De({...X,actionData:ye,loaderData:Ee,historyAction:j,location:K,initialized:!0,navigation:W0,revalidation:"idle",restoreScrollPosition:Pe,preventScrollReset:Ne,blockers:Ie},{viewTransitionOpts:$e,flushSync:ee===!0}),j="POP",I=!1,U=!1,$=!1,ve=!1,Ve?.resolve(),Ve=null}async function ge(K,X){if(typeof K=="number"){t.history.go(K);return}let ee=Q_(D.location,D.matches,f,K,X?.fromRouteId,X?.relative),{path:fe,submission:ye,error:Ee}=DO(!1,ee,X),Ie=D.location,Pe=Lh(D.location,fe,X&&X.state);Pe={...Pe,...t.history.encodeLocation(Pe)};let Ne=X&&X.replace!=null?X.replace:void 0,$e="PUSH";Ne===!0?$e="REPLACE":Ne===!1||ye!=null&&jr(ye.formMethod)&&ye.formAction===D.location.pathname+D.location.search&&($e="REPLACE");let je=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Oe=(X&&X.flushSync)===!0,Ze=Ds({currentLocation:Ie,nextLocation:Pe,historyAction:$e});if(Ze){ui(Ze,{state:"blocked",location:Pe,proceed(){ui(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),ge(K,X)},reset(){let ht=new Map(D.blockers);ht.set(Ze,sh),De({blockers:ht})}});return}await et($e,Pe,{submission:ye,pendingError:Ee,preventScrollReset:je,replace:X&&X.replace,enableViewTransition:X&&X.viewTransition,flushSync:Oe})}function Yt(){Ve||(Ve=x5()),js(),De({revalidation:"loading"});let K=Ve.promise;return D.navigation.state==="submitting"?K:D.navigation.state==="idle"?(et(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),K):(et(j||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:U===!0}),K)}async function et(K,X,ee){M&&M.abort(),M=null,j=K,$=(ee&&ee.startUninterruptedRevalidation)===!0,Li(D.location,D.matches),I=(ee&&ee.preventScrollReset)===!0,U=(ee&&ee.enableViewTransition)===!0;let fe=u||l,ye=ee&&ee.overrideNavigation,Ee=ee?.initialHydration&&D.matches&&D.matches.length>0&&!P?D.matches:go(fe,X,f),Ie=(ee&&ee.flushSync)===!0;if(Ee&&D.initialized&&!ve&&d5(D.location,X)&&!(ee&&ee.submission&&jr(ee.submission.formMethod))){Ke(X,{matches:Ee},{flushSync:Ie});return}let Pe=vr(Ee,fe,X.pathname);if(Pe.active&&Pe.matches&&(Ee=Pe.matches),!Ee){let{error:wt,notFoundMatches:Ye,route:xt}=La(X.pathname);Ke(X,{matches:Ye,loaderData:{},errors:{[xt.id]:wt}},{flushSync:Ie});return}M=new AbortController;let Ne=lc(t.history,X,M.signal,ee&&ee.submission),$e=t.unstable_getContext?await t.unstable_getContext():new NO,je;if(ee&&ee.pendingError)je=[yo(Ee).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&jr(ee.submission.formMethod)){let wt=await ln(Ne,X,ee.submission,Ee,$e,Pe.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:Ie});if(wt.shortCircuited)return;if(wt.pendingActionResult){let[Ye,xt]=wt.pendingActionResult;if(Qr(xt)&&Vh(xt.error)&&xt.error.status===404){M=null,Ke(X,{matches:wt.matches,loaderData:{},errors:{[Ye]:xt.error}});return}}Ee=wt.matches||Ee,je=wt.pendingActionResult,ye=Y0(X,ee.submission),Ie=!1,Pe.active=!1,Ne=lc(t.history,Ne.url,Ne.signal)}let{shortCircuited:Oe,matches:Ze,loaderData:ht,errors:Ct}=await dn(Ne,X,Ee,$e,Pe.active,ye,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,Ie,je);Oe||(M=null,Ke(X,{matches:Ze||Ee,...qO(je),loaderData:ht,errors:Ct}))}async function ln(K,X,ee,fe,ye,Ee,Ie,Pe={}){js();let Ne=v5(X,ee);if(De({navigation:Ne},{flushSync:Pe.flushSync===!0}),Ee){let Oe=await aa(fe,X.pathname,K.signal);if(Oe.type==="aborted")return{shortCircuited:!0};if(Oe.type==="error"){if(Oe.partialMatches.length===0){let{matches:ht,route:Ct}=Wm(l);return{matches:ht,pendingActionResult:[Ct.id,{type:"error",error:Oe.error}]}}let Ze=yo(Oe.partialMatches).route.id;return{matches:Oe.partialMatches,pendingActionResult:[Ze,{type:"error",error:Oe.error}]}}else if(Oe.matches)fe=Oe.matches;else{let{notFoundMatches:Ze,error:ht,route:Ct}=La(X.pathname);return{matches:Ze,pendingActionResult:[Ct.id,{type:"error",error:ht}]}}}let $e,je=wp(fe,X);if(!je.route.action&&!je.route.lazy)$e={type:"error",error:Oi(405,{method:K.method,pathname:X.pathname,routeId:je.route.id})};else{let Oe=vc(i,a,K,fe,je,Ie?[]:r,ye),Ze=await oi(K,Oe,ye,null);if($e=Ze[je.route.id],!$e){for(let ht of fe)if(Ze[ht.route.id]){$e=Ze[ht.route.id];break}}if(K.signal.aborted)return{shortCircuited:!0}}if(Nl($e)){let Oe;return Pe&&Pe.replace!=null?Oe=Pe.replace:Oe=VO($e.response.headers.get("Location"),new URL(K.url),f)===D.location.pathname+D.location.search,await Mi(K,$e,!0,{submission:ee,replace:Oe}),{shortCircuited:!0}}if(Qr($e)){let Oe=yo(fe,je.route.id);return(Pe&&Pe.replace)!==!0&&(j="PUSH"),{matches:fe,pendingActionResult:[Oe.route.id,$e,je.route.id]}}return{matches:fe,pendingActionResult:[je.route.id,$e]}}async function dn(K,X,ee,fe,ye,Ee,Ie,Pe,Ne,$e,je,Oe){let Ze=Ee||Y0(X,Ie),ht=Ie||Pe||HO(Ze),Ct=!$&&!$e;if(ye){if(Ct){let Xt=Zt(Oe);De({navigation:Ze,...Xt!==void 0?{actionData:Xt}:{}},{flushSync:je})}let Fe=await aa(ee,X.pathname,K.signal);if(Fe.type==="aborted")return{shortCircuited:!0};if(Fe.type==="error"){if(Fe.partialMatches.length===0){let{matches:Ui,route:Xn}=Wm(l);return{matches:Ui,loaderData:{},errors:{[Xn.id]:Fe.error}}}let Xt=yo(Fe.partialMatches).route.id;return{matches:Fe.partialMatches,loaderData:{},errors:{[Xt]:Fe.error}}}else if(Fe.matches)ee=Fe.matches;else{let{error:Xt,notFoundMatches:Ui,route:Xn}=La(X.pathname);return{matches:Ui,loaderData:{},errors:{[Xn.id]:Xt}}}}let wt=u||l,{dsMatches:Ye,revalidatingFetchers:xt}=IO(K,fe,i,a,t.history,D,ee,ht,X,$e?[]:r,$e===!0,ve,we,me,oe,H,wt,f,t.patchRoutesOnNavigation!=null,Oe);if(pe=++re,!t.dataStrategy&&!Ye.some(Fe=>Fe.shouldLoad)&&!Ye.some(Fe=>Fe.route.unstable_middleware)&&xt.length===0){let Fe=ra();return Ke(X,{matches:ee,loaderData:{},errors:Oe&&Qr(Oe[1])?{[Oe[0]]:Oe[1].error}:null,...qO(Oe),...Fe?{fetchers:new Map(D.fetchers)}:{}},{flushSync:je}),{shortCircuited:!0}}if(Ct){let Fe={};if(!ye){Fe.navigation=Ze;let Xt=Zt(Oe);Xt!==void 0&&(Fe.actionData=Xt)}xt.length>0&&(Fe.fetchers=Rs(xt)),De(Fe,{flushSync:je})}xt.forEach(Fe=>{li(Fe.key),Fe.controller&&G.set(Fe.key,Fe.controller)});let Tr=()=>xt.forEach(Fe=>li(Fe.key));M&&M.signal.addEventListener("abort",Tr);let{loaderResults:Yn,fetcherResults:Ln}=await Ns(Ye,xt,K,fe);if(K.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Tr),xt.forEach(Fe=>G.delete(Fe.key));let br=Ym(Yn);if(br)return await Mi(K,br.result,!0,{replace:Ne}),{shortCircuited:!0};if(br=Ym(Ln),br)return H.add(br.key),await Mi(K,br.result,!0,{replace:Ne}),{shortCircuited:!0};let{loaderData:Ms,errors:Ur}=BO(D,ee,Yn,Oe,xt,Ln);$e&&D.errors&&(Ur={...D.errors,...Ur});let fi=ra(),Vr=ia(pe),_r=fi||Vr||xt.length>0;return{matches:ee,loaderData:Ms,errors:Ur,..._r?{fetchers:new Map(D.fetchers)}:{}}}function Zt(K){if(K&&!Qr(K[1]))return{[K[0]]:K[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function Rs(K){return K.forEach(X=>{let ee=D.fetchers.get(X.key),fe=oh(void 0,ee?ee.data:void 0);D.fetchers.set(X.key,fe)}),new Map(D.fetchers)}async function Go(K,X,ee,fe){li(K);let ye=(fe&&fe.flushSync)===!0,Ee=u||l,Ie=Q_(D.location,D.matches,f,ee,X,fe?.relative),Pe=go(Ee,Ie,f),Ne=vr(Pe,Ee,Ie);if(Ne.active&&Ne.matches&&(Pe=Ne.matches),!Pe){nt(K,X,Oi(404,{pathname:Ie}),{flushSync:ye});return}let{path:$e,submission:je,error:Oe}=DO(!0,Ie,fe);if(Oe){nt(K,X,Oe,{flushSync:ye});return}let Ze=t.unstable_getContext?await t.unstable_getContext():new NO,ht=(fe&&fe.preventScrollReset)===!0;if(je&&jr(je.formMethod)){await Ps(K,X,$e,Pe,Ze,Ne.active,ye,ht,je);return}oe.set(K,{routeId:X,path:$e}),await ka(K,X,$e,Pe,Ze,Ne.active,ye,ht,je)}async function Ps(K,X,ee,fe,ye,Ee,Ie,Pe,Ne){js(),oe.delete(K);let $e=D.fetchers.get(K);_t(K,b5(Ne,$e),{flushSync:Ie});let je=new AbortController,Oe=lc(t.history,ee,je.signal,Ne);if(Ee){let $t=await aa(fe,new URL(Oe.url).pathname,Oe.signal,K);if($t.type==="aborted")return;if($t.type==="error"){nt(K,X,$t.error,{flushSync:Ie});return}else if($t.matches)fe=$t.matches;else{nt(K,X,Oi(404,{pathname:ee}),{flushSync:Ie});return}}let Ze=wp(fe,ee);if(!Ze.route.action&&!Ze.route.lazy){let $t=Oi(405,{method:Ne.formMethod,pathname:ee,routeId:X});nt(K,X,$t,{flushSync:Ie});return}G.set(K,je);let ht=re,Ct=vc(i,a,Oe,fe,Ze,r,ye),Ye=(await oi(Oe,Ct,ye,K))[Ze.route.id];if(Oe.signal.aborted){G.get(K)===je&&G.delete(K);return}if(me.has(K)){if(Nl(Ye)||Qr(Ye)){_t(K,fo(void 0));return}}else{if(Nl(Ye))if(G.delete(K),pe>ht){_t(K,fo(void 0));return}else return H.add(K),_t(K,oh(Ne)),Mi(Oe,Ye,!1,{fetcherSubmission:Ne,preventScrollReset:Pe});if(Qr(Ye)){nt(K,X,Ye.error);return}}let xt=D.navigation.location||D.location,Tr=lc(t.history,xt,je.signal),Yn=u||l,Ln=D.navigation.state!=="idle"?go(Yn,D.navigation.location,f):D.matches;ut(Ln,"Didn't find any matches after fetcher action");let br=++re;xe.set(K,br);let Ms=oh(Ne,Ye.data);D.fetchers.set(K,Ms);let{dsMatches:Ur,revalidatingFetchers:fi}=IO(Tr,ye,i,a,t.history,D,Ln,Ne,xt,r,!1,ve,we,me,oe,H,Yn,f,t.patchRoutesOnNavigation!=null,[Ze.route.id,Ye]);fi.filter($t=>$t.key!==K).forEach($t=>{let Vi=$t.key,Ls=D.fetchers.get(Vi),Us=oh(void 0,Ls?Ls.data:void 0);D.fetchers.set(Vi,Us),li(Vi),$t.controller&&G.set(Vi,$t.controller)}),De({fetchers:new Map(D.fetchers)});let Vr=()=>fi.forEach($t=>li($t.key));je.signal.addEventListener("abort",Vr);let{loaderResults:_r,fetcherResults:Fe}=await Ns(Ur,fi,Tr,ye);if(je.signal.aborted)return;if(je.signal.removeEventListener("abort",Vr),xe.delete(K),G.delete(K),fi.forEach($t=>G.delete($t.key)),D.fetchers.has(K)){let $t=fo(Ye.data);D.fetchers.set(K,$t)}let Xt=Ym(_r);if(Xt)return Mi(Tr,Xt.result,!1,{preventScrollReset:Pe});if(Xt=Ym(Fe),Xt)return H.add(Xt.key),Mi(Tr,Xt.result,!1,{preventScrollReset:Pe});let{loaderData:Ui,errors:Xn}=BO(D,Ln,_r,void 0,fi,Fe);ia(br),D.navigation.state==="loading"&&br>pe?(ut(j,"Expected pending action"),M&&M.abort(),Ke(D.navigation.location,{matches:Ln,loaderData:Ui,errors:Xn,fetchers:new Map(D.fetchers)})):(De({errors:Xn,loaderData:zO(D.loaderData,Ui,Ln,Xn),fetchers:new Map(D.fetchers)}),ve=!1)}async function ka(K,X,ee,fe,ye,Ee,Ie,Pe,Ne){let $e=D.fetchers.get(K);_t(K,oh(Ne,$e?$e.data:void 0),{flushSync:Ie});let je=new AbortController,Oe=lc(t.history,ee,je.signal);if(Ee){let xt=await aa(fe,new URL(Oe.url).pathname,Oe.signal,K);if(xt.type==="aborted")return;if(xt.type==="error"){nt(K,X,xt.error,{flushSync:Ie});return}else if(xt.matches)fe=xt.matches;else{nt(K,X,Oi(404,{pathname:ee}),{flushSync:Ie});return}}let Ze=wp(fe,ee);G.set(K,je);let ht=re,Ct=vc(i,a,Oe,fe,Ze,r,ye),Ye=(await oi(Oe,Ct,ye,K))[Ze.route.id];if(G.get(K)===je&&G.delete(K),!Oe.signal.aborted){if(me.has(K)){_t(K,fo(void 0));return}if(Nl(Ye))if(pe>ht){_t(K,fo(void 0));return}else{H.add(K),await Mi(Oe,Ye,!1,{preventScrollReset:Pe});return}if(Qr(Ye)){nt(K,X,Ye.error);return}_t(K,fo(Ye.data))}}async function Mi(K,X,ee,{submission:fe,fetcherSubmission:ye,preventScrollReset:Ee,replace:Ie}={}){X.response.headers.has("X-Remix-Revalidate")&&(ve=!0);let Pe=X.response.headers.get("Location");ut(Pe,"Expected a Location header on the redirect Response"),Pe=VO(Pe,new URL(K.url),f);let Ne=Lh(D.location,Pe,{_isRedirect:!0});if(n){let Ct=!1;if(X.response.headers.has("X-Remix-Reload-Document"))Ct=!0;else if(Px(Pe)){const wt=Xj(Pe,!0);Ct=wt.origin!==e.location.origin||ji(wt.pathname,f)==null}if(Ct){Ie?e.location.replace(Pe):e.location.assign(Pe);return}}M=null;let $e=Ie===!0||X.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:je,formAction:Oe,formEncType:Ze}=D.navigation;!fe&&!ye&&je&&Oe&&Ze&&(fe=HO(D.navigation));let ht=fe||ye;if(XV.has(X.response.status)&&ht&&jr(ht.formMethod))await et($e,Ne,{submission:{...ht,formAction:Pe},preventScrollReset:Ee||I,enableViewTransition:ee?U:void 0});else{let Ct=Y0(Ne,fe);await et($e,Ne,{overrideNavigation:Ct,fetcherSubmission:ye,preventScrollReset:Ee||I,enableViewTransition:ee?U:void 0})}}async function oi(K,X,ee,fe){let ye,Ee={};try{ye=await o5(h,K,X,fe,ee,!1)}catch(Ie){return X.filter(Pe=>Pe.shouldLoad).forEach(Pe=>{Ee[Pe.route.id]={type:"error",error:Ie}}),Ee}if(K.signal.aborted)return Ee;for(let[Ie,Pe]of Object.entries(ye))if(g5(Pe)){let Ne=Pe.result;Ee[Ie]={type:"redirect",response:f5(Ne,K,Ie,X,f)}}else Ee[Ie]=await c5(Pe);return Ee}async function Ns(K,X,ee,fe){let ye=oi(ee,K,fe,null),Ee=Promise.all(X.map(async Ne=>{if(Ne.matches&&Ne.match&&Ne.request&&Ne.controller){let je=(await oi(Ne.request,Ne.matches,fe,Ne.key))[Ne.match.route.id];return{[Ne.key]:je}}else return Promise.resolve({[Ne.key]:{type:"error",error:Oi(404,{pathname:Ne.path})}})})),Ie=await ye,Pe=(await Ee).reduce((Ne,$e)=>Object.assign(Ne,$e),{});return{loaderResults:Ie,fetcherResults:Pe}}function js(){ve=!0,oe.forEach((K,X)=>{G.has(X)&&we.add(X),li(X)})}function _t(K,X,ee={}){D.fetchers.set(K,X),De({fetchers:new Map(D.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function nt(K,X,ee,fe={}){let ye=yo(D.matches,X);mn(K),De({errors:{[ye.route.id]:ee},fetchers:new Map(D.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function or(K){return ie.set(K,(ie.get(K)||0)+1),me.has(K)&&me.delete(K),D.fetchers.get(K)||QV}function mn(K){let X=D.fetchers.get(K);G.has(K)&&!(X&&X.state==="loading"&&xe.has(K))&&li(K),oe.delete(K),xe.delete(K),H.delete(K),me.delete(K),we.delete(K),D.fetchers.delete(K)}function fu(K){let X=(ie.get(K)||0)-1;X<=0?(ie.delete(K),me.add(K)):ie.set(K,X),De({fetchers:new Map(D.fetchers)})}function li(K){let X=G.get(K);X&&(X.abort(),G.delete(K))}function na(K){for(let X of K){let ee=or(X),fe=fo(ee.data);D.fetchers.set(X,fe)}}function ra(){let K=[],X=!1;for(let ee of H){let fe=D.fetchers.get(ee);ut(fe,`Expected fetcher: ${ee}`),fe.state==="loading"&&(H.delete(ee),K.push(ee),X=!0)}return na(K),X}function ia(K){let X=[];for(let[ee,fe]of xe)if(fe<K){let ye=D.fetchers.get(ee);ut(ye,`Expected fetcher: ${ee}`),ye.state==="loading"&&(li(ee),xe.delete(ee),X.push(ee))}return na(X),X.length>0}function Lr(K,X){let ee=D.blockers.get(K)||sh;return Ae.get(K)!==X&&Ae.set(K,X),ee}function Ma(K){D.blockers.delete(K),Ae.delete(K)}function ui(K,X){let ee=D.blockers.get(K)||sh;ut(ee.state==="unblocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="proceeding"||ee.state==="blocked"&&X.state==="unblocked"||ee.state==="proceeding"&&X.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${X.state}`);let fe=new Map(D.blockers);fe.set(K,X),De({blockers:fe})}function Ds({currentLocation:K,nextLocation:X,historyAction:ee}){if(Ae.size===0)return;Ae.size>1&&hn(!1,"A router only supports one blocker at a time");let fe=Array.from(Ae.entries()),[ye,Ee]=fe[fe.length-1],Ie=D.blockers.get(ye);if(!(Ie&&Ie.state==="proceeding")&&Ee({currentLocation:K,nextLocation:X,historyAction:ee}))return ye}function La(K){let X=Oi(404,{pathname:K}),ee=u||l,{matches:fe,route:ye}=Wm(ee);return{notFoundMatches:fe,route:ye,error:X}}function Wo(K,X,ee){if(b=K,x=X,w=ee||null,!E&&D.navigation===W0){E=!0;let fe=Is(D.location,D.matches);fe!=null&&De({restoreScrollPosition:fe})}return()=>{b=null,x=null,w=null}}function ci(K,X){return w&&w(K,X.map(fe=>OV(fe,D.loaderData)))||K.key}function Li(K,X){if(b&&x){let ee=ci(K,X);b[ee]=x()}}function Is(K,X){if(b){let ee=ci(K,X),fe=b[ee];if(typeof fe=="number")return fe}return null}function vr(K,X,ee){if(t.patchRoutesOnNavigation)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:_p(X,ee,f,!0)}}else return{active:!0,matches:_p(X,ee,f,!0)||[]};return{active:!1,matches:null}}async function aa(K,X,ee,fe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:K};let ye=K;for(;;){let Ee=u==null,Ie=u||l,Pe=a;try{await t.patchRoutesOnNavigation({signal:ee,path:X,matches:ye,fetcherKey:fe,patch:(je,Oe)=>{ee.aborted||kO(je,Oe,Ie,Pe,i,!1)}})}catch(je){return{type:"error",error:je,partialMatches:ye}}finally{Ee&&!ee.aborted&&(l=[...l])}if(ee.aborted)return{type:"aborted"};let Ne=go(Ie,X,f);if(Ne)return{type:"success",matches:Ne};let $e=_p(Ie,X,f,!0);if(!$e||ye.length===$e.length&&ye.every((je,Oe)=>je.route.id===$e[Oe].route.id))return{type:"success",matches:null};ye=$e}}function sa(K){a={},u=Uh(K,i,void 0,a)}function ks(K,X,ee=!1){let fe=u==null;kO(K,X,u||l,a,i,ee),fe&&(l=[...l],De({}))}return L={get basename(){return f},get future(){return d},get state(){return D},get routes(){return l},get window(){return e},initialize:nn,subscribe:_e,enableScrollRestoration:Wo,navigate:ge,fetch:Go,revalidate:Yt,createHref:K=>t.history.createHref(K),encodeLocation:K=>t.history.encodeLocation(K),getFetcher:or,deleteFetcher:fu,dispose:Tt,getBlocker:Lr,deleteBlocker:Ma,patchRoutes:ks,_internalFetchControllers:G,_internalSetRoutes:sa,_internalSetStateDoNotUseOrYouWillBreakYourApp(K){De(K)}},L}function t5(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Q_(t,e,n,r,i,a){let l,u;if(i){l=[];for(let h of e)if(l.push(h),h.route.id===i){u=h;break}}else l=e,u=e[e.length-1];let f=Rx(r||".",Cx(l),ji(t.pathname,n)||t.pathname,a==="path");if(r==null&&(f.search=t.search,f.hash=t.hash),(r==null||r===""||r===".")&&u){let h=Nx(f.search);if(u.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let d=new URLSearchParams(f.search),p=d.getAll("index");d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let y=d.toString();f.search=y?`?${y}`:""}}return n!=="/"&&(f.pathname=$V({basename:n,pathname:f.pathname})),Co(f)}function DO(t,e,n){if(!n||!t5(n))return{path:e};if(n.formMethod&&!y5(n.formMethod))return{path:e,error:Oi(405,{method:n.formMethod})};let r=()=>({path:e,error:Oi(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),l=lD(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!jr(a))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[b,w])=>`${y}${b}=${w}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!jr(a))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}ut(typeof FormData=="function","FormData is not available in this environment");let u,f;if(n.formData)u=ew(n.formData),f=n.formData;else if(n.body instanceof FormData)u=ew(n.body),f=n.body;else if(n.body instanceof URLSearchParams)u=n.body,f=$O(u);else if(n.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(n.body),f=$O(u)}catch{return r()}let h={formMethod:a,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(jr(h.formMethod))return{path:e,submission:h};let d=ws(e);return t&&d.search&&Nx(d.search)&&u.append("index",""),d.search=`?${u}`,{path:Co(d),submission:h}}function IO(t,e,n,r,i,a,l,u,f,h,d,p,y,b,w,x,E,A,P,C){let V=C?Qr(C[1])?C[1].error:C[1].data:void 0,L=i.createURL(a.location),D=i.createURL(f),j;if(d&&a.errors){let $=Object.keys(a.errors)[0];j=l.findIndex(ve=>ve.route.id===$)}else if(C&&Qr(C[1])){let $=C[0];j=l.findIndex(ve=>ve.route.id===$)-1}let I=C?C[1].statusCode:void 0,M=I&&I>=400,U={currentUrl:L,currentParams:a.matches[0]?.params||{},nextUrl:D,nextParams:l[0].params,...u,actionResult:V,actionStatus:I},z=l.map(($,ve)=>{let{route:we}=$,G=null;if(j!=null&&ve>j?G=!1:we.lazy?G=!0:we.loader==null?G=!1:d?G=J_(we,a.loaderData,a.errors):n5(a.loaderData,a.matches[ve],$)&&(G=!0),G!==null)return Z_(n,r,t,$,h,e,G);let re=M?!1:p||L.pathname+L.search===D.pathname+D.search||L.search!==D.search||r5(a.matches[ve],$),pe={...U,defaultShouldRevalidate:re},xe=Ip($,pe);return Z_(n,r,t,$,h,e,xe,pe)}),q=[];return w.forEach(($,ve)=>{if(d||!l.some(ie=>ie.route.id===$.routeId)||b.has(ve))return;let we=a.fetchers.get(ve),G=we&&we.state!=="idle"&&we.data===void 0,re=go(E,$.path,A);if(!re){if(P&&G)return;q.push({key:ve,routeId:$.routeId,path:$.path,matches:null,match:null,request:null,controller:null});return}if(x.has(ve))return;let pe=wp(re,$.path),xe=new AbortController,H=lc(i,$.path,xe.signal),oe=null;if(y.has(ve))y.delete(ve),oe=vc(n,r,H,re,pe,h,e);else if(G)p&&(oe=vc(n,r,H,re,pe,h,e));else{let ie={...U,defaultShouldRevalidate:M?!1:p};Ip(pe,ie)&&(oe=vc(n,r,H,re,pe,h,e,ie))}oe&&q.push({key:ve,routeId:$.routeId,path:$.path,matches:oe,match:pe,request:H,controller:xe})}),{dsMatches:z,revalidatingFetchers:q}}function J_(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function n5(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function r5(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Ip(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function kO(t,e,n,r,i,a){let l;if(t){let h=r[t];ut(h,`No route found to patch children into: routeId = ${t}`),h.children||(h.children=[]),l=h.children}else l=n;let u=[],f=[];if(e.forEach(h=>{let d=l.find(p=>rD(h,p));d?f.push({existingRoute:d,newRoute:h}):u.push(h)}),u.length>0){let h=Uh(u,i,[t||"_","patch",String(l?.length||"0")],r);l.push(...h)}if(a&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:d,newRoute:p}=f[h],y=d,[b]=Uh([p],i,[],{},!0);Object.assign(y,{element:b.element?b.element:y.element,errorElement:b.errorElement?b.errorElement:y.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:y.hydrateFallbackElement})}}function rD(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>rD(n,i))):!1}var MO=new WeakMap,iD=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(ut(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[t];if(!a)return;let l=MO.get(i);l||(l={},MO.set(i,l));let u=l[t];if(u)return u;let f=(async()=>{let h=EV(t),p=i[t]!==void 0&&t!=="hasErrorBoundary";if(h)hn(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(p)hn(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let y=await a();y!=null&&(Object.assign(i,{[t]:y}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(y=>y===void 0)&&(i.lazy=void 0))})();return l[t]=f,f},LO=new WeakMap;function i5(t,e,n,r,i){let a=n[t.id];if(ut(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let d=LO.get(a);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let p=(async()=>{ut(typeof t.lazy=="function","No lazy route function found");let y=await t.lazy(),b={};for(let w in y){let x=y[w];if(x===void 0)continue;let E=TV(w),P=a[w]!==void 0&&w!=="hasErrorBoundary";E?hn(!E,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):P?hn(!P,`Route "${a.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):b[w]=x}Object.assign(a,b),Object.assign(a,{...r(a),lazy:void 0})})();return LO.set(a,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let l=Object.keys(t.lazy),u=[],f;for(let d of l){if(i&&i.includes(d))continue;let p=iD({key:d,route:t,manifest:n,mapRouteProperties:r});p&&(u.push(p),d===e&&(f=p))}let h=u.length>0?Promise.all(u).then(()=>{}):void 0;return h?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}async function UO(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,a)=>{n[e[a].route.id]=i}),n}async function a5(t){return t.matches.some(e=>e.route.unstable_middleware)?aD(t,()=>UO(t)):UO(t)}function aD(t,e){return s5(t,e,r=>r,m5,n);function n(r,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:r}}));{let{matches:l}=t,u=Math.min(l.findIndex(h=>h.route.id===i)||0,l.findIndex(h=>h.unstable_shouldCallHandler())||0),f=yo(l,l[u].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:r}})}}}async function s5(t,e,n,r,i){let{matches:a,request:l,params:u,context:f}=t,h=a.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(y=>[p.route.id,y]):[]);return await sD({request:l,params:u,context:f},h,e,n,r,i)}async function sD(t,e,n,r,i,a,l=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason??new Error(`Request aborted: ${u.method} ${u.url}`);let f=e[l];if(!f)return await n();let[h,d]=f,p,y=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await sD(t,e,n,r,i,a,l+1)},p.value}catch(b){return p={value:await a(b,h,p)},p.value}};try{let b=await d(t,y),w=b!=null?r(b):void 0;return i(w)?w:p?w??p.value:(p={value:await y()},p.value)}catch(b){return await a(b,h,p)}}function oD(t,e,n,r,i){let a=iD({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=i5(r.route,jr(n.method)?"action":"loader",e,t,i);return{middleware:a,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function Z_(t,e,n,r,i,a,l,u=null){let f=!1,h=oD(t,e,n,r,i);return{...r,_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(d){return f=!0,u?typeof d=="boolean"?Ip(r,{...u,defaultShouldRevalidate:d}):Ip(r,u):l},resolve(d){return f||l||d&&!jr(n.method)&&(r.route.lazy||r.route.loader)?l5({request:n,match:r,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:d,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function vc(t,e,n,r,i,a,l,u=null){return r.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:oD(t,e,n,f,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Z_(t,e,n,f,a,l,!0,u))}async function o5(t,e,n,r,i,a){n.some(h=>h._lazyPromises?.middleware)&&await Promise.all(n.map(h=>h._lazyPromises?.middleware));let l={request:e,params:n[0].params,context:i,matches:n},f=await t({...l,fetcherKey:r,unstable_runClientMiddleware:h=>{let d=l;return aD(d,()=>h({...d,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return f}async function l5({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:a}){let l,u,f=jr(t.method),h=f?"action":"loader",d=p=>{let y,b=new Promise((E,A)=>y=A);u=()=>y(),t.signal.addEventListener("abort",u);let w=E=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):p({request:t,params:e.params,context:a},...E!==void 0?[E]:[]),x=(async()=>{try{return{type:"data",result:await(i?i(A=>w(A)):w())}}catch(E){return{type:"error",result:E}}})();return Promise.race([x,b])};try{let p=f?e.route.action:e.route.loader;if(n||r)if(p){let y,[b]=await Promise.all([d(p).catch(w=>{y=w}),n,r]);if(y!==void 0)throw y;l=b}else{await n;let y=f?e.route.action:e.route.loader;if(y)[l]=await Promise.all([d(y),r]);else if(h==="action"){let b=new URL(t.url),w=b.pathname+b.search;throw Oi(405,{method:t.method,pathname:w,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(p)l=await d(p);else{let y=new URL(t.url),b=y.pathname+y.search;throw Oi(404,{pathname:b})}}catch(p){return{type:"error",result:p}}finally{u&&t.signal.removeEventListener("abort",u)}return l}async function u5(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function c5(t){let{result:e,type:n}=t;if(uD(e)){let r;try{r=await u5(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Dp(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?FO(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Dp(e.init?.status||500,void 0,e.data),statusCode:Vh(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Vh(e)?e.status:void 0}:FO(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function f5(t,e,n,r,i){let a=t.headers.get("Location");if(ut(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Px(a)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);a=Q_(new URL(e.url),l,i,a),t.headers.set("Location",a)}return t}function VO(t,e,n){if(Px(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=ji(i.pathname,n)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function lc(t,e,n,r){let i=t.createURL(lD(e)).toString(),a={signal:n};if(r&&jr(r.formMethod)){let{formMethod:l,formEncType:u}=r;a.method=l.toUpperCase(),u==="application/json"?(a.headers=new Headers({"Content-Type":u}),a.body=JSON.stringify(r.json)):u==="text/plain"?a.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?a.body=ew(r.formData):a.body=r.formData}return new Request(i,a)}function ew(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function $O(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function h5(t,e,n,r=!1,i=!1){let a={},l=null,u,f=!1,h={},d=n&&Qr(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let y=p.route.id,b=e[y];if(ut(!Nl(b),"Cannot handle redirect results in processLoaderData"),Qr(b)){let w=b.error;if(d!==void 0&&(w=d,d=void 0),l=l||{},i)l[y]=w;else{let x=yo(t,y);l[x.route.id]==null&&(l[x.route.id]=w)}r||(a[y]=nD),f||(f=!0,u=Vh(b.error)?b.error.status:500),b.headers&&(h[y]=b.headers)}else a[y]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(u=b.statusCode),b.headers&&(h[y]=b.headers)}),d!==void 0&&n&&(l={[n[0]]:d},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:l,statusCode:u||200,loaderHeaders:h}}function BO(t,e,n,r,i,a){let{loaderData:l,errors:u}=h5(e,n,r);return i.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:d,controller:p}=f;if(p&&p.signal.aborted)return;let y=a[h];if(ut(y,"Did not find corresponding fetcher result"),Qr(y)){let b=yo(t.matches,d?.route.id);u&&u[b.route.id]||(u={...u,[b.route.id]:y.error}),t.fetchers.delete(h)}else if(Nl(y))ut(!1,"Unhandled fetcher revalidation redirect");else{let b=fo(y.data);t.fetchers.set(h,b)}}),{loaderData:l,errors:u}}function zO(t,e,n,r){let i=Object.entries(e).filter(([,a])=>a!==nD).reduce((a,[l,u])=>(a[l]=u,a),{});for(let a of n){let l=a.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&a.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function qO(t){return t?Qr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function yo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Wm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Oi(t,{pathname:e,routeId:n,method:r,type:i,message:a}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",u=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new Dp(t||500,l,new Error(u),!0)}function Ym(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Nl(i))return{key:r,result:i}}}function lD(t){let e=typeof t=="string"?ws(t):t;return Co({...e,hash:""})}function d5(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function m5(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&p5(n))}function p5(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function g5(t){return uD(t.result)&&YV.has(t.result.status)}function Qr(t){return t.type==="error"}function Nl(t){return(t&&t.type)==="redirect"}function FO(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function uD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function y5(t){return WV.has(t.toUpperCase())}function jr(t){return KV.has(t.toUpperCase())}function Nx(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function wp(t,e){let n=typeof e=="string"?ws(e).search:e.search;if(t[t.length-1].route.index&&Nx(n||""))return t[t.length-1];let r=Zj(t);return r[r.length-1]}function HO(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:a,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function Y0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function v5(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function oh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function b5(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function fo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function _5(t,e){try{let n=t.sessionStorage.getItem(tD);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function w5(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(tD,JSON.stringify(n))}catch(r){hn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function x5(){let t,e,n=new Promise((r,i)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Zl=O.createContext(null);Zl.displayName="DataRouter";var ud=O.createContext(null);ud.displayName="DataRouterState";O.createContext(!1);var jx=O.createContext({isTransitioning:!1});jx.displayName="ViewTransition";var cD=O.createContext(new Map);cD.displayName="Fetchers";var E5=O.createContext(null);E5.displayName="Await";var Da=O.createContext(null);Da.displayName="Navigation";var $g=O.createContext(null);$g.displayName="Location";var xs=O.createContext({outlet:null,matches:[],isDataRoute:!1});xs.displayName="Route";var Dx=O.createContext(null);Dx.displayName="RouteError";function S5(t,{relative:e}={}){ut(cd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Da),{hash:i,pathname:a,search:l}=fd(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:xa([n,a])),r.createHref({pathname:u,search:l,hash:i})}function cd(){return O.useContext($g)!=null}function Lo(){return ut(cd(),"useLocation() may be used only in the context of a <Router> component."),O.useContext($g).location}var fD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hD(t){O.useContext(Da).static||O.useLayoutEffect(t)}function Bg(){let{isDataRoute:t}=O.useContext(xs);return t?M5():T5()}function T5(){ut(cd(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Zl),{basename:e,navigator:n}=O.useContext(Da),{matches:r}=O.useContext(xs),{pathname:i}=Lo(),a=JSON.stringify(Cx(r)),l=O.useRef(!1);return hD(()=>{l.current=!0}),O.useCallback((f,h={})=>{if(hn(l.current,fD),!l.current)return;if(typeof f=="number"){n.go(f);return}let d=Rx(f,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:xa([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,a,i,t])}O.createContext(null);function fd(t,{relative:e}={}){let{matches:n}=O.useContext(xs),{pathname:r}=Lo(),i=JSON.stringify(Cx(n));return O.useMemo(()=>Rx(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function A5(t,e,n,r,i){ut(cd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(Da),{matches:l}=O.useContext(xs),u=l[l.length-1],f=u?u.params:{},h=u?u.pathname:"/",d=u?u.pathnameBase:"/",p=u&&u.route;{let P=p&&p.path||"";mD(h,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=Lo(),b;b=y;let w=b.pathname||"/",x=w;if(d!=="/"){let P=d.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(P.length).join("/")}let E=go(t,{pathname:x});return hn(p||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),hn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),N5(E&&E.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:xa([d,a.encodeLocation?a.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:xa([d,a.encodeLocation?a.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),l,n,r,i)}function O5(){let t=dD(),e=Vh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,l)}var C5=O.createElement(O5,null),R5=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?O.createElement(xs.Provider,{value:this.props.routeContext},O.createElement(Dx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function P5({routeContext:t,match:e,children:n}){let r=O.useContext(Zl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(xs.Provider,{value:t},n)}function N5(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let h=a.findIndex(d=>d.route.id&&l?.[d.route.id]!==void 0);ut(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,f=-1;if(n)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(f=h),d.route.id){let{loaderData:p,errors:y}=n,b=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||b){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,d,p)=>{let y,b=!1,w=null,x=null;n&&(y=l&&d.route.id?l[d.route.id]:void 0,w=d.route.errorElement||C5,u&&(f<0&&p===0?(mD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):f===p&&(b=!0,x=d.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,p+1)),A=()=>{let P;return y?P=w:b?P=x:d.route.Component?P=O.createElement(d.route.Component,null):d.route.element?P=d.route.element:P=h,O.createElement(P5,{match:d,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:P})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?O.createElement(R5,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:A(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:r}):A()},null)}function Ix(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j5(t){let e=O.useContext(Zl);return ut(e,Ix(t)),e}function D5(t){let e=O.useContext(ud);return ut(e,Ix(t)),e}function I5(t){let e=O.useContext(xs);return ut(e,Ix(t)),e}function kx(t){let e=I5(t),n=e.matches[e.matches.length-1];return ut(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function k5(){return kx("useRouteId")}function dD(){let t=O.useContext(Dx),e=D5("useRouteError"),n=kx("useRouteError");return t!==void 0?t:e.errors?.[n]}function M5(){let{router:t}=j5("useNavigate"),e=kx("useNavigate"),n=O.useRef(!1);return hD(()=>{n.current=!0}),O.useCallback(async(i,a={})=>{hn(n.current,fD),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var KO={};function mD(t,e,n){!e&&!KO[t]&&(KO[t]=!0,hn(!1,n))}var GO={};function WO(t,e){!t&&!GO[e]&&(GO[e]=!0,console.warn(e))}function L5(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&hn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:O.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&hn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:O.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&hn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:O.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var U5=["HydrateFallback","hydrateFallbackElement"],V5=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function $5({router:t,flushSync:e,unstable_onError:n}){let[r,i]=O.useState(t.state),[a,l]=O.useState(),[u,f]=O.useState({isTransitioning:!1}),[h,d]=O.useState(),[p,y]=O.useState(),[b,w]=O.useState(),x=O.useRef(new Map),E=O.useCallback(L=>{i(D=>(L.errors&&n&&Object.entries(L.errors).forEach(([j,I])=>{D.errors?.[j]!==I&&n(I)}),L))},[n]),A=O.useCallback((L,{deletedFetchers:D,flushSync:j,viewTransitionOpts:I})=>{L.fetchers.forEach((U,z)=>{U.data!==void 0&&x.current.set(z,U.data)}),D.forEach(U=>x.current.delete(U)),WO(j===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(WO(I==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!I||!M){e&&j?e(()=>E(L)):O.startTransition(()=>E(L));return}if(e&&j){e(()=>{p&&(h&&h.resolve(),p.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let U=t.window.document.startViewTransition(()=>{e(()=>E(L))});U.finished.finally(()=>{e(()=>{d(void 0),y(void 0),l(void 0),f({isTransitioning:!1})})}),e(()=>y(U));return}p?(h&&h.resolve(),p.skipTransition(),w({state:L,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(l(L),f({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[t.window,e,p,h,E]);O.useLayoutEffect(()=>t.subscribe(A),[t,A]),O.useEffect(()=>{u.isTransitioning&&!u.flushSync&&d(new V5)},[u]),O.useEffect(()=>{if(h&&a&&t.window){let L=a,D=h.promise,j=t.window.document.startViewTransition(async()=>{O.startTransition(()=>E(L)),await D});j.finished.finally(()=>{d(void 0),y(void 0),l(void 0),f({isTransitioning:!1})}),y(j)}},[a,h,t.window,E]),O.useEffect(()=>{h&&a&&r.location.key===a.location.key&&h.resolve()},[h,p,r.location,a]),O.useEffect(()=>{!u.isTransitioning&&b&&(l(b.state),f({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),w(void 0))},[u.isTransitioning,b]);let P=O.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:L=>t.navigate(L),push:(L,D,j)=>t.navigate(L,{state:D,preventScrollReset:j?.preventScrollReset}),replace:(L,D,j)=>t.navigate(L,{replace:!0,state:D,preventScrollReset:j?.preventScrollReset})}),[t]),C=t.basename||"/",V=O.useMemo(()=>({router:t,navigator:P,static:!1,basename:C,unstable_onError:n}),[t,P,C,n]);return O.createElement(O.Fragment,null,O.createElement(Zl.Provider,{value:V},O.createElement(ud.Provider,{value:r},O.createElement(cD.Provider,{value:x.current},O.createElement(jx.Provider,{value:u},O.createElement(q5,{basename:C,location:r.location,navigationType:r.historyAction,navigator:P},O.createElement(B5,{routes:t.routes,future:t.future,state:r,unstable_onError:n})))))),null)}var B5=O.memo(z5);function z5({routes:t,future:e,state:n,unstable_onError:r}){return A5(t,void 0,n,r,e)}function q5({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){ut(!cd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=ws(n));let{pathname:f="/",search:h="",hash:d="",state:p=null,key:y="default"}=n,b=O.useMemo(()=>{let w=ji(f,l);return w==null?null:{location:{pathname:w,search:h,hash:d,state:p,key:y},navigationType:r}},[l,f,h,d,p,y,r]);return hn(b!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:O.createElement(Da.Provider,{value:u},O.createElement($g.Provider,{children:e,value:b}))}var xp="get",Ep="application/x-www-form-urlencoded";function zg(t){return t!=null&&typeof t.tagName=="string"}function F5(t){return zg(t)&&t.tagName.toLowerCase()==="button"}function H5(t){return zg(t)&&t.tagName.toLowerCase()==="form"}function K5(t){return zg(t)&&t.tagName.toLowerCase()==="input"}function G5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W5(t,e){return t.button===0&&(!e||e==="_self")&&!G5(t)}var Xm=null;function Y5(){if(Xm===null)try{new FormData(document.createElement("form"),0),Xm=!1}catch{Xm=!0}return Xm}var X5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X0(t){return t!=null&&!X5.has(t)?(hn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ep}"`),null):t}function Q5(t,e){let n,r,i,a,l;if(H5(t)){let u=t.getAttribute("action");r=u?ji(u,e):null,n=t.getAttribute("method")||xp,i=X0(t.getAttribute("enctype"))||Ep,a=new FormData(t)}else if(F5(t)||K5(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?ji(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||xp,i=X0(t.getAttribute("formenctype"))||X0(u.getAttribute("enctype"))||Ep,a=new FormData(u,t),!Y5()){let{name:h,type:d,value:p}=t;if(d==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,p)}}else{if(zg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xp,r=null,i=Ep,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function J5(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ji(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Z5(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function e$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function t$(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await Z5(a,n);return l.links?l.links():[]}return[]}));return a$(r.flat(1).filter(e$).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function YO(t,e,n,r,i,a){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,h)=>l(f,h)||u(f,h)):a==="data"?e.filter((f,h)=>{let d=r.routes[f.route.id];if(!d||!d.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function n$(t,e,{includeHydrateFallback:n}={}){return r$(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function r$(t){return[...new Set(t)]}function i$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function a$(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(i$(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function pD(){let t=O.useContext(Zl);return Mx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function s$(){let t=O.useContext(ud);return Mx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Lx=O.createContext(void 0);Lx.displayName="FrameworkContext";function gD(){let t=O.useContext(Lx);return Mx(t,"You must render this element inside a <HydratedRouter> element"),t}function o$(t,e){let n=O.useContext(Lx),[r,i]=O.useState(!1),[a,l]=O.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:d,onTouchStart:p}=e,y=O.useRef(null);O.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let x=A=>{A.forEach(P=>{l(P.isIntersecting)})},E=new IntersectionObserver(x,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[t]),O.useEffect(()=>{if(r){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:lh(u,b),onBlur:lh(f,w),onMouseEnter:lh(h,b),onMouseLeave:lh(d,w),onTouchStart:lh(p,b)}]:[!1,y,{}]}function lh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function l$({page:t,...e}){let{router:n}=pD(),r=O.useMemo(()=>go(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(c$,{page:t,matches:r,...e}):null}function u$(t){let{manifest:e,routeModules:n}=gD(),[r,i]=O.useState([]);return O.useEffect(()=>{let a=!1;return t$(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function c$({page:t,matches:e,...n}){let r=Lo(),{manifest:i,routeModules:a}=gD(),{basename:l}=pD(),{loaderData:u,matches:f}=s$(),h=O.useMemo(()=>YO(t,e,f,i,r,"data"),[t,e,f,i,r]),d=O.useMemo(()=>YO(t,e,f,i,r,"assets"),[t,e,f,i,r]),p=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,x=!1;if(e.forEach(A=>{let P=i.routes[A.route.id];!P||!P.hasLoader||(!h.some(C=>C.route.id===A.route.id)&&A.route.id in u&&a[A.route.id]?.shouldRevalidate||P.hasClientLoader?x=!0:w.add(A.route.id))}),w.size===0)return[];let E=J5(t,l,"data");return x&&w.size>0&&E.searchParams.set("_routes",e.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[E.pathname+E.search]},[l,u,r,i,h,e,t,a]),y=O.useMemo(()=>n$(d,i),[d,i]),b=u$(d);return O.createElement(O.Fragment,null,p.map(w=>O.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),y.map(w=>O.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:x})=>O.createElement("link",{key:w,nonce:n.nonce,...x})))}function f$(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yD&&(window.__reactRouterVersion="7.8.2")}catch{}function h$(t,e){return e5({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:bV({window:e?.window}),hydrationData:d$(),routes:t,mapRouteProperties:L5,hydrationRouteProperties:U5,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function d$(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:m$(t.errors)}),t}function m$(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Dp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let l=new a(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}var vD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bc=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:f,to:h,preventScrollReset:d,viewTransition:p,...y},b){let{basename:w}=O.useContext(Da),x=typeof h=="string"&&vD.test(h),E,A=!1;if(typeof h=="string"&&x&&(E=h,yD))try{let M=new URL(window.location.href),U=h.startsWith("//")?new URL(M.protocol+h):new URL(h),z=ji(U.pathname,w);U.origin===M.origin&&z!=null?h=z+U.search+U.hash:A=!0}catch{hn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=S5(h,{relative:i}),[C,V,L]=o$(r,y),D=v$(h,{replace:l,state:u,target:f,preventScrollReset:d,relative:i,viewTransition:p});function j(M){e&&e(M),M.defaultPrevented||D(M)}let I=O.createElement("a",{...y,...L,href:E||P,onClick:A||a?e:j,ref:f$(b,V),target:f,"data-discover":!x&&n==="render"?"true":void 0});return C&&!x?O.createElement(O.Fragment,null,I,O.createElement(l$,{page:P})):I});bc.displayName="Link";var p$=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:f,...h},d){let p=fd(l,{relative:h.relative}),y=Lo(),b=O.useContext(ud),{navigator:w,basename:x}=O.useContext(Da),E=b!=null&&E$(p)&&u===!0,A=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,P=y.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(P=P.toLowerCase(),C=C?C.toLowerCase():null,A=A.toLowerCase()),C&&x&&(C=ji(C,x)||C);const V=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let L=P===A||!i&&P.startsWith(A)&&P.charAt(V)==="/",D=C!=null&&(C===A||!i&&C.startsWith(A)&&C.charAt(A.length)==="/"),j={isActive:L,isPending:D,isTransitioning:E},I=L?e:void 0,M;typeof r=="function"?M=r(j):M=[r,L?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(j):a;return O.createElement(bc,{...h,"aria-current":I,className:M,ref:d,style:U,to:l,viewTransition:u},typeof f=="function"?f(j):f)});p$.displayName="NavLink";var g$=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=xp,action:u,onSubmit:f,relative:h,preventScrollReset:d,viewTransition:p,...y},b)=>{let w=w$(),x=x$(u,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&vD.test(u),P=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let V=C.nativeEvent.submitter,L=V?.getAttribute("formmethod")||l;w(V||C.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:i,state:a,relative:h,preventScrollReset:d,viewTransition:p})};return O.createElement("form",{ref:b,method:E,action:x,onSubmit:r?f:P,...y,"data-discover":!A&&t==="render"?"true":void 0})});g$.displayName="Form";function y$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bD(t){let e=O.useContext(Zl);return ut(e,y$(t)),e}function v$(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=Bg(),f=Lo(),h=fd(t,{relative:a});return O.useCallback(d=>{if(W5(d,e)){d.preventDefault();let p=n!==void 0?n:Co(f)===Co(h);u(t,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,u,h,n,r,e,t,i,a,l])}var b$=0,_$=()=>`__${String(++b$)}__`;function w$(){let{router:t}=bD("useSubmit"),{basename:e}=O.useContext(Da),n=k5();return O.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:f,body:h}=Q5(r,e);if(i.navigate===!1){let d=i.fetcherKey||_$();await t.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function x$(t,{relative:e}={}){let{basename:n}=O.useContext(Da),r=O.useContext(xs);ut(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...fd(t||".",{relative:e})},l=Lo();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(d=>d==="")){u.delete("index"),f.filter(p=>p).forEach(p=>u.append("index",p));let d=u.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:xa([n,a.pathname])),Co(a)}function E$(t,{relative:e}={}){let n=O.useContext(jx);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bD("useViewTransitionState"),i=fd(t,{relative:e});if(!n.isTransitioning)return!1;let a=ji(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ji(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jp(i.pathname,l)!=null||jp(i.pathname,a)!=null}var Ux=Wj();function S$(t){return O.createElement($5,{flushSync:Ux.flushSync,...t})}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A$=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),XO=t=>{const e=A$(t);return e.charAt(0).toUpperCase()+e.slice(1)},_D=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),O$=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},f)=>O.createElement("svg",{ref:f,...C$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_D("lucide",i),...!a&&!O$(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,d])=>O.createElement(h,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=(t,e)=>{const n=O.forwardRef(({className:r,...i},a)=>O.createElement(R$,{ref:a,iconNode:e,className:_D(`lucide-${T$(XO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=XO(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],wD=Wt("arrow-down",P$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],j$=Wt("arrow-up-down",N$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],xD=Wt("arrow-up",D$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 16a2 2 0 0 1-2 2H8.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 4 20.286V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2z",key:"11gyqh"}],["path",{d:"M9 11v2",key:"1ueba0"}]],k$=Wt("bot-message-square",I$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],L$=Wt("chevron-left",M$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],V$=Wt("chevron-right",U$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],B$=Wt("copy",$$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],q$=Wt("ellipsis",z$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],H$=Wt("eye-off",F$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],G$=Wt("highlighter",K$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Y$=Wt("menu",W$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Q$=Wt("refresh-cw",X$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Z$=Wt("search",J$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],t9=Wt("send",e9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],r9=Wt("settings-2",n9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],a9=Wt("settings",i9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m8 14 4-4 4 4",key:"fy2ptz"}]],o9=Wt("square-chevron-up",s9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}]],u9=Wt("square-play",l9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ED=Wt("target",c9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],SD=Wt("trophy",f9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],d9=Wt("undo-2",h9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],TD=Wt("users",m9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],g9=Wt("video",p9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],v9=Wt("x",y9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],AD=Wt("zap",b9),_9="/ScoutingOffseason2025/assets/icon-CcJZ9g6Y.png",QO=[{name:"Tables",path:"/"},{name:"Ranks",path:"/ranks"},{name:"Teams",path:"/teams"},{name:"Compare",path:"/compare"},{name:"Match",path:"/match"},{name:"Pick List",path:"/picklist"}];function Uo(){const[t,e]=O.useState(!1),n=Lo();return T.jsxs("header",{className:"bg-gray-900 fixed w-full top-0 left-0 z-50 select-none drop-shadow-lg",children:[T.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex justify-between items-center h-16",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("img",{src:_9,alt:"Logo",className:"h-15 w-15 object-contain"}),T.jsx("div",{className:"text-2xl font-bold text-orange-400 ml-5",children:"Scouting 2025"})]}),T.jsxs("nav",{className:"hidden lg:flex gap-4",children:[QO.map(r=>{const i=n.pathname===r.path;return T.jsxs(bc,{to:r.path,className:"relative text-orange-400 px-3 py-2 rounded group overflow-hidden font-medium text-xl",children:[i?T.jsx("span",{className:"absolute inset-0 bg-orange-600 group-hover:bg-orange-800 transition duration-300 rounded"}):T.jsx("span",{className:"absolute inset-0 bg-orange-600 scale-y-0 origin-top group-hover:scale-y-100 transition duration-300 rounded"}),T.jsx("span",{className:`relative ${i?"text-white":"group-hover:text-white transition-colors duration-500"}`,children:r.name})]},r.name)}),T.jsxs(bc,{to:"/coscout",className:"hidden relative text-orange-400 px-3 py-2 rounded group overflow-hidden font-medium text-xl",children:[T.jsx("span",{className:"absolute inset-0 bg-gray-500 scale-y-0 origin-top group-hover:scale-y-100 transition duration-300 rounded"}),T.jsx(k$,{color:"orange",size:28,className:"relative"})]})]}),T.jsx("div",{className:"lg:hidden z-50 relative",children:T.jsx("button",{onClick:()=>e(!t),children:t?T.jsx(o9,{size:36,color:"white"}):T.jsx(Y$,{size:32,color:"white"})})})]}),T.jsx("div",{className:`lg:hidden fixed inset-0 bg-gray-900 bg-opacity-95 flex flex-col items-center justify-center space-y-8 text-3xl
          transform transition-transform-opacity duration-500
          ${t?"translate-y-0 opacity-100":"-translate-y-full opacity-0 pointer-events-none"}
        `,children:QO.map(r=>{const i=n.pathname===r.path;return T.jsxs(bc,{to:r.path,className:"relative text-orange-400 px-6 py-3 rounded group overflow-hidden font-medium",onClick:()=>e(!1),children:[i&&T.jsx("span",{className:"absolute inset-0 bg-orange-600 rounded"}),T.jsx("span",{className:`relative ${i?"text-white":"group-hover:text-white transition-colors duration-300"}`,children:r.name})]},r.name)})})]})}const JO=t=>{let e;const n=new Set,r=(h,d)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const y=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(b=>b(e,y))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h))},f=e=t(r,i,u);return u},w9=(t=>t?JO(t):JO),x9=t=>t;function E9(t,e=x9){const n=yh.useSyncExternalStore(t.subscribe,yh.useCallback(()=>e(t.getState()),[t,e]),yh.useCallback(()=>e(t.getInitialState()),[t,e]));return yh.useDebugValue(n),n}const ZO=t=>{const e=w9(t),n=r=>E9(e,r);return Object.assign(n,e),n},S9=(t=>t?ZO(t):ZO),T9=()=>{};var eC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},A9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},CD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,d=a>>2,p=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,b=h&63;f||(b=64,l||(y=64)),r.push(n[d],n[p],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||h==null||p==null)throw new O9;const y=a<<2|u>>4;if(r.push(y),h!==64){const b=u<<4&240|h>>2;if(r.push(b),p!==64){const w=h<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class O9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C9=function(t){const e=OD(t);return CD.encodeByteArray(e,!0)},kp=function(t){return C9(t).replace(/\./g,"")},R9=function(t){try{return CD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=()=>P9().__FIREBASE_DEFAULTS__,j9=()=>{if(typeof process>"u"||typeof eC>"u")return;const t=eC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&R9(t[1]);return e&&JSON.parse(e)},Vx=()=>{try{return T9()||N9()||j9()||D9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I9=t=>Vx()?.emulatorHosts?.[t],k9=t=>{const e=I9(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RD=()=>Vx()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M9=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function L9(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[kp(JSON.stringify(n)),kp(JSON.stringify(l)),""].join(".")}const Ah={};function V9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ah))Ah[e]?t.emulator.push(e):t.prod.push(e);return t}function $9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tC=!1;function B9(t,e){if(typeof window>"u"||typeof document>"u"||!$x(window.location.host)||Ah[t]===e||Ah[t]||tC)return;Ah[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=V9().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{tC=!0,l()},y}function d(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=$9(r),b=n("text"),w=document.getElementById(b)||document.createElement("span"),x=n("learnmore"),E=document.getElementById(x)||document.createElement("a"),A=n("preprendIcon"),P=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const C=y.element;u(C),d(E,x);const V=h();f(P,A),C.append(P,w,E,V),document.body.appendChild(C)}a?(w.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q9(){const t=Vx()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F9(){return!q9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H9(){try{return typeof indexedDB=="object"}catch{return!1}}function K9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="FirebaseError";class eu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G9,Object.setPrototypeOf(this,eu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,PD.prototype.create)}}class PD{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?W9(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new eu(i,u,r)}}function W9(t,e){return t.replace(Y9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Y9=/\{\$([^}]+)}/g;function Mp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(nC(a)&&nC(l)){if(!Mp(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){return t&&t._delegate?t._delegate:t}class Ac{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X9=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new M9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J9(e))try{this.getOrInitializeService({instanceIdentifier:El})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=El){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=El){return this.instances.has(e)}getOptions(e=El){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=El){return this.component?this.component.multipleInstances?e:El:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Q9(t){return t===El?void 0:t}function J9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yt||(yt={}));const eB={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},tB=yt.INFO,nB={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},rB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bx{constructor(e){this.name=e,this._logLevel=tB,this._logHandler=rB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const iB=(t,e)=>e.some(n=>t instanceof n);let rC,iC;function aB(){return rC||(rC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sB(){return iC||(iC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ND=new WeakMap,tw=new WeakMap,jD=new WeakMap,Q0=new WeakMap,zx=new WeakMap;function oB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(xo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&ND.set(n,t)}).catch(()=>{}),zx.set(e,t),e}function lB(t){if(tw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});tw.set(t,e)}let nw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uB(t){nw=t(nw)}function cB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(J0(this),e,...n);return jD.set(r,e.sort?e.sort():[e]),xo(r)}:sB().includes(t)?function(...e){return t.apply(J0(this),e),xo(ND.get(this))}:function(...e){return xo(t.apply(J0(this),e))}}function fB(t){return typeof t=="function"?cB(t):(t instanceof IDBTransaction&&lB(t),iB(t,aB())?new Proxy(t,nw):t)}function xo(t){if(t instanceof IDBRequest)return oB(t);if(Q0.has(t))return Q0.get(t);const e=fB(t);return e!==t&&(Q0.set(t,e),zx.set(e,t)),e}const J0=t=>zx.get(t);function hB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=xo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(xo(l.result),f.oldVersion,f.newVersion,xo(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const dB=["get","getKey","getAll","getAllKeys","count"],mB=["put","add","delete","clear"],Z0=new Map;function aC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Z0.get(e))return Z0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dB.includes(n)))return;const a=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return Z0.set(e,a),a}uB(t=>({...t,get:(e,n,r)=>aC(e,n)||t.get(e,n,r),has:(e,n)=>!!aC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gB(t){return t.getComponent()?.type==="VERSION"}const rw="@firebase/app",sC="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Bx("@firebase/app"),yB="@firebase/app-compat",vB="@firebase/analytics-compat",bB="@firebase/analytics",_B="@firebase/app-check-compat",wB="@firebase/app-check",xB="@firebase/auth",EB="@firebase/auth-compat",SB="@firebase/database",TB="@firebase/data-connect",AB="@firebase/database-compat",OB="@firebase/functions",CB="@firebase/functions-compat",RB="@firebase/installations",PB="@firebase/installations-compat",NB="@firebase/messaging",jB="@firebase/messaging-compat",DB="@firebase/performance",IB="@firebase/performance-compat",kB="@firebase/remote-config",MB="@firebase/remote-config-compat",LB="@firebase/storage",UB="@firebase/storage-compat",VB="@firebase/firestore",$B="@firebase/ai",BB="@firebase/firestore-compat",zB="firebase",qB="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="[DEFAULT]",FB={[rw]:"fire-core",[yB]:"fire-core-compat",[bB]:"fire-analytics",[vB]:"fire-analytics-compat",[wB]:"fire-app-check",[_B]:"fire-app-check-compat",[xB]:"fire-auth",[EB]:"fire-auth-compat",[SB]:"fire-rtdb",[TB]:"fire-data-connect",[AB]:"fire-rtdb-compat",[OB]:"fire-fn",[CB]:"fire-fn-compat",[RB]:"fire-iid",[PB]:"fire-iid-compat",[NB]:"fire-fcm",[jB]:"fire-fcm-compat",[DB]:"fire-perf",[IB]:"fire-perf-compat",[kB]:"fire-rc",[MB]:"fire-rc-compat",[LB]:"fire-gcs",[UB]:"fire-gcs-compat",[VB]:"fire-fst",[BB]:"fire-fst-compat",[$B]:"fire-vertex","fire-js":"fire-js",[zB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=new Map,HB=new Map,aw=new Map;function oC(t,e){try{t.container.addComponent(e)}catch(n){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $h(t){const e=t.name;if(aw.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;aw.set(e,t);for(const n of Lp.values())oC(n,t);for(const n of HB.values())oC(n,t);return!0}function DD(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ID(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new PD("app","Firebase",KB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ac("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=qB;function kD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:iw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Eo.create("bad-app-name",{appName:String(i)});if(n||(n=RD()),!n)throw Eo.create("no-options");const a=Lp.get(i);if(a){if(Mp(n,a.options)&&Mp(r,a.config))return a;throw Eo.create("duplicate-app",{appName:i})}const l=new Z9(i);for(const f of aw.values())l.addComponent(f);const u=new GB(n,r,l);return Lp.set(i,u),u}function MD(t=iw){const e=Lp.get(t);if(!e&&t===iw&&RD())return kD();if(!e)throw Eo.create("no-app",{appName:t});return e}function So(t,e,n){let r=FB[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(l.join(" "));return}$h(new Ac(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB="firebase-heartbeat-database",XB=1,Bh="firebase-heartbeat-store";let eb=null;function LD(){return eb||(eb=hB(YB,XB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Eo.create("idb-open",{originalErrorMessage:t.message})})),eb}async function QB(t){try{const n=(await LD()).transaction(Bh),r=await n.objectStore(Bh).get(UD(t));return await n.done,r}catch(e){if(e instanceof eu)ms.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e?.message});ms.warn(n.message)}}}async function lC(t,e){try{const r=(await LD()).transaction(Bh,"readwrite");await r.objectStore(Bh).put(e,UD(t)),await r.done}catch(n){if(n instanceof eu)ms.warn(n.message);else{const r=Eo.create("idb-set",{originalErrorMessage:n?.message});ms.warn(r.message)}}}function UD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=1024,ZB=30;class ez{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=uC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ZB){const i=rz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uC(),{heartbeatsToSend:n,unsentEntries:r}=tz(this._heartbeatsCache.heartbeats),i=kp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ms.warn(e),""}}}function uC(){return new Date().toISOString().substring(0,10)}function tz(t,e=JB){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),cC(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H9()?K9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function cC(t){return kp(JSON.stringify({version:2,heartbeats:t})).length}function rz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t){$h(new Ac("platform-logger",e=>new pB(e),"PRIVATE")),$h(new Ac("heartbeat",e=>new ez(e),"PRIVATE")),So(rw,sC,t),So(rw,sC,"esm2020"),So("fire-js","")}iz("");var fC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,VD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,I){function M(){}M.prototype=I.prototype,j.D=I.prototype,j.prototype=new M,j.prototype.constructor=j,j.C=function(U,z,q){for(var $=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)$[ve-2]=arguments[ve];return I.prototype[z].apply(U,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,I,M){M||(M=0);var U=Array(16);if(typeof I=="string")for(var z=0;16>z;++z)U[z]=I.charCodeAt(M++)|I.charCodeAt(M++)<<8|I.charCodeAt(M++)<<16|I.charCodeAt(M++)<<24;else for(z=0;16>z;++z)U[z]=I[M++]|I[M++]<<8|I[M++]<<16|I[M++]<<24;I=j.g[0],M=j.g[1],z=j.g[2];var q=j.g[3],$=I+(q^M&(z^q))+U[0]+3614090360&4294967295;I=M+($<<7&4294967295|$>>>25),$=q+(z^I&(M^z))+U[1]+3905402710&4294967295,q=I+($<<12&4294967295|$>>>20),$=z+(M^q&(I^M))+U[2]+606105819&4294967295,z=q+($<<17&4294967295|$>>>15),$=M+(I^z&(q^I))+U[3]+3250441966&4294967295,M=z+($<<22&4294967295|$>>>10),$=I+(q^M&(z^q))+U[4]+4118548399&4294967295,I=M+($<<7&4294967295|$>>>25),$=q+(z^I&(M^z))+U[5]+1200080426&4294967295,q=I+($<<12&4294967295|$>>>20),$=z+(M^q&(I^M))+U[6]+2821735955&4294967295,z=q+($<<17&4294967295|$>>>15),$=M+(I^z&(q^I))+U[7]+4249261313&4294967295,M=z+($<<22&4294967295|$>>>10),$=I+(q^M&(z^q))+U[8]+1770035416&4294967295,I=M+($<<7&4294967295|$>>>25),$=q+(z^I&(M^z))+U[9]+2336552879&4294967295,q=I+($<<12&4294967295|$>>>20),$=z+(M^q&(I^M))+U[10]+4294925233&4294967295,z=q+($<<17&4294967295|$>>>15),$=M+(I^z&(q^I))+U[11]+2304563134&4294967295,M=z+($<<22&4294967295|$>>>10),$=I+(q^M&(z^q))+U[12]+1804603682&4294967295,I=M+($<<7&4294967295|$>>>25),$=q+(z^I&(M^z))+U[13]+4254626195&4294967295,q=I+($<<12&4294967295|$>>>20),$=z+(M^q&(I^M))+U[14]+2792965006&4294967295,z=q+($<<17&4294967295|$>>>15),$=M+(I^z&(q^I))+U[15]+1236535329&4294967295,M=z+($<<22&4294967295|$>>>10),$=I+(z^q&(M^z))+U[1]+4129170786&4294967295,I=M+($<<5&4294967295|$>>>27),$=q+(M^z&(I^M))+U[6]+3225465664&4294967295,q=I+($<<9&4294967295|$>>>23),$=z+(I^M&(q^I))+U[11]+643717713&4294967295,z=q+($<<14&4294967295|$>>>18),$=M+(q^I&(z^q))+U[0]+3921069994&4294967295,M=z+($<<20&4294967295|$>>>12),$=I+(z^q&(M^z))+U[5]+3593408605&4294967295,I=M+($<<5&4294967295|$>>>27),$=q+(M^z&(I^M))+U[10]+38016083&4294967295,q=I+($<<9&4294967295|$>>>23),$=z+(I^M&(q^I))+U[15]+3634488961&4294967295,z=q+($<<14&4294967295|$>>>18),$=M+(q^I&(z^q))+U[4]+3889429448&4294967295,M=z+($<<20&4294967295|$>>>12),$=I+(z^q&(M^z))+U[9]+568446438&4294967295,I=M+($<<5&4294967295|$>>>27),$=q+(M^z&(I^M))+U[14]+3275163606&4294967295,q=I+($<<9&4294967295|$>>>23),$=z+(I^M&(q^I))+U[3]+4107603335&4294967295,z=q+($<<14&4294967295|$>>>18),$=M+(q^I&(z^q))+U[8]+1163531501&4294967295,M=z+($<<20&4294967295|$>>>12),$=I+(z^q&(M^z))+U[13]+2850285829&4294967295,I=M+($<<5&4294967295|$>>>27),$=q+(M^z&(I^M))+U[2]+4243563512&4294967295,q=I+($<<9&4294967295|$>>>23),$=z+(I^M&(q^I))+U[7]+1735328473&4294967295,z=q+($<<14&4294967295|$>>>18),$=M+(q^I&(z^q))+U[12]+2368359562&4294967295,M=z+($<<20&4294967295|$>>>12),$=I+(M^z^q)+U[5]+4294588738&4294967295,I=M+($<<4&4294967295|$>>>28),$=q+(I^M^z)+U[8]+2272392833&4294967295,q=I+($<<11&4294967295|$>>>21),$=z+(q^I^M)+U[11]+1839030562&4294967295,z=q+($<<16&4294967295|$>>>16),$=M+(z^q^I)+U[14]+4259657740&4294967295,M=z+($<<23&4294967295|$>>>9),$=I+(M^z^q)+U[1]+2763975236&4294967295,I=M+($<<4&4294967295|$>>>28),$=q+(I^M^z)+U[4]+1272893353&4294967295,q=I+($<<11&4294967295|$>>>21),$=z+(q^I^M)+U[7]+4139469664&4294967295,z=q+($<<16&4294967295|$>>>16),$=M+(z^q^I)+U[10]+3200236656&4294967295,M=z+($<<23&4294967295|$>>>9),$=I+(M^z^q)+U[13]+681279174&4294967295,I=M+($<<4&4294967295|$>>>28),$=q+(I^M^z)+U[0]+3936430074&4294967295,q=I+($<<11&4294967295|$>>>21),$=z+(q^I^M)+U[3]+3572445317&4294967295,z=q+($<<16&4294967295|$>>>16),$=M+(z^q^I)+U[6]+76029189&4294967295,M=z+($<<23&4294967295|$>>>9),$=I+(M^z^q)+U[9]+3654602809&4294967295,I=M+($<<4&4294967295|$>>>28),$=q+(I^M^z)+U[12]+3873151461&4294967295,q=I+($<<11&4294967295|$>>>21),$=z+(q^I^M)+U[15]+530742520&4294967295,z=q+($<<16&4294967295|$>>>16),$=M+(z^q^I)+U[2]+3299628645&4294967295,M=z+($<<23&4294967295|$>>>9),$=I+(z^(M|~q))+U[0]+4096336452&4294967295,I=M+($<<6&4294967295|$>>>26),$=q+(M^(I|~z))+U[7]+1126891415&4294967295,q=I+($<<10&4294967295|$>>>22),$=z+(I^(q|~M))+U[14]+2878612391&4294967295,z=q+($<<15&4294967295|$>>>17),$=M+(q^(z|~I))+U[5]+4237533241&4294967295,M=z+($<<21&4294967295|$>>>11),$=I+(z^(M|~q))+U[12]+1700485571&4294967295,I=M+($<<6&4294967295|$>>>26),$=q+(M^(I|~z))+U[3]+2399980690&4294967295,q=I+($<<10&4294967295|$>>>22),$=z+(I^(q|~M))+U[10]+4293915773&4294967295,z=q+($<<15&4294967295|$>>>17),$=M+(q^(z|~I))+U[1]+2240044497&4294967295,M=z+($<<21&4294967295|$>>>11),$=I+(z^(M|~q))+U[8]+1873313359&4294967295,I=M+($<<6&4294967295|$>>>26),$=q+(M^(I|~z))+U[15]+4264355552&4294967295,q=I+($<<10&4294967295|$>>>22),$=z+(I^(q|~M))+U[6]+2734768916&4294967295,z=q+($<<15&4294967295|$>>>17),$=M+(q^(z|~I))+U[13]+1309151649&4294967295,M=z+($<<21&4294967295|$>>>11),$=I+(z^(M|~q))+U[4]+4149444226&4294967295,I=M+($<<6&4294967295|$>>>26),$=q+(M^(I|~z))+U[11]+3174756917&4294967295,q=I+($<<10&4294967295|$>>>22),$=z+(I^(q|~M))+U[2]+718787259&4294967295,z=q+($<<15&4294967295|$>>>17),$=M+(q^(z|~I))+U[9]+3951481745&4294967295,j.g[0]=j.g[0]+I&4294967295,j.g[1]=j.g[1]+(z+($<<21&4294967295|$>>>11))&4294967295,j.g[2]=j.g[2]+z&4294967295,j.g[3]=j.g[3]+q&4294967295}r.prototype.u=function(j,I){I===void 0&&(I=j.length);for(var M=I-this.blockSize,U=this.B,z=this.h,q=0;q<I;){if(z==0)for(;q<=M;)i(this,j,q),q+=this.blockSize;if(typeof j=="string"){for(;q<I;)if(U[z++]=j.charCodeAt(q++),z==this.blockSize){i(this,U),z=0;break}}else for(;q<I;)if(U[z++]=j[q++],z==this.blockSize){i(this,U),z=0;break}}this.h=z,this.o+=I},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var I=1;I<j.length-8;++I)j[I]=0;var M=8*this.o;for(I=j.length-8;I<j.length;++I)j[I]=M&255,M/=256;for(this.u(j),j=Array(16),I=M=0;4>I;++I)for(var U=0;32>U;U+=8)j[M++]=this.g[I]>>>U&255;return j};function a(j,I){var M=u;return Object.prototype.hasOwnProperty.call(M,j)?M[j]:M[j]=I(j)}function l(j,I){this.h=I;for(var M=[],U=!0,z=j.length-1;0<=z;z--){var q=j[z]|0;U&&q==I||(M[z]=q,U=!1)}this.g=M}var u={};function f(j){return-128<=j&&128>j?a(j,function(I){return new l([I|0],0>I?-1:0)}):new l([j|0],0>j?-1:0)}function h(j){if(isNaN(j)||!isFinite(j))return p;if(0>j)return E(h(-j));for(var I=[],M=1,U=0;j>=M;U++)I[U]=j/M|0,M*=4294967296;return new l(I,0)}function d(j,I){if(j.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(j.charAt(0)=="-")return E(d(j.substring(1),I));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=h(Math.pow(I,8)),U=p,z=0;z<j.length;z+=8){var q=Math.min(8,j.length-z),$=parseInt(j.substring(z,z+q),I);8>q?(q=h(Math.pow(I,q)),U=U.j(q).add(h($))):(U=U.j(M),U=U.add(h($)))}return U}var p=f(0),y=f(1),b=f(16777216);t=l.prototype,t.m=function(){if(x(this))return-E(this).m();for(var j=0,I=1,M=0;M<this.g.length;M++){var U=this.i(M);j+=(0<=U?U:4294967296+U)*I,I*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(w(this))return"0";if(x(this))return"-"+E(this).toString(j);for(var I=h(Math.pow(j,6)),M=this,U="";;){var z=V(M,I).g;M=A(M,z.j(I));var q=((0<M.g.length?M.g[0]:M.h)>>>0).toString(j);if(M=z,w(M))return q+U;for(;6>q.length;)q="0"+q;U=q+U}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function w(j){if(j.h!=0)return!1;for(var I=0;I<j.g.length;I++)if(j.g[I]!=0)return!1;return!0}function x(j){return j.h==-1}t.l=function(j){return j=A(this,j),x(j)?-1:w(j)?0:1};function E(j){for(var I=j.g.length,M=[],U=0;U<I;U++)M[U]=~j.g[U];return new l(M,~j.h).add(y)}t.abs=function(){return x(this)?E(this):this},t.add=function(j){for(var I=Math.max(this.g.length,j.g.length),M=[],U=0,z=0;z<=I;z++){var q=U+(this.i(z)&65535)+(j.i(z)&65535),$=(q>>>16)+(this.i(z)>>>16)+(j.i(z)>>>16);U=$>>>16,q&=65535,$&=65535,M[z]=$<<16|q}return new l(M,M[M.length-1]&-2147483648?-1:0)};function A(j,I){return j.add(E(I))}t.j=function(j){if(w(this)||w(j))return p;if(x(this))return x(j)?E(this).j(E(j)):E(E(this).j(j));if(x(j))return E(this.j(E(j)));if(0>this.l(b)&&0>j.l(b))return h(this.m()*j.m());for(var I=this.g.length+j.g.length,M=[],U=0;U<2*I;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(var z=0;z<j.g.length;z++){var q=this.i(U)>>>16,$=this.i(U)&65535,ve=j.i(z)>>>16,we=j.i(z)&65535;M[2*U+2*z]+=$*we,P(M,2*U+2*z),M[2*U+2*z+1]+=q*we,P(M,2*U+2*z+1),M[2*U+2*z+1]+=$*ve,P(M,2*U+2*z+1),M[2*U+2*z+2]+=q*ve,P(M,2*U+2*z+2)}for(U=0;U<I;U++)M[U]=M[2*U+1]<<16|M[2*U];for(U=I;U<2*I;U++)M[U]=0;return new l(M,0)};function P(j,I){for(;(j[I]&65535)!=j[I];)j[I+1]+=j[I]>>>16,j[I]&=65535,I++}function C(j,I){this.g=j,this.h=I}function V(j,I){if(w(I))throw Error("division by zero");if(w(j))return new C(p,p);if(x(j))return I=V(E(j),I),new C(E(I.g),E(I.h));if(x(I))return I=V(j,E(I)),new C(E(I.g),I.h);if(30<j.g.length){if(x(j)||x(I))throw Error("slowDivide_ only works with positive integers.");for(var M=y,U=I;0>=U.l(j);)M=L(M),U=L(U);var z=D(M,1),q=D(U,1);for(U=D(U,2),M=D(M,2);!w(U);){var $=q.add(U);0>=$.l(j)&&(z=z.add(M),q=$),U=D(U,1),M=D(M,1)}return I=A(j,z.j(I)),new C(z,I)}for(z=p;0<=j.l(I);){for(M=Math.max(1,Math.floor(j.m()/I.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),q=h(M),$=q.j(I);x($)||0<$.l(j);)M-=U,q=h(M),$=q.j(I);w(q)&&(q=y),z=z.add(q),j=A(j,$)}return new C(z,j)}t.A=function(j){return V(this,j).h},t.and=function(j){for(var I=Math.max(this.g.length,j.g.length),M=[],U=0;U<I;U++)M[U]=this.i(U)&j.i(U);return new l(M,this.h&j.h)},t.or=function(j){for(var I=Math.max(this.g.length,j.g.length),M=[],U=0;U<I;U++)M[U]=this.i(U)|j.i(U);return new l(M,this.h|j.h)},t.xor=function(j){for(var I=Math.max(this.g.length,j.g.length),M=[],U=0;U<I;U++)M[U]=this.i(U)^j.i(U);return new l(M,this.h^j.h)};function L(j){for(var I=j.g.length+1,M=[],U=0;U<I;U++)M[U]=j.i(U)<<1|j.i(U-1)>>>31;return new l(M,j.h)}function D(j,I){var M=I>>5;I%=32;for(var U=j.g.length-M,z=[],q=0;q<U;q++)z[q]=0<I?j.i(q+M)>>>I|j.i(q+M+1)<<32-I:j.i(q+M);return new l(z,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,VD=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=d,To=l}).apply(typeof fC<"u"?fC:typeof self<"u"?self:typeof window<"u"?window:{});var Qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $D,bh,BD,Sp,sw,zD,qD,FD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,S,R){return g==Array.prototype||g==Object.prototype||(g[S]=R.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qm=="object"&&Qm];for(var S=0;S<g.length;++S){var R=g[S];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(g,S){if(S)e:{var R=r;g=g.split(".");for(var B=0;B<g.length-1;B++){var Q=g[B];if(!(Q in R))break e;R=R[Q]}g=g[g.length-1],B=R[g],S=S(B),S!=B&&S!=null&&e(R,g,{configurable:!0,writable:!0,value:S})}}function a(g,S){g instanceof String&&(g+="");var R=0,B=!1,Q={next:function(){if(!B&&R<g.length){var ae=R++;return{value:S(ae,g[ae]),done:!1}}return B=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(g){return g||function(){return a(this,function(S,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(g){var S=typeof g;return S=S!="object"?S:g?Array.isArray(g)?"array":S:"null",S=="array"||S=="object"&&typeof g.length=="number"}function h(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function d(g,S,R){return g.call.apply(g.bind,arguments)}function p(g,S,R){if(!g)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,B),g.apply(S,Q)}}return function(){return g.apply(S,arguments)}}function y(g,S,R){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,y.apply(null,arguments)}function b(g,S){var R=Array.prototype.slice.call(arguments,1);return function(){var B=R.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function w(g,S){function R(){}R.prototype=S.prototype,g.aa=S.prototype,g.prototype=new R,g.prototype.constructor=g,g.Qb=function(B,Q,ae){for(var be=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)be[dt-2]=arguments[dt];return S.prototype[Q].apply(B,be)}}function x(g){const S=g.length;if(0<S){const R=Array(S);for(let B=0;B<S;B++)R[B]=g[B];return R}return[]}function E(g,S){for(let R=1;R<arguments.length;R++){const B=arguments[R];if(f(B)){const Q=g.length||0,ae=B.length||0;g.length=Q+ae;for(let be=0;be<ae;be++)g[Q+be]=B[be]}else g.push(B)}}class A{constructor(S,R){this.i=S,this.j=R,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function P(g){return/^[\s\xa0]*$/.test(g)}function C(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function V(g){return V[" "](g),g}V[" "]=function(){};var L=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function D(g,S,R){for(const B in g)S.call(R,g[B],B,g)}function j(g,S){for(const R in g)S.call(void 0,g[R],R,g)}function I(g){const S={};for(const R in g)S[R]=g[R];return S}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(g,S){let R,B;for(let Q=1;Q<arguments.length;Q++){B=arguments[Q];for(R in B)g[R]=B[R];for(let ae=0;ae<M.length;ae++)R=M[ae],Object.prototype.hasOwnProperty.call(B,R)&&(g[R]=B[R])}}function z(g){var S=1;g=g.split(":");const R=[];for(;0<S&&g.length;)R.push(g.shift()),S--;return g.length&&R.push(g.join(":")),R}function q(g){u.setTimeout(()=>{throw g},0)}function $(){var g=xe;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class ve{constructor(){this.h=this.g=null}add(S,R){const B=we.get();B.set(S,R),this.h?this.h.next=B:this.g=B,this.h=B}}var we=new A(()=>new G,g=>g.reset());class G{constructor(){this.next=this.g=this.h=null}set(S,R){this.h=S,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let re,pe=!1,xe=new ve,H=()=>{const g=u.Promise.resolve(void 0);re=()=>{g.then(oe)}};var oe=()=>{for(var g;g=$();){try{g.h.call(g.g)}catch(R){q(R)}var S=we;S.j(g),100>S.h&&(S.h++,g.next=S.g,S.g=g)}pe=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const R=()=>{};u.addEventListener("test",R,S),u.removeEventListener("test",R,S)}catch{}return g})();function Ue(g,S){if(me.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var R=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget){if(L){e:{try{V(S.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(S=null)}}else R=="mouseover"?S=g.fromElement:R=="mouseout"&&(S=g.toElement);this.relatedTarget=S,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ve[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ue.aa.h.call(this)}}w(Ue,me);var Ve={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var nn="closure_listenable_"+(1e6*Math.random()|0),Tt=0;function _e(g,S,R,B,Q){this.listener=g,this.proxy=null,this.src=S,this.type=R,this.capture=!!B,this.ha=Q,this.key=++Tt,this.da=this.fa=!1}function De(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ke(g){this.src=g,this.g={},this.h=0}Ke.prototype.add=function(g,S,R,B,Q){var ae=g.toString();g=this.g[ae],g||(g=this.g[ae]=[],this.h++);var be=Yt(g,S,B,Q);return-1<be?(S=g[be],R||(S.fa=!1)):(S=new _e(S,this.src,ae,!!B,Q),S.fa=R,g.push(S)),S};function ge(g,S){var R=S.type;if(R in g.g){var B=g.g[R],Q=Array.prototype.indexOf.call(B,S,void 0),ae;(ae=0<=Q)&&Array.prototype.splice.call(B,Q,1),ae&&(De(S),g.g[R].length==0&&(delete g.g[R],g.h--))}}function Yt(g,S,R,B){for(var Q=0;Q<g.length;++Q){var ae=g[Q];if(!ae.da&&ae.listener==S&&ae.capture==!!R&&ae.ha==B)return Q}return-1}var et="closure_lm_"+(1e6*Math.random()|0),ln={};function dn(g,S,R,B,Q){if(Array.isArray(S)){for(var ae=0;ae<S.length;ae++)dn(g,S[ae],R,B,Q);return null}return R=js(R),g&&g[nn]?g.K(S,R,h(B)?!!B.capture:!1,Q):Zt(g,S,R,!1,B,Q)}function Zt(g,S,R,B,Q,ae){if(!S)throw Error("Invalid event type");var be=h(Q)?!!Q.capture:!!Q,dt=oi(g);if(dt||(g[et]=dt=new Ke(g)),R=dt.add(S,R,B,be,ae),R.proxy)return R;if(B=Rs(),R.proxy=B,B.src=g,B.listener=R,g.addEventListener)Ae||(Q=be),Q===void 0&&(Q=!1),g.addEventListener(S.toString(),B,Q);else if(g.attachEvent)g.attachEvent(ka(S.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Rs(){function g(R){return S.call(g.src,g.listener,R)}const S=Mi;return g}function Go(g,S,R,B,Q){if(Array.isArray(S))for(var ae=0;ae<S.length;ae++)Go(g,S[ae],R,B,Q);else B=h(B)?!!B.capture:!!B,R=js(R),g&&g[nn]?(g=g.i,S=String(S).toString(),S in g.g&&(ae=g.g[S],R=Yt(ae,R,B,Q),-1<R&&(De(ae[R]),Array.prototype.splice.call(ae,R,1),ae.length==0&&(delete g.g[S],g.h--)))):g&&(g=oi(g))&&(S=g.g[S.toString()],g=-1,S&&(g=Yt(S,R,B,Q)),(R=-1<g?S[g]:null)&&Ps(R))}function Ps(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[nn])ge(S.i,g);else{var R=g.type,B=g.proxy;S.removeEventListener?S.removeEventListener(R,B,g.capture):S.detachEvent?S.detachEvent(ka(R),B):S.addListener&&S.removeListener&&S.removeListener(B),(R=oi(S))?(ge(R,g),R.h==0&&(R.src=null,S[et]=null)):De(g)}}}function ka(g){return g in ln?ln[g]:ln[g]="on"+g}function Mi(g,S){if(g.da)g=!0;else{S=new Ue(S,this);var R=g.listener,B=g.ha||g.src;g.fa&&Ps(g),g=R.call(B,S)}return g}function oi(g){return g=g[et],g instanceof Ke?g:null}var Ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function js(g){return typeof g=="function"?g:(g[Ns]||(g[Ns]=function(S){return g.handleEvent(S)}),g[Ns])}function _t(){ie.call(this),this.i=new Ke(this),this.M=this,this.F=null}w(_t,ie),_t.prototype[nn]=!0,_t.prototype.removeEventListener=function(g,S,R,B){Go(this,g,S,R,B)};function nt(g,S){var R,B=g.F;if(B)for(R=[];B;B=B.F)R.push(B);if(g=g.M,B=S.type||S,typeof S=="string")S=new me(S,g);else if(S instanceof me)S.target=S.target||g;else{var Q=S;S=new me(B,g),U(S,Q)}if(Q=!0,R)for(var ae=R.length-1;0<=ae;ae--){var be=S.g=R[ae];Q=or(be,B,!0,S)&&Q}if(be=S.g=g,Q=or(be,B,!0,S)&&Q,Q=or(be,B,!1,S)&&Q,R)for(ae=0;ae<R.length;ae++)be=S.g=R[ae],Q=or(be,B,!1,S)&&Q}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var g=this.i,S;for(S in g.g){for(var R=g.g[S],B=0;B<R.length;B++)De(R[B]);delete g.g[S],g.h--}}this.F=null},_t.prototype.K=function(g,S,R,B){return this.i.add(String(g),S,!1,R,B)},_t.prototype.L=function(g,S,R,B){return this.i.add(String(g),S,!0,R,B)};function or(g,S,R,B){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();for(var Q=!0,ae=0;ae<S.length;++ae){var be=S[ae];if(be&&!be.da&&be.capture==R){var dt=be.listener,Tn=be.ha||be.src;be.fa&&ge(g.i,be),Q=dt.call(Tn,B)!==!1&&Q}}return Q&&!B.defaultPrevented}function mn(g,S,R){if(typeof g=="function")R&&(g=y(g,R));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:u.setTimeout(g,S||0)}function fu(g){g.g=mn(()=>{g.g=null,g.i&&(g.i=!1,fu(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class li extends ie{constructor(S,R){super(),this.m=S,this.l=R,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(g){ie.call(this),this.h=g,this.g={}}w(na,ie);var ra=[];function ia(g){D(g.g,function(S,R){this.g.hasOwnProperty(R)&&Ps(S)},g),g.g={}}na.prototype.N=function(){na.aa.N.call(this),ia(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lr=u.JSON.stringify,Ma=u.JSON.parse,ui=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Ds(){}Ds.prototype.h=null;function La(g){return g.h||(g.h=g.i())}function Wo(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){me.call(this,"d")}w(Li,me);function Is(){me.call(this,"c")}w(Is,me);var vr={},aa=null;function sa(){return aa=aa||new _t}vr.La="serverreachability";function ks(g){me.call(this,vr.La,g)}w(ks,me);function K(g){const S=sa();nt(S,new ks(S))}vr.STAT_EVENT="statevent";function X(g,S){me.call(this,vr.STAT_EVENT,g),this.stat=S}w(X,me);function ee(g){const S=sa();nt(S,new X(S,g))}vr.Ma="timingevent";function fe(g,S){me.call(this,vr.Ma,g),this.size=S}w(fe,me);function ye(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},S)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function Ie(g,S,R,B,Q,ae){g.info(function(){if(g.g)if(ae)for(var be="",dt=ae.split("&"),Tn=0;Tn<dt.length;Tn++){var mt=dt[Tn].split("=");if(1<mt.length){var Vn=mt[0];mt=mt[1];var An=Vn.split("_");be=2<=An.length&&An[1]=="type"?be+(Vn+"="+mt+"&"):be+(Vn+"=redacted&")}}else be=null;else be=ae;return"XMLHTTP REQ ("+B+") [attempt "+Q+"]: "+S+`
`+R+`
`+be})}function Pe(g,S,R,B,Q,ae,be){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Q+"]: "+S+`
`+R+`
`+ae+" "+be})}function Ne(g,S,R,B){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+je(g,R)+(B?" "+B:"")})}function $e(g,S){g.info(function(){return"TIMEOUT: "+S})}Ee.prototype.info=function(){};function je(g,S){if(!g.g)return S;if(!S)return null;try{var R=JSON.parse(S);if(R){for(g=0;g<R.length;g++)if(Array.isArray(R[g])){var B=R[g];if(!(2>B.length)){var Q=B[1];if(Array.isArray(Q)&&!(1>Q.length)){var ae=Q[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var be=1;be<Q.length;be++)Q[be]=""}}}}return Lr(R)}catch{return S}}var Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ze={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ht;function Ct(){}w(Ct,Ds),Ct.prototype.g=function(){return new XMLHttpRequest},Ct.prototype.i=function(){return{}},ht=new Ct;function wt(g,S,R,B){this.j=g,this.i=S,this.l=R,this.R=B||1,this.U=new na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ye}function Ye(){this.i=null,this.g="",this.h=!1}var xt={},Tr={};function Yn(g,S,R){g.L=1,g.v=Qo($r(S)),g.m=R,g.P=!0,Ln(g,null)}function Ln(g,S){g.F=Date.now(),Ur(g),g.A=$r(g.v);var R=g.A,B=g.R;Array.isArray(B)||(B=[String(B)]),ff(R.i,"t",B),g.C=0,R=g.j.J,g.h=new Ye,g.g=Fd(g.j,R?S:null,!g.m),0<g.O&&(g.M=new li(y(g.Y,g,g.g),g.O)),S=g.U,R=g.g,B=g.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(ra[0]=Q.toString()),Q=ra);for(var ae=0;ae<Q.length;ae++){var be=dn(R,Q[ae],B||S.handleEvent,!1,S.h||S);if(!be)break;S.g[be.key]=be}S=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,S)):(g.u="GET",g.g.ea(g.A,g.u,null,S)),K(),Ie(g.i,g.u,g.A,g.l,g.R,g.m)}wt.prototype.ca=function(g){g=g.target;const S=this.M;S&&pi(g)==3?S.j():this.Y(g)},wt.prototype.Y=function(g){try{if(g==this.g)e:{const An=pi(this.g);var S=this.g.Ba();const Fa=this.g.Z();if(!(3>An)&&(An!=3||this.g&&(this.h.h||this.g.oa()||Md(this.g)))){this.J||An!=4||S==7||(S==8||0>=Fa?K(3):K(2)),Vr(this);var R=this.g.Z();this.X=R;t:if(br(this)){var B=Md(this.g);g="";var Q=B.length,ae=pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),_r(this);var be="";break t}this.h.i=new u.TextDecoder}for(S=0;S<Q;S++)this.h.h=!0,g+=this.h.i.decode(B[S],{stream:!(ae&&S==Q-1)});B.length=0,this.h.g+=g,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=R==200,Pe(this.i,this.u,this.A,this.l,this.R,An,R),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Tn=this.g;if((dt=Tn.g?Tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(dt)){var mt=dt;break t}}mt=null}if(R=mt)Ne(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xt(this,R);else{this.o=!1,this.s=3,ee(12),Fe(this),_r(this);break e}}if(this.P){R=!0;let Qn;for(;!this.J&&this.C<be.length;)if(Qn=Ms(this,be),Qn==Tr){An==4&&(this.s=4,ee(14),R=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}else if(Qn==xt){this.s=4,ee(15),Ne(this.i,this.l,be,"[Invalid Chunk]"),R=!1;break}else Ne(this.i,this.l,Qn,null),Xt(this,Qn);if(br(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),An!=4||be.length!=0||this.h.h||(this.s=1,ee(16),R=!1),this.o=this.o&&R,!R)Ne(this.i,this.l,be,"[Invalid Chunked Response]"),Fe(this),_r(this);else if(0<be.length&&!this.W){this.W=!0;var Vn=this.j;Vn.g==this&&Vn.ba&&!Vn.M&&(Vn.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),al(Vn),Vn.M=!0,ee(11))}}else Ne(this.i,this.l,be,null),Xt(this,be);An==4&&Fe(this),this.o&&!this.J&&(An==4?Bd(this.j,this):(this.o=!1,Ur(this)))}else Wy(this.g),R==400&&0<be.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Fe(this),_r(this)}}}catch{}finally{}};function br(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Ms(g,S){var R=g.C,B=S.indexOf(`
`,R);return B==-1?Tr:(R=Number(S.substring(R,B)),isNaN(R)?xt:(B+=1,B+R>S.length?Tr:(S=S.slice(B,B+R),g.C=B+R,S)))}wt.prototype.cancel=function(){this.J=!0,Fe(this)};function Ur(g){g.S=Date.now()+g.I,fi(g,g.I)}function fi(g,S){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ye(y(g.ba,g),S)}function Vr(g){g.B&&(u.clearTimeout(g.B),g.B=null)}wt.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?($e(this.i,this.A),this.L!=2&&(K(),ee(17)),Fe(this),this.s=2,_r(this)):fi(this,this.S-g)};function _r(g){g.j.G==0||g.J||Bd(g.j,g)}function Fe(g){Vr(g);var S=g.M;S&&typeof S.ma=="function"&&S.ma(),g.M=null,ia(g.U),g.g&&(S=g.g,g.g=null,S.abort(),S.ma())}function Xt(g,S){try{var R=g.j;if(R.G!=0&&(R.g==g||Ls(R.h,g))){if(!g.K&&Ls(R.h,g)&&R.G==3){try{var B=R.Da.g.parse(S)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Q=B;if(Q[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<g.F)_u(R),vu(R);else break e;gf(R),ee(18)}}else R.za=Q[1],0<R.za-R.T&&37500>Q[2]&&R.F&&R.v==0&&!R.C&&(R.C=ye(y(R.Za,R),6e3));if(1>=Vi(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else qa(R,11)}else if((g.K||R.g==g)&&_u(R),!P(S))for(Q=R.Da.g.parse(S),S=0;S<Q.length;S++){let mt=Q[S];if(R.T=mt[0],mt=mt[1],R.G==2)if(mt[0]=="c"){R.K=mt[1],R.ia=mt[2];const Vn=mt[3];Vn!=null&&(R.la=Vn,R.j.info("VER="+R.la));const An=mt[4];An!=null&&(R.Aa=An,R.j.info("SVER="+R.Aa));const Fa=mt[5];Fa!=null&&typeof Fa=="number"&&0<Fa&&(B=1.5*Fa,R.L=B,R.j.info("backChannelRequestTimeoutMs_="+B)),B=R;const Qn=g.g;if(Qn){const da=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var ae=B.h;ae.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Us(ae,ae.h),ae.h=null))}if(B.D){const vf=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;vf&&(B.ya=vf,Dt(B.I,B.D,vf))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-g.F,R.j.info("Handshake RTT: "+R.R+"ms")),B=R;var be=g;if(B.qa=qd(B,B.J?B.ia:null,B.W),be.K){wr(B.h,be);var dt=be,Tn=B.L;Tn&&(dt.I=Tn),dt.B&&(Vr(dt),Ur(dt)),B.g=be}else Vd(B);0<R.i.length&&bu(R)}else mt[0]!="stop"&&mt[0]!="close"||qa(R,7);else R.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?qa(R,7):mf(R):mt[0]!="noop"&&R.l&&R.l.ta(mt),R.v=0)}}K(4)}catch{}}var Ui=class{constructor(g,S){this.g=g,this.map=S}};function Xn(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $t(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Vi(g){return g.h?1:g.g?g.g.size:0}function Ls(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function Us(g,S){g.g?g.g.add(S):g.h=S}function wr(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}Xn.prototype.cancel=function(){if(this.i=of(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function of(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const R of g.g.values())S=S.concat(R.D);return S}return x(g.i)}function Fy(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(f(g)){for(var S=[],R=g.length,B=0;B<R;B++)S.push(g[B]);return S}S=[],R=0;for(B in g)S[R++]=g[B];return S}function hu(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(f(g)||typeof g=="string"){var S=[];g=g.length;for(var R=0;R<g;R++)S.push(R);return S}S=[],R=0;for(const B in g)S[R++]=B;return S}}}function lf(g,S){if(g.forEach&&typeof g.forEach=="function")g.forEach(S,void 0);else if(f(g)||typeof g=="string")Array.prototype.forEach.call(g,S,void 0);else for(var R=hu(g),B=Fy(g),Q=B.length,ae=0;ae<Q;ae++)S.call(void 0,B[ae],R&&R[ae],g)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hy(g,S){if(g){g=g.split("&");for(var R=0;R<g.length;R++){var B=g[R].indexOf("="),Q=null;if(0<=B){var ae=g[R].substring(0,B);Q=g[R].substring(B+1)}else ae=g[R];S(ae,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function pn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof pn){this.h=g.h,Xo(this,g.j),this.o=g.o,this.g=g.g,Vs(this,g.s),this.l=g.l;var S=g.i,R=new Va;R.i=S.i,S.g&&(R.g=new Map(S.g),R.h=S.h),Ua(this,R),this.m=g.m}else g&&(S=String(g).match(Yo))?(this.h=!1,Xo(this,S[1]||"",!0),this.o=hi(S[2]||""),this.g=hi(S[3]||"",!0),Vs(this,S[4]),this.l=hi(S[5]||"",!0),Ua(this,S[6]||"",!0),this.m=hi(S[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}pn.prototype.toString=function(){var g=[],S=this.j;S&&g.push(Jo(S,uf,!0),":");var R=this.g;return(R||S=="file")&&(g.push("//"),(S=this.o)&&g.push(Jo(S,uf,!0),"@"),g.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&g.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&g.push("/"),g.push(Jo(R,R.charAt(0)=="/"?Ky:cf,!0))),(R=this.i.toString())&&g.push("?",R),(R=this.m)&&g.push("#",Jo(R,du)),g.join("")};function $r(g){return new pn(g)}function Xo(g,S,R){g.j=R?hi(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function Vs(g,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);g.s=S}else g.s=null}function Ua(g,S,R){S instanceof Va?(g.i=S,Id(g.i,g.h)):(R||(S=Jo(S,Gy)),g.i=new Va(S,g.h))}function Dt(g,S,R){g.i.set(S,R)}function Qo(g){return Dt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function hi(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Jo(g,S,R){return typeof g=="string"?(g=encodeURI(g).replace(S,Dd),R&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Dd(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var uf=/[#\/\?@]/g,cf=/[#\?:]/g,Ky=/[#\?]/g,Gy=/[#\?@]/g,du=/#/g;function Va(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function di(g){g.g||(g.g=new Map,g.h=0,g.i&&Hy(g.i,function(S,R){g.add(decodeURIComponent(S.replace(/\+/g," ")),R)}))}t=Va.prototype,t.add=function(g,S){di(this),this.i=null,g=oa(this,g);var R=this.g.get(g);return R||this.g.set(g,R=[]),R.push(S),this.h+=1,this};function $a(g,S){di(g),S=oa(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function Ba(g,S){return di(g),S=oa(g,S),g.g.has(S)}t.forEach=function(g,S){di(this),this.g.forEach(function(R,B){R.forEach(function(Q){g.call(S,Q,B,this)},this)},this)},t.na=function(){di(this);const g=Array.from(this.g.values()),S=Array.from(this.g.keys()),R=[];for(let B=0;B<S.length;B++){const Q=g[B];for(let ae=0;ae<Q.length;ae++)R.push(S[B])}return R},t.V=function(g){di(this);let S=[];if(typeof g=="string")Ba(this,g)&&(S=S.concat(this.g.get(oa(this,g))));else{g=Array.from(this.g.values());for(let R=0;R<g.length;R++)S=S.concat(g[R])}return S},t.set=function(g,S){return di(this),this.i=null,g=oa(this,g),Ba(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},t.get=function(g,S){return g?(g=this.V(g),0<g.length?String(g[0]):S):S};function ff(g,S,R){$a(g,S),0<R.length&&(g.i=null,g.g.set(oa(g,S),x(R)),g.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(var R=0;R<S.length;R++){var B=S[R];const ae=encodeURIComponent(String(B)),be=this.V(B);for(B=0;B<be.length;B++){var Q=ae;be[B]!==""&&(Q+="="+encodeURIComponent(String(be[B]))),g.push(Q)}}return this.i=g.join("&")};function oa(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function Id(g,S){S&&!g.j&&(di(g),g.i=null,g.g.forEach(function(R,B){var Q=B.toLowerCase();B!=Q&&($a(this,B),ff(this,Q,R))},g)),g.j=S}function Zo(g,S){const R=new Ee;if(u.Image){const B=new Image;B.onload=b(mi,R,"TestLoadImage: loaded",!0,S,B),B.onerror=b(mi,R,"TestLoadImage: error",!1,S,B),B.onabort=b(mi,R,"TestLoadImage: abort",!1,S,B),B.ontimeout=b(mi,R,"TestLoadImage: timeout",!1,S,B),u.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else S(!1)}function $i(g,S){const R=new Ee,B=new AbortController,Q=setTimeout(()=>{B.abort(),mi(R,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:B.signal}).then(ae=>{clearTimeout(Q),ae.ok?mi(R,"TestPingServer: ok",!0,S):mi(R,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Q),mi(R,"TestPingServer: error",!1,S)})}function mi(g,S,R,B,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),B(R)}catch{}}function el(){this.g=new ui}function la(g,S,R){const B=R||"";try{lf(g,function(Q,ae){let be=Q;h(Q)&&(be=Lr(Q)),S.push(B+ae+"="+encodeURIComponent(be))})}catch(Q){throw S.push(B+"type="+encodeURIComponent("_badmap")),Q}}function $s(g){this.l=g.Ub||null,this.j=g.eb||!1}w($s,Ds),$s.prototype.g=function(){return new za(this.l,this.j)},$s.prototype.i=(function(g){return function(){return g}})({});function za(g,S){_t.call(this),this.D=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(za,_t),t=za.prototype,t.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=S,this.readyState=1,ca(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(S.body=g),(this.D||u).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hf(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function hf(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?ua(this):ca(this),this.readyState==3&&hf(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,ua(this))},t.Qa=function(g){this.g&&(this.response=g,ua(this))},t.ga=function(){this.g&&ua(this)};function ua(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ca(g)}t.setRequestHeader=function(g,S){this.u.append(g,S)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var R=S.next();!R.done;)R=R.value,g.push(R[0]+": "+R[1]),R=S.next();return g.join(`\r
`)};function ca(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(za.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function df(g){let S="";return D(g,function(R,B){S+=B,S+=":",S+=R,S+=`\r
`}),S}function Un(g,S,R){e:{for(B in R){var B=!1;break e}B=!0}B||(R=df(R),typeof g=="string"?R!=null&&encodeURIComponent(String(R)):Dt(g,S,R))}function At(g){_t.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(At,_t);var mu=/^https?$/i,tl=["POST","PUT"];t=At.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,S,R,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ht.g(),this.v=this.o?La(this.o):La(ht),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(ae){kd(this,ae);return}if(g=R||"",R=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Q in B)R.set(Q,B[Q]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ae of B.keys())R.set(ae,B.get(ae));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(R.keys()).find(ae=>ae.toLowerCase()=="content-type"),Q=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(tl,S,void 0))||B||Q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,be]of R)this.g.setRequestHeader(ae,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nl(this),this.u=!0,this.g.send(g),this.u=!1}catch(ae){kd(this,ae)}};function kd(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.m=5,pu(g),fa(g)}function pu(g){g.A||(g.A=!0,nt(g,"complete"),nt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,nt(this,"complete"),nt(this,"abort"),fa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fa(this,!0)),At.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gu(this):this.bb())},t.bb=function(){gu(this)};function gu(g){if(g.h&&typeof l<"u"&&(!g.v[1]||pi(g)!=4||g.Z()!=2)){if(g.u&&pi(g)==4)mn(g.Ea,0,g);else if(nt(g,"readystatechange"),pi(g)==4){g.h=!1;try{const be=g.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var R;if(!(R=S)){var B;if(B=be===0){var Q=String(g.D).match(Yo)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),B=!mu.test(Q?Q.toLowerCase():"")}R=B}if(R)nt(g,"complete"),nt(g,"success");else{g.m=6;try{var ae=2<pi(g)?g.g.statusText:""}catch{ae=""}g.l=ae+" ["+g.Z()+"]",pu(g)}}finally{fa(g)}}}}function fa(g,S){if(g.g){nl(g);const R=g.g,B=g.v[0]?()=>{}:null;g.g=null,g.v=null,S||nt(g,"ready");try{R.onreadystatechange=B}catch{}}}function nl(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function pi(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<pi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),Ma(S)}};function Md(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Wy(g){const S={};g=(g.g&&2<=pi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(P(g[B]))continue;var R=z(g[B]);const Q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ae=S[Q]||[];S[Q]=ae,ae.push(R)}j(S,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rl(g,S,R){return R&&R.internalChannelParams&&R.internalChannelParams[g]||S}function yu(g){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rl("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rl("baseRetryDelayMs",5e3,g),this.cb=rl("retryDelaySeedMs",1e4,g),this.Wa=rl("forwardChannelMaxRetries",2,g),this.wa=rl("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Xn(g&&g.concurrentRequestLimit),this.Da=new el,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yu.prototype,t.la=8,t.G=1,t.connect=function(g,S,R,B){ee(0),this.W=g,this.H=S||{},R&&B!==void 0&&(this.H.OSID=R,this.H.OAID=B),this.F=this.X,this.I=qd(this,null,this.W),bu(this)};function mf(g){if(Ld(g),g.G==3){var S=g.U++,R=$r(g.I);if(Dt(R,"SID",g.K),Dt(R,"RID",S),Dt(R,"TYPE","terminate"),il(g,R),S=new wt(g,g.j,S),S.L=2,S.v=Qo($r(R)),R=!1,u.navigator&&u.navigator.sendBeacon)try{R=u.navigator.sendBeacon(S.v.toString(),"")}catch{}!R&&u.Image&&(new Image().src=S.v,R=!0),R||(S.g=Fd(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Ur(S)}zd(g)}function vu(g){g.g&&(al(g),g.g.cancel(),g.g=null)}function Ld(g){vu(g),g.u&&(u.clearTimeout(g.u),g.u=null),_u(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function bu(g){if(!$t(g.h)&&!g.s){g.s=!0;var S=g.Ga;re||H(),pe||(re(),pe=!0),xe.add(S,g),g.B=0}}function Yy(g,S){return Vi(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=S.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ye(y(g.Ga,g,S),yf(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Q=new wt(this,this.j,g);let ae=this.o;if(this.S&&(ae?(ae=I(ae),U(ae,this.S)):ae=this.S),this.m!==null||this.O||(Q.H=ae,ae=null),this.P)e:{for(var S=0,R=0;R<this.i.length;R++){t:{var B=this.i[R];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(S+=B,4096<S){S=R;break e}if(S===4096||R===this.i.length-1){S=R+1;break e}}S=1e3}else S=1e3;S=Ud(this,Q,S),R=$r(this.I),Dt(R,"RID",g),Dt(R,"CVER",22),this.D&&Dt(R,"X-HTTP-Session-Id",this.D),il(this,R),ae&&(this.O?S="headers="+encodeURIComponent(String(df(ae)))+"&"+S:this.m&&Un(R,this.m,ae)),Us(this.h,Q),this.Ua&&Dt(R,"TYPE","init"),this.P?(Dt(R,"$req",S),Dt(R,"SID","null"),Q.T=!0,Yn(Q,R,null)):Yn(Q,R,S),this.G=2}}else this.G==3&&(g?pf(this,g):this.i.length==0||$t(this.h)||pf(this))};function pf(g,S){var R;S?R=S.l:R=g.U++;const B=$r(g.I);Dt(B,"SID",g.K),Dt(B,"RID",R),Dt(B,"AID",g.T),il(g,B),g.m&&g.o&&Un(B,g.m,g.o),R=new wt(g,g.j,R,g.B+1),g.m===null&&(R.H=g.o),S&&(g.i=S.D.concat(g.i)),S=Ud(g,R,1e3),R.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Us(g.h,R),Yn(R,B,S)}function il(g,S){g.H&&D(g.H,function(R,B){Dt(S,B,R)}),g.l&&lf({},function(R,B){Dt(S,B,R)})}function Ud(g,S,R){R=Math.min(g.i.length,R);var B=g.l?y(g.l.Na,g.l,g):null;e:{var Q=g.i;let ae=-1;for(;;){const be=["count="+R];ae==-1?0<R?(ae=Q[0].g,be.push("ofs="+ae)):ae=0:be.push("ofs="+ae);let dt=!0;for(let Tn=0;Tn<R;Tn++){let mt=Q[Tn].g;const Vn=Q[Tn].map;if(mt-=ae,0>mt)ae=Math.max(0,Q[Tn].g-100),dt=!1;else try{la(Vn,be,"req"+mt+"_")}catch{B&&B(Vn)}}if(dt){B=be.join("&");break e}}}return g=g.i.splice(0,R),S.D=g,B}function Vd(g){if(!g.g&&!g.u){g.Y=1;var S=g.Fa;re||H(),pe||(re(),pe=!0),xe.add(S,g),g.v=0}}function gf(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ye(y(g.Fa,g),yf(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,$d(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ye(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),vu(this),$d(this))};function al(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function $d(g){g.g=new wt(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var S=$r(g.qa);Dt(S,"RID","rpc"),Dt(S,"SID",g.K),Dt(S,"AID",g.T),Dt(S,"CI",g.F?"0":"1"),!g.F&&g.ja&&Dt(S,"TO",g.ja),Dt(S,"TYPE","xmlhttp"),il(g,S),g.m&&g.o&&Un(S,g.m,g.o),g.L&&(g.g.I=g.L);var R=g.g;g=g.ia,R.L=1,R.v=Qo($r(S)),R.m=null,R.P=!0,Ln(R,g)}t.Za=function(){this.C!=null&&(this.C=null,vu(this),gf(this),ee(19))};function _u(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Bd(g,S){var R=null;if(g.g==S){_u(g),al(g),g.g=null;var B=2}else if(Ls(g.h,S))R=S.D,wr(g.h,S),B=1;else return;if(g.G!=0){if(S.o)if(B==1){R=S.m?S.m.length:0,S=Date.now()-S.F;var Q=g.B;B=sa(),nt(B,new fe(B,R)),bu(g)}else Vd(g);else if(Q=S.s,Q==3||Q==0&&0<S.X||!(B==1&&Yy(g,S)||B==2&&gf(g)))switch(R&&0<R.length&&(S=g.h,S.i=S.i.concat(R)),Q){case 1:qa(g,5);break;case 4:qa(g,10);break;case 3:qa(g,6);break;default:qa(g,2)}}}function yf(g,S){let R=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(R*=2),R*S}function qa(g,S){if(g.j.info("Error code "+S),S==2){var R=y(g.fb,g),B=g.Xa;const Q=!B;B=new pn(B||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xo(B,"https"),Qo(B),Q?Zo(B.toString(),R):$i(B.toString(),R)}else ee(2);g.G=0,g.l&&g.l.sa(S),zd(g),Ld(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function zd(g){if(g.G=0,g.ka=[],g.l){const S=of(g.h);(S.length!=0||g.i.length!=0)&&(E(g.ka,S),E(g.ka,g.i),g.h.i.length=0,x(g.i),g.i.length=0),g.l.ra()}}function qd(g,S,R){var B=R instanceof pn?$r(R):new pn(R);if(B.g!="")S&&(B.g=S+"."+B.g),Vs(B,B.s);else{var Q=u.location;B=Q.protocol,S=S?S+"."+Q.hostname:Q.hostname,Q=+Q.port;var ae=new pn(null);B&&Xo(ae,B),S&&(ae.g=S),Q&&Vs(ae,Q),R&&(ae.l=R),B=ae}return R=g.D,S=g.ya,R&&S&&Dt(B,R,S),Dt(B,"VER",g.la),il(g,B),B}function Fd(g,S,R){if(S&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Ca&&!g.pa?new At(new $s({eb:R})):new At(g.pa),S.Ha(g.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hd(){}t=Hd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wu(){}wu.prototype.g=function(g,S){return new xr(g,S)};function xr(g,S){_t.call(this),this.g=new yu(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(g?g["X-WebChannel-Client-Profile"]=S.va:g={"X-WebChannel-Client-Profile":S.va}),this.g.S=g,(g=S&&S.Sb)&&!P(g)&&(this.g.m=g),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!P(S)&&(this.g.D=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new ha(this)}w(xr,_t),xr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xr.prototype.close=function(){mf(this.g)},xr.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var R={};R.__data__=g,g=R}else this.u&&(R={},R.__data__=Lr(g),g=R);S.i.push(new Ui(S.Ya++,g)),S.G==3&&bu(S)},xr.prototype.N=function(){this.g.l=null,delete this.j,mf(this.g),delete this.g,xr.aa.N.call(this)};function Kd(g){Li.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){e:{for(const R in S){g=R;break e}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}w(Kd,Li);function Gd(){Is.call(this),this.status=1}w(Gd,Is);function ha(g){this.g=g}w(ha,Hd),ha.prototype.ua=function(){nt(this.g,"a")},ha.prototype.ta=function(g){nt(this.g,new Kd(g))},ha.prototype.sa=function(g){nt(this.g,new Gd)},ha.prototype.ra=function(){nt(this.g,"b")},wu.prototype.createWebChannel=wu.prototype.g,xr.prototype.send=xr.prototype.o,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,FD=function(){return new wu},qD=function(){return sa()},zD=vr,sw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Sp=Oe,Ze.COMPLETE="complete",BD=Ze,Wo.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",_t.prototype.listen=_t.prototype.K,bh=Wo,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,$D=At}).apply(typeof Qm<"u"?Qm:typeof self<"u"?self:typeof window<"u"?window:{});const hC="@firebase/firestore",dC="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Bx("@firebase/firestore");function uc(){return Fl.logLevel}function Se(t,...e){if(Fl.logLevel<=yt.DEBUG){const n=e.map(qx);Fl.debug(`Firestore (${Fc}): ${t}`,...n)}}function ps(t,...e){if(Fl.logLevel<=yt.ERROR){const n=e.map(qx);Fl.error(`Firestore (${Fc}): ${t}`,...n)}}function Oc(t,...e){if(Fl.logLevel<=yt.WARN){const n=e.map(qx);Fl.warn(`Firestore (${Fc}): ${t}`,...n)}}function qx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,HD(t,r,n)}function HD(t,e,n){let r=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ps(r),new Error(r)}function Ot(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||HD(e,i,r)}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends eu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class az{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hr.UNAUTHENTICATED)))}shutdown(){}}class sz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oz{constructor(e){this.t=e,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ot(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new us;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new us,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new us)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot(typeof r.accessToken=="string",31837,{l:r}),new KD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ot(e===null||typeof e=="string",2055,{h:e}),new hr(e)}}class lz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new lz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ID(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ot(this.o===void 0,3512);const r=a=>{a.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Se("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=fz(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function ow(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return tb(i)===tb(a)?ct(i,a):tb(i)?1:-1}return ct(t.length,e.length)}const hz=55296,dz=57343;function tb(t){const e=t.charCodeAt(0);return e>=hz&&e<=dz}function Cc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="__name__";class _a{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _a.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _a?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=_a.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ct(e.length,n.length)}static compareSegments(e,n){const r=_a.isNumericId(e),i=_a.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?_a.extractNumericId(e).compare(_a.extractNumericId(n)):ow(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return To.fromString(e.substring(4,e.length-2))}}class Ht extends _a{construct(e,n,r){return new Ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ht(n)}static emptyPath(){return new Ht([])}}const mz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends _a{construct(e,n,r){return new ir(e,n,r)}static isValidIdentifier(e){return mz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pC}static keyField(){return new ir([pC])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ke(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ke(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ke(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new ke(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ir(n)}static emptyPath(){return new ir([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Ht.fromString(e))}static fromName(e){return new Be(Ht.fromString(e).popFirst(5))}static empty(){return new Be(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t,e,n){if(!n)throw new ke(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pz(t,e,n,r){if(e===!0&&r===!0)throw new ke(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gC(t){if(!Be.isDocumentKey(t))throw new ke(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yC(t){if(Be.isDocumentKey(t))throw new ke(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function Hl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hx(t);throw new ke(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,e){const n={typeString:t};return e&&(n.value=e),n}function hd(t,e){if(!WD(t))throw new ke(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ke(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=-62135596800,bC=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*bC);return new Kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vC)throw new ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bC}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hd(e,Kt._jsonSchema))return new Kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kt._jsonSchemaVersion="firestore/timestamp/1.0",Kt._jsonSchema={type:wn("string",Kt._jsonSchemaVersion),seconds:wn("number"),nanoseconds:wn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Kt(0,0))}static max(){return new Xe(new Kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=-1;function gz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new Kt(n+1,0):new Kt(n,r));return new Ro(i,Be.empty(),e)}function yz(t){return new Ro(t.readTime,t.key,zh)}class Ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ro(Xe.min(),Be.empty(),zh)}static max(){return new Ro(Xe.max(),Be.empty(),zh)}}function vz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _z{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==bz)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,r)=>{n(e)}))}static reject(e){return new he(((n,r)=>{r(e)}))}static waitFor(e){return new he(((n,r)=>{let i=0,a=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++a,l&&a===i&&n()}),(f=>r(f)))})),l=!0,a===i&&n()}))}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next((i=>i?he.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new he(((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const h=f;n(e[h]).next((d=>{l[h]=d,++u,u===a&&r(l)}),(d=>i(d)))}}))}static doWhile(e,n){return new he(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function wz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=-1;function Fg(t){return t==null}function Up(t){return t===0&&1/t==-1/0}function xz(t){return typeof t=="number"&&Number.isInteger(t)&&!Up(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="";function Ez(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_C(e)),e=Sz(t.get(n),e);return _C(e)}function Sz(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case YD:n+="";break;default:n+=a}}return n}function _C(t){return t+YD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n){this.comparator=e,this.root=n||nr.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jm(this.root,e,this.comparator,!0)}}class Jm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??nr.RED,this.left=i??nr.EMPTY,this.right=a??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new nr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1;nr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new nr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xC(this.data.getIterator())}getIteratorFrom(e){return new xC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dn(this.comparator);return n.data=e,n}}class xC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new Qi([])}unionWith(e){let n=new Dn(ir.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new QD("Invalid base64 string: "+a):a}})(e);return new sr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const Tz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Po(t){if(Ot(!!t,39018),typeof t=="string"){let e=0;const n=Tz.exec(t);if(Ot(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fn(t.seconds),nanos:fn(t.nanos)}}function fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function No(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="server_timestamp",ZD="__type__",eI="__previous_value__",tI="__local_write_time__";function Gx(t){return(t?.mapValue?.fields||{})[ZD]?.stringValue===JD}function Hg(t){const e=t.mapValue.fields[eI];return Gx(e)?Hg(e):e}function qh(t){const e=Po(t.mapValue.fields[tI].timestampValue);return new Kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e,n,r,i,a,l,u,f,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=d}}const Vp="(default)";class Fh{constructor(e,n){this.projectId=e,this.database=n||Vp}static empty(){return new Fh("","")}get isDefaultDatabase(){return this.database===Vp}isEqual(e){return e instanceof Fh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="__type__",Oz="__max__",Zm={mapValue:{}},rI="__vector__",$p="value";function jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gx(t)?4:Rz(t)?9007199254740991:Cz(t)?10:11:Ge(28295,{value:t})}function Ra(t,e){if(t===e)return!0;const n=jo(t);if(n!==jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qh(t).isEqual(qh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Po(i.timestampValue),u=Po(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return No(i.bytesValue).isEqual(No(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return fn(i.geoPointValue.latitude)===fn(a.geoPointValue.latitude)&&fn(i.geoPointValue.longitude)===fn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return fn(i.integerValue)===fn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=fn(i.doubleValue),u=fn(a.doubleValue);return l===u?Up(l)===Up(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Cc(t.arrayValue.values||[],e.arrayValue.values||[],Ra);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(wC(l)!==wC(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Ra(l[f],u[f])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function Hh(t,e){return(t.values||[]).find((n=>Ra(n,e)))!==void 0}function Rc(t,e){if(t===e)return 0;const n=jo(t),r=jo(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=fn(a.integerValue||a.doubleValue),f=fn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return EC(t.timestampValue,e.timestampValue);case 4:return EC(qh(t),qh(e));case 5:return ow(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=No(a),f=No(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),f=l.split("/");for(let h=0;h<u.length&&h<f.length;h++){const d=ct(u[h],f[h]);if(d!==0)return d}return ct(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=ct(fn(a.latitude),fn(l.latitude));return u!==0?u:ct(fn(a.longitude),fn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return SC(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},f=l.fields||{},h=u[$p]?.arrayValue,d=f[$p]?.arrayValue,p=ct(h?.values?.length||0,d?.values?.length||0);return p!==0?p:SC(h,d)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Zm.mapValue&&l===Zm.mapValue)return 0;if(a===Zm.mapValue)return 1;if(l===Zm.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),h=l.fields||{},d=Object.keys(h);f.sort(),d.sort();for(let p=0;p<f.length&&p<d.length;++p){const y=ow(f[p],d[p]);if(y!==0)return y;const b=Rc(u[f[p]],h[d[p]]);if(b!==0)return b}return ct(f.length,d.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function EC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Po(t),r=Po(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function SC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Rc(n[i],r[i]);if(a)return a}return ct(n.length,r.length)}function Pc(t){return lw(t)}function lw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Po(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return No(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=lw(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${lw(n.fields[l])}`;return i+"}"})(t.mapValue):Ge(61005,{value:t})}function Tp(t){switch(jo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hg(t);return e?16+Tp(e):16;case 5:return 2*t.stringValue.length;case 6:return No(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Tp(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return tu(r.fields,((a,l)=>{i+=a.length+Tp(l)})),i})(t.mapValue);default:throw Ge(13486,{value:t})}}function uw(t){return!!t&&"integerValue"in t}function Wx(t){return!!t&&"arrayValue"in t}function TC(t){return!!t&&"nullValue"in t}function AC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ap(t){return!!t&&"mapValue"in t}function Cz(t){return(t?.mapValue?.fields||{})[nI]?.stringValue===rI}function Oh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return tu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Oh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oh(t.arrayValue.values[n]);return e}return{...t}}function Rz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Oz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.value=e}static empty(){return new Ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ap(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(n)}setAll(e){let n=ir.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Oh(l):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Ap(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ra(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ap(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){tu(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Ri(Oh(this.value))}}function iI(t){const e=[];return tu(t.fields,((n,r)=>{const i=new ir([n]);if(Ap(r)){const a=iI(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new Qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new mr(e,0,Xe.min(),Xe.min(),Xe.min(),Ri.empty(),0)}static newFoundDocument(e,n,r,i){return new mr(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new mr(e,2,n,Xe.min(),Xe.min(),Ri.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,Xe.min(),Xe.min(),Ri.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n){this.position=e,this.inclusive=n}}function OC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Be.comparator(Be.fromName(l.referenceValue),n.key):r=Rc(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function CC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ra(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{}class Nn extends aI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jz(e,n,r):n==="array-contains"?new kz(e,r):n==="in"?new Mz(e,r):n==="not-in"?new Lz(e,r):n==="array-contains-any"?new Uz(e,r):new Nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Dz(e,r):new Iz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rc(n,this.value)):n!==null&&jo(this.value)===jo(n)&&this.matchesComparison(Rc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pa extends aI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pa(e,n)}matches(e){return sI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sI(t){return t.op==="and"}function oI(t){return Nz(t)&&sI(t)}function Nz(t){for(const e of t.filters)if(e instanceof Pa)return!1;return!0}function cw(t){if(t instanceof Nn)return t.field.canonicalString()+t.op.toString()+Pc(t.value);if(oI(t))return t.filters.map((e=>cw(e))).join(",");{const e=t.filters.map((n=>cw(n))).join(",");return`${t.op}(${e})`}}function lI(t,e){return t instanceof Nn?(function(r,i){return i instanceof Nn&&r.op===i.op&&r.field.isEqual(i.field)&&Ra(r.value,i.value)})(t,e):t instanceof Pa?(function(r,i){return i instanceof Pa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,u)=>a&&lI(l,i.filters[u])),!0):!1})(t,e):void Ge(19439)}function uI(t){return t instanceof Nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Pc(n.value)}`})(t):t instanceof Pa?(function(n){return n.op.toString()+" {"+n.getFilters().map(uI).join(" ,")+"}"})(t):"Filter"}class jz extends Nn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dz extends Nn{constructor(e,n){super(e,"in",n),this.keys=cI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Iz extends Nn{constructor(e,n){super(e,"not-in",n),this.keys=cI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function cI(t,e){return(e.arrayValue?.values||[]).map((n=>Be.fromName(n.referenceValue)))}class kz extends Nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wx(n)&&Hh(n.arrayValue,this.value)}}class Mz extends Nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hh(this.value.arrayValue,n)}}class Lz extends Nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hh(this.value.arrayValue,n)}}class Uz extends Nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Hh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function RC(t,e=null,n=[],r=[],i=null,a=null,l=null){return new Vz(t,e,n,r,i,a,l)}function Yx(t){const e=Je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>cw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Fg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Pc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Pc(r))).join(",")),e.Te=n}return e.Te}function Xx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Pz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CC(t.startAt,e.startAt)&&CC(t.endAt,e.endAt)}function fw(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $z(t,e,n,r,i,a,l,u){return new Kg(t,e,n,r,i,a,l,u)}function Qx(t){return new Kg(t)}function PC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Bz(t){return t.collectionGroup!==null}function Ch(t){const e=Je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Dn(ir.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new zp(a,r))})),n.has(ir.keyField().canonicalString())||e.Ie.push(new zp(ir.keyField(),r))}return e.Ie}function Ea(t){const e=Je(t);return e.Ee||(e.Ee=zz(e,Ch(t))),e.Ee}function zz(t,e){if(t.limitType==="F")return RC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new zp(i.field,a)}));const n=t.endAt?new Bp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bp(t.startAt.position,t.startAt.inclusive):null;return RC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hw(t,e,n){return new Kg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gg(t,e){return Xx(Ea(t),Ea(e))&&t.limitType===e.limitType}function fI(t){return`${Yx(Ea(t))}|lt:${t.limitType}`}function cc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>uI(i))).join(", ")}]`),Fg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Pc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Pc(i))).join(",")),`Target(${r})`})(Ea(t))}; limitType=${t.limitType})`}function Wg(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Ch(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,f){const h=OC(l,u,f);return l.inclusive?h<=0:h<0})(r.startAt,Ch(r),i)||r.endAt&&!(function(l,u,f){const h=OC(l,u,f);return l.inclusive?h>=0:h>0})(r.endAt,Ch(r),i))})(t,e)}function qz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hI(t){return(e,n)=>{let r=!1;for(const i of Ch(t)){const a=Fz(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Fz(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):(function(a,l,u){const f=l.data.field(a),h=u.data.field(a);return f!==null&&h!==null?Rc(f,h):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tu(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return XD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=new tn(Be.comparator);function gs(){return Hz}const dI=new tn(Be.comparator);function _h(...t){let e=dI;for(const n of t)e=e.insert(n.key,n);return e}function mI(t){let e=dI;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function jl(){return Rh()}function pI(){return Rh()}function Rh(){return new nu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Kz=new tn(Be.comparator),Gz=new Dn(Be.comparator);function ft(...t){let e=Gz;for(const n of t)e=e.add(n);return e}const Wz=new Dn(ct);function Yz(){return Wz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Up(e)?"-0":e}}function gI(t){return{integerValue:""+t}}function Xz(t,e){return xz(e)?gI(e):Jx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this._=void 0}}function Qz(t,e,n){return t instanceof qp?(function(i,a){const l={fields:{[ZD]:{stringValue:JD},[tI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Gx(a)&&(a=Hg(a)),a&&(l.fields[eI]=a),{mapValue:l}})(n,e):t instanceof Kh?vI(t,e):t instanceof Gh?bI(t,e):(function(i,a){const l=yI(i,a),u=NC(l)+NC(i.Ae);return uw(l)&&uw(i.Ae)?gI(u):Jx(i.serializer,u)})(t,e)}function Jz(t,e,n){return t instanceof Kh?vI(t,e):t instanceof Gh?bI(t,e):n}function yI(t,e){return t instanceof Fp?(function(r){return uw(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class qp extends Yg{}class Kh extends Yg{constructor(e){super(),this.elements=e}}function vI(t,e){const n=_I(e);for(const r of t.elements)n.some((i=>Ra(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Gh extends Yg{constructor(e){super(),this.elements=e}}function bI(t,e){let n=_I(e);for(const r of t.elements)n=n.filter((i=>!Ra(i,r)));return{arrayValue:{values:n}}}class Fp extends Yg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function NC(t){return fn(t.integerValue||t.doubleValue)}function _I(t){return Wx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Zz(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Kh&&i instanceof Kh||r instanceof Gh&&i instanceof Gh?Cc(r.elements,i.elements,Ra):r instanceof Fp&&i instanceof Fp?Ra(r.Ae,i.Ae):r instanceof qp&&i instanceof qp})(t.transform,e.transform)}class eq{constructor(e,n){this.version=e,this.transformResults=n}}class cs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cs}static exists(e){return new cs(void 0,e)}static updateTime(e){return new cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Op(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xg{}function wI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new EI(t.key,cs.none()):new dd(t.key,t.data,cs.none());{const n=t.data,r=Ri.empty();let i=new Dn(ir.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new ru(t.key,r,new Qi(i.toArray()),cs.none())}}function tq(t,e,n){t instanceof dd?(function(i,a,l){const u=i.value.clone(),f=DC(i.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof ru?(function(i,a,l){if(!Op(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=DC(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(xI(i)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Ph(t,e,n,r){return t instanceof dd?(function(a,l,u,f){if(!Op(a.precondition,l))return u;const h=a.value.clone(),d=IC(a.fieldTransforms,f,l);return h.setAll(d),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof ru?(function(a,l,u,f){if(!Op(a.precondition,l))return u;const h=IC(a.fieldTransforms,f,l),d=l.data;return d.setAll(xI(a)),d.setAll(h),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,l,u){return Op(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function nq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=yI(r.transform,i||null);a!=null&&(n===null&&(n=Ri.empty()),n.set(r.field,a))}return n||null}function jC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Cc(r,i,((a,l)=>Zz(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dd extends Xg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ru extends Xg{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function xI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function DC(t,e,n){const r=new Map;Ot(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,Jz(l,u,n[i]))}return r}function IC(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,Qz(a,l,e))}return r}class EI extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rq extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&tq(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ph(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ph(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pI();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const f=wI(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ft())}isEqual(e){return this.batchId===e.batchId&&Cc(this.mutations,e.mutations,((n,r)=>jC(n,r)))&&Cc(this.baseMutations,e.baseMutations,((n,r)=>jC(n,r)))}}class Zx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ot(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Kz})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Zx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn,gt;function oq(t){switch(t){case de.OK:return Ge(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function SI(t){if(t===void 0)return ps("GRPC error has no .code"),de.UNKNOWN;switch(t){case vn.OK:return de.OK;case vn.CANCELLED:return de.CANCELLED;case vn.UNKNOWN:return de.UNKNOWN;case vn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case vn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case vn.INTERNAL:return de.INTERNAL;case vn.UNAVAILABLE:return de.UNAVAILABLE;case vn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case vn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case vn.NOT_FOUND:return de.NOT_FOUND;case vn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case vn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case vn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case vn.ABORTED:return de.ABORTED;case vn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case vn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case vn.DATA_LOSS:return de.DATA_LOSS;default:return Ge(39323,{code:t})}}(gt=vn||(vn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq=new To([4294967295,4294967295],0);function kC(t){const e=lq().encode(t),n=new VD;return n.update(e),new Uint8Array(n.digest())}function MC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new To([n,r],0),new To([i,a],0)]}class eE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wh(`Invalid padding: ${n}`);if(r<0)throw new wh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=To.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(To.fromNumber(r)));return i.compare(uq)===1&&(i=new To([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kC(e),[r,i]=MC(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new eE(a,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=kC(e),[r,i]=MC(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qg(Xe.min(),i,new tn(ct),gs(),ft())}}class md{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new md(r,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class TI{constructor(e,n){this.targetId=e,this.Ce=n}}class AI{constructor(e,n,r=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class LC{constructor(){this.ve=0,this.Fe=UC(),this.Me=sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ft(),n=ft(),r=ft();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ge(38017,{changeType:a})}})),new md(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=UC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cq{constructor(e){this.Ge=e,this.ze=new Map,this.je=gs(),this.Je=ep(),this.He=ep(),this.Ye=new tn(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(fw(a))if(r===0){const l=new Be(a.path);this.et(n,l,mr.newNoDocument(l,Xe.min()))}else Ot(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=No(r).toUint8Array()}catch(f){if(f instanceof QD)return Oc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new eE(l,i,a)}catch(f){return Oc(f instanceof wh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&fw(u.target)){const f=new Be(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,mr.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=ft();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new Qg(e,n,this.Ye,this.je,r);return this.je=gs(),this.Je=ep(),this.He=ep(),this.Ye=new tn(ct),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new LC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dn(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dn(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new LC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ep(){return new tn(Be.comparator)}function UC(){return new tn(Be.comparator)}const fq={asc:"ASCENDING",desc:"DESCENDING"},hq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dq={and:"AND",or:"OR"};class mq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dw(t,e){return t.useProto3Json||Fg(e)?e:{value:e}}function Hp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pq(t,e){return Hp(t,e.toTimestamp())}function Sa(t){return Ot(!!t,49232),Xe.fromTimestamp((function(n){const r=Po(n);return new Kt(r.seconds,r.nanos)})(t))}function tE(t,e){return mw(t,e).canonicalString()}function mw(t,e){const n=(function(i){return new Ht(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function CI(t){const e=Ht.fromString(t);return Ot(DI(e),10190,{key:e.toString()}),e}function pw(t,e){return tE(t.databaseId,e.path)}function nb(t,e){const n=CI(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(PI(n))}function RI(t,e){return tE(t.databaseId,e)}function gq(t){const e=CI(t);return e.length===4?Ht.emptyPath():PI(e)}function gw(t){return new Ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PI(t){return Ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function VC(t,e,n){return{name:pw(t,e),fields:n.value.mapValue.fields}}function yq(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ge(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,d){return h.useProto3Json?(Ot(d===void 0||typeof d=="string",58123),sr.fromBase64String(d||"")):(Ot(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),sr.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const d=h.code===void 0?de.UNKNOWN:SI(h.code);return new ke(d,h.message||"")})(l);n=new AI(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=nb(t,r.document.name),a=Sa(r.document.updateTime),l=r.document.createTime?Sa(r.document.createTime):Xe.min(),u=new Ri({mapValue:{fields:r.document.fields}}),f=mr.newFoundDocument(i,a,l,u),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Cp(h,d,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=nb(t,r.document),a=r.readTime?Sa(r.readTime):Xe.min(),l=mr.newNoDocument(i,a),u=r.removedTargetIds||[];n=new Cp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=nb(t,r.document),a=r.removedTargetIds||[];n=new Cp([],a,i,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new sq(i,a),u=r.targetId;n=new TI(u,l)}}return n}function vq(t,e){let n;if(e instanceof dd)n={update:VC(t,e.key,e.value)};else if(e instanceof EI)n={delete:pw(t,e.key)};else if(e instanceof ru)n={update:VC(t,e.key,e.data),updateMask:Oq(e.fieldMask)};else{if(!(e instanceof rq))return Ge(16599,{Vt:e.type});n={verify:pw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof qp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Kh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Gh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Fp)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ge(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:pq(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ge(27497)})(t,e.precondition)),n}function bq(t,e){return t&&t.length>0?(Ot(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?Sa(i.updateTime):Sa(a);return l.isEqual(Xe.min())&&(l=Sa(a)),new eq(l,i.transformResults||[])})(n,e)))):[]}function _q(t,e){return{documents:[RI(t,e.path)]}}function wq(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RI(t,i);const a=(function(h){if(h.length!==0)return jI(Pa.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(h){if(h.length!==0)return h.map((d=>(function(y){return{field:fc(y.field),direction:Sq(y.dir)}})(d)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=dw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function xq(t){let e=gq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ot(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=(function(p){const y=NI(p);return y instanceof Pa&&oI(y)?y.getFilters():[y]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((y=>(function(w){return new zp(hc(w.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let y;return y=typeof p=="object"?p.value:p,Fg(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(p){const y=!!p.before,b=p.values||[];return new Bp(b,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const y=!p.before,b=p.values||[];return new Bp(b,y)})(n.endAt)),$z(e,i,l,a,u,"F",f,h)}function Eq(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hc(n.unaryFilter.field);return Nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hc(n.unaryFilter.field);return Nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=hc(n.unaryFilter.field);return Nn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=hc(n.unaryFilter.field);return Nn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Nn.create(hc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Pa.create(n.compositeFilter.filters.map((r=>NI(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function Sq(t){return fq[t]}function Tq(t){return hq[t]}function Aq(t){return dq[t]}function fc(t){return{fieldPath:t.canonicalString()}}function hc(t){return ir.fromServerFormat(t.fieldPath)}function jI(t){return t instanceof Nn?(function(n){if(n.op==="=="){if(AC(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NAN"}};if(TC(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AC(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NAN"}};if(TC(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(n.field),op:Tq(n.op),value:n.value}}})(t):t instanceof Pa?(function(n){const r=n.getFilters().map((i=>jI(i)));return r.length===1?r[0]:{compositeFilter:{op:Aq(n.op),filters:r}}})(t):Ge(54877,{filter:t})}function Oq(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function DI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,r,i,a=Xe.min(),l=Xe.min(),u=sr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new _o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e){this.yt=e}}function Rq(t){const e=xq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(){this.Cn=new Nq}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Ro.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class Nq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dn(Ht.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},II=41943040;class Nr{static withCacheSize(e){return new Nr(e,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(II,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nc(0)}static cr(){return new Nc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="LruGarbageCollector",jq=1048576;function zC([t,e],[n,r]){const i=ct(t,n);return i===0?ct(e,r):i}class Dq{constructor(e){this.Ir=e,this.buffer=new Dn(zC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Iq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Se(BC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Kc(n)?Se(BC,"Ignoring IndexedDB error during garbage collection: ",n):await Hc(n)}await this.Vr(3e5)}))}}class kq{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(qg.ce);const r=new Dq(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve($C)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$C):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,u,f,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(h=Date.now(),uc()<=yt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-d}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${p} documents in `+(h-f)+`ms
Total Duration: ${h-d}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function Mq(t,e){return new kq(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(){this.changes=new nu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Ph(r.mutation,i,Qi.empty(),Kt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ft()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ft()){const i=jl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=_h();return a.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=jl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ft())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let a=gs();const l=Rh(),u=(function(){return Rh()})();return n.forEach(((f,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof ru)?a=a.insert(h.key,h):d!==void 0?(l.set(h.key,d.mutation.getFieldMask()),Ph(d.mutation,h,d.mutation.getFieldMask(),Kt.now())):l.set(h.key,Qi.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((h,d)=>l.set(h,d))),n.forEach(((h,d)=>u.set(h,new Uq(d,l.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Rh();let i=new tn(((l,u)=>l-u)),a=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let d=r.get(f)||Qi.empty();d=u.applyToLocalView(h,d),r.set(f,d);const p=(i.get(u.batchId)||ft()).add(f);i=i.insert(u.batchId,p)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,d=f.value,p=pI();d.forEach((y=>{if(!a.has(y)){const b=wI(n.get(y),r.get(y));b!==null&&p.set(y,b),a=a.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,p))}return he.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):he.resolve(jl());let u=zh,f=a;return l.next((h=>he.forEach(h,((d,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(d)?he.resolve():this.remoteDocumentCache.getEntry(e,d).next((y=>{f=f.insert(d,y)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,f,h,ft()))).next((d=>({batchId:u,changes:mI(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((r=>{let i=_h();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=_h();return this.indexManager.getCollectionParents(e,a).next((u=>he.forEach(u,(f=>{const h=(function(p,y){return new Kg(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((d=>{d.forEach(((p,y)=>{l=l.insert(p,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((f,h)=>{const d=h.getKey();l.get(d)===null&&(l=l.insert(d,mr.newInvalidDocument(d)))}));let u=_h();return l.forEach(((f,h)=>{const d=a.get(f);d!==void 0&&Ph(d.mutation,h,Qi.empty(),Kt.now()),Wg(n,h)&&(u=u.insert(f,h))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Sa(i.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Rq(i.bundledQuery),readTime:Sa(i.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(){this.overlays=new tn(Be.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jl();return he.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),he.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const i=jl(),a=n.length+1,l=new Be(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return he.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new tn(((h,d)=>h-d));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=a.get(h.largestBatchId);d===null&&(d=jl(),a=a.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const u=jl(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,d)=>u.set(h,d))),!(u.size()>=i)););return he.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new aq(n,r));let a=this.qr.get(n);a===void 0&&(a=ft(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.Qr=new Dn(Fn.$r),this.Ur=new Dn(Fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Fn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Fn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Be(new Ht([])),r=new Fn(n,e),i=new Fn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Be(new Ht([])),r=new Fn(n,e),i=new Fn(n,e+1);let a=ft();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Fn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Be.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dn(Fn.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new iq(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Fn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Kx:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fn(n,0),i=new Fn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);a.push(u)})),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dn(ct);return n.forEach((i=>{const a=new Fn(i,0),l=new Fn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Be.isDocumentKey(a)||(a=a.child(""));const l=new Fn(new Be(a),0);let u=new Dn(ct);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Yr)),!0)}),l),he.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ot(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(n.mutations,(i=>{const a=new Fn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Fn(n,0),i=this.Zr.firstAfterOrEqual(r);return he.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e){this.ri=e,this.docs=(function(){return new tn(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let r=gs();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():mr.newInvalidDocument(i))})),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=gs();const l=n.path,u=new Be(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:d}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||vz(yz(d),r)<=0||(i.has(d.key)||Wg(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ge(9500)}ii(e,n){return he.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Hq(this)}getSize(e){return he.resolve(this.size)}}class Hq extends Lq{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e){this.persistence=e,this.si=new nu((n=>Yx(n)),Xx),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.oi=0,this._i=new nE,this.targetCount=0,this.ai=Nc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Nc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),he.waitFor(a).next((()=>i))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),he.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n){this.ui={},this.overlays={},this.ci=new qg(0),this.li=!1,this.li=!0,this.hi=new zq,this.referenceDelegate=e(this),this.Pi=new Kq(this),this.indexManager=new Pq,this.remoteDocumentCache=(function(i){return new Fq(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Cq(n),this.Ii=new $q(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new qq(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const i=new Gq(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return he.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Gq extends _z{constructor(e){super(),this.currentSequenceNumber=e}}class rE{constructor(e){this.persistence=e,this.Ri=new nE,this.Vi=null}static mi(e){return new rE(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(r=>{const i=Be.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kp{constructor(e,n){this.persistence=e,this.pi=new nu((r=>Ez(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Mq(this,n)}static mi(e,n){return new Kp(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return he.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?he.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,Xe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tp(e.data.value)),n}br(e,n,r){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return he.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ft(),i=ft();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new iE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return F9()?8:wz(z9())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new Wq;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(uc()<=yt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",cc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(uc()<=yt.DEBUG&&Se("QueryEngine","Query:",cc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(uc()<=yt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",cc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ea(n))):he.resolve())}ys(e,n){if(PC(n))return he.resolve(null);let r=Ea(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=hw(n,null,"F"),r=Ea(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=ft(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,u);return this.Cs(n,h,l,f.readTime)?this.ys(e,hw(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return PC(n)||i.isEqual(Xe.min())?he.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?he.resolve(null):(uc()<=yt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cc(n)),this.vs(e,l,n,gz(i,zh)).next((u=>u)))}))}Ds(e,n){let r=new Dn(hI(e));return n.forEach(((i,a)=>{Wg(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return uc()<=yt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",cc(n)),this.ps.getDocumentsMatchingQuery(e,n,Ro.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="LocalStore",Xq=3e8;class Qq{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new tn(ct),this.xs=new nu((a=>Yx(a)),Xx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vq(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Jq(t,e,n,r){return new Qq(t,e,n,r)}async function MI(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let f=ft();for(const h of i){l.push(h.batchId);for(const d of h.mutations)f=f.add(d.key)}for(const h of a){u.push(h.batchId);for(const d of h.mutations)f=f.add(d.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function Zq(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,h,d){const p=h.batch,y=p.keys();let b=he.resolve();return y.forEach((w=>{b=b.next((()=>d.getEntry(f,w))).next((x=>{const E=h.docVersions.get(w);Ot(E!==null,48541),x.version.compareTo(E)<0&&(p.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),d.addEntry(x)))}))})),b.next((()=>u.mutationQueue.removeMutationBatch(f,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=ft();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function LI(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function e8(t,e){const n=Je(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((d,p)=>{const y=i.get(p);if(!y)return;u.push(n.Pi.removeMatchingKeys(a,d.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,d.addedDocuments,p))));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(sr.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):d.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(d.resumeToken,r)),i=i.insert(p,b),(function(x,E,A){return x.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Xq?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(y,b,d)&&u.push(n.Pi.updateTargetData(a,b))}));let f=gs(),h=ft();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))})),u.push(t8(a,l,e.documentUpdates).next((d=>{f=d.ks,h=d.qs}))),!r.isEqual(Xe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(d)}return he.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,h))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function t8(t,e,n){let r=ft(),i=ft();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=gs();return n.forEach(((u,f)=>{const h=a.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Se(aE,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function n8(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Kx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function r8(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,he.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new _o(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function yw(t,e,n){const r=Je(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Kc(l))throw l;Se(aE,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function qC(t,e,n){const r=Je(t);let i=Xe.min(),a=ft();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,d){const p=Je(f),y=p.xs.get(d);return y!==void 0?he.resolve(p.Ms.get(y)):p.Pi.getTargetData(h,d)})(r,l,Ea(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Xe.min(),n?a:ft()))).next((u=>(i8(r,qz(e),u),{documents:u,Qs:a})))))}function i8(t,e,n){let r=t.Os.get(e)||Xe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class FC{constructor(){this.activeTargetIds=Yz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a8{constructor(){this.Mo=new FC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new FC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="ConnectivityMonitor";class KC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Se(HC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Se(HC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp=null;function vw(){return tp===null?tp=(function(){return 268435456+Math.round(2147483648*Math.random())})():tp++,"0x"+tp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="RestConnection",o8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Vp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=vw(),u=this.zo(e,n.toUriEncodedString());Se(rb,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:h}=new URL(u),d=$x(h);return this.Jo(e,u,f,r,d).then((p=>(Se(rb,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw Oc(rb,`RPC '${e}' ${l} failed with error: `,p,"url: ",u,"request:",r),p}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=o8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="WebChannelConnection";class c8 extends l8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=vw();return new Promise(((u,f)=>{const h=new $D;h.setWithCredentials(!0),h.listenOnce(BD.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Sp.NO_ERROR:const p=h.getResponseJson();Se(cr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),u(p);break;case Sp.TIMEOUT:Se(cr,`RPC '${e}' ${l} timed out`),f(new ke(de.DEADLINE_EXCEEDED,"Request time out"));break;case Sp.HTTP_ERROR:const y=h.getStatus();if(Se(cr,`RPC '${e}' ${l} failed with status:`,y,"response text:",h.getResponseText()),y>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b?.error;if(w&&w.status&&w.message){const x=(function(A){const P=A.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(P)>=0?P:de.UNKNOWN})(w.status);f(new ke(x,w.message))}else f(new ke(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ke(de.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Se(cr,`RPC '${e}' ${l} completed.`)}}));const d=JSON.stringify(i);Se(cr,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=vw(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=FD(),u=qD(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const d=a.join("");Se(cr,`Creating RPC '${e}' stream ${i}: ${d}`,f);const p=l.createWebChannel(d,f);this.I_(p);let y=!1,b=!1;const w=new u8({Yo:E=>{b?Se(cr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(y||(Se(cr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Se(cr,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Zo:()=>p.close()}),x=(E,A,P)=>{E.listen(A,(C=>{try{P(C)}catch(V){setTimeout((()=>{throw V}),0)}}))};return x(p,bh.EventType.OPEN,(()=>{b||(Se(cr,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),x(p,bh.EventType.CLOSE,(()=>{b||(b=!0,Se(cr,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))})),x(p,bh.EventType.ERROR,(E=>{b||(b=!0,Oc(cr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),w.a_(new ke(de.UNAVAILABLE,"The operation could not be completed")))})),x(p,bh.EventType.MESSAGE,(E=>{if(!b){const A=E.data[0];Ot(!!A,16349);const P=A,C=P?.error||P[0]?.error;if(C){Se(cr,`RPC '${e}' stream ${i} received error:`,C);const V=C.status;let L=(function(I){const M=vn[I];if(M!==void 0)return SI(M)})(V),D=C.message;L===void 0&&(L=de.INTERNAL,D="Unknown error status: "+V+" with message "+C.message),b=!0,w.a_(new ke(L,D)),p.close()}else Se(cr,`RPC '${e}' stream ${i} received:`,A),w.u_(A)}})),x(u,zD.STAT_EVENT,(E=>{E.stat===sw.PROXY?Se(cr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===sw.NOPROXY&&Se(cr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ib(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t){return new mq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="PersistentStream";class VI{constructor(e,n,r,i,a,l,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ke(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(GC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Se(GC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class f8 extends VI{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yq(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Xe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Xe.min():l.readTime?Sa(l.readTime):Xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=gw(this.serializer),n.addTarget=(function(a,l){let u;const f=l.target;if(u=fw(f)?{documents:_q(a,f)}:{query:wq(a,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=OI(a,l.resumeToken);const h=dw(a,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Xe.min())>0){u.readTime=Hp(a,l.snapshotVersion.toTimestamp());const h=dw(a,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=Eq(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=gw(this.serializer),n.removeTarget=e,this.q_(n)}}class h8 extends VI{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bq(e.writeResults,e.commitTime),r=Sa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=gw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>vq(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{}class m8 extends d8{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,mw(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(de.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,mw(n,r),i,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ke(de.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class p8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(n),this.aa=!1):Se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="RemoteStore";class g8{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{iu(this)&&(Se(Kl,"Restarting streams for network reachability change."),await(async function(f){const h=Je(f);h.Ea.add(4),await pd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Zg(h)})(this))}))})),this.Ra=new p8(r,i)}}async function Zg(t){if(iu(t))for(const e of t.da)await e(!0)}async function pd(t){for(const e of t.da)await e(!1)}function $I(t,e){const n=Je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),uE(n)?lE(n):Gc(n).O_()&&oE(n,e))}function sE(t,e){const n=Je(t),r=Gc(n);n.Ia.delete(e),r.O_()&&BI(n,e),n.Ia.size===0&&(r.O_()?r.L_():iu(n)&&n.Ra.set("Unknown"))}function oE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gc(t).Y_(e)}function BI(t,e){t.Va.Ue(e),Gc(t).Z_(e)}function lE(t){t.Va=new cq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Gc(t).start(),t.Ra.ua()}function uE(t){return iu(t)&&!Gc(t).x_()&&t.Ia.size>0}function iu(t){return Je(t).Ea.size===0}function zI(t){t.Va=void 0}async function y8(t){t.Ra.set("Online")}async function v8(t){t.Ia.forEach(((e,n)=>{oE(t,e)}))}async function b8(t,e){zI(t),uE(t)?(t.Ra.ha(e),lE(t)):t.Ra.set("Unknown")}async function _8(t,e,n){if(t.Ra.set("Online"),e instanceof AI&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Se(Kl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gp(t,r)}else if(e instanceof Cp?t.Va.Ze(e):e instanceof TI?t.Va.st(e):t.Va.tt(e),!n.isEqual(Xe.min()))try{const r=await LI(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const d=a.Ia.get(h);d&&a.Ia.set(h,d.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,h)=>{const d=a.Ia.get(f);if(!d)return;a.Ia.set(f,d.withResumeToken(sr.EMPTY_BYTE_STRING,d.snapshotVersion)),BI(a,f);const p=new _o(d.target,f,h,d.sequenceNumber);oE(a,p)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Se(Kl,"Failed to raise snapshot:",r),await Gp(t,r)}}async function Gp(t,e,n){if(!Kc(e))throw e;t.Ea.add(1),await pd(t),t.Ra.set("Offline"),n||(n=()=>LI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Se(Kl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zg(t)}))}function qI(t,e){return e().catch((n=>Gp(t,n,e)))}async function ey(t){const e=Je(t),n=Do(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kx;for(;w8(e);)try{const i=await n8(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,x8(e,i)}catch(i){await Gp(e,i)}FI(e)&&HI(e)}function w8(t){return iu(t)&&t.Ta.length<10}function x8(t,e){t.Ta.push(e);const n=Do(t);n.O_()&&n.X_&&n.ea(e.mutations)}function FI(t){return iu(t)&&!Do(t).x_()&&t.Ta.length>0}function HI(t){Do(t).start()}async function E8(t){Do(t).ra()}async function S8(t){const e=Do(t);for(const n of t.Ta)e.ea(n.mutations)}async function T8(t,e,n){const r=t.Ta.shift(),i=Zx.from(r,e,n);await qI(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await ey(t)}async function A8(t,e){e&&Do(t).X_&&await(async function(r,i){if((function(l){return oq(l)&&l!==de.ABORTED})(i.code)){const a=r.Ta.shift();Do(r).B_(),await qI(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await ey(r)}})(t,e),FI(t)&&HI(t)}async function WC(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Se(Kl,"RemoteStore received new credentials");const r=iu(n);n.Ea.add(3),await pd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zg(n)}async function O8(t,e){const n=Je(t);e?(n.Ea.delete(2),await Zg(n)):e||(n.Ea.add(2),await pd(n),n.Ra.set("Unknown"))}function Gc(t){return t.ma||(t.ma=(function(n,r,i){const a=Je(n);return a.sa(),new f8(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:y8.bind(null,t),t_:v8.bind(null,t),r_:b8.bind(null,t),H_:_8.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),uE(t)?lE(t):t.Ra.set("Unknown")):(await t.ma.stop(),zI(t))}))),t.ma}function Do(t){return t.fa||(t.fa=(function(n,r,i){const a=Je(n);return a.sa(),new h8(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:E8.bind(null,t),r_:A8.bind(null,t),ta:S8.bind(null,t),na:T8.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ey(t)):(await t.fa.stop(),t.Ta.length>0&&(Se(Kl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new cE(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fE(t,e){if(ps("AsyncQueue",`${e}: ${t}`),Kc(t))return new ke(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{static emptySet(e){return new _c(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=_h(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _c)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _c;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.ga=new tn(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class jc{constructor(e,n,r,i,a,l,u,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new jc(e,n,_c.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class R8{constructor(){this.queries=XC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Je(n),a=i.queries;i.queries=XC(),a.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new ke(de.ABORTED,"Firestore shutting down"))}}function XC(){return new nu((t=>fI(t)),Gg)}async function KI(t,e){const n=Je(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new C8,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=fE(l,`Initialization of query '${cc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&hE(n)}async function GI(t,e){const n=Je(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function P8(t,e){const n=Je(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&hE(n)}function N8(t,e,n){const r=Je(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function hE(t){t.Ca.forEach((e=>{e.next()}))}var bw,QC;(QC=bw||(bw={})).Ma="default",QC.Cache="cache";class WI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.key=e}}class XI{constructor(e){this.key=e}}class j8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ft(),this.mutatedKeys=ft(),this.eu=hI(e),this.tu=new _c(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new YC,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,p)=>{const y=i.get(d),b=Wg(this.query,p)?p:null,w=!!y&&this.mutatedKeys.has(y.key),x=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;y&&b?y.data.isEqual(b.data)?w!==x&&(r.track({type:3,doc:b}),E=!0):this.su(y,b)||(r.track({type:2,doc:b}),E=!0,(f&&this.eu(b,f)>0||h&&this.eu(b,h)<0)&&(u=!0)):!y&&b?(r.track({type:0,doc:b}),E=!0):y&&!b&&(r.track({type:1,doc:y}),E=!0,(f||h)&&(u=!0)),E&&(b?(l=l.add(b),a=x?a.add(d):a.delete(d)):(l=l.delete(d),a=a.delete(d)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const d=this.query.limitType==="F"?l.last():l.first();l=l.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((d,p)=>(function(b,w){const x=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:E})}};return x(b)-x(w)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new jc(this.query,e.tu,a,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ft(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new XI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new YI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ft();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dE="SyncEngine";class D8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class I8{constructor(e){this.key=e,this.hu=!1}}class k8{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new nu((u=>fI(u)),Gg),this.Iu=new Map,this.Eu=new Set,this.du=new tn(Be.comparator),this.Au=new Map,this.Ru=new nE,this.Vu={},this.mu=new Map,this.fu=Nc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function M8(t,e,n=!0){const r=nk(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await QI(r,e,n,!0),i}async function L8(t,e){const n=nk(t);await QI(n,e,!0,!1)}async function QI(t,e,n,r){const i=await r8(t.localStore,Ea(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await U8(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&$I(t.remoteStore,i),u}async function U8(t,e,n,r,i){t.pu=(p,y,b)=>(async function(x,E,A,P){let C=E.view.ru(A);C.Cs&&(C=await qC(x.localStore,E.query,!1).then((({documents:j})=>E.view.ru(j,C))));const V=P&&P.targetChanges.get(E.targetId),L=P&&P.targetMismatches.get(E.targetId)!=null,D=E.view.applyChanges(C,x.isPrimaryClient,V,L);return ZC(x,E.targetId,D.au),D.snapshot})(t,p,y,b);const a=await qC(t.localStore,e,!0),l=new j8(e,a.Qs),u=l.ru(a.documents),f=md.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,f);ZC(t,n,h.au);const d=new D8(e,n,l);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function V8(t,e,n){const r=Je(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!Gg(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sE(r.remoteStore,i.targetId),_w(r,i.targetId)})).catch(Hc)):(_w(r,i.targetId),await yw(r.localStore,i.targetId,!0))}async function $8(t,e){const n=Je(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sE(n.remoteStore,r.targetId))}async function B8(t,e,n){const r=W8(t);try{const i=await(function(l,u){const f=Je(l),h=Kt.now(),d=u.reduce(((b,w)=>b.add(w.key)),ft());let p,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let w=gs(),x=ft();return f.Ns.getEntries(b,d).next((E=>{w=E,w.forEach(((A,P)=>{P.isValidDocument()||(x=x.add(A))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,w))).next((E=>{p=E;const A=[];for(const P of u){const C=nq(P,p.get(P.key).overlayedDocument);C!=null&&A.push(new ru(P.key,C,iI(C.value.mapValue),cs.exists(!0)))}return f.mutationQueue.addMutationBatch(b,h,A,u)})).next((E=>{y=E;const A=E.applyToLocalDocumentSet(p,x);return f.documentOverlayCache.saveOverlays(b,E.batchId,A)}))})).then((()=>({batchId:y.batchId,changes:mI(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new tn(ct)),h=h.insert(u,f),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await gd(r,i.changes),await ey(r.remoteStore)}catch(i){const a=fE(i,"Failed to persist write");n.reject(a)}}async function JI(t,e){const n=Je(t);try{const r=await e8(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(Ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Ot(l.hu,14607):i.removedDocuments.size>0&&(Ot(l.hu,42227),l.hu=!1))})),await gd(n,r,e)}catch(r){await Hc(r)}}function JC(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const f=Je(l);f.onlineState=u;let h=!1;f.queries.forEach(((d,p)=>{for(const y of p.Sa)y.va(u)&&(h=!0)})),h&&hE(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function z8(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new tn(Be.comparator);l=l.insert(a,mr.newNoDocument(a,Xe.min()));const u=ft().add(a),f=new Qg(Xe.min(),new Map,new tn(ct),l,u);await JI(r,f),r.du=r.du.remove(a),r.Au.delete(e),mE(r)}else await yw(r.localStore,e,!1).then((()=>_w(r,e,n))).catch(Hc)}async function q8(t,e){const n=Je(t),r=e.batch.batchId;try{const i=await Zq(n.localStore,e);ek(n,r,null),ZI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gd(n,i)}catch(i){await Hc(i)}}async function F8(t,e,n){const r=Je(t);try{const i=await(function(l,u){const f=Je(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let d;return f.mutationQueue.lookupMutationBatch(h,u).next((p=>(Ot(p!==null,37113),d=p.keys(),f.mutationQueue.removeMutationBatch(h,p)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,d,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d))).next((()=>f.localDocuments.getDocuments(h,d)))}))})(r.localStore,e);ek(r,e,n),ZI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gd(r,i)}catch(i){await Hc(i)}}function ZI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function ek(t,e,n){const r=Je(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function _w(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||tk(t,r)}))}function tk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),mE(t))}function ZC(t,e,n){for(const r of n)r instanceof YI?(t.Ru.addReference(r.key,e),H8(t,r)):r instanceof XI?(Se(dE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||tk(t,r.key)):Ge(19791,{wu:r})}function H8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Se(dE,"New document in limbo: "+n),t.Eu.add(r),mE(t))}function mE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be(Ht.fromString(e)),r=t.fu.next();t.Au.set(r,new I8(n)),t.du=t.du.insert(n,r),$I(t.remoteStore,new _o(Ea(Qx(n.path)),r,"TargetPurposeLimboResolution",qg.ce))}}async function gd(t,e,n){const r=Je(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const d=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,d?"current":"not-current")}if(h){i.push(h);const d=iE.As(f.targetId,h);a.push(d)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,h){const d=Je(f);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>he.forEach(h,(y=>he.forEach(y.Es,(b=>d.persistence.referenceDelegate.addReference(p,y.targetId,b))).next((()=>he.forEach(y.ds,(b=>d.persistence.referenceDelegate.removeReference(p,y.targetId,b)))))))))}catch(p){if(!Kc(p))throw p;Se(aE,"Failed to update sequence numbers: "+p)}for(const p of h){const y=p.targetId;if(!p.fromCache){const b=d.Ms.get(y),w=b.snapshotVersion,x=b.withLastLimboFreeSnapshotVersion(w);d.Ms=d.Ms.insert(y,x)}}})(r.localStore,a))}async function K8(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Se(dE,"User change. New user:",e.toKey());const r=await MI(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((f=>{f.reject(new ke(de.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gd(n,r.Ls)}}function G8(t,e){const n=Je(t),r=n.Au.get(e);if(r&&r.hu)return ft().add(r.key);{let i=ft();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function nk(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z8.bind(null,e),e.Pu.H_=P8.bind(null,e.eventManager),e.Pu.yu=N8.bind(null,e.eventManager),e}function W8(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F8.bind(null,e),e}class Wp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Jq(this.persistence,new Yq,e.initialUser,this.serializer)}Cu(e){return new kI(rE.mi,this.serializer)}Du(e){return new a8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wp.provider={build:()=>new Wp};class Y8 extends Wp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ot(this.persistence.referenceDelegate instanceof Kp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Iq(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nr.withCacheSize(this.cacheSizeBytes):Nr.DEFAULT;return new kI((r=>Kp.mi(r,n)),this.serializer)}}class ww{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>JC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K8.bind(null,this.syncEngine),await O8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new R8})()}createDatastore(e){const n=Jg(e.databaseInfo.databaseId),r=(function(a){return new c8(a)})(e.databaseInfo);return(function(a,l,u,f){return new m8(a,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,u){return new g8(r,i,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>JC(this.syncEngine,n,0)),(function(){return KC.v()?new KC:new s8})())}createSyncEngine(e,n){return(function(i,a,l,u,f,h,d){const p=new k8(i,a,l,u,f,h);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Je(n);Se(Kl,"RemoteStore shutting down."),r.Ea.add(5),await pd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ww.provider={build:()=>new ww};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="FirestoreClient";class X8{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hr.UNAUTHENTICATED,this.clientId=Fx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Se(Io,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Se(Io,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ab(t,e){t.asyncQueue.verifyOperationInProgress(),Se(Io,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await MI(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function eR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q8(t);Se(Io,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>WC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>WC(e.remoteStore,i))),t._onlineComponents=e}async function Q8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(Io,"Using user provided OfflineComponentProvider");try{await ab(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Oc("Error using user provided cache. Falling back to memory cache: "+n),await ab(t,new Wp)}}else Se(Io,"Using default OfflineComponentProvider"),await ab(t,new Y8(void 0));return t._offlineComponents}async function ik(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(Io,"Using user provided OnlineComponentProvider"),await eR(t,t._uninitializedComponentsProvider._online)):(Se(Io,"Using default OnlineComponentProvider"),await eR(t,new ww))),t._onlineComponents}function J8(t){return ik(t).then((e=>e.syncEngine))}async function ak(t){const e=await ik(t),n=e.eventManager;return n.onListen=M8.bind(null,e.syncEngine),n.onUnlisten=V8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$8.bind(null,e.syncEngine),n}function Z8(t,e,n={}){const r=new us;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,h){const d=new rk({next:y=>{d.Nu(),l.enqueueAndForget((()=>GI(a,p)));const b=y.docs.has(u);!b&&y.fromCache?h.reject(new ke(de.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&f&&f.source==="server"?h.reject(new ke(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),p=new WI(Qx(u.path),d,{includeMetadataChanges:!0,qa:!0});return KI(a,p)})(await ak(t),t.asyncQueue,e,n,r))),r.promise}function e7(t,e,n={}){const r=new us;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,h){const d=new rk({next:y=>{d.Nu(),l.enqueueAndForget((()=>GI(a,p))),y.fromCache&&f.source==="server"?h.reject(new ke(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),p=new WI(u,d,{includeMetadataChanges:!0,qa:!0});return KI(a,p)})(await ak(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="firestore.googleapis.com",nR=!0;class rR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ke(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ok,this.ssl=nR}else this.host=e.host,this.ssl=e.ssl??nR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=II;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jq)throw new ke(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sk(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ke(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ke(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ke(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ty{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new az;switch(r.type){case"firstParty":return new uz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=tR.get(n);r&&(Se("ComponentProvider","Removing Datastore"),tR.delete(n),r.terminate())})(this),Promise.resolve()}}function t7(t,e,n,r={}){t=Hl(t,ty);const i=$x(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(L9(`https://${u}`),B9("Firestore",!0)),a.host!==ok&&a.host!==u&&Oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:u,ssl:i,emulatorOptions:r};if(!Mp(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=hr.MOCK_USER;else{h=U9(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ke(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new hr(p)}t._authCredentials=new sz(new KD(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ny(this.firestore,e,this._query)}}class jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}toJSON(){return{type:jn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hd(n,jn._jsonSchema))return new jn(e,r||null,new Be(Ht.fromString(n.referencePath)))}}jn._jsonSchemaVersion="firestore/documentReference/1.0",jn._jsonSchema={type:wn("string",jn._jsonSchemaVersion),referencePath:wn("string")};class Ao extends ny{constructor(e,n,r){super(e,n,Qx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Be(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function n7(t,e,...n){if(t=Tc(t),GD("collection","path",e),t instanceof ty){const r=Ht.fromString(e,...n);return yC(r),new Ao(t,null,r)}{if(!(t instanceof jn||t instanceof Ao))throw new ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return yC(r),new Ao(t.firestore,null,r)}}function Yp(t,e,...n){if(t=Tc(t),arguments.length===1&&(e=Fx.newId()),GD("doc","path",e),t instanceof ty){const r=Ht.fromString(e,...n);return gC(r),new jn(t,null,new Be(r))}{if(!(t instanceof jn||t instanceof Ao))throw new ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return gC(r),new jn(t.firestore,t instanceof Ao?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="AsyncQueue";class aR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UI(this,"async_queue_retry"),this._c=()=>{const r=ib();r&&Se(iR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ib();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ib();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Kc(e))throw e;Se(iR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",sR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=cE.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ge(47125,{Pc:sR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ry extends ty{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new aR,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aR(e),this._firestoreClient=void 0,await e}}}function r7(t,e){const n=typeof t=="object"?t:MD(),r=typeof t=="string"?t:Vp,i=DD(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=k9("firestore");a&&t7(i,...a)}return i}function pE(t){if(t._terminated)throw new ke(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||i7(t),t._firestoreClient}function i7(t){const e=t._freezeSettings(),n=(function(i,a,l,u){return new Az(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,sk(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new X8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pi(sr.fromBase64String(e))}catch(n){throw new ke(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pi(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hd(e,Pi._jsonSchema))return Pi.fromBase64String(e.bytes)}}Pi._jsonSchemaVersion="firestore/bytes/1.0",Pi._jsonSchema={type:wn("string",Pi._jsonSchemaVersion),bytes:wn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ta._jsonSchemaVersion}}static fromJSON(e){if(hd(e,Ta._jsonSchema))return new Ta(e.latitude,e.longitude)}}Ta._jsonSchemaVersion="firestore/geoPoint/1.0",Ta._jsonSchema={type:wn("string",Ta._jsonSchemaVersion),latitude:wn("number"),longitude:wn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Aa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hd(e,Aa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Aa(e.vectorValues);throw new ke(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Aa._jsonSchemaVersion="firestore/vectorValue/1.0",Aa._jsonSchema={type:wn("string",Aa._jsonSchemaVersion),vectorValues:wn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=/^__.*__$/;class s7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ru(e,this.data,this.fieldMask,n,this.fieldTransforms):new dd(e,this.data,n,this.fieldTransforms)}}function uk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:t})}}class yE{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uk(this.Ac)&&a7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class o7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jg(e)}Cc(e,n,r,i=!1){return new yE({Ac:e,methodName:n,Dc:r,path:ir.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l7(t){const e=t._freezeSettings(),n=Jg(t._databaseId);return new o7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u7(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);dk("Data must be an object, but it was:",l,r);const u=fk(r,l);let f,h;if(a.merge)f=new Qi(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const d=[];for(const p of a.mergeFields){const y=c7(e,p,n);if(!l.contains(y))throw new ke(de.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);h7(d,y)||d.push(y)}f=new Qi(d),h=l.fieldTransforms.filter((p=>f.covers(p.field)))}else f=null,h=l.fieldTransforms;return new s7(new Ri(u),f,h)}function ck(t,e){if(hk(t=Tc(t)))return dk("Unsupported field value:",e,t),fk(t,e);if(t instanceof lk)return(function(r,i){if(!uk(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const u of r){let f=ck(u,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Tc(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Xz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Kt.fromDate(r);return{timestampValue:Hp(i.serializer,a)}}if(r instanceof Kt){const a=new Kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hp(i.serializer,a)}}if(r instanceof Ta)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pi)return{bytesValue:OI(i.serializer,r._byteString)};if(r instanceof jn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:tE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Aa)return(function(l,u){return{mapValue:{fields:{[nI]:{stringValue:rI},[$p]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return Jx(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Hx(r)}`)})(t,e)}function fk(t,e){const n={};return XD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tu(t,((r,i)=>{const a=ck(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function hk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kt||t instanceof Ta||t instanceof Pi||t instanceof jn||t instanceof lk||t instanceof Aa)}function dk(t,e,n){if(!hk(n)||!WD(n)){const r=Hx(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function c7(t,e,n){if((e=Tc(e))instanceof gE)return e._internalPath;if(typeof e=="string")return mk(t,e);throw Xp("Field path arguments must be of type string or ",t,!1,void 0,n)}const f7=new RegExp("[~\\*/\\[\\]]");function mk(t,e,n){if(e.search(f7)>=0)throw Xp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gE(...e.split("."))._internalPath}catch{throw Xp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xp(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new ke(de.INVALID_ARGUMENT,u+t+f)}function h7(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d7 extends pk{data(){return super.data()}}function gk(t,e){return typeof e=="string"?mk(t,e):e instanceof gE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p7{convertValue(e,n="none"){switch(jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return tu(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[$p].arrayValue?.values?.map((r=>fn(r.doubleValue)));return new Aa(n)}convertGeoPoint(e){return new Ta(fn(e.latitude),fn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qh(e));default:return null}}convertTimestamp(e){const n=Po(e);return new Kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ht.fromString(e);Ot(DI(r),9688,{name:e});const i=new Fh(r.get(1),r.get(3)),a=new Be(r.popFirst(5));return i.isEqual(n)||ps(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class xh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vl extends pk{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ke(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vl._jsonSchema={type:wn("string",Vl._jsonSchemaVersion),bundleSource:wn("string","DocumentSnapshot"),bundleName:wn("string"),bundle:wn("string")};class Rp extends Vl{data(e={}){return super.data(e)}}class wc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Rp(this._firestore,this._userDataWriter,r.key,r,new xh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const f=new Rp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new xh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const f=new Rp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new xh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),d=l.indexOf(u.doc.key)),{type:y7(u.type),doc:f,oldIndex:h,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ke(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function y7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t){t=Hl(t,jn);const e=Hl(t.firestore,ry);return Z8(pE(e),t._key).then((n=>_7(e,t,n)))}wc._jsonSchemaVersion="firestore/querySnapshot/1.0",wc._jsonSchema={type:wn("string",wc._jsonSchemaVersion),bundleSource:wn("string","QuerySnapshot"),bundleName:wn("string"),bundle:wn("string")};class vk extends p7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,n)}}function v7(t){t=Hl(t,ny);const e=Hl(t.firestore,ry),n=pE(e),r=new vk(e);return m7(t._query),e7(n,t._query).then((i=>new wc(e,r,t,i)))}function oR(t,e,n){t=Hl(t,jn);const r=Hl(t.firestore,ry),i=g7(t.converter,e,n);return b7(r,[u7(l7(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,cs.none())])}function b7(t,e){return(function(r,i){const a=new us;return r.asyncQueue.enqueueAndForget((async()=>B8(await J8(r),i,a))),a.promise})(pE(t),e)}function _7(t,e,n){const r=n.docs.get(e._key),i=new vk(t);return new Vl(t,i,e._key,r,new xh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Fc=i})(WB),$h(new Ac("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new ry(new oz(r.getProvider("auth-internal")),new cz(l,r.getProvider("app-check-internal")),(function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ke(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fh(h.options.projectId,d)})(l,i),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),So(hC,dC,e),So(hC,dC,"esm2020")})();var lR="@firebase/ai",xw="2.1.0";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="AI",uR="us-central1",w7="https://firebasevertexai.googleapis.com",x7="v1beta",cR=xw,E7="gl-js",S7=180*1e3,T7="gemini-2.0-flash-lite";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=["user","model","function","system"],bk={HARM_SEVERITY_UNSUPPORTED:"HARM_SEVERITY_UNSUPPORTED"},hR={SAFETY:"SAFETY",RECITATION:"RECITATION"},dR={ONLY_ON_DEVICE:"only_on_device",ONLY_IN_CLOUD:"only_in_cloud"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={ERROR:"error",REQUEST_ERROR:"request-error",RESPONSE_ERROR:"response-error",FETCH_ERROR:"fetch-error",INVALID_CONTENT:"invalid-content",API_NOT_ENABLED:"api-not-enabled",INVALID_SCHEMA:"invalid-schema",NO_API_KEY:"no-api-key",NO_APP_ID:"no-app-id",NO_MODEL:"no-model",NO_PROJECT_ID:"no-project-id",PARSE_FAILED:"parse-failed",UNSUPPORTED:"unsupported"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.backendType=e}}class yd extends _k{constructor(){super(Es.GOOGLE_AI)}}class iy extends _k{constructor(e=uR){super(Es.VERTEX_AI),e?this.location=e:this.location=uR}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,n,r,i){this.app=e,this.backend=n;const a=i?.getImmediate({optional:!0}),l=r?.getImmediate({optional:!0});this.auth=l||null,this.appCheck=a||null,n instanceof iy?this.location=n.location:this.location=""}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends eu{constructor(e,n,r){const i=Dc,a=`${i}/${e}`,l=`${i}: ${n} (${a})`;super(e,l),this.code=e,this.customErrorData=r,Error.captureStackTrace&&Error.captureStackTrace(this,it),Object.setPrototypeOf(this,it.prototype),this.toString=()=>l}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O7(t){if(t instanceof yd)return`${Dc}/googleai`;if(t instanceof iy)return`${Dc}/vertexai/${t.location}`;throw new it(st.ERROR,`Invalid backend: ${JSON.stringify(t.backendType)}`)}function C7(t){const e=t.split("/");if(e[0]!==Dc)throw new it(st.ERROR,`Invalid instance identifier, unknown prefix '${e[0]}'`);switch(e[1]){case"vertexai":const r=e[2];if(!r)throw new it(st.ERROR,`Invalid instance identifier, unknown location '${t}'`);return new iy(r);case"googleai":return new yd;default:throw new it(st.ERROR,`Invalid instance identifier string: '${t}'`)}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){if(e.app?.options?.apiKey)if(e.app?.options?.projectId)if(e.app?.options?.appId){if(this._apiSettings={apiKey:e.app.options.apiKey,project:e.app.options.projectId,appId:e.app.options.appId,automaticDataCollectionEnabled:e.app.automaticDataCollectionEnabled,location:e.location,backend:e.backend},ID(e.app)&&e.app.settings.appCheckToken){const r=e.app.settings.appCheckToken;this._apiSettings.getAppCheckToken=()=>Promise.resolve({token:r})}else e.appCheck&&(this._apiSettings.getAppCheckToken=()=>e.appCheck.getToken());e.auth&&(this._apiSettings.getAuthToken=()=>e.auth.getToken()),this.model=Nh.normalizeModelName(n,this._apiSettings.backend.backendType)}else throw new it(st.NO_APP_ID,'The "appId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid app ID.');else throw new it(st.NO_PROJECT_ID,'The "projectId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid project ID.');else throw new it(st.NO_API_KEY,'The "apiKey" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid API key.')}static normalizeModelName(e,n){return n===Es.GOOGLE_AI?Nh.normalizeGoogleAIModelName(e):Nh.normalizeVertexAIModelName(e)}static normalizeGoogleAIModelName(e){return`models/${e}`}static normalizeVertexAIModelName(e){let n;return e.includes("/")?e.startsWith("models/")?n=`publishers/google/${e}`:n=e:n=`publishers/google/models/${e}`,n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new Bx("@firebase/vertexai");/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wh;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.PREDICT="predict"})(Wh||(Wh={}));class wk{constructor(e,n,r,i,a){this.model=e,this.task=n,this.apiSettings=r,this.stream=i,this.requestOptions=a}toString(){const e=new URL(this.baseUrl);return e.pathname=`/${this.apiVersion}/${this.modelPath}:${this.task}`,e.search=this.queryParams.toString(),e.toString()}get baseUrl(){return this.requestOptions?.baseUrl||w7}get apiVersion(){return x7}get modelPath(){if(this.apiSettings.backend instanceof yd)return`projects/${this.apiSettings.project}/${this.model}`;if(this.apiSettings.backend instanceof iy)return`projects/${this.apiSettings.project}/locations/${this.apiSettings.backend.location}/${this.model}`;throw new it(st.ERROR,`Invalid backend: ${JSON.stringify(this.apiSettings.backend)}`)}get queryParams(){const e=new URLSearchParams;return this.stream&&e.set("alt","sse"),e}}function R7(){const t=[];return t.push(`${E7}/${cR}`),t.push(`fire/${cR}`),t.join(" ")}async function P7(t){const e=new Headers;if(e.append("Content-Type","application/json"),e.append("x-goog-api-client",R7()),e.append("x-goog-api-key",t.apiSettings.apiKey),t.apiSettings.automaticDataCollectionEnabled&&e.append("X-Firebase-Appid",t.apiSettings.appId),t.apiSettings.getAppCheckToken){const n=await t.apiSettings.getAppCheckToken();n&&(e.append("X-Firebase-AppCheck",n.token),n.error&&dr.warn(`Unable to obtain a valid App Check token: ${n.error.message}`))}if(t.apiSettings.getAuthToken){const n=await t.apiSettings.getAuthToken();n&&e.append("Authorization",`Firebase ${n.accessToken}`)}return e}async function N7(t,e,n,r,i,a){const l=new wk(t,e,n,r,a);return{url:l.toString(),fetchOptions:{method:"POST",headers:await P7(l),body:i}}}async function vE(t,e,n,r,i,a){const l=new wk(t,e,n,r,a);let u,f;try{const h=await N7(t,e,n,r,i,a),d=a?.timeout!=null&&a.timeout>=0?a.timeout:S7,p=new AbortController;if(f=setTimeout(()=>p.abort(),d),h.fetchOptions.signal=p.signal,u=await fetch(h.url,h.fetchOptions),!u.ok){let y="",b;try{const w=await u.json();y=w.error.message,w.error.details&&(y+=` ${JSON.stringify(w.error.details)}`,b=w.error.details)}catch{}throw u.status===403&&b&&b.some(w=>w.reason==="SERVICE_DISABLED")&&b.some(w=>w.links?.[0]?.description.includes("Google developers console API activation"))?new it(st.API_NOT_ENABLED,`The Firebase AI SDK requires the Firebase AI API ('firebasevertexai.googleapis.com') to be enabled in your Firebase project. Enable this API by visiting the Firebase Console at https://console.firebase.google.com/project/${l.apiSettings.project}/genai/ and clicking "Get started". If you enabled this API recently, wait a few minutes for the action to propagate to our systems and then retry.`,{status:u.status,statusText:u.statusText,errorDetails:b}):new it(st.FETCH_ERROR,`Error fetching from ${l}: [${u.status} ${u.statusText}] ${y}`,{status:u.status,statusText:u.statusText,errorDetails:b})}}catch(h){let d=h;throw h.code!==st.FETCH_ERROR&&h.code!==st.API_NOT_ENABLED&&h instanceof Error&&(d=new it(st.ERROR,`Error fetching from ${l.toString()}: ${h.message}`),d.stack=h.stack),d}finally{f&&clearTimeout(f)}return u}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t){return t.candidates&&!t.candidates[0].hasOwnProperty("index")&&(t.candidates[0].index=0),j7(t)}function j7(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&dr.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Pp(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${mo(t)}. Response body stored in error.response`,{response:t});return D7(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Text not available. ${mo(t)}`,{response:t});return""},t.inlineDataParts=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&dr.warn(`This response had ${t.candidates.length} candidates. Returning data from the first candidate only. Access response.candidates directly to use the other candidates.`),Pp(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${mo(t)}. Response body stored in error.response`,{response:t});return k7(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Data not available. ${mo(t)}`,{response:t})},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&dr.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Pp(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${mo(t)}. Response body stored in error.response`,{response:t});return I7(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Function call not available. ${mo(t)}`,{response:t})},t}function D7(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.text&&e.push(n.text);return e.length>0?e.join(""):""}function I7(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.functionCall&&e.push(n.functionCall);if(e.length>0)return e}function k7(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.inlineData&&e.push(n);if(e.length>0)return e}const M7=[hR.RECITATION,hR.SAFETY];function Pp(t){return!!t.finishReason&&M7.some(e=>e===t.finishReason)}function mo(t){let e="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)e+="Response was blocked",t.promptFeedback?.blockReason&&(e+=` due to ${t.promptFeedback.blockReason}`),t.promptFeedback?.blockReasonMessage&&(e+=`: ${t.promptFeedback.blockReasonMessage}`);else if(t.candidates?.[0]){const n=t.candidates[0];Pp(n)&&(e+=`Candidate was blocked due to ${n.finishReason}`,n.finishMessage&&(e+=`: ${n.finishMessage}`))}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t){if(t.safetySettings?.forEach(e=>{if(e.method)throw new it(st.UNSUPPORTED,"SafetySetting.method is not supported in the the Gemini Developer API. Please remove this property.")}),t.generationConfig?.topK){const e=Math.round(t.generationConfig.topK);e!==t.generationConfig.topK&&(dr.warn("topK in GenerationConfig has been rounded to the nearest integer to match the format for requests to the Gemini Developer API."),t.generationConfig.topK=e)}return t}function bE(t){return{candidates:t.candidates?U7(t.candidates):void 0,prompt:t.promptFeedback?V7(t.promptFeedback):void 0,usageMetadata:t.usageMetadata}}function L7(t,e){return{generateContentRequest:{model:e,...t}}}function U7(t){const e=[];let n;return e&&t.forEach(r=>{let i;if(r.citationMetadata&&(i={citations:r.citationMetadata.citationSources}),r.safetyRatings&&(n=r.safetyRatings.map(l=>({...l,severity:l.severity??bk.HARM_SEVERITY_UNSUPPORTED,probabilityScore:l.probabilityScore??0,severityScore:l.severityScore??0}))),r.content?.parts.some(l=>l?.videoMetadata))throw new it(st.UNSUPPORTED,"Part.videoMetadata is not supported in the Gemini Developer API. Please remove this property.");const a={index:r.index,content:r.content,finishReason:r.finishReason,finishMessage:r.finishMessage,safetyRatings:n,citationMetadata:i,groundingMetadata:r.groundingMetadata};e.push(a)}),e}function V7(t){const e=[];return t.safetyRatings.forEach(r=>{e.push({category:r.category,probability:r.probability,severity:r.severity??bk.HARM_SEVERITY_UNSUPPORTED,probabilityScore:r.probabilityScore??0,severityScore:r.severityScore??0,blocked:r.blocked})}),{blockReason:t.blockReason,safetyRatings:e,blockReasonMessage:t.blockReasonMessage}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function $7(t,e){const n=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=q7(n),[i,a]=r.tee();return{stream:z7(i,e),response:B7(a,e)}}async function B7(t,e){const n=[],r=t.getReader();for(;;){const{done:i,value:a}=await r.read();if(i){let l=F7(n);return e.backend.backendType===Es.GOOGLE_AI&&(l=bE(l)),Qp(l)}n.push(a)}}async function*z7(t,e){const n=t.getReader();for(;;){const{value:r,done:i}=await n.read();if(i)break;let a;e.backend.backendType===Es.GOOGLE_AI?a=Qp(bE(r)):a=Qp(r),yield a}}function q7(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return e.read().then(({value:l,done:u})=>{if(u){if(i.trim()){r.error(new it(st.PARSE_FAILED,"Failed to parse stream"));return}r.close();return}i+=l;let f=i.match(mR),h;for(;f;){try{h=JSON.parse(f[1])}catch{r.error(new it(st.PARSE_FAILED,`Error parsing JSON response: "${f[1]}`));return}r.enqueue(h),i=i.substring(f[0].length),f=i.match(mR)}return a()})}}})}function F7(t){const n={promptFeedback:t[t.length-1]?.promptFeedback};for(const r of t)if(r.candidates)for(const i of r.candidates){const a=i.index||0;if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:i.index}),n.candidates[a].citationMetadata=i.citationMetadata,n.candidates[a].finishReason=i.finishReason,n.candidates[a].finishMessage=i.finishMessage,n.candidates[a].safetyRatings=i.safetyRatings,n.candidates[a].groundingMetadata=i.groundingMetadata,i.content&&i.content.parts){n.candidates[a].content||(n.candidates[a].content={role:i.content.role||"user",parts:[]});const l={};for(const u of i.content.parts){if(u.text!==void 0){if(u.text==="")continue;l.text=u.text}if(u.functionCall&&(l.functionCall=u.functionCall),Object.keys(l).length===0)throw new it(st.INVALID_CONTENT,"Part should have at least one property, but there are none. This is likely caused by a malformed response from the backend.");n.candidates[a].content.parts.push(l)}}}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H7(t,e,n,r){return t.backend.backendType===Es.GOOGLE_AI&&(n=xk(n)),vE(e,Wh.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r)}async function Ek(t,e,n,r,i){let a;return r&&await r.isAvailable(n)?a=await r.generateContentStream(n):a=await H7(t,e,n,i),$7(a,t)}async function K7(t,e,n,r){return t.backend.backendType===Es.GOOGLE_AI&&(n=xk(n)),vE(e,Wh.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)}async function Sk(t,e,n,r,i){let a;r&&await r.isAvailable(n)?a=await r.generateContent(n):a=await K7(t,e,n,i);const l=await G7(a,t);return{response:Qp(l)}}async function G7(t,e){const n=await t.json();return e.backend.backendType===Es.GOOGLE_AI?bE(n):n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Ew(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return W7(e)}function W7(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),i=!0):(e.parts.push(a),r=!0);if(r&&i)throw new it(st.INVALID_CONTENT,"Within a single message, FunctionResponse cannot be mixed with other type of Part in the request for sending chat message.");if(!r&&!i)throw new it(st.INVALID_CONTENT,"No Content is provided for sending chat message.");return r?e:n}function sb(t){let e;return t.contents?e=t:e={contents:[Ew(t)]},t.systemInstruction&&(e.systemInstruction=Tk(t.systemInstruction)),e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=["text","inlineData","functionCall","functionResponse"],Y7={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]},gR={user:["model"],function:["model"],model:["user","function"],system:[]};function X7(t){let e=null;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new it(st.INVALID_CONTENT,`First Content should be with role 'user', got ${r}`);if(!fR.includes(r))throw new it(st.INVALID_CONTENT,`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(fR)}`);if(!Array.isArray(i))throw new it(st.INVALID_CONTENT,"Content should have 'parts' but property with an array of Parts");if(i.length===0)throw new it(st.INVALID_CONTENT,"Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0};for(const u of i)for(const f of pR)f in u&&(a[f]+=1);const l=Y7[r];for(const u of pR)if(!l.includes(u)&&a[u]>0)throw new it(st.INVALID_CONTENT,`Content with role '${r}' can't contain '${u}' part`);if(e&&!gR[r].includes(e.role))throw new it(st.INVALID_CONTENT,`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(gR)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="SILENT_ERROR";class Q7{constructor(e,n,r,i,a){this.model=n,this.chromeAdapter=r,this.params=i,this.requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiSettings=e,i?.history&&(X7(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){await this._sendPromise;const n=Ew(e),r={safetySettings:this.params?.safetySettings,generationConfig:this.params?.generationConfig,tools:this.params?.tools,toolConfig:this.params?.toolConfig,systemInstruction:this.params?.systemInstruction,contents:[...this._history,n]};let i={};return this._sendPromise=this._sendPromise.then(()=>Sk(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions)).then(a=>{if(a.response.candidates&&a.response.candidates.length>0){this._history.push(n);const l={parts:a.response.candidates?.[0].content.parts||[],role:a.response.candidates?.[0].content.role||"model"};this._history.push(l)}else{const l=mo(a.response);l&&dr.warn(`sendMessage() was unsuccessful. ${l}. Inspect response object for details.`)}i=a}),await this._sendPromise,i}async sendMessageStream(e){await this._sendPromise;const n=Ew(e),r={safetySettings:this.params?.safetySettings,generationConfig:this.params?.generationConfig,tools:this.params?.tools,toolConfig:this.params?.toolConfig,systemInstruction:this.params?.systemInstruction,contents:[...this._history,n]},i=Ek(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>i).catch(a=>{throw new Error(yR)}).then(a=>a.response).then(a=>{if(a.candidates&&a.candidates.length>0){this._history.push(n);const l={...a.candidates[0].content};l.role||(l.role="model"),this._history.push(l)}else{const l=mo(a);l&&dr.warn(`sendMessageStream() was unsuccessful. ${l}. Inspect response object for details.`)}}).catch(a=>{a.message!==yR&&dr.error(a)}),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J7(t,e,n,r){let i="";if(t.backend.backendType===Es.GOOGLE_AI){const l=L7(n,e);i=JSON.stringify(l)}else i=JSON.stringify(n);return(await vE(e,Wh.COUNT_TOKENS,t,!1,i,r)).json()}async function Z7(t,e,n,r,i){return r&&await r.isAvailable(n)?(await r.countTokens(n)).json():J7(t,e,n,i)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF extends Nh{constructor(e,n,r,i){super(e,n.model),this.chromeAdapter=i,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Tk(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=sb(e);return Sk(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}async generateContentStream(e){const n=sb(e);return Ek(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}startChat(e){return new Q7(this._apiSettings,this.model,this.chromeAdapter,{tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,generationConfig:this.generationConfig,safetySettings:this.safetySettings,...e},this.requestOptions)}async countTokens(e){const n=sb(e);return Z7(this._apiSettings,this.model,n,this.chromeAdapter)}}var Cl;(function(t){t.UNAVAILABLE="unavailable",t.DOWNLOADABLE="downloadable",t.DOWNLOADING="downloading",t.AVAILABLE="available"})(Cl||(Cl={}));/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,r={createOptions:{expectedInputs:[{type:"image"}]}}){this.languageModelProvider=e,this.mode=n,this.onDeviceParams=r,this.isDownloading=!1}async isAvailable(e){if(!this.mode)return dr.debug("On-device inference unavailable because mode is undefined."),!1;if(this.mode===dR.ONLY_IN_CLOUD)return dr.debug('On-device inference unavailable because mode is "only_in_cloud".'),!1;const n=await this.downloadIfAvailable();if(this.mode===dR.ONLY_ON_DEVICE){if(n===Cl.UNAVAILABLE)throw new it(st.API_NOT_ENABLED,"Local LanguageModel API not available in this environment.");return(n===Cl.DOWNLOADABLE||n===Cl.DOWNLOADING)&&(dr.debug("Waiting for download of LanguageModel to complete."),await this.downloadPromise),!0}return n!==Cl.AVAILABLE?(dr.debug(`On-device inference unavailable because availability is "${n}".`),!1):Hi.isOnDeviceRequest(e)?!0:(dr.debug("On-device inference unavailable because request is incompatible."),!1)}async generateContent(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Hi.toLanguageModelMessage)),i=await n.prompt(r,this.onDeviceParams.promptOptions);return Hi.toResponse(i)}async generateContentStream(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Hi.toLanguageModelMessage)),i=n.promptStreaming(r,this.onDeviceParams.promptOptions);return Hi.toStreamResponse(i)}async countTokens(e){throw new it(st.REQUEST_ERROR,"Count Tokens is not yet available for on-device model.")}static isOnDeviceRequest(e){if(e.contents.length===0)return dr.debug("Empty prompt rejected for on-device inference."),!1;for(const n of e.contents){if(n.role==="function")return dr.debug('"Function" role rejected for on-device inference.'),!1;for(const r of n.parts)if(r.inlineData&&Hi.SUPPORTED_MIME_TYPES.indexOf(r.inlineData.mimeType)===-1)return dr.debug(`Unsupported mime type "${r.inlineData.mimeType}" rejected for on-device inference.`),!1}return!0}async downloadIfAvailable(){const e=await this.languageModelProvider?.availability(this.onDeviceParams.createOptions);return e===Cl.DOWNLOADABLE&&this.download(),e}download(){this.isDownloading||(this.isDownloading=!0,this.downloadPromise=this.languageModelProvider?.create(this.onDeviceParams.createOptions).finally(()=>{this.isDownloading=!1}))}static async toLanguageModelMessage(e){const n=await Promise.all(e.parts.map(Hi.toLanguageModelMessageContent));return{role:Hi.toLanguageModelMessageRole(e.role),content:n}}static async toLanguageModelMessageContent(e){if(e.text)return{type:"text",value:e.text};if(e.inlineData){const r=await(await fetch(`data:${e.inlineData.mimeType};base64,${e.inlineData.data}`)).blob();return{type:"image",value:await createImageBitmap(r)}}throw new it(st.REQUEST_ERROR,"Processing of this Part type is not currently supported.")}static toLanguageModelMessageRole(e){return e==="model"?"assistant":"user"}async createSession(){if(!this.languageModelProvider)throw new it(st.UNSUPPORTED,"Chrome AI requested for unsupported browser version.");const e=await this.languageModelProvider.create(this.onDeviceParams.createOptions);return this.oldSession&&this.oldSession.destroy(),this.oldSession=e,e}static toResponse(e){return{json:async()=>({candidates:[{content:{parts:[{text:e}]}}]})}}static toStreamResponse(e){const n=new TextEncoder;return{body:e.pipeThrough(new TransformStream({transform(r,i){const a=JSON.stringify({candidates:[{content:{role:"model",parts:[{text:r}]}}]});i.enqueue(n.encode(`data: ${a}

`))}}))}}}Hi.SUPPORTED_MIME_TYPES=["image/jpeg","image/png"];/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t=MD(),e={backend:new yd}){t=Tc(t);const n=DD(t,Dc),r=O7(e.backend);return n.getImmediate({identifier:r})}function Ak(t,e,n){const r=e;let i;if(r.mode?i=r.inCloudParams||{model:T7}:i=e,!i.model)throw new it(st.NO_MODEL,"Must provide a model name. Example: getGenerativeModel({ model: 'my-model-name' })");let a;return typeof window<"u"&&r.mode&&(a=new Hi(window.LanguageModel,r.mode,r.onDeviceParams)),new eF(t,i,n,a)}function nF(){$h(new Ac(Dc,(t,{instanceIdentifier:e})=>{if(!e)throw new it(st.ERROR,"AIService instance identifier is undefined.");const n=C7(e),r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new A7(r,n,i,a)},"PUBLIC").setMultipleInstances(!0)),So(lR,xw),So(lR,xw,"esm2020")}nF();var rF="firebase",iF="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So(rF,iF,"app");const aF={apiKey:"AIzaSyCwWrLjCbvrbWeEKCdz6X1kQsRqudLogvk",authDomain:"robotics-3c92c.firebaseapp.com",projectId:"robotics-3c92c",storageBucket:"robotics-3c92c.firebasestorage.app",messagingSenderId:"286446162060",appId:"1:286446162060:web:30976ed5981cb902d4eba9",measurementId:"G-LMVZ79XKBW"},Ok=kD(aF),Yh=r7(Ok),Ck=tF(Ok,{backend:new yd}),wo=["team_number","opr","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","auto_made_net","auto_missed_net","auto_made_processor","auto_l4","auto_l3","auto_l2","auto_l1","auto_missed_coral","tele_made_net","tele_missed_net","tele_processor","tele_l4","tele_l3","tele_l2","tele_l1","tele_missed_coral","driver_rating"],vR=["opr","team_number","match_number","driver_station","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","auto_mobility","auto_made_net","auto_missed_net","auto_made_processor","auto_l4","auto_l3","auto_l2","auto_l1","auto_missed_coral","tele_made_net","tele_missed_net","tele_processor","tele_l4","tele_l3","tele_l2","tele_l1","tele_missed_coral","endgame_type","comments","lost_comms","auto_start_position","driver_rating","disabled"],sF="modulepreload",oF=function(t){return"/ScoutingOffseason2025/"+t},bR={},vd=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let h=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var l=h;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");i=h(n.map(d=>{if(d=oF(d),d in bR)return;bR[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":sF,p||(b.as="script"),b.crossOrigin="",b.href=d,f&&b.setAttribute("nonce",f),document.head.appendChild(b),p)return new Promise((w,x)=>{b.addEventListener("load",w),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return i.then(u=>{for(const f of u||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})},lF=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vd(async()=>{const{default:r}=await Promise.resolve().then(()=>Wc);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class _E extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class _R extends _E{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wR extends _E{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xR extends _E{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sw||(Sw={}));var uF=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class cF{constructor(e,{headers:n={},customFetch:r,region:i=Sw.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=lF(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return uF(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:a,method:l,body:u,signal:f}=r;let h={},{region:d}=r;d||(d=this.region);const p=new URL(`${this.url}/${n}`);d&&d!=="any"&&(h["x-region"]=d,p.searchParams.set("forceFunctionRegion",d));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)));const b=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:y,signal:f}).catch(A=>{throw A.name==="AbortError"?A:new _R(A)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new wR(b);if(!b.ok)throw new xR(b);let x=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return x==="application/json"?E=yield b.json():x==="application/octet-stream"?E=yield b.blob():x==="text/event-stream"?E=b:x==="multipart/form-data"?E=yield b.formData():E=yield b.text(),{data:E,error:null,response:b}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new _R(a)}:{data:null,error:a,response:a instanceof xR||a instanceof wR?a.context:void 0}}})}}var qn={},Xu={},Qu={},Ju={},Zu={},ec={},fF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ic=fF();const hF=Ic.fetch,Rk=Ic.fetch.bind(Ic),Pk=Ic.Headers,dF=Ic.Request,mF=Ic.Response,Wc=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pk,Request:dF,Response:mF,default:Rk,fetch:hF},Symbol.toStringTag,{value:"Module"})),pF=sV(Wc);var np={},ER;function Nk(){if(ER)return np;ER=1,Object.defineProperty(np,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return np.default=t,np}var SR;function jk(){if(SR)return ec;SR=1;var t=ec&&ec.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ec,"__esModule",{value:!0});const e=t(pF),n=t(Nk());class r{constructor(a){var l,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var d,p,y,b;let w=null,x=null,E=null,A=h.status,P=h.statusText;if(h.ok){if(this.method!=="HEAD"){const D=await h.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?x=D:x=JSON.parse(D))}const V=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),L=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");V&&L&&L.length>1&&(E=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(w={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,E=null,A=406,P="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const V=await h.text();try{w=JSON.parse(V),Array.isArray(w)&&h.status===404&&(x=[],w=null,A=200,P="OK")}catch{h.status===404&&V===""?(A=204,P="No Content"):w={message:V}}if(w&&this.isMaybeSingle&&(!((b=w?.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,A=200,P="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:x,count:E,status:A,statusText:P}});return this.shouldThrowOnError||(f=f.catch(h=>{var d,p,y;return{error:{message:`${(d=h?.name)!==null&&d!==void 0?d:"FetchError"}: ${h?.message}`,details:`${(p=h?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=h?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),f.then(a,l)}returns(){return this}overrideTypes(){return this}}return ec.default=r,ec}var TR;function Dk(){if(TR)return Zu;TR=1;var t=Zu&&Zu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zu,"__esModule",{value:!0});const e=t(jk());class n extends e.default{select(i){let a=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.order`:"order",d=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:h="text"}={}){var d;const p=[i?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Zu.default=n,Zu}var AR;function wE(){if(AR)return Ju;AR=1;var t=Ju&&Ju.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ju,"__esModule",{value:!0});const e=t(Dk());class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${h}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return Ju.default=n,Ju}var OR;function Ik(){if(OR)return Qu;OR=1;var t=Qu&&Qu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qu,"__esModule",{value:!0});const e=t(wE());class n{constructor(i,{headers:a={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=u}select(i,a){const{head:l=!1,count:u}=a??{},f=l?"HEAD":"GET";let h=!1;const d=(i??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",d),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var u;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(h.length>0){const d=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){var h;const d="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:a}={}){var l;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Qu.default=n,Qu}var CR;function gF(){if(CR)return Xu;CR=1;var t=Xu&&Xu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Xu,"__esModule",{value:!0});const e=t(Ik()),n=t(wE());class r{constructor(a,{headers:l={},schema:u,fetch:f}={}){this.url=a,this.headers=new Headers(l),this.schemaName=u,this.fetch=f}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:u=!1,get:f=!1,count:h}={}){var d;let p;const y=new URL(`${this.url}/rpc/${a}`);let b;u||f?(p=u?"HEAD":"GET",Object.entries(l).filter(([x,E])=>E!==void 0).map(([x,E])=>[x,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([x,E])=>{y.searchParams.append(x,E)})):(p="POST",b=l);const w=new Headers(this.headers);return h&&w.set("Prefer",`count=${h}`),new n.default({method:p,url:y,headers:w,schema:this.schemaName,body:b,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Xu.default=r,Xu}var RR;function yF(){if(RR)return qn;RR=1;var t=qn&&qn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(qn,"__esModule",{value:!0}),qn.PostgrestError=qn.PostgrestBuilder=qn.PostgrestTransformBuilder=qn.PostgrestFilterBuilder=qn.PostgrestQueryBuilder=qn.PostgrestClient=void 0;const e=t(gF());qn.PostgrestClient=e.default;const n=t(Ik());qn.PostgrestQueryBuilder=n.default;const r=t(wE());qn.PostgrestFilterBuilder=r.default;const i=t(Dk());qn.PostgrestTransformBuilder=i.default;const a=t(jk());qn.PostgrestBuilder=a.default;const l=t(Nk());return qn.PostgrestError=l.default,qn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},qn}var vF=yF();const bF=ea(vF),{PostgrestClient:_F,PostgrestQueryBuilder:$ue,PostgrestFilterBuilder:Bue,PostgrestTransformBuilder:zue,PostgrestBuilder:que,PostgrestError:Fue}=bF;class wF{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const xF="2.75.0",EF=`realtime-js/${xF}`,SF="1.0.0",Tw=1e4,TF=1e3,AF=100;var jh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(jh||(jh={}));var Pn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Pn||(Pn={}));var Ki;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ki||(Ki={}));var Aw;(function(t){t.websocket="websocket"})(Aw||(Aw={}));var Rl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Rl||(Rl={}));class OF{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+i));l=l+i;const f=r.decode(e.slice(l,l+a));l=l+a;const h=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:f,payload:h}}}class kk{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(zt||(zt={}));const PR=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=CF(l,t,e,i),a),{}):{}},CF=(t,e,n,r)=>{const i=e.find(u=>u.name===t),a=i?.type,l=n[t];return a&&!r.includes(a)?Mk(a,l):Ow(l)},Mk=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return jF(e,n)}switch(t){case zt.bool:return RF(e);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return PF(e);case zt.json:case zt.jsonb:return NF(e);case zt.timestamp:return DF(e);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return Ow(e);default:return Ow(e)}},Ow=t=>t,RF=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},PF=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},NF=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},jF=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const l=t.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>Mk(e,u))}return t},DF=t=>typeof t=="string"?t.replace(" ","T"):t,Lk=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ob{constructor(e,n,r={},i=Tw){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var NR;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(NR||(NR={}));class Dh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dh.syncState(this.state,i,a,l),this.pendingDiffs.forEach(f=>{this.state=Dh.syncDiff(this.state,f,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Dh.syncDiff(this.state,i,a,l),u())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),l=this.transformState(n),u={},f={};return this.map(a,(h,d)=>{l[h]||(f[h]=d)}),this.map(l,(h,d)=>{const p=a[h];if(p){const y=d.map(E=>E.presence_ref),b=p.map(E=>E.presence_ref),w=d.filter(E=>b.indexOf(E.presence_ref)<0),x=p.filter(E=>y.indexOf(E.presence_ref)<0);w.length>0&&(u[h]=w),x.length>0&&(f[h]=x)}else u[h]=d}),this.syncDiff(a,{joins:u,leaves:f},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,f)=>{var h;const d=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(f),d.length>0){const p=e[u].map(b=>b.presence_ref),y=d.filter(b=>p.indexOf(b.presence_ref)<0);e[u].unshift(...y)}r(u,d,f)}),this.map(l,(u,f)=>{let h=e[u];if(!h)return;const d=f.map(p=>p.presence_ref);h=h.filter(p=>d.indexOf(p.presence_ref)<0),e[u]=h,i(u,h,f),h.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jR;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(jR||(jR={}));var Ih;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ih||(Ih={}));var is;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(is||(is={}));class xE{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ob(this,Ki.join,this.params,this.timeout),this.rejoinTimer=new kk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ki.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Dh(this),this.broadcastEndpointURL=Lk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Pn.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ih.PRESENCE]&&this.bindings[Ih.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},y={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:d}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(is.CHANNEL_ERROR,b)),this._onClose(()=>e?.(is.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket.setAuth(),b===void 0){e?.(is.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,E=(w=x?.length)!==null&&w!==void 0?w:0,A=[];for(let P=0;P<E;P++){const C=x[P],{filter:{event:V,schema:L,table:D,filter:j}}=C,I=b&&b[P];if(I&&I.event===V&&I.schema===L&&I.table===D&&I.filter===j)A.push(Object.assign(Object.assign({},C),{id:I.id}));else{this.unsubscribe(),this.state=Pn.errored,e?.(is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(is.SUBSCRIBED);return}}).receive("error",b=>{this.state=Pn.errored,e?.(is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Pn.joined&&e===Ih.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,f;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ki.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ob(this,Ki.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ob(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>AF){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const l=e.toLocaleLowerCase(),{close:u,error:f,leave:h,join:d}=Ki;if(r&&[u,f,h,d].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var w,x,E;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((E=(x=b.filter)===null||x===void 0?void 0:x.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===l}).map(b=>b.callback(y,r)):(a=this.bindings[l])===null||a===void 0||a.filter(b=>{var w,x,E,A,P,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const V=b.id,L=(w=b.filter)===null||w===void 0?void 0:w.event;return V&&((x=n.ids)===null||x===void 0?void 0:x.includes(V))&&(L==="*"||L?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const V=(P=(A=b?.filter)===null||A===void 0?void 0:A.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return V==="*"||V===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:x,table:E,commit_timestamp:A,type:P,errors:C}=w;y=Object.assign(Object.assign({},{schema:x,table:E,commit_timestamp:A,eventType:P,new:{},old:{},errors:C}),this._getPayloadRecords(w))}b.callback(y,r)})}_isClosed(){return this.state===Pn.closed}_isJoined(){return this.state===Pn.joined}_isJoining(){return this.state===Pn.joining}_isLeaving(){return this.state===Pn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&xE.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ki.close,{},e)}_onError(e){this._on(Ki.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=PR(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=PR(e.columns,e.old_record)),n}}const lb=()=>{},rp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},IF=[1e3,2e3,5e3,1e4],kF=1e4,MF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class LF{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tw,this.transport=null,this.heartbeatIntervalMs=rp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lb,this.ref=0,this.reconnectTimer=null,this.logger=lb,this.conn=null,this.sendBuffer=[],this.serializer=new OF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>vd(async()=>{const{default:u}=await Promise.resolve().then(()=>Wc);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Aw.websocket}`,this.httpEndpoint=Lk(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wF.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:SF}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case jh.connecting:return Rl.Connecting;case jh.open:return Rl.Open;case jh.closing:return Rl.Closing;default:return Rl.Closed}}isConnected(){return this.connectionState()===Rl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new xE(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,l=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(TF,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},rp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:l}=n,u=l?`(${l})`:"",f=a.status||"";this.log("receive",`${f} ${r} ${i} ${u}`.trim(),a),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ki.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([MF],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:EF};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ki.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new kk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},rp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,l,u,f,h,d;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Tw,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:rp.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:lb,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(p=>IF[p-1]||kF),this.encode=(h=e?.encode)!==null&&h!==void 0?h:((p,y)=>y(JSON.stringify(p))),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class EE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _n(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class UF extends EE{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cw extends EE{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var VF=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};const Uk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vd(async()=>{const{default:r}=await Promise.resolve().then(()=>Wc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},$F=()=>VF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vd(()=>Promise.resolve().then(()=>Wc),void 0)).Response:Response}),Rw=t=>{if(Array.isArray(t))return t.map(n=>Rw(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Rw(r)}),e},BF=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var au=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};const ub=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zF=(t,e,n)=>au(void 0,void 0,void 0,function*(){const r=yield $F();t instanceof r&&!n?.noResolveJson?t.json().then(i=>{const a=t.status||500,l=i?.statusCode||a+"";e(new UF(ub(i),a,l))}).catch(i=>{e(new Cw(ub(i),i))}):e(new Cw(ub(t),t))}),qF=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(BF(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function bd(t,e,n,r,i,a){return au(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(n,qF(e,r,i,a)).then(f=>{if(!f.ok)throw f;return r?.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>zF(f,u,r))})})}function Jp(t,e,n,r){return au(this,void 0,void 0,function*(){return bd(t,"GET",e,n,r)})}function ba(t,e,n,r,i){return au(this,void 0,void 0,function*(){return bd(t,"POST",e,r,i,n)})}function Pw(t,e,n,r,i){return au(this,void 0,void 0,function*(){return bd(t,"PUT",e,r,i,n)})}function FF(t,e,n,r){return au(this,void 0,void 0,function*(){return bd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Vk(t,e,n,r,i){return au(this,void 0,void 0,function*(){return bd(t,"DELETE",e,r,i,n)})}var HF=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class KF{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return HF(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_n(e))return{data:null,error:e};throw e}})}}var GF=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class WF{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new KF(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return GF(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_n(e))return{data:null,error:e};throw e}})}}var Rr=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};const YF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class XF{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Uk(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return Rr(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},DR),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f))):(a=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i?.headers&&(u=Object.assign(Object.assign({},u),i.headers));const h=this._removeEmptyFolders(n),d=this._getFinalPath(h),p=yield(e=="PUT"?Pw:ba)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_n(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Rr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let f;const h=Object.assign({upsert:DR.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType);const p=yield Pw(this.fetch,u.toString(),f,{headers:d});return{data:{path:a,fullPath:p.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(_n(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return Rr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield ba(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+a.url),u=l.searchParams.get("token");if(!u)throw new EE("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}update(e,n,r){return Rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Rr(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Rr(this,void 0,void 0,function*(){try{return{data:{path:(yield ba(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Rr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ba(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Rr(this,void 0,void 0,function*(){try{const i=yield ba(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),l=a?`?${a}`:"",u=this._getFinalPath(e),f=()=>Jp(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new WF(f,this.shouldThrowOnError)}info(e){return Rr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Jp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Rw(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}exists(e){return Rr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield FF(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r)&&r instanceof Cw){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const u=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&i.push(f);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}remove(e){return Rr(this,void 0,void 0,function*(){try{return{data:yield Vk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}list(e,n,r){return Rr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},YF),n),{prefix:e||""});return{data:yield ba(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}listV2(e,n){return Rr(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ba(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const QF="2.75.0",JF={"X-Client-Info":`storage-js/${QF}`};var tc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class ZF{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},JF),n),this.fetch=Uk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return tc(this,void 0,void 0,function*(){try{return{data:yield Jp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_n(e))return{data:null,error:e};throw e}})}getBucket(e){return tc(this,void 0,void 0,function*(){try{return{data:yield Jp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}createBucket(e){return tc(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ba(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_n(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return tc(this,void 0,void 0,function*(){try{return{data:yield Pw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}emptyBucket(e){return tc(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}deleteBucket(e){return tc(this,void 0,void 0,function*(){try{return{data:yield Vk(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}}class eH extends ZF{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new XF(this.url,this.headers,e,this.fetch)}}const tH="2.75.0";let Eh="";typeof Deno<"u"?Eh="deno":typeof document<"u"?Eh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Eh="react-native":Eh="node";const nH={"X-Client-Info":`supabase-js-${Eh}/${tH}`},rH={headers:nH},iH={schema:"public"},aH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sH={};var oH=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};const lH=t=>{let e;return t?e=t:typeof fetch>"u"?e=Rk:e=fetch,(...n)=>e(...n)},uH=()=>typeof Headers>"u"?Pk:Headers,cH=(t,e,n)=>{const r=lH(n),i=uH();return(a,l)=>oH(void 0,void 0,void 0,function*(){var u;const f=(u=yield e())!==null&&u!==void 0?u:t;let h=new i(l?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),r(a,Object.assign(Object.assign({},l),{headers:h}))})};var fH=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};function hH(t){return t.endsWith("/")?t:t+"/"}function dH(t,e){var n,r;const{db:i,auth:a,realtime:l,global:u}=t,{db:f,auth:h,realtime:d,global:p}=e,y={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},d),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=u?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>fH(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function mH(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hH(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $k="2.75.0",dc=30*1e3,Nw=3,cb=Nw*dc,pH="http://localhost:9999",gH="supabase.auth.token",yH={"X-Client-Info":`gotrue-js/${$k}`},jw="X-Supabase-Api-Version",Bk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vH=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bH=600*1e3;class Xh extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ze(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _H extends Xh{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function wH(t){return ze(t)&&t.name==="AuthApiError"}class Pl extends Xh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Vo extends Xh{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ho extends Vo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xH(t){return ze(t)&&t.name==="AuthSessionMissingError"}class nc extends Vo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ip extends Vo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ap extends Vo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function EH(t){return ze(t)&&t.name==="AuthImplicitGrantRedirectError"}class IR extends Vo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dw extends Vo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function fb(t){return ze(t)&&t.name==="AuthRetryableFetchError"}class kR extends Vo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Iw extends Vo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),MR=` 	
\r=`.split(""),SH=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<MR.length;e+=1)t[MR[e].charCodeAt(0)]=-2;for(let e=0;e<Zp.length;e+=1)t[Zp[e].charCodeAt(0)]=e;return t})();function LR(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Zp[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Zp[r]),e.queuedBits-=6}}function zk(t,e,n){const r=SH[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function UR(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{OH(l,r,n)};for(let l=0;l<t.length;l+=1)zk(t.charCodeAt(l),i,a);return e.join("")}function TH(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function AH(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}TH(r,e)}}function OH(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function xc(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)zk(t.charCodeAt(i),n,r);return new Uint8Array(e)}function CH(t){const e=[];return AH(t,n=>e.push(n)),new Uint8Array(e)}function Dl(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>LR(i,n,r)),LR(null,n,r),e.join("")}function RH(t){return Math.round(Date.now()/1e3)+t}function PH(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Wr=()=>typeof window<"u"&&typeof document<"u",wl={tested:!1,writable:!1},qk=()=>{if(!Wr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wl.tested)return wl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),wl.tested=!0,wl.writable=!0}catch{wl.tested=!0,wl.writable=!1}return wl.writable};function NH(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Fk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vd(async()=>{const{default:r}=await Promise.resolve().then(()=>Wc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},jH=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",mc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},xl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},lo=async(t,e)=>{await t.removeItem(e)};class ay{constructor(){this.promise=new ay.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ay.promiseConstructor=Promise;function hb(t){const e=t.split(".");if(e.length!==3)throw new Iw("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!vH.test(e[r]))throw new Iw("JWT not in base64url format");return{header:JSON.parse(UR(e[0])),payload:JSON.parse(UR(e[1])),signature:xc(e[2]),raw:{header:e[0],payload:e[1]}}}async function DH(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function IH(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function kH(t){return("0"+t.toString(16)).substr(-2)}function MH(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,kH).join("")}async function LH(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function UH(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await LH(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rc(t,e,n=!1){const r=MH();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await mc(t,`${e}-code-verifier`,i);const a=await UH(r);return[a,r===a?"plain":"s256"]}const VH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $H(t){const e=t.headers.get(jw);if(!e||!e.match(VH))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function BH(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function zH(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ic(t){if(!qH.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function db(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function VR(t){return JSON.parse(JSON.stringify(t))}var FH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Sl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HH=[502,503,504];async function $R(t){var e;if(!jH(t))throw new Dw(Sl(t),0);if(HH.includes(t.status))throw new Dw(Sl(t),t.status);let n;try{n=await t.json()}catch(a){throw new Pl(Sl(a),a)}let r;const i=$H(t);if(i&&i.getTime()>=Bk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new kR(Sl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ho}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new kR(Sl(n),t.status,n.weak_password.reasons);throw new _H(Sl(n),t.status||500,r)}const KH=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Qe(t,e,n,r){var i;const a=Object.assign({},r?.headers);a[jw]||(a[jw]=Bk["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await GH(t,e,n+u,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function GH(t,e,n,r,i,a){const l=KH(e,r,i,a);let u;try{u=await t(n,Object.assign({},l))}catch(f){throw console.error(f),new Dw(Sl(f),0)}if(u.ok||await $R(u),r?.noResolveJson)return u;try{return await u.json()}catch(f){await $R(f)}}function Fi(t){var e;let n=null;XH(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=RH(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function BR(t){const e=Fi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function vo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function WH(t){return{data:t,error:null}}function YH(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,l=FH(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function zR(t){return t}function XH(t){return t.access_token&&t.refresh_token&&t.expires_in}const mb=["global","local","others"];var QH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class JH{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Fk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=mb[0]){if(mb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mb.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vo})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=QH(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:YH,redirectTo:n?.redirectTo})}catch(n){if(ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vo})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,l,u,f;try{const h={nextPage:null,lastPage:0,total:0},d=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:zR});if(d.error)throw d.error;const p=await d.json(),y=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(u=d.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);h[`${E}Page`]=x}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(ze(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){ic(e);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vo})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ic(e);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:vo})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ic(e);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:vo})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ic(e.userId);try{const{data:n,error:r}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ic(e.userId),ic(e.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,l,u,f;try{const h={nextPage:null,lastPage:0,total:0},d=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:zR});if(d.error)throw d.error;const p=await d.json(),y=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(u=d.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);h[`${E}Page`]=x}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(ze(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}}function qR(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ac={debug:!!(globalThis&&qk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hk extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ZH extends Hk{}async function eK(t,e,n){ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ac.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ZH(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ac.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function tK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kk(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nK(t){return parseInt(t,16)}function rK(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function iK(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:f,resources:h,scheme:d,uri:p,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=Kk(t.address),w=d?`${d}://${r}`:r,x=t.statement?`${t.statement}
`:"",E=`${w} wants you to sign in with your Ethereum account:
${b}

${x}`;let A=`URI: ${p}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(A+=`
Expiration Time: ${i.toISOString()}`),u&&(A+=`
Not Before: ${u.toISOString()}`),f&&(A+=`
Request ID: ${f}`),h){let P=`
Resources:`;for(const C of h){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);P+=`
- ${C}`}A+=P}return`${E}
${A}`}class bn extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class eg extends bn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function aK({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new bn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new bn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new bn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new bn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new bn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new bn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new bn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(Wk(l)){if(a.rp.id!==l)return new bn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new bn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new bn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function sK({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new bn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Wk(r)){if(n.rpId!==r)return new bn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new bn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Gk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class oK{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const lK=new oK;function uK(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Gk(t,["challenge","user","excludeCredentials"]),a=xc(e).buffer,l=Object.assign(Object.assign({},n),{id:xc(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const h=r[f];u.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:xc(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function cK(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Gk(t,["challenge","allowCredentials"]),i=xc(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:xc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function fK(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Dl(new Uint8Array(t.response.attestationObject)),clientDataJSON:Dl(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hK(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Dl(new Uint8Array(i.authenticatorData)),clientDataJSON:Dl(new Uint8Array(i.clientDataJSON)),signature:Dl(new Uint8Array(i.signature)),userHandle:i.userHandle?Dl(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Wk(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function FR(){var t,e;return!!(Wr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function dK(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new eg("Browser returned unexpected credential type",e)}:{data:null,error:new eg("Empty credential response",e)}}catch(e){return{data:null,error:aK({error:e,options:t})}}}async function mK(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new eg("Browser returned unexpected credential type",e)}:{data:null,error:new eg("Empty credential response",e)}}catch(e){return{data:null,error:sK({error:e,options:t})}}}const pK={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},gK={userVerification:"preferred",hints:["security-key"]};function tg(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(n(l))r[a]=l;else if(e(l)){const u=r[a];e(u)?r[a]=tg(u,l):r[a]=tg(l)}else r[a]=l}return r}function yK(t,e){return tg(pK,t,e||{})}function vK(t,e){return tg(gK,t,e||{})}class bK{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:u};const f=i??lK.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=yK(l.webauthn.credential_options.publicKey,a?.create),{data:d,error:p}=await dK({publicKey:h,signal:f});return d?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}case"request":{const h=vK(l.webauthn.credential_options.publicKey,a?.request),{data:d,error:p}=await mK(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:f}));return d?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}}}catch(l){return ze(l)?{data:null,error:l}:{data:null,error:new Pl("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new Xh("rpId is required for WebAuthn authentication")};try{if(!FR())return{data:null,error:new Pl("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return ze(l)?{data:null,error:l}:{data:null,error:new Pl("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new Xh("rpId is required for WebAuthn registration")};try{if(!FR())return{data:null,error:new Pl("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(d=>{var p;return(p=d.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:u};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return ze(l)?{data:null,error:l}:{data:null,error:new Pl("Unexpected error in register",l)}}}}tK();const _K={url:pH,storageKey:gH,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function HR(t,e,n){return await n()}const sc={};class Qh{get jwks(){var e,n;return(n=(e=sc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){sc[this.storageKey]=Object.assign(Object.assign({},sc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=sc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){sc[this.storageKey]=Object.assign(Object.assign({},sc[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qh.nextInstanceID,Qh.nextInstanceID+=1,this.instanceID>0&&Wr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},_K),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new JH({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Fk(i.fetch),this.lock=i.lock||HR,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Wr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=eK:this.lock=HR,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bK(this)},this.persistSession?(i.storage?this.storage=i.storage:qk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qR(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=qR(this.memoryStorage)),Wr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$k}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=NH(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Wr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),EH(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ze(n)?{error:n}:{error:new Pl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Fi}),{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:d,password:p,options:y}=e;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await rc(this.storage,this.storageKey)),a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:d,password:p,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:w},xform:Fi})}else if("phone"in e){const{phone:d,password:p,options:y}=e;a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Fi})}else throw new ip("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:l,options:u}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:BR})}else if("phone"in e){const{phone:a,password:l,options:u}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:BR})}else throw new ip("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new nc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,l,u,f,h,d,p,y;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:x,wallet:E,statement:A,options:P}=e;let C;if(Wr())if(typeof E=="object")C=E;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")C=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=E}const V=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href),L=await C.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=Kk(L[0]);let j=(r=P?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const M=await C.request({method:"eth_chainId"});j=nK(M)}const I={domain:V.host,address:D,statement:A,uri:V.href,version:"1",chainId:j,nonce:(i=P?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=P?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=P?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(d=P?.signInWithEthereum)===null||d===void 0?void 0:d.resources};b=iK(I),w=await C.request({method:"personal_sign",params:[rK(b),D]})}try{const{data:x,error:E}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Fi});if(E)throw E;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new nc}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:E})}catch(x){if(ze(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var n,r,i,a,l,u,f,h,d,p,y,b;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:E,wallet:A,statement:P,options:C}=e;let V;if(Wr())if(typeof A=="object")V=A;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))V=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=A}const L=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in V&&V.signIn){const D=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),P?{statement:P}:null));let j;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")j=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)j=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)w=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${L.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(i=(r=C?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=C?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(d=C?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const D=await V.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=D}}try{const{data:E,error:A}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Dl(x)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Fi});if(A)throw A;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new nc}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:A})}catch(E){if(ze(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const n=await xl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:l}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Fi});if(await lo(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new nc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(ze(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:l}=e,u=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Fi}),{data:f,error:h}=u;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new nc}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,l;try{if("email"in e){const{email:u,options:f}=e;let h=null,d=null;this.flowType==="pkce"&&([h,d]=await rc(this.storage,this.storageKey));const{error:p}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:d},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:u,options:f}=e,{data:h,error:d}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(l=f?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:d}}throw new ip("You must provide either an email or phone number.")}catch(u){if(ze(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Fi});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await rc(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:WH})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ho;const{error:i}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ze(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:l}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:l,error:u}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:u}}throw new ip("You must provide either an email or phone number and a type")}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await xl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<cb:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await xl(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=db()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,h,d)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,d))})}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vo}):await this._useSession(async n=>{var r,i,a;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ho}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:vo})})}catch(n){if(ze(n))return xH(n)&&(await this._removeSession(),await lo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ho;const l=i.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await rc(this.storage,this.storageKey));const{data:h,error:d}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:vo});if(d)throw d;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ho;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:l}=hb(e.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(ze(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:u}=n;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new ho;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Wr())throw new ap("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ap(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new IR("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ap("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new IR("No code detected.");const{data:P,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:u,expires_at:f,token_type:h}=e;if(!a||!u||!l||!h)throw new ap("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(u);let y=d+p;f&&(y=parseInt(f));const b=y-d;b*1e3<=dc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const w=y-p;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,d);const{data:x,error:E}=await this._getUser(a);if(E)throw E;const A={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:y,refresh_token:l,token_type:h,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:e.type},error:null}}catch(r){if(ze(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await xl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(wH(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await lo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=PH(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await rc(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var l,u,f,h,d;const{data:p,error:y}=a;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",b,{headers:this.headers,jwt:(d=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Wr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(ze(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:l,provider:u,token:f,access_token:h,nonce:d}=e,p=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:f,access_token:h,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Fi}),{data:y,error:b}=p;return b?{data:{user:null,session:null},error:b}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new nc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:b})}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)throw l;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await IH(async i=>(i>0&&await DH(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Fi})),(i,a)=>{const l=200*Math.pow(2,i);return a&&fb(a)&&Date.now()+l-r<dc})}catch(r){if(this._debug(n,"error",r),ze(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Wr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await xl(this.storage,this.storageKey);if(i&&this.userStorage){let l=await xl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await mc(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l?.user)!==null&&e!==void 0?e:db()}else if(i&&!i.user&&!i.user){const l=await xl(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await lo(this.storage,this.storageKey+"-user"),await mc(this.storage,this.storageKey,i)):i.user=db()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<cb;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${cb}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),fb(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ho;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ay;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new ho;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),ze(a)){const l={data:null,error:a};return fb(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(f){a.push(f)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await mc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=VR(i);await mc(this.storage,this.storageKey,a)}else{const i=VR(n);await mc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await lo(this.storage,this.storageKey),await lo(this.storage,this.storageKey+"-code-verifier"),await lo(this.storage,this.storageKey+"-user"),this.userStorage&&await lo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Wr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),dc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/dc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${dc}ms, refresh threshold is ${Nw} ticks`),i<=Nw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Hk)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await rc(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:h}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&f.type==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?fK(e.webauthn.credential_response):hK(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:f}=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:uK(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:cK(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=hb(i.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const d=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+bH>i)return r;const{data:a,error:l}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:b,error:w}=await this.getSession();if(w||!b.session)return{data:null,error:w};r=b.session.access_token}const{header:i,payload:a,signature:l,raw:{header:u,payload:f}}=hb(r);n?.allowExpired||BH(a.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:l},error:null}}const d=zH(i.alg),p=await crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,l,CH(`${u}.${f}`)))throw new Iw("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}}Qh.nextInstanceID=0;const wK=Qh;class xK extends wK{constructor(e){super(e)}}var EK=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{h(r.next(d))}catch(p){l(p)}}function f(d){try{h(r.throw(d))}catch(p){l(p)}}function h(d){d.done?a(d.value):i(d.value).then(u,f)}h((r=r.apply(t,e||[])).next())})};class SK{constructor(e,n,r){var i,a,l;this.supabaseUrl=e,this.supabaseKey=n;const u=mH(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:iH,realtime:sH,auth:Object.assign(Object.assign({},aH),{storageKey:f}),global:rH},d=dH(r??{},h);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=d.auth)!==null&&l!==void 0?l:{},this.headers,d.global.fetch),this.fetch=cH(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new _F(new URL("rest/v1",u).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new eH(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new cF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return EK(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:l,flowType:u,lock:f,debug:h},d,p){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xK({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),d),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:u,lock:f,debug:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new LF(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const TK=(t,e,n)=>new SK(t,e,n);function AK(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}AK()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const OK="https://odzsnrjocdmbajksnzpk.supabase.co",CK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9kenNucmpvY2RtYmFqa3NuenBrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkyNjk3NTcsImV4cCI6MjA3NDg0NTc1N30.LE8xoK5-rmAXnRJBx60-tNEIQq350sEs43PLoYWtQ8M",Yk=TK(OK,CK),pc="sBluV8DKQA0hTvJ2ABC9U3VDZunUGUSehxuDPvtNC8SQ3Q5XHvQVt0nm3X7cvP7j";function RK(t){if(!t.length)return{max:0,min:0,median:0,mean:0,q3:0};const e=[...t].sort((u,f)=>u-f),n=e.at(-1)??0,r=e[0],i=e.length%2===0?Math.round((e[e.length/2-1]+e[e.length/2])/2*10)/10:e[Math.floor(e.length/2)],a=Math.round(e.reduce((u,f)=>u+f,0)/e.length*10)/10,l=e[Math.floor(e.length*.75)];return{max:n,min:r,median:i,mean:a,q3:l}}function PK(t){const e=t.reduce((r,i)=>(r[i.team_number]||(r[i.team_number]=[]),r[i.team_number].push(i),r),{}),n={};for(const[r,i]of Object.entries(e)){const a=Number(r),l={};Object.keys(i[0]).filter(u=>{const f=i[0][u];return typeof f=="number"||f===null}).forEach(u=>{const f=i.map(h=>typeof h[u]=="number"?h[u]:0).filter(h=>!isNaN(h));l[u]=RK(f)}),n[a]=l}return n}function NK(t){console.error(t);function e(r,i){if(!r.length)return 0;const a=i/100*(r.length-1),l=Math.floor(a),u=Math.ceil(a);return l===u?r[l]:r[l]+(r[u]-r[l])*(a-l)}const n={};for(const r of wo){if(!Object.values(t).some(l=>l[r]!==void 0))continue;n[r]={min:{p10:0,p25:0,p75:0,p90:0},max:{p10:0,p25:0,p75:0,p90:0},median:{p10:0,p25:0,p75:0,p90:0},mean:{p10:0,p25:0,p75:0,p90:0},q3:{p10:0,p25:0,p75:0,p90:0}};const a=["min","max","median","mean","q3"];for(const l of a){const u=Object.values(t).map(f=>f[r]?.[l]??0).filter(f=>typeof f=="number"&&!isNaN(f)).sort((f,h)=>f-h);n[r][l]={p10:e(u,10),p25:e(u,25),p75:e(u,75),p90:e(u,90)}}}return console.log(n),n}async function jK(t){try{const e=await fetch(`https://www.thebluealliance.com/api/v3/events/${t}/keys`,{headers:{"X-TBA-Auth-Key":pc}});return e.ok?e.json():[]}catch(e){return console.error("Failed fetching events",e),[]}}async function DK(){const{data:t,error:e}=await Yk.from("Pit Scouting").select("*");return t?t.filter(n=>n.team_number>0):[]}async function IK(t){if(!t||t==="XX")return null;try{const[e,n,r,i]=await Promise.all([fetch(`https://www.thebluealliance.com/api/v3/event/${t}/rankings`,{headers:{"X-TBA-Auth-Key":pc}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/oprs`,{headers:{"X-TBA-Auth-Key":pc}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/matches`,{headers:{"X-TBA-Auth-Key":pc}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/teams`,{headers:{"X-TBA-Auth-Key":pc}})]),a=await e.json(),l=await n.json(),u=await r.json(),f=await i.json();let h=[...new Set(yr.getState().forms.map(p=>p.team_number).filter(p=>!f.map(y=>y.team_number).includes(p)))];console.warn(h);const d={};return f.forEach(p=>{d[p.team_number]={name:p.name??`Team ${p.team_number}`,nickname:p.nickname??`Team ${p.team_number}`}}),await Promise.all(h.map(async p=>{const b=await(await fetch(`https://www.thebluealliance.com/api/v3/team/frc${p}`,{headers:{"X-TBA-Auth-Key":pc}})).json();console.error(b),d[b.team_number]={name:b.name??`Team ${b.team_number}`,nickname:b.nickname??`Team ${b.team_number}`}})),console.log(d),{tbaData:{rankings:a.rankings??[],oprs:l.oprs??{},matches:u},teamInfo:d}}catch(e){return console.error("TBA fetch error",e),null}}async function kK(t){try{const e=new Date().getFullYear();return await(await fetch(`https://api.statbotics.io/v3/team_year/${String(t)}/${e}`)).json()}catch(e){return console.error("Statbotics fetch error",e),null}}async function MK(){const t=Yp(Yh,"aiOverview","overview"),e=await yk(t);if(!e.exists())return console.warn("No AI overviews found"),{};const n=e.data(),r={};return Object.entries(n).forEach(([i,a])=>{const l=Number(i);isNaN(l)||(r[l]=a)}),r}async function LK(){const t=Yp(Yh,"aiOverview","match"),e=await yk(t);if(!e.exists())return console.warn("No AI matches found"),{};const n=e.data(),r={};return Object.entries(n).forEach(([i,a])=>{const l=String(i);typeof a=="string"&&(r[l]=a)}),r}const yr=S9((t,e)=>({forms:[],pitForms:[],teamStats:{},columnPercentiles:{},loading:!0,eventKeys:[],tbaData:null,teamInfo:{},aiOverviews:{},aiMatches:{},eventName:localStorage.getItem("eventName")||"XX",currentViewingTeam:Number(localStorage.getItem("currentViewingTeam")||3197),usePracticeData:localStorage.getItem("usePracticeData")==="true",statboticsTeams:[],teamImages:{},loadTeamImages:async()=>{try{const n=await v7(n7(Yh,"robotImages")),r={};n.forEach(i=>{const a=i.data(),l=i.id.match(/image_team(\d+)/);if(l){const u=parseInt(l[1],10);r[u]=a.url}}),t({teamImages:r})}catch(n){console.error("Error loading team images:",n)}},loadStatbotics:async()=>{t({loading:!0});const n=await kK(e().currentViewingTeam);t({statboticsTeams:n??void 0,loading:!1})},setEventName:n=>{localStorage.setItem("eventName",n),t({eventName:n})},setCurrentViewingTeam:async n=>{t({loading:!0}),localStorage.setItem("currentViewingTeam",String(n)),t({currentViewingTeam:n,loading:!1})},setUsePracticeData:n=>{localStorage.setItem("usePracticeData",String(n)),t({usePracticeData:n})},loadData:async()=>{e().forms.length>0||await e().hotRefresh()},hotRefresh:async()=>{t({loading:!0});const n=new Date().getFullYear(),[r,i,a,l,u]=await Promise.all([jK(n),UK(),DK(),MK(),LK()]),f=await IK(e().eventName);console.log(i);const h=PK(i);console.log(h),f?.tbaData?.oprs&&Object.entries(f.tbaData.oprs).forEach(([p,y])=>{const b=Number(p.replace("frc",""));if(Object.keys(h).includes(String(b))){const w=Math.round(y*10)/10;h[b],h[b].opr={max:w,min:w,median:w,mean:w,q3:w}}}),Object.keys(h).forEach(p=>{const y=Number(p);h[y].opr||(h[y].opr={max:0,min:0,median:0,mean:0,q3:0})});const d=NK(h);console.warn(d),t({forms:i,pitForms:a,teamStats:h,columnPercentiles:d,aiOverviews:l,aiMatches:u,eventKeys:r,tbaData:f?.tbaData??null,teamInfo:f?.teamInfo??{},loading:!1})}})),UK=async()=>{var t=["match"];yr.getState().usePracticeData&&(t.push("practice"),t.push("pre"));const{data:e,error:n}=await Yk.from("Live Data").select("*").in("match_type",t);return e?e.map(r=>({...r,opr:0})):[]};function $o(){const t=yr(e=>e.hotRefresh);return T.jsx("button",{onClick:t,className:"fixed bottom-2 right-2 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-700 transition duration-300 z-50 cursor-pointer",title:"Reload Data",children:T.jsx(Q$,{size:24})})}function su(){return T.jsx(bc,{to:"/settings",className:"fixed bottom-2 left-2 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-700 transition duration-300 z-50 cursor-pointer",children:T.jsx("div",{children:T.jsx(a9,{})})},"settings")}function SE({isOpen:t,onClose:e,forms:n,teamNumber:r,teamInfo:i,teamImages:a}){const{setCurrentViewingTeam:l,tbaData:u,teamStats:f}=yr(),h=Bg(),p=(r?n.filter(y=>Number(y.team_number)===r).sort((y,b)=>(y.match_number??0)-(b.match_number??0)):[]).filter(y=>y.comments);return t?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/67",onClick:e,children:T.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[75vh] overflow-hidden flex flex-col m-4 pointer-events-auto",onClick:y=>y.stopPropagation(),children:[T.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Quick Team Overview"}),T.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition cursor-pointer",children:T.jsx(v9,{size:24,className:"text-gray-600"})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r?T.jsxs("div",{className:"space-y-6",children:[T.jsx("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-200",children:T.jsxs("div",{className:"w-full",children:[T.jsxs("div",{className:"p-4 flex justify-between w-full gap-4",children:[T.jsxs("h3",{className:"text-3xl font-bold text-gray-800",children:["Team ",r," - ",i&&i[r]?.nickname||"Unknown Team"]}),T.jsx("button",{onClick:()=>{l(r),h("/teams")},className:"px-5 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition font-medium cursor-pointer",children:"View Team Page"})]}),T.jsxs("div",{className:"text-base text-gray-800 mb-1 flex flex-row flex-wrap gap-2",children:[T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-xs",children:"Rank"}),T.jsx("p",{className:"text-md font-semibold",children:u?.rankings?.find(y=>y.team_key===`frc${r}`)?.rank??"N/A"})]}),T.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-xs",children:"OPR"}),T.jsx("p",{className:"text-md font-semibold",children:Math.round(Number(u?.oprs[`frc${r}`]??0)*10)/10})]}),T.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-xs",children:"Total Points"}),T.jsx("p",{className:"text-md font-semibold",children:f[r]?.total_points?.q3??0})]}),T.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-xs",children:"Auto Points"}),T.jsx("p",{className:"text-md font-semibold",children:f[r]?.auto_points?.q3??0})]}),T.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-xs",children:"Tele Points"}),T.jsx("p",{className:"text-md font-semibold",children:f[r]?.tele_points?.q3??0})]}),T.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-xs",children:"Endgame Points"}),T.jsx("p",{className:"text-md font-semibold",children:f[r]?.endgame_points?.q3??0})]}),T.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-xs",children:"Total Gamepieces"}),T.jsx("p",{className:"text-md font-semibold",children:f[r]?.total_gamepieces?.q3??0})]})]}),T.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[p.length," comment",p.length!==1?"s":""," found"]})]})}),p.length>0?T.jsx("div",{className:"space-y-3",children:p.map(y=>T.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 hover:shadow-md transition",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("span",{className:"font-semibold text-orange-600",children:y.match_type=="match"?"Match "+y.match_number:VK(y.match_type)+" Match"}),y.scout_name&&T.jsxs("span",{className:"text-xs text-gray-500",children:["by ",y.scout_name]})]}),T.jsx("p",{className:"text-gray-800 leading-relaxed",children:y.comments})]},y.id))}):T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"text-gray-400 mb-2",children:T.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),T.jsxs("p",{className:"text-gray-500 text-lg",children:["No comments available for Team ",r]})]})]}):T.jsxs("div",{className:"text-center py-20",children:[T.jsx("div",{className:"text-gray-400 mb-4",children:T.jsx(Z$,{className:"w-20 h-20 mx-auto"})}),T.jsx("p",{className:"text-gray-500 text-lg",children:"Enter a team number to view their comments"})]})}),T.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex justify-end",children:T.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition font-medium cursor-pointer",children:"Close"})})]})}):null}function VK(t){return typeof t!="string"||t.length===0?t:t.charAt(0).toUpperCase()+t.slice(1)}const $K=["opr","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","tele_made_net"],BK=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()},zK=t=>{alert(t||"No comment")},KR="tableTeamValueType";function qK(){const{forms:t,teamStats:e,loading:n,columnPercentiles:r,loadData:i,teamInfo:a}=yr();O.useEffect(()=>{i()},[]);const[l,u]=O.useState(!1),[f,h]=O.useState(-1),[d,p]=O.useState("Team"),[y,b]=O.useState(sessionStorage.getItem(KR)??"Median"),[w,x]=O.useState(!0),[E,A]=O.useState(!0),[P,C]=O.useState(-1),[V,L]=O.useState(-1),[D,j]=O.useState({column:null,direction:null});O.useEffect(()=>{sessionStorage.setItem(KR,y)},[y]);const I=q=>{j($=>$.column===q?$.direction==="desc"?{column:q,direction:"asc"}:$.direction==="asc"?{column:null,direction:null}:{column:q,direction:"desc"}:{column:q,direction:"desc"})},M=q=>D.column!==q?T.jsx(j$,{size:14,className:"inline ml-1 text-gray-600"}):D.direction==="desc"?T.jsx(wD,{size:14,className:"inline ml-1 text-orange-600"}):T.jsx(xD,{size:14,className:"inline ml-1 text-orange-600"});function U(q,$){return!$.column||!$.direction?q:[...q].sort((ve,we)=>{let G=ve[$.column??0]??0,re=we[$.column??0]??0;return($.column==="team_number"||$.column==="match_number")&&(G=Number(G),re=Number(re)),typeof G=="number"&&typeof re=="number"&&!isNaN(G)&&!isNaN(re)?$.direction==="asc"?G-re:re-G:$.direction==="asc"?String(G).localeCompare(String(re)):String(re).localeCompare(String(G))})}function z(q,$,ve){return!$.column||!$.direction?q:[...q].sort((we,G)=>{const re=we.stats[$.column??0][ve]??0,pe=G.stats[$.column??0][ve]??0;return typeof re=="number"&&typeof pe=="number"?$.direction==="asc"?re-pe:pe-re:$.direction==="asc"?String(re).localeCompare(String(pe)):String(pe).localeCompare(String(re))})}return T.jsxs("div",{className:"min-h-screen bg-gray-50",children:[T.jsx(Uo,{}),T.jsx(SE,{isOpen:l,onClose:()=>u(!1),forms:t,teamNumber:f,teamInfo:a}),T.jsxs("main",{className:"pt-20 px-0 md:px-6 pr-10",children:[n?T.jsx("div",{className:"text-orange-500 m-15 text-2xl font-bold animate-bounce",children:"Loading data..."}):T.jsxs("div",{className:"scrollbar-thin scrollbar-thumb-orange-500 scrollbar-track-gray-200 relative ",children:[T.jsx("button",{className:`fixed top-22 right-2 z-50 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-600 transition duration-500 cursor-pointer ${E?"opacity-0 pointer-events-none":"opacity-100"}`,onClick:()=>A(!0),children:T.jsx(r9,{size:24})}),T.jsxs("div",{className:`fixed top-18 right-0 ${E?"-translate-x-2 opacity-100":"translate-x-full opacity-0 pointer-events-none"} bg-gray-100 py-1.5 px-5 flex flex-row gap-4 items-center shadow-md w-fit rounded-lg hover:bg-gray-200 transition duration-500 z-40`,children:[T.jsx(FK,{view:d,setView:p}),d==="Team"&&T.jsx(HK,{view:y,setView:b}),d==="Raw"&&T.jsx(KK,{view:V,setView:L,teamStats:e}),T.jsx("button",{className:"ml-0 p-1 text-gray-600 hover:text-gray-800 transition cursor-pointer",onClick:()=>x(q=>!q),children:T.jsx(G$,{size:24,color:w?"darkorange":"currentColor"})}),T.jsx("button",{className:"ml-0 p-1 text-gray-600 hover:text-gray-800 transition cursor-pointer",onClick:()=>A(!1),children:T.jsx(H$,{size:24})})]}),T.jsxs("table",{className:`table-auto border-collapse w-full text-sm md:text-base mt-18 ml-0 mb-15 ${d==="Raw"?"shadow-lg rounded-lg overflow-hidden":"border border-gray-300"}`,children:[T.jsx("thead",{className:"sticky top-0 transition-top duration-250",children:T.jsx("tr",{className:d==="Raw"?"bg-gradient-to-r from-orange-50 to-orange-100":"bg-gray-200 shadow-lg",children:(d==="Raw"?vR.filter(q=>q!="opr"):wo).map(q=>T.jsx("th",{onClick:()=>{I(q)},className:`${d==="Raw"?"border-b-2 border-orange-300 px-3 py-2 font-semibold text-gray-900":"border-t-1 border-b-1 border-gray-300 px-3 py-2"} text-center whitespace-nowrap cursor-pointer select-none hover:bg-orange-200 transition duration-250 ${D.column===q?d==="Raw"?"bg-orange-300":"bg-orange-400":""}`,children:T.jsxs("div",{className:"flex items-center justify-center gap-1",children:[BK(q),d==="Raw"?M(q):D.column===q&&T.jsx("span",{className:"text-xs font-bold text-orange-600",children:D.direction==="desc"?"▼":D.direction==="asc"?"▲":""})]})},q))})}),T.jsx("tbody",{children:d==="Raw"?U(t,D).filter(q=>V==-1||q.team_number==V).map((q,$)=>T.jsx("tr",{className:$%3!==0?"bg-white hover:bg-gray-50 transition-colors":"bg-gray-50 hover:bg-gray-100 transition-colors",children:vR.filter(ve=>ve!="opr").map(ve=>T.jsx("td",{className:"border-y border-gray-200 px-3 py-2 text-center",children:ve==="comments"?T.jsx("button",{onClick:()=>zK(q[ve]),className:"px-3 py-1.5 bg-orange-500 text-white text-sm font-medium rounded-md hover:bg-orange-600 transition shadow-sm",children:"View"}):typeof q[ve]=="boolean"?T.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${q[ve]?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:q[ve]?"Yes":"No"}):ve=="match_number"?T.jsx("span",{className:"font-medium text-gray-800",children:q.match_type=="match"?q[ve]??"":q.match_type.toUpperCase()??""}):T.jsx("span",{className:"text-gray-700",children:q[ve]??""})},ve))},q.id)):z(Object.entries(e).map(([q,$])=>({teamNumber:q,stats:$})),D,y.toLowerCase()).map(({teamNumber:q,stats:$},ve)=>{const we=$;return T.jsx("tr",{className:`${(ve+1)%3===0&&P!==we.team_number[y.toLowerCase()]?"bg-gray-200 hover:bg-gray-300":"hover:bg-gray-100"} ${P==we.team_number[y.toLowerCase()]?"bg-orange-300 hover:bg-orange-400":""} transition duration-250`,onClick:()=>C(G=>G===we.team_number[y.toLowerCase()]?-1:we.team_number[y.toLowerCase()]),children:wo.map(G=>{const re=we[G][y.toLowerCase()],{p10:pe,p25:xe,p75:H,p90:oe}=r[G][y.toLowerCase()]??{p10:0,p25:0,p75:1/0,p90:1/0};let ie=" rounded-md px-4 py-1 transition duration-250 ";return $K.includes(G)&&w&&(re<=pe?ie=ie.concat(" bg-red-500/95 font-bold shadow-sm "):re<=xe?ie=ie.concat(" bg-red-200/95 shadow-sm "):re>=oe?ie=ie.concat(" bg-blue-300/95 font-bold shadow-sm "):re>=H&&(ie=ie.concat(" bg-green-200/95 shadow-sm "))),T.jsx("td",{className:`cursor-${G=="team_number"?"pointer":"arrow"} ${G=="team_number"?"hover:font-bold":""} transition border-t-1 border-b-1 border-y-gray-500 px-3 py-3 text-center ${D.column===G?"border-x-orange-400 border-x-3":""}`,onClick:G=="team_number"?()=>{h(re),u(!0)}:()=>{},children:T.jsx("span",{className:ie,children:re})},G)})},q)})})]})]}),T.jsx($o,{}),T.jsx(su,{})]})]})}function FK({view:t,setView:e}){return T.jsxs("div",{className:"my-0",children:[T.jsx("label",{htmlFor:"table-type-select",className:"mr-2 font-medium text-gray-700",children:"Table Type:"}),T.jsxs("select",{id:"table-type-select",value:t,onChange:n=>e(n.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-xl hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:[T.jsx("option",{value:"Raw",children:"Raw"}),T.jsx("option",{value:"Team",children:"Team"})]})]})}function HK({view:t,setView:e}){return T.jsxs("div",{className:"my-0 ml-2",children:[T.jsx("label",{htmlFor:"team-value-select",className:"mr-2 font-medium text-gray-700",children:"Value Type:"}),T.jsxs("select",{id:"team-value-select",value:t,onChange:n=>e(n.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-xl hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:[T.jsx("option",{value:"Max",children:"Max"}),T.jsx("option",{value:"Q3",children:"Q3"}),T.jsx("option",{value:"Median",children:"Median"}),T.jsx("option",{value:"Mean",children:"Mean"}),T.jsx("option",{value:"Min",children:"Min"})]})]})}function KK({view:t,setView:e,teamStats:n}){return T.jsxs("div",{className:"my-0 ml-2",children:[T.jsx("label",{htmlFor:"team-value-select",className:"mr-2 font-medium text-gray-700",children:"Team:"}),T.jsxs("select",{id:"team-value-select",value:t,onChange:r=>e(parseInt(r.target.value)),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-xl hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:[T.jsx("option",{value:-1,children:"ANY"}),Object.keys(n).map(r=>T.jsx("option",{value:n[r].team_number.max,children:n[r].team_number.max}))]})]})}function GK(){const t=dD();return console.error(t),T.jsxs("div",{id:"error-page",children:[T.jsx("h1",{children:"That page does not exist."}),T.jsx("p",{children:"Sorry, an unexpected error has occurred."}),T.jsx("p",{children:T.jsx("i",{children:t.statusText||t.message})})]})}const WK=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()};function fs({view:t,setView:e,label:n,options:r}){return T.jsxs("div",{className:"my-0",children:[T.jsx("label",{className:"mr-2 font-medium text-gray-700",children:n}),T.jsx("select",{value:t,onChange:i=>e(i.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-lg hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:r.map(i=>T.jsxs("option",{value:String(i),children:[" ",typeof i=="string"?WK(i):String(i)," "]},String(i)))})]})}function Xk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Xk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Xk(t))&&(r&&(r+=" "),r+=e);return r}var pb={},gb={},GR;function YK(){return GR||(GR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(gb)),gb}var yb={},WR;function Qk(){return WR||(WR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(yb)),yb}var vb={},YR;function Jk(){return YR||(YR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(vb)),vb}var bb={},XR;function TE(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,l="",u="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const h=n[a];u?h==="\\"&&a+1<i?(a++,l+=n[a]):h===u?u="":l+=h:f?h==='"'||h==="'"?u=h:h==="]"?(f=!1,r.push(l),l=""):l+=h:h==="["?(f=!0,l&&(r.push(l),l="")):h==="."?l&&(r.push(l),l=""):l+=h,a++}return l&&r.push(l),r}t.toPath=e})(bb)),bb}var QR;function AE(){return QR||(QR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YK(),n=Qk(),r=Jk(),i=TE();function a(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const d=u[f];return d===void 0?n.isDeepKey(f)?a(u,i.toPath(f),h):h:d}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const d=u[f];return d===void 0?h:d}default:{if(Array.isArray(f))return l(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const d=u[f];return d===void 0?h:d}}}function l(u,f,h){if(f.length===0)return h;let d=u;for(let p=0;p<f.length;p++){if(d==null||e.isUnsafeProperty(f[p]))return h;d=d[f[p]]}return d===void 0?h:d}t.get=a})(pb)),pb}var _b,JR;function XK(){return JR||(JR=1,_b=AE().get),_b}var QK=XK();const Gl=ea(QK);var wb={exports:{}},Lt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZR;function JK(){if(ZR)return Lt;ZR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(x){if(typeof x=="object"&&x!==null){var E=x.$$typeof;switch(E){case t:switch(x=x.type,x){case n:case i:case r:case f:case h:case y:return x;default:switch(x=x&&x.$$typeof,x){case l:case u:case p:case d:return x;case a:return x;default:return E}}case e:return E}}}return Lt.ContextConsumer=a,Lt.ContextProvider=l,Lt.Element=t,Lt.ForwardRef=u,Lt.Fragment=n,Lt.Lazy=p,Lt.Memo=d,Lt.Portal=e,Lt.Profiler=i,Lt.StrictMode=r,Lt.Suspense=f,Lt.SuspenseList=h,Lt.isContextConsumer=function(x){return w(x)===a},Lt.isContextProvider=function(x){return w(x)===l},Lt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Lt.isForwardRef=function(x){return w(x)===u},Lt.isFragment=function(x){return w(x)===n},Lt.isLazy=function(x){return w(x)===p},Lt.isMemo=function(x){return w(x)===d},Lt.isPortal=function(x){return w(x)===e},Lt.isProfiler=function(x){return w(x)===i},Lt.isStrictMode=function(x){return w(x)===r},Lt.isSuspense=function(x){return w(x)===f},Lt.isSuspenseList=function(x){return w(x)===h},Lt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===f||x===h||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===d||x.$$typeof===l||x.$$typeof===a||x.$$typeof===u||x.$$typeof===b||x.getModuleId!==void 0)},Lt.typeOf=w,Lt}var eP;function ZK(){return eP||(eP=1,wb.exports=JK()),wb.exports}var eG=ZK(),Dr=t=>t===0?0:t>0?1:-1,ni=t=>typeof t=="number"&&t!=+t,Il=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Re=t=>(typeof t=="number"||t instanceof Number)&&!ni(t),Na=t=>Re(t)||typeof t=="string",tG=0,Jh=t=>{var e=++tG;return"".concat(t||"").concat(e)},Ji=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(e)&&typeof e!="string")return r;var a;if(Il(e)){if(n==null)return r;var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return ni(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},Zk=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Gi(t,e,n){return Re(t)&&Re(e)?t+n*(e-t):e}function eM(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Gl(r,e))===n)}var Gt=t=>t===null||typeof t>"u",_d=t=>Gt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),nG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function OE(t){if(typeof t!="string")return!1;var e=nG;return e.includes(t)}var rG=["viewBox","children"],tP=["points","pathLength"],xb={svg:rG,polygon:tP,polyline:tP},CE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{OE(i)&&(r[i]=(a=>n[i](n,a)))}),r},iG=(t,e,n)=>r=>(t(e,n,r),null),sy=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];OE(i)&&typeof a=="function"&&(r||(r={}),r[i]=iG(a,e,n))}),r},aG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function tM(t){if(typeof t!="string")return!1;var e=aG;return e.includes(t)}function ou(t){var e=Object.entries(t).filter(n=>{var[r]=n;return tM(r)});return Object.fromEntries(e)}var nP=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",rP=null,Eb=null,nM=t=>{if(t===rP&&Array.isArray(Eb))return Eb;var e=[];return O.Children.forEach(t,n=>{Gt(n)||(eG.isFragment(n)?e=e.concat(nM(n.props.children)):e.push(n))}),Eb=e,rP=t,e};function RE(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>nP(i)):r=[nP(e)],nM(t).forEach(i=>{var a=Gl(i,"type.displayName")||Gl(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var rM=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,sG=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&xb?.[r])!==null&&i!==void 0?i:[],l=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&a.includes(e)||tM(e)),f=!!n&&OE(e);return l||u||f},on=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(O.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var l;sG((l=r)===null||l===void 0?void 0:l[a],a,e,n)&&(i[a]=r[a])}),i},oG=["children","width","height","viewBox","className","style","title","desc"];function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(null,arguments)}function lG(t,e){if(t==null)return{};var n,r,i=uG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var PE=O.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:f,desc:h}=t,d=lG(t,oG),p=a||{width:r,height:i,x:0,y:0},y=jt("recharts-surface",l);return O.createElement("svg",kw({},on(d,!0,"svg"),{className:y,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),O.createElement("title",null,f),O.createElement("desc",null,h),n)}),cG=["children","className"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(null,arguments)}function fG(t,e){if(t==null)return{};var n,r,i=hG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zi=O.forwardRef((t,e)=>{var{children:n,className:r}=t,i=fG(t,cG),a=jt("recharts-layer",r);return O.createElement("g",Mw({className:a},on(i,!0),{ref:e}),n)}),iM=O.createContext(null),dG=()=>O.useContext(iM);function qt(t){return function(){return t}}const aM=Math.cos,ng=Math.sin,ta=Math.sqrt,rg=Math.PI,oy=2*rg,Lw=Math.PI,Uw=2*Lw,Tl=1e-6,mG=Uw-Tl;function sM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function pG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return sM;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?sM:pG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,f=r-e,h=i-n,d=l-e,p=u-n,y=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Tl)if(!(Math.abs(p*f-h*d)>Tl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-l,w=i-u,x=f*f+h*h,E=b*b+w*w,A=Math.sqrt(x),P=Math.sqrt(y),C=a*Math.tan((Lw-Math.acos((x+y-E)/(2*A*P)))/2),V=C/P,L=C/A;Math.abs(V-1)>Tl&&this._append`L${e+V*d},${n+V*p}`,this._append`A${a},${a},0,0,${+(p*b>d*w)},${this._x1=e+L*f},${this._y1=n+L*h}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=e+u,d=n+f,p=1^l,y=l?i-a:a-i;this._x1===null?this._append`M${h},${d}`:(Math.abs(this._x1-h)>Tl||Math.abs(this._y1-d)>Tl)&&this._append`L${h},${d}`,r&&(y<0&&(y=y%Uw+Uw),y>mG?this._append`A${r},${r},0,1,${p},${e-u},${n-f}A${r},${r},0,1,${p},${this._x1=h},${this._y1=d}`:y>Tl&&this._append`A${r},${r},0,${+(y>=Lw)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function NE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new gG(e)}function jE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oM(t){this._context=t}oM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ly(t){return new oM(t)}function lM(t){return t[0]}function uM(t){return t[1]}function cM(t,e){var n=qt(!0),r=null,i=ly,a=null,l=NE(u);t=typeof t=="function"?t:t===void 0?lM:qt(t),e=typeof e=="function"?e:e===void 0?uM:qt(e);function u(f){var h,d=(f=jE(f)).length,p,y=!1,b;for(r==null&&(a=i(b=l())),h=0;h<=d;++h)!(h<d&&n(p=f[h],h,f))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,h,f),+e(p,h,f));if(b)return a=null,b+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:qt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function sp(t,e,n){var r=null,i=qt(!0),a=null,l=ly,u=null,f=NE(h);t=typeof t=="function"?t:t===void 0?lM:qt(+t),e=typeof e=="function"?e:qt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?uM:qt(+n);function h(p){var y,b,w,x=(p=jE(p)).length,E,A=!1,P,C=new Array(x),V=new Array(x);for(a==null&&(u=l(P=f())),y=0;y<=x;++y){if(!(y<x&&i(E=p[y],y,p))===A)if(A=!A)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=y-1;w>=b;--w)u.point(C[w],V[w]);u.lineEnd(),u.areaEnd()}A&&(C[y]=+t(E,y,p),V[y]=+e(E,y,p),u.point(r?+r(E,y,p):C[y],n?+n(E,y,p):V[y]))}if(P)return u=null,P+""||null}function d(){return cM().defined(i).curve(l).context(a)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:qt(+p),r=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:qt(+p),h):t},h.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:qt(+p),h):r},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:qt(+p),n=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:qt(+p),h):e},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:qt(+p),h):n},h.lineX0=h.lineY0=function(){return d().x(t).y(e)},h.lineY1=function(){return d().x(t).y(n)},h.lineX1=function(){return d().x(r).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:qt(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,a!=null&&(u=l(a)),h):l},h.context=function(p){return arguments.length?(p==null?a=u=null:u=l(a=p),h):a},h}class fM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yG(t){return new fM(t,!0)}function vG(t){return new fM(t,!1)}const DE={draw(t,e){const n=ta(e/rg);t.moveTo(n,0),t.arc(0,0,n,0,oy)}},bG={draw(t,e){const n=ta(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},hM=ta(1/3),_G=hM*2,wG={draw(t,e){const n=ta(e/_G),r=n*hM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},xG={draw(t,e){const n=ta(e),r=-n/2;t.rect(r,r,n,n)}},EG=.8908130915292852,dM=ng(rg/10)/ng(7*rg/10),SG=ng(oy/10)*dM,TG=-aM(oy/10)*dM,AG={draw(t,e){const n=ta(e*EG),r=SG*n,i=TG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=oy*a/5,u=aM(l),f=ng(l);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Sb=ta(3),OG={draw(t,e){const n=-ta(e/(Sb*3));t.moveTo(0,n*2),t.lineTo(-Sb*n,-n),t.lineTo(Sb*n,-n),t.closePath()}},Ei=-.5,Si=ta(3)/2,Vw=1/ta(12),CG=(Vw/2+1)*3,RG={draw(t,e){const n=ta(e/CG),r=n/2,i=n*Vw,a=r,l=n*Vw+n,u=-a,f=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(u,f),t.lineTo(Ei*r-Si*i,Si*r+Ei*i),t.lineTo(Ei*a-Si*l,Si*a+Ei*l),t.lineTo(Ei*u-Si*f,Si*u+Ei*f),t.lineTo(Ei*r+Si*i,Ei*i-Si*r),t.lineTo(Ei*a+Si*l,Ei*l-Si*a),t.lineTo(Ei*u+Si*f,Ei*f-Si*u),t.closePath()}};function PG(t,e){let n=null,r=NE(i);t=typeof t=="function"?t:qt(t||DE),e=typeof e=="function"?e:qt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:qt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:qt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function ig(){}function ag(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function mM(t){this._context=t}mM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ag(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ag(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NG(t){return new mM(t)}function pM(t){this._context=t}pM.prototype={areaStart:ig,areaEnd:ig,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ag(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jG(t){return new pM(t)}function gM(t){this._context=t}gM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ag(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DG(t){return new gM(t)}function yM(t){this._context=t}yM.prototype={areaStart:ig,areaEnd:ig,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function IG(t){return new yM(t)}function iP(t){return t<0?-1:1}function aP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(iP(a)+iP(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function sP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Tb(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,l-u*n,a,l)}function sg(t){this._context=t}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tb(this,this._t0,sP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tb(this,sP(this,n=aP(this,t,e)),n);break;default:Tb(this,this._t0,n=aP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function vM(t){this._context=new bM(t)}(vM.prototype=Object.create(sg.prototype)).point=function(t,e){sg.prototype.point.call(this,e,t)};function bM(t){this._context=t}bM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function kG(t){return new sg(t)}function MG(t){return new vM(t)}function _M(t){this._context=t}_M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=oP(t),i=oP(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function oP(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function LG(t){return new _M(t)}function uy(t,e){this._context=t,this._t=e}uy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function UG(t){return new uy(t,.5)}function VG(t){return new uy(t,0)}function $G(t){return new uy(t,1)}function kc(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,u=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function $w(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function BG(t,e){return t[e]}function zG(t){const e=[];return e.key=t,e}function qG(){var t=qt([]),e=$w,n=kc,r=BG;function i(a){var l=Array.from(t.apply(this,arguments),zG),u,f=l.length,h=-1,d;for(const p of a)for(u=0,++h;u<f;++u)(l[u][h]=[0,+r(p,l[u].key,h,a)]).data=p;for(u=0,d=jE(e(l));u<f;++u)l[d[u]].index=u;return n(l,d),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:qt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:qt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?$w:typeof a=="function"?a:qt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??kc,i):n},i}function FG(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}kc(t,e)}}function HG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}kc(t,e)}}function KG(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,f=0,h=0;u<l;++u){for(var d=t[e[u]],p=d[r][1]||0,y=d[r-1][1]||0,b=(p-y)/2,w=0;w<u;++w){var x=t[e[w]],E=x[r][1]||0,A=x[r-1][1]||0;b+=E-A}f+=p,h+=b*p}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,kc(t,e)}}var GG=["type","size","sizeType"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(null,arguments)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){WG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WG(t,e,n){return(e=YG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YG(t){var e=XG(t,"string");return typeof e=="symbol"?e:e+""}function XG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QG(t,e){if(t==null)return{};var n,r,i=JG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function JG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wM={symbolCircle:DE,symbolCross:bG,symbolDiamond:wG,symbolSquare:xG,symbolStar:AG,symbolTriangle:OG,symbolWye:RG},ZG=Math.PI/180,eW=t=>{var e="symbol".concat(_d(t));return wM[e]||DE},tW=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*ZG;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},nW=(t,e)=>{wM["symbol".concat(_d(t))]=e},IE=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=QG(t,GG),a=uP(uP({},i),{},{type:e,size:n,sizeType:r}),l=()=>{var p=eW(e),y=PG().type(p).size(tW(n,r,e));return y()},{className:u,cx:f,cy:h}=a,d=on(a,!0);return f===+f&&h===+h&&n===+n?O.createElement("path",Bw({},d,{className:jt("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:l()})):null};IE.registerSymbol=nW;function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(null,arguments)}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){kE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kE(t,e,n){return(e=iW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iW(t){var e=aW(t,"string");return typeof e=="symbol"?e:e+""}function aW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ti=32;class ME extends O.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Ti/2,a=Ti/6,l=Ti/3,u=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Ti,y2:i,className:"recharts-legend-icon"});if(f==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ti,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return O.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ti/8,"h").concat(Ti,"v").concat(Ti*3/4,"h").concat(-Ti,"z"),className:"recharts-legend-icon"});if(O.isValidElement(e.legendIcon)){var h=rW({},e);return delete h.legendIcon,O.cloneElement(e.legendIcon,h)}return O.createElement(IE,{fill:u,cx:i,cy:i,size:Ti,sizeType:"diameter",type:f})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=this.props,u={x:0,y:0,width:Ti,height:Ti},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,p)=>{var y=d.formatter||i,b=jt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var w=d.inactive?a:d.color,x=y?y(d.value,d,p):d.value;return O.createElement("li",zw({className:b,style:f,key:"legend-item-".concat(p)},sy(this.props,d,p)),O.createElement(PE,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(x," legend icon")},this.renderIcon(d,l)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},x))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}kE(ME,"displayName","Legend");kE(ME,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Ab={},Ob={},fP;function sW(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(Ob)),Ob}var Cb={},hP;function xM(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Cb)),Cb}var Rb={},Pb={},Nb={},dP;function oW(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Nb)),Nb}var mP;function LE(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oW();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Pb)),Pb}var jb={},pP;function lW(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(jb)),jb}var gP;function uW(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LE(),n=lW();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Rb)),Rb}var Db={},Ib={},yP;function cW(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Ib)),Ib}var kb={},Mb={},Lb={},Ub={},vP;function EM(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Ub)),Ub}var Vb={},bP;function SM(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Vb)),Vb}var $b={},_P;function UE(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})($b)),$b}var wP;function fW(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VE(),n=EM(),r=SM(),i=UE();function a(p,y,b){return typeof b!="function"?e.isMatch(p,y):l(p,y,function w(x,E,A,P,C,V){const L=b(x,E,A,P,C,V);return L!==void 0?!!L:l(x,E,w,V)},new Map)}function l(p,y,b,w){if(y===p)return!0;switch(typeof y){case"object":return u(p,y,b,w);case"function":return Object.keys(y).length>0?l(p,{...y},b,w):i.eq(p,y);default:return n.isObject(p)?typeof y=="string"?y==="":!0:i.eq(p,y)}}function u(p,y,b,w){if(y==null)return!0;if(Array.isArray(y))return h(p,y,b,w);if(y instanceof Map)return f(p,y,b,w);if(y instanceof Set)return d(p,y,b,w);const x=Object.keys(y);if(p==null)return x.length===0;if(x.length===0)return!0;if(w&&w.has(y))return w.get(y)===p;w&&w.set(y,p);try{for(let E=0;E<x.length;E++){const A=x[E];if(!r.isPrimitive(p)&&!(A in p)||y[A]===void 0&&p[A]!==void 0||y[A]===null&&p[A]!==null||!b(p[A],y[A],A,p,y,w))return!1}return!0}finally{w&&w.delete(y)}}function f(p,y,b,w){if(y.size===0)return!0;if(!(p instanceof Map))return!1;for(const[x,E]of y.entries()){const A=p.get(x);if(b(A,E,x,p,y,w)===!1)return!1}return!0}function h(p,y,b,w){if(y.length===0)return!0;if(!Array.isArray(p))return!1;const x=new Set;for(let E=0;E<y.length;E++){const A=y[E];let P=!1;for(let C=0;C<p.length;C++){if(x.has(C))continue;const V=p[C];let L=!1;if(b(V,A,E,p,y,w)&&(L=!0),L){x.add(C),P=!0;break}}if(!P)return!1}return!0}function d(p,y,b,w){return y.size===0?!0:p instanceof Set?h([...p],[...y],b,w):!1}t.isMatchWith=a,t.isSetMatch=d})(Lb)),Lb}var xP;function VE(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fW();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Mb)),Mb}var Bb={},zb={},qb={},EP;function TM(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(qb)),qb}var Fb={},SP;function $E(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Fb)),Fb}var Hb={},TP;function BE(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",d="[object Array]",p="[object Function]",y="[object ArrayBuffer]",b="[object Object]",w="[object Error]",x="[object DataView]",E="[object Uint8Array]",A="[object Uint8ClampedArray]",P="[object Uint16Array]",C="[object Uint32Array]",V="[object BigUint64Array]",L="[object Int8Array]",D="[object Int16Array]",j="[object Int32Array]",I="[object BigInt64Array]",M="[object Float32Array]",U="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=d,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=V,t.booleanTag=i,t.dataViewTag=x,t.dateTag=u,t.errorTag=w,t.float32ArrayTag=M,t.float64ArrayTag=U,t.functionTag=p,t.int16ArrayTag=D,t.int32ArrayTag=j,t.int8ArrayTag=L,t.mapTag=f,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=P,t.uint32ArrayTag=C,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=A})(Hb)),Hb}var Kb={},AP;function hW(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Kb)),Kb}var OP;function AM(){return OP||(OP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TM(),n=$E(),r=BE(),i=SM(),a=hW();function l(d,p){return u(d,void 0,d,new Map,p)}function u(d,p,y,b=new Map,w=void 0){const x=w?.(d,p,y,b);if(x!==void 0)return x;if(i.isPrimitive(d))return d;if(b.has(d))return b.get(d);if(Array.isArray(d)){const E=new Array(d.length);b.set(d,E);for(let A=0;A<d.length;A++)E[A]=u(d[A],A,y,b,w);return Object.hasOwn(d,"index")&&(E.index=d.index),Object.hasOwn(d,"input")&&(E.input=d.input),E}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const E=new RegExp(d.source,d.flags);return E.lastIndex=d.lastIndex,E}if(d instanceof Map){const E=new Map;b.set(d,E);for(const[A,P]of d)E.set(A,u(P,A,y,b,w));return E}if(d instanceof Set){const E=new Set;b.set(d,E);for(const A of d)E.add(u(A,void 0,y,b,w));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const E=new(Object.getPrototypeOf(d)).constructor(d.length);b.set(d,E);for(let A=0;A<d.length;A++)E[A]=u(d[A],A,y,b,w);return E}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const E=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return b.set(d,E),f(E,d,y,b,w),E}if(typeof File<"u"&&d instanceof File){const E=new File([d],d.name,{type:d.type});return b.set(d,E),f(E,d,y,b,w),E}if(d instanceof Blob){const E=new Blob([d],{type:d.type});return b.set(d,E),f(E,d,y,b,w),E}if(d instanceof Error){const E=new d.constructor;return b.set(d,E),E.message=d.message,E.name=d.name,E.stack=d.stack,E.cause=d.cause,f(E,d,y,b,w),E}if(typeof d=="object"&&h(d)){const E=Object.create(Object.getPrototypeOf(d));return b.set(d,E),f(E,d,y,b,w),E}return d}function f(d,p,y=d,b,w){const x=[...Object.keys(p),...e.getSymbols(p)];for(let E=0;E<x.length;E++){const A=x[E],P=Object.getOwnPropertyDescriptor(d,A);(P==null||P.writable)&&(d[A]=u(p[A],A,y,b,w))}}function h(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=f})(zb)),zb}var CP;function dW(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AM();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Bb)),Bb}var RP;function mW(){return RP||(RP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VE(),n=dW();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(kb)),kb}var Gb={},Wb={},Yb={},PP;function pW(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AM(),n=BE();function r(i,a){return e.cloneDeepWith(i,(l,u,f,h)=>{const d=a?.(l,u,f,h);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(Yb)),Yb}var NP;function gW(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pW();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Wb)),Wb}var Xb={},Qb={},jP;function OM(){return jP||(jP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Qb)),Qb}var Jb={},DP;function yW(){return DP||(DP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$E();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Jb)),Jb}var IP;function vW(){return IP||(IP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qk(),n=OM(),r=yW(),i=TE();function a(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let h=l;for(let d=0;d<f.length;d++){const p=f[d];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}t.has=a})(Xb)),Xb}var kP;function bW(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VE(),n=Jk(),r=gW(),i=AE(),a=vW();function l(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(h){const d=i.get(h,u);return d===void 0?a.has(h,u):f===void 0?d===void 0:e.isMatch(d,f)}}t.matchesProperty=l})(Gb)),Gb}var MP;function _W(){return MP||(MP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xM(),n=cW(),r=mW(),i=bW();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=a})(Db)),Db}var LP;function wW(){return LP||(LP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sW(),n=xM(),r=uW(),i=_W();function a(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=a})(Ab)),Ab}var Zb,UP;function xW(){return UP||(UP=1,Zb=wW().uniqBy),Zb}var EW=xW();const VP=ea(EW);function CM(t,e,n){return e===!0?VP(t,n):typeof e=="function"?VP(t,e):t}var e_={exports:{}},t_={},n_={exports:{}},r_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $P;function SW(){if($P)return r_;$P=1;var t=qc();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function u(p,y){var b=y(),w=r({inst:{value:b,getSnapshot:y}}),x=w[0].inst,E=w[1];return a(function(){x.value=b,x.getSnapshot=y,f(x)&&E({inst:x})},[p,b,y]),i(function(){return f(x)&&E({inst:x}),p(function(){f(x)&&E({inst:x})})},[p]),l(b),b}function f(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch{return!0}}function h(p,y){return y()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return r_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,r_}var BP;function TW(){return BP||(BP=1,n_.exports=SW()),n_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP;function AW(){if(zP)return t_;zP=1;var t=qc(),e=TW();function n(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return t_.useSyncExternalStoreWithSelector=function(h,d,p,y,b){var w=a(null);if(w.current===null){var x={hasValue:!1,value:null};w.current=x}else x=w.current;w=u(function(){function A(D){if(!P){if(P=!0,C=D,D=y(D),b!==void 0&&x.hasValue){var j=x.value;if(b(j,D))return V=j}return V=D}if(j=V,r(C,D))return j;var I=y(D);return b!==void 0&&b(j,I)?(C=D,j):(C=D,V=I)}var P=!1,C,V,L=p===void 0?null:p;return[function(){return A(d())},L===null?void 0:function(){return A(L())}]},[d,p,y,b]);var E=i(h,w[0],w[1]);return l(function(){x.hasValue=!0,x.value=E},[E]),f(E),E},t_}var qP;function OW(){return qP||(qP=1,e_.exports=AW()),e_.exports}var CW=OW(),zE=O.createContext(null),RW=t=>t,En=()=>{var t=O.useContext(zE);return t?t.store.dispatch:RW},Np=()=>{},PW=()=>Np,NW=(t,e)=>t===e;function Le(t){var e=O.useContext(zE);return CW.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:PW,e?e.store.getState:Np,e?e.store.getState:Np,e?t:Np,NW)}function jW(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function DW(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function IW(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var FP=t=>Array.isArray(t)?t:[t];function kW(t){const e=Array.isArray(t[0])?t[0]:t;return IW(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function MW(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var LW=class{constructor(t){this.value=t}deref(){return this.value}},UW=typeof WeakRef<"u"?WeakRef:LW,VW=0,HP=1;function op(){return{s:VW,v:void 0,o:null,p:null}}function RM(t,e={}){let n=op();const{resultEqualityCheck:r}=e;let i,a=0;function l(){let u=n;const{length:f}=arguments;for(let p=0,y=f;p<y;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const x=w.get(b);x===void 0?(u=op(),w.set(b,u)):u=x}else{let w=u.p;w===null&&(u.p=w=new Map);const x=w.get(b);x===void 0?(u=op(),w.set(b,u)):u=x}}const h=u;let d;if(u.s===HP)d=u.v;else if(d=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new UW(d):d}return h.s=HP,h.v=d,d}return l.clearCache=()=>{n=op(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function $W(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,l=0,u,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),jW(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const d={...n,...f},{memoize:p,memoizeOptions:y=[],argsMemoize:b=RM,argsMemoizeOptions:w=[]}=d,x=FP(y),E=FP(w),A=kW(i),P=p(function(){return a++,h.apply(null,arguments)},...x),C=b(function(){l++;const L=MW(A,arguments);return u=P.apply(null,L),u},...E);return Object.assign(C,{resultFunc:h,memoizedResultFunc:P,dependencies:A,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var se=$W(RM),BW=Object.assign((t,e=se)=>{DW(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>BW}),i_={},a_={},s_={},KP;function zW(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};t.compareValues=n})(s_)),s_}var o_={},l_={},GP;function PM(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(l_)),l_}var WP;function qW(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(o_)),o_}var YP;function FW(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zW(),n=qW(),r=TE();function i(a,l,u,f){if(a==null)return[];u=f?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const h=(b,w)=>{let x=b;for(let E=0;E<w.length&&x!=null;++E)x=x[w[E]];return x},d=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:h(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?h(w,b):typeof w=="object"?w[b]:w,p=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(w=>d(w,b))})).slice().sort((b,w)=>{for(let x=0;x<p.length;x++){const E=e.compareValues(b.criteria[x],w.criteria[x],u[x]);if(E!==0)return E}return 0}).map(b=>b.original)}t.orderBy=i})(a_)),a_}var u_={},XP;function HW(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),l=(u,f)=>{for(let h=0;h<u.length;h++){const d=u[h];Array.isArray(d)&&f<a?l(d,f+1):i.push(d)}};return l(n,0),i}t.flatten=e})(u_)),u_}var c_={},QP;function NM(){return QP||(QP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OM(),n=LE(),r=EM(),i=UE();function a(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}t.isIterateeCall=a})(c_)),c_}var JP;function KW(){return JP||(JP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FW(),n=HW(),r=NM();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,n.flatten(l),["asc"])}t.sortBy=i})(i_)),i_}var f_,ZP;function GW(){return ZP||(ZP=1,f_=KW().sortBy),f_}var WW=GW();const cy=ea(WW);var jM=t=>t.legend.settings,YW=t=>t.legend.size,XW=t=>t.legend.payload,QW=se([XW,jM],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?cy(r,n):r});function JW(){return Le(QW)}var lp=1;function DM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=O.useState({height:0,left:0,top:0,width:0}),r=O.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>lp||Math.abs(l.left-e.left)>lp||Math.abs(l.top-e.top)>lp||Math.abs(l.width-e.width)>lp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function tr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ZW=typeof Symbol=="function"&&Symbol.observable||"@@observable",e2=ZW,h_=()=>Math.random().toString(36).substring(7).split("").join("."),eY={INIT:`@@redux/INIT${h_()}`,REPLACE:`@@redux/REPLACE${h_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${h_()}`},og=eY;function qE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function IM(t,e,n){if(typeof t!="function")throw new Error(tr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(tr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(tr(1));return n(IM)(t,e)}let r=t,i=e,a=new Map,l=a,u=0,f=!1;function h(){l===a&&(l=new Map,a.forEach((E,A)=>{l.set(A,E)}))}function d(){if(f)throw new Error(tr(3));return i}function p(E){if(typeof E!="function")throw new Error(tr(4));if(f)throw new Error(tr(5));let A=!0;h();const P=u++;return l.set(P,E),function(){if(A){if(f)throw new Error(tr(6));A=!1,h(),l.delete(P),a=null}}}function y(E){if(!qE(E))throw new Error(tr(7));if(typeof E.type>"u")throw new Error(tr(8));if(typeof E.type!="string")throw new Error(tr(17));if(f)throw new Error(tr(9));try{f=!0,i=r(i,E)}finally{f=!1}return(a=l).forEach(P=>{P()}),E}function b(E){if(typeof E!="function")throw new Error(tr(10));r=E,y({type:og.REPLACE})}function w(){const E=p;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(tr(11));function P(){const V=A;V.next&&V.next(d())}return P(),{unsubscribe:E(P)}},[e2](){return this}}}return y({type:og.INIT}),{dispatch:y,subscribe:p,getState:d,replaceReducer:b,[e2]:w}}function tY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:og.INIT})>"u")throw new Error(tr(12));if(typeof n(void 0,{type:og.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tr(13))})}function kM(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{tY(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let f=!1;const h={};for(let d=0;d<r.length;d++){const p=r[d],y=n[p],b=l[p],w=y(b,u);if(typeof w>"u")throw u&&u.type,new Error(tr(14));h[p]=w,f=f||w!==b}return f=f||r.length!==Object.keys(l).length,f?h:l}}function lg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function nY(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(tr(15))};const l={getState:i.getState,dispatch:(f,...h)=>a(f,...h)},u=t.map(f=>f(l));return a=lg(...u)(i.dispatch),{...i,dispatch:a}}}function MM(t){return qE(t)&&"type"in t&&typeof t.type=="string"}var LM=Symbol.for("immer-nothing"),t2=Symbol.for("immer-draftable"),ri=Symbol.for("immer-state");function Yi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mc=Object.getPrototypeOf;function Wl(t){return!!t&&!!t[ri]}function ys(t){return t?UM(t)||Array.isArray(t)||!!t[t2]||!!t.constructor?.[t2]||hy(t)||dy(t):!1}var rY=Object.prototype.constructor.toString();function UM(t){if(!t||typeof t!="object")return!1;const e=Mc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===rY}function ug(t,e){fy(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function fy(t){const e=t[ri];return e?e.type_:Array.isArray(t)?1:hy(t)?2:dy(t)?3:0}function qw(t,e){return fy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function VM(t,e,n){const r=fy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function iY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function hy(t){return t instanceof Map}function dy(t){return t instanceof Set}function Al(t){return t.copy_||t.base_}function Fw(t,e){if(hy(t))return new Map(t);if(dy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=UM(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ri];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(Mc(t),r)}else{const r=Mc(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function FE(t,e=!1){return my(t)||Wl(t)||!ys(t)||(fy(t)>1&&(t.set=t.add=t.clear=t.delete=aY),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>FE(r,!0))),t}function aY(){Yi(2)}function my(t){return Object.isFrozen(t)}var sY={};function Yl(t){const e=sY[t];return e||Yi(0,t),e}var Zh;function $M(){return Zh}function oY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function n2(t,e){e&&(Yl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Hw(t){Kw(t),t.drafts_.forEach(lY),t.drafts_=null}function Kw(t){t===Zh&&(Zh=t.parent_)}function r2(t){return Zh=oY(Zh,t)}function lY(t){const e=t[ri];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function i2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ri].modified_&&(Hw(e),Yi(4)),ys(t)&&(t=cg(e,t),e.parent_||fg(e,t)),e.patches_&&Yl("Patches").generateReplacementPatches_(n[ri].base_,t,e.patches_,e.inversePatches_)):t=cg(e,n,[]),Hw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==LM?t:void 0}function cg(t,e,n){if(my(e))return e;const r=e[ri];if(!r)return ug(e,(i,a)=>a2(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return fg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,l=!1;r.type_===3&&(a=new Set(i),i.clear(),l=!0),ug(a,(u,f)=>a2(t,r,i,u,f,n,l)),fg(t,i,!1),n&&t.patches_&&Yl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function a2(t,e,n,r,i,a,l){if(Wl(i)){const u=a&&e&&e.type_!==3&&!qw(e.assigned_,r)?a.concat(r):void 0,f=cg(t,i,u);if(VM(n,r,f),Wl(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(ys(i)&&!my(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;cg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&fg(t,i)}}function fg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&FE(e,n)}function uY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:$M(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=HE;n&&(i=[r],a=ed);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var HE={get(t,e){if(e===ri)return t;const n=Al(t);if(!qw(n,e))return cY(t,n,e);const r=n[e];return t.finalized_||!ys(r)?r:r===d_(t.base_,e)?(m_(t),t.copy_[e]=Ww(r,t)):r},has(t,e){return e in Al(t)},ownKeys(t){return Reflect.ownKeys(Al(t))},set(t,e,n){const r=BM(Al(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=d_(Al(t),e),a=i?.[ri];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(iY(n,i)&&(n!==void 0||qw(t.base_,e)))return!0;m_(t),Gw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return d_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,m_(t),Gw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Al(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Yi(11)},getPrototypeOf(t){return Mc(t.base_)},setPrototypeOf(){Yi(12)}},ed={};ug(HE,(t,e)=>{ed[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ed.deleteProperty=function(t,e){return ed.set.call(this,t,e,void 0)};ed.set=function(t,e,n){return HE.set.call(this,t[0],e,n,t[0])};function d_(t,e){const n=t[ri];return(n?Al(n):t)[e]}function cY(t,e,n){const r=BM(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function BM(t,e){if(!(e in t))return;let n=Mc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Mc(n)}}function Gw(t){t.modified_||(t.modified_=!0,t.parent_&&Gw(t.parent_))}function m_(t){t.copy_||(t.copy_=Fw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var fY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const l=this;return function(f=a,...h){return l.produce(f,d=>n.call(this,d,...h))}}typeof n!="function"&&Yi(6),r!==void 0&&typeof r!="function"&&Yi(7);let i;if(ys(e)){const a=r2(this),l=Ww(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Hw(a):Kw(a)}return n2(a,r),i2(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===LM&&(i=void 0),this.autoFreeze_&&FE(i,!0),r){const a=[],l=[];Yl("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else Yi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,f=>e(f,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ys(t)||Yi(8),Wl(t)&&(t=hs(t));const e=r2(this),n=Ww(t,void 0);return n[ri].isManual_=!0,Kw(e),n}finishDraft(t,e){const n=t&&t[ri];(!n||!n.isManual_)&&Yi(9);const{scope_:r}=n;return n2(r,e),i2(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Yl("Patches").applyPatches_;return Wl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Ww(t,e){const n=hy(t)?Yl("MapSet").proxyMap_(t,e):dy(t)?Yl("MapSet").proxySet_(t,e):uY(t,e);return(e?e.scope_:$M()).drafts_.push(n),n}function hs(t){return Wl(t)||Yi(10,t),zM(t)}function zM(t){if(!ys(t)||my(t))return t;const e=t[ri];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Fw(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Fw(t,!0);return ug(n,(r,i)=>{VM(n,r,zM(i))}),e&&(e.finalized_=!1),n}var ii=new fY,qM=ii.produce;ii.produceWithPatches.bind(ii);ii.setAutoFreeze.bind(ii);ii.setUseStrictShallowCopy.bind(ii);ii.applyPatches.bind(ii);ii.createDraft.bind(ii);ii.finishDraft.bind(ii);function FM(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var hY=FM(),dY=FM,mY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lg:lg.apply(null,arguments)};function Di(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ti(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>MM(r)&&r.type===t,n}var HM=class Sh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Sh.prototype)}static get[Symbol.species](){return Sh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Sh(...e[0].concat(this)):new Sh(...e.concat(this))}};function s2(t){return ys(t)?qM(t,()=>{}):t}function up(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function pY(t){return typeof t=="boolean"}var gY=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new HM;return n&&(pY(n)?l.push(hY):l.push(dY(n.extraArgument))),l},yY="RTK_autoBatch",o2=t=>e=>{setTimeout(e,t)},vY=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,l=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:o2(10):t.type==="callback"?t.queueNotification:o2(t.timeout),h=()=>{l=!1,a&&(a=!1,u.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),y=r.subscribe(p);return u.add(d),()=>{y(),u.delete(d)}},dispatch(d){try{return i=!d?.meta?.[yY],a=!i,a&&(l||(l=!0,f(h))),r.dispatch(d)}finally{i=!0}}})},bY=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new HM(t);return r&&i.push(vY(typeof r=="object"?r:void 0)),i};function _Y(t){const e=gY(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(qE(n))u=kM(n);else throw new Error(ti(1));let f;typeof r=="function"?f=r(e):f=e();let h=lg;i&&(h=mY({trace:!1,...typeof i=="object"&&i}));const d=nY(...f),p=bY(d);let y=typeof l=="function"?l(p):p();const b=h(...y);return IM(u,a,b)}function KM(t){const e={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(ti(28));if(u in e)throw new Error(ti(29));return e[u]=l,i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function wY(t){return typeof t=="function"}function xY(t,e){let[n,r,i]=KM(e),a;if(wY(t))a=()=>s2(t());else{const u=s2(t);a=()=>u}function l(u=a(),f){let h=[n[f.type],...r.filter(({matcher:d})=>d(f)).map(({reducer:d})=>d)];return h.filter(d=>!!d).length===0&&(h=[i]),h.reduce((d,p)=>{if(p)if(Wl(d)){const b=p(d,f);return b===void 0?d:b}else{if(ys(d))return qM(d,y=>p(y,f));{const y=p(d,f);if(y===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return d},u)}return l.getInitialState=a,l}var EY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",SY=(t=21)=>{let e="",n=t;for(;n--;)e+=EY[Math.random()*64|0];return e},TY=Symbol.for("rtk-slice-createasyncthunk");function AY(t,e){return`${t}/${e}`}function OY({creators:t}={}){const e=t?.asyncThunk?.[TY];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(ti(11));const l=(typeof r.reducers=="function"?r.reducers(RY()):r.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(C,V){const L=typeof C=="string"?C:C.type;if(!L)throw new Error(ti(12));if(L in f.sliceCaseReducersByType)throw new Error(ti(13));return f.sliceCaseReducersByType[L]=V,h},addMatcher(C,V){return f.sliceMatchers.push({matcher:C,reducer:V}),h},exposeAction(C,V){return f.actionCreators[C]=V,h},exposeCaseReducer(C,V){return f.sliceCaseReducersByName[C]=V,h}};u.forEach(C=>{const V=l[C],L={reducerName:C,type:AY(i,C),createNotation:typeof r.reducers=="function"};NY(V)?DY(L,V,h,e):PY(L,V,h)});function d(){const[C={},V=[],L=void 0]=typeof r.extraReducers=="function"?KM(r.extraReducers):[r.extraReducers],D={...C,...f.sliceCaseReducersByType};return xY(r.initialState,j=>{for(let I in D)j.addCase(I,D[I]);for(let I of f.sliceMatchers)j.addMatcher(I.matcher,I.reducer);for(let I of V)j.addMatcher(I.matcher,I.reducer);L&&j.addDefaultCase(L)})}const p=C=>C,y=new Map,b=new WeakMap;let w;function x(C,V){return w||(w=d()),w(C,V)}function E(){return w||(w=d()),w.getInitialState()}function A(C,V=!1){function L(j){let I=j[C];return typeof I>"u"&&V&&(I=up(b,L,E)),I}function D(j=p){const I=up(y,V,()=>new WeakMap);return up(I,j,()=>{const M={};for(const[U,z]of Object.entries(r.selectors??{}))M[U]=CY(z,j,()=>up(b,j,E),V);return M})}return{reducerPath:C,getSelectors:D,get selectors(){return D(L)},selectSlice:L}}const P={name:i,reducer:x,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...A(a),injectInto(C,{reducerPath:V,...L}={}){const D=V??a;return C.inject({reducerPath:D,reducer:x},L),{...P,...A(D,!0)}}};return P}}function CY(t,e,n,r){function i(a,...l){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var si=OY();function RY(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function PY({type:t,reducerName:e,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!jY(r))throw new Error(ti(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?Di(t,l):Di(t))}function NY(t){return t._reducerDefinitionType==="asyncThunk"}function jY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function DY({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ti(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:f,settled:h,options:d}=n,p=i(t,a,d);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),u&&r.addCase(p.pending,u),f&&r.addCase(p.rejected,f),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(e,{fulfilled:l||cp,pending:u||cp,rejected:f||cp,settled:h||cp})}function cp(){}var IY="task",GM="listener",WM="completed",KE="cancelled",kY=`task-${KE}`,MY=`task-${WM}`,Yw=`${GM}-${KE}`,LY=`${GM}-${WM}`,py=class{constructor(t){this.code=t,this.message=`${IY} ${KE} (reason: ${t})`}name="TaskAbortError";message},GE=(t,e)=>{if(typeof t!="function")throw new TypeError(ti(32))},hg=()=>{},YM=(t,e=hg)=>(t.catch(e),t),XM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),$l=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Bl=t=>{if(t.aborted){const{reason:e}=t;throw new py(e)}};function QM(t,e){let n=hg;return new Promise((r,i)=>{const a=()=>i(new py(t.reason));if(t.aborted){a();return}n=XM(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=hg})}var UY=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof py?"cancelled":"rejected",error:n}}finally{e?.()}},dg=t=>e=>YM(QM(t,e).then(n=>(Bl(t),n))),JM=t=>{const e=dg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Ec}=Object,l2={},gy="listenerMiddleware",VY=(t,e)=>{const n=r=>XM(t,()=>$l(r,t.reason));return(r,i)=>{GE(r);const a=new AbortController;n(a);const l=UY(async()=>{Bl(t),Bl(a.signal);const u=await r({pause:dg(a.signal),delay:JM(a.signal),signal:a.signal});return Bl(a.signal),u},()=>$l(a,MY));return i?.autoJoin&&e.push(l.catch(hg)),{result:dg(t)(l),cancel(){$l(a,kY)}}}},$Y=(t,e)=>{const n=async(r,i)=>{Bl(e);let a=()=>{};const u=[new Promise((f,h)=>{let d=t({predicate:r,effect:(p,y)=>{y.unsubscribe(),f([p,y.getState(),y.getOriginalState()])}});a=()=>{d(),h()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await QM(e,Promise.race(u));return Bl(e),f}finally{a()}};return(r,i)=>YM(n(r,i))},ZM=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Di(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ti(21));return GE(a),{predicate:i,type:e,effect:a}},e4=Ec(t=>{const{type:e,predicate:n,effect:r}=ZM(t);return{id:SY(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ti(22))}}},{withTypes:()=>e4}),u2=(t,e)=>{const{type:n,effect:r,predicate:i}=ZM(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Xw=t=>{t.pending.forEach(e=>{$l(e,Yw)})},BY=t=>()=>{t.forEach(Xw),t.clear()},c2=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},t4=Ec(Di(`${gy}/add`),{withTypes:()=>t4}),zY=Di(`${gy}/removeAll`),n4=Ec(Di(`${gy}/remove`),{withTypes:()=>n4}),qY=(...t)=>{console.error(`${gy}/error`,...t)},wd=(t={})=>{const e=new Map,{extra:n,onError:r=qY}=t;GE(r);const i=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),p=>{d.unsubscribe(),p?.cancelActive&&Xw(d)}),a=d=>{const p=u2(e,d)??e4(d);return i(p)};Ec(a,{withTypes:()=>a});const l=d=>{const p=u2(e,d);return p&&(p.unsubscribe(),d.cancelActive&&Xw(p)),!!p};Ec(l,{withTypes:()=>l});const u=async(d,p,y,b)=>{const w=new AbortController,x=$Y(a,w.signal),E=[];try{d.pending.add(w),await Promise.resolve(d.effect(p,Ec({},y,{getOriginalState:b,condition:(A,P)=>x(A,P).then(Boolean),take:x,delay:JM(w.signal),pause:dg(w.signal),extra:n,signal:w.signal,fork:VY(w.signal,E),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((A,P,C)=>{A!==w&&($l(A,Yw),C.delete(A))})},cancel:()=>{$l(w,Yw),d.pending.delete(w)},throwIfCancelled:()=>{Bl(w.signal)}})))}catch(A){A instanceof py||c2(r,A,{raisedBy:"effect"})}finally{await Promise.all(E),$l(w,LY),d.pending.delete(w)}},f=BY(e);return{middleware:d=>p=>y=>{if(!MM(y))return p(y);if(t4.match(y))return a(y.payload);if(zY.match(y)){f();return}if(n4.match(y))return l(y.payload);let b=d.getState();const w=()=>{if(b===l2)throw new Error(ti(23));return b};let x;try{if(x=p(y),e.size>0){const E=d.getState(),A=Array.from(e.values());for(const P of A){let C=!1;try{C=P.predicate(y,E,b)}catch(V){C=!1,c2(r,V,{raisedBy:"predicate"})}C&&u(P,y,d,w)}}}finally{b=l2}return x},startListening:a,stopListening:l,clearListeners:f}};function ti(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var FY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},r4=si({name:"chartLayout",initialState:FY,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:HY,setLayout:KY,setChartSize:GY,setScale:WY}=r4.actions,YY=r4.reducer;function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){XY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XY(t,e,n){return(e=QY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QY(t){var e=JY(t,"string");return typeof e=="symbol"?e:e+""}function JY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mg=Math.PI/180,ZY=t=>t*180/Math.PI,ar=(t,e,n,r)=>({x:t+Math.cos(-mg*r)*n,y:e+Math.sin(-mg*r)*n}),eX=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},tX=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},nX=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,l=tX({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>a&&(f=2*Math.PI-f),{radius:l,angle:ZY(f),angleInRadian:f}},rX=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},iX=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return t+l*360},aX=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=nX({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:h}=rX(e),d=a,p;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;p=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;p=d>=h&&d<=f}return p?h2(h2({},e),{},{radius:i,angle:iX(d,e)}):null};function i4(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function d2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d2(Object(n),!0).forEach(function(r){sX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sX(t,e,n){return(e=oX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oX(t){var e=lX(t,"string");return typeof e=="symbol"?e:e+""}function lX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kn(t,e,n){return Gt(t)||Gt(e)?n:Na(e)?Gl(t,e,n):typeof e=="function"?e(t):n}var uX=(t,e,n,r,i)=>{var a,l=-1,u=(a=e?.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var h=f>0?n[f-1].coordinate:n[u-1].coordinate,d=n[f].coordinate,p=f>=u-1?n[0].coordinate:n[f+1].coordinate,y=void 0;if(Dr(d-h)!==Dr(p-d)){var b=[];if(Dr(p-d)===Dr(i[1]-i[0])){y=p;var w=d+i[1]-i[0];b[0]=Math.min(w,(w+h)/2),b[1]=Math.max(w,(w+h)/2)}else{y=h;var x=p+i[1]-i[0];b[0]=Math.min(d,(x+d)/2),b[1]=Math.max(d,(x+d)/2)}var E=[Math.min(d,(y+d)/2),Math.max(d,(y+d)/2)];if(t>E[0]&&t<=E[1]||t>=b[0]&&t<=b[1]){({index:l}=n[f]);break}}else{var A=Math.min(h,p),P=Math.max(h,p);if(t>(A+d)/2&&t<=(P+d)/2){({index:l}=n[f]);break}}}else if(e){for(var C=0;C<u;C++)if(C===0&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<u-1&&t>(e[C].coordinate+e[C-1].coordinate)/2&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C===u-1&&t>(e[C].coordinate+e[C-1].coordinate)/2){({index:l}=e[C]);break}}return l},cX=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&Re(t[a]))return Ci(Ci({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&Re(t[l]))return Ci(Ci({},t),{},{[l]:t[l]+(i||0)})}return t},Bo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",a4=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(e),a||l.push(n),l},s4=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:d,ticks:p,niceTicks:y,axisType:b}=t;if(!l)return null;var w=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,x=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(x=b==="angleAxis"&&a&&a.length>=2?Dr(a[0]-a[1])*2*x:x,p||y){var E=(p||y||[]).map((A,P)=>{var C=r?r.indexOf(A):A;return{coordinate:l(C)+x,value:A,offset:x,index:P}});return E.filter(A=>!ni(A.coordinate))}return f&&h?h.map((A,P)=>({coordinate:l(A)+x,value:A,index:P,offset:x})):l.ticks&&d!=null?l.ticks(d).map((A,P)=>({coordinate:l(A)+x,value:A,offset:x,index:P})):l.domain().map((A,P)=>({coordinate:l(A)+x,value:r?r[A]:A,index:P,offset:x}))},m2=1e-4,fX=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-m2,a=Math.max(r[0],r[1])+m2,l=t(e[0]),u=t(e[n-1]);(l<i||l>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},hX=(t,e)=>{if(!e||e.length!==2||!Re(e[0])||!Re(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Re(t[0])||t[0]<n)&&(i[0]=n),(!Re(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},dX=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,l=0;l<e;++l){var u=ni(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=a,t[l][n][1]=a+u,a=t[l][n][1])}},mX=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var l=ni(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},pX={sign:dX,expand:FG,none:kc,silhouette:HG,wiggle:KG,positive:mX},gX=(t,e,n)=>{var r=pX[n],i=qG().keys(e).value((a,l)=>+Kn(a,l,0)).order($w).offset(r);return i(t)};function yX(t){return t==null?void 0:String(t)}function p2(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Gt(i[e.dataKey])){var u=eM(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var f=Kn(i,Gt(l)?e.dataKey:l);return Gt(f)?null:e.scale(f)}var g2=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=Kn(a,e.dataKey,e.scale.domain()[l]);return Gt(u)?null:e.scale(u)-i/2+r},vX=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},bX=t=>{var e=t.flat(2).filter(Re);return[Math.min(...e),Math.max(...e)]},_X=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],wX=(t,e,n)=>{if(t!=null)return _X(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:l}=a,u=l.reduce((f,h)=>{var d=i4(h,e,n),p=bX(d);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},y2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,v2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,td=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=cy(e,d=>d.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var f=i[l],h=i[l-1];a=Math.min((f.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function b2(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Ci(Ci({},e),{},{dataKey:n,payload:r,value:i,name:a})}function yy(t,e){if(t)return String(t);if(typeof e=="string")return e}function xX(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?aX({x:t,y:e},r):null}var EX=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:l}=r;return Ci(Ci(Ci({},r),ar(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:f}=r;return Ci(Ci(Ci({},r),ar(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},SX=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ss=t=>t.layout.width,Ts=t=>t.layout.height,TX=t=>t.layout.scale,o4=t=>t.layout.margin,WE=se(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),YE=se(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),AX="data-recharts-item-index",OX="data-recharts-item-data-key",vy=60;function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){CX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CX(t,e,n){return(e=RX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RX(t){var e=PX(t,"string");return typeof e=="symbol"?e:e+""}function PX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NX=t=>t.brush.height,Gn=se([Ss,Ts,o4,NX,WE,YE,jM,YW],(t,e,n,r,i,a,l,u)=>{var f=a.reduce((w,x)=>{var{orientation:E}=x;if(!x.mirror&&!x.hide){var A=typeof x.width=="number"?x.width:vy;return uo(uo({},w),{},{[E]:w[E]+A})}return w},{left:n.left||0,right:n.right||0}),h=i.reduce((w,x)=>{var{orientation:E}=x;return!x.mirror&&!x.hide?uo(uo({},w),{},{[E]:Gl(w,"".concat(E))+x.height}):w},{top:n.top||0,bottom:n.bottom||0}),d=uo(uo({},h),f),p=d.bottom;d.bottom+=r,d=cX(d,l,u);var y=t-d.left-d.right,b=e-d.top-d.bottom;return uo(uo({brushBottom:p},d),{},{width:Math.max(y,0),height:Math.max(b,0)})}),jX=se(Gn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),l4=se(Ss,Ts,(t,e)=>({x:0,y:0,width:t,height:e})),DX=O.createContext(null),kr=()=>O.useContext(DX)!=null,by=t=>t.brush,_y=se([by,Gn,o4],(t,e,n)=>({height:t.height,x:Re(t.x)?t.x:e.left,y:Re(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Re(t.width)?t.width:e.width})),XE=()=>{var t,e=kr(),n=Le(jX),r=Le(_y),i=(t=Le(by))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},IX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},u4=()=>{var t;return(t=Le(Gn))!==null&&t!==void 0?t:IX},QE=()=>Le(Ss),JE=()=>Le(Ts),kX={top:0,right:0,bottom:0,left:0},MX=()=>{var t;return(t=Le(e=>e.layout.margin))!==null&&t!==void 0?t:kX},St=t=>t.layout.layoutType,wy=()=>Le(St),LX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},c4=si({name:"legend",initialState:LX,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=hs(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:w2,setLegendSettings:UX,addLegendPayload:VX,removeLegendPayload:$X}=c4.actions,BX=c4.reducer,zX=["contextPayload"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(null,arguments)}function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){ZE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZE(t,e,n){return(e=qX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qX(t){var e=FX(t,"string");return typeof e=="symbol"?e:e+""}function FX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HX(t,e){if(t==null)return{};var n,r,i=KX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function GX(t){return t.value}function WX(t){var{contextPayload:e}=t,n=HX(t,zX),r=CM(e,t.payloadUniqBy,GX),i=Lc(Lc({},n),{},{payload:r});return O.isValidElement(t.content)?O.cloneElement(t.content,i):typeof t.content=="function"?O.createElement(t.content,i):O.createElement(ME,i)}function YX(t,e,n,r,i,a){var{layout:l,align:u,verticalAlign:f}=e,h,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?h={left:((r||0)-a.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?d={top:((i||0)-a.height)/2}:d=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Lc(Lc({},h),d)}function XX(t){var e=En();return O.useEffect(()=>{e(UX(t))},[e,t]),null}function QX(t){var e=En();return O.useEffect(()=>(e(w2(t)),()=>{e(w2({width:0,height:0}))}),[e,t]),null}function JX(t){var e=JW(),n=dG(),r=MX(),{width:i,height:a,wrapperStyle:l,portal:u}=t,[f,h]=DM([e]),d=QE(),p=JE(),y=d-(r.left||0)-(r.right||0),b=xy.getWidthOrHeight(t.layout,a,i,y),w=u?l:Lc(Lc({position:"absolute",width:b?.width||i||"auto",height:b?.height||a||"auto"},YX(l,t,r,d,p,f)),l),x=u??n;if(x==null)return null;var E=O.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},O.createElement(XX,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),O.createElement(QX,{width:f.width,height:f.height}),O.createElement(WX,Qw({},t,b,{margin:r,chartWidth:d,chartHeight:p,contextPayload:e})));return Ux.createPortal(E,x)}class xy extends O.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Re(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return O.createElement(JX,this.props)}}ZE(xy,"displayName","Legend");ZE(xy,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(null,arguments)}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){ZX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZX(t,e,n){return(e=eQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eQ(t){var e=tQ(t,"string");return typeof e=="symbol"?e:e+""}function tQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nQ(t){return Array.isArray(t)&&Na(t[0])&&Na(t[1])?t.join(" ~ "):t}var rQ=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:h,label:d,labelFormatter:p,accessibilityLayer:y=!1}=t,b=()=>{if(a&&a.length){var L={padding:0,margin:0},D=(u?cy(a,u):a).map((j,I)=>{if(j.type==="none")return null;var M=j.formatter||l||nQ,{value:U,name:z}=j,q=U,$=z;if(M){var ve=M(U,z,j,I,a);if(Array.isArray(ve))[q,$]=ve;else if(ve!=null)q=ve;else return null}var we=p_({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:we},Na($)?O.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Na($)?O.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,O.createElement("span",{className:"recharts-tooltip-item-value"},q),O.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:L},D)}return null},w=p_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),x=p_({margin:0},i),E=!Gt(d),A=E?d:"",P=jt("recharts-default-tooltip",f),C=jt("recharts-tooltip-label",h);E&&p&&a!==void 0&&a!==null&&(A=p(d,a));var V=y?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",Jw({className:P,style:w},V),O.createElement("p",{className:C,style:x},O.isValidElement(A)?A:"".concat(A)),b())},uh="recharts-tooltip-wrapper",iQ={visibility:"hidden"};function aQ(t){var{coordinate:e,translateX:n,translateY:r}=t;return jt(uh,{["".concat(uh,"-right")]:Re(n)&&e&&Re(e.x)&&n>=e.x,["".concat(uh,"-left")]:Re(n)&&e&&Re(e.x)&&n<e.x,["".concat(uh,"-bottom")]:Re(r)&&e&&Re(e.y)&&r>=e.y,["".concat(uh,"-top")]:Re(r)&&e&&Re(e.y)&&r<e.y})}function S2(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=t;if(a&&Re(a[r]))return a[r];var d=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?d:p;var y=f[r];if(y==null)return 0;if(l[r]){var b=d,w=y;return b<w?Math.max(p,y):Math.max(d,y)}if(h==null)return 0;var x=p+u,E=y+h;return x>E?Math.max(d,y):Math.max(p,y)}function sQ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function oQ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:f}=t,h,d,p;return l.height>0&&l.width>0&&n?(d=S2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),p=S2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=sQ({translateX:d,translateY:p,useTranslate3d:u})):h=iQ,{cssProperties:h,cssClasses:aQ({translateX:d,translateY:p,coordinate:n})}}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){Zw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zw(t,e,n){return(e=lQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lQ(t){var e=uQ(t,"string");return typeof e=="symbol"?e:e+""}function uQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cQ extends O.PureComponent{constructor(){super(...arguments),Zw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Zw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:f,offset:h,position:d,reverseDirection:p,useTranslate3d:y,viewBox:b,wrapperStyle:w,lastBoundingBox:x,innerRef:E,hasPortalFromProps:A}=this.props,{cssClasses:P,cssProperties:C}=oQ({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:d,reverseDirection:p,tooltipBox:{height:x.height,width:x.width},useTranslate3d:y,viewBox:b}),V=A?{}:fp(fp({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),L=fp(fp({},V),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},w);return O.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:L,ref:E},a)}}var fQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Yc={isSsr:fQ()},f4=()=>Le(t=>t.rootProps.accessibilityLayer);function ai(t){return Number.isFinite(t)}function pg(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ex.apply(null,arguments)}function A2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(n),!0).forEach(function(r){hQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hQ(t,e,n){return(e=dQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dQ(t){var e=mQ(t,"string");return typeof e=="symbol"?e:e+""}function mQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C2={curveBasisClosed:jG,curveBasisOpen:DG,curveBasis:NG,curveBumpX:yG,curveBumpY:vG,curveLinearClosed:IG,curveLinear:ly,curveMonotoneX:kG,curveMonotoneY:MG,curveNatural:LG,curveStep:UG,curveStepAfter:$G,curveStepBefore:VG},hp=t=>ai(t.x)&&ai(t.y),ch=t=>t.x,fh=t=>t.y,pQ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(_d(t));return(n==="curveMonotone"||n==="curveBump")&&e?C2["".concat(n).concat(e==="vertical"?"Y":"X")]:C2[n]||ly},gQ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,l=pQ(e,i),u=a?n.filter(hp):n,f;if(Array.isArray(r)){var h=a?r.filter(p=>hp(p)):r,d=u.map((p,y)=>O2(O2({},p),{},{base:h[y]}));return i==="vertical"?f=sp().y(fh).x1(ch).x0(p=>p.base.x):f=sp().x(ch).y1(fh).y0(p=>p.base.y),f.defined(hp).curve(l),f(d)}return i==="vertical"&&Re(r)?f=sp().y(fh).x1(ch).x0(r):Re(r)?f=sp().x(ch).y1(fh).y0(r):f=cM().x(ch).y(fh),f.defined(hp).curve(l),f(u)},h4=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?gQ(t):r;return O.createElement("path",ex({},ou(t),CE(t),{className:jt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},yQ=["x","y","top","left","width","height","className"];function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(null,arguments)}function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(r){bQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bQ(t,e,n){return(e=_Q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Q(t){var e=wQ(t,"string");return typeof e=="symbol"?e:e+""}function wQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xQ(t,e){if(t==null)return{};var n,r,i=EQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var SQ=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),TQ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=t,f=xQ(t,yQ),h=vQ({x:e,y:n,top:r,left:i,width:a,height:l},f);return!Re(e)||!Re(n)||!Re(a)||!Re(l)||!Re(r)||!Re(i)?null:O.createElement("path",tx({},on(h,!0),{className:jt("recharts-cross",u),d:SQ(e,n,a,l,r,i)}))};function AQ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){CQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CQ(t,e,n){return(e=RQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RQ(t){var e=PQ(t,"string");return typeof e=="symbol"?e:e+""}function PQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ia(t,e){var n=OQ({},t),r=e,i=Object.keys(e),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}var g_={},y_={},v_={},N2;function NQ(){return N2||(N2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(v_)),v_}var j2;function jQ(){return j2||(j2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NQ(),n=TM(),r=$E(),i=BE(),a=UE();function l(h,d,p){return u(h,d,void 0,void 0,void 0,void 0,p)}function u(h,d,p,y,b,w,x){const E=x(h,d,p,y,b,w);if(E!==void 0)return E;if(typeof h==typeof d)switch(typeof h){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return h===d;case"number":return h===d||Object.is(h,d);case"function":return h===d;case"object":return f(h,d,w,x)}return f(h,d,w,x)}function f(h,d,p,y){if(Object.is(h,d))return!0;let b=r.getTag(h),w=r.getTag(d);if(b===i.argumentsTag&&(b=i.objectTag),w===i.argumentsTag&&(w=i.objectTag),b!==w)return!1;switch(b){case i.stringTag:return h.toString()===d.toString();case i.numberTag:{const A=h.valueOf(),P=d.valueOf();return a.eq(A,P)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(h.valueOf(),d.valueOf());case i.regexpTag:return h.source===d.source&&h.flags===d.flags;case i.functionTag:return h===d}p=p??new Map;const x=p.get(h),E=p.get(d);if(x!=null&&E!=null)return x===d;p.set(h,d),p.set(d,h);try{switch(b){case i.mapTag:{if(h.size!==d.size)return!1;for(const[A,P]of h.entries())if(!d.has(A)||!u(P,d.get(A),A,h,d,p,y))return!1;return!0}case i.setTag:{if(h.size!==d.size)return!1;const A=Array.from(h.values()),P=Array.from(d.values());for(let C=0;C<A.length;C++){const V=A[C],L=P.findIndex(D=>u(V,D,void 0,h,d,p,y));if(L===-1)return!1;P.splice(L,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(h)!==Buffer.isBuffer(d)||h.length!==d.length)return!1;for(let A=0;A<h.length;A++)if(!u(h[A],d[A],A,h,d,p,y))return!1;return!0}case i.arrayBufferTag:return h.byteLength!==d.byteLength?!1:f(new Uint8Array(h),new Uint8Array(d),p,y);case i.dataViewTag:return h.byteLength!==d.byteLength||h.byteOffset!==d.byteOffset?!1:f(new Uint8Array(h),new Uint8Array(d),p,y);case i.errorTag:return h.name===d.name&&h.message===d.message;case i.objectTag:{if(!(f(h.constructor,d.constructor,p,y)||e.isPlainObject(h)&&e.isPlainObject(d)))return!1;const P=[...Object.keys(h),...n.getSymbols(h)],C=[...Object.keys(d),...n.getSymbols(d)];if(P.length!==C.length)return!1;for(let V=0;V<P.length;V++){const L=P[V],D=h[L];if(!Object.hasOwn(d,L))return!1;const j=d[L];if(!u(D,j,L,h,d,p,y))return!1}return!0}default:return!1}}finally{p.delete(h),p.delete(d)}}t.isEqualWith=l})(y_)),y_}var b_={},D2;function DQ(){return D2||(D2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(b_)),b_}var I2;function IQ(){return I2||(I2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jQ(),n=DQ();function r(i,a){return e.isEqualWith(i,a,n.noop)}t.isEqual=r})(g_)),g_}var __,k2;function kQ(){return k2||(k2=1,__=IQ().isEqual),__}var MQ=kQ();const LQ=ea(MQ);var gg=1e-4,d4=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],m4=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),M2=(t,e)=>n=>{var r=d4(t,e);return m4(r,n)},UQ=(t,e)=>n=>{var r=d4(t,e),i=[...r.map((a,l)=>a*l).slice(1),0];return m4(i,n)},L2=function(){for(var e,n,r,i,a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else l.length===4&&([e,r,n,i]=l);var h=M2(e,n),d=M2(r,i),p=UQ(e,n),y=w=>w>1?1:w<0?0:w,b=w=>{for(var x=w>1?1:w,E=x,A=0;A<8;++A){var P=h(E)-x,C=p(E);if(Math.abs(P-x)<gg||C<gg)return d(E);E=y(E-P/C)}return d(E)};return b.isStepper=!1,b},VQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(l,u,f)=>{var h=-(l-u)*n,d=f*r,p=f+(h-d)*i/1e3,y=f*i/1e3+l;return Math.abs(y-u)<gg&&Math.abs(p)<gg?[u,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},p4=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return L2(t);case"spring":return VQ();default:if(t.split("(")[0]==="cubic-bezier")return L2(t)}return typeof t=="function"?t:null};function U2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(n),!0).forEach(function(r){$Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Q(t,e,n){return(e=BQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQ(t){var e=zQ(t,"string");return typeof e=="symbol"?e:e+""}function zQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qQ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),FQ=(t,e,n)=>t.map(r=>"".concat(qQ(r)," ").concat(e,"ms ").concat(n)).join(","),HQ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),nd=(t,e)=>Object.keys(e).reduce((n,r)=>V2(V2({},n),{},{[r]:t(r,e[r])}),{});function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){KQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KQ(t,e,n){return(e=GQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=WQ(t,"string");return typeof e=="symbol"?e:e+""}function WQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yg=(t,e,n)=>t+(e-t)*n,nx=t=>{var{from:e,to:n}=t;return e!==n},g4=(t,e,n)=>{var r=nd((i,a)=>{if(nx(a)){var[l,u]=t(a.from,a.to,a.velocity);return rr(rr({},a),{},{from:l,velocity:u})}return a},e);return n<1?nd((i,a)=>nx(a)?rr(rr({},a),{},{velocity:yg(a.velocity,r[i].velocity,n),from:yg(a.from,r[i].from,n)}):a,e):g4(t,r,n-1)};function YQ(t,e,n,r,i,a){var l,u=r.reduce((y,b)=>rr(rr({},y),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>nd((y,b)=>b.from,u),h=()=>!Object.values(u).filter(nx).length,d=null,p=y=>{l||(l=y);var b=y-l,w=b/n.dt;u=g4(n,u,w),i(rr(rr(rr({},t),e),f())),l=y,h()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{d()})}function XQ(t,e,n,r,i,a,l){var u=null,f=i.reduce((p,y)=>rr(rr({},p),{},{[y]:[t[y],e[y]]}),{}),h,d=p=>{h||(h=p);var y=(p-h)/r,b=nd((x,E)=>yg(...E,n(y)),f);if(a(rr(rr(rr({},t),e),b)),y<1)u=l.setTimeout(d);else{var w=nd((x,E)=>yg(...E,n(1)),f);a(rr(rr(rr({},t),e),w))}};return()=>(u=l.setTimeout(d),()=>{u()})}const y4=(t,e,n,r,i,a)=>{var l=HQ(t,e);return n.isStepper===!0?YQ(t,e,n,l,i,a):XQ(t,e,n,r,l,i,a)};function QQ(t){var e,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...h]=u;if(typeof f=="number"){i=t.setTimeout(a.bind(null,h),f);return}a(f),i=t.setTimeout(a.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class JQ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function ZQ(){return QQ(new JQ)}var eJ=O.createContext(ZQ);function v4(t,e){var n=O.useContext(eJ);return O.useMemo(()=>e??n(t),[t,e,n])}var tJ=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(null,arguments)}function nJ(t,e){if(t==null)return{};var n,r,i=rJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){kl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kl(t,e,n){return(e=iJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iJ(t){var e=aJ(t,"string");return typeof e=="symbol"?e:e+""}function aJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class e1 extends O.PureComponent{constructor(e,n){super(e,n),kl(this,"mounted",!1),kl(this,"manager",void 0),kl(this,"stopJSAnimation",null),kl(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:a,to:l,children:u,duration:f,animationManager:h}=this.props;if(this.manager=h,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:l});return}if(a){if(typeof u=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:a,to:l,from:u}=this.props,{style:f}=this.state;if(r){if(!n){var h={style:i?{[i]:l}:l};this.state&&f&&(i&&f[i]!==l||!i&&f!==l)&&this.setState(h);return}if(!(LQ(e.to,l)&&e.canBegin&&e.isActive)){var d=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=d||a?u:e.to;if(this.state&&f){var y={style:i?{[i]:p}:p};(i&&f[i]!==p||!i&&f!==p)&&this.setState(y)}this.runAnimation(co(co({},this.props),{},{from:p,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:f}=e,h=y4(n,r,p4(a),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=h()};this.manager.start([f,l,d,i,u])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:a,easing:l,onAnimationStart:u,onAnimationEnd:f,children:h}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof h=="function"||l==="spring"){this.runJSAnimation(e);return}var d=i?{[i]:a}:a,p=FQ(Object.keys(d),r,l);this.manager.start([u,n,co(co({},d),{},{transition:p}),r,f])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:a,easing:l,isActive:u,from:f,to:h,canBegin:d,onAnimationEnd:p,shouldReAnimate:y,onAnimationReStart:b,animationManager:w}=e,x=nJ(e,tJ),E=O.Children.count(n),A=this.state.style;if(typeof n=="function")return n(A);if(!u||E===0||i<=0)return n;var P=C=>{var{style:V={},className:L}=C.props,D=O.cloneElement(C,co(co({},x),{},{style:co(co({},V),A),className:L}));return D};return E===1?P(O.Children.only(n)):O.createElement("div",null,O.Children.map(n,C=>P(C)))}}kl(e1,"displayName","Animate");kl(e1,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function vg(t){var e,n=v4((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return O.createElement(e1,rx({},t,{animationManager:n}))}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(null,arguments)}var z2=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,y=4;p<y;p++)d[p]=i[p]>a?a:i[p];h="M".concat(t,",").concat(e+l*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(f,",").concat(t+u*d[0],",").concat(e)),h+="L ".concat(t+n-u*d[1],",").concat(e),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*d[1])),h+="L ".concat(t+n,",").concat(e+r-l*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(f,`,
        `).concat(t+n-u*d[2],",").concat(e+r)),h+="L ".concat(t+u*d[3],",").concat(e+r),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*d[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);h="M ".concat(t,",").concat(e+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+u*b,",").concat(e,`
            L `).concat(t+n-u*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*b,`
            L `).concat(t+n,",").concat(e+r-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-u*b,",").concat(e+r,`
            L `).concat(t+u*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*b," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},sJ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},b4=t=>{var e=Ia(t,sJ),n=O.useRef(null),[r,i]=O.useState(-1);O.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&i(A)}catch{}},[]);var{x:a,y:l,width:u,height:f,radius:h,className:d}=e,{animationEasing:p,animationDuration:y,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:x}=e;if(a!==+a||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var E=jt("recharts-rectangle",d);return x?O.createElement(vg,{canBegin:r>0,from:{width:u,height:f,x:a,y:l},to:{width:u,height:f,x:a,y:l},duration:y,animationEasing:p,isActive:x},A=>{var{width:P,height:C,x:V,y:L}=A;return O.createElement(vg,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:w,easing:p},O.createElement("path",bg({},on(e,!0),{className:E,d:z2(V,L,P,C,h),ref:n})))}):O.createElement("path",bg({},on(e,!0),{className:E,d:z2(a,l,u,f,h)}))};function _4(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,l=ar(e,n,r,i),u=ar(e,n,r,a);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(null,arguments)}var oJ=(t,e)=>{var n=Dr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},dp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:f}=t,h=u*(l?1:-1)+r,d=Math.asin(u/h)/mg,p=f?i:i+a*d,y=ar(e,n,h,p),b=ar(e,n,r,p),w=f?i-a*d:i,x=ar(e,n,h*Math.cos(d*mg),w);return{center:y,circleTangency:b,lineTangency:x,theta:d}},w4=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=t,u=oJ(a,l),f=a+u,h=ar(e,n,i,a),d=ar(e,n,i,f),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>f),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var y=ar(e,n,r,a),b=ar(e,n,r,f);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},lJ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}=t,d=Dr(h-f),{circleTangency:p,lineTangency:y,theta:b}=dp({cx:e,cy:n,radius:i,angle:f,sign:d,cornerRadius:a,cornerIsExternal:u}),{circleTangency:w,lineTangency:x,theta:E}=dp({cx:e,cy:n,radius:i,angle:h,sign:-d,cornerRadius:a,cornerIsExternal:u}),A=u?Math.abs(f-h):Math.abs(f-h)-b-E;if(A<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):w4({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var P="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:V,theta:L}=dp({cx:e,cy:n,radius:r,angle:f,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:D,lineTangency:j,theta:I}=dp({cx:e,cy:n,radius:r,angle:h,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),M=u?Math.abs(f-h):Math.abs(f-h)-L-I;if(M<0&&a===0)return"".concat(P,"L").concat(e,",").concat(n,"Z");P+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(V.x,",").concat(V.y,"Z")}else P+="L".concat(e,",").concat(n,"Z");return P},uJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},x4=t=>{var e=Ia(t,uJ),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:d,className:p}=e;if(a<i||h===d)return null;var y=jt("recharts-sector",p),b=a-i,w=Ji(l,b,0,!0),x;return w>0&&Math.abs(h-d)<360?x=lJ({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:d}):x=w4({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:d}),O.createElement("path",ix({},on(e,!0),{className:y,d:x}))};function cJ(t,e,n){var r,i,a,l;if(t==="horizontal")r=e.x,a=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:f,innerRadius:h,outerRadius:d,angle:p}=e,y=ar(u,f,h,p),b=ar(u,f,d,p);r=y.x,i=y.y,a=b.x,l=b.y}else return _4(e);return[{x:r,y:i},{x:a,y:l}]}var w_={},x_={},E_={},q2;function fJ(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PM();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(E_)),E_}var F2;function hJ(){return F2||(F2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fJ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(x_)),x_}var H2;function dJ(){return H2||(H2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NM(),n=hJ();function r(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=i,i+=l;return f}t.range=r})(w_)),w_}var S_,K2;function mJ(){return K2||(K2=1,S_=dJ().range),S_}var pJ=mJ();const E4=ea(pJ);function Oo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function t1(t){let e,n,r;t.length!==2?(e=Oo,n=(u,f)=>Oo(t(u),f),r=(u,f)=>t(u)-f):(e=t===Oo||t===gJ?t:yJ,n=t,r=t);function i(u,f,h=0,d=u.length){if(h<d){if(e(f,f)!==0)return d;do{const p=h+d>>>1;n(u[p],f)<0?h=p+1:d=p}while(h<d)}return h}function a(u,f,h=0,d=u.length){if(h<d){if(e(f,f)!==0)return d;do{const p=h+d>>>1;n(u[p],f)<=0?h=p+1:d=p}while(h<d)}return h}function l(u,f,h=0,d=u.length){const p=i(u,f,h,d-1);return p>h&&r(u[p-1],f)>-r(u[p],f)?p-1:p}return{left:i,center:l,right:a}}function yJ(){return 0}function S4(t){return t===null?NaN:+t}function*vJ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const bJ=t1(Oo),xd=bJ.right;t1(S4).center;class G2 extends Map{constructor(e,n=xJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(W2(this,e))}has(e){return super.has(W2(this,e))}set(e,n){return super.set(_J(this,e),n)}delete(e){return super.delete(wJ(this,e))}}function W2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function _J({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function wJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function xJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function EJ(t=Oo){if(t===Oo)return T4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function T4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const SJ=Math.sqrt(50),TJ=Math.sqrt(10),AJ=Math.sqrt(2);function _g(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=SJ?10:a>=TJ?5:a>=AJ?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?_g(t,e,n*2):[u,f,h]}function ax(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?_g(e,t,n):_g(t,e,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)f[h]=(a-h)/-l;else for(let h=0;h<u;++h)f[h]=(a-h)*l;else if(l<0)for(let h=0;h<u;++h)f[h]=(i+h)/-l;else for(let h=0;h<u;++h)f[h]=(i+h)*l;return f}function sx(t,e,n){return e=+e,t=+t,n=+n,_g(t,e,n)[2]}function ox(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?sx(e,t,n):sx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Y2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function X2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function A4(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?T4:EJ(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,d=Math.log(f),p=.5*Math.exp(2*d/3),y=.5*Math.sqrt(d*p*(f-p)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(e-h*p/f+y)),w=Math.min(r,Math.floor(e+(f-h)*p/f+y));A4(t,e,b,w,i)}const a=t[e];let l=n,u=r;for(hh(t,n,e),i(t[r],a)>0&&hh(t,n,r);l<u;){for(hh(t,l,u),++l,--u;i(t[l],a)<0;)++l;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?hh(t,n,u):(++u,hh(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function hh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function OJ(t,e,n){if(t=Float64Array.from(vJ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return X2(t);if(e>=1)return Y2(t);var r,i=(r-1)*e,a=Math.floor(i),l=Y2(A4(t,a).subarray(0,a+1)),u=X2(t.subarray(a+1));return l+(u-l)*(i-a)}}function CJ(t,e,n=S4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return l+(u-l)*(i-a)}}function RJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ki(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function As(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const lx=Symbol("implicit");function n1(){var t=new G2,e=[],n=[],r=lx;function i(a){let l=t.get(a);if(l===void 0){if(r!==lx)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new G2;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return n1(e,n).unknown(r)},ki.apply(i,arguments),i}function r1(){var t=n1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,u=!1,f=0,h=0,d=.5;delete t.unknown;function p(){var y=e().length,b=i<r,w=b?i:r,x=b?r:i;a=(x-w)/Math.max(1,y-f+h*2),u&&(a=Math.floor(a)),w+=(x-w-a*(y-f))*d,l=a*(1-f),u&&(w=Math.round(w),l=Math.round(l));var E=RJ(y).map(function(A){return w+a*A});return n(b?E.reverse():E)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,p()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),p()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),p()):f},t.paddingOuter=function(y){return arguments.length?(h=+y,p()):h},t.align=function(y){return arguments.length?(d=Math.max(0,Math.min(1,y)),p()):d},t.copy=function(){return r1(e(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(d)},ki.apply(p(),arguments)}function O4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return O4(e())},t}function PJ(){return O4(r1.apply(null,arguments).paddingInner(1))}function i1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function C4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ed(){}var rd=.7,wg=1/rd,Sc="\\s*([+-]?\\d+)\\s*",id="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NJ=/^#([0-9a-f]{3,8})$/,jJ=new RegExp(`^rgb\\(${Sc},${Sc},${Sc}\\)$`),DJ=new RegExp(`^rgb\\(${Oa},${Oa},${Oa}\\)$`),IJ=new RegExp(`^rgba\\(${Sc},${Sc},${Sc},${id}\\)$`),kJ=new RegExp(`^rgba\\(${Oa},${Oa},${Oa},${id}\\)$`),MJ=new RegExp(`^hsl\\(${id},${Oa},${Oa}\\)$`),LJ=new RegExp(`^hsla\\(${id},${Oa},${Oa},${id}\\)$`),Q2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};i1(Ed,ad,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:J2,formatHex:J2,formatHex8:UJ,formatHsl:VJ,formatRgb:Z2,toString:Z2});function J2(){return this.rgb().formatHex()}function UJ(){return this.rgb().formatHex8()}function VJ(){return R4(this).formatHsl()}function Z2(){return this.rgb().formatRgb()}function ad(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=NJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?eN(e):n===3?new Ir(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?mp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?mp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jJ.exec(t))?new Ir(e[1],e[2],e[3],1):(e=DJ.exec(t))?new Ir(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=IJ.exec(t))?mp(e[1],e[2],e[3],e[4]):(e=kJ.exec(t))?mp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=MJ.exec(t))?rN(e[1],e[2]/100,e[3]/100,1):(e=LJ.exec(t))?rN(e[1],e[2]/100,e[3]/100,e[4]):Q2.hasOwnProperty(t)?eN(Q2[t]):t==="transparent"?new Ir(NaN,NaN,NaN,0):null}function eN(t){return new Ir(t>>16&255,t>>8&255,t&255,1)}function mp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ir(t,e,n,r)}function $J(t){return t instanceof Ed||(t=ad(t)),t?(t=t.rgb(),new Ir(t.r,t.g,t.b,t.opacity)):new Ir}function ux(t,e,n,r){return arguments.length===1?$J(t):new Ir(t,e,n,r??1)}function Ir(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}i1(Ir,ux,C4(Ed,{brighter(t){return t=t==null?wg:Math.pow(wg,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rd:Math.pow(rd,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ir(zl(this.r),zl(this.g),zl(this.b),xg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tN,formatHex:tN,formatHex8:BJ,formatRgb:nN,toString:nN}));function tN(){return`#${Ml(this.r)}${Ml(this.g)}${Ml(this.b)}`}function BJ(){return`#${Ml(this.r)}${Ml(this.g)}${Ml(this.b)}${Ml((isNaN(this.opacity)?1:this.opacity)*255)}`}function nN(){const t=xg(this.opacity);return`${t===1?"rgb(":"rgba("}${zl(this.r)}, ${zl(this.g)}, ${zl(this.b)}${t===1?")":`, ${t})`}`}function xg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function zl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ml(t){return t=zl(t),(t<16?"0":"")+t.toString(16)}function rN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xi(t,e,n,r)}function R4(t){if(t instanceof Xi)return new Xi(t.h,t.s,t.l,t.opacity);if(t instanceof Ed||(t=ad(t)),!t)return new Xi;if(t instanceof Xi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,u=a-i,f=(a+i)/2;return u?(e===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-e)/u+2:l=(e-n)/u+4,u/=f<.5?a+i:2-a-i,l*=60):u=f>0&&f<1?0:l,new Xi(l,u,f,t.opacity)}function zJ(t,e,n,r){return arguments.length===1?R4(t):new Xi(t,e,n,r??1)}function Xi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}i1(Xi,zJ,C4(Ed,{brighter(t){return t=t==null?wg:Math.pow(wg,t),new Xi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rd:Math.pow(rd,t),new Xi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ir(T_(t>=240?t-240:t+120,i,r),T_(t,i,r),T_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xi(iN(this.h),pp(this.s),pp(this.l),xg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xg(this.opacity);return`${t===1?"hsl(":"hsla("}${iN(this.h)}, ${pp(this.s)*100}%, ${pp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function iN(t){return t=(t||0)%360,t<0?t+360:t}function pp(t){return Math.max(0,Math.min(1,t||0))}function T_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const a1=t=>()=>t;function qJ(t,e){return function(n){return t+n*e}}function FJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function HJ(t){return(t=+t)==1?P4:function(e,n){return n-e?FJ(e,n,t):a1(isNaN(e)?n:e)}}function P4(t,e){var n=e-t;return n?qJ(t,n):a1(isNaN(t)?e:t)}const aN=(function t(e){var n=HJ(e);function r(i,a){var l=n((i=ux(i)).r,(a=ux(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),h=P4(i.opacity,a.opacity);return function(d){return i.r=l(d),i.g=u(d),i.b=f(d),i.opacity=h(d),i+""}}return r.gamma=t,r})(1);function KJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function GJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function WJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Xc(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function YJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Eg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function XJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Xc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var cx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,A_=new RegExp(cx.source,"g");function QJ(t){return function(){return t}}function JJ(t){return function(e){return t(e)+""}}function ZJ(t,e){var n=cx.lastIndex=A_.lastIndex=0,r,i,a,l=-1,u=[],f=[];for(t=t+"",e=e+"";(r=cx.exec(t))&&(i=A_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:Eg(r,i)})),n=A_.lastIndex;return n<e.length&&(a=e.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?f[0]?JJ(f[0].x):QJ(e):(e=f.length,function(h){for(var d=0,p;d<e;++d)u[(p=f[d]).i]=p.x(h);return u.join("")})}function Xc(t,e){var n=typeof e,r;return e==null||n==="boolean"?a1(e):(n==="number"?Eg:n==="string"?(r=ad(e))?(e=r,aN):ZJ:e instanceof ad?aN:e instanceof Date?YJ:GJ(e)?KJ:Array.isArray(e)?WJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?XJ:Eg)(t,e)}function s1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function eZ(t,e){e===void 0&&(e=t,t=Xc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function tZ(t){return function(){return t}}function Sg(t){return+t}var sN=[0,1];function Sr(t){return t}function fx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:tZ(isNaN(e)?NaN:.5)}function nZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function rZ(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=fx(i,r),a=n(l,a)):(r=fx(r,i),a=n(a,l)),function(u){return a(r(u))}}function iZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=fx(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(u){var f=xd(t,u,1,r)-1;return a[f](i[f](u))}}function Sd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ey(){var t=sN,e=sN,n=Xc,r,i,a,l=Sr,u,f,h;function d(){var y=Math.min(t.length,e.length);return l!==Sr&&(l=nZ(t[0],t[y-1])),u=y>2?iZ:rZ,f=h=null,p}function p(y){return y==null||isNaN(y=+y)?a:(f||(f=u(t.map(r),e,n)))(r(l(y)))}return p.invert=function(y){return l(i((h||(h=u(e,t.map(r),Eg)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Sg),d()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),d()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=s1,d()},p.clamp=function(y){return arguments.length?(l=y?!0:Sr,d()):l!==Sr},p.interpolate=function(y){return arguments.length?(n=y,d()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,b){return r=y,i=b,d()}}function o1(){return Ey()(Sr,Sr)}function aZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Tg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Uc(t){return t=Tg(Math.abs(t)),t?t[1]:NaN}function sZ(t,e){return function(n,r){for(var i=n.length,a=[],l=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[l=(l+1)%t.length];return a.reverse().join(e)}}function oZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var lZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sd(t){if(!(e=lZ.exec(t)))throw new Error("invalid format: "+t);var e;return new l1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}sd.prototype=l1.prototype;function l1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}l1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var N4;function cZ(t,e){var n=Tg(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(N4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Tg(t,Math.max(0,e+a-1))[0]}function oN(t,e){var n=Tg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const lN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:aZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>oN(t*100,e),r:oN,s:cZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uN(t){return t}var cN=Array.prototype.map,fN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fZ(t){var e=t.grouping===void 0||t.thousands===void 0?uN:sZ(cN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?uN:oZ(cN.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(p){p=sd(p);var y=p.fill,b=p.align,w=p.sign,x=p.symbol,E=p.zero,A=p.width,P=p.comma,C=p.precision,V=p.trim,L=p.type;L==="n"?(P=!0,L="g"):lN[L]||(C===void 0&&(C=12),V=!0,L="g"),(E||y==="0"&&b==="=")&&(E=!0,y="0",b="=");var D=x==="$"?n:x==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",j=x==="$"?r:/[%p]/.test(L)?l:"",I=lN[L],M=/[defgprs%]/.test(L);C=C===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function U(z){var q=D,$=j,ve,we,G;if(L==="c")$=I(z)+$,z="";else{z=+z;var re=z<0||1/z<0;if(z=isNaN(z)?f:I(Math.abs(z),C),V&&(z=uZ(z)),re&&+z==0&&w!=="+"&&(re=!1),q=(re?w==="("?w:u:w==="-"||w==="("?"":w)+q,$=(L==="s"?fN[8+N4/3]:"")+$+(re&&w==="("?")":""),M){for(ve=-1,we=z.length;++ve<we;)if(G=z.charCodeAt(ve),48>G||G>57){$=(G===46?i+z.slice(ve+1):z.slice(ve))+$,z=z.slice(0,ve);break}}}P&&!E&&(z=e(z,1/0));var pe=q.length+z.length+$.length,xe=pe<A?new Array(A-pe+1).join(y):"";switch(P&&E&&(z=e(xe+z,xe.length?A-$.length:1/0),xe=""),b){case"<":z=q+z+$+xe;break;case"=":z=q+xe+z+$;break;case"^":z=xe.slice(0,pe=xe.length>>1)+q+z+$+xe.slice(pe);break;default:z=xe+q+z+$;break}return a(z)}return U.toString=function(){return p+""},U}function d(p,y){var b=h((p=sd(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Uc(y)/3)))*3,x=Math.pow(10,-w),E=fN[8+w/3];return function(A){return b(x*A)+E}}return{format:h,formatPrefix:d}}var gp,u1,j4;hZ({thousands:",",grouping:[3],currency:["$",""]});function hZ(t){return gp=fZ(t),u1=gp.format,j4=gp.formatPrefix,gp}function dZ(t){return Math.max(0,-Uc(Math.abs(t)))}function mZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uc(e)/3)))*3-Uc(Math.abs(t)))}function pZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Uc(e)-Uc(t))+1}function D4(t,e,n,r){var i=ox(t,e,n),a;switch(r=sd(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=mZ(i,l))&&(r.precision=a),j4(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=pZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=dZ(i))&&(r.precision=a-(r.type==="%")*2);break}}return u1(r)}function zo(t){var e=t.domain;return t.ticks=function(n){var r=e();return ax(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return D4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],u=r[a],f,h,d=10;for(u<l&&(h=l,l=u,u=h,h=i,i=a,a=h);d-- >0;){if(h=sx(l,u,n),h===f)return r[i]=l,r[a]=u,e(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function I4(){var t=o1();return t.copy=function(){return Sd(t,I4())},ki.apply(t,arguments),zo(t)}function k4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Sg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return k4(t).unknown(e)},t=arguments.length?Array.from(t,Sg):[0,1],zo(n)}function M4(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function hN(t){return Math.log(t)}function dN(t){return Math.exp(t)}function gZ(t){return-Math.log(-t)}function yZ(t){return-Math.exp(-t)}function vZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bZ(t){return t===10?vZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _Z(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function mN(t){return(e,n)=>-t(-e,n)}function c1(t){const e=t(hN,dN),n=e.domain;let r=10,i,a;function l(){return i=_Z(r),a=bZ(r),n()[0]<0?(i=mN(i),a=mN(a),t(gZ,yZ)):t(hN,dN),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const f=n();let h=f[0],d=f[f.length-1];const p=d<h;p&&([h,d]=[d,h]);let y=i(h),b=i(d),w,x;const E=u==null?10:+u;let A=[];if(!(r%1)&&b-y<E){if(y=Math.floor(y),b=Math.ceil(b),h>0){for(;y<=b;++y)for(w=1;w<r;++w)if(x=y<0?w/a(-y):w*a(y),!(x<h)){if(x>d)break;A.push(x)}}else for(;y<=b;++y)for(w=r-1;w>=1;--w)if(x=y>0?w/a(-y):w*a(y),!(x<h)){if(x>d)break;A.push(x)}A.length*2<E&&(A=ax(h,d,E))}else A=ax(y,b,Math.min(b-y,E)).map(a);return p?A.reverse():A},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=sd(f)).precision==null&&(f.trim=!0),f=u1(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=h?f(d):""}},e.nice=()=>n(M4(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function L4(){const t=c1(Ey()).domain([1,10]);return t.copy=()=>Sd(t,L4()).base(t.base()),ki.apply(t,arguments),t}function pN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function gN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function f1(t){var e=1,n=t(pN(e),gN(e));return n.constant=function(r){return arguments.length?t(pN(e=+r),gN(e)):e},zo(n)}function U4(){var t=f1(Ey());return t.copy=function(){return Sd(t,U4()).constant(t.constant())},ki.apply(t,arguments)}function yN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function wZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function xZ(t){return t<0?-t*t:t*t}function h1(t){var e=t(Sr,Sr),n=1;function r(){return n===1?t(Sr,Sr):n===.5?t(wZ,xZ):t(yN(n),yN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zo(e)}function d1(){var t=h1(Ey());return t.copy=function(){return Sd(t,d1()).exponent(t.exponent())},ki.apply(t,arguments),t}function EZ(){return d1.apply(null,arguments).exponent(.5)}function vN(t){return Math.sign(t)*t*t}function SZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function V4(){var t=o1(),e=[0,1],n=!1,r;function i(a){var l=SZ(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(vN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Sg)).map(vN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return V4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ki.apply(i,arguments),zo(i)}function $4(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=CJ(t,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:e[xd(n,l)]}return a.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Oo),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return $4().domain(t).range(e).unknown(r)},ki.apply(a,arguments)}function B4(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(f){return f!=null&&f<=f?i[xd(r,f,0,n)]:a}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(a=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return B4().domain([t,e]).range(i).unknown(a)},ki.apply(zo(l),arguments)}function z4(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[xd(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return z4().domain(t).range(e).unknown(n)},ki.apply(i,arguments)}const O_=new Date,C_=new Date;function In(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return f;let h;do f.push(h=new Date(+a)),e(a,u),t(a);while(h<a&&a<l);return f},i.filter=a=>In(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!a(l););else for(;--u>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(O_.setTime(+a),C_.setTime(+l),t(O_),t(C_),Math.floor(n(O_,C_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Ag=In(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ag.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?In(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ag);Ag.range;const os=1e3,Ni=os*60,ls=Ni*60,vs=ls*24,m1=vs*7,bN=vs*30,R_=vs*365,Ll=In(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*os)},(t,e)=>(e-t)/os,t=>t.getUTCSeconds());Ll.range;const p1=In(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*os)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getMinutes());p1.range;const g1=In(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getUTCMinutes());g1.range;const y1=In(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*os-t.getMinutes()*Ni)},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getHours());y1.range;const v1=In(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getUTCHours());v1.range;const Td=In(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ni)/vs,t=>t.getDate()-1);Td.range;const Sy=In(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>t.getUTCDate()-1);Sy.range;const q4=In(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>Math.floor(t/vs));q4.range;function lu(t){return In(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ni)/m1)}const Ty=lu(0),Og=lu(1),TZ=lu(2),AZ=lu(3),Vc=lu(4),OZ=lu(5),CZ=lu(6);Ty.range;Og.range;TZ.range;AZ.range;Vc.range;OZ.range;CZ.range;function uu(t){return In(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/m1)}const Ay=uu(0),Cg=uu(1),RZ=uu(2),PZ=uu(3),$c=uu(4),NZ=uu(5),jZ=uu(6);Ay.range;Cg.range;RZ.range;PZ.range;$c.range;NZ.range;jZ.range;const b1=In(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());b1.range;const _1=In(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_1.range;const bs=In(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:In(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});bs.range;const _s=In(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());_s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:In(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});_s.range;function F4(t,e,n,r,i,a){const l=[[Ll,1,os],[Ll,5,5*os],[Ll,15,15*os],[Ll,30,30*os],[a,1,Ni],[a,5,5*Ni],[a,15,15*Ni],[a,30,30*Ni],[i,1,ls],[i,3,3*ls],[i,6,6*ls],[i,12,12*ls],[r,1,vs],[r,2,2*vs],[n,1,m1],[e,1,bN],[e,3,3*bN],[t,1,R_]];function u(h,d,p){const y=d<h;y&&([h,d]=[d,h]);const b=p&&typeof p.range=="function"?p:f(h,d,p),w=b?b.range(h,+d+1):[];return y?w.reverse():w}function f(h,d,p){const y=Math.abs(d-h)/p,b=t1(([,,E])=>E).right(l,y);if(b===l.length)return t.every(ox(h/R_,d/R_,p));if(b===0)return Ag.every(Math.max(ox(h,d,p),1));const[w,x]=l[y/l[b-1][2]<l[b][2]/y?b-1:b];return w.every(x)}return[u,f]}const[DZ,IZ]=F4(_s,_1,Ay,q4,v1,g1),[kZ,MZ]=F4(bs,b1,Ty,Td,y1,p1);function P_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function N_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function LZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,h=mh(i),d=ph(i),p=mh(a),y=ph(a),b=mh(l),w=ph(l),x=mh(u),E=ph(u),A=mh(f),P=ph(f),C={a:re,A:pe,b:xe,B:H,c:null,d:TN,e:TN,f:see,g:gee,G:vee,H:ree,I:iee,j:aee,L:H4,m:oee,M:lee,p:oe,q:ie,Q:CN,s:RN,S:uee,u:cee,U:fee,V:hee,w:dee,W:mee,x:null,X:null,y:pee,Y:yee,Z:bee,"%":ON},V={a:me,A:Ae,b:Ue,B:Ve,c:null,d:AN,e:AN,f:Eee,g:Dee,G:kee,H:_ee,I:wee,j:xee,L:G4,m:See,M:Tee,p:nn,q:Tt,Q:CN,s:RN,S:Aee,u:Oee,U:Cee,V:Ree,w:Pee,W:Nee,x:null,X:null,y:jee,Y:Iee,Z:Mee,"%":ON},L={a:U,A:z,b:q,B:$,c:ve,d:EN,e:EN,f:ZZ,g:xN,G:wN,H:SN,I:SN,j:YZ,L:JZ,m:WZ,M:XZ,p:M,q:GZ,Q:tee,s:nee,S:QZ,u:zZ,U:qZ,V:FZ,w:BZ,W:HZ,x:we,X:G,y:xN,Y:wN,Z:KZ,"%":eee};C.x=D(n,C),C.X=D(r,C),C.c=D(e,C),V.x=D(n,V),V.X=D(r,V),V.c=D(e,V);function D(_e,De){return function(Ke){var ge=[],Yt=-1,et=0,ln=_e.length,dn,Zt,Rs;for(Ke instanceof Date||(Ke=new Date(+Ke));++Yt<ln;)_e.charCodeAt(Yt)===37&&(ge.push(_e.slice(et,Yt)),(Zt=_N[dn=_e.charAt(++Yt)])!=null?dn=_e.charAt(++Yt):Zt=dn==="e"?" ":"0",(Rs=De[dn])&&(dn=Rs(Ke,Zt)),ge.push(dn),et=Yt+1);return ge.push(_e.slice(et,Yt)),ge.join("")}}function j(_e,De){return function(Ke){var ge=dh(1900,void 0,1),Yt=I(ge,_e,Ke+="",0),et,ln;if(Yt!=Ke.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(De&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(et=N_(dh(ge.y,0,1)),ln=et.getUTCDay(),et=ln>4||ln===0?Cg.ceil(et):Cg(et),et=Sy.offset(et,(ge.V-1)*7),ge.y=et.getUTCFullYear(),ge.m=et.getUTCMonth(),ge.d=et.getUTCDate()+(ge.w+6)%7):(et=P_(dh(ge.y,0,1)),ln=et.getDay(),et=ln>4||ln===0?Og.ceil(et):Og(et),et=Td.offset(et,(ge.V-1)*7),ge.y=et.getFullYear(),ge.m=et.getMonth(),ge.d=et.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),ln="Z"in ge?N_(dh(ge.y,0,1)).getUTCDay():P_(dh(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(ln+5)%7:ge.w+ge.U*7-(ln+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,N_(ge)):P_(ge)}}function I(_e,De,Ke,ge){for(var Yt=0,et=De.length,ln=Ke.length,dn,Zt;Yt<et;){if(ge>=ln)return-1;if(dn=De.charCodeAt(Yt++),dn===37){if(dn=De.charAt(Yt++),Zt=L[dn in _N?De.charAt(Yt++):dn],!Zt||(ge=Zt(_e,Ke,ge))<0)return-1}else if(dn!=Ke.charCodeAt(ge++))return-1}return ge}function M(_e,De,Ke){var ge=h.exec(De.slice(Ke));return ge?(_e.p=d.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function U(_e,De,Ke){var ge=b.exec(De.slice(Ke));return ge?(_e.w=w.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function z(_e,De,Ke){var ge=p.exec(De.slice(Ke));return ge?(_e.w=y.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function q(_e,De,Ke){var ge=A.exec(De.slice(Ke));return ge?(_e.m=P.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function $(_e,De,Ke){var ge=x.exec(De.slice(Ke));return ge?(_e.m=E.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function ve(_e,De,Ke){return I(_e,e,De,Ke)}function we(_e,De,Ke){return I(_e,n,De,Ke)}function G(_e,De,Ke){return I(_e,r,De,Ke)}function re(_e){return l[_e.getDay()]}function pe(_e){return a[_e.getDay()]}function xe(_e){return f[_e.getMonth()]}function H(_e){return u[_e.getMonth()]}function oe(_e){return i[+(_e.getHours()>=12)]}function ie(_e){return 1+~~(_e.getMonth()/3)}function me(_e){return l[_e.getUTCDay()]}function Ae(_e){return a[_e.getUTCDay()]}function Ue(_e){return f[_e.getUTCMonth()]}function Ve(_e){return u[_e.getUTCMonth()]}function nn(_e){return i[+(_e.getUTCHours()>=12)]}function Tt(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var De=D(_e+="",C);return De.toString=function(){return _e},De},parse:function(_e){var De=j(_e+="",!1);return De.toString=function(){return _e},De},utcFormat:function(_e){var De=D(_e+="",V);return De.toString=function(){return _e},De},utcParse:function(_e){var De=j(_e+="",!0);return De.toString=function(){return _e},De}}}var _N={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,UZ=/^%/,VZ=/[\\^$*+?|[\]().{}]/g;function bt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function $Z(t){return t.replace(VZ,"\\$&")}function mh(t){return new RegExp("^(?:"+t.map($Z).join("|")+")","i")}function ph(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function BZ(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function zZ(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function qZ(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function FZ(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function HZ(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function wN(t,e,n){var r=Wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xN(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function KZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function GZ(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function WZ(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function EN(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function YZ(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function SN(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function XZ(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function QZ(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function JZ(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ZZ(t,e,n){var r=Wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function eee(t,e,n){var r=UZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function tee(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function nee(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function TN(t,e){return bt(t.getDate(),e,2)}function ree(t,e){return bt(t.getHours(),e,2)}function iee(t,e){return bt(t.getHours()%12||12,e,2)}function aee(t,e){return bt(1+Td.count(bs(t),t),e,3)}function H4(t,e){return bt(t.getMilliseconds(),e,3)}function see(t,e){return H4(t,e)+"000"}function oee(t,e){return bt(t.getMonth()+1,e,2)}function lee(t,e){return bt(t.getMinutes(),e,2)}function uee(t,e){return bt(t.getSeconds(),e,2)}function cee(t){var e=t.getDay();return e===0?7:e}function fee(t,e){return bt(Ty.count(bs(t)-1,t),e,2)}function K4(t){var e=t.getDay();return e>=4||e===0?Vc(t):Vc.ceil(t)}function hee(t,e){return t=K4(t),bt(Vc.count(bs(t),t)+(bs(t).getDay()===4),e,2)}function dee(t){return t.getDay()}function mee(t,e){return bt(Og.count(bs(t)-1,t),e,2)}function pee(t,e){return bt(t.getFullYear()%100,e,2)}function gee(t,e){return t=K4(t),bt(t.getFullYear()%100,e,2)}function yee(t,e){return bt(t.getFullYear()%1e4,e,4)}function vee(t,e){var n=t.getDay();return t=n>=4||n===0?Vc(t):Vc.ceil(t),bt(t.getFullYear()%1e4,e,4)}function bee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bt(e/60|0,"0",2)+bt(e%60,"0",2)}function AN(t,e){return bt(t.getUTCDate(),e,2)}function _ee(t,e){return bt(t.getUTCHours(),e,2)}function wee(t,e){return bt(t.getUTCHours()%12||12,e,2)}function xee(t,e){return bt(1+Sy.count(_s(t),t),e,3)}function G4(t,e){return bt(t.getUTCMilliseconds(),e,3)}function Eee(t,e){return G4(t,e)+"000"}function See(t,e){return bt(t.getUTCMonth()+1,e,2)}function Tee(t,e){return bt(t.getUTCMinutes(),e,2)}function Aee(t,e){return bt(t.getUTCSeconds(),e,2)}function Oee(t){var e=t.getUTCDay();return e===0?7:e}function Cee(t,e){return bt(Ay.count(_s(t)-1,t),e,2)}function W4(t){var e=t.getUTCDay();return e>=4||e===0?$c(t):$c.ceil(t)}function Ree(t,e){return t=W4(t),bt($c.count(_s(t),t)+(_s(t).getUTCDay()===4),e,2)}function Pee(t){return t.getUTCDay()}function Nee(t,e){return bt(Cg.count(_s(t)-1,t),e,2)}function jee(t,e){return bt(t.getUTCFullYear()%100,e,2)}function Dee(t,e){return t=W4(t),bt(t.getUTCFullYear()%100,e,2)}function Iee(t,e){return bt(t.getUTCFullYear()%1e4,e,4)}function kee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$c(t):$c.ceil(t),bt(t.getUTCFullYear()%1e4,e,4)}function Mee(){return"+0000"}function ON(){return"%"}function CN(t){return+t}function RN(t){return Math.floor(+t/1e3)}var oc,Y4,X4;Lee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lee(t){return oc=LZ(t),Y4=oc.format,oc.parse,X4=oc.utcFormat,oc.utcParse,oc}function Uee(t){return new Date(t)}function Vee(t){return t instanceof Date?+t:+new Date(+t)}function w1(t,e,n,r,i,a,l,u,f,h){var d=o1(),p=d.invert,y=d.domain,b=h(".%L"),w=h(":%S"),x=h("%I:%M"),E=h("%I %p"),A=h("%a %d"),P=h("%b %d"),C=h("%B"),V=h("%Y");function L(D){return(f(D)<D?b:u(D)<D?w:l(D)<D?x:a(D)<D?E:r(D)<D?i(D)<D?A:P:n(D)<D?C:V)(D)}return d.invert=function(D){return new Date(p(D))},d.domain=function(D){return arguments.length?y(Array.from(D,Vee)):y().map(Uee)},d.ticks=function(D){var j=y();return t(j[0],j[j.length-1],D??10)},d.tickFormat=function(D,j){return j==null?L:h(j)},d.nice=function(D){var j=y();return(!D||typeof D.range!="function")&&(D=e(j[0],j[j.length-1],D??10)),D?y(M4(j,D)):d},d.copy=function(){return Sd(d,w1(t,e,n,r,i,a,l,u,f,h))},d}function $ee(){return ki.apply(w1(kZ,MZ,bs,b1,Ty,Td,y1,p1,Ll,Y4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Bee(){return ki.apply(w1(DZ,IZ,_s,_1,Ay,Sy,v1,g1,Ll,X4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Oy(){var t=0,e=1,n,r,i,a,l=Sr,u=!1,f;function h(p){return p==null||isNaN(p=+p)?f:l(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(l=p,h):l};function d(p){return function(y){var b,w;return arguments.length?([b,w]=y,l=p(b,w),h):[l(0),l(1)]}}return h.range=d(Xc),h.rangeRound=d(s1),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),h}}function qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Q4(){var t=zo(Oy()(Sr));return t.copy=function(){return qo(t,Q4())},As.apply(t,arguments)}function J4(){var t=c1(Oy()).domain([1,10]);return t.copy=function(){return qo(t,J4()).base(t.base())},As.apply(t,arguments)}function Z4(){var t=f1(Oy());return t.copy=function(){return qo(t,Z4()).constant(t.constant())},As.apply(t,arguments)}function x1(){var t=h1(Oy());return t.copy=function(){return qo(t,x1()).exponent(t.exponent())},As.apply(t,arguments)}function zee(){return x1.apply(null,arguments).exponent(.5)}function eL(){var t=[],e=Sr;function n(r){if(r!=null&&!isNaN(r=+r))return e((xd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Oo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>OJ(t,a/r))},n.copy=function(){return eL(e).domain(t)},As.apply(n,arguments)}function Cy(){var t=0,e=.5,n=1,r=1,i,a,l,u,f,h=Sr,d,p=!1,y;function b(x){return isNaN(x=+x)?y:(x=.5+((x=+d(x))-a)*(r*x<r*a?u:f),h(p?Math.max(0,Math.min(1,x)):x))}b.domain=function(x){return arguments.length?([t,e,n]=x,i=d(t=+t),a=d(e=+e),l=d(n=+n),u=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(x){return arguments.length?(p=!!x,b):p},b.interpolator=function(x){return arguments.length?(h=x,b):h};function w(x){return function(E){var A,P,C;return arguments.length?([A,P,C]=E,h=eZ(x,[A,P,C]),b):[h(0),h(.5),h(1)]}}return b.range=w(Xc),b.rangeRound=w(s1),b.unknown=function(x){return arguments.length?(y=x,b):y},function(x){return d=x,i=x(t),a=x(e),l=x(n),u=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,b}}function tL(){var t=zo(Cy()(Sr));return t.copy=function(){return qo(t,tL())},As.apply(t,arguments)}function nL(){var t=c1(Cy()).domain([.1,1,10]);return t.copy=function(){return qo(t,nL()).base(t.base())},As.apply(t,arguments)}function rL(){var t=f1(Cy());return t.copy=function(){return qo(t,rL()).constant(t.constant())},As.apply(t,arguments)}function E1(){var t=h1(Cy());return t.copy=function(){return qo(t,E1()).exponent(t.exponent())},As.apply(t,arguments)}function qee(){return E1.apply(null,arguments).exponent(.5)}const Th=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:r1,scaleDiverging:tL,scaleDivergingLog:nL,scaleDivergingPow:E1,scaleDivergingSqrt:qee,scaleDivergingSymlog:rL,scaleIdentity:k4,scaleImplicit:lx,scaleLinear:I4,scaleLog:L4,scaleOrdinal:n1,scalePoint:PJ,scalePow:d1,scaleQuantile:$4,scaleQuantize:B4,scaleRadial:V4,scaleSequential:Q4,scaleSequentialLog:J4,scaleSequentialPow:x1,scaleSequentialQuantile:eL,scaleSequentialSqrt:zee,scaleSequentialSymlog:Z4,scaleSqrt:EZ,scaleSymlog:U4,scaleThreshold:z4,scaleTime:$ee,scaleUtc:Bee,tickFormat:D4},Symbol.toStringTag,{value:"Module"}));var Fo=t=>t.chartData,Fee=se([Fo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Ry=(t,e,n,r)=>r?Fee(t):Fo(t);function Bc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ai(e)&&ai(n))return!0}return!1}function PN(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Hee(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(ai(n))i=n;else if(typeof n=="function")return;if(ai(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(Bc(l))return l}}function Kee(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Bc(r))return PN(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Re(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&y2.test(i)){var f=y2.exec(i);if(f==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e?.[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(Re(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e?.[1]))}catch{}else if(typeof a=="string"&&v2.test(a)){var d=v2.exec(a);if(d==null||e==null)u=void 0;else{var p=+d[1];u=e[1]+p}}else u=e?.[1];var y=[l,u];if(Bc(y))return e==null?y:PN(y,e,n)}}}var Qc=1e9,Gee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},T1,Jt=!0,Ii="[DecimalError] ",ql=Ii+"Invalid argument: ",S1=Ii+"Exponent out of range: ",Jc=Math.floor,Ol=Math.pow,Wee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ei,Hn=1e7,Ft=7,iL=9007199254740991,Rg=Jc(iL/Ft),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ft;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return ds(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return Vt(ds(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return xn(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ei))throw Error(Ii+"NaN");if(n.s<1)throw Error(Ii+(n.s?"NaN":"-Infinity"));return n.eq(ei)?new r(0):(Jt=!1,e=ds(od(n,a),od(t,a),a),Jt=!0,Vt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oL(e,t):aL(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ii+"NaN");return n.s?(Jt=!1,e=ds(n,t,0,1).times(t),Jt=!0,n.minus(e)):Vt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return sL(this)};Te.naturalLogarithm=Te.ln=function(){return od(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aL(e,t):oL(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ql+t);if(e=xn(i)+1,r=i.d.length-1,n=r*Ft+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,a,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Ii+"NaN")}for(t=xn(u),Jt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=wa(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Jc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(a=r,r=a.plus(ds(u,a,l+2)).times(.5),wa(a.d).slice(0,l)===(e=wa(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Vt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;l+=4}return Jt=!0,Vt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,a,l,u,f,h,d=this,p=d.constructor,y=d.d,b=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,f=y.length,h=b.length,f<h&&(a=y,y=b,b=a,l=f,f=h,h=l),a=[],l=f+h,r=l;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)u=a[i]+b[r]*y[i-r-1]+e,a[i--]=u%Hn|0,e=u/Hn|0;a[i]=(a[i]+e)%Hn|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Jt?Vt(t,p.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ja(t,0,Qc),e===void 0?e=r.rounding:ja(e,0,8),Vt(n,t+xn(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Xl(r,!0):(ja(t,0,Qc),e===void 0?e=i.rounding:ja(e,0,8),r=Vt(new i(r),t+1,e),n=Xl(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Xl(i):(ja(t,0,Qc),e===void 0?e=a.rounding:ja(e,0,8),r=Vt(new a(i),t+xn(i)+1,e),n=Xl(r.abs(),!1,t+xn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),xn(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,a,l,u=this,f=u.constructor,h=12,d=+(t=new f(t));if(!t.s)return new f(ei);if(u=new f(u),!u.s){if(t.s<1)throw Error(Ii+"Infinity");return u}if(u.eq(ei))return u;if(r=f.precision,t.eq(ei))return Vt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=u.s,l){if((n=d<0?-d:d)<=iL){for(i=new f(ei),e=Math.ceil(r/Ft+4),Jt=!1;n%2&&(i=i.times(u),jN(i.d,e)),n=Jc(n/2),n!==0;)u=u.times(u),jN(u.d,e);return Jt=!0,t.s<0?new f(ei).div(i):Vt(i,r)}}else if(a<0)throw Error(Ii+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Jt=!1,i=t.times(od(u,r+h)),Jt=!0,i=sL(i),i.s=a,i};Te.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=xn(i),r=Xl(i,n<=a.toExpNeg||n>=a.toExpPos)):(ja(t,1,Qc),e===void 0?e=a.rounding:ja(e,0,8),i=Vt(new a(i),t,e),n=xn(i),r=Xl(i,t<=n||n<=a.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ja(t,1,Qc),e===void 0?e=r.rounding:ja(e,0,8)),Vt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=xn(t),n=t.constructor;return Xl(t,e<=n.toExpNeg||e>=n.toExpPos)};function aL(t,e){var n,r,i,a,l,u,f,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Jt?Vt(e,p):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),a=l-i,a){for(a<0?(r=f,a=-a,u=h.length):(r=h,i=l,u=f.length),l=Math.ceil(p/Ft),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=f.length,a=h.length,u-a<0&&(a=u,r=h,h=f,f=r),n=0;a;)n=(f[--a]=f[a]+h[a]+n)/Hn|0,f[a]%=Hn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Jt?Vt(e,p):e}function ja(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ql+t)}function wa(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=Ft-r.length,n&&(a+=po(n)),a+=r;l=t[e],r=l+"",n=Ft-r.length,n&&(a+=po(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var ds=(function(){function t(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%Hn|0,l=a/Hn|0;return l&&r.unshift(l),r}function e(r,i,a,l){var u,f;if(a!=l)f=a>l?1:-1;else for(u=f=0;u<a;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Hn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,f,h,d,p,y,b,w,x,E,A,P,C,V,L,D,j,I,M=r.constructor,U=r.s==i.s?1:-1,z=r.d,q=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Ii+"Division by zero");for(f=r.e-i.e,j=q.length,L=z.length,b=new M(U),w=b.d=[],h=0;q[h]==(z[h]||0);)++h;if(q[h]>(z[h]||0)&&--f,a==null?P=a=M.precision:l?P=a+(xn(r)-xn(i))+1:P=a,P<0)return new M(0);if(P=P/Ft+2|0,h=0,j==1)for(d=0,q=q[0],P++;(h<L||d)&&P--;h++)C=d*Hn+(z[h]||0),w[h]=C/q|0,d=C%q|0;else{for(d=Hn/(q[0]+1)|0,d>1&&(q=t(q,d),z=t(z,d),j=q.length,L=z.length),V=j,x=z.slice(0,j),E=x.length;E<j;)x[E++]=0;I=q.slice(),I.unshift(0),D=q[0],q[1]>=Hn/2&&++D;do d=0,u=e(q,x,j,E),u<0?(A=x[0],j!=E&&(A=A*Hn+(x[1]||0)),d=A/D|0,d>1?(d>=Hn&&(d=Hn-1),p=t(q,d),y=p.length,E=x.length,u=e(p,x,y,E),u==1&&(d--,n(p,j<y?I:q,y))):(d==0&&(u=d=1),p=q.slice()),y=p.length,y<E&&p.unshift(0),n(x,p,E),u==-1&&(E=x.length,u=e(q,x,j,E),u<1&&(d++,n(x,j<E?I:q,E))),E=x.length):u===0&&(d++,x=[0]),w[h++]=d,u&&x[0]?x[E++]=z[V]||0:(x=[z[V]],E=1);while((V++<L||x[0]!==void 0)&&P--)}return w[0]||w.shift(),b.e=f,Vt(b,l?a+xn(b)+1:a)}})();function sL(t,e){var n,r,i,a,l,u,f=0,h=0,d=t.constructor,p=d.precision;if(xn(t)>16)throw Error(S1+xn(t));if(!t.s)return new d(ei);for(Jt=!1,u=p,l=new d(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(Ol(2,h))/Math.LN10*2+5|0,u+=r,n=i=a=new d(ei),d.precision=u;;){if(i=Vt(i.times(t),u),n=n.times(++f),l=a.plus(ds(i,n,u)),wa(l.d).slice(0,u)===wa(a.d).slice(0,u)){for(;h--;)a=Vt(a.times(a),u);return d.precision=p,e==null?(Jt=!0,Vt(a,p)):a}a=l}}function xn(t){for(var e=t.e*Ft,n=t.d[0];n>=10;n/=10)e++;return e}function j_(t,e,n){if(e>t.LN10.sd())throw Jt=!0,n&&(t.precision=n),Error(Ii+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function po(t){for(var e="";t--;)e+="0";return e}function od(t,e){var n,r,i,a,l,u,f,h,d,p=1,y=10,b=t,w=b.d,x=b.constructor,E=x.precision;if(b.s<1)throw Error(Ii+(b.s?"NaN":"-Infinity"));if(b.eq(ei))return new x(0);if(e==null?(Jt=!1,h=E):h=e,b.eq(10))return e==null&&(Jt=!0),j_(x,h);if(h+=y,x.precision=h,n=wa(w),r=n.charAt(0),a=xn(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=wa(b.d),r=n.charAt(0),p++;a=xn(b),r>1?(b=new x("0."+n),a++):b=new x(r+"."+n.slice(1))}else return f=j_(x,h+2,E).times(a+""),b=od(new x(r+"."+n.slice(1)),h-y).plus(f),x.precision=E,e==null?(Jt=!0,Vt(b,E)):b;for(u=l=b=ds(b.minus(ei),b.plus(ei),h),d=Vt(b.times(b),h),i=3;;){if(l=Vt(l.times(d),h),f=u.plus(ds(l,new x(i),h)),wa(f.d).slice(0,h)===wa(u.d).slice(0,h))return u=u.times(2),a!==0&&(u=u.plus(j_(x,h+2,E).times(a+""))),u=ds(u,new x(p),h),x.precision=E,e==null?(Jt=!0,Vt(u,E)):u;u=f,i+=2}}function NN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Jc(n/Ft),t.d=[],r=(n+1)%Ft,n<0&&(r+=Ft),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ft;r<i;)t.d.push(+e.slice(r,r+=Ft));e=e.slice(r),r=Ft-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Jt&&(t.e>Rg||t.e<-Rg))throw Error(S1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,n){var r,i,a,l,u,f,h,d,p=t.d;for(l=1,a=p[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=Ft,i=e,h=p[d=0];else{if(d=Math.ceil((r+1)/Ft),a=p.length,d>=a)return t;for(h=a=p[d],l=1;a>=10;a/=10)l++;r%=Ft,i=r-Ft+l}if(n!==void 0&&(a=Ol(10,l-i-1),u=h/a%10|0,f=e<0||p[d+1]!==void 0||h%a,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/Ol(10,l-i):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(a=xn(t),p.length=1,e=e-a-1,p[0]=Ol(10,(Ft-e%Ft)%Ft),t.e=Jc(-e/Ft)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=d,a=1,d--):(p.length=d+1,a=Ol(10,Ft-r),p[d]=i>0?(h/Ol(10,l-i)%Ol(10,i)|0)*a:0),f)for(;;)if(d==0){(p[0]+=a)==Hn&&(p[0]=1,++t.e);break}else{if(p[d]+=a,p[d]!=Hn)break;p[d--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Jt&&(t.e>Rg||t.e<-Rg))throw Error(S1+xn(t));return t}function oL(t,e){var n,r,i,a,l,u,f,h,d,p,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Jt?Vt(e,b):e;if(f=t.d,p=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(d=l<0,d?(n=f,l=-l,u=p.length):(n=p,r=h,u=f.length),i=Math.max(Math.ceil(b/Ft),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=p.length,d=i<u,d&&(u=i),i=0;i<u;i++)if(f[i]!=p[i]){d=f[i]<p[i];break}l=0}for(d&&(n=f,f=p,p=n,e.s=-e.s),u=f.length,i=p.length-u;i>0;--i)f[u++]=0;for(i=p.length;i>l;){if(f[--i]<p[i]){for(a=i;a&&f[--a]===0;)f[a]=Hn-1;--f[a],f[i]+=Hn}f[i]-=p[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Jt?Vt(e,b):e):new y(0)}function Xl(t,e,n){var r,i=xn(t),a=wa(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+po(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+po(-i-1)+a,n&&(r=n-l)>0&&(a+=po(r))):i>=l?(a+=po(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+po(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=po(r))),t.s<0?"-"+a:a}function jN(t,e){if(t.length>e)return t.length=e,!0}function lL(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ql+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return NN(l,a.toString())}else if(typeof a!="string")throw Error(ql+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,Wee.test(a))NN(l,a);else throw Error(ql+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lL,i.config=i.set=Yee,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Yee(t){if(!t||typeof t!="object")throw Error(Ii+"Object expected");var e,n,r,i=["precision",1,Qc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Jc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ql+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ql+n+": "+r);return this}var T1=lL(Gee);ei=new T1(1);const Nt=T1;var Xee=t=>t,uL={},cL=t=>t===uL,DN=t=>function e(){return arguments.length===0||arguments.length===1&&cL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},fL=(t,e)=>t===1?e:DN(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==uL).length;return a>=t?e(...r):fL(t-a,DN(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var h=r.map(d=>cL(d)?u.shift():d);return e(...h,...u)}))}),Py=t=>fL(t.length,t),hx=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Qee=Py((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Jee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Xee;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),a(...arguments))}},dx=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),hL=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((l,u)=>{var f;return l===((f=e)===null||f===void 0?void 0:f[u])})||(e=i,n=t(...i)),n}};function dL(t){var e;return t===0?e=1:e=Math.floor(new Nt(t).abs().log(10).toNumber())+1,e}function mL(t,e,n){for(var r=new Nt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Py((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Py((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Py((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var pL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},gL=(t,e,n)=>{if(t.lte(0))return new Nt(0);var r=dL(t.toNumber()),i=new Nt(10).pow(r),a=t.div(i),l=r!==1?.05:.1,u=new Nt(Math.ceil(a.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return e?new Nt(f.toNumber()):new Nt(Math.ceil(f.toNumber()))},Zee=(t,e,n)=>{var r=new Nt(1),i=new Nt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Nt(10).pow(dL(t)-1),i=new Nt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Nt(Math.floor(t)))}else t===0?i=new Nt(Math.floor((e-1)/2)):n||(i=new Nt(Math.floor(t)));var l=Math.floor((e-1)/2),u=Jee(Qee(f=>i.add(new Nt(f-l).mul(r)).toNumber()),hx);return u(0,e)},yL=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Nt(0),tickMin:new Nt(0),tickMax:new Nt(0)};var l=gL(new Nt(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new Nt(0):(u=new Nt(e).add(n).div(2),u=u.sub(new Nt(u).mod(l)));var f=Math.ceil(u.sub(e).div(l).toNumber()),h=Math.ceil(new Nt(n).sub(u).div(l).toNumber()),d=f+h+1;return d>r?yL(e,n,r,i,a+1):(d<r&&(h=n>0?h+(r-d):h,f=n>0?f:f+(r-d)),{step:l,tickMin:u.sub(new Nt(f).mul(l)),tickMax:u.add(new Nt(h).mul(l))})};function ete(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[l,u]=pL([e,n]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...hx(0,r-1).map(()=>1/0)]:[...hx(0,r-1).map(()=>-1/0),u];return e>n?dx(f):f}if(l===u)return Zee(l,r,i);var{step:h,tickMin:d,tickMax:p}=yL(l,u,a,i,0),y=mL(d,p.add(new Nt(.1).mul(h)),h);return e>n?dx(y):y}function tte(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=pL([n,r]);if(a===-1/0||l===1/0)return[n,r];if(a===l)return[a];var u=Math.max(e,2),f=gL(new Nt(l).sub(a).div(u-1),i,0),h=[...mL(new Nt(a),new Nt(l),f),l];return i===!1&&(h=h.map(d=>Math.round(d))),n>r?dx(h):h}var nte=hL(ete),rte=hL(tte),vL=t=>t.rootProps.maxBarSize,ite=t=>t.rootProps.barGap,bL=t=>t.rootProps.barCategoryGap,ate=t=>t.rootProps.barSize,Ny=t=>t.rootProps.stackOffset,A1=t=>t.options.chartName,O1=t=>t.rootProps.syncId,_L=t=>t.rootProps.syncMethod,C1=t=>t.options.eventEmitter,as={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Jr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},jy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},ste={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:as.reversed,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:as.type,unit:void 0},ote={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,ticks:void 0,type:Jr.type,unit:void 0},lte={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:as.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ute={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,ticks:void 0,type:"category",unit:void 0},R1=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?lte:ste,P1=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?ute:ote,Dy=t=>t.polarOptions,N1=se([Ss,Ts,Gn],eX),wL=se([Dy,N1],(t,e)=>{if(t!=null)return Ji(t.innerRadius,e,0)}),xL=se([Dy,N1],(t,e)=>{if(t!=null)return Ji(t.outerRadius,e,e*.8)}),cte=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},EL=se([Dy],cte);se([R1,EL],jy);var SL=se([N1,wL,xL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});se([P1,SL],jy);var TL=se([St,Dy,wL,xL,Ss,Ts],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:h}=e;return{cx:Ji(l,i,i/2),cy:Ji(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Sn=(t,e)=>e,Iy=(t,e,n)=>n;function j1(t){return t?.id}var kn=t=>{var e=St(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Zc=t=>t.tooltip.settings.axisId,Mn=t=>{var e=kn(t),n=Zc(t);return Ad(t,e,n)};function AL(t,e,n){var{chartData:r=[]}=e,i=n?.dataKey,a=new Map;return t.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var h=j1(l);f.forEach((d,p)=>{var y=i==null?p:String(Kn(d,i,null)),b=Kn(d,l.dataKey,0),w;a.has(y)?w=a.get(y):w={},Object.assign(w,{[h]:b}),a.set(y,w)})}}),Array.from(a.values())}function ky(t){return t.stackId!=null&&t.dataKey!=null}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fte(t,e,n){return(e=hte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hte(t){var e=dte(t,"string");return typeof e=="symbol"?e:e+""}function dte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mx=[0,"auto"],Yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Os=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Yr},Xr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:mx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:vy},Ho=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??Xr},mte={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},D1=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??mte},Mr=(t,e,n)=>{switch(e){case"xAxis":return Os(t,n);case"yAxis":return Ho(t,n);case"zAxis":return D1(t,n);case"angleAxis":return R1(t,n);case"radiusAxis":return P1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},pte=(t,e,n)=>{switch(e){case"xAxis":return Os(t,n);case"yAxis":return Ho(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ad=(t,e,n)=>{switch(e){case"xAxis":return Os(t,n);case"yAxis":return Ho(t,n);case"angleAxis":return R1(t,n);case"radiusAxis":return P1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},OL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function CL(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var My=t=>t.graphicalItems.cartesianItems,gte=se([Sn,Iy],CL),RL=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Od=se([My,Mr,gte],RL),PL=se([Od],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(ky)),NL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),jL=se([Od],NL),DL=t=>t.map(e=>e.data).filter(Boolean).flat(1),yte=se([Od],DL),IL=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},I1=se([yte,Ry],IL),kL=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Kn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Kn(i,r)}))):t.map(r=>({value:r})),Ly=se([I1,Mr,Od],kL);function ML(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function cu(t){return t.filter(e=>Na(e)||e instanceof Date).map(Number).filter(e=>ni(e)===!1)}function vte(t,e,n){return!n||typeof e!="number"||ni(e)?[]:n.length?cu(n.flatMap(r=>{var i=Kn(t,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!ai(a)||!ai(l)))return[e-a,e+l]})):[]}var bte=se([PL,Ry,Mn],AL),LL=(t,e,n)=>{var r={},i=e.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[l,u]=a,f=u.map(j1);return[l,{stackedData:gX(t,f,n),graphicalItems:u}]}))},px=se([bte,PL,Ny],LL),UL=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=wX(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},_te=se([px,Fo,Sn],UL),VL=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(l=>{var u,f,h=(u=r[l.id])===null||u===void 0?void 0:u.filter(p=>ML(i,p)),d=Kn(a,(f=e.dataKey)!==null&&f!==void 0?f:l.dataKey);return{value:d,errorDomain:vte(a,d,h)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:Kn(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),Uy=t=>t.errorBars,$L=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>ML(n,r));se([jL,Uy,Sn],$L);var wte=se([I1,Mr,jL,Uy,Sn],VL);function xte(t){var{value:e}=t;if(Na(e)||e instanceof Date)return e}var kN=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=cu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ete=(t,e,n)=>{var r=t.map(xte).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Zk(r))?E4(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},k1=t=>{var e;if(t==null||!("domain"in t))return mx;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=cu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:mx},Ng=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},BL=t=>t.referenceElements.dots,ef=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ste=se([BL,Sn,Iy],ef),zL=t=>t.referenceElements.areas,Tte=se([zL,Sn,Iy],ef),qL=t=>t.referenceElements.lines,Ate=se([qL,Sn,Iy],ef),FL=(t,e)=>{var n=cu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ote=se(Ste,Sn,FL),HL=(t,e)=>{var n=cu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Cte=se([Tte,Sn],HL),KL=(t,e)=>{var n=cu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Rte=se(Ate,Sn,KL),Pte=se(Ote,Rte,Cte,(t,e,n)=>Ng(t,n,e)),Nte=se([Mr],k1),GL=(t,e,n,r,i,a,l)=>{var u=Hee(e,t.allowDataOverflow);if(u!=null)return u;var f=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",h=f?Ng(n,i,kN(r)):Ng(i,kN(r));return Kee(e,h,t.allowDataOverflow)},jte=se([Mr,Nte,_te,wte,Pte,St,Sn],GL),Dte=[0,1],WL=(t,e,n,r,i,a,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=t,h=Bo(e,a);return h&&u==null?E4(0,n.length):f==="category"?Ete(r,t,h):i==="expand"?Dte:l}},M1=se([Mr,St,I1,Ly,Ny,Sn,jte],WL),YL=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:l}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(_d(a));return u in Th?u:"point"}}},Cd=se([Mr,St,OL,A1,Sn],YL);function Ite(t){if(t!=null){if(t in Th)return Th[t]();var e="scale".concat(_d(t));if(e in Th)return Th[e]()}}function L1(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Ite(e);if(i!=null){var a=i.domain(n).range(r);return fX(a),a}}}var XL=(t,e,n)=>{var r=k1(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Bc(t))return nte(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Bc(t))return rte(t,e.tickCount,e.allowDecimals)}},U1=se([M1,Ad,Cd],XL),QL=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Bc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(l,u)]}return e},kte=se([Mr,M1,U1,Sn],QL),Mte=se(Ly,Mr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(cu(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),JL=se(Mte,St,bL,Gn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ai(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=Ji(n,t*a),u=t*a/2;return u-l-(u-l)/a*l}return 0}),Lte=(t,e)=>{var n=Os(t,e);return n==null||typeof n.padding!="string"?0:JL(t,"xAxis",e,n.padding)},Ute=(t,e)=>{var n=Ho(t,e);return n==null||typeof n.padding!="string"?0:JL(t,"yAxis",e,n.padding)},Vte=se(Os,Lte,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),$te=se(Ho,Ute,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Bte=se([Gn,Vte,_y,by,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),zte=se([Gn,St,$te,_y,by,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Rd=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Bte(t,n,r);case"yAxis":return zte(t,n,r);case"zAxis":return(i=D1(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return EL(t);case"radiusAxis":return SL(t,n);default:return}},ZL=se([Mr,Rd],jy),tf=se([Mr,Cd,kte,ZL],L1);se([Od,Uy,Sn],$L);function e3(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Vy=(t,e)=>e,$y=(t,e,n)=>n,qte=se(WE,Vy,$y,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(e3)),Fte=se(YE,Vy,$y,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(e3)),t3=(t,e)=>({width:t.width,height:e.height}),Hte=(t,e)=>{var n=typeof e.width=="number"?e.width:vy;return{width:n,height:t.height}},n3=se(Gn,Os,t3),Kte=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Gte=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Wte=se(Ts,Gn,qte,Vy,$y,(t,e,n,r,i)=>{var a={},l;return n.forEach(u=>{var f=t3(e,u);l==null&&(l=Kte(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),a}),Yte=se(Ss,Gn,Fte,Vy,$y,(t,e,n,r,i)=>{var a={},l;return n.forEach(u=>{var f=Hte(e,u);l==null&&(l=Gte(e,r,t));var h=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),a}),Xte=(t,e)=>{var n=Gn(t),r=Os(t,e);if(r!=null){var i=Wte(t,r.orientation,r.mirror),a=i[e];return a==null?{x:n.left,y:0}:{x:n.left,y:a}}},Qte=(t,e)=>{var n=Gn(t),r=Ho(t,e);if(r!=null){var i=Yte(t,r.orientation,r.mirror),a=i[e];return a==null?{x:0,y:n.top}:{x:a,y:n.top}}},r3=se(Gn,Ho,(t,e)=>{var n=typeof e.width=="number"?e.width:vy;return{width:n,height:t.height}}),MN=(t,e,n)=>{switch(e){case"xAxis":return n3(t,n).width;case"yAxis":return r3(t,n).height;default:return}},i3=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=Bo(t,r),f=e.map(h=>h.value);if(l&&u&&a==="category"&&i&&Zk(f))return f}},V1=se([St,Ly,Mr,Sn],i3),a3=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=Bo(t,r);if(l&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},$1=se([St,Ly,Ad,Sn],a3),LN=se([St,pte,Cd,tf,V1,$1,Rd,U1,Sn],(t,e,n,r,i,a,l,u,f)=>{if(e==null)return null;var h=Bo(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}),Jte=(t,e,n,r,i,a,l,u,f)=>{if(!(e==null||r==null)){var h=Bo(t,f),{type:d,ticks:p,tickCount:y}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=d==="category"&&r.bandwidth?r.bandwidth()/b:0;w=f==="angleAxis"&&a!=null&&a.length>=2?Dr(a[0]-a[1])*2*w:w;var x=p||i;if(x){var E=x.map((A,P)=>{var C=l?l.indexOf(A):A;return{index:P,coordinate:r(C)+w,value:A,offset:w}});return E.filter(A=>!ni(A.coordinate))}return h&&u?u.map((A,P)=>({coordinate:r(A)+w,value:A,index:P,offset:w})):r.ticks?r.ticks(y).map(A=>({coordinate:r(A)+w,value:A,offset:w})):r.domain().map((A,P)=>({coordinate:r(A)+w,value:l?l[A]:A,index:P,offset:w}))}},s3=se([St,Ad,Cd,tf,U1,Rd,V1,$1,Sn],Jte),Zte=(t,e,n,r,i,a,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Bo(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?Dr(r[0]-r[1])*2*h:h,u&&a?a.map((d,p)=>({coordinate:n(d)+h,value:d,index:p,offset:h})):n.ticks?n.ticks(f).map(d=>({coordinate:n(d)+h,value:d,offset:h})):n.domain().map((d,p)=>({coordinate:n(d)+h,value:i?i[d]:d,index:p,offset:h}))}},ko=se([St,Ad,tf,Rd,V1,$1,Sn],Zte),Mo=se(Mr,tf,(t,e)=>{if(!(t==null||e==null))return Pg(Pg({},t),{},{scale:e})}),ene=se([Mr,Cd,M1,ZL],L1);se((t,e,n)=>D1(t,n),ene,(t,e)=>{if(!(t==null||e==null))return Pg(Pg({},t),{},{scale:e})});var tne=se([St,WE,YE],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),o3=t=>t.options.defaultTooltipEventType,l3=t=>t.options.validateTooltipEventTypes;function u3(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function B1(t,e){var n=o3(t),r=l3(t);return u3(e,n,r)}function nne(t){return Le(e=>B1(e,t))}var c3=(t,e)=>{var n,r=Number(e);if(!(ni(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},rne=t=>t.tooltip.settings,bo={active:!1,index:null,dataKey:void 0,coordinate:void 0},ine={itemInteraction:{click:bo,hover:bo},axisInteraction:{click:bo,hover:bo},keyboardInteraction:bo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},f3=si({name:"tooltip",initialState:ine,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=hs(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:ane,removeTooltipEntrySettings:sne,setTooltipSettingsState:one,setActiveMouseOverItemIndex:h3,mouseLeaveItem:lne,mouseLeaveChart:d3,setActiveClickItemIndex:une,setMouseOverAxisIndex:m3,setMouseClickAxisIndex:cne,setSyncInteraction:gx,setKeyboardInteraction:yx}=f3.actions,fne=f3.reducer;function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hne(t,e,n){return(e=dne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dne(t){var e=mne(t,"string");return typeof e=="symbol"?e:e+""}function mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pne(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function gne(t){return t.index!=null}var p3=(t,e,n,r)=>{if(e==null)return bo;var i=pne(t,e,n);if(i==null)return bo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(gne(i)){if(a)return yp(yp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return yp(yp({},bo),{},{coordinate:i.coordinate})},z1=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!ai(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},g3=(t,e,n,r,i,a,l,u)=>{if(!(a==null||u==null)){var f=l[0],h=f==null?void 0:u(f.positions,a);if(h!=null)return h;var d=i?.[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},y3=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},Pd=t=>t.options.tooltipPayloadSearcher,nf=t=>t.tooltip;function VN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $N(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(n),!0).forEach(function(r){yne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yne(t,e,n){return(e=vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=bne(t,"string");return typeof e=="symbol"?e:e+""}function bne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ne(t,e){return t??e}var v3=(t,e,n,r,i,a,l)=>{if(!(e==null||a==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:d}=n,p=[];return t.reduce((y,b)=>{var w,{dataDefinedOnItem:x,settings:E}=b,A=_ne(x,u),P=Array.isArray(A)?i4(A,h,d):A,C=(w=E?.dataKey)!==null&&w!==void 0?w:r?.dataKey,V=E?.nameKey,L;if(r!=null&&r.dataKey&&Array.isArray(P)&&!Array.isArray(P[0])&&l==="axis"?L=eM(P,r.dataKey,i):L=a(P,e,f,V),Array.isArray(L))L.forEach(j=>{var I=$N($N({},E),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});y.push(b2({tooltipEntrySettings:I,dataKey:j.dataKey,payload:j.payload,value:Kn(j.payload,j.dataKey),name:j.name}))});else{var D;y.push(b2({tooltipEntrySettings:E,dataKey:C,payload:L,value:Kn(L,C),name:(D=Kn(L,V))!==null&&D!==void 0?D:E?.name}))}return y},p)}},q1=se([Mn,St,OL,A1,kn],YL),wne=se([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),xne=se([kn,Zc],CL),Nd=se([wne,Mn,xne],RL),Ene=se([Nd],t=>t.filter(ky)),Sne=se([Nd],DL),rf=se([Sne,Fo],IL),Tne=se([Ene,Fo,Mn],AL),F1=se([rf,Mn,Nd],kL),Ane=se([Mn],k1),One=se([Nd],t=>t.filter(ky)),Cne=se([Tne,One,Ny],LL),Rne=se([Cne,Fo,kn],UL),Pne=se([Nd],NL),Nne=se([rf,Mn,Pne,Uy,kn],VL),jne=se([BL,kn,Zc],ef),Dne=se([jne,kn],FL),Ine=se([zL,kn,Zc],ef),kne=se([Ine,kn],HL),Mne=se([qL,kn,Zc],ef),Lne=se([Mne,kn],KL),Une=se([Dne,Lne,kne],Ng),Vne=se([Mn,Ane,Rne,Nne,Une,St,kn],GL),b3=se([Mn,St,rf,F1,Ny,kn,Vne],WL),$ne=se([b3,Mn,q1],XL),Bne=se([Mn,b3,$ne,kn],QL),_3=t=>{var e=kn(t),n=Zc(t),r=!1;return Rd(t,e,n,r)},w3=se([Mn,_3],jy),x3=se([Mn,q1,Bne,w3],L1),zne=se([St,F1,Mn,kn],i3),qne=se([St,F1,Mn,kn],a3),Fne=(t,e,n,r,i,a,l,u)=>{if(e){var{type:f}=e,h=Bo(t,u);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=f==="category"&&r.bandwidth?r.bandwidth()/d:0;return p=u==="angleAxis"&&i!=null&&i?.length>=2?Dr(i[0]-i[1])*2*p:p,h&&l?l.map((y,b)=>({coordinate:r(y)+p,value:y,index:b,offset:p})):r.domain().map((y,b)=>({coordinate:r(y)+p,value:a?a[y]:y,index:b,offset:p}))}}},Cs=se([St,Mn,q1,x3,_3,zne,qne,kn],Fne),H1=se([o3,l3,rne],(t,e,n)=>u3(n.shared,t,e)),E3=t=>t.tooltip.settings.trigger,K1=t=>t.tooltip.settings.defaultIndex,By=se([nf,H1,E3,K1],p3),Ql=se([By,rf],z1),S3=se([Cs,Ql],c3),T3=se([By],t=>{if(t)return t.dataKey}),A3=se([nf,H1,E3,K1],y3),Hne=se([Ss,Ts,St,Gn,Cs,K1,A3,Pd],g3),Kne=se([By,Hne],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Gne=se([By],t=>t.active),Wne=se([A3,Ql,Fo,Mn,S3,Pd,H1],v3),Yne=se([Wne],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(r){Xne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xne(t,e,n){return(e=Qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=Jne(t,"string");return typeof e=="symbol"?e:e+""}function Jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zne=()=>Le(Mn),ere=()=>{var t=Zne(),e=Le(Cs),n=Le(x3);return td(zN(zN({},t),{},{scale:n}),e)},tre=()=>Le(A1),G1=(t,e)=>e,O3=(t,e,n)=>n,W1=(t,e,n,r)=>r,nre=se(Cs,t=>cy(t,e=>e.coordinate)),Y1=se([nf,G1,O3,W1],p3),C3=se([Y1,rf],z1),rre=(t,e,n)=>{if(e!=null){var r=nf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},R3=se([nf,G1,O3,W1],y3),jg=se([Ss,Ts,St,Gn,Cs,W1,R3,Pd],g3),ire=se([Y1,jg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),P3=se(Cs,C3,c3),are=se([R3,C3,Fo,Mn,P3,Pd,G1],v3),sre=se([Y1],t=>({isActive:t.active,activeIndex:t.index})),ore=(t,e,n,r,i,a,l,u)=>{if(!(!t||!e||!r||!i||!a)){var f=xX(t.chartX,t.chartY,e,n,u);if(f){var h=SX(f,e),d=uX(h,l,a,r,i),p=EX(e,a,d,f);return{activeIndex:String(d),activeCoordinate:p}}}};function vx(){return vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vx.apply(null,arguments)}function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(n),!0).forEach(function(r){lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lre(t,e,n){return(e=ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=cre(t,"string");return typeof e=="symbol"?e:e+""}function cre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fre(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:l,cursor:u,tooltipEventType:f,chartName:h}=t,d=e,p=n,y=r;if(!u||!d||h!=="ScatterChart"&&f!=="axis")return null;var b,w;if(h==="ScatterChart")b=d,w=TQ;else if(h==="BarChart")b=AQ(l,d,i,a),w=b4;else if(l==="radial"){var{cx:x,cy:E,radius:A,startAngle:P,endAngle:C}=_4(d);b={cx:x,cy:E,startAngle:P,endAngle:C,innerRadius:A,outerRadius:A},w=x4}else b={points:cJ(l,d,i)},w=h4;var V=typeof u=="object"&&"className"in u?u.className:void 0,L=vp(vp(vp(vp({stroke:"#ccc",pointerEvents:"none"},i),b),on(u,!1)),{},{payload:p,payloadIndex:y,className:jt("recharts-tooltip-cursor",V)});return O.isValidElement(u)?O.cloneElement(u,L):O.createElement(w,L)}function hre(t){var e=ere(),n=u4(),r=wy(),i=tre();return O.createElement(fre,vx({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var N3=O.createContext(null),dre=()=>O.useContext(N3),D_={exports:{}},FN;function mre(){return FN||(FN=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,d){this.fn=f,this.context=h,this.once=d||!1}function a(f,h,d,p,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var b=new i(d,p||f,y),w=n?n+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],d,p;if(this._eventsCount===0)return h;for(p in d=this._events)e.call(d,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},u.prototype.listeners=function(h){var d=n?n+h:h,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,w=new Array(b);y<b;y++)w[y]=p[y].fn;return w},u.prototype.listenerCount=function(h){var d=n?n+h:h,p=this._events[d];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,d,p,y,b,w){var x=n?n+h:h;if(!this._events[x])return!1;var E=this._events[x],A=arguments.length,P,C;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),A){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,p),!0;case 4:return E.fn.call(E.context,d,p,y),!0;case 5:return E.fn.call(E.context,d,p,y,b),!0;case 6:return E.fn.call(E.context,d,p,y,b,w),!0}for(C=1,P=new Array(A-1);C<A;C++)P[C-1]=arguments[C];E.fn.apply(E.context,P)}else{var V=E.length,L;for(C=0;C<V;C++)switch(E[C].once&&this.removeListener(h,E[C].fn,void 0,!0),A){case 1:E[C].fn.call(E[C].context);break;case 2:E[C].fn.call(E[C].context,d);break;case 3:E[C].fn.call(E[C].context,d,p);break;case 4:E[C].fn.call(E[C].context,d,p,y);break;default:if(!P)for(L=1,P=new Array(A-1);L<A;L++)P[L-1]=arguments[L];E[C].fn.apply(E[C].context,P)}}return!0},u.prototype.on=function(h,d,p){return a(this,h,d,p,!1)},u.prototype.once=function(h,d,p){return a(this,h,d,p,!0)},u.prototype.removeListener=function(h,d,p,y){var b=n?n+h:h;if(!this._events[b])return this;if(!d)return l(this,b),this;var w=this._events[b];if(w.fn)w.fn===d&&(!y||w.once)&&(!p||w.context===p)&&l(this,b);else{for(var x=0,E=[],A=w.length;x<A;x++)(w[x].fn!==d||y&&!w[x].once||p&&w[x].context!==p)&&E.push(w[x]);E.length?this._events[b]=E.length===1?E[0]:E:l(this,b)}return this},u.prototype.removeAllListeners=function(h){var d;return h?(d=n?n+h:h,this._events[d]&&l(this,d)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(D_)),D_.exports}var pre=mre();const gre=ea(pre);var ld=new gre,bx="recharts.syncEvent.tooltip",HN="recharts.syncEvent.brush";function j3(t,e){if(e){var n=Number.parseInt(e,10);if(!ni(n))return t?.[n]}}var yre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},D3=si({name:"options",initialState:yre,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vre=D3.reducer,{createEventEmitter:bre}=D3.actions;function _re(t){return t.tooltip.syncInteraction}var wre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},I3=si({name:"chartData",initialState:wre,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:KN,setDataStartEndIndexes:xre,setComputedData:Hue}=I3.actions,Ere=I3.reducer,k3=()=>{};function Sre(){var t=Le(O1),e=Le(C1),n=En(),r=Le(_L),i=Le(Cs),a=wy(),l=XE(),u=Le(f=>f.rootProps.className);O.useEffect(()=>{if(t==null)return k3;var f=(h,d,p)=>{if(e!==p&&t===h){if(r==="index"){n(d);return}if(i!=null){var y;if(typeof r=="function"){var b={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},w=r(i,b);y=i[w]}else r==="value"&&(y=i.find(D=>String(D.value)===d.payload.label));var{coordinate:x}=d.payload;if(y==null||d.payload.active===!1||x==null||l==null){n(gx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:E,y:A}=x,P=Math.min(E,l.x+l.width),C=Math.min(A,l.y+l.height),V={x:a==="horizontal"?y.coordinate:P,y:a==="horizontal"?C:y.coordinate},L=gx({active:d.payload.active,coordinate:V,dataKey:d.payload.dataKey,index:String(y.index),label:d.payload.label});n(L)}}};return ld.on(bx,f),()=>{ld.off(bx,f)}},[u,n,e,t,r,i,a,l])}function Tre(){var t=Le(O1),e=Le(C1),n=En();O.useEffect(()=>{if(t==null)return k3;var r=(i,a,l)=>{e!==l&&t===i&&n(xre(a))};return ld.on(HN,r),()=>{ld.off(HN,r)}},[n,e,t])}function Are(){var t=En();O.useEffect(()=>{t(bre())},[t]),Sre(),Tre()}function Ore(t,e,n,r,i,a){var l=Le(y=>rre(y,t,e)),u=Le(C1),f=Le(O1),h=Le(_L),d=Le(_re),p=d?.active;O.useEffect(()=>{if(!p&&f!=null&&u!=null){var y=gx({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});ld.emit(bx,f,y,u)}},[p,n,l,i,r,u,f,h,a])}function GN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(n),!0).forEach(function(r){Cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cre(t,e,n){return(e=Rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rre(t){var e=Pre(t,"string");return typeof e=="symbol"?e:e+""}function Pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nre(t){return t.dataKey}function jre(t,e){return O.isValidElement(t)?O.cloneElement(t,e):typeof t=="function"?O.createElement(t,e):O.createElement(rQ,e)}var YN=[],Dre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Yc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function X1(t){var e=Ia(t,Dre),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:l,filterNull:u,isAnimationActive:f,offset:h,payloadUniqBy:d,position:p,reverseDirection:y,useTranslate3d:b,wrapperStyle:w,cursor:x,shared:E,trigger:A,defaultIndex:P,portal:C,axisId:V}=e,L=En(),D=typeof P=="number"?String(P):P;O.useEffect(()=>{L(one({shared:E,trigger:A,axisId:V,active:n,defaultIndex:D}))},[L,E,A,V,n,D]);var j=XE(),I=f4(),M=nne(E),{activeIndex:U,isActive:z}=Le(Ue=>sre(Ue,M,A,D)),q=Le(Ue=>are(Ue,M,A,D)),$=Le(Ue=>P3(Ue,M,A,D)),ve=Le(Ue=>ire(Ue,M,A,D)),we=q,G=dre(),re=n??z,[pe,xe]=DM([we,re]),H=M==="axis"?$:void 0;Ore(M,A,ve,H,U,re);var oe=C??G;if(oe==null)return null;var ie=we??YN;re||(ie=YN),u&&ie.length&&(ie=CM(we.filter(Ue=>Ue.value!=null&&(Ue.hide!==!0||e.includeHidden)),d,Nre));var me=ie.length>0,Ae=O.createElement(cQ,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:f,active:re,coordinate:ve,hasPayload:me,offset:h,position:p,reverseDirection:y,useTranslate3d:b,viewBox:j,wrapperStyle:w,lastBoundingBox:pe,innerRef:xe,hasPortalFromProps:!!C},jre(l,WN(WN({},e),{},{payload:ie,label:H,active:re,coordinate:ve,accessibilityLayer:I})));return O.createElement(O.Fragment,null,Ux.createPortal(Ae,oe),re&&O.createElement(hre,{cursor:x,tooltipEventType:M,coordinate:ve,payload:we,index:U}))}var I_={},k_={},M_={},XN;function Ire(){return XN||(XN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let l,u=null;const f=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),d=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},p=()=>{h&&d(),x()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},w=()=>{y!==null&&(clearTimeout(y),y=null)},x=()=>{w(),l=void 0,u=null},E=()=>{d()},A=function(...P){if(i?.aborted)return;l=this,u=P;const C=y==null;b(),f&&C&&d()};return A.schedule=b,A.cancel=x,A.flush=E,i?.addEventListener("abort",x,{once:!0}),A}t.debounce=e})(M_)),M_}var QN;function kre(){return QN||(QN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ire();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:f}=a,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let d,p=null;const y=e.debounce(function(...x){d=r.apply(this,x),p=null},i,{edges:h}),b=function(...x){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(d=r.apply(this,x),p=Date.now(),y.cancel(),y.schedule(),d):(y.apply(this,x),d)},w=()=>(y.flush(),d);return b.cancel=y.cancel,b.flush=w,b}t.debounce=n})(k_)),k_}var JN;function Mre(){return JN||(JN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kre();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(I_)),I_}var L_,ZN;function Lre(){return ZN||(ZN=1,L_=Mre().throttle),L_}var Ure=Lre();const Vre=ea(Ure);var kh=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(n),!0).forEach(function(r){$re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $re(t,e,n){return(e=Bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){var e=zre(t,"string");return typeof e=="symbol"?e:e+""}function zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zy=O.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:l=0,minHeight:u,maxHeight:f,children:h,debounce:d=0,id:p,className:y,onResize:b,style:w={}}=t,x=O.useRef(null),E=O.useRef();E.current=b,O.useImperativeHandle(e,()=>x.current);var[A,P]=O.useState({containerWidth:r.width,containerHeight:r.height}),C=O.useCallback((L,D)=>{P(j=>{var I=Math.round(L),M=Math.round(D);return j.containerWidth===I&&j.containerHeight===M?j:{containerWidth:I,containerHeight:M}})},[]);O.useEffect(()=>{var L=M=>{var U,{width:z,height:q}=M[0].contentRect;C(z,q),(U=E.current)===null||U===void 0||U.call(E,z,q)};d>0&&(L=Vre(L,d,{trailing:!0,leading:!1}));var D=new ResizeObserver(L),{width:j,height:I}=x.current.getBoundingClientRect();return C(j,I),D.observe(x.current),()=>{D.disconnect()}},[C,d]);var V=O.useMemo(()=>{var{containerWidth:L,containerHeight:D}=A;if(L<0||D<0)return null;kh(Il(i)||Il(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),kh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var j=Il(i)?L:i,I=Il(a)?D:a;return n&&n>0&&(j?I=j/n:I&&(j=I*n),f&&I>f&&(I=f)),kh(j>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,I,i,a,l,u,n),O.Children.map(h,M=>O.cloneElement(M,{width:j,height:I,style:U_({width:j,height:I},M.props.style)}))},[n,h,a,f,u,l,A,i]);return O.createElement("div",{id:p?"".concat(p):void 0,className:jt("recharts-responsive-container",y),style:U_(U_({},w),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:f}),ref:x},O.createElement("div",{style:{width:0,height:0,overflow:"visible"}},V))}),M3=t=>null;M3.displayName="Cell";function qre(t,e,n){return(e=Fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t){var e=Hre(t,"string");return typeof e=="symbol"?e:e+""}function Hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Kre{constructor(e){qre(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(n),!0).forEach(function(r){Wre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wre(t,e,n){return(e=Yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Xre(t,"string");return typeof e=="symbol"?e:e+""}function Xre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qre={cacheSize:2e3,enableCache:!0},L3=Gre({},Qre),nj=new Kre(L3.cacheSize),Jre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rj="recharts_measurement_span";function Zre(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var ij=(t,e)=>{try{var n=document.getElementById(rj);n||(n=document.createElement("span"),n.setAttribute("id",rj),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Jre,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Mh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Yc.isSsr)return{width:0,height:0};if(!L3.enableCache)return ij(e,n);var r=Zre(e,n),i=nj.get(r);if(i)return i;var a=ij(e,n);return nj.set(r,a),a},aj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,U3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nie=Object.keys(U3),gc="NaN";function rie(t,e){return t*U3[e]}class Pr{static parse(e){var n,[,r,i]=(n=tie.exec(e))!==null&&n!==void 0?n:[];return new Pr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ni(e)&&(this.unit=""),n!==""&&!eie.test(n)&&(this.num=NaN,this.unit=""),nie.includes(n)&&(this.num=rie(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Pr(NaN,""):new Pr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Pr(NaN,""):new Pr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Pr(NaN,""):new Pr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Pr(NaN,""):new Pr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ni(this.num)}}function V3(t){if(t.includes(gc))return gc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=aj.exec(e))!==null&&n!==void 0?n:[],l=Pr.parse(r??""),u=Pr.parse(a??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return gc;e=e.replace(aj,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,d,p,y]=(h=sj.exec(e))!==null&&h!==void 0?h:[],b=Pr.parse(d??""),w=Pr.parse(y??""),x=p==="+"?b.add(w):b.subtract(w);if(x.isNaN())return gc;e=e.replace(sj,x.toString())}return e}var oj=/\(([^()]*)\)/;function iie(t){for(var e=t,n;(n=oj.exec(e))!=null;){var[,r]=n;e=e.replace(oj,V3(r))}return e}function aie(t){var e=t.replace(/\s+/g,"");return e=iie(e),e=V3(e),e}function sie(t){try{return aie(t)}catch{return gc}}function V_(t){var e=sie(t.slice(5,-1));return e===gc?"":e}var oie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lie=["dx","dy","angle","className","breakAll"];function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_x.apply(null,arguments)}function lj(t,e){if(t==null)return{};var n,r,i=uie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $3=/[ \f\n\r\t\v\u2028\u2029]+/,B3=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Gt(e)||(n?i=e.toString().split(""):i=e.toString().split($3));var a=i.map(u=>({word:u,width:Mh(u,r).width})),l=n?0:Mh(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},cie=(t,e,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:f}=t,h=Re(a),d=l,p=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((q,$)=>{var{word:ve,width:we}=$,G=q[q.length-1];if(G&&(r==null||i||G.width+we+n<Number(r)))G.words.push(ve),G.width+=we+n;else{var re={words:[ve],width:we};q.push(re)}return q},[])},y=p(e),b=U=>U.reduce((z,q)=>z.width>q.width?z:q);if(!h||i)return y;var w=y.length>a||b(y).width>Number(r);if(!w)return y;for(var x="…",E=U=>{var z=d.slice(0,U),q=B3({breakAll:f,style:u,children:z+x}).wordsWithComputedWidth,$=p(q),ve=$.length>a||b($).width>Number(r);return[ve,$]},A=0,P=d.length-1,C=0,V;A<=P&&C<=d.length-1;){var L=Math.floor((A+P)/2),D=L-1,[j,I]=E(D),[M]=E(L);if(!j&&!M&&(A=L+1),j&&M&&(P=L-1),!j&&M){V=I;break}C++}return V||y},uj=t=>{var e=Gt(t)?[]:t.toString().split($3);return[{words:e}]},fie=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=t;if((e||n)&&!Yc.isSsr){var u,f,h=B3({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:d,spaceWidth:p}=h;u=d,f=p}else return uj(r);return cie({breakAll:a,children:r,maxLines:l,style:i},u,f,e,n)}return uj(r)},cj="#808080",Q1=O.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:f="end",fill:h=cj}=t,d=lj(t,oie),p=O.useMemo(()=>fie({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:y,dy:b,angle:w,className:x,breakAll:E}=d,A=lj(d,lie);if(!Na(n)||!Na(r))return null;var P=n+(Re(y)?y:0),C=r+(Re(b)?b:0),V;switch(f){case"start":V=V_("calc(".concat(a,")"));break;case"middle":V=V_("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:V=V_("calc(".concat(p.length-1," * -").concat(i,")"));break}var L=[];if(l){var D=p[0].width,{width:j}=d;L.push("scale(".concat(Re(j)?j/D:1,")"))}return w&&L.push("rotate(".concat(w,", ").concat(P,", ").concat(C,")")),L.length&&(A.transform=L.join(" ")),O.createElement("text",_x({},on(A,!0),{ref:e,x:P,y:C,className:jt("recharts-text",x),textAnchor:u,fill:h.includes("url")?cj:h}),p.map((I,M)=>{var U=I.words.join(E?"":" ");return O.createElement("tspan",{x:P,dy:M===0?V:i,key:"".concat(U,"-").concat(M)},U)}))});Q1.displayName="Text";var hie=["offset"],die=["labelRef"];function fj(t,e){if(t==null)return{};var n,r,i=mie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(n),!0).forEach(function(r){pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pie(t,e,n){return(e=gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gie(t){var e=yie(t,"string");return typeof e=="symbol"?e:e+""}function yie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(null,arguments)}var vie=t=>{var{value:e,formatter:n}=t,r=Gt(t.children)?e:t.children;return typeof n=="function"?n(r):r},J1=t=>t!=null&&typeof t=="function",bie=(t,e)=>{var n=Dr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},_ie=(t,e,n,r)=>{var{position:i,offset:a,className:l}=t,{cx:u,cy:f,innerRadius:h,outerRadius:d,startAngle:p,endAngle:y,clockWise:b}=r,w=(h+d)/2,x=bie(p,y),E=x>=0?1:-1,A,P;i==="insideStart"?(A=p+E*a,P=b):i==="insideEnd"?(A=y-E*a,P=!b):i==="end"&&(A=y+E*a,P=b),P=x<=0?P:!P;var C=ar(u,f,w,A),V=ar(u,f,w,A+(P?1:-1)*359),L="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(P?0:1,`,
    `).concat(V.x,",").concat(V.y),D=Gt(t.id)?Jh("recharts-radial-line-"):t.id;return O.createElement("text",ss({},n,{dominantBaseline:"central",className:jt("recharts-radial-bar-label",l)}),O.createElement("defs",null,O.createElement("path",{id:D,d:L})),O.createElement("textPath",{xlinkHref:"#".concat(D)},e))},wie=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:f}=t,h=(u+f)/2;if(n==="outside"){var{x:d,y:p}=ar(r,i,l+e,h);return{x:d,y:p,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+l)/2,{x:b,y:w}=ar(r,i,y,h);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},xie=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:a,y:l,width:u,height:f}=e,h=f>=0?1:-1,d=h*r,p=h>0?"end":"start",y=h>0?"start":"end",b=u>=0?1:-1,w=b*r,x=b>0?"end":"start",E=b>0?"start":"end";if(i==="top"){var A={x:a+u/2,y:l-h*r,textAnchor:"middle",verticalAnchor:p};return sn(sn({},A),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var P={x:a+u/2,y:l+f+d,textAnchor:"middle",verticalAnchor:y};return sn(sn({},P),n?{height:Math.max(n.y+n.height-(l+f),0),width:u}:{})}if(i==="left"){var C={x:a-w,y:l+f/2,textAnchor:x,verticalAnchor:"middle"};return sn(sn({},C),n?{width:Math.max(C.x-n.x,0),height:f}:{})}if(i==="right"){var V={x:a+u+w,y:l+f/2,textAnchor:E,verticalAnchor:"middle"};return sn(sn({},V),n?{width:Math.max(n.x+n.width-V.x,0),height:f}:{})}var L=n?{width:u,height:f}:{};return i==="insideLeft"?sn({x:a+w,y:l+f/2,textAnchor:E,verticalAnchor:"middle"},L):i==="insideRight"?sn({x:a+u-w,y:l+f/2,textAnchor:x,verticalAnchor:"middle"},L):i==="insideTop"?sn({x:a+u/2,y:l+d,textAnchor:"middle",verticalAnchor:y},L):i==="insideBottom"?sn({x:a+u/2,y:l+f-d,textAnchor:"middle",verticalAnchor:p},L):i==="insideTopLeft"?sn({x:a+w,y:l+d,textAnchor:E,verticalAnchor:y},L):i==="insideTopRight"?sn({x:a+u-w,y:l+d,textAnchor:x,verticalAnchor:y},L):i==="insideBottomLeft"?sn({x:a+w,y:l+f-d,textAnchor:E,verticalAnchor:p},L):i==="insideBottomRight"?sn({x:a+u-w,y:l+f-d,textAnchor:x,verticalAnchor:p},L):i&&typeof i=="object"&&(Re(i.x)||Il(i.x))&&(Re(i.y)||Il(i.y))?sn({x:a+Ji(i.x,u),y:l+Ji(i.y,f),textAnchor:"end",verticalAnchor:"end"},L):sn({x:a+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},L)},Eie=t=>"cx"in t&&Re(t.cx);function Zr(t){var{offset:e=5}=t,n=fj(t,hie),r=sn({offset:e},n),{viewBox:i,position:a,value:l,children:u,content:f,className:h="",textBreakAll:d,labelRef:p}=r,y=Le(TL),b=XE(),w=a==="center"?b:y??b,x=i||w;if(!x||Gt(l)&&Gt(u)&&!O.isValidElement(f)&&typeof f!="function")return null;var E=sn(sn({},r),{},{viewBox:x});if(O.isValidElement(f)){var{labelRef:A}=E,P=fj(E,die);return O.cloneElement(f,P)}var C;if(typeof f=="function"){if(C=O.createElement(f,E),O.isValidElement(C))return C}else C=vie(r);var V=Eie(x),L=on(r,!0);if(V&&(a==="insideStart"||a==="insideEnd"||a==="end"))return _ie(r,C,L,x);var D=V?wie(x,r.offset,r.position):xie(r,x);return O.createElement(Q1,ss({ref:p,className:jt("recharts-label",h)},L,D,{breakAll:d}),C)}Zr.displayName="Label";var z3=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:a,r:l,radius:u,innerRadius:f,outerRadius:h,x:d,y:p,top:y,left:b,width:w,height:x,clockWise:E,labelViewBox:A}=t;if(A)return A;if(Re(w)&&Re(x)){if(Re(d)&&Re(p))return{x:d,y:p,width:w,height:x};if(Re(y)&&Re(b))return{x:y,y:b,width:w,height:x}}if(Re(d)&&Re(p))return{x:d,y:p,width:0,height:0};if(Re(e)&&Re(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:f||0,outerRadius:h||u||l||0,clockWise:E};if(t.viewBox)return t.viewBox},Sie=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?O.createElement(Zr,ss({key:"label-implicit"},r)):Na(t)?O.createElement(Zr,ss({key:"label-implicit",value:t},r)):O.isValidElement(t)?t.type===Zr?O.cloneElement(t,sn({key:"label-implicit"},r)):O.createElement(Zr,ss({key:"label-implicit",content:t},r)):J1(t)?O.createElement(Zr,ss({key:"label-implicit",content:t},r)):t&&typeof t=="object"?O.createElement(Zr,ss({},t,{key:"label-implicit"},r)):null},Tie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:a}=e,l=z3(e),u=RE(i,Zr).map((h,d)=>O.cloneElement(h,{viewBox:n||l,key:"label-".concat(d)}));if(!r)return u;var f=Sie(e.label,n||l,a);return[f,...u]};Zr.parseViewBox=z3;Zr.renderCallByParent=Tie;var $_={},B_={},dj;function Aie(){return dj||(dj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(B_)),B_}var z_={},mj;function Oie(){return mj||(mj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(z_)),z_}var pj;function Cie(){return pj||(pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aie(),n=Oie(),r=LE();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})($_)),$_}var q_,gj;function Rie(){return gj||(gj=1,q_=Cie().last),q_}var Pie=Rie();const Nie=ea(Pie);var jie=["valueAccessor"],Die=["data","dataKey","clockWise","id","textBreakAll"];function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(null,arguments)}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){Iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iie(t,e,n){return(e=kie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kie(t){var e=Mie(t,"string");return typeof e=="symbol"?e:e+""}function Mie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bj(t,e){if(t==null)return{};var n,r,i=Lie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Uie=t=>Array.isArray(t.value)?Nie(t.value):t.value;function Ca(t){var{valueAccessor:e=Uie}=t,n=bj(t,jie),{data:r,dataKey:i,clockWise:a,id:l,textBreakAll:u}=n,f=bj(n,Die);return!r||!r.length?null:O.createElement(Zi,{className:"recharts-label-list"},r.map((h,d)=>{var p=Gt(i)?e(h,d):Kn(h&&h.payload,i),y=Gt(l)?{}:{id:"".concat(l,"-").concat(d)};return O.createElement(Zr,Dg({},on(h,!0),f,y,{parentViewBox:h.parentViewBox,value:p,textBreakAll:u,viewBox:Zr.parseViewBox(Gt(a)?h:vj(vj({},h),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Ca.displayName="LabelList";function Vie(t,e){return t?t===!0?O.createElement(Ca,{key:"labelList-implicit",data:e}):O.isValidElement(t)||J1(t)?O.createElement(Ca,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?O.createElement(Ca,Dg({data:e},t,{key:"labelList-implicit"})):null:null}function $ie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=RE(r,Ca).map((l,u)=>O.cloneElement(l,{data:e,key:"labelList-".concat(u)}));if(!n)return i;var a=Vie(t.label,e);return[a,...i]}Ca.renderCallByParent=$ie;function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(null,arguments)}var q3=t=>{var{cx:e,cy:n,r,className:i}=t,a=jt("recharts-dot",i);return e===+e&&n===+n&&r===+r?O.createElement("circle",wx({},ou(t),CE(t),{className:a,cx:e,cy:n,r})):null},Bie={radiusAxis:{},angleAxis:{}},F3=si({name:"polarAxis",initialState:Bie,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Kue,removeRadiusAxis:Gue,addAngleAxis:Wue,removeAngleAxis:Yue}=F3.actions,zie=F3.reducer,F_={},_j;function qie(){return _j||(_j=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(F_)),F_}var H_,wj;function Fie(){return wj||(wj=1,H_=qie().isPlainObject),H_}var Hie=Fie();const Kie=ea(Hie);function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(null,arguments)}var xj=(t,e,n,r,i)=>{var a=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-a/2,",").concat(e+i),l+="L ".concat(t+n-a/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},Gie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wie=t=>{var e=Ia(t,Gie),n=O.useRef(),[r,i]=O.useState(-1);O.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&i(E)}catch{}},[]);var{x:a,y:l,upperWidth:u,lowerWidth:f,height:h,className:d}=e,{animationEasing:p,animationDuration:y,animationBegin:b,isUpdateAnimationActive:w}=e;if(a!==+a||l!==+l||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var x=jt("recharts-trapezoid",d);return w?O.createElement(vg,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:h,x:a,y:l},to:{upperWidth:u,lowerWidth:f,height:h,x:a,y:l},duration:y,animationEasing:p,isActive:w},E=>{var{upperWidth:A,lowerWidth:P,height:C,x:V,y:L}=E;return O.createElement(vg,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:p},O.createElement("path",Ig({},on(e,!0),{className:x,d:xj(V,L,A,P,C),ref:n})))}):O.createElement("g",null,O.createElement("path",Ig({},on(e,!0),{className:x,d:xj(a,l,u,f,h)})))},Yie=["option","shapeType","propTransformer","activeClassName","isActive"];function Xie(t,e){if(t==null)return{};var n,r,i=Qie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){Jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jie(t,e,n){return(e=Zie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zie(t){var e=eae(t,"string");return typeof e=="symbol"?e:e+""}function eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tae(t,e){return kg(kg({},e),t)}function nae(t,e){return t==="symbols"}function Sj(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return O.createElement(b4,n);case"trapezoid":return O.createElement(Wie,n);case"sector":return O.createElement(x4,n);case"symbols":if(nae(e))return O.createElement(IE,n);break;default:return null}}function rae(t){return O.isValidElement(t)?t.props:t}function iae(t){var{option:e,shapeType:n,propTransformer:r=tae,activeClassName:i="recharts-active-shape",isActive:a}=t,l=Xie(t,Yie),u;if(O.isValidElement(e))u=O.cloneElement(e,kg(kg({},l),rae(e)));else if(typeof e=="function")u=e(l);else if(Kie(e)&&typeof e!="boolean"){var f=r(e,l);u=O.createElement(Sj,{shapeType:n,elementProps:f})}else{var h=l;u=O.createElement(Sj,{shapeType:n,elementProps:h})}return a?O.createElement(Zi,{className:i},u):u}var H3=(t,e)=>{var n=En();return(r,i)=>a=>{t?.(r,i,a),n(h3({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},K3=t=>{var e=En();return(n,r)=>i=>{t?.(n,r,i),e(lne())}},G3=(t,e)=>{var n=En();return(r,i)=>a=>{t?.(r,i,a),n(une({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function W3(t){var{fn:e,args:n}=t,r=En(),i=kr();return O.useEffect(()=>{if(!i){var a=e(n);return r(ane(a)),()=>{r(sne(a))}}},[e,n,r,i]),null}var aae=()=>{};function Y3(t){var{legendPayload:e}=t,n=En(),r=kr();return O.useEffect(()=>r?aae:(n(VX(e)),()=>{n($X(e))}),[n,r,e]),null}function X3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=O.useRef(Jh(e)),r=O.useRef(t);return r.current!==t&&(n.current=Jh(e),r.current=t),n.current}var K_,sae=()=>{var[t]=O.useState(()=>Jh("uid-"));return t},oae=(K_=cV.useId)!==null&&K_!==void 0?K_:sae;function lae(t,e){var n=oae();return e||(t?"".concat(t,"-").concat(n):n)}var uae=O.createContext(void 0),Q3=t=>{var{id:e,type:n,children:r}=t,i=lae("recharts-".concat(n),e);return O.createElement(uae.Provider,{value:i},r(i))},cae={cartesianItems:[],polarItems:[]},J3=si({name:"graphicalItems",initialState:cae,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=hs(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=hs(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=hs(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:fae,replaceCartesianGraphicalItem:hae,removeCartesianGraphicalItem:dae,addPolarGraphicalItem:Xue,removePolarGraphicalItem:Que}=J3.actions,mae=J3.reducer;function Z3(t){var e=En(),n=O.useRef(null);return O.useEffect(()=>{n.current===null?e(fae(t)):n.current!==t&&e(hae({prev:n.current,next:t})),n.current=t},[e,t]),O.useEffect(()=>()=>{n.current&&(e(dae(n.current)),n.current=null)},[e]),null}function pae(){}var gae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Tj={t:0},G_={t:1};function e6(t){var e=Ia(t,gae),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:f,children:h}=e,d=v4("JavascriptAnimate",e.animationManager),[p,y]=O.useState(n?Tj:G_),b=O.useRef(null);return O.useEffect(()=>{n||y(G_)},[n]),O.useEffect(()=>{if(!n||!r)return pae;var w=y4(Tj,G_,p4(a),i,y,d.getTimeoutController()),x=()=>{b.current=w()};return d.start([f,l,x,i,u]),()=>{d.stop(),b.current&&b.current(),u()}},[n,r,i,a,l,f,u,d]),h(p.t)}var yae=se([Gn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),vae=se([yae,Ss,Ts],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Z1=()=>Le(vae),bae=()=>Le(Yne);function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach(function(r){_ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ae(t,e,n){return(e=wae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wae(t){var e=xae(t,"string");return typeof e=="symbol"?e:e+""}function xae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eae=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l=Oj(Oj({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},on(i,!1)),CE(i)),u;return O.isValidElement(i)?u=O.cloneElement(i,l):typeof i=="function"?u=i(l):u=O.createElement(q3,l),O.createElement(Zi,{className:"recharts-active-dot"},u)};function Sae(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Le(Ql),l=bae();if(e==null||l==null)return null;var u=e.find(f=>l.includes(f.payload));return Gt(u)?null:Eae({point:u,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var Tae="Invariant failed";function Aae(t,e){throw new Error(Tae)}var Oae=["x","y"];function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xx.apply(null,arguments)}function Cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(n),!0).forEach(function(r){Cae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cae(t,e,n){return(e=Rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rae(t){var e=Pae(t,"string");return typeof e=="symbol"?e:e+""}function Pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nae(t,e){if(t==null)return{};var n,r,i=jae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dae(t,e){var{x:n,y:r}=t,i=Nae(t,Oae),a="".concat(n),l=parseInt(a,10),u="".concat(r),f=parseInt(u,10),h="".concat(e.height||i.height),d=parseInt(h,10),p="".concat(e.width||i.width),y=parseInt(p,10);return gh(gh(gh(gh(gh({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:d,width:y,name:e.name,radius:e.radius})}function t6(t){return O.createElement(iae,xx({shapeType:"rectangle",propTransformer:Dae,activeClassName:"recharts-active-bar"},t))}var Iae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Re(e))return e;var a=Re(r)||Gt(r);return a?e(r,i):(a||Aae(),n)}},kae={},n6=si({name:"errorBars",initialState:kae,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Jue,removeErrorBar:Zue}=n6.actions,Mae=n6.reducer,Lae=["children"];function Uae(t,e){if(t==null)return{};var n,r,i=Vae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $ae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Bae=O.createContext($ae);function r6(t){var{children:e}=t,n=Uae(t,Lae);return O.createElement(Bae.Provider,{value:n},e)}function eS(t,e){var n,r,i=Le(h=>Os(h,t)),a=Le(h=>Ho(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Yr.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Xr.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function i6(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Z1(),{needClipX:a,needClipY:l,needClip:u}=eS(e,n);if(!u)return null;var{x:f,y:h,width:d,height:p}=i;return O.createElement("clipPath",{id:"clipPath-".concat(r)},O.createElement("rect",{x:a?f:f-d/2,y:l?h:h-p/2,width:a?d:d*2,height:l?p:p*2}))}var zae=["onMouseEnter","onMouseLeave","onClick"],qae=["value","background","tooltipPosition"],Fae=["id"],Hae=["onMouseEnter","onClick","onMouseLeave"];function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zc.apply(null,arguments)}function Rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(n),!0).forEach(function(r){Kae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kae(t,e,n){return(e=Gae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gae(t){var e=Wae(t,"string");return typeof e=="symbol"?e:e+""}function Wae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mg(t,e){if(t==null)return{};var n,r,i=Yae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xae=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:yy(n,e),payload:t}]};function Qae(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:l,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:yy(a,e),hide:l,type:t.tooltipType,color:t.fill,unit:u}}}function Jae(t){var e=Le(Ql),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:l,onMouseLeave:u,onClick:f}=a,h=Mg(a,zae),d=H3(l,r),p=K3(u),y=G3(f,r);if(!i||n==null)return null;var b=on(i,!1);return O.createElement(O.Fragment,null,n.map((w,x)=>{var{value:E,background:A,tooltipPosition:P}=w,C=Mg(w,qae);if(!A)return null;var V=d(w,x),L=p(w,x),D=y(w,x),j=pr(pr(pr(pr(pr({option:i,isActive:String(x)===e},C),{},{fill:"#eee"},A),b),sy(h,w,x)),{},{onMouseEnter:V,onMouseLeave:L,onClick:D,dataKey:r,index:x,className:"recharts-bar-background-rectangle"});return O.createElement(t6,zc({key:"background-bar-".concat(x)},j))}))}function a6(t){var{data:e,props:n,showLabels:r}=t,i=ou(n),{id:a}=i,l=Mg(i,Fae),{shape:u,dataKey:f,activeBar:h}=n,d=Le(Ql),p=Le(T3),{onMouseEnter:y,onClick:b,onMouseLeave:w}=n,x=Mg(n,Hae),E=H3(y,f),A=K3(w),P=G3(b,f);return e?O.createElement(O.Fragment,null,e.map((C,V)=>{var L=h&&String(V)===d&&(p==null||f===p),D=L?h:u,j=pr(pr(pr({},l),C),{},{isActive:L,option:D,index:V,dataKey:f});return O.createElement(Zi,zc({className:"recharts-bar-rectangle"},sy(x,C,V),{onMouseEnter:E(C,V),onMouseLeave:A(C,V),onClick:P(C,V),key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(V)}),O.createElement(t6,j))}),r&&Ca.renderCallByParent(n,e)):null}function Zae(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:d}=e,p=n.current,y=X3(e,"recharts-bar-"),[b,w]=O.useState(!1),x=O.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),E=O.useCallback(()=>{typeof d=="function"&&d(),w(!0)},[d]);return O.createElement(e6,{begin:l,duration:u,isActive:a,easing:f,onAnimationEnd:x,onAnimationStart:E,key:y},A=>{var P=A===1?r:r?.map((C,V)=>{var L=p&&p[V];if(L)return pr(pr({},C),{},{x:Gi(L.x,C.x,A),y:Gi(L.y,C.y,A),width:Gi(L.width,C.width,A),height:Gi(L.height,C.height,A)});if(i==="horizontal"){var D=Gi(0,C.height,A);return pr(pr({},C),{},{y:C.y+C.height-D,height:D})}var j=Gi(0,C.width,A);return pr(pr({},C),{},{width:j})});return A>0&&(n.current=P??null),P==null?null:O.createElement(Zi,null,O.createElement(a6,{props:e,data:P,showLabels:!b}))})}function ese(t){var{data:e,isAnimationActive:n}=t,r=O.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?O.createElement(Zae,{previousRectanglesRef:r,props:t}):O.createElement(a6,{props:t,data:e,showLabels:!0})}var s6=0,tse=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Kn(t,e)}};class nse extends O.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:l,needClip:u,background:f,id:h}=this.props;if(e)return null;var d=jt("recharts-bar",i),p=h;return O.createElement(Zi,{className:d,id:h},u&&O.createElement("defs",null,O.createElement(i6,{clipPathId:p,xAxisId:a,yAxisId:l})),O.createElement(Zi,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},O.createElement(Jae,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),O.createElement(ese,this.props)),this.props.children)}}var rse={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Yc.isSsr,legendType:"rect",minPointSize:s6,xAxisId:0,yAxisId:0};function ise(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:d}=t,{needClip:p}=eS(e,n),y=wy(),b=kr(),w=RE(t.children,M3),x=Le(P=>Nse(P,e,n,b,t.id,w));if(y!=="vertical"&&y!=="horizontal")return null;var E,A=x?.[0];return A==null||A.height==null||A.width==null?E=0:E=y==="vertical"?A.height/2:A.width/2,O.createElement(r6,{xAxisId:e,yAxisId:n,data:x,dataPointFormatter:tse,errorBarOffset:E},O.createElement(nse,zc({},t,{layout:y,needClip:p,data:x,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:d})))}function ase(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:d,displayedData:p,offset:y,cells:b}=t,w=e==="horizontal"?u:l,x=d?w.scale.domain():null,E=vX({numericAxis:w});return p.map((A,P)=>{var C,V,L,D,j,I;d?C=hX(d[P],x):(C=Kn(A,n),Array.isArray(C)||(C=[E,C]));var M=Iae(r,s6)(C[1],P);if(e==="horizontal"){var U,[z,q]=[u.scale(C[0]),u.scale(C[1])];V=g2({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:A,index:P}),L=(U=q??z)!==null&&U!==void 0?U:void 0,D=i.size;var $=z-q;if(j=ni($)?0:$,I={x:V,y:y.top,width:D,height:y.height},Math.abs(M)>0&&Math.abs(j)<Math.abs(M)){var ve=Dr(j||M)*(Math.abs(M)-Math.abs(j));L-=ve,j+=ve}}else{var[we,G]=[l.scale(C[0]),l.scale(C[1])];if(V=we,L=g2({axis:u,ticks:h,bandSize:a,offset:i.offset,entry:A,index:P}),D=G-we,j=i.size,I={x:y.left,y:L,width:y.width,height:j},Math.abs(M)>0&&Math.abs(D)<Math.abs(M)){var re=Dr(D||M)*(Math.abs(M)-Math.abs(D));D+=re}}if(V==null||L==null||D==null||j==null)return null;var pe=pr(pr({},A),{},{x:V,y:L,width:D,height:j,value:d?C:C[1],payload:A,background:I,tooltipPosition:{x:V+D/2,y:L+j/2}},b&&b[P]&&b[P].props);return pe}).filter(Boolean)}function qy(t){var e=Ia(t,rse),n=kr();return O.createElement(Q3,{id:e.id,type:"bar"},r=>O.createElement(O.Fragment,null,O.createElement(Y3,{legendPayload:Xae(e)}),O.createElement(W3,{fn:Qae,args:e}),O.createElement(Z3,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:yX(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),O.createElement(ise,zc({},e,{id:r}))))}qy.displayName="Bar";function Pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(n),!0).forEach(function(r){sse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sse(t,e,n){return(e=ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=lse(t,"string");return typeof e=="symbol"?e:e+""}function lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var use=(t,e)=>e,cse=(t,e,n)=>n,fse=(t,e,n,r)=>r,hse=(t,e,n,r,i)=>i,jd=se([My,hse],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),dse=se([jd],t=>t?.maxBarSize),mse=(t,e,n,r,i,a)=>a,Nj=(t,e,n)=>{var r=n??t;if(!Gt(r))return Ji(r,e,0)},pse=se([St,My,use,cse,fse],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),gse=(t,e,n,r)=>{var i=St(t);return i==="horizontal"?px(t,"yAxis",n,r):px(t,"xAxis",e,r)},yse=(t,e,n)=>{var r=St(t);return r==="horizontal"?MN(t,"xAxis",e):MN(t,"yAxis",n)},vse=(t,e,n)=>{var r={},i=t.filter(ky),a=t.filter(h=>h.stackId==null),l=i.reduce((h,d)=>(h[d.stackId]||(h[d.stackId]=[]),h[d.stackId].push(d),h),r),u=Object.entries(l).map(h=>{var[d,p]=h,y=p.map(w=>w.dataKey),b=Nj(e,n,p[0].barSize);return{stackId:d,dataKeys:y,barSize:b}}),f=a.map(h=>{var d=[h.dataKey].filter(y=>y!=null),p=Nj(e,n,h.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...u,...f]},bse=se([pse,ate,yse],vse),_se=(t,e,n,r,i)=>{var a,l,u=jd(t,e,n,r,i);if(u!=null){var f=St(t),h=vL(t),{maxBarSize:d}=u,p=Gt(d)?h:d,y,b;return f==="horizontal"?(y=Mo(t,"xAxis",e,r),b=ko(t,"xAxis",e,r)):(y=Mo(t,"yAxis",n,r),b=ko(t,"yAxis",n,r)),(a=(l=td(y,b,!0))!==null&&l!==void 0?l:p)!==null&&a!==void 0?a:0}},o6=(t,e,n,r)=>{var i=St(t),a,l;return i==="horizontal"?(a=Mo(t,"xAxis",e,r),l=ko(t,"xAxis",e,r)):(a=Mo(t,"yAxis",n,r),l=ko(t,"yAxis",n,r)),td(a,l)};function wse(t,e,n,r,i){var a=r.length;if(!(a<1)){var l=Ji(t,n,0,!0),u,f=[];if(ai(r[0].barSize)){var h=!1,d=n/a,p=r.reduce((A,P)=>A+(P.barSize||0),0);p+=(a-1)*l,p>=n&&(p-=(a-1)*l,l=0),p>=n&&d>0&&(h=!0,d*=.9,p=a*d);var y=(n-p)/2>>0,b={offset:y-l,size:0};u=r.reduce((A,P)=>{var C,V={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:b.offset+b.size+l,size:h?d:(C=P.barSize)!==null&&C!==void 0?C:0}},L=[...A,V];return b=L[L.length-1].position,L},f)}else{var w=Ji(e,n,0,!0);n-2*w-(a-1)*l<=0&&(l=0);var x=(n-2*w-(a-1)*l)/a;x>1&&(x>>=0);var E=ai(i)?Math.min(x,i):x;u=r.reduce((A,P,C)=>[...A,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:w+(x+l)*C+(x-E)/2,size:E}}],f)}return u}}var xse=(t,e,n,r,i,a,l)=>{var u=Gt(l)?e:l,f=wse(n,r,i!==a?i:a,t,u);return i!==a&&f!=null&&(f=f.map(h=>bp(bp({},h),{},{position:bp(bp({},h.position),{},{offset:h.position.offset-i/2})}))),f},Ese=se([bse,vL,ite,bL,_se,o6,dse],xse),Sse=(t,e,n,r)=>Mo(t,"xAxis",e,r),Tse=(t,e,n,r)=>Mo(t,"yAxis",n,r),Ase=(t,e,n,r)=>ko(t,"xAxis",e,r),Ose=(t,e,n,r)=>ko(t,"yAxis",n,r),Cse=se([Ese,jd],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Rse=(t,e)=>{var n=j1(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===n)}}}},Pse=se([gse,jd],Rse),Nse=se([Gn,Sse,Tse,Ase,Ose,Cse,St,Ry,o6,Pse,jd,mse],(t,e,n,r,i,a,l,u,f,h,d,p)=>{var{chartData:y,dataStartIndex:b,dataEndIndex:w}=u;if(!(d==null||a==null||l!=="horizontal"&&l!=="vertical"||e==null||n==null||r==null||i==null||f==null)){var{data:x}=d,E;if(x!=null&&x.length>0?E=x:E=y?.slice(b,w+1),E!=null)return ase({layout:l,barSettings:d,pos:a,bandSize:f,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:h,displayedData:E,offset:t,cells:p})}}),jse=t=>{var{chartData:e}=t,n=En(),r=kr();return O.useEffect(()=>r?()=>{}:(n(KN(e)),()=>{n(KN(void 0))}),[e,n,r]),null},jj={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},l6=si({name:"brush",initialState:jj,reducers:{setBrushSettings(t,e){return e.payload==null?jj:e.payload}}}),{setBrushSettings:ece}=l6.actions,Dse=l6.reducer;function Ise(t,e,n){return(e=kse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kse(t){var e=Mse(t,"string");return typeof e=="symbol"?e:e+""}function Mse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tS{static create(e){return new tS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Ise(tS,"EPS",1e-4);function Lse(t){return(t%180+180)%180}var Use=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Lse(i),l=a*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},Vse={dots:[],areas:[],lines:[]},u6=si({name:"referenceElements",initialState:Vse,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=hs(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=hs(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=hs(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:tce,removeDot:nce,addArea:rce,removeArea:ice,addLine:ace,removeLine:sce}=u6.actions,$se=u6.reducer,Bse=O.createContext(void 0),zse=t=>{var{children:e}=t,[n]=O.useState("".concat(Jh("recharts"),"-clip")),r=Z1();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return O.createElement(Bse.Provider,{value:n},O.createElement("defs",null,O.createElement("clipPath",{id:n},O.createElement("rect",{x:i,y:a,height:u,width:l}))),e)};function W_(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function c6(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function qse(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Use(r,n)}function Fse(t,e,n){var r=n==="width",{x:i,y:a,width:l,height:u}=t;return e===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function Lg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Hse(t,e){return c6(t,e+1)}function Kse(t,e,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=e,f=0,h=1,d=l,p=function(){var w=r?.[f];if(w===void 0)return{v:c6(r,h)};var x=f,E,A=()=>(E===void 0&&(E=n(w,x)),E),P=w.coordinate,C=f===0||Lg(t,P,A,d,u);C||(f=0,d=l,h+=1),C&&(d=P+t*(A()/2+i),f+=h)},y;h<=a.length;)if(y=p(),y)return y.v;return[]}function Dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dj(Object(n),!0).forEach(function(r){Gse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gse(t,e,n){return(e=Wse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wse(t){var e=Yse(t,"string");return typeof e=="symbol"?e:e+""}function Yse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xse(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=e,{end:f}=e,h=function(y){var b=a[y],w,x=()=>(w===void 0&&(w=n(b,y)),w);if(y===l-1){var E=t*(b.coordinate+t*x()/2-f);a[y]=b=fr(fr({},b),{},{tickCoord:E>0?b.coordinate-E*t:b.coordinate})}else a[y]=b=fr(fr({},b),{},{tickCoord:b.coordinate});var A=Lg(t,b.tickCoord,x,u,f);A&&(f=b.tickCoord-t*(x()/2+i),a[y]=fr(fr({},b),{},{isShow:!0}))},d=l-1;d>=0;d--)h(d);return a}function Qse(t,e,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:f,end:h}=e;if(a){var d=r[u-1],p=n(d,u-1),y=t*(d.coordinate+t*p/2-h);l[u-1]=d=fr(fr({},d),{},{tickCoord:y>0?d.coordinate-y*t:d.coordinate});var b=Lg(t,d.tickCoord,()=>p,f,h);b&&(h=d.tickCoord-t*(p/2+i),l[u-1]=fr(fr({},d),{},{isShow:!0}))}for(var w=a?u-1:u,x=function(P){var C=l[P],V,L=()=>(V===void 0&&(V=n(C,P)),V);if(P===0){var D=t*(C.coordinate-t*L()/2-f);l[P]=C=fr(fr({},C),{},{tickCoord:D<0?C.coordinate-D*t:C.coordinate})}else l[P]=C=fr(fr({},C),{},{tickCoord:C.coordinate});var j=Lg(t,C.tickCoord,L,f,h);j&&(f=C.tickCoord+t*(L()/2+i),l[P]=fr(fr({},C),{},{isShow:!0}))},E=0;E<w;E++)x(E);return l}function nS(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:f,tickFormatter:h,unit:d,angle:p}=t;if(!i||!i.length||!r)return[];if(Re(f)||Yc.isSsr){var y;return(y=Hse(i,Re(f)?f:0))!==null&&y!==void 0?y:[]}var b=[],w=u==="top"||u==="bottom"?"width":"height",x=d&&w==="width"?Mh(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(C,V)=>{var L=typeof h=="function"?h(C.value,V):C.value;return w==="width"?qse(Mh(L,{fontSize:e,letterSpacing:n}),x,p):Mh(L,{fontSize:e,letterSpacing:n})[w]},A=i.length>=2?Dr(i[1].coordinate-i[0].coordinate):1,P=Fse(a,A,w);return f==="equidistantPreserveStart"?Kse(A,P,E,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=Qse(A,P,E,i,l,f==="preserveStartEnd"):b=Xse(A,P,E,i,l),b.filter(C=>C.isShow))}var Jse=["viewBox"],Zse=["viewBox"];function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(null,arguments)}function Ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ij(Object(n),!0).forEach(function(r){rS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kj(t,e){if(t==null)return{};var n,r,i=eoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rS(t,e,n){return(e=toe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function toe(t){var e=noe(t,"string");return typeof e=="symbol"?e:e+""}function noe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ko extends O.Component{constructor(e){super(e),this.tickRefs=O.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=kj(e,Jse),a=this.props,{viewBox:l}=a,u=kj(a,Zse);return!W_(r,l)||!W_(i,u)||!W_(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:a,orientation:l,tickSize:u,mirror:f,tickMargin:h}=this.props,d,p,y,b,w,x,E=f?-1:1,A=e.tickSize||u,P=Re(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":d=p=e.coordinate,b=r+ +!f*a,y=b-E*A,x=y-E*h,w=P;break;case"left":y=b=e.coordinate,p=n+ +!f*i,d=p-E*A,w=d-E*h,x=P;break;case"right":y=b=e.coordinate,p=n+ +f*i,d=p+E*A,w=d+E*h,x=P;break;default:d=p=e.coordinate,b=r+ +f*a,y=b+E*A,x=y+E*h,w=P;break}return{line:{x1:d,y1:y,x2:p,y2:b},tick:{x:w,y:x}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u}=this.props,f=Rn(Rn(Rn({},on(this.props,!1)),on(u,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!l||a==="bottom"&&l);f=Rn(Rn({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var d=+(a==="left"&&!l||a==="right"&&l);f=Rn(Rn({},f),{},{x1:e+d*r,y1:n,x2:e+d*r,y2:n+i})}return O.createElement("line",yc({},f,{className:jt("recharts-cartesian-axis-line",Gl(u,"className"))}))}static renderTickItem(e,n,r){var i,a=jt(n.className,"recharts-cartesian-axis-tick-value");if(O.isValidElement(e))i=O.cloneElement(e,Rn(Rn({},n),{},{className:a}));else if(typeof e=="function")i=e(Rn(Rn({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=jt(l,e.className)),i=O.createElement(Q1,yc({},n,{className:l}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:l,tickFormatter:u,unit:f,padding:h}=this.props,d=nS(Rn(Rn({},this.props),{},{ticks:r}),e,n),p=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=ou(this.props),w=on(l,!1),x=Rn(Rn({},b),{},{fill:"none"},on(i,!1)),E=d.map((A,P)=>{var{line:C,tick:V}=this.getTickLineCoord(A),L=Rn(Rn(Rn(Rn({textAnchor:p,verticalAnchor:y},b),{},{stroke:"none",fill:a},w),V),{},{index:P,payload:A,visibleTicksCount:d.length,tickFormatter:u,padding:h});return O.createElement(Zi,yc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},sy(this.props,A,P)),i&&O.createElement("line",yc({},x,C,{className:jt("recharts-cartesian-axis-tick-line",Gl(i,"className"))})),l&&Ko.renderTickItem(l,L,"".concat(typeof u=="function"?u(A.value,P):A.value).concat(f||"")))});return E.length>0?O.createElement("g",{className:"recharts-cartesian-axis-ticks"},E):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:a}=this.props;if(a)return null;var{ticks:l}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:O.createElement(Zi,{className:jt("recharts-cartesian-axis",i),ref:u=>{if(u){var f=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var h=f[0];if(h){var d=window.getComputedStyle(h).fontSize,p=window.getComputedStyle(h).letterSpacing;(d!==this.state.fontSize||p!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),Zr.renderCallByParent(this.props))}}rS(Ko,"displayName","CartesianAxis");rS(Ko,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var roe=["x1","y1","x2","y2","key"],ioe=["offset"],aoe=["xAxisId","yAxisId"],soe=["xAxisId","yAxisId"];function Mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(n),!0).forEach(function(r){ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ooe(t,e,n){return(e=loe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function loe(t){var e=uoe(t,"string");return typeof e=="symbol"?e:e+""}function uoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ul.apply(null,arguments)}function Ug(t,e){if(t==null)return{};var n,r,i=coe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function coe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var foe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=t;return O.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function f6(t,e){var n;if(O.isValidElement(t))n=O.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:l,key:u}=e,f=Ug(e,roe),h=ou(f),{offset:d}=h,p=Ug(h,ioe);n=O.createElement("line",Ul({},p,{x1:r,y1:i,x2:a,y2:l,fill:"none",key:u}))}return n}function hoe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,u=Ug(t,aoe),f=i.map((h,d)=>{var p=gr(gr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(d),index:d});return f6(r,p)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function doe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,u=Ug(t,soe),f=i.map((h,d)=>{var p=gr(gr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(d),index:d});return f6(r,p)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function moe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length)return null;var h=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==h[0]&&h.unshift(0);var d=h.map((p,y)=>{var b=!h[y+1],w=b?i+l-p:h[y+1]-p;if(w<=0)return null;var x=y%e.length;return O.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:w,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function poe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==h[0]&&h.unshift(0);var d=h.map((p,y)=>{var b=!h[y+1],w=b?i+l-p:h[y+1]-p;if(w<=0)return null;var x=y%n.length;return O.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:w,height:u,stroke:"none",fill:n[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var goe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return a4(nS(gr(gr(gr({},Ko.defaultProps),n),{},{ticks:s4(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},yoe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return a4(nS(gr(gr(gr({},Ko.defaultProps),n),{},{ticks:s4(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},voe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function h6(t){var e=QE(),n=JE(),r=u4(),i=gr(gr({},Ia(t,voe)),{},{x:Re(t.x)?t.x:r.left,y:Re(t.y)?t.y:r.top,width:Re(t.width)?t.width:r.width,height:Re(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:f,width:h,height:d,syncWithTicks:p,horizontalValues:y,verticalValues:b}=i,w=kr(),x=Le(M=>LN(M,"xAxis",a,w)),E=Le(M=>LN(M,"yAxis",l,w));if(!Re(h)||h<=0||!Re(d)||d<=0||!Re(u)||u!==+u||!Re(f)||f!==+f)return null;var A=i.verticalCoordinatesGenerator||goe,P=i.horizontalCoordinatesGenerator||yoe,{horizontalPoints:C,verticalPoints:V}=i;if((!C||!C.length)&&typeof P=="function"){var L=y&&y.length,D=P({yAxis:E?gr(gr({},E),{},{ticks:L?y:E.ticks}):void 0,width:e,height:n,offset:r},L?!0:p);kh(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(C=D)}if((!V||!V.length)&&typeof A=="function"){var j=b&&b.length,I=A({xAxis:x?gr(gr({},x),{},{ticks:j?b:x.ticks}):void 0,width:e,height:n,offset:r},j?!0:p);kh(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(V=I)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(foe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),O.createElement(moe,Ul({},i,{horizontalPoints:C})),O.createElement(poe,Ul({},i,{verticalPoints:V})),O.createElement(hoe,Ul({},i,{offset:r,horizontalPoints:C,xAxis:x,yAxis:E})),O.createElement(doe,Ul({},i,{offset:r,verticalPoints:V,xAxis:x,yAxis:E})))}h6.displayName="CartesianGrid";var d6=(t,e,n,r)=>Mo(t,"xAxis",e,r),m6=(t,e,n,r)=>ko(t,"xAxis",e,r),p6=(t,e,n,r)=>Mo(t,"yAxis",n,r),g6=(t,e,n,r)=>ko(t,"yAxis",n,r),boe=se([St,d6,p6,m6,g6],(t,e,n,r,i)=>Bo(t,"xAxis")?td(e,r,!1):td(n,i,!1)),_oe=(t,e,n,r,i)=>i;function woe(t){return t.type==="line"}var xoe=se([My,_oe],(t,e)=>t.filter(woe).find(n=>n.id===e)),Eoe=se([St,d6,p6,m6,g6,xoe,boe,Ry],(t,e,n,r,i,a,l,u)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:d}=u;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:p,data:y}=a,b;if(y!=null&&y.length>0?b=y:b=f?.slice(h,d+1),b!=null)return Foe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:b})}}),Soe=["id"],Toe=["type","layout","connectNulls","needClip"],Aoe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(n),!0).forEach(function(r){Ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ooe(t,e,n){return(e=Coe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Coe(t){var e=Roe(t,"string");return typeof e=="symbol"?e:e+""}function Roe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iS(t,e){if(t==null)return{};var n,r,i=Poe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Poe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(null,arguments)}var Noe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:yy(n,e),payload:t}]};function joe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:f}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:yy(l,e),hide:u,type:t.tooltipType,color:t.stroke,unit:f}}}var y6=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Doe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Ioe=(t,e,n)=>{var r=n.reduce((p,y)=>p+y);if(!r)return y6(e,t);for(var i=Math.floor(t/r),a=t%r,l=e-t,u=[],f=0,h=0;f<n.length;h+=n[f],++f)if(h+n[f]>a){u=[...n.slice(0,f),a-h];break}var d=u.length%2===0?[0,l]:[l];return[...Doe(n,i),...u,...d].map(p=>"".concat(p,"px")).join(", ")};function koe(t,e){var n;if(O.isValidElement(t))n=O.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=jt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=O.createElement(q3,Jl({},e,{className:r}))}return n}function Moe(t,e){return t==null?!1:e?!0:t.length===1}function Loe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:l}=r;if(!Moe(n,i))return null;var{id:u}=r,f=iS(r,Soe),h=rM(i),d=ou(f),p=on(i,!0),y=n.map((w,x)=>{var E=Wi(Wi(Wi({key:"dot-".concat(x),r:3},d),p),{},{index:x,cx:w.x,cy:w.y,dataKey:a,value:w.value,payload:w.payload,points:n});return koe(i,E)}),b={clipPath:l?"url(#clipPath-".concat(h?"":"dots-").concat(e,")"):void 0};return O.createElement(Zi,Jl({className:"recharts-line-dots",key:"dots"},b),y)}function Ex(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a,showLabels:l}=t,{type:u,layout:f,connectNulls:h,needClip:d}=a,p=iS(a,Toe),y=Wi(Wi({},on(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:u,layout:f,connectNulls:h,strokeDasharray:i??a.strokeDasharray});return O.createElement(O.Fragment,null,r?.length>1&&O.createElement(h4,Jl({},y,{pathRef:n})),O.createElement(Loe,{points:r,clipPathId:e,props:a}),l&&Ca.renderCallByParent(a,r))}function Uoe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Voe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:u,isAnimationActive:f,animationBegin:h,animationDuration:d,animationEasing:p,animateNewValues:y,width:b,height:w,onAnimationEnd:x,onAnimationStart:E}=n,A=i.current,P=X3(n,"recharts-line-"),[C,V]=O.useState(!1),L=O.useCallback(()=>{typeof x=="function"&&x(),V(!1)},[x]),D=O.useCallback(()=>{typeof E=="function"&&E(),V(!0)},[E]),j=Uoe(r.current),I=a.current;return O.createElement(e6,{begin:h,duration:d,isActive:f,easing:p,onAnimationEnd:L,onAnimationStart:D,key:P},M=>{var U=Gi(I,j+I,M),z=Math.min(U,j),q;if(u){var $="".concat(u).split(/[,\s]+/gim).map(G=>parseFloat(G));q=Ioe(z,j,$)}else q=y6(j,z);if(A){var ve=A.length/l.length,we=M===1?l:l.map((G,re)=>{var pe=Math.floor(re*ve);if(A[pe]){var xe=A[pe];return Wi(Wi({},G),{},{x:Gi(xe.x,G.x,M),y:Gi(xe.y,G.y,M)})}return y?Wi(Wi({},G),{},{x:Gi(b*2,G.x,M),y:Gi(w/2,G.y,M)}):Wi(Wi({},G),{},{x:G.x,y:G.y})});return i.current=we,O.createElement(Ex,{props:n,points:we,clipPathId:e,pathRef:r,showLabels:!C,strokeDasharray:q})}return M>0&&j>0&&(i.current=l,a.current=z),O.createElement(Ex,{props:n,points:l,clipPathId:e,pathRef:r,showLabels:!C,strokeDasharray:q})})}function $oe(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:i}=n,a=O.useRef(null),l=O.useRef(0),u=O.useRef(null),f=a.current;return i&&r&&r.length&&f!==r?O.createElement(Voe,{props:n,clipPathId:e,previousPointsRef:a,longestAnimatedLengthRef:l,pathRef:u}):O.createElement(Ex,{props:n,points:r,clipPathId:e,pathRef:u,showLabels:!0})}var Boe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Kn(t.payload,e)});class zoe extends O.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:l,yAxisId:u,top:f,left:h,width:d,height:p,id:y,needClip:b}=this.props;if(n)return null;var w=jt("recharts-line",a),x=y,{r:E=3,strokeWidth:A=2}=(e=on(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},P=rM(r),C=E*2+A;return O.createElement(O.Fragment,null,O.createElement(Zi,{className:w},b&&O.createElement("defs",null,O.createElement(i6,{clipPathId:x,xAxisId:l,yAxisId:u}),!P&&O.createElement("clipPath",{id:"clipPath-dots-".concat(x)},O.createElement("rect",{x:h-C/2,y:f-C/2,width:d+C,height:p+C}))),O.createElement($oe,{props:this.props,clipPathId:x}),O.createElement(r6,{xAxisId:l,yAxisId:u,data:i,dataPointFormatter:Boe,errorBarOffset:0},this.props.children)),O.createElement(Sae,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var v6={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Yc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function qoe(t){var e=Ia(t,v6),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:f,hide:h,isAnimationActive:d,label:p,legendType:y,xAxisId:b,yAxisId:w,id:x}=e,E=iS(e,Aoe),{needClip:A}=eS(b,w),P=Z1(),C=wy(),V=kr(),L=Le(U=>Eoe(U,b,w,V,x));if(C!=="horizontal"&&C!=="vertical"||L==null||P==null)return null;var{height:D,width:j,x:I,y:M}=P;return O.createElement(zoe,Jl({},E,{id:x,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:d,hide:h,label:p,legendType:y,xAxisId:b,yAxisId:w,points:L,layout:C,height:D,width:j,left:I,top:M,needClip:A}))}function Foe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:u,displayedData:f}=t;return f.map((h,d)=>{var p=Kn(h,l);if(e==="horizontal"){var y=p2({axis:n,ticks:i,bandSize:u,entry:h,index:d}),b=Gt(p)?null:r.scale(p);return{x:y,y:b,value:p,payload:h}}var w=Gt(p)?null:n.scale(p),x=p2({axis:r,ticks:a,bandSize:u,entry:h,index:d});return w==null||x==null?null:{x:w,y:x,value:p,payload:h}}).filter(Boolean)}function b6(t){var e=Ia(t,v6),n=kr();return O.createElement(Q3,{id:e.id,type:"line"},r=>O.createElement(O.Fragment,null,O.createElement(Y3,{legendPayload:Noe(e)}),O.createElement(W3,{fn:joe,args:e}),O.createElement(Z3,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),O.createElement(qoe,Jl({},e,{id:r}))))}b6.displayName="Line";function Uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uj(Object(n),!0).forEach(function(r){Hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hoe(t,e,n){return(e=Koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Koe(t){var e=Goe(t,"string");return typeof e=="symbol"?e:e+""}function Goe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Woe={xAxis:{},yAxis:{},zAxis:{}},_6=si({name:"cartesianAxis",initialState:Woe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=Vj(Vj({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Yoe,removeXAxis:Xoe,addYAxis:Qoe,removeYAxis:Joe,addZAxis:oce,removeZAxis:lce,updateYAxisWidth:Zoe}=_6.actions,ele=_6.reducer,tle=["children"],nle=["dangerouslySetInnerHTML","ticks"];function w6(t,e,n){return(e=rle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rle(t){var e=ile(t,"string");return typeof e=="symbol"?e:e+""}function ile(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sx.apply(null,arguments)}function x6(t,e){if(t==null)return{};var n,r,i=ale(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ale(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sle(t){var e=En(),n=O.useMemo(()=>{var{children:a}=t,l=x6(t,tle);return l},[t]),r=Le(a=>Os(a,n.id)),i=n===r;return O.useEffect(()=>(e(Yoe(n)),()=>{e(Xoe(n))}),[n,e]),i?t.children:null}var ole=t=>{var{xAxisId:e,className:n}=t,r=Le(l4),i=kr(),a="xAxis",l=Le(b=>tf(b,a,e,i)),u=Le(b=>s3(b,a,e,i)),f=Le(b=>n3(b,e)),h=Le(b=>Xte(b,e));if(f==null||h==null)return null;var{dangerouslySetInnerHTML:d,ticks:p}=t,y=x6(t,nle);return O.createElement(Ko,Sx({},y,{scale:l,x:h.x,y:h.y,width:f.width,height:f.height,className:jt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u}))},lle=t=>{var e,n,r,i,a;return O.createElement(sle,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter},O.createElement(ole,t))};class af extends O.Component{render(){return O.createElement(lle,this.props)}}w6(af,"displayName","XAxis");w6(af,"defaultProps",{allowDataOverflow:Yr.allowDataOverflow,allowDecimals:Yr.allowDecimals,allowDuplicatedCategory:Yr.allowDuplicatedCategory,height:Yr.height,hide:!1,mirror:Yr.mirror,orientation:Yr.orientation,padding:Yr.padding,reversed:Yr.reversed,scale:Yr.scale,tickCount:Yr.tickCount,type:Yr.type,xAxisId:0});var ule=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){e.forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>l&&(l=p.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+a,h=l+f+u+(n?r:0);return Math.round(h)}return 0},cle=["dangerouslySetInnerHTML","ticks"];function E6(t,e,n){return(e=fle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fle(t){var e=hle(t,"string");return typeof e=="symbol"?e:e+""}function hle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tx.apply(null,arguments)}function dle(t,e){if(t==null)return{};var n,r,i=mle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ple(t){var e=En();return O.useEffect(()=>(e(Qoe(t)),()=>{e(Joe(t))}),[t,e]),null}var gle=t=>{var e,{yAxisId:n,className:r,width:i,label:a}=t,l=O.useRef(null),u=O.useRef(null),f=Le(l4),h=kr(),d=En(),p="yAxis",y=Le(C=>tf(C,p,n,h)),b=Le(C=>r3(C,n)),w=Le(C=>Qte(C,n)),x=Le(C=>s3(C,p,n,h));if(O.useLayoutEffect(()=>{var C;if(!(i!=="auto"||!b||J1(a)||O.isValidElement(a))){var V=l.current,L=V==null||(C=V.tickRefs)===null||C===void 0?void 0:C.current,{tickSize:D,tickMargin:j}=V.props,I=ule({ticks:L,label:u.current,labelGapWithTick:5,tickSize:D,tickMargin:j});Math.round(b.width)!==Math.round(I)&&d(Zoe({id:n,width:I}))}},[l,l==null||(e=l.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,b?.width,b,d,a,n,i]),b==null||w==null)return null;var{dangerouslySetInnerHTML:E,ticks:A}=t,P=dle(t,cle);return O.createElement(Ko,Tx({},P,{ref:l,labelRef:u,scale:y,x:w.x,y:w.y,width:b.width,height:b.height,className:jt("recharts-".concat(p," ").concat(p),r),viewBox:f,ticks:x}))},yle=t=>{var e,n,r,i,a;return O.createElement(O.Fragment,null,O.createElement(ple,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter}),O.createElement(gle,t))},vle={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:Xr.allowDecimals,allowDuplicatedCategory:Xr.allowDuplicatedCategory,hide:!1,mirror:Xr.mirror,orientation:Xr.orientation,padding:Xr.padding,reversed:Xr.reversed,scale:Xr.scale,tickCount:Xr.tickCount,type:Xr.type,width:Xr.width,yAxisId:0};class sf extends O.Component{render(){return O.createElement(yle,this.props)}}E6(sf,"displayName","YAxis");E6(sf,"defaultProps",vle);var Y_={exports:{}},X_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $j;function ble(){if($j)return X_;$j=1;var t=qc();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return X_.useSyncExternalStoreWithSelector=function(f,h,d,p,y){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function E(L){if(!A){if(A=!0,P=L,L=p(L),y!==void 0&&w.hasValue){var D=w.value;if(y(D,L))return C=D}return C=L}if(D=C,n(P,L))return D;var j=p(L);return y!==void 0&&y(D,j)?(P=L,D):(P=L,C=j)}var A=!1,P,C,V=d===void 0?null:d;return[function(){return E(h())},V===null?void 0:function(){return E(V())}]},[h,d,p,y]);var x=r(f,b[0],b[1]);return a(function(){w.hasValue=!0,w.value=x},[x]),u(x),x},X_}var Bj;function _le(){return Bj||(Bj=1,Y_.exports=ble()),Y_.exports}_le();function wle(t){t()}function xle(){let t=null,e=null;return{clear(){t=null,e=null},notify(){wle(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var zj={notify(){},get:()=>[]};function Ele(t,e){let n,r=zj,i=0,a=!1;function l(x){d();const E=r.subscribe(x);let A=!1;return()=>{A||(A=!0,E(),p())}}function u(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return a}function d(){i++,n||(n=t.subscribe(f),r=xle())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=zj)}function y(){a||(a=!0,d())}function b(){a&&(a=!1,p())}const w={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return w}var Sle=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tle=Sle(),Ale=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ole=Ale(),Cle=()=>Tle||Ole?O.useLayoutEffect:O.useEffect,Rle=Cle(),Ple=Symbol.for("react-redux-context"),Nle=typeof globalThis<"u"?globalThis:{};function jle(){if(!O.createContext)return{};const t=Nle[Ple]??=new Map;let e=t.get(O.createContext);return e||(e=O.createContext(null),t.set(O.createContext,e)),e}var Dle=jle();function Ile(t){const{children:e,context:n,serverState:r,store:i}=t,a=O.useMemo(()=>{const f=Ele(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=O.useMemo(()=>i.getState(),[i]);Rle(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,l]);const u=n||Dle;return O.createElement(u.Provider,{value:a},e)}var kle=Ile,Mle=(t,e)=>e,aS=se([Mle,St,TL,kn,w3,Cs,nre,Gn],ore),sS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},S6=Di("mouseClick"),T6=wd();T6.startListening({actionCreator:S6,effect:(t,e)=>{var n=t.payload,r=aS(e.getState(),sS(n));r?.activeIndex!=null&&e.dispatch(cne({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Ax=Di("mouseMove"),A6=wd();A6.startListening({actionCreator:Ax,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=B1(r,r.tooltip.settings.shared),a=aS(r,sS(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(m3({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(d3()))}});function Lle(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var qj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},O6=si({name:"rootProps",initialState:qj,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:qj.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Ule=O6.reducer,{updateOptions:Vle}=O6.actions,C6=si({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:uce}=C6.actions,$le=C6.reducer,R6=Di("keyDown"),P6=Di("focus"),oS=wd();oS.startListening({actionCreator:R6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Number(z1(i,rf(n))),u=Cs(n);if(a==="Enter"){var f=jg(n,"axis","hover",String(i.index));e.dispatch(yx({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=tne(n),d=h==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,y=l+p*d;if(!(u==null||y>=u.length||y<0)){var b=jg(n,"axis","hover",String(y));e.dispatch(yx({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});oS.startListening({actionCreator:P6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=jg(n,"axis","hover",String(a));e.dispatch(yx({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var Ai=Di("externalEvent"),N6=wd();N6.startListening({actionCreator:Ai,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Kne(n),activeDataKey:T3(n),activeIndex:Ql(n),activeLabel:S3(n),activeTooltipIndex:Ql(n),isTooltipActive:Gne(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Ble=se([nf],t=>t.tooltipItemPayloads),zle=se([Ble,Pd,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=e(a,n);return l}}}),j6=Di("touchMove"),D6=wd();D6.startListening({actionCreator:j6,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=B1(r,r.tooltip.settings.shared);if(i==="axis"){var a=aS(r,sS({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(m3({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(AX),d=(l=f.getAttribute(OX))!==null&&l!==void 0?l:void 0,p=zle(e.getState(),h,d);e.dispatch(h3({activeDataKey:d,activeIndex:h,activeCoordinate:p}))}}});var qle=kM({brush:Dse,cartesianAxis:ele,chartData:Ere,errorBars:Mae,graphicalItems:mae,layout:YY,legend:BX,options:vre,polarAxis:zie,polarOptions:$le,referenceElements:$se,rootProps:Ule,tooltip:fne}),Fle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return _Y({reducer:qle,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([T6.middleware,A6.middleware,oS.middleware,N6.middleware,D6.middleware]),devTools:{serialize:{replacer:Lle},name:"recharts-".concat(n)}})};function Hle(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=kr(),a=O.useRef(null);if(i)return n;a.current==null&&(a.current=Fle(e,r));var l=zE;return O.createElement(kle,{context:l,store:a.current},n)}function Kle(t){var{layout:e,width:n,height:r,margin:i}=t,a=En(),l=kr();return O.useEffect(()=>{l||(a(KY(e)),a(GY({width:n,height:r})),a(HY(i)))},[a,l,e,n,r,i]),null}function Gle(t){var e=En();return O.useEffect(()=>{e(Vle(t))},[e,t]),null}var Wle=["children"];function Yle(t,e){if(t==null)return{};var n,r,i=Xle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(null,arguments)}var Qle={width:"100%",height:"100%"},Jle=O.forwardRef((t,e)=>{var n=QE(),r=JE(),i=f4();if(!pg(n)||!pg(r))return null;var{children:a,otherAttributes:l,title:u,desc:f}=t,h,d;return typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?d=l.role:d=i?"application":void 0,O.createElement(PE,Vg({},l,{title:u,desc:f,role:d,tabIndex:h,width:n,height:r,style:Qle,ref:e}),a)}),Zle=t=>{var{children:e}=t,n=Le(_y);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return O.createElement(PE,{width:r,height:i,x:l,y:a},e)},Fj=O.forwardRef((t,e)=>{var{children:n}=t,r=Yle(t,Wle),i=kr();return i?O.createElement(Zle,null,n):O.createElement(Jle,Vg({ref:e},r),n)});function eue(){var t=En(),[e,n]=O.useState(null),r=Le(TX);return O.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;ai(a)&&a!==r&&t(WY(a))}},[e,t,r]),n}function Hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(n),!0).forEach(function(r){nue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nue(t,e,n){return(e=rue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rue(t){var e=iue(t,"string");return typeof e=="symbol"?e:e+""}function iue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aue=O.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:d,onMouseMove:p,onMouseUp:y,onTouchEnd:b,onTouchMove:w,onTouchStart:x,style:E,width:A}=t,P=En(),[C,V]=O.useState(null),[L,D]=O.useState(null);Are();var j=eue(),I=O.useCallback(ie=>{j(ie),typeof e=="function"&&e(ie),V(ie),D(ie)},[j,e,V,D]),M=O.useCallback(ie=>{P(S6(ie)),P(Ai({handler:a,reactEvent:ie}))},[P,a]),U=O.useCallback(ie=>{P(Ax(ie)),P(Ai({handler:h,reactEvent:ie}))},[P,h]),z=O.useCallback(ie=>{P(d3()),P(Ai({handler:d,reactEvent:ie}))},[P,d]),q=O.useCallback(ie=>{P(Ax(ie)),P(Ai({handler:p,reactEvent:ie}))},[P,p]),$=O.useCallback(()=>{P(P6())},[P]),ve=O.useCallback(ie=>{P(R6(ie.key))},[P]),we=O.useCallback(ie=>{P(Ai({handler:l,reactEvent:ie}))},[P,l]),G=O.useCallback(ie=>{P(Ai({handler:u,reactEvent:ie}))},[P,u]),re=O.useCallback(ie=>{P(Ai({handler:f,reactEvent:ie}))},[P,f]),pe=O.useCallback(ie=>{P(Ai({handler:y,reactEvent:ie}))},[P,y]),xe=O.useCallback(ie=>{P(Ai({handler:x,reactEvent:ie}))},[P,x]),H=O.useCallback(ie=>{P(j6(ie)),P(Ai({handler:w,reactEvent:ie}))},[P,w]),oe=O.useCallback(ie=>{P(Ai({handler:b,reactEvent:ie}))},[P,b]);return O.createElement(N3.Provider,{value:C},O.createElement(iM.Provider,{value:L},O.createElement("div",{className:jt("recharts-wrapper",r),style:tue({position:"relative",cursor:"default",width:A,height:i},E),onClick:M,onContextMenu:we,onDoubleClick:G,onFocus:$,onKeyDown:ve,onMouseDown:re,onMouseEnter:U,onMouseLeave:z,onMouseMove:q,onMouseUp:pe,onTouchEnd:oe,onTouchMove:H,onTouchStart:xe,ref:I},n)))}),sue=["children","className","width","height","style","compact","title","desc"];function oue(t,e){if(t==null)return{};var n,r,i=lue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uue=O.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:l,compact:u,title:f,desc:h}=t,d=oue(t,sue),p=ou(d);return u?O.createElement(Fj,{otherAttributes:p,title:f,desc:h},n):O.createElement(aue,{className:r,style:l,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},O.createElement(Fj,{otherAttributes:p,title:f,desc:h,ref:e},O.createElement(zse,null,n)))}),cue=["width","height"];function Ox(){return Ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ox.apply(null,arguments)}function fue(t,e){if(t==null)return{};var n,r,i=hue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var due={top:5,right:5,bottom:5,left:5},mue={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:due,reverseStackOrder:!1,syncMethod:"index"},I6=O.forwardRef(function(e,n){var r,i=Ia(e.categoricalChartProps,mue),{width:a,height:l}=i,u=fue(i,cue);if(!pg(a)||!pg(l))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,categoricalChartProps:y}=e,b={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return O.createElement(Hle,{preloadedState:{options:b},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:f},O.createElement(jse,{chartData:y.data}),O.createElement(Kle,{width:a,height:l,layout:i.layout,margin:i.margin}),O.createElement(Gle,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),O.createElement(uue,Ox({},u,{width:a,height:l,ref:n})))}),pue=["axis"],gue=O.forwardRef((t,e)=>O.createElement(I6,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pue,tooltipPayloadSearcher:j3,categoricalChartProps:t,ref:e})),yue=["axis","item"],lS=O.forwardRef((t,e)=>O.createElement(I6,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yue,tooltipPayloadSearcher:j3,categoricalChartProps:t,ref:e}));const vue=({categories:t})=>{const{teamStats:e,columnPercentiles:n,currentViewingTeam:r}=yr(),i=(l,u)=>!u||l<=u.p10?0:l>=u.p90?100:l<=u.p25?0+25*((l-u.p10)/(u.p25-u.p10)):l<=u.p75?25+50*((l-u.p25)/(u.p75-u.p25)):75+25*((l-u.p75)/(u.p90-u.p75)),a=O.useMemo(()=>t.map(l=>{const u=e[r]?.[l]?.q3??0,f=n[l]?.q3,h=f?i(u,f):0;return{category:l.replace(/([A-Z])/g," $1").replace(/^./,d=>d.toUpperCase()),value:Math.min(100,h)}}),[t,e,n,r]);return T.jsxs("div",{className:"w-full h-102 bg-white rounded-xl p-4 shadow-md mt-5 pb-15",children:[T.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Team Percentile Comparison"}),T.jsx(zy,{width:"100%",height:"100%",children:T.jsxs(lS,{data:a,margin:{top:20,right:20,bottom:40,left:40},children:[T.jsx(af,{dataKey:"category",angle:-25,textAnchor:"end",interval:0}),T.jsx(sf,{type:"number",domain:[0,100],tickFormatter:l=>`${l.toFixed(0)}%`}),T.jsx(X1,{formatter:l=>`${l.toFixed(1)}%`,animationDuration:50}),T.jsx(qy,{dataKey:"value",fill:"#f69f3bff",radius:[4,4,0,0],maxBarSize:50,animationDuration:500,children:T.jsx(Ca,{dataKey:"value",position:"top",formatter:l=>`${Number(l).toFixed(0)}%`})})]})})]})};function bue(){const{forms:t,teamInfo:e,teamStats:n,teamImages:r,loadData:i,loadTeamImages:a,loading:l,currentViewingTeam:u,setCurrentViewingTeam:f,tbaData:h,aiOverviews:d,pitForms:p}=yr();O.useEffect(()=>{a(),i()},[]);const y=r[u],[b,w]=O.useState("total_points"),[x,E]=O.useState("comments"),[A,P]=O.useState({key:null,direction:null}),C=U=>{let z=U.replace(/_/g," ");return z=z.replace(/([A-Z])/g," $1"),z=z.charAt(0).toUpperCase()+z.slice(1),z.replace(/\s+/g," ").trim()},V=O.useMemo(()=>(console.log(t),!t||t.length===0?[]:t.filter(U=>Number(U.team_number)===Number(u)).sort((U,z)=>(U.match_number??0)-(z.match_number??0))),[t,u]),L=U=>{let z="desc";A.key===U&&(A.direction==="desc"?z="asc":A.direction==="asc"&&(z=null)),P({key:z?U:null,direction:z})},D=O.useMemo(()=>!A.key||!A.direction?V:[...V].sort((U,z)=>{const q=A.key==="match_number"?U.match_number:Number(U[A.key]??0),$=A.key==="match_number"?z.match_number:Number(z[A.key]??0);return A.direction==="asc"?q-$:$-q}),[V,A]),j=U=>A.key!==U?T.jsx("div",{}):A.direction==="desc"?T.jsx(wD,{size:24,className:"inline ml-1 text-orange-600"}):T.jsx(xD,{size:24,className:"inline ml-1 text-orange-600"}),I=O.useMemo(()=>V.length===0?[]:V.filter(U=>U.match_type=="match").map(U=>({match:U.match_number,value:Number(U[b]??0)})),[V,b]),M=O.useMemo(()=>p.find(U=>Number(U.team_number)===Number(u)),[u,p]);return T.jsxs("div",{className:"min-h-screen bg-gray-50",children:[T.jsx(Uo,{}),T.jsx("main",{className:"pt-20 px-4 md:px-6",children:l||!t.length?T.jsx("div",{className:"text-orange-500 text-lg font-semibold",children:"Loading data..."}):T.jsxs("div",{className:"max-w-3xl mx-auto",children:[T.jsx("div",{className:"mb-6 fixed left-5 top-21 bg-gray-100 px-4 py-2 rounded-lg shadow-md",children:T.jsx(fs,{view:u,setView:f,label:"Team: ",options:Object.keys(n).map(Number)})}),y&&T.jsx("img",{src:y,alt:`Team ${u}`,className:"w-40 h-40 object-contain mb-3 relative ml-auto"}),!y&&T.jsx("div",{className:"mt-16"}),T.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:[T.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Team ",u," - ",e[u]?.nickname??""]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-sm",children:"Rank"}),T.jsx("p",{className:"text-lg font-semibold",children:h?.rankings?.find(U=>U.team_key===`frc${u}`)?.rank??"N/A"})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-sm",children:"Record"}),T.jsxs("p",{className:"text-lg font-semibold",children:[h?.rankings?.find(U=>U.team_key===`frc${u}`)?.record?.wins??0,"-",h?.rankings?.find(U=>U.team_key===`frc${u}`)?.record?.losses??0,"-",h?.rankings?.find(U=>U.team_key===`frc${u}`)?.record?.ties??0]})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-sm",children:"OPR"}),T.jsx("p",{className:"text-lg font-semibold",children:Math.round((Number(h?.oprs[`frc${u}`])??0)*10)/10})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-sm",children:"Quartile 3 Points"}),T.jsx("p",{className:"text-lg font-semibold",children:n[u]?.total_points?.q3??0})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-sm",children:"Auto Points"}),T.jsx("p",{className:"text-lg font-semibold",children:n[u]?.auto_points?.q3??0})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-sm",children:"Tele Points"}),T.jsx("p",{className:"text-lg font-semibold",children:n[u]?.tele_points?.q3??0})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-sm",children:"Endgame Points"}),T.jsx("p",{className:"text-lg font-semibold",children:n[u]?.endgame_points?.q3??0})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-sm",children:"Total Gamepieces"}),T.jsx("p",{className:"text-lg font-semibold",children:n[u]?.total_gamepieces?.q3??0})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[T.jsx("p",{className:"text-gray-500 text-sm",children:"Max Algae Net"}),T.jsx("p",{className:"text-lg font-semibold",children:n[u]?.tele_made_net?.max??0})]})]})]}),d[u]&&T.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[T.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"CoScout Analysis"}),T.jsxs("div",{className:"space-y-3 text-sm",children:[T.jsxs("div",{className:" bg-gray-50 p-3 rounded-lg border border-gray-200",children:[T.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Auto:"})," ",T.jsx("span",{className:"text-gray-700",children:d[u].auto})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[T.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Coral:"})," ",T.jsx("span",{className:"text-gray-700",children:d[u].coral})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[T.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Algae:"})," ",T.jsx("span",{className:"text-gray-700",children:d[u].algae})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[T.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Endgame:"})," ",T.jsx("span",{className:"text-gray-700",children:d[u].endgame})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[T.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Strengths:"})," ",T.jsx("span",{className:"text-gray-700",children:d[u].strengths})]}),T.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-300",children:[T.jsx("span",{className:"text-lg font-semibold text-red-600",children:"Concerns:"})," ",T.jsx("span",{className:"text-gray-700",children:d[u].concerns})]}),T.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:T.jsx("span",{className:"text-gray-600 italic",children:d[u].adjectives})})]})]}),T.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[T.jsx("h3",{className:"text-xl font-bold mb-4",children:"Consistency Graph"}),T.jsx("div",{className:"mb-4",children:T.jsx(fs,{view:b,setView:w,label:"Field: ",options:wo.filter(U=>U!=="team_number")})}),T.jsx(zy,{width:"100%",height:300,children:T.jsxs(gue,{data:I,children:[T.jsx(h6,{strokeDasharray:"3 3"}),T.jsx(af,{dataKey:"match",label:{value:"Match",position:"insideBottom",offset:-5}}),T.jsx(sf,{}),T.jsx(X1,{animationDuration:50,labelFormatter:U=>`Match ${U}`}),T.jsx(b6,{type:"monotone",dataKey:"value",stroke:"#d8aa84ff",strokeWidth:2,animationDuration:750})]})})]}),T.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[T.jsxs("div",{className:"flex gap-2 mb-4",children:[T.jsx("button",{onClick:()=>E("comments"),className:`px-4 py-2 rounded-full font-medium transition cursor-pointer ${x==="comments"?"bg-orange-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Comments"}),T.jsx("button",{onClick:()=>E("pitScout"),className:`px-4 py-2 rounded-full font-medium transition cursor-pointer ${x==="pitScout"?"bg-orange-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Pit Scouting"})]}),x==="comments"&&T.jsx("div",{children:T.jsx("div",{className:"max-h-64 overflow-y-auto space-y-3 border border-gray-200 rounded p-3",children:V.length>0?V.filter(U=>U.comments).map(U=>T.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[T.jsxs("span",{className:"font-semibold text-orange-600",children:[U.match_type=="match"?"Match "+U.match_number:_ue(U.match_type)+" match",":"]})," ",T.jsx("span",{className:"text-gray-800",children:U.comments})]},U.id)):T.jsx("div",{className:"text-gray-500",children:"No comments available for this team."})})}),x==="pitScout"&&(M?T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[T.jsx("p",{className:"text-gray-500 text-sm",children:"Driver Experience"}),T.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.driver_experience||"N/A"})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[T.jsx("p",{className:"text-gray-500 text-sm",children:"Autos"}),T.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.auto_description||"N/A"})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[T.jsx("p",{className:"text-gray-500 text-sm",children:"Algae Details"}),T.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.algae_description||"N/A"})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[T.jsx("p",{className:"text-gray-500 text-sm",children:"Climb Details"}),T.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.endgame_description||"N/A"})]}),T.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[T.jsx("p",{className:"text-gray-500 text-sm",children:"Final Comments"}),T.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.comments||"N/A"})]})]}):T.jsx("p",{className:"text-gray-500",children:"No pit scout data for this team."}))]}),T.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[T.jsx("h3",{className:"text-xl font-bold mb-4",children:"Match Stats"}),T.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:T.jsxs("table",{className:"min-w-full",children:[T.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-orange-100",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700 cursor-pointer hover:bg-orange-200 transition-colors select-none border-b-2 border-orange-300",onClick:()=>L("match_number"),children:T.jsxs("div",{className:"flex items-center justify-center",children:["Match #",j("match_number")]})}),wo.filter(U=>U!="team_number").map(U=>T.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700 text-sm min-w-20 cursor-pointer hover:bg-orange-200 transition-colors select-none border-b-2 border-orange-300",onClick:()=>L(U),children:T.jsxs("div",{className:"flex items-center justify-center",children:[C(U),j(U)]})},U))]})}),T.jsx("tbody",{className:"divide-y divide-gray-200",children:D.length>0?D.map((U,z)=>T.jsxs("tr",{className:`transition-colors ${z%2===0?"bg-white hover:bg-gray-50":"bg-gray-50 hover:bg-gray-100"}`,children:[T.jsx("td",{className:"px-4 py-3 text-center font-medium text-gray-900",children:U.match_type!="match"?U.match_type.toUpperCase():U.match_number}),wo.filter(q=>q!="team_number").map(q=>T.jsx("td",{className:"px-4 py-3 text-center text-gray-700",children:U[q]??0},q))]},U.id)):T.jsx("tr",{children:T.jsx("td",{className:"px-4 py-8 text-center text-gray-500",colSpan:wo.length+1,children:"No match data available for this team."})})})]})})]}),T.jsxs("div",{className:"mt-8 max-w-3xl mx-auto",children:[T.jsx("h3",{className:"text-xl font-bold mb-4",children:"Match Schedule"}),T.jsx("div",{className:"space-y-2",children:h?.matches.filter(U=>U.alliances.red.team_keys.includes(`frc${u}`)||U.alliances.blue.team_keys.includes(`frc${u}`)).sort((U,z)=>{const q=["qf","sf","f"],$=q.includes(U.comp_level),ve=q.includes(z.comp_level);return $&&!ve?1:!$&&ve?-1:U.match_number-z.match_number}).map(U=>{const z=U.alliances.red.team_keys.includes(`frc${u}`),q=z?U.alliances.red:U.alliances.blue,$=z?U.alliances.blue:U.alliances.red,ve=q.score,we=$.score,G=U.winning_alliance?U.winning_alliance==="red"?"Red":U.winning_alliance==="blue"?"Blue":"Tie":null,re=["qf","sf","f"].includes(U.comp_level)?U.comp_level.toUpperCase():null;return T.jsxs("div",{className:`flex flex-row sm:flex-row justify-between items-center sm:items-center px-3 py-1 rounded-lg shadow-sm 
                        ${z?"bg-red-50":"bg-blue-50"}`,children:[T.jsxs("button",{className:"flex flex-row gap-3 p-3 cursor-pointer rounded-md hover:bg-gray-300 transition-bg duration-150",onClick:()=>{if(U.videos?.length>0){const pe=U.videos[0];let xe="";pe.type==="youtube"?xe=`https://www.youtube.com/watch?v=${pe.key}`:pe.type==="tba"&&(xe=`https://www.thebluealliance.com/match/${pe.key}`),xe&&window.open(xe,"_blank")}},children:["                                                    ",U.videos?.length>0&&T.jsx("div",{children:T.jsx(u9,{color:"gray",size:24})}),T.jsxs("div",{className:"font-semibold mb-1 sm:mb-0",children:[re?"Match":"Qual"," ",U.match_number," ",re&&T.jsxs("span",{className:"ml-2 text-sm text-red-600 font-bold",children:["[",re,"]"]})]})]}),T.jsxs("div",{className:"text-gray-700 mb-1 sm:mb-0",children:[T.jsx("div",{className:`${z?"bg-red-200":"bg-blue-200"} px-3 flex flex-row  justify-around rounded-md font-bold mb-1`,children:q.team_keys.map(pe=>pe.replace("frc","")).join(", ")}),T.jsx("div",{className:`${z?"bg-blue-200":"bg-red-200"} px-3 flex flex-row  justify-around rounded-md`,children:$.team_keys.map(pe=>pe.replace("frc","")).join(", ")})]}),T.jsx("div",{className:"text-right mt-1 sm:mt-0",children:ve!=null&&we!=null?T.jsxs("div",{children:[T.jsxs("div",{className:"font-bold text-lg",children:[ve," - ",we]}),G&&T.jsx("div",{className:`text-sm font-semibold ${G===(z?"Red":"Blue")?"text-green-600":"text-red-600"}`,children:G===(z?"Red":"Blue")?"Win":"Loss"})]}):U.time?T.jsx("div",{className:"text-sm text-gray-500",children:new Date(U.time*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}):T.jsx("div",{className:"text-sm text-gray-400",children:"TBD"})})]},U.key)})})]}),T.jsx(vue,{categories:["total_coral","auto_points","tele_points","endgame_points","total_algae","total_gamepieces"]}),T.jsx("div",{className:"mb-30"})]})}),T.jsx($o,{}),T.jsx(su,{})]})}function _ue(t){return typeof t!="string"||t.length===0?t:t.charAt(0).toUpperCase()+t.slice(1)}function wue({data:t,category:e,show:n}){const r=[...t].sort((p,y)=>y.value-p.value),[i,a]=O.useState(!1),[l,u]=O.useState(-1);Bg();const{setCurrentViewingTeam:f,forms:h,teamInfo:d}=yr();return T.jsxs("div",{className:"flex flex-row gap-0 w-full mb-10 justify-center",children:[T.jsx(SE,{isOpen:i,onClose:()=>a(!1),forms:h,teamNumber:l,teamInfo:d}),T.jsxs("div",{className:"flex flex-col gap-1 flex-1 max-w-xl min-w-50",children:[T.jsxs("div",{className:"grid grid-cols-3 bg-gray-700 text-white font-bold px-0 py-1 rounded grid-cols-[25%_25%_auto]",children:[T.jsx("div",{className:"text-center cursor-pointer",children:"Rank"}),T.jsx("div",{className:"text-center cursor-pointer",children:"Team"}),T.jsx("div",{className:"text-center cursor-pointer truncate",children:e})]}),r.map((p,y)=>T.jsxs("div",{className:`grid grid-cols-3 px-0 py-1 border-b border-gray-300 grid-cols-[25%_25%_auto] ${y%2===0?"bg-gray-100":"bg-gray-200"}`,children:[T.jsx("div",{className:"text-center",children:y+1}),T.jsx("div",{className:"text-center cursor-pointer hover:text-orange-500 hover:font-bold transition duartion-250",onClick:()=>{u(Number(p.team)),a(!0)},children:p.team}),T.jsx("div",{className:"text-center",children:p.value})]},p.team))]}),n&&T.jsx("div",{className:"flex-3 h-[50px * data.length] pt-8",children:T.jsx(zy,{width:"100%",height:"100%",children:T.jsxs(lS,{data:r,layout:"vertical",margin:{left:20},children:[T.jsx(af,{type:"number",hide:!0}),T.jsx(sf,{type:"category",dataKey:"team",hide:!0,interval:0}),T.jsx(X1,{isAnimationActive:!1}),T.jsx(qy,{dataKey:"value",fill:"#FF7F50",label:{position:"insideRight",fill:"white"}})]})})})]})}const xue=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()};function Eue(){const{teamStats:t,loading:e,loadData:n}=yr();Bg();const[r,i]=O.useState("total_points"),[a,l]=O.useState("median"),[u,f]=O.useState(!0),h=Object.entries(t).map(([d,p])=>({team:d,value:p[r][a]})).sort((d,p)=>p.value-d.value);return O.useEffect(()=>{n()},[]),T.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[T.jsx(Uo,{}),T.jsxs("main",{className:"pt-20 px-0 md:px-6",children:[e?T.jsx("div",{className:"text-orange-500",children:"Loading data..."}):T.jsxs("div",{children:[T.jsxs("div",{className:"flex flex-col lg:flex-row gap-5",children:[T.jsx(fs,{view:r,setView:i,label:"Category:",options:wo.filter(d=>d!="team_number")}),T.jsx(fs,{view:a,setView:l,label:"Type:",options:["min","mean","median","q3","max"]}),T.jsx(fs,{view:u,setView:d=>f(d===!0||d==="true"),label:"Show graph:",options:[!0,!1]})]}),T.jsx("div",{className:"h-10"}),T.jsx(wue,{data:h,category:xue(r),show:u})]}),T.jsx($o,{}),T.jsx(su,{})]})]})}function Sue(){const{loading:t,loadData:e,eventName:n,setEventName:r,eventKeys:i,usePracticeData:a,setUsePracticeData:l,teamInfo:u,forms:f,tbaData:h,pitForms:d}=yr();O.useEffect(()=>{e()},[]);const y=Ak(Ck,{model:"gemini-2.5-flash",generationConfig:{temperature:.6,topP:.1,topK:16},systemInstruction:"You are a scouting assistant on team 3197, the hexhounds, competing in FRC robotics. give helpful tips that will help our team win, use insights from our data to answer questions"});async function b(){const A=[`Provide a team overview for each team. Make it a few sentences, specifically touch on any struggles, what their auto does, endgame capabilities, tele-operated scoring, algae/coral capabilities, and how good they are for picking. It is good to cite match numbers for specifics, but if match_type is practice or pre, then cite it as practice or pre match instead of the match number. If match number is over 500, then say practice match instead of number. Respond with short sentences/commas in the following format as a VALID JSON, 9999 being their team number:
            {
            [
            9999: {
                "auto": "Talk about their known auto modes from matches & pit scouting, where they start, consistency, etc. There is no defense in auto period",
                "coral": "Talk about their known coral capabilities from matches & pit scouting, what levels they can do, consistency, etc",
                "algae": "Talk about their known algae capabilities from matches & pit scouting, consistency, etc",
                "endgame": "Talk about their known endgames from matches & pit scouting, how long it takes to climb, consistency, etc",
                "strengths": "Talk about their relative strengths, what could make them better from other teams",
                "concerns": "This is the most important, talk about any known issues, worries, bad matches, concerns about the team & robot, it is critical to cite match numbers/ practice or pre here",
                "adjectives": "describe the words with a couple adjectives (such as strong, inconsistent, swift, etc)",
            }
            ]
        }
            `,"Only include the teams in the array below...",JSON.stringify([...new Set(f.map(L=>L.team_number))]),JSON.stringify(u),JSON.stringify(f),JSON.stringify(h),JSON.stringify(d)];var P;try{P=await y.generateContent(A),alert("Successfully generated overviews... uploading now.")}catch(L){alert("Error: "+L)}return(P?.response??null)?.text()??"{}"}async function w(){const A=["Provide match analysis for each match. If it is completed then analyze how each team performed in a sentence or two and why one alliance won. If it is upcoming provide ideas for how each alliance can win and your prediction.","Respond in a json format with 'match' concatenated with the number as the key followed by the output.","Make it concise, interesting to read as a quick overview for someone who missed the match and wants to know why one alliance won. you may add critical feedback or sarcasm but be professional and not mean","Scoring guide: auto : {l1: 3, l2: 4, l3: 6, l4: 7, leave: 3, algaenet:4, algaeProcessor:2}, tele : {l1: 2, l2:3, l3: 4, l4: 5, algaenet:4, algaeProcessor:2}, endgame: {deep climb: 12, park: 2, can only have one or the other}","Only do qual matches, not playoff (f, sf, etc)",JSON.stringify(u),JSON.stringify(f),JSON.stringify(h),JSON.stringify(d)];var P;try{P=await y.generateContent(A),alert("Successfully generated overviews... uploading now.")}catch(L){alert("Error: "+L)}return(P?.response??null)?.text()??"{}"}async function x(){try{alert("Sending message to ai...");const A=await b();console.warn(A);const P=A.replace(/`/g,"").replace("json","");console.warn(P);const C=JSON.parse(P);console.warn(C);const V=Yp(Yh,"aiOverview","overview");await oR(V,C,{merge:!0}),alert("All good! Finished fully.")}catch(A){alert("Error: "+A)}}async function E(){try{alert("Sending message to ai...");const A=await w();console.warn(A);const P=A.replace(/`/g,"").replace("json","");console.warn(P);const C=JSON.parse(P);console.warn(C);const V=Yp(Yh,"aiOverview","match");await oR(V,C,{merge:!0}),alert("All good! Finished fully.")}catch(A){alert("Error: "+A)}}return T.jsxs("div",{className:"min-h-screen bg-gray-50",children:[T.jsx(Uo,{}),T.jsx("main",{className:"pt-20 px-0 md:px-6 pr-10",children:t?T.jsx("div",{className:"text-orange-500",children:"Loading data..."}):T.jsxs("div",{className:"flex flex-col items-center gap-2",children:[T.jsx(fs,{view:n,setView:r,label:"Event Name: ",options:i}),T.jsx(fs,{view:a,setView:l,label:"Include practice/pre scout data ",options:[!0,!1]}),T.jsx("button",{className:"cursor-pointer border-2 border-orange-400 px-2 py-1 text-lg rounded-md hover:bg-orange-700 hover:text-white transition duration-500",onClick:()=>{prompt("Put in a password to prevent abuse:")==="TyTy77"&&(alert("Generating ai overviews, play stay on the page until it either errors or succeeds... please close this dialogue."),x())},children:"Generate Team Overviews"}),T.jsx("button",{className:"cursor-pointer border-2 border-orange-400 px-2 py-1 text-lg rounded-md hover:bg-orange-700 hover:text-white transition duration-500",onClick:()=>{prompt("Put in a password to prevent abuse:")==="TyTy77"&&(alert("Generating ai overviews, play stay on the page until it either errors or succeeds... please close this dialogue."),E())},children:"Generate Match Overviews"})]})}),T.jsx($o,{})]})}function Tue(){const{loading:t,loadData:e,forms:n,tbaData:r,pitForms:i,teamInfo:a}=yr(),[l,u]=O.useState(""),[f,h]=O.useState([{message:"Hi ai.",sender:"you"},{message:"Hey human!",sender:"ai"}]),[d,p]=O.useState(!1),b=Ak(Ck,{model:"gemini-2.5-flash",generationConfig:{temperature:.6,topP:.1,topK:16},systemInstruction:"You are a scouting assistant on team 3197, the hexhounds, competing in FRC robotics. give helpful tips that will help our team win, use insights from our data to answer questions"});async function w(x){const E=x;p(!0),u(""),h(L=>[...L,{message:E,sender:"you"}]);const A=["For team names you can reference teamInfo nickname data supplied, favor totalPoints in our scouting data more than opr","If they ask about a team using its name, find its corresponding number in teamInfo and then answer","Getting rank points help you improve rank. 3 for winning, 1 for 14+ points in endgame, 1 for auto mobility + 1 or more coral, and one for 4 levels with 5+ coral","Try to be as quick and concise as possible. don't write more than one or two paragraphs unless it asks for analysis","Scoring guide: auto : {l1: 3, l2: 4, l3: 6, l4: 7, leave: 3, algaenet:4, algaeProcessor:2}, tele : {l1: 2, l2:3, l3: 4, l4: 5, algaenet:4, algaeProcessor:2}, endgame: {deep climb: 12, park: 2, can only have one or the other}","Use scoring rules, team roles, and match strategies",E,JSON.stringify(a),JSON.stringify(n),JSON.stringify(r),JSON.stringify(i)],V=(await b.generateContent(A)).response.text();return p(!1),h(L=>[...L,{message:V,sender:"ai"}]),V}return O.useEffect(()=>{e()},[]),T.jsxs("div",{className:"min-h-screen bg-gray-50",children:[T.jsx(Uo,{}),T.jsx("main",{className:"pt-20 px-4 md:px-6 h-screen flex flex-col items-center pb-10",children:t?T.jsx("div",{className:"text-orange-500",children:"Loading data..."}):T.jsxs("div",{className:"flex flex-col items-center w-full max-w-4xl h-full gap-4",children:[T.jsx("div",{className:"text-2xl px-5 py-2 md:px-10 md:py-5 bg-gray-100 shadow-lg rounded-lg text-center w-full",children:"CoScout, the scouting assistant."}),T.jsxs("div",{className:"flex-1 w-full bg-gray-50 border-2 border-gray-100 rounded-lg p-4 md:p-5 flex flex-col gap-2 md:gap-4 overflow-y-auto",children:[f.map((x,E)=>{const A=x.sender==="you",P=C=>C.split(/\n/).flatMap(L=>L.startsWith("* ")?["*",L.slice(2)]:[L]).map((L,D)=>{if(L==="*")return T.jsx("br",{},D);const j=L.split(/\*\*/);return T.jsxs("div",{className:L.startsWith("*")?"flex gap-2":"",children:[L.startsWith("*")&&T.jsx("span",{children:"•"}),j.map((I,M)=>M%2===1?T.jsx("strong",{children:I},M):I)]},D)});return T.jsx("div",{className:`px-3 py-2 rounded-md shadow-sm max-w-full sm:max-w-[80%] my-1 self-${A?"end":"start"} ${A?"bg-orange-300":"bg-gray-200"}`,children:P(x.message)},E)}),d&&T.jsx("div",{className:"flex justify-start sm:justify-start",children:T.jsx(q$,{size:28,className:"animate-pulse"})})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-end w-full",children:[T.jsx("textarea",{value:l,onChange:x=>u(x.target.value),placeholder:"Send text here...",rows:3,className:"border-2 border-gray-400 active:border-gray-500 resize-none text-md px-4 py-3 bg-gray-100 shadow-lg rounded-lg w-full sm:w-auto flex-1"}),T.jsx("button",{onClick:()=>{l.length>0&&w(l)},className:"bg-orange-300 w-full sm:w-16 h-12 flex items-center justify-center rounded-lg cursor-pointer hover:shadow-lg hover:bg-orange-400 transition duration-200",children:T.jsx(t9,{size:28})})]})]})}),T.jsx($o,{}),T.jsx(su,{})]})}const Aue=({matchObject:t})=>{const{forms:e}=yr(),n=t.alliances.blue.team_keys.map(h=>h.replace(/^frc/,"")),r=t.alliances.red.team_keys.map(h=>h.replace(/^frc/,"")),i=[...n,...r],a=["#FF0000","#FF4D4D","#CC0000"],l=["#3B82F6","#60A5FA","#1E40AF"],u=e.filter(h=>h.matchNumber==t.match_number&&i.includes(h.teamNumber));var f={match:t.match_number};return u.map(h=>{f[`${n.includes(String(h.teamNumber))?"b":"R"}${String(h.teamNumber)}`]=h.totalPoints}),T.jsxs("div",{className:"w-full h-35 bg-white rounded-xl p-1 shadow-md mt-5 flex flex-col",children:[T.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Scoring Distribution"}),T.jsx(zy,{width:"100%",height:"100%",children:T.jsxs(lS,{layout:"vertical",data:[f],children:[T.jsx(af,{type:"number",domain:[0,100],tickFormatter:h=>`${h.toFixed(0)}%`,hide:!0}),T.jsx(sf,{type:"category",dataKey:"match",width:10,hide:!0}),T.jsx(xy,{verticalAlign:"top",height:36,formatter:h=>h.replace("R","").replace("b","")}),Object.keys(f).sort().map((h,d)=>{if(h!="match")return T.jsx(qy,{dataKey:h,stackId:"stack",fill:h.includes("R")?a.pop():l.pop(),children:T.jsx(Ca,{dataKey:h,position:"center",formatter:p=>`${p}`,fill:"white",offset:0})},d)})]})})]})},Kj="viewingModeMatches",Gj="viewingTeamMatches";function Oue(){const{loadData:t,tbaData:e,eventName:n,aiMatches:r,forms:i,teamStats:a}=yr(),[l,u]=O.useState([]),[f,h]=O.useState(null),[d,p]=O.useState(!1),[y,b]=O.useState(sessionStorage.getItem(Kj)??"All"),[w,x]=O.useState(parseInt(sessionStorage.getItem(Gj)??"3197")),E={};return e?.rankings?.rankings&&e.rankings.rankings.forEach(A=>{E[`frc${A.team_key}`]=A.rank}),O.useEffect(()=>{sessionStorage.setItem(Kj,y)},[y]),O.useEffect(()=>{sessionStorage.setItem(Gj,String(w))},[w]),O.useEffect(()=>{if(!e){t();return}if(e.matches){p(!0);const A=[...e.matches].sort((P,C)=>{const V=["qm","ef","qf","sf","f"],L=V.indexOf(P.comp_level),D=V.indexOf(C.comp_level);return L!==D?L-D:P.match_number-C.match_number});u(A),p(!1)}},[e,t]),T.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[T.jsx(Uo,{}),T.jsxs("main",{className:"pt-20 px-2 md:px-6 flex flex-col items-center",children:[T.jsxs("h2",{className:"text-xl font-semibold mb-3",children:["Matches for Event: ",n]}),T.jsx(fs,{view:y,setView:b,label:"View: ",options:["All","Team","Hypothetical"]}),y=="Team"&&T.jsx("div",{className:"mt-4",children:T.jsx(fs,{view:w,setView:x,label:"Viewing team: ",options:Object.keys(a).map(Number)})}),T.jsx("div",{className:"h-10"}),d?T.jsx("div",{className:"text-orange-500 text-center",children:"Loading matches..."}):y!="Hypothetical"&&T.jsx("div",{className:"flex flex-col gap-2",children:l.filter(A=>y=="All"||[...A.alliances.red.team_keys.map(P=>P.replace("frc","")),...A.alliances.blue.team_keys.map(P=>P.replace("frc",""))].includes(String(w))).map(A=>{const{red:P,blue:C}=A.alliances,V=P.score!=null&&C.score!=null?P.score>C.score?"red":C.score>P.score?"blue":"tie":null,L=f===A.key;return T.jsxs("div",{className:"w-full max-w-xl ml-auto mr-auto p-3 rounded-lg shadow-sm bg-white border-2 border-gray-200 hover:border-gray-500 h-auto transition",children:[T.jsx("button",{className:"w-full transition cursor-pointer",onClick:()=>h(L?null:A.key),children:T.jsxs("div",{className:"flex flex-row items-center justify-between mt-1",children:[T.jsx("div",{className:`flex flex-col items-end text-md ${V==="red"?"text-red-500 font-bold":"text-red-900 font-regular"}`,children:P.team_keys.map(D=>{const j=D.replace("frc","");return T.jsxs("div",{className:"flex gap-1",children:[T.jsx("span",{children:j}),E[D]&&T.jsxs("span",{className:"text-gray-400",children:["#",E[D]]})]},D)})}),T.jsxs("div",{className:"mx-3 flex flex-col items-center font-bold justify-center gap-2",children:[T.jsxs("div",{className:"font-medium",children:[A.comp_level.toUpperCase()," ",A.match_number]}),P.score!=null&&C.score!=null?T.jsx(T.Fragment,{children:T.jsxs("div",{className:`px-2 py-0.5 rounded text-xl ${V==="red"?"bg-red-100 text-red-700":V==="blue"?"bg-blue-100 text-blue-700":"bg-gray-100"}`,children:[P.score," - ",C.score]})}):T.jsx("div",{className:"text-gray-400",children:"Upcoming"})]}),T.jsx("div",{className:`flex flex-col items-start text-md ${V==="blue"?"text-blue-500 font-bold":"text-blue-900 font-regular"}`,children:C.team_keys.map(D=>{const j=D.replace("frc","");return T.jsxs("div",{className:"flex gap-1",children:[T.jsx("span",{children:j}),E[D]&&T.jsxs("span",{className:"text-gray-400",children:["#",E[D]]})]},D)})})]})}),T.jsxs("div",{className:`mt-2 border-t pt-2 text-md text-gray-600 space-y-1 overflow-y-auto transition-all duration-300 ${L?"max-h-70 opacity-100":"max-h-0 opacity-0"}`,children:[A.time&&T.jsxs("div",{children:["Time:"," ",new Date(A.time*1e3).toLocaleString([],{hour:"2-digit",minute:"2-digit"})]}),A.videos?.length?T.jsxs("div",{className:"flex flex-row items-center",children:["Videos:"," ",A.videos.map(D=>{const j=D.type==="youtube"?`https://www.youtube.com/watch?v=${D.key}`:`https://www.thebluealliance.com/match/${A.key}`;return T.jsx("button",{onClick:()=>window.open(j,"_blank"),className:"ml-2 cursor-pointer bg-gray-50 hover:bg-gray-200 transition px-2 py-1 rounded-sm",children:T.jsx(g9,{className:"hover:scale-[1.25] transition",color:"darkorange"})})})]}):T.jsx("div",{children:"No videos yet"}),L&&T.jsx(Aue,{matchObject:A}),r["match"+A.match_number]&&A.comp_level==="qm"&&T.jsxs("div",{className:"mt-0 bg-white p-2",children:[T.jsx("h3",{className:"text-md font-bold mb-2",children:"CoScout Analysis"}),T.jsx("h5",{className:"text-sm mb-4",children:r["match"+A.match_number]})]})]})]},A.key)})}),T.jsx($o,{}),T.jsx(su,{})]})]})}function Cue(){const{teamStats:t,loading:e,loadData:n}=yr();return O.useEffect(()=>{n()},[]),T.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[T.jsx(Uo,{}),T.jsxs("main",{className:"pt-20 px-0 md:px-6",children:[e?T.jsx("div",{className:"text-orange-500",children:"Loading data..."}):T.jsx("div",{}),T.jsx($o,{}),T.jsx(su,{})]})]})}const Rue=[{id:"auto-viewer",name:"Auto Position Viewer",icon:ED},{id:"match-prediction",name:"Match Predictor",icon:AD},{id:"alliance-selection",name:"Alliance Selection",icon:TD},{id:"ranking",name:"Rank Simulation",icon:SD}];function Pue(){const[t,e]=O.useState("auto-viewer"),[n,r]=O.useState(!1),{forms:i,teamStats:a,loading:l,columnPercentiles:u,loadData:f,teamInfo:h}=yr();return O.useEffect(()=>{f()},[]),T.jsxs("div",{className:"min-h-screen bg-gray-50",children:[T.jsx(Uo,{}),T.jsxs("main",{className:"pt-16 flex h-screen",children:[T.jsxs("div",{className:`bg-white border-r border-gray-200 transition-all duration-300 ${n?"w-16":"w-64"} flex flex-col shadow-lg`,children:[T.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[!n&&T.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Sandboxes"}),T.jsx("button",{onClick:()=>r(!n),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:n?T.jsx(V$,{size:20,className:"text-gray-600"}):T.jsx(L$,{size:20,className:"text-gray-600"})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:Rue.map(d=>{const p=d.icon;return T.jsxs("button",{onClick:()=>e(d.id),className:`w-full cursor-pointer flex items-center gap-3 p-3 rounded-lg transition mb-2 ${t===d.id?"bg-orange-100 text-orange-700 font-semibold":"text-gray-700 hover:bg-gray-100"}`,title:n?d.name:"",children:[T.jsx(p,{size:20}),!n&&T.jsx("span",{className:"text-sm whitespace-nowrap",children:d.name})]},d.id)})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto",children:l?T.jsx("div",{className:"text-orange-500 m-15 text-2xl font-bold animate-bounce",children:"Loading data..."}):T.jsxs("div",{className:"p-6",children:[t==="auto-viewer"&&T.jsx(Nue,{}),t==="match-prediction"&&T.jsx(jue,{}),t==="alliance-selection"&&T.jsx(Due,{}),t==="strategy-sim"&&T.jsx(Iue,{})]})})]}),T.jsx($o,{}),T.jsx(su,{})]})}function Nue(){const[t,e]=O.useState("1234"),[n,r]=O.useState([{x:100,y:100,team:"1234",label:"Start"},{x:300,y:150,team:"1234",label:"Score 1"},{x:500,y:200,team:"1234",label:"Score 2"}]);return T.jsx("div",{className:"max-w-6xl mx-auto",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[T.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[T.jsx(ED,{className:"text-orange-500"}),"Auto Position Viewer"]}),T.jsx("p",{className:"text-gray-600 mb-4",children:"Visualize autonomous routines and starting positions for teams"}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Number"}),T.jsx("input",{type:"text",value:t,onChange:i=>e(i.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter team number"})]}),T.jsx("div",{className:"relative bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border-2 border-blue-300 h-96 overflow-hidden",children:T.jsxs("svg",{className:"w-full h-full",children:[T.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#fieldPattern)",opacity:"0.1"}),T.jsx("defs",{children:T.jsx("pattern",{id:"fieldPattern",x:"0",y:"0",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:T.jsx("rect",{x:"0",y:"0",width:"50",height:"50",fill:"none",stroke:"#2563eb",strokeWidth:"0.5"})})}),n.map((i,a)=>T.jsxs("g",{children:[a>0&&T.jsx("line",{x1:n[a-1].x,y1:n[a-1].y,x2:i.x,y2:i.y,stroke:"#f97316",strokeWidth:"3",strokeDasharray:"5,5"}),T.jsx("circle",{cx:i.x,cy:i.y,r:"15",fill:"#f97316",stroke:"white",strokeWidth:"2"}),T.jsx("text",{x:i.x,y:i.y+30,textAnchor:"middle",className:"text-xs font-semibold fill-gray-700",children:i.label})]},a))]})}),T.jsx("div",{className:"mt-4 text-sm text-gray-500",children:T.jsx("p",{children:"Click positions to add waypoints • Drag to reposition"})})]})})}function jue(){const[t,e]=O.useState(["1234","5678","9012"]),[n,r]=O.useState(["3456","7890","2345"]),[i,a]=O.useState({red:0,blue:0,calculated:!1}),l=()=>{const u=Math.floor(Math.random()*50)+100,f=Math.floor(Math.random()*50)+100;a({red:u,blue:f,calculated:!0})};return T.jsx("div",{className:"max-w-4xl mx-auto",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[T.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[T.jsx(AD,{className:"text-orange-500"}),"Hypothetical Match Predictor"]}),T.jsx("p",{className:"text-gray-600 mb-6",children:"Predict match outcomes based on team statistics"}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[T.jsxs("div",{className:"bg-red-50 rounded-lg p-4 border-2 border-red-300",children:[T.jsx("h3",{className:"text-lg font-bold text-red-700 mb-3",children:"Red Alliance"}),t.map((u,f)=>T.jsx("input",{type:"text",value:u,onChange:h=>{const d=[...t];d[f]=h.target.value,e(d)},className:"w-full px-3 py-2 mb-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500",placeholder:`Team ${f+1}`},f))]}),T.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-300",children:[T.jsx("h3",{className:"text-lg font-bold text-blue-700 mb-3",children:"Blue Alliance"}),n.map((u,f)=>T.jsx("input",{type:"text",value:u,onChange:h=>{const d=[...n];d[f]=h.target.value,r(d)},className:"w-full px-3 py-2 mb-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:`Team ${f+1}`},f))]})]}),T.jsx("button",{onClick:l,className:"w-full bg-orange-500 text-white py-3 rounded-lg font-semibold hover:bg-orange-600 transition shadow-md",children:"Predict Match Outcome"}),i.calculated&&T.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-6 border-2 border-gray-300",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Predicted Score"}),T.jsxs("div",{className:"flex justify-around items-center",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-4xl font-bold text-red-600",children:i.red}),T.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Red Alliance"})]}),T.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"vs"}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-4xl font-bold text-blue-600",children:i.blue}),T.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Blue Alliance"})]})]}),T.jsx("div",{className:"mt-4 text-center",children:T.jsx("span",{className:`px-4 py-2 rounded-full font-semibold ${i.red>i.blue?"bg-red-100 text-red-700":i.blue>i.red?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:i.red>i.blue?"Red Alliance Wins":i.blue>i.red?"Blue Alliance Wins":"Tie"})})]})]})})}function Due(){const{forms:t,teamStats:e,tbaData:n,teamInfo:r}=yr(),i=C=>{if(!(A.role=="backup"&&A.seed>8)){let V=x;V[A.seed-1][A.role]=e[C.team_number],E(V)}A.role=="captain"?P(V=>({seed:V.seed,role:"first_pick"})):A.role=="first_pick"?A.seed<8?P(V=>({seed:V.seed+1,role:"captain"})):P(V=>({seed:8,role:"second_pick"})):A.role=="second_pick"?A.seed>1?P(V=>({seed:V.seed-1,role:"second_pick"})):P(V=>({seed:1,role:"backup"})):A.role=="backup"&&A.seed<8&&P(V=>({seed:V.seed+1,role:"backup"}))};function a(){const C=[...x];let V=A.seed,L=A.role;A.role==="first_pick"?L="captain":A.role==="captain"?A.seed>1&&(V=A.seed-1,L="first_pick"):A.role==="second_pick"?A.seed<8?V=A.seed+1:L="captain":A.role==="backup"&&(A.seed>1?V=A.seed-1:(L="second_pick",V=8));const D=V-1;C[D][L]={},E(C),P({seed:V,role:L})}function l(C){const V=["Seed","Captain","First Pick","Second Pick","Backup"].join("	"),L=C.map(j=>[j.seed,j.captain?.team_number?.mean??"-",j.first_pick?.team_number?.mean??"-",j.second_pick?.team_number?.mean??"-",j.backup?.team_number?.mean??"-"].join("	")),D=[V,...L].join(`
`);navigator.clipboard.writeText(D).then(()=>{console.log("✅ Alliances copied to clipboard (paste into Google Sheets!)")}).catch(j=>{console.error("❌ Failed to copy alliances:",j)})}const[u,f]=O.useState(!1),[h,d]=O.useState(-1),[p,y]=O.useState("Rank"),[b,w]=O.useState([]),[x,E]=O.useState([]),[A,P]=O.useState({role:"captain",seed:1});return O.useEffect(()=>{if(e&&t&&n){let C=[];Object.keys(e).forEach(L=>{const D=e[parseInt(L)];console.log(D),C.push({team_number:D.team_number.mean,rank:n?.rankings?.find(j=>j.team_key===`frc${D.team_number.mean}`)?.rank??-1,total_points:D.total_points.q3,opr:D.opr.q3})});const V=Array.from({length:8},(L,D)=>({seed:D+1,captain:{},first_pick:{},second_pick:{},backup:{}}));E(V),console.log(A),w(C)}},[e,n]),T.jsxs("div",{className:"max-w-6xl mx-auto",children:[T.jsx(SE,{isOpen:u,onClose:()=>f(!1),forms:t,teamNumber:h,teamInfo:r}),T.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[T.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[T.jsx(TD,{className:"text-orange-500"}),"Mock Alliance Selection"]}),T.jsxs("div",{className:"grid md:grid-cols-[1fr_2fr] gap-6",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex flex-col xl:flex-row justify-between align-center my-3 xl:gap-5",children:[T.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Available Teams"}),T.jsxs("div",{className:"flex flex-row justify-end align-center gap-2 py-1 h-10",children:[T.jsx("button",{onClick:()=>y("Number"),className:`${p=="Number"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"Number"}),T.jsx("button",{onClick:()=>y("Rank"),className:`${p=="Rank"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"Rank"}),T.jsx("button",{onClick:()=>y("OPR"),className:`${p=="OPR"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"OPR"}),T.jsx("button",{onClick:()=>y("Points"),className:`${p=="Points"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"Points"})]})]}),T.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:b.filter(C=>!x.flatMap(V=>[V.captain.team_number?.max??0,V.first_pick.team_number?.max??0,V.second_pick.team_number?.max??0,V.backup.team_number?.max??0]).includes(C.team_number)).sort((C,V)=>{switch(p){case"Number":return C.team_number-V.team_number;case"OPR":return V.opr-C.opr;case"Points":return V.total_points-C.total_points;default:return C.rank-V.rank}}).map(C=>T.jsxs("div",{onClick:()=>i(C),className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-orange-50 hover:border-orange-300 cursor-pointer transition",children:[T.jsxs("div",{children:[T.jsxs("span",{className:"font-bold text-gray-800",children:["Team ",C.team_number]}),T.jsxs("span",{className:"text-sm text-gray-500 ml-4",children:["Rank ",C.rank]})]}),T.jsxs("div",{className:"text-sm text-gray-600",children:["OPR: ",C.opr]}),T.jsxs("div",{className:"text-sm text-gray-600",children:["Q3 Pts: ",C.total_points]})]},C.team_number))})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex flex-row justify-between align-center",children:[T.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Alliances:"}),T.jsxs("div",{className:"text-center text-gray-400 flex flex-row items-center gap-3",children:[T.jsx("h3",{className:"select-none",children:"Click a team to add next pick/captain."}),T.jsx(B$,{onClick:()=>l(x),className:"m-2 hover:scale-115 transition rounded-md cursor-pointer",size:24,color:"black"}),T.jsx(d9,{onClick:()=>a(),className:"m-2 hover:scale-115 transition rounded-md cursor-pointer",size:24,color:"black"})]})]}),T.jsxs("div",{className:"grid grid-rows-9 w-full gap-3",children:[T.jsxs("div",{className:"flex flex-row justify-between gap-5 w-full",children:[T.jsxs("div",{className:"flex flex-row justify-between gap-3 flex-3 text-gray-700 text-sm",children:[T.jsx("h2",{children:"Seed"}),T.jsx("h2",{className:" flex-1 rounded-lg text-center",children:"Captain"}),T.jsx("h2",{className:"flex-1 rounded-lg text-center",children:"1st pick"}),T.jsx("h2",{className:" flex-1 rounded-lg text-center",children:"2nd pick"}),T.jsx("h2",{className:"flex-1 rounded-lg text-center",children:"Backup"})]}),T.jsx("div",{className:"flex flex-row justify-center gap-3 flex-1 text-gray-700 text-sm",children:T.jsx("h2",{children:"Predicted score"})})]}),x.map(C=>T.jsxs("div",{className:"flex flex-row justify-between gap-5 w-full",children:[T.jsxs("div",{className:"flex flex-row justify-between gap-3 flex-3 text-lg",children:[T.jsx("h2",{children:C.seed??"-"}),T.jsx("h2",{onClick:C.captain.team_number?.mean?()=>{d(C.captain.team_number?.mean),f(!0)}:()=>{},className:`${A.role=="captain"&&A.seed==C.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:C.captain.team_number?.mean??"-"}),T.jsx("h2",{onClick:C.first_pick.team_number?.mean?()=>{d(C.first_pick.team_number?.mean),f(!0)}:()=>{},className:`${A.role=="first_pick"&&A.seed==C.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:C.first_pick.team_number?.mean??"-"}),T.jsx("h2",{onClick:C.second_pick.team_number?.mean?()=>{d(C.second_pick.team_number?.mean),f(!0)}:()=>{},className:`${A.role=="second_pick"&&A.seed==C.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:C.second_pick.team_number?.mean??"-"}),T.jsx("h2",{onClick:C.backup.team_number?.mean?()=>{d(C.backup.team_number?.mean),f(!0)}:()=>{},className:`${A.role=="backup"&&A.seed==C.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:C.backup.team_number?.mean??"-"})]}),T.jsx("div",{className:"flex flex-row justify-center gap-3 flex-1 ",children:T.jsx("h2",{children:(C.captain.total_points?.q3??0)+(C.first_pick.total_points?.q3??0)+(C.second_pick.total_points?.q3??0)})})]}))]})]})]})]})]})}function Iue(){const[t,e]=O.useState({autoPoints:20,telePoints:60,endgamePoints:15}),n=t.autoPoints+t.telePoints+t.endgamePoints;return T.jsx("div",{className:"max-w-4xl mx-auto",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[T.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[T.jsx(SD,{className:"text-orange-500"}),"Strategy Simulator"]}),T.jsx("p",{className:"text-gray-600 mb-6",children:"Plan and simulate different match strategies"}),T.jsxs("div",{className:"space-y-4 mb-6",children:[T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Auto Points: ",t.autoPoints]}),T.jsx("input",{type:"range",min:"0",max:"50",value:t.autoPoints,onChange:r=>e({...t,autoPoints:parseInt(r.target.value)}),className:"w-full accent-orange-500"})]}),T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tele Points: ",t.telePoints]}),T.jsx("input",{type:"range",min:"0",max:"100",value:t.telePoints,onChange:r=>e({...t,telePoints:parseInt(r.target.value)}),className:"w-full accent-orange-500"})]}),T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Endgame Points: ",t.endgamePoints]}),T.jsx("input",{type:"range",min:"0",max:"30",value:t.endgamePoints,onChange:r=>e({...t,endgamePoints:parseInt(r.target.value)}),className:"w-full accent-orange-500"})]})]}),T.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg p-6 border-2 border-orange-300",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Projected Score"}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-6xl font-bold text-orange-600",children:n}),T.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Total Points"})]}),T.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-2xl font-bold text-gray-700",children:t.autoPoints}),T.jsx("div",{className:"text-xs text-gray-500",children:"Auto"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-2xl font-bold text-gray-700",children:t.telePoints}),T.jsx("div",{className:"text-xs text-gray-500",children:"Tele"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-2xl font-bold text-gray-700",children:t.endgamePoints}),T.jsx("div",{className:"text-xs text-gray-500",children:"Endgame"})]})]})]})]})})}const kue=h$([{path:"/",element:T.jsx(qK,{}),errorElement:T.jsx(GK,{})},{path:"teams",element:T.jsx(bue,{})},{path:"ranks",element:T.jsx(Eue,{})},{path:"settings",element:T.jsx(Sue,{})},{path:"coscout",element:T.jsx(Tue,{})},{path:"match",element:T.jsx(Oue,{})},{path:"picklist",element:T.jsx(Cue,{})},{path:"sandbox",element:T.jsx(Pue,{})}]);gV.createRoot(document.getElementById("root")).render(T.jsx(O.StrictMode,{children:T.jsx(S$,{router:kue})}));
