function kV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ci(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function DV(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var vb={exports:{}},Ad={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EP;function IV(){if(EP)return Ad;EP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Ad.Fragment=e,Ad.jsx=n,Ad.jsxs=n,Ad}var SP;function MV(){return SP||(SP=1,vb.exports=IV()),vb.exports}var _=MV(),bb={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TP;function LV(){if(TP)return tt;TP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function S(H,oe,ae){this.props=H,this.context=oe,this.refs=E,this.updater=ae||b}S.prototype.isReactComponent={},S.prototype.setState=function(H,oe){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,oe,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function O(){}O.prototype=S.prototype;function R(H,oe,ae){this.props=H,this.context=oe,this.refs=E,this.updater=ae||b}var P=R.prototype=new O;P.constructor=R,x(P,S.prototype),P.isPureReactComponent=!0;var $=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function k(H,oe,ae,me,Pe,$e){return ae=$e.ref,{$$typeof:t,type:H,key:oe,ref:ae!==void 0?ae:null,props:$e}}function I(H,oe){return k(H.type,oe,void 0,void 0,void 0,H.props)}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function V(H){var oe={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ae){return oe[ae]})}var z=/\/+/g;function q(H,oe){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):oe.toString(36)}function U(){}function ge(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(U,U):(H.status="pending",H.then(function(oe){H.status==="pending"&&(H.status="fulfilled",H.value=oe)},function(oe){H.status==="pending"&&(H.status="rejected",H.reason=oe)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function we(H,oe,ae,me,Pe){var $e=typeof H;($e==="undefined"||$e==="boolean")&&(H=null);var Ve=!1;if(H===null)Ve=!0;else switch($e){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(H.$$typeof){case t:case e:Ve=!0;break;case h:return Ve=H._init,we(Ve(H._payload),oe,ae,me,Pe)}}if(Ve)return Pe=Pe(H),Ve=me===""?"."+q(H,0):me,$(Pe)?(ae="",Ve!=null&&(ae=Ve.replace(z,"$&/")+"/"),we(Pe,oe,ae,"",function(_e){return _e})):Pe!=null&&(M(Pe)&&(Pe=I(Pe,ae+(Pe.key==null||H&&H.key===Pe.key?"":(""+Pe.key).replace(z,"$&/")+"/")+Ve)),oe.push(Pe)),1;Ve=0;var on=me===""?".":me+":";if($(H))for(var Ot=0;Ot<H.length;Ot++)me=H[Ot],$e=on+q(me,Ot),Ve+=we(me,oe,ae,$e,Pe);else if(Ot=y(H),typeof Ot=="function")for(H=Ot.call(H),Ot=0;!(me=H.next()).done;)me=me.value,$e=on+q(me,Ot++),Ve+=we(me,oe,ae,$e,Pe);else if($e==="object"){if(typeof H.then=="function")return we(ge(H),oe,ae,me,Pe);throw oe=String(H),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function G(H,oe,ae){if(H==null)return H;var me=[],Pe=0;return we(H,me,"","",function($e){return oe.call(ae,$e,Pe++)}),me}function ie(H){if(H._status===-1){var oe=H._result;oe=oe(),oe.then(function(ae){(H._status===0||H._status===-1)&&(H._status=1,H._result=ae)},function(ae){(H._status===0||H._status===-1)&&(H._status=2,H._result=ae)}),H._status===-1&&(H._status=0,H._result=oe)}if(H._status===1)return H._result.default;throw H._result}var pe=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function xe(){}return tt.Children={map:G,forEach:function(H,oe,ae){G(H,function(){oe.apply(this,arguments)},ae)},count:function(H){var oe=0;return G(H,function(){oe++}),oe},toArray:function(H){return G(H,function(oe){return oe})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},tt.Component=S,tt.Fragment=n,tt.Profiler=i,tt.PureComponent=R,tt.StrictMode=r,tt.Suspense=f,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,tt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return D.H.useMemoCache(H)}},tt.cache=function(H){return function(){return H.apply(null,arguments)}},tt.cloneElement=function(H,oe,ae){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var me=x({},H.props),Pe=H.key,$e=void 0;if(oe!=null)for(Ve in oe.ref!==void 0&&($e=void 0),oe.key!==void 0&&(Pe=""+oe.key),oe)!N.call(oe,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&oe.ref===void 0||(me[Ve]=oe[Ve]);var Ve=arguments.length-2;if(Ve===1)me.children=ae;else if(1<Ve){for(var on=Array(Ve),Ot=0;Ot<Ve;Ot++)on[Ot]=arguments[Ot+2];me.children=on}return k(H.type,Pe,void 0,void 0,$e,me)},tt.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},tt.createElement=function(H,oe,ae){var me,Pe={},$e=null;if(oe!=null)for(me in oe.key!==void 0&&($e=""+oe.key),oe)N.call(oe,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Pe[me]=oe[me]);var Ve=arguments.length-2;if(Ve===1)Pe.children=ae;else if(1<Ve){for(var on=Array(Ve),Ot=0;Ot<Ve;Ot++)on[Ot]=arguments[Ot+2];Pe.children=on}if(H&&H.defaultProps)for(me in Ve=H.defaultProps,Ve)Pe[me]===void 0&&(Pe[me]=Ve[me]);return k(H,$e,void 0,void 0,null,Pe)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(H){return{$$typeof:u,render:H}},tt.isValidElement=M,tt.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:ie}},tt.memo=function(H,oe){return{$$typeof:d,type:H,compare:oe===void 0?null:oe}},tt.startTransition=function(H){var oe=D.T,ae={};D.T=ae;try{var me=H(),Pe=D.S;Pe!==null&&Pe(ae,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(xe,pe)}catch($e){pe($e)}finally{D.T=oe}},tt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},tt.use=function(H){return D.H.use(H)},tt.useActionState=function(H,oe,ae){return D.H.useActionState(H,oe,ae)},tt.useCallback=function(H,oe){return D.H.useCallback(H,oe)},tt.useContext=function(H){return D.H.useContext(H)},tt.useDebugValue=function(){},tt.useDeferredValue=function(H,oe){return D.H.useDeferredValue(H,oe)},tt.useEffect=function(H,oe,ae){var me=D.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(H,oe)},tt.useId=function(){return D.H.useId()},tt.useImperativeHandle=function(H,oe,ae){return D.H.useImperativeHandle(H,oe,ae)},tt.useInsertionEffect=function(H,oe){return D.H.useInsertionEffect(H,oe)},tt.useLayoutEffect=function(H,oe){return D.H.useLayoutEffect(H,oe)},tt.useMemo=function(H,oe){return D.H.useMemo(H,oe)},tt.useOptimistic=function(H,oe){return D.H.useOptimistic(H,oe)},tt.useReducer=function(H,oe,ae){return D.H.useReducer(H,oe,ae)},tt.useRef=function(H){return D.H.useRef(H)},tt.useState=function(H){return D.H.useState(H)},tt.useSyncExternalStore=function(H,oe,ae){return D.H.useSyncExternalStore(H,oe,ae)},tt.useTransition=function(){return D.H.useTransition()},tt.version="19.1.1",tt}var AP;function lf(){return AP||(AP=1,bb.exports=LV()),bb.exports}var T=lf();const Vd=ci(T),$V=kV({__proto__:null,default:Vd},[T]);var _b={exports:{}},Od={},wb={exports:{}},xb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OP;function VV(){return OP||(OP=1,(function(t){function e(G,ie){var pe=G.length;G.push(ie);e:for(;0<pe;){var xe=pe-1>>>1,H=G[xe];if(0<i(H,ie))G[xe]=ie,G[pe]=H,pe=xe;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ie=G[0],pe=G.pop();if(pe!==ie){G[0]=pe;e:for(var xe=0,H=G.length,oe=H>>>1;xe<oe;){var ae=2*(xe+1)-1,me=G[ae],Pe=ae+1,$e=G[Pe];if(0>i(me,pe))Pe<H&&0>i($e,me)?(G[xe]=$e,G[Pe]=pe,xe=Pe):(G[xe]=me,G[ae]=pe,xe=ae);else if(Pe<H&&0>i($e,pe))G[xe]=$e,G[Pe]=pe,xe=Pe;else break e}}return ie}function i(G,ie){var pe=G.sortIndex-ie.sortIndex;return pe!==0?pe:G.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var f=[],d=[],h=1,p=null,y=3,b=!1,x=!1,E=!1,S=!1,O=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function $(G){for(var ie=n(d);ie!==null;){if(ie.callback===null)r(d);else if(ie.startTime<=G)r(d),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=n(d)}}function D(G){if(E=!1,$(G),!x)if(n(f)!==null)x=!0,N||(N=!0,q());else{var ie=n(d);ie!==null&&we(D,ie.startTime-G)}}var N=!1,k=-1,I=5,M=-1;function V(){return S?!0:!(t.unstable_now()-M<I)}function z(){if(S=!1,N){var G=t.unstable_now();M=G;var ie=!0;try{e:{x=!1,E&&(E=!1,R(k),k=-1),b=!0;var pe=y;try{t:{for($(G),p=n(f);p!==null&&!(p.expirationTime>G&&V());){var xe=p.callback;if(typeof xe=="function"){p.callback=null,y=p.priorityLevel;var H=xe(p.expirationTime<=G);if(G=t.unstable_now(),typeof H=="function"){p.callback=H,$(G),ie=!0;break t}p===n(f)&&r(f),$(G)}else r(f);p=n(f)}if(p!==null)ie=!0;else{var oe=n(d);oe!==null&&we(D,oe.startTime-G),ie=!1}}break e}finally{p=null,y=pe,b=!1}ie=void 0}}finally{ie?q():N=!1}}}var q;if(typeof P=="function")q=function(){P(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ge=U.port2;U.port1.onmessage=z,q=function(){ge.postMessage(null)}}else q=function(){O(z,0)};function we(G,ie){k=O(function(){G(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(G){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var pe=y;y=ie;try{return G()}finally{y=pe}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pe=y;y=G;try{return ie()}finally{y=pe}},t.unstable_scheduleCallback=function(G,ie,pe){var xe=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?xe+pe:xe):pe=xe,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=pe+H,G={id:h++,callback:ie,priorityLevel:G,startTime:pe,expirationTime:H,sortIndex:-1},pe>xe?(G.sortIndex=pe,e(d,G),n(f)===null&&G===n(d)&&(E?(R(k),k=-1):E=!0,we(D,pe-xe))):(G.sortIndex=H,e(f,G),x||b||(x=!0,N||(N=!0,q()))),G},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(G){var ie=y;return function(){var pe=y;y=ie;try{return G.apply(this,arguments)}finally{y=pe}}}})(xb)),xb}var PP;function UV(){return PP||(PP=1,wb.exports=VV()),wb.exports}var Eb={exports:{}},dr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP;function BV(){if(RP)return dr;RP=1;var t=lf();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:d,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dr.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,h)},dr.flushSync=function(f){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=d,r.p=h,r.d.f()}},dr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},dr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},dr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,p=u(h,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):h==="script"&&r.d.X(f,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},dr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},dr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=u(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},dr.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},dr.requestFormReset=function(f){r.d.r(f)},dr.unstable_batchedUpdates=function(f,d){return f(d)},dr.useFormState=function(f,d,h){return o.H.useFormState(f,d,h)},dr.useFormStatus=function(){return o.H.useHostTransitionStatus()},dr.version="19.1.1",dr}var CP;function hD(){if(CP)return Eb.exports;CP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Eb.exports=BV(),Eb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP;function zV(){if(jP)return Od;jP=1;var t=UV(),e=lf(),n=hD();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,c=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(c=l.return),s=l.return;while(s)}return l.tag===3?c:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var c=s,m=l;;){var v=c.return;if(v===null)break;var w=v.alternate;if(w===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===c)return u(v),s;if(w===m)return u(v),l;w=w.sibling}throw Error(r(188))}if(c.return!==m.return)c=v,m=w;else{for(var j=!1,L=v.child;L;){if(L===c){j=!0,c=v,m=w;break}if(L===m){j=!0,m=v,c=w;break}L=L.sibling}if(!j){for(L=w.child;L;){if(L===c){j=!0,c=w,m=v;break}if(L===m){j=!0,m=w,c=v;break}L=L.sibling}if(!j)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:l}function d(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=d(s),l!==null)return l;s=s.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function ge(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case P:return(s.displayName||"Context")+".Provider";case R:return(s._context.displayName||"Context")+".Consumer";case $:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return l=s.displayName||null,l!==null?l:ge(s.type)||"Memo";case I:l=s._payload,s=s._init;try{return ge(s(l))}catch{}}return null}var we=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},xe=[],H=-1;function oe(s){return{current:s}}function ae(s){0>H||(s.current=xe[H],xe[H]=null,H--)}function me(s,l){H++,xe[H]=s.current,s.current=l}var Pe=oe(null),$e=oe(null),Ve=oe(null),on=oe(null);function Ot(s,l){switch(me(Ve,l),me($e,s),me(Pe,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?QO(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=QO(l),s=JO(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(Pe),me(Pe,s)}function _e(){ae(Pe),ae($e),ae(Ve)}function De(s){s.memoizedState!==null&&me(on,s);var l=Pe.current,c=JO(l,s.type);l!==c&&(me($e,s),me(Pe,c))}function Ke(s){$e.current===s&&(ae(Pe),ae($e)),on.current===s&&(ae(on),wd._currentValue=pe)}var ye=Object.prototype.hasOwnProperty,Zt=t.unstable_scheduleCallback,et=t.unstable_cancelCallback,dn=t.unstable_shouldYield,vn=t.unstable_requestPaint,rn=t.unstable_now,Vs=t.unstable_getCurrentPriorityLevel,il=t.unstable_ImmediatePriority,Us=t.unstable_UserBlockingPriority,qa=t.unstable_NormalPriority,qi=t.unstable_LowPriority,di=t.unstable_IdlePriority,Bs=t.log,zs=t.unstable_setDisableYieldValue,Et=null,nt=null;function cr(s){if(typeof Bs=="function"&&zs(s),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Et,s)}catch{}}var bn=Math.clz32?Math.clz32:la,Su=Math.log,hi=Math.LN2;function la(s){return s>>>=0,s===0?32:31-(Su(s)/hi|0)|0}var ua=256,ca=4194304;function zr(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Fa(s,l,c){var m=s.pendingLanes;if(m===0)return 0;var v=0,w=s.suspendedLanes,j=s.pingedLanes;s=s.warmLanes;var L=m&134217727;return L!==0?(m=L&~w,m!==0?v=zr(m):(j&=L,j!==0?v=zr(j):c||(c=L&~s,c!==0&&(v=zr(c))))):(L=m&~w,L!==0?v=zr(L):j!==0?v=zr(j):c||(c=m&~s,c!==0&&(v=zr(c)))),v===0?0:l!==0&&l!==v&&(l&w)===0&&(w=v&-v,c=l&-l,w>=c||w===32&&(c&4194048)!==0)?l:v}function mi(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function qs(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ha(){var s=ua;return ua<<=1,(ua&4194048)===0&&(ua=256),s}function al(){var s=ca;return ca<<=1,(ca&62914560)===0&&(ca=4194304),s}function pi(s){for(var l=[],c=0;31>c;c++)l.push(s);return l}function Fi(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Fs(s,l,c,m,v,w){var j=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var L=s.entanglements,F=s.expirationTimes,Z=s.hiddenUpdates;for(c=j&~c;0<c;){var le=31-bn(c),ce=1<<le;L[le]=0,F[le]=-1;var ne=Z[le];if(ne!==null)for(Z[le]=null,le=0;le<ne.length;le++){var re=ne[le];re!==null&&(re.lane&=-536870913)}c&=~ce}m!==0&&wr(s,m,0),w!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=w&~(j&~l))}function wr(s,l,c){s.pendingLanes|=l,s.suspendedLanes&=~l;var m=31-bn(l);s.entangledLanes|=l,s.entanglements[m]=s.entanglements[m]|1073741824|c&4194090}function fa(s,l){var c=s.entangledLanes|=l;for(s=s.entanglements;c;){var m=31-bn(c),v=1<<m;v&l|s[m]&l&&(s[m]|=l),c&=~v}}function da(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Hs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function K(){var s=ie.p;return s!==0?s:(s=window.event,s===void 0?32:yP(s.type))}function X(s,l){var c=ie.p;try{return ie.p=s,l()}finally{ie.p=c}}var ee=Math.random().toString(36).slice(2),fe="__reactFiber$"+ee,ve="__reactProps$"+ee,Ee="__reactContainer$"+ee,Ie="__reactEvents$"+ee,je="__reactListeners$"+ee,Ne="__reactHandles$"+ee,Ue="__reactResources$"+ee,ke="__reactMarker$"+ee;function Re(s){delete s[fe],delete s[ve],delete s[Ie],delete s[je],delete s[Ne]}function Ze(s){var l=s[fe];if(l)return l;for(var c=s.parentNode;c;){if(l=c[Ee]||c[fe]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(s=nP(s);s!==null;){if(c=s[fe])return c;s=nP(s)}return l}s=c,c=s.parentNode}return null}function mt(s){if(s=s[fe]||s[Ee]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Ct(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function St(s){var l=s[Ue];return l||(l=s[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ye(s){s[ke]=!0}var Tt=new Set,Cr={};function Zn(s,l){Bn(s,l),Bn(s+"Capture",l)}function Bn(s,l){for(Cr[s]=l,s=0;s<l.length;s++)Tt.add(l[s])}var xr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ks={},qr={};function gi(s){return ye.call(qr,s)?!0:ye.call(Ks,s)?!1:xr.test(s)?qr[s]=!0:(Ks[s]=!0,!1)}function Fr(s,l,c){if(gi(l))if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+c)}}function Er(s,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+c)}}function Fe(s,l,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(l,c,""+m)}}var en,Hi;function er(s){if(en===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);en=l&&l[1]||"",Hi=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+en+s+Hi}var Ht=!1;function Ki(s,l){if(!s||Ht)return"";Ht=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var ne=re}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(re){ne=re}s.call(ce.prototype)}}else{try{throw Error()}catch(re){ne=re}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),j=w[0],L=w[1];if(j&&L){var F=j.split(`
`),Z=L.split(`
`);for(v=m=0;m<F.length&&!F[m].includes("DetermineComponentFrameRoot");)m++;for(;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;if(m===F.length||v===Z.length)for(m=F.length-1,v=Z.length-1;1<=m&&0<=v&&F[m]!==Z[v];)v--;for(;1<=m&&0<=v;m--,v--)if(F[m]!==Z[v]){if(m!==1||v!==1)do if(m--,v--,0>v||F[m]!==Z[v]){var le=`
`+F[m].replace(" at new "," at ");return s.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",s.displayName)),le}while(1<=m&&0<=v);break}}}finally{Ht=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?er(c):""}function Gs(s){switch(s.tag){case 26:case 27:case 5:return er(s.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 15:return Ki(s.type,!1);case 11:return Ki(s.type.render,!1);case 1:return Ki(s.type,!0);case 31:return er("Activity");default:return""}}function Ws(s){try{var l="";do l+=Gs(s),s=s.return;while(s);return l}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Sr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Rf(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function xv(s){var l=Rf(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),m=""+s[l];if(!s.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,w=c.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return v.call(this)},set:function(j){m=""+j,w.call(this,j)}}),Object.defineProperty(s,l,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(j){m=""+j},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Tu(s){s._valueTracker||(s._valueTracker=xv(s))}function Cf(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var c=l.getValue(),m="";return s&&(m=Rf(s)?s.checked?"true":"false":s.value),s=m,s!==c?(l.setValue(s),!0):!1}function sl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ev=/[\n"\\]/g;function _n(s){return s.replace(Ev,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Hr(s,l,c,m,v,w,j,L){s.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.type=j:s.removeAttribute("type"),l!=null?j==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Sr(l)):s.value!==""+Sr(l)&&(s.value=""+Sr(l)):j!=="submit"&&j!=="reset"||s.removeAttribute("value"),l!=null?Ys(s,j,Sr(l)):c!=null?Ys(s,j,Sr(c)):m!=null&&s.removeAttribute("value"),v==null&&w!=null&&(s.defaultChecked=!!w),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.name=""+Sr(L):s.removeAttribute("name")}function ol(s,l,c,m,v,w,j,L){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),l!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;c=c!=null?""+Sr(c):"",l=l!=null?""+Sr(l):c,L||l===s.value||(s.value=l),s.defaultValue=l}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=L?s.checked:!!m,s.defaultChecked=!!m,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(s.name=j)}function Ys(s,l,c){l==="number"&&sl(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Ka(s,l,c,m){if(s=s.options,l){l={};for(var v=0;v<c.length;v++)l["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=l.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&m&&(s[c].defaultSelected=!0)}else{for(c=""+Sr(c),l=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,m&&(s[v].defaultSelected=!0);return}l!==null||s[v].disabled||(l=s[v])}l!==null&&(l.selected=!0)}}function Dt(s,l,c){if(l!=null&&(l=""+Sr(l),l!==s.value&&(s.value=l),c==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=c!=null?""+Sr(c):""}function ll(s,l,c,m){if(l==null){if(m!=null){if(c!=null)throw Error(r(92));if(we(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),l=c}c=Sr(l),s.defaultValue=c,m=s.textContent,m===c&&m!==""&&m!==null&&(s.value=m)}function yi(s,l){if(l){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=l;return}}s.textContent=l}var ul=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function om(s,l,c){var m=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":m?s.setProperty(l,c):typeof c!="number"||c===0||ul.has(l)?l==="float"?s.cssFloat=c:s[l]=(""+c).trim():s[l]=c+"px"}function jf(s,l,c){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var v in l)m=l[v],l.hasOwnProperty(v)&&c[v]!==m&&om(s,v,m)}else for(var w in l)l.hasOwnProperty(w)&&om(s,w,l[w])}function Nf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Au(s){return Tv.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ga=null;function vi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Wa=null,Ya=null;function kf(s){var l=mt(s);if(l&&(s=l.stateNode)){var c=s[ve]||null;e:switch(s=l.stateNode,l.type){case"input":if(Hr(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+_n(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var m=c[l];if(m!==s&&m.form===s.form){var v=m[ve]||null;if(!v)throw Error(r(90));Hr(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<c.length;l++)m=c[l],m.form===s.form&&Cf(m)}break e;case"textarea":Dt(s,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&Ka(s,!!c.multiple,l,!1)}}}var ha=!1;function lm(s,l,c){if(ha)return s(l,c);ha=!0;try{var m=s(l);return m}finally{if(ha=!1,(Wa!==null||Ya!==null)&&(tp(),Wa&&(l=Wa,s=Ya,Ya=Wa=null,kf(l),s)))for(l=0;l<s.length;l++)kf(s[l])}}function cl(s,l){var c=s.stateNode;if(c===null)return null;var m=c[ve]||null;if(m===null)return null;c=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,l,typeof c));return c}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bi=!1;if(Gi)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){bi=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{bi=!1}var ma=null,Xs=null,Xa=null;function Df(){if(Xa)return Xa;var s,l=Xs,c=l.length,m,v="value"in ma?ma.value:ma.textContent,w=v.length;for(s=0;s<c&&l[s]===v[s];s++);var j=c-s;for(m=1;m<=j&&l[c-m]===v[w-m];m++);return Xa=v.slice(s,1<m?1-m:void 0)}function pa(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function ga(){return!0}function If(){return!1}function zn(s){function l(c,m,v,w,j){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=w,this.target=j,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(c=s[L],this[L]=c?c(w):w[L]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ga:If,this.isPropagationStopped=If,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ga)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ga)},persist:function(){},isPersistent:ga}),l}var Pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ou=zn(Pt),dl=h({},Pt,{view:0,detail:0}),um=zn(dl),Pu,Ru,ya,hl=h({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gl,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ya&&(ya&&s.type==="mousemove"?(Pu=s.screenX-ya.screenX,Ru=s.screenY-ya.screenY):Ru=Pu=0,ya=s),Pu)},movementY:function(s){return"movementY"in s?s.movementY:Ru}}),_i=zn(hl),cm=h({},hl,{dataTransfer:0}),Av=zn(cm),ml=h({},dl,{relatedTarget:0}),Cu=zn(ml),Mf=h({},Pt,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=zn(Mf),fm=h({},Pt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Nu=zn(fm),Ov=h({},Pt,{data:0}),Lf=zn(Ov),pl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $f(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=hm[s])?!!l[s]:!1}function gl(){return $f}var mm=h({},dl,{key:function(s){if(s.key){var l=pl[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=pa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?dm[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gl,charCode:function(s){return s.type==="keypress"?pa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?pa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ku=zn(mm),pm=h({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vf=zn(pm),Qa=h({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gl}),gm=zn(Qa),ym=h({},Pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vm=zn(ym),bm=h({},hl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Du=zn(bm),Tr=h({},Pt,{newState:0,oldState:0}),_m=zn(Tr),wm=[9,13,27,32],va=Gi&&"CompositionEvent"in window,g=null;Gi&&"documentMode"in document&&(g=document.documentMode);var A=Gi&&"TextEvent"in window&&!g,C=Gi&&(!va||g&&8<g&&11>=g),B=" ",Q=!1;function se(s,l){switch(s){case"keyup":return wm.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var pt=!1;function Rn(s,l){switch(s){case"compositionend":return be(l);case"keypress":return l.which!==32?null:(Q=!0,B);case"textInput":return s=l.data,s===B&&Q?null:s;default:return null}}function gt(s,l){if(pt)return s==="compositionend"||!va&&se(s,l)?(s=Df(),Xa=Xs=ma=null,pt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return C&&l.locale!=="ko"?null:l.data;default:return null}}var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cn(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!qn[s.type]:l==="textarea"}function Ja(s,l,c,m){Wa?Ya?Ya.push(m):Ya=[m]:Wa=m,l=op(l,"onChange"),0<l.length&&(c=new Ou("onChange","change",null,c,m),s.push({event:c,listeners:l}))}var tr=null,ba=null;function Uf(s){KO(s,0)}function xm(s){var l=Ct(s);if(Cf(l))return s}function hT(s,l){if(s==="change")return l}var mT=!1;if(Gi){var Pv;if(Gi){var Rv="oninput"in document;if(!Rv){var pT=document.createElement("div");pT.setAttribute("oninput","return;"),Rv=typeof pT.oninput=="function"}Pv=Rv}else Pv=!1;mT=Pv&&(!document.documentMode||9<document.documentMode)}function gT(){tr&&(tr.detachEvent("onpropertychange",yT),ba=tr=null)}function yT(s){if(s.propertyName==="value"&&xm(ba)){var l=[];Ja(l,ba,s,vi(s)),lm(Uf,l)}}function u5(s,l,c){s==="focusin"?(gT(),tr=l,ba=c,tr.attachEvent("onpropertychange",yT)):s==="focusout"&&gT()}function c5(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return xm(ba)}function f5(s,l){if(s==="click")return xm(l)}function d5(s,l){if(s==="input"||s==="change")return xm(l)}function h5(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Kr=typeof Object.is=="function"?Object.is:h5;function Bf(s,l){if(Kr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var c=Object.keys(s),m=Object.keys(l);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!ye.call(l,v)||!Kr(s[v],l[v]))return!1}return!0}function vT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bT(s,l){var c=vT(s);s=0;for(var m;c;){if(c.nodeType===3){if(m=s+c.textContent.length,s<=l&&m>=l)return{node:c,offset:l-s};s=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=vT(c)}}function _T(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?_T(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function wT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=sl(s.document);l instanceof s.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)s=l.contentWindow;else break;l=sl(s.document)}return l}function Cv(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var m5=Gi&&"documentMode"in document&&11>=document.documentMode,Iu=null,jv=null,zf=null,Nv=!1;function xT(s,l,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Nv||Iu==null||Iu!==sl(m)||(m=Iu,"selectionStart"in m&&Cv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),zf&&Bf(zf,m)||(zf=m,m=op(jv,"onSelect"),0<m.length&&(l=new Ou("onSelect","select",null,l,c),s.push({event:l,listeners:m}),l.target=Iu)))}function yl(s,l){var c={};return c[s.toLowerCase()]=l.toLowerCase(),c["Webkit"+s]="webkit"+l,c["Moz"+s]="moz"+l,c}var Mu={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionrun:yl("Transition","TransitionRun"),transitionstart:yl("Transition","TransitionStart"),transitioncancel:yl("Transition","TransitionCancel"),transitionend:yl("Transition","TransitionEnd")},kv={},ET={};Gi&&(ET=document.createElement("div").style,"AnimationEvent"in window||(delete Mu.animationend.animation,delete Mu.animationiteration.animation,delete Mu.animationstart.animation),"TransitionEvent"in window||delete Mu.transitionend.transition);function vl(s){if(kv[s])return kv[s];if(!Mu[s])return s;var l=Mu[s],c;for(c in l)if(l.hasOwnProperty(c)&&c in ET)return kv[s]=l[c];return s}var ST=vl("animationend"),TT=vl("animationiteration"),AT=vl("animationstart"),p5=vl("transitionrun"),g5=vl("transitionstart"),y5=vl("transitioncancel"),OT=vl("transitionend"),PT=new Map,Dv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dv.push("scrollEnd");function Wi(s,l){PT.set(s,l),Zn(l,[s])}var RT=new WeakMap;function wi(s,l){if(typeof s=="object"&&s!==null){var c=RT.get(s);return c!==void 0?c:(l={value:s,source:l,stack:Ws(l)},RT.set(s,l),l)}return{value:s,source:l,stack:Ws(l)}}var xi=[],Lu=0,Iv=0;function Em(){for(var s=Lu,l=Iv=Lu=0;l<s;){var c=xi[l];xi[l++]=null;var m=xi[l];xi[l++]=null;var v=xi[l];xi[l++]=null;var w=xi[l];if(xi[l++]=null,m!==null&&v!==null){var j=m.pending;j===null?v.next=v:(v.next=j.next,j.next=v),m.pending=v}w!==0&&CT(c,v,w)}}function Sm(s,l,c,m){xi[Lu++]=s,xi[Lu++]=l,xi[Lu++]=c,xi[Lu++]=m,Iv|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function Mv(s,l,c,m){return Sm(s,l,c,m),Tm(s)}function $u(s,l){return Sm(s,null,null,l),Tm(s)}function CT(s,l,c){s.lanes|=c;var m=s.alternate;m!==null&&(m.lanes|=c);for(var v=!1,w=s.return;w!==null;)w.childLanes|=c,m=w.alternate,m!==null&&(m.childLanes|=c),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(v=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,v&&l!==null&&(v=31-bn(c),s=w.hiddenUpdates,m=s[v],m===null?s[v]=[l]:m.push(l),l.lane=c|536870912),w):null}function Tm(s){if(50<hd)throw hd=0,z0=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Vu={};function v5(s,l,c,m){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(s,l,c,m){return new v5(s,l,c,m)}function Lv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Za(s,l){var c=s.alternate;return c===null?(c=Gr(s.tag,l,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=l,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,l=s.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function jT(s,l){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,l=c.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Am(s,l,c,m,v,w){var j=0;if(m=s,typeof s=="function")Lv(s)&&(j=1);else if(typeof s=="string")j=_V(s,c,Pe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=Gr(31,c,l,v),s.elementType=M,s.lanes=w,s;case x:return bl(c.children,v,w,l);case E:j=8,v|=24;break;case S:return s=Gr(12,c,l,v|2),s.elementType=S,s.lanes=w,s;case D:return s=Gr(13,c,l,v),s.elementType=D,s.lanes=w,s;case N:return s=Gr(19,c,l,v),s.elementType=N,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:case P:j=10;break e;case R:j=9;break e;case $:j=11;break e;case k:j=14;break e;case I:j=16,m=null;break e}j=29,c=Error(r(130,s===null?"null":typeof s,"")),m=null}return l=Gr(j,c,l,v),l.elementType=s,l.type=m,l.lanes=w,l}function bl(s,l,c,m){return s=Gr(7,s,m,l),s.lanes=c,s}function $v(s,l,c){return s=Gr(6,s,null,l),s.lanes=c,s}function Vv(s,l,c){return l=Gr(4,s.children!==null?s.children:[],s.key,l),l.lanes=c,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var Uu=[],Bu=0,Om=null,Pm=0,Ei=[],Si=0,_l=null,es=1,ts="";function wl(s,l){Uu[Bu++]=Pm,Uu[Bu++]=Om,Om=s,Pm=l}function NT(s,l,c){Ei[Si++]=es,Ei[Si++]=ts,Ei[Si++]=_l,_l=s;var m=es;s=ts;var v=32-bn(m)-1;m&=~(1<<v),c+=1;var w=32-bn(l)+v;if(30<w){var j=v-v%5;w=(m&(1<<j)-1).toString(32),m>>=j,v-=j,es=1<<32-bn(l)+v|c<<v|m,ts=w+s}else es=1<<w|c<<v|m,ts=s}function Uv(s){s.return!==null&&(wl(s,1),NT(s,1,0))}function Bv(s){for(;s===Om;)Om=Uu[--Bu],Uu[Bu]=null,Pm=Uu[--Bu],Uu[Bu]=null;for(;s===_l;)_l=Ei[--Si],Ei[Si]=null,ts=Ei[--Si],Ei[Si]=null,es=Ei[--Si],Ei[Si]=null}var Ar=null,ln=null,At=!1,xl=null,_a=!1,zv=Error(r(519));function El(s){var l=Error(r(418,""));throw Hf(wi(l,s)),zv}function kT(s){var l=s.stateNode,c=s.type,m=s.memoizedProps;switch(l[fe]=s,l[ve]=m,c){case"dialog":ct("cancel",l),ct("close",l);break;case"iframe":case"object":case"embed":ct("load",l);break;case"video":case"audio":for(c=0;c<pd.length;c++)ct(pd[c],l);break;case"source":ct("error",l);break;case"img":case"image":case"link":ct("error",l),ct("load",l);break;case"details":ct("toggle",l);break;case"input":ct("invalid",l),ol(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Tu(l);break;case"select":ct("invalid",l);break;case"textarea":ct("invalid",l),ll(l,m.value,m.defaultValue,m.children),Tu(l)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||m.suppressHydrationWarning===!0||XO(l.textContent,c)?(m.popover!=null&&(ct("beforetoggle",l),ct("toggle",l)),m.onScroll!=null&&ct("scroll",l),m.onScrollEnd!=null&&ct("scrollend",l),m.onClick!=null&&(l.onclick=lp),l=!0):l=!1,l||El(s)}function DT(s){for(Ar=s.return;Ar;)switch(Ar.tag){case 5:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:Ar=Ar.return}}function qf(s){if(s!==Ar)return!1;if(!At)return DT(s),At=!0,!1;var l=s.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||ib(s.type,s.memoizedProps)),c=!c),c&&ln&&El(s),DT(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(l===0){ln=Xi(s.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++;s=s.nextSibling}ln=null}}else l===27?(l=ln,ho(s.type)?(s=lb,lb=null,ln=s):ln=l):ln=Ar?Xi(s.stateNode.nextSibling):null;return!0}function Ff(){ln=Ar=null,At=!1}function IT(){var s=xl;return s!==null&&(kr===null?kr=s:kr.push.apply(kr,s),xl=null),s}function Hf(s){xl===null?xl=[s]:xl.push(s)}var qv=oe(null),Sl=null,ns=null;function Qs(s,l,c){me(qv,l._currentValue),l._currentValue=c}function rs(s){s._currentValue=qv.current,ae(qv)}function Fv(s,l,c){for(;s!==null;){var m=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),s===c)break;s=s.return}}function Hv(s,l,c,m){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var w=v.dependencies;if(w!==null){var j=v.child;w=w.firstContext;e:for(;w!==null;){var L=w;w=v;for(var F=0;F<l.length;F++)if(L.context===l[F]){w.lanes|=c,L=w.alternate,L!==null&&(L.lanes|=c),Fv(w.return,c,s),m||(j=null);break e}w=L.next}}else if(v.tag===18){if(j=v.return,j===null)throw Error(r(341));j.lanes|=c,w=j.alternate,w!==null&&(w.lanes|=c),Fv(j,c,s),j=null}else j=v.child;if(j!==null)j.return=v;else for(j=v;j!==null;){if(j===s){j=null;break}if(v=j.sibling,v!==null){v.return=j.return,j=v;break}j=j.return}v=j}}function Kf(s,l,c,m){s=null;for(var v=l,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var j=v.alternate;if(j===null)throw Error(r(387));if(j=j.memoizedProps,j!==null){var L=v.type;Kr(v.pendingProps.value,j.value)||(s!==null?s.push(L):s=[L])}}else if(v===on.current){if(j=v.alternate,j===null)throw Error(r(387));j.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(wd):s=[wd])}v=v.return}s!==null&&Hv(l,s,c,m),l.flags|=262144}function Rm(s){for(s=s.firstContext;s!==null;){if(!Kr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Tl(s){Sl=s,ns=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function fr(s){return MT(Sl,s)}function Cm(s,l){return Sl===null&&Tl(s),MT(s,l)}function MT(s,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},ns===null){if(s===null)throw Error(r(308));ns=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else ns=ns.next=l;return c}var b5=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(c,m){s.push(m)}};this.abort=function(){l.aborted=!0,s.forEach(function(c){return c()})}},_5=t.unstable_scheduleCallback,w5=t.unstable_NormalPriority,jn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kv(){return{controller:new b5,data:new Map,refCount:0}}function Gf(s){s.refCount--,s.refCount===0&&_5(w5,function(){s.controller.abort()})}var Wf=null,Gv=0,zu=0,qu=null;function x5(s,l){if(Wf===null){var c=Wf=[];Gv=0,zu=Y0(),qu={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Gv++,l.then(LT,LT),l}function LT(){if(--Gv===0&&Wf!==null){qu!==null&&(qu.status="fulfilled");var s=Wf;Wf=null,zu=0,qu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function E5(s,l){var c=[],m={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return s.then(function(){m.status="fulfilled",m.value=l;for(var v=0;v<c.length;v++)(0,c[v])(l)},function(v){for(m.status="rejected",m.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),m}var $T=G.S;G.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&x5(s,l),$T!==null&&$T(s,l)};var Al=oe(null);function Wv(){var s=Al.current;return s!==null?s:Kt.pooledCache}function jm(s,l){l===null?me(Al,Al.current):me(Al,l.pool)}function VT(){var s=Wv();return s===null?null:{parent:jn._currentValue,pool:s}}var Yf=Error(r(460)),UT=Error(r(474)),Nm=Error(r(542)),Yv={then:function(){}};function BT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function km(){}function zT(s,l,c){switch(c=s[c],c===void 0?s.push(l):c!==l&&(l.then(km,km),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,FT(s),s;default:if(typeof l.status=="string")l.then(km,km);else{if(s=Kt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(m){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=m}},function(m){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,FT(s),s}throw Xf=l,Yf}}var Xf=null;function qT(){if(Xf===null)throw Error(r(459));var s=Xf;return Xf=null,s}function FT(s){if(s===Yf||s===Nm)throw Error(r(483))}var Js=!1;function Xv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qv(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Zs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function eo(s,l,c){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(jt&2)!==0){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,l=Tm(s),CT(s,null,c),l}return Sm(s,m,l,c),Tm(s)}function Qf(s,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var m=l.lanes;m&=s.pendingLanes,c|=m,l.lanes=c,fa(s,c)}}function Jv(s,l){var c=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var j={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?v=w=j:w=w.next=j,c=c.next}while(c!==null);w===null?v=w=l:w=w.next=l}else v=w=l;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=l}var Zv=!1;function Jf(){if(Zv){var s=qu;if(s!==null)throw s}}function Zf(s,l,c,m){Zv=!1;var v=s.updateQueue;Js=!1;var w=v.firstBaseUpdate,j=v.lastBaseUpdate,L=v.shared.pending;if(L!==null){v.shared.pending=null;var F=L,Z=F.next;F.next=null,j===null?w=Z:j.next=Z,j=F;var le=s.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==j&&(L===null?le.firstBaseUpdate=Z:L.next=Z,le.lastBaseUpdate=F))}if(w!==null){var ce=v.baseState;j=0,le=Z=F=null,L=w;do{var ne=L.lane&-536870913,re=ne!==L.lane;if(re?(yt&ne)===ne:(m&ne)===ne){ne!==0&&ne===zu&&(Zv=!0),le!==null&&(le=le.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var We=s,qe=L;ne=l;var Lt=c;switch(qe.tag){case 1:if(We=qe.payload,typeof We=="function"){ce=We.call(Lt,ce,ne);break e}ce=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=qe.payload,ne=typeof We=="function"?We.call(Lt,ce,ne):We,ne==null)break e;ce=h({},ce,ne);break e;case 2:Js=!0}}ne=L.callback,ne!==null&&(s.flags|=64,re&&(s.flags|=8192),re=v.callbacks,re===null?v.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(Z=le=re,F=ce):le=le.next=re,j|=ne;if(L=L.next,L===null){if(L=v.shared.pending,L===null)break;re=L,L=re.next,re.next=null,v.lastBaseUpdate=re,v.shared.pending=null}}while(!0);le===null&&(F=ce),v.baseState=F,v.firstBaseUpdate=Z,v.lastBaseUpdate=le,w===null&&(v.shared.lanes=0),lo|=j,s.lanes=j,s.memoizedState=ce}}function HT(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function KT(s,l){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)HT(c[s],l)}var Fu=oe(null),Dm=oe(0);function GT(s,l){s=cs,me(Dm,s),me(Fu,l),cs=s|l.baseLanes}function e0(){me(Dm,cs),me(Fu,Fu.current)}function t0(){cs=Dm.current,ae(Fu),ae(Dm)}var to=0,rt=null,It=null,wn=null,Im=!1,Hu=!1,Ol=!1,Mm=0,ed=0,Ku=null,S5=0;function hn(){throw Error(r(321))}function n0(s,l){if(l===null)return!1;for(var c=0;c<l.length&&c<s.length;c++)if(!Kr(s[c],l[c]))return!1;return!0}function r0(s,l,c,m,v,w){return to=w,rt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,G.H=s===null||s.memoizedState===null?CA:jA,Ol=!1,w=c(m,v),Ol=!1,Hu&&(w=YT(l,c,m,v)),WT(s),w}function WT(s){G.H=zm;var l=It!==null&&It.next!==null;if(to=0,wn=It=rt=null,Im=!1,ed=0,Ku=null,l)throw Error(r(300));s===null||Fn||(s=s.dependencies,s!==null&&Rm(s)&&(Fn=!0))}function YT(s,l,c,m){rt=s;var v=0;do{if(Hu&&(Ku=null),ed=0,Hu=!1,25<=v)throw Error(r(301));if(v+=1,wn=It=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}G.H=j5,w=l(c,m)}while(Hu);return w}function T5(){var s=G.H,l=s.useState()[0];return l=typeof l.then=="function"?td(l):l,s=s.useState()[0],(It!==null?It.memoizedState:null)!==s&&(rt.flags|=1024),l}function i0(){var s=Mm!==0;return Mm=0,s}function a0(s,l,c){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~c}function s0(s){if(Im){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Im=!1}to=0,wn=It=rt=null,Hu=!1,ed=Mm=0,Ku=null}function jr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?rt.memoizedState=wn=s:wn=wn.next=s,wn}function xn(){if(It===null){var s=rt.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var l=wn===null?rt.memoizedState:wn.next;if(l!==null)wn=l,It=s;else{if(s===null)throw rt.alternate===null?Error(r(467)):Error(r(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},wn===null?rt.memoizedState=wn=s:wn=wn.next=s}return wn}function o0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function td(s){var l=ed;return ed+=1,Ku===null&&(Ku=[]),s=zT(Ku,s,l),l=rt,(wn===null?l.memoizedState:wn.next)===null&&(l=l.alternate,G.H=l===null||l.memoizedState===null?CA:jA),s}function Lm(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return td(s);if(s.$$typeof===P)return fr(s)}throw Error(r(438,String(s)))}function l0(s){var l=null,c=rt.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var m=rt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=o0(),rt.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(s),m=0;m<s;m++)c[m]=V;return l.index++,c}function is(s,l){return typeof l=="function"?l(s):l}function $m(s){var l=xn();return u0(l,It,s)}function u0(s,l,c){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var v=s.baseQueue,w=m.pending;if(w!==null){if(v!==null){var j=v.next;v.next=w.next,w.next=j}l.baseQueue=v=w,m.pending=null}if(w=s.baseState,v===null)s.memoizedState=w;else{l=v.next;var L=j=null,F=null,Z=l,le=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(yt&ce)===ce:(to&ce)===ce){var ne=Z.revertLane;if(ne===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===zu&&(le=!0);else if((to&ne)===ne){Z=Z.next,ne===zu&&(le=!0);continue}else ce={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(L=F=ce,j=w):F=F.next=ce,rt.lanes|=ne,lo|=ne;ce=Z.action,Ol&&c(w,ce),w=Z.hasEagerState?Z.eagerState:c(w,ce)}else ne={lane:ce,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(L=F=ne,j=w):F=F.next=ne,rt.lanes|=ce,lo|=ce;Z=Z.next}while(Z!==null&&Z!==l);if(F===null?j=w:F.next=L,!Kr(w,s.memoizedState)&&(Fn=!0,le&&(c=qu,c!==null)))throw c;s.memoizedState=w,s.baseState=j,s.baseQueue=F,m.lastRenderedState=w}return v===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function c0(s){var l=xn(),c=l.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var m=c.dispatch,v=c.pending,w=l.memoizedState;if(v!==null){c.pending=null;var j=v=v.next;do w=s(w,j.action),j=j.next;while(j!==v);Kr(w,l.memoizedState)||(Fn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),c.lastRenderedState=w}return[w,m]}function XT(s,l,c){var m=rt,v=xn(),w=At;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=l();var j=!Kr((It||v).memoizedState,c);j&&(v.memoizedState=c,Fn=!0),v=v.queue;var L=ZT.bind(null,m,v,s);if(nd(2048,8,L,[s]),v.getSnapshot!==l||j||wn!==null&&wn.memoizedState.tag&1){if(m.flags|=2048,Gu(9,Vm(),JT.bind(null,m,v,c,l),null),Kt===null)throw Error(r(349));w||(to&124)!==0||QT(m,l,c)}return c}function QT(s,l,c){s.flags|=16384,s={getSnapshot:l,value:c},l=rt.updateQueue,l===null?(l=o0(),rt.updateQueue=l,l.stores=[s]):(c=l.stores,c===null?l.stores=[s]:c.push(s))}function JT(s,l,c,m){l.value=c,l.getSnapshot=m,eA(l)&&tA(s)}function ZT(s,l,c){return c(function(){eA(l)&&tA(s)})}function eA(s){var l=s.getSnapshot;s=s.value;try{var c=l();return!Kr(s,c)}catch{return!0}}function tA(s){var l=$u(s,2);l!==null&&Jr(l,s,2)}function f0(s){var l=jr();if(typeof s=="function"){var c=s;if(s=c(),Ol){cr(!0);try{c()}finally{cr(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:s},l}function nA(s,l,c,m){return s.baseState=c,u0(s,It,typeof m=="function"?m:is)}function A5(s,l,c,m,v){if(Bm(s))throw Error(r(485));if(s=l.action,s!==null){var w={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){w.listeners.push(j)}};G.T!==null?c(!0):w.isTransition=!1,m(w),c=l.pending,c===null?(w.next=l.pending=w,rA(l,w)):(w.next=c.next,l.pending=c.next=w)}}function rA(s,l){var c=l.action,m=l.payload,v=s.state;if(l.isTransition){var w=G.T,j={};G.T=j;try{var L=c(v,m),F=G.S;F!==null&&F(j,L),iA(s,l,L)}catch(Z){d0(s,l,Z)}finally{G.T=w}}else try{w=c(v,m),iA(s,l,w)}catch(Z){d0(s,l,Z)}}function iA(s,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){aA(s,l,m)},function(m){return d0(s,l,m)}):aA(s,l,c)}function aA(s,l,c){l.status="fulfilled",l.value=c,sA(l),s.state=c,l=s.pending,l!==null&&(c=l.next,c===l?s.pending=null:(c=c.next,l.next=c,rA(s,c)))}function d0(s,l,c){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=c,sA(l),l=l.next;while(l!==m)}s.action=null}function sA(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function oA(s,l){return l}function lA(s,l){if(At){var c=Kt.formState;if(c!==null){e:{var m=rt;if(At){if(ln){t:{for(var v=ln,w=_a;v.nodeType!==8;){if(!w){v=null;break t}if(v=Xi(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){ln=Xi(v.nextSibling),m=v.data==="F!";break e}}El(m)}m=!1}m&&(l=c[0])}}return c=jr(),c.memoizedState=c.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oA,lastRenderedState:l},c.queue=m,c=OA.bind(null,rt,m),m.dispatch=c,m=f0(!1),w=y0.bind(null,rt,!1,m.queue),m=jr(),v={state:l,dispatch:null,action:s,pending:null},m.queue=v,c=A5.bind(null,rt,v,w,c),v.dispatch=c,m.memoizedState=s,[l,c,!1]}function uA(s){var l=xn();return cA(l,It,s)}function cA(s,l,c){if(l=u0(s,l,oA)[0],s=$m(is)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=td(l)}catch(j){throw j===Yf?Nm:j}else m=l;l=xn();var v=l.queue,w=v.dispatch;return c!==l.memoizedState&&(rt.flags|=2048,Gu(9,Vm(),O5.bind(null,v,c),null)),[m,w,s]}function O5(s,l){s.action=l}function fA(s){var l=xn(),c=It;if(c!==null)return cA(l,c,s);xn(),l=l.memoizedState,c=xn();var m=c.queue.dispatch;return c.memoizedState=s,[l,m,!1]}function Gu(s,l,c,m){return s={tag:s,create:c,deps:m,inst:l,next:null},l=rt.updateQueue,l===null&&(l=o0(),rt.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=s.next=s:(m=c.next,c.next=s,s.next=m,l.lastEffect=s),s}function Vm(){return{destroy:void 0,resource:void 0}}function dA(){return xn().memoizedState}function Um(s,l,c,m){var v=jr();m=m===void 0?null:m,rt.flags|=s,v.memoizedState=Gu(1|l,Vm(),c,m)}function nd(s,l,c,m){var v=xn();m=m===void 0?null:m;var w=v.memoizedState.inst;It!==null&&m!==null&&n0(m,It.memoizedState.deps)?v.memoizedState=Gu(l,w,c,m):(rt.flags|=s,v.memoizedState=Gu(1|l,w,c,m))}function hA(s,l){Um(8390656,8,s,l)}function mA(s,l){nd(2048,8,s,l)}function pA(s,l){return nd(4,2,s,l)}function gA(s,l){return nd(4,4,s,l)}function yA(s,l){if(typeof l=="function"){s=s();var c=l(s);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function vA(s,l,c){c=c!=null?c.concat([s]):null,nd(4,4,yA.bind(null,l,s),c)}function h0(){}function bA(s,l){var c=xn();l=l===void 0?null:l;var m=c.memoizedState;return l!==null&&n0(l,m[1])?m[0]:(c.memoizedState=[s,l],s)}function _A(s,l){var c=xn();l=l===void 0?null:l;var m=c.memoizedState;if(l!==null&&n0(l,m[1]))return m[0];if(m=s(),Ol){cr(!0);try{s()}finally{cr(!1)}}return c.memoizedState=[m,l],m}function m0(s,l,c){return c===void 0||(to&1073741824)!==0?s.memoizedState=l:(s.memoizedState=c,s=EO(),rt.lanes|=s,lo|=s,c)}function wA(s,l,c,m){return Kr(c,l)?c:Fu.current!==null?(s=m0(s,c,m),Kr(s,l)||(Fn=!0),s):(to&42)===0?(Fn=!0,s.memoizedState=c):(s=EO(),rt.lanes|=s,lo|=s,l)}function xA(s,l,c,m,v){var w=ie.p;ie.p=w!==0&&8>w?w:8;var j=G.T,L={};G.T=L,y0(s,!1,l,c);try{var F=v(),Z=G.S;if(Z!==null&&Z(L,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var le=E5(F,m);rd(s,l,le,Qr(s))}else rd(s,l,m,Qr(s))}catch(ce){rd(s,l,{then:function(){},status:"rejected",reason:ce},Qr())}finally{ie.p=w,G.T=j}}function P5(){}function p0(s,l,c,m){if(s.tag!==5)throw Error(r(476));var v=EA(s).queue;xA(s,v,l,pe,c===null?P5:function(){return SA(s),c(m)})}function EA(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:pe},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:c},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function SA(s){var l=EA(s).next.queue;rd(s,l,{},Qr())}function g0(){return fr(wd)}function TA(){return xn().memoizedState}function AA(){return xn().memoizedState}function R5(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var c=Qr();s=Zs(c);var m=eo(l,s,c);m!==null&&(Jr(m,l,c),Qf(m,l,c)),l={cache:Kv()},s.payload=l;return}l=l.return}}function C5(s,l,c){var m=Qr();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Bm(s)?PA(l,c):(c=Mv(s,l,c,m),c!==null&&(Jr(c,s,m),RA(c,l,m)))}function OA(s,l,c){var m=Qr();rd(s,l,c,m)}function rd(s,l,c,m){var v={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Bm(s))PA(l,v);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var j=l.lastRenderedState,L=w(j,c);if(v.hasEagerState=!0,v.eagerState=L,Kr(L,j))return Sm(s,l,v,0),Kt===null&&Em(),!1}catch{}finally{}if(c=Mv(s,l,v,m),c!==null)return Jr(c,s,m),RA(c,l,m),!0}return!1}function y0(s,l,c,m){if(m={lane:2,revertLane:Y0(),action:m,hasEagerState:!1,eagerState:null,next:null},Bm(s)){if(l)throw Error(r(479))}else l=Mv(s,c,m,2),l!==null&&Jr(l,s,2)}function Bm(s){var l=s.alternate;return s===rt||l!==null&&l===rt}function PA(s,l){Hu=Im=!0;var c=s.pending;c===null?l.next=l:(l.next=c.next,c.next=l),s.pending=l}function RA(s,l,c){if((c&4194048)!==0){var m=l.lanes;m&=s.pendingLanes,c|=m,l.lanes=c,fa(s,c)}}var zm={readContext:fr,use:Lm,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn},CA={readContext:fr,use:Lm,useCallback:function(s,l){return jr().memoizedState=[s,l===void 0?null:l],s},useContext:fr,useEffect:hA,useImperativeHandle:function(s,l,c){c=c!=null?c.concat([s]):null,Um(4194308,4,yA.bind(null,l,s),c)},useLayoutEffect:function(s,l){return Um(4194308,4,s,l)},useInsertionEffect:function(s,l){Um(4,2,s,l)},useMemo:function(s,l){var c=jr();l=l===void 0?null:l;var m=s();if(Ol){cr(!0);try{s()}finally{cr(!1)}}return c.memoizedState=[m,l],m},useReducer:function(s,l,c){var m=jr();if(c!==void 0){var v=c(l);if(Ol){cr(!0);try{c(l)}finally{cr(!1)}}}else v=l;return m.memoizedState=m.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},m.queue=s,s=s.dispatch=C5.bind(null,rt,s),[m.memoizedState,s]},useRef:function(s){var l=jr();return s={current:s},l.memoizedState=s},useState:function(s){s=f0(s);var l=s.queue,c=OA.bind(null,rt,l);return l.dispatch=c,[s.memoizedState,c]},useDebugValue:h0,useDeferredValue:function(s,l){var c=jr();return m0(c,s,l)},useTransition:function(){var s=f0(!1);return s=xA.bind(null,rt,s.queue,!0,!1),jr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,c){var m=rt,v=jr();if(At){if(c===void 0)throw Error(r(407));c=c()}else{if(c=l(),Kt===null)throw Error(r(349));(yt&124)!==0||QT(m,l,c)}v.memoizedState=c;var w={value:c,getSnapshot:l};return v.queue=w,hA(ZT.bind(null,m,w,s),[s]),m.flags|=2048,Gu(9,Vm(),JT.bind(null,m,w,c,l),null),c},useId:function(){var s=jr(),l=Kt.identifierPrefix;if(At){var c=ts,m=es;c=(m&~(1<<32-bn(m)-1)).toString(32)+c,l=""+l+"R"+c,c=Mm++,0<c&&(l+="H"+c.toString(32)),l+=""}else c=S5++,l=""+l+"r"+c.toString(32)+"";return s.memoizedState=l},useHostTransitionStatus:g0,useFormState:lA,useActionState:lA,useOptimistic:function(s){var l=jr();l.memoizedState=l.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=y0.bind(null,rt,!0,c),c.dispatch=l,[s,l]},useMemoCache:l0,useCacheRefresh:function(){return jr().memoizedState=R5.bind(null,rt)}},jA={readContext:fr,use:Lm,useCallback:bA,useContext:fr,useEffect:mA,useImperativeHandle:vA,useInsertionEffect:pA,useLayoutEffect:gA,useMemo:_A,useReducer:$m,useRef:dA,useState:function(){return $m(is)},useDebugValue:h0,useDeferredValue:function(s,l){var c=xn();return wA(c,It.memoizedState,s,l)},useTransition:function(){var s=$m(is)[0],l=xn().memoizedState;return[typeof s=="boolean"?s:td(s),l]},useSyncExternalStore:XT,useId:TA,useHostTransitionStatus:g0,useFormState:uA,useActionState:uA,useOptimistic:function(s,l){var c=xn();return nA(c,It,s,l)},useMemoCache:l0,useCacheRefresh:AA},j5={readContext:fr,use:Lm,useCallback:bA,useContext:fr,useEffect:mA,useImperativeHandle:vA,useInsertionEffect:pA,useLayoutEffect:gA,useMemo:_A,useReducer:c0,useRef:dA,useState:function(){return c0(is)},useDebugValue:h0,useDeferredValue:function(s,l){var c=xn();return It===null?m0(c,s,l):wA(c,It.memoizedState,s,l)},useTransition:function(){var s=c0(is)[0],l=xn().memoizedState;return[typeof s=="boolean"?s:td(s),l]},useSyncExternalStore:XT,useId:TA,useHostTransitionStatus:g0,useFormState:fA,useActionState:fA,useOptimistic:function(s,l){var c=xn();return It!==null?nA(c,It,s,l):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:l0,useCacheRefresh:AA},Wu=null,id=0;function qm(s){var l=id;return id+=1,Wu===null&&(Wu=[]),zT(Wu,s,l)}function ad(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Fm(s,l){throw l.$$typeof===p?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function NA(s){var l=s._init;return l(s._payload)}function kA(s){function l(Y,W){if(s){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function c(Y,W){if(!s)return null;for(;W!==null;)l(Y,W),W=W.sibling;return null}function m(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function v(Y,W){return Y=Za(Y,W),Y.index=0,Y.sibling=null,Y}function w(Y,W,J){return Y.index=J,s?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=67108866,W):J):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function j(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function L(Y,W,J,ue){return W===null||W.tag!==6?(W=$v(J,Y.mode,ue),W.return=Y,W):(W=v(W,J),W.return=Y,W)}function F(Y,W,J,ue){var Ce=J.type;return Ce===x?le(Y,W,J.props.children,ue,J.key):W!==null&&(W.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&NA(Ce)===W.type)?(W=v(W,J.props),ad(W,J),W.return=Y,W):(W=Am(J.type,J.key,J.props,null,Y.mode,ue),ad(W,J),W.return=Y,W)}function Z(Y,W,J,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=Vv(J,Y.mode,ue),W.return=Y,W):(W=v(W,J.children||[]),W.return=Y,W)}function le(Y,W,J,ue,Ce){return W===null||W.tag!==7?(W=bl(J,Y.mode,ue,Ce),W.return=Y,W):(W=v(W,J),W.return=Y,W)}function ce(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=$v(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return J=Am(W.type,W.key,W.props,null,Y.mode,J),ad(J,W),J.return=Y,J;case b:return W=Vv(W,Y.mode,J),W.return=Y,W;case I:var ue=W._init;return W=ue(W._payload),ce(Y,W,J)}if(we(W)||q(W))return W=bl(W,Y.mode,J,null),W.return=Y,W;if(typeof W.then=="function")return ce(Y,qm(W),J);if(W.$$typeof===P)return ce(Y,Cm(Y,W),J);Fm(Y,W)}return null}function ne(Y,W,J,ue){var Ce=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ce!==null?null:L(Y,W,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case y:return J.key===Ce?F(Y,W,J,ue):null;case b:return J.key===Ce?Z(Y,W,J,ue):null;case I:return Ce=J._init,J=Ce(J._payload),ne(Y,W,J,ue)}if(we(J)||q(J))return Ce!==null?null:le(Y,W,J,ue,null);if(typeof J.then=="function")return ne(Y,W,qm(J),ue);if(J.$$typeof===P)return ne(Y,W,Cm(Y,J),ue);Fm(Y,J)}return null}function re(Y,W,J,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Y=Y.get(J)||null,L(W,Y,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case y:return Y=Y.get(ue.key===null?J:ue.key)||null,F(W,Y,ue,Ce);case b:return Y=Y.get(ue.key===null?J:ue.key)||null,Z(W,Y,ue,Ce);case I:var at=ue._init;return ue=at(ue._payload),re(Y,W,J,ue,Ce)}if(we(ue)||q(ue))return Y=Y.get(J)||null,le(W,Y,ue,Ce,null);if(typeof ue.then=="function")return re(Y,W,J,qm(ue),Ce);if(ue.$$typeof===P)return re(Y,W,J,Cm(W,ue),Ce);Fm(W,ue)}return null}function We(Y,W,J,ue){for(var Ce=null,at=null,Le=W,He=W=0,Kn=null;Le!==null&&He<J.length;He++){Le.index>He?(Kn=Le,Le=null):Kn=Le.sibling;var wt=ne(Y,Le,J[He],ue);if(wt===null){Le===null&&(Le=Kn);break}s&&Le&&wt.alternate===null&&l(Y,Le),W=w(wt,W,He),at===null?Ce=wt:at.sibling=wt,at=wt,Le=Kn}if(He===J.length)return c(Y,Le),At&&wl(Y,He),Ce;if(Le===null){for(;He<J.length;He++)Le=ce(Y,J[He],ue),Le!==null&&(W=w(Le,W,He),at===null?Ce=Le:at.sibling=Le,at=Le);return At&&wl(Y,He),Ce}for(Le=m(Le);He<J.length;He++)Kn=re(Le,Y,He,J[He],ue),Kn!==null&&(s&&Kn.alternate!==null&&Le.delete(Kn.key===null?He:Kn.key),W=w(Kn,W,He),at===null?Ce=Kn:at.sibling=Kn,at=Kn);return s&&Le.forEach(function(vo){return l(Y,vo)}),At&&wl(Y,He),Ce}function qe(Y,W,J,ue){if(J==null)throw Error(r(151));for(var Ce=null,at=null,Le=W,He=W=0,Kn=null,wt=J.next();Le!==null&&!wt.done;He++,wt=J.next()){Le.index>He?(Kn=Le,Le=null):Kn=Le.sibling;var vo=ne(Y,Le,wt.value,ue);if(vo===null){Le===null&&(Le=Kn);break}s&&Le&&vo.alternate===null&&l(Y,Le),W=w(vo,W,He),at===null?Ce=vo:at.sibling=vo,at=vo,Le=Kn}if(wt.done)return c(Y,Le),At&&wl(Y,He),Ce;if(Le===null){for(;!wt.done;He++,wt=J.next())wt=ce(Y,wt.value,ue),wt!==null&&(W=w(wt,W,He),at===null?Ce=wt:at.sibling=wt,at=wt);return At&&wl(Y,He),Ce}for(Le=m(Le);!wt.done;He++,wt=J.next())wt=re(Le,Y,He,wt.value,ue),wt!==null&&(s&&wt.alternate!==null&&Le.delete(wt.key===null?He:wt.key),W=w(wt,W,He),at===null?Ce=wt:at.sibling=wt,at=wt);return s&&Le.forEach(function(NV){return l(Y,NV)}),At&&wl(Y,He),Ce}function Lt(Y,W,J,ue){if(typeof J=="object"&&J!==null&&J.type===x&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case y:e:{for(var Ce=J.key;W!==null;){if(W.key===Ce){if(Ce=J.type,Ce===x){if(W.tag===7){c(Y,W.sibling),ue=v(W,J.props.children),ue.return=Y,Y=ue;break e}}else if(W.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&NA(Ce)===W.type){c(Y,W.sibling),ue=v(W,J.props),ad(ue,J),ue.return=Y,Y=ue;break e}c(Y,W);break}else l(Y,W);W=W.sibling}J.type===x?(ue=bl(J.props.children,Y.mode,ue,J.key),ue.return=Y,Y=ue):(ue=Am(J.type,J.key,J.props,null,Y.mode,ue),ad(ue,J),ue.return=Y,Y=ue)}return j(Y);case b:e:{for(Ce=J.key;W!==null;){if(W.key===Ce)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){c(Y,W.sibling),ue=v(W,J.children||[]),ue.return=Y,Y=ue;break e}else{c(Y,W);break}else l(Y,W);W=W.sibling}ue=Vv(J,Y.mode,ue),ue.return=Y,Y=ue}return j(Y);case I:return Ce=J._init,J=Ce(J._payload),Lt(Y,W,J,ue)}if(we(J))return We(Y,W,J,ue);if(q(J)){if(Ce=q(J),typeof Ce!="function")throw Error(r(150));return J=Ce.call(J),qe(Y,W,J,ue)}if(typeof J.then=="function")return Lt(Y,W,qm(J),ue);if(J.$$typeof===P)return Lt(Y,W,Cm(Y,J),ue);Fm(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,W!==null&&W.tag===6?(c(Y,W.sibling),ue=v(W,J),ue.return=Y,Y=ue):(c(Y,W),ue=$v(J,Y.mode,ue),ue.return=Y,Y=ue),j(Y)):c(Y,W)}return function(Y,W,J,ue){try{id=0;var Ce=Lt(Y,W,J,ue);return Wu=null,Ce}catch(Le){if(Le===Yf||Le===Nm)throw Le;var at=Gr(29,Le,null,Y.mode);return at.lanes=ue,at.return=Y,at}finally{}}}var Yu=kA(!0),DA=kA(!1),Ti=oe(null),wa=null;function no(s){var l=s.alternate;me(Nn,Nn.current&1),me(Ti,s),wa===null&&(l===null||Fu.current!==null||l.memoizedState!==null)&&(wa=s)}function IA(s){if(s.tag===22){if(me(Nn,Nn.current),me(Ti,s),wa===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(wa=s)}}else ro()}function ro(){me(Nn,Nn.current),me(Ti,Ti.current)}function as(s){ae(Ti),wa===s&&(wa=null),ae(Nn)}var Nn=oe(0);function Hm(s){for(var l=s;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||ob(c)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function v0(s,l,c,m){l=s.memoizedState,c=c(m,l),c=c==null?l:h({},l,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var b0={enqueueSetState:function(s,l,c){s=s._reactInternals;var m=Qr(),v=Zs(m);v.payload=l,c!=null&&(v.callback=c),l=eo(s,v,m),l!==null&&(Jr(l,s,m),Qf(l,s,m))},enqueueReplaceState:function(s,l,c){s=s._reactInternals;var m=Qr(),v=Zs(m);v.tag=1,v.payload=l,c!=null&&(v.callback=c),l=eo(s,v,m),l!==null&&(Jr(l,s,m),Qf(l,s,m))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var c=Qr(),m=Zs(c);m.tag=2,l!=null&&(m.callback=l),l=eo(s,m,c),l!==null&&(Jr(l,s,c),Qf(l,s,c))}};function MA(s,l,c,m,v,w,j){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,w,j):l.prototype&&l.prototype.isPureReactComponent?!Bf(c,m)||!Bf(v,w):!0}function LA(s,l,c,m){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,m),l.state!==s&&b0.enqueueReplaceState(l,l.state,null)}function Pl(s,l){var c=l;if("ref"in l){c={};for(var m in l)m!=="ref"&&(c[m]=l[m])}if(s=s.defaultProps){c===l&&(c=h({},c));for(var v in s)c[v]===void 0&&(c[v]=s[v])}return c}var Km=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function $A(s){Km(s)}function VA(s){console.error(s)}function UA(s){Km(s)}function Gm(s,l){try{var c=s.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function BA(s,l,c){try{var m=s.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function _0(s,l,c){return c=Zs(c),c.tag=3,c.payload={element:null},c.callback=function(){Gm(s,l)},c}function zA(s){return s=Zs(s),s.tag=3,s}function qA(s,l,c,m){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var w=m.value;s.payload=function(){return v(w)},s.callback=function(){BA(l,c,m)}}var j=c.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(s.callback=function(){BA(l,c,m),typeof v!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var L=m.stack;this.componentDidCatch(m.value,{componentStack:L!==null?L:""})})}function N5(s,l,c,m,v){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=c.alternate,l!==null&&Kf(l,c,v,!0),c=Ti.current,c!==null){switch(c.tag){case 13:return wa===null?F0():c.alternate===null&&un===0&&(un=3),c.flags&=-257,c.flags|=65536,c.lanes=v,m===Yv?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([m]):l.add(m),K0(s,m,v)),!1;case 22:return c.flags|=65536,m===Yv?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([m]):c.add(m)),K0(s,m,v)),!1}throw Error(r(435,c.tag))}return K0(s,m,v),F0(),!1}if(At)return l=Ti.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,m!==zv&&(s=Error(r(422),{cause:m}),Hf(wi(s,c)))):(m!==zv&&(l=Error(r(423),{cause:m}),Hf(wi(l,c))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,m=wi(m,c),v=_0(s.stateNode,m,v),Jv(s,v),un!==4&&(un=2)),!1;var w=Error(r(520),{cause:m});if(w=wi(w,c),dd===null?dd=[w]:dd.push(w),un!==4&&(un=2),l===null)return!0;m=wi(m,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,s=v&-v,c.lanes|=s,s=_0(c.stateNode,m,s),Jv(c,s),!1;case 1:if(l=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(uo===null||!uo.has(w))))return c.flags|=65536,v&=-v,c.lanes|=v,v=zA(v),qA(v,s,c,m),Jv(c,v),!1}c=c.return}while(c!==null);return!1}var FA=Error(r(461)),Fn=!1;function nr(s,l,c,m){l.child=s===null?DA(l,null,c,m):Yu(l,s.child,c,m)}function HA(s,l,c,m,v){c=c.render;var w=l.ref;if("ref"in m){var j={};for(var L in m)L!=="ref"&&(j[L]=m[L])}else j=m;return Tl(l),m=r0(s,l,c,j,w,v),L=i0(),s!==null&&!Fn?(a0(s,l,v),ss(s,l,v)):(At&&L&&Uv(l),l.flags|=1,nr(s,l,m,v),l.child)}function KA(s,l,c,m,v){if(s===null){var w=c.type;return typeof w=="function"&&!Lv(w)&&w.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=w,GA(s,l,w,m,v)):(s=Am(c.type,null,m,l,l.mode,v),s.ref=l.ref,s.return=l,l.child=s)}if(w=s.child,!P0(s,v)){var j=w.memoizedProps;if(c=c.compare,c=c!==null?c:Bf,c(j,m)&&s.ref===l.ref)return ss(s,l,v)}return l.flags|=1,s=Za(w,m),s.ref=l.ref,s.return=l,l.child=s}function GA(s,l,c,m,v){if(s!==null){var w=s.memoizedProps;if(Bf(w,m)&&s.ref===l.ref)if(Fn=!1,l.pendingProps=m=w,P0(s,v))(s.flags&131072)!==0&&(Fn=!0);else return l.lanes=s.lanes,ss(s,l,v)}return w0(s,l,c,m,v)}function WA(s,l,c){var m=l.pendingProps,v=m.children,w=s!==null?s.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=w!==null?w.baseLanes|c:c,s!==null){for(v=l.child=s.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;l.childLanes=w&~m}else l.childLanes=0,l.child=null;return YA(s,l,m,c)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&jm(l,w!==null?w.cachePool:null),w!==null?GT(l,w):e0(),IA(l);else return l.lanes=l.childLanes=536870912,YA(s,l,w!==null?w.baseLanes|c:c,c)}else w!==null?(jm(l,w.cachePool),GT(l,w),ro(),l.memoizedState=null):(s!==null&&jm(l,null),e0(),ro());return nr(s,l,v,c),l.child}function YA(s,l,c,m){var v=Wv();return v=v===null?null:{parent:jn._currentValue,pool:v},l.memoizedState={baseLanes:c,cachePool:v},s!==null&&jm(l,null),e0(),IA(l),s!==null&&Kf(s,l,m,!0),null}function Wm(s,l){var c=l.ref;if(c===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(l.flags|=4194816)}}function w0(s,l,c,m,v){return Tl(l),c=r0(s,l,c,m,void 0,v),m=i0(),s!==null&&!Fn?(a0(s,l,v),ss(s,l,v)):(At&&m&&Uv(l),l.flags|=1,nr(s,l,c,v),l.child)}function XA(s,l,c,m,v,w){return Tl(l),l.updateQueue=null,c=YT(l,m,c,v),WT(s),m=i0(),s!==null&&!Fn?(a0(s,l,w),ss(s,l,w)):(At&&m&&Uv(l),l.flags|=1,nr(s,l,c,w),l.child)}function QA(s,l,c,m,v){if(Tl(l),l.stateNode===null){var w=Vu,j=c.contextType;typeof j=="object"&&j!==null&&(w=fr(j)),w=new c(m,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=b0,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=m,w.state=l.memoizedState,w.refs={},Xv(l),j=c.contextType,w.context=typeof j=="object"&&j!==null?fr(j):Vu,w.state=l.memoizedState,j=c.getDerivedStateFromProps,typeof j=="function"&&(v0(l,c,j,m),w.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(j=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),j!==w.state&&b0.enqueueReplaceState(w,w.state,null),Zf(l,m,w,v),Jf(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(s===null){w=l.stateNode;var L=l.memoizedProps,F=Pl(c,L);w.props=F;var Z=w.context,le=c.contextType;j=Vu,typeof le=="object"&&le!==null&&(j=fr(le));var ce=c.getDerivedStateFromProps;le=typeof ce=="function"||typeof w.getSnapshotBeforeUpdate=="function",L=l.pendingProps!==L,le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L||Z!==j)&&LA(l,w,m,j),Js=!1;var ne=l.memoizedState;w.state=ne,Zf(l,m,w,v),Jf(),Z=l.memoizedState,L||ne!==Z||Js?(typeof ce=="function"&&(v0(l,c,ce,m),Z=l.memoizedState),(F=Js||MA(l,c,F,m,ne,Z,j))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Z),w.props=m,w.state=Z,w.context=j,m=F):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{w=l.stateNode,Qv(s,l),j=l.memoizedProps,le=Pl(c,j),w.props=le,ce=l.pendingProps,ne=w.context,Z=c.contextType,F=Vu,typeof Z=="object"&&Z!==null&&(F=fr(Z)),L=c.getDerivedStateFromProps,(Z=typeof L=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(j!==ce||ne!==F)&&LA(l,w,m,F),Js=!1,ne=l.memoizedState,w.state=ne,Zf(l,m,w,v),Jf();var re=l.memoizedState;j!==ce||ne!==re||Js||s!==null&&s.dependencies!==null&&Rm(s.dependencies)?(typeof L=="function"&&(v0(l,c,L,m),re=l.memoizedState),(le=Js||MA(l,c,le,m,ne,re,F)||s!==null&&s.dependencies!==null&&Rm(s.dependencies))?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,re,F),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,re,F)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||j===s.memoizedProps&&ne===s.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ne===s.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=re),w.props=m,w.state=re,w.context=F,m=le):(typeof w.componentDidUpdate!="function"||j===s.memoizedProps&&ne===s.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ne===s.memoizedState||(l.flags|=1024),m=!1)}return w=m,Wm(s,l),m=(l.flags&128)!==0,w||m?(w=l.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,s!==null&&m?(l.child=Yu(l,s.child,null,v),l.child=Yu(l,null,c,v)):nr(s,l,c,v),l.memoizedState=w.state,s=l.child):s=ss(s,l,v),s}function JA(s,l,c,m){return Ff(),l.flags|=256,nr(s,l,c,m),l.child}var x0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function E0(s){return{baseLanes:s,cachePool:VT()}}function S0(s,l,c){return s=s!==null?s.childLanes&~c:0,l&&(s|=Ai),s}function ZA(s,l,c){var m=l.pendingProps,v=!1,w=(l.flags&128)!==0,j;if((j=w)||(j=s!==null&&s.memoizedState===null?!1:(Nn.current&2)!==0),j&&(v=!0,l.flags&=-129),j=(l.flags&32)!==0,l.flags&=-33,s===null){if(At){if(v?no(l):ro(),At){var L=ln,F;if(F=L){e:{for(F=L,L=_a;F.nodeType!==8;){if(!L){L=null;break e}if(F=Xi(F.nextSibling),F===null){L=null;break e}}L=F}L!==null?(l.memoizedState={dehydrated:L,treeContext:_l!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},F=Gr(18,null,null,0),F.stateNode=L,F.return=l,l.child=F,Ar=l,ln=null,F=!0):F=!1}F||El(l)}if(L=l.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return ob(L)?l.lanes=32:l.lanes=536870912,null;as(l)}return L=m.children,m=m.fallback,v?(ro(),v=l.mode,L=Ym({mode:"hidden",children:L},v),m=bl(m,v,c,null),L.return=l,m.return=l,L.sibling=m,l.child=L,v=l.child,v.memoizedState=E0(c),v.childLanes=S0(s,j,c),l.memoizedState=x0,m):(no(l),T0(l,L))}if(F=s.memoizedState,F!==null&&(L=F.dehydrated,L!==null)){if(w)l.flags&256?(no(l),l.flags&=-257,l=A0(s,l,c)):l.memoizedState!==null?(ro(),l.child=s.child,l.flags|=128,l=null):(ro(),v=m.fallback,L=l.mode,m=Ym({mode:"visible",children:m.children},L),v=bl(v,L,c,null),v.flags|=2,m.return=l,v.return=l,m.sibling=v,l.child=m,Yu(l,s.child,null,c),m=l.child,m.memoizedState=E0(c),m.childLanes=S0(s,j,c),l.memoizedState=x0,l=v);else if(no(l),ob(L)){if(j=L.nextSibling&&L.nextSibling.dataset,j)var Z=j.dgst;j=Z,m=Error(r(419)),m.stack="",m.digest=j,Hf({value:m,source:null,stack:null}),l=A0(s,l,c)}else if(Fn||Kf(s,l,c,!1),j=(c&s.childLanes)!==0,Fn||j){if(j=Kt,j!==null&&(m=c&-c,m=(m&42)!==0?1:da(m),m=(m&(j.suspendedLanes|c))!==0?0:m,m!==0&&m!==F.retryLane))throw F.retryLane=m,$u(s,m),Jr(j,s,m),FA;L.data==="$?"||F0(),l=A0(s,l,c)}else L.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=F.treeContext,ln=Xi(L.nextSibling),Ar=l,At=!0,xl=null,_a=!1,s!==null&&(Ei[Si++]=es,Ei[Si++]=ts,Ei[Si++]=_l,es=s.id,ts=s.overflow,_l=l),l=T0(l,m.children),l.flags|=4096);return l}return v?(ro(),v=m.fallback,L=l.mode,F=s.child,Z=F.sibling,m=Za(F,{mode:"hidden",children:m.children}),m.subtreeFlags=F.subtreeFlags&65011712,Z!==null?v=Za(Z,v):(v=bl(v,L,c,null),v.flags|=2),v.return=l,m.return=l,m.sibling=v,l.child=m,m=v,v=l.child,L=s.child.memoizedState,L===null?L=E0(c):(F=L.cachePool,F!==null?(Z=jn._currentValue,F=F.parent!==Z?{parent:Z,pool:Z}:F):F=VT(),L={baseLanes:L.baseLanes|c,cachePool:F}),v.memoizedState=L,v.childLanes=S0(s,j,c),l.memoizedState=x0,m):(no(l),c=s.child,s=c.sibling,c=Za(c,{mode:"visible",children:m.children}),c.return=l,c.sibling=null,s!==null&&(j=l.deletions,j===null?(l.deletions=[s],l.flags|=16):j.push(s)),l.child=c,l.memoizedState=null,c)}function T0(s,l){return l=Ym({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Ym(s,l){return s=Gr(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function A0(s,l,c){return Yu(l,s.child,null,c),s=T0(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function eO(s,l,c){s.lanes|=l;var m=s.alternate;m!==null&&(m.lanes|=l),Fv(s.return,l,c)}function O0(s,l,c,m,v){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=c,w.tailMode=v)}function tO(s,l,c){var m=l.pendingProps,v=m.revealOrder,w=m.tail;if(nr(s,l,m.children,c),m=Nn.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&eO(s,c,l);else if(s.tag===19)eO(s,c,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}switch(me(Nn,m),v){case"forwards":for(c=l.child,v=null;c!==null;)s=c.alternate,s!==null&&Hm(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=l.child,l.child=null):(v=c.sibling,c.sibling=null),O0(l,!1,v,c,w);break;case"backwards":for(c=null,v=l.child,l.child=null;v!==null;){if(s=v.alternate,s!==null&&Hm(s)===null){l.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}O0(l,!0,c,null,w);break;case"together":O0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ss(s,l,c){if(s!==null&&(l.dependencies=s.dependencies),lo|=l.lanes,(c&l.childLanes)===0)if(s!==null){if(Kf(s,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,c=Za(s,s.pendingProps),l.child=c,c.return=l;s.sibling!==null;)s=s.sibling,c=c.sibling=Za(s,s.pendingProps),c.return=l;c.sibling=null}return l.child}function P0(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Rm(s)))}function k5(s,l,c){switch(l.tag){case 3:Ot(l,l.stateNode.containerInfo),Qs(l,jn,s.memoizedState.cache),Ff();break;case 27:case 5:De(l);break;case 4:Ot(l,l.stateNode.containerInfo);break;case 10:Qs(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(no(l),l.flags|=128,null):(c&l.child.childLanes)!==0?ZA(s,l,c):(no(l),s=ss(s,l,c),s!==null?s.sibling:null);no(l);break;case 19:var v=(s.flags&128)!==0;if(m=(c&l.childLanes)!==0,m||(Kf(s,l,c,!1),m=(c&l.childLanes)!==0),v){if(m)return tO(s,l,c);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),me(Nn,Nn.current),m)break;return null;case 22:case 23:return l.lanes=0,WA(s,l,c);case 24:Qs(l,jn,s.memoizedState.cache)}return ss(s,l,c)}function nO(s,l,c){if(s!==null)if(s.memoizedProps!==l.pendingProps)Fn=!0;else{if(!P0(s,c)&&(l.flags&128)===0)return Fn=!1,k5(s,l,c);Fn=(s.flags&131072)!==0}else Fn=!1,At&&(l.flags&1048576)!==0&&NT(l,Pm,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var m=l.elementType,v=m._init;if(m=v(m._payload),l.type=m,typeof m=="function")Lv(m)?(s=Pl(m,s),l.tag=1,l=QA(null,l,m,s,c)):(l.tag=0,l=w0(null,l,m,s,c));else{if(m!=null){if(v=m.$$typeof,v===$){l.tag=11,l=HA(null,l,m,s,c);break e}else if(v===k){l.tag=14,l=KA(null,l,m,s,c);break e}}throw l=ge(m)||m,Error(r(306,l,""))}}return l;case 0:return w0(s,l,l.type,l.pendingProps,c);case 1:return m=l.type,v=Pl(m,l.pendingProps),QA(s,l,m,v,c);case 3:e:{if(Ot(l,l.stateNode.containerInfo),s===null)throw Error(r(387));m=l.pendingProps;var w=l.memoizedState;v=w.element,Qv(s,l),Zf(l,m,null,c);var j=l.memoizedState;if(m=j.cache,Qs(l,jn,m),m!==w.cache&&Hv(l,[jn],c,!0),Jf(),m=j.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:j.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=JA(s,l,m,c);break e}else if(m!==v){v=wi(Error(r(424)),l),Hf(v),l=JA(s,l,m,c);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ln=Xi(s.firstChild),Ar=l,At=!0,xl=null,_a=!0,c=DA(l,null,m,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ff(),m===v){l=ss(s,l,c);break e}nr(s,l,m,c)}l=l.child}return l;case 26:return Wm(s,l),s===null?(c=sP(l.type,null,l.pendingProps,null))?l.memoizedState=c:At||(c=l.type,s=l.pendingProps,m=up(Ve.current).createElement(c),m[fe]=l,m[ve]=s,ir(m,c,s),Ye(m),l.stateNode=m):l.memoizedState=sP(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return De(l),s===null&&At&&(m=l.stateNode=rP(l.type,l.pendingProps,Ve.current),Ar=l,_a=!0,v=ln,ho(l.type)?(lb=v,ln=Xi(m.firstChild)):ln=v),nr(s,l,l.pendingProps.children,c),Wm(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&At&&((v=m=ln)&&(m=oV(m,l.type,l.pendingProps,_a),m!==null?(l.stateNode=m,Ar=l,ln=Xi(m.firstChild),_a=!1,v=!0):v=!1),v||El(l)),De(l),v=l.type,w=l.pendingProps,j=s!==null?s.memoizedProps:null,m=w.children,ib(v,w)?m=null:j!==null&&ib(v,j)&&(l.flags|=32),l.memoizedState!==null&&(v=r0(s,l,T5,null,null,c),wd._currentValue=v),Wm(s,l),nr(s,l,m,c),l.child;case 6:return s===null&&At&&((s=c=ln)&&(c=lV(c,l.pendingProps,_a),c!==null?(l.stateNode=c,Ar=l,ln=null,s=!0):s=!1),s||El(l)),null;case 13:return ZA(s,l,c);case 4:return Ot(l,l.stateNode.containerInfo),m=l.pendingProps,s===null?l.child=Yu(l,null,m,c):nr(s,l,m,c),l.child;case 11:return HA(s,l,l.type,l.pendingProps,c);case 7:return nr(s,l,l.pendingProps,c),l.child;case 8:return nr(s,l,l.pendingProps.children,c),l.child;case 12:return nr(s,l,l.pendingProps.children,c),l.child;case 10:return m=l.pendingProps,Qs(l,l.type,m.value),nr(s,l,m.children,c),l.child;case 9:return v=l.type._context,m=l.pendingProps.children,Tl(l),v=fr(v),m=m(v),l.flags|=1,nr(s,l,m,c),l.child;case 14:return KA(s,l,l.type,l.pendingProps,c);case 15:return GA(s,l,l.type,l.pendingProps,c);case 19:return tO(s,l,c);case 31:return m=l.pendingProps,c=l.mode,m={mode:m.mode,children:m.children},s===null?(c=Ym(m,c),c.ref=l.ref,l.child=c,c.return=l,l=c):(c=Za(s.child,m),c.ref=l.ref,l.child=c,c.return=l,l=c),l;case 22:return WA(s,l,c);case 24:return Tl(l),m=fr(jn),s===null?(v=Wv(),v===null&&(v=Kt,w=Kv(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=c),v=w),l.memoizedState={parent:m,cache:v},Xv(l),Qs(l,jn,v)):((s.lanes&c)!==0&&(Qv(s,l),Zf(l,null,null,c),Jf()),v=s.memoizedState,w=l.memoizedState,v.parent!==m?(v={parent:m,cache:m},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),Qs(l,jn,m)):(m=w.cache,Qs(l,jn,m),m!==v.cache&&Hv(l,[jn],c,!0))),nr(s,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function os(s){s.flags|=4}function rO(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!fP(l)){if(l=Ti.current,l!==null&&((yt&4194048)===yt?wa!==null:(yt&62914560)!==yt&&(yt&536870912)===0||l!==wa))throw Xf=Yv,UT;s.flags|=8192}}function Xm(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?al():536870912,s.lanes|=l,Zu|=l)}function sd(s,l){if(!At)switch(s.tailMode){case"hidden":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function an(s){var l=s.alternate!==null&&s.alternate.child===s.child,c=0,m=0;if(l)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=m,s.childLanes=c,l}function D5(s,l,c){var m=l.pendingProps;switch(Bv(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(l),null;case 1:return an(l),null;case 3:return c=l.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),rs(jn),_e(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(qf(l)?os(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,IT())),an(l),null;case 26:return c=l.memoizedState,s===null?(os(l),c!==null?(an(l),rO(l,c)):(an(l),l.flags&=-16777217)):c?c!==s.memoizedState?(os(l),an(l),rO(l,c)):(an(l),l.flags&=-16777217):(s.memoizedProps!==m&&os(l),an(l),l.flags&=-16777217),null;case 27:Ke(l),c=Ve.current;var v=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==m&&os(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return an(l),null}s=Pe.current,qf(l)?kT(l):(s=rP(v,m,c),l.stateNode=s,os(l))}return an(l),null;case 5:if(Ke(l),c=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&os(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return an(l),null}if(s=Pe.current,qf(l))kT(l);else{switch(v=up(Ve.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof m.is=="string"?v.createElement("select",{is:m.is}):v.createElement("select"),m.multiple?s.multiple=!0:m.size&&(s.size=m.size);break;default:s=typeof m.is=="string"?v.createElement(c,{is:m.is}):v.createElement(c)}}s[fe]=l,s[ve]=m;e:for(v=l.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===l)break e;for(;v.sibling===null;){if(v.return===null||v.return===l)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}l.stateNode=s;e:switch(ir(s,c,m),c){case"button":case"input":case"select":case"textarea":s=!!m.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&os(l)}}return an(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==m&&os(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(s=Ve.current,qf(l)){if(s=l.stateNode,c=l.memoizedProps,m=null,v=Ar,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}s[fe]=l,s=!!(s.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||XO(s.nodeValue,c)),s||El(l)}else s=up(s).createTextNode(m),s[fe]=l,l.stateNode=s}return an(l),null;case 13:if(m=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=qf(l),m!==null&&m.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[fe]=l}else Ff(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;an(l),v=!1}else v=IT(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(as(l),l):(as(l),null)}if(as(l),(l.flags&128)!==0)return l.lanes=c,l;if(c=m!==null,s=s!==null&&s.memoizedState!==null,c){m=l.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==v&&(m.flags|=2048)}return c!==s&&c&&(l.child.flags|=8192),Xm(l,l.updateQueue),an(l),null;case 4:return _e(),s===null&&Z0(l.stateNode.containerInfo),an(l),null;case 10:return rs(l.type),an(l),null;case 19:if(ae(Nn),v=l.memoizedState,v===null)return an(l),null;if(m=(l.flags&128)!==0,w=v.rendering,w===null)if(m)sd(v,!1);else{if(un!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(w=Hm(s),w!==null){for(l.flags|=128,sd(v,!1),s=w.updateQueue,l.updateQueue=s,Xm(l,s),l.subtreeFlags=0,s=c,c=l.child;c!==null;)jT(c,s),c=c.sibling;return me(Nn,Nn.current&1|2),l.child}s=s.sibling}v.tail!==null&&rn()>Zm&&(l.flags|=128,m=!0,sd(v,!1),l.lanes=4194304)}else{if(!m)if(s=Hm(w),s!==null){if(l.flags|=128,m=!0,s=s.updateQueue,l.updateQueue=s,Xm(l,s),sd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!At)return an(l),null}else 2*rn()-v.renderingStartTime>Zm&&c!==536870912&&(l.flags|=128,m=!0,sd(v,!1),l.lanes=4194304);v.isBackwards?(w.sibling=l.child,l.child=w):(s=v.last,s!==null?s.sibling=w:l.child=w,v.last=w)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=rn(),l.sibling=null,s=Nn.current,me(Nn,m?s&1|2:s&1),l):(an(l),null);case 22:case 23:return as(l),t0(),m=l.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(c&536870912)!==0&&(l.flags&128)===0&&(an(l),l.subtreeFlags&6&&(l.flags|=8192)):an(l),c=l.updateQueue,c!==null&&Xm(l,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==c&&(l.flags|=2048),s!==null&&ae(Al),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),rs(jn),an(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function I5(s,l){switch(Bv(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return rs(jn),_e(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Ke(l),null;case 13:if(as(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ff()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ae(Nn),null;case 4:return _e(),null;case 10:return rs(l.type),null;case 22:case 23:return as(l),t0(),s!==null&&ae(Al),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return rs(jn),null;case 25:return null;default:return null}}function iO(s,l){switch(Bv(l),l.tag){case 3:rs(jn),_e();break;case 26:case 27:case 5:Ke(l);break;case 4:_e();break;case 13:as(l);break;case 19:ae(Nn);break;case 10:rs(l.type);break;case 22:case 23:as(l),t0(),s!==null&&ae(Al);break;case 24:rs(jn)}}function od(s,l){try{var c=l.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&s)===s){m=void 0;var w=c.create,j=c.inst;m=w(),j.destroy=m}c=c.next}while(c!==v)}}catch(L){Ut(l,l.return,L)}}function io(s,l,c){try{var m=l.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var w=v.next;m=w;do{if((m.tag&s)===s){var j=m.inst,L=j.destroy;if(L!==void 0){j.destroy=void 0,v=l;var F=c,Z=L;try{Z()}catch(le){Ut(v,F,le)}}}m=m.next}while(m!==w)}}catch(le){Ut(l,l.return,le)}}function aO(s){var l=s.updateQueue;if(l!==null){var c=s.stateNode;try{KT(l,c)}catch(m){Ut(s,s.return,m)}}}function sO(s,l,c){c.props=Pl(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(m){Ut(s,l,m)}}function ld(s,l){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof c=="function"?s.refCleanup=c(m):c.current=m}}catch(v){Ut(s,l,v)}}function xa(s,l){var c=s.ref,m=s.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(v){Ut(s,l,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Ut(s,l,v)}else c.current=null}function oO(s){var l=s.type,c=s.memoizedProps,m=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(v){Ut(s,s.return,v)}}function R0(s,l,c){try{var m=s.stateNode;nV(m,s.type,c,l),m[ve]=l}catch(v){Ut(s,s.return,v)}}function lO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ho(s.type)||s.tag===4}function C0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||lO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ho(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function j0(s,l,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(s),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=lp));else if(m!==4&&(m===27&&ho(s.type)&&(c=s.stateNode,l=null),s=s.child,s!==null))for(j0(s,l,c),s=s.sibling;s!==null;)j0(s,l,c),s=s.sibling}function Qm(s,l,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?c.insertBefore(s,l):c.appendChild(s);else if(m!==4&&(m===27&&ho(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Qm(s,l,c),s=s.sibling;s!==null;)Qm(s,l,c),s=s.sibling}function uO(s){var l=s.stateNode,c=s.memoizedProps;try{for(var m=s.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);ir(l,m,c),l[fe]=s,l[ve]=c}catch(w){Ut(s,s.return,w)}}var ls=!1,mn=!1,N0=!1,cO=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function M5(s,l){if(s=s.containerInfo,nb=pp,s=wT(s),Cv(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var j=0,L=-1,F=-1,Z=0,le=0,ce=s,ne=null;t:for(;;){for(var re;ce!==c||v!==0&&ce.nodeType!==3||(L=j+v),ce!==w||m!==0&&ce.nodeType!==3||(F=j+m),ce.nodeType===3&&(j+=ce.nodeValue.length),(re=ce.firstChild)!==null;)ne=ce,ce=re;for(;;){if(ce===s)break t;if(ne===c&&++Z===v&&(L=j),ne===w&&++le===m&&(F=j),(re=ce.nextSibling)!==null)break;ce=ne,ne=ce.parentNode}ce=re}c=L===-1||F===-1?null:{start:L,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(rb={focusedElem:s,selectionRange:c},pp=!1,Hn=l;Hn!==null;)if(l=Hn,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,Hn=s;else for(;Hn!==null;){switch(l=Hn,w=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,c=l,v=w.memoizedProps,w=w.memoizedState,m=c.stateNode;try{var We=Pl(c.type,v,c.elementType===c.type);s=m.getSnapshotBeforeUpdate(We,w),m.__reactInternalSnapshotBeforeUpdate=s}catch(qe){Ut(c,c.return,qe)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,c=s.nodeType,c===9)sb(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":sb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Hn=s;break}Hn=l.return}}function fO(s,l,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:ao(s,c),m&4&&od(5,c);break;case 1:if(ao(s,c),m&4)if(s=c.stateNode,l===null)try{s.componentDidMount()}catch(j){Ut(c,c.return,j)}else{var v=Pl(c.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(v,l,s.__reactInternalSnapshotBeforeUpdate)}catch(j){Ut(c,c.return,j)}}m&64&&aO(c),m&512&&ld(c,c.return);break;case 3:if(ao(s,c),m&64&&(s=c.updateQueue,s!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{KT(s,l)}catch(j){Ut(c,c.return,j)}}break;case 27:l===null&&m&4&&uO(c);case 26:case 5:ao(s,c),l===null&&m&4&&oO(c),m&512&&ld(c,c.return);break;case 12:ao(s,c);break;case 13:ao(s,c),m&4&&mO(s,c),m&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=H5.bind(null,c),uV(s,c))));break;case 22:if(m=c.memoizedState!==null||ls,!m){l=l!==null&&l.memoizedState!==null||mn,v=ls;var w=mn;ls=m,(mn=l)&&!w?so(s,c,(c.subtreeFlags&8772)!==0):ao(s,c),ls=v,mn=w}break;case 30:break;default:ao(s,c)}}function dO(s){var l=s.alternate;l!==null&&(s.alternate=null,dO(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Re(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,Nr=!1;function us(s,l,c){for(c=c.child;c!==null;)hO(s,l,c),c=c.sibling}function hO(s,l,c){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Et,c)}catch{}switch(c.tag){case 26:mn||xa(c,l),us(s,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:mn||xa(c,l);var m=tn,v=Nr;ho(c.type)&&(tn=c.stateNode,Nr=!1),us(s,l,c),yd(c.stateNode),tn=m,Nr=v;break;case 5:mn||xa(c,l);case 6:if(m=tn,v=Nr,tn=null,us(s,l,c),tn=m,Nr=v,tn!==null)if(Nr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(c.stateNode)}catch(w){Ut(c,l,w)}else try{tn.removeChild(c.stateNode)}catch(w){Ut(c,l,w)}break;case 18:tn!==null&&(Nr?(s=tn,tP(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Td(s)):tP(tn,c.stateNode));break;case 4:m=tn,v=Nr,tn=c.stateNode.containerInfo,Nr=!0,us(s,l,c),tn=m,Nr=v;break;case 0:case 11:case 14:case 15:mn||io(2,c,l),mn||io(4,c,l),us(s,l,c);break;case 1:mn||(xa(c,l),m=c.stateNode,typeof m.componentWillUnmount=="function"&&sO(c,l,m)),us(s,l,c);break;case 21:us(s,l,c);break;case 22:mn=(m=mn)||c.memoizedState!==null,us(s,l,c),mn=m;break;default:us(s,l,c)}}function mO(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Td(s)}catch(c){Ut(l,l.return,c)}}function L5(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new cO),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new cO),l;default:throw Error(r(435,s.tag))}}function k0(s,l){var c=L5(s);l.forEach(function(m){var v=K5.bind(null,s,m);c.has(m)||(c.add(m),m.then(v,v))})}function Wr(s,l){var c=l.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m],w=s,j=l,L=j;e:for(;L!==null;){switch(L.tag){case 27:if(ho(L.type)){tn=L.stateNode,Nr=!1;break e}break;case 5:tn=L.stateNode,Nr=!1;break e;case 3:case 4:tn=L.stateNode.containerInfo,Nr=!0;break e}L=L.return}if(tn===null)throw Error(r(160));hO(w,j,v),tn=null,Nr=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)pO(l,s),l=l.sibling}var Yi=null;function pO(s,l){var c=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Wr(l,s),Yr(s),m&4&&(io(3,s,s.return),od(3,s),io(5,s,s.return));break;case 1:Wr(l,s),Yr(s),m&512&&(mn||c===null||xa(c,c.return)),m&64&&ls&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var v=Yi;if(Wr(l,s),Yr(s),m&512&&(mn||c===null||xa(c,c.return)),m&4){var w=c!==null?c.memoizedState:null;if(m=s.memoizedState,c===null)if(m===null)if(s.stateNode===null){e:{m=s.type,c=s.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":w=v.getElementsByTagName("title")[0],(!w||w[ke]||w[fe]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(m),v.head.insertBefore(w,v.querySelector("head > title"))),ir(w,m,c),w[fe]=s,Ye(w),m=w;break e;case"link":var j=uP("link","href",v).get(m+(c.href||""));if(j){for(var L=0;L<j.length;L++)if(w=j[L],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){j.splice(L,1);break t}}w=v.createElement(m),ir(w,m,c),v.head.appendChild(w);break;case"meta":if(j=uP("meta","content",v).get(m+(c.content||""))){for(L=0;L<j.length;L++)if(w=j[L],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){j.splice(L,1);break t}}w=v.createElement(m),ir(w,m,c),v.head.appendChild(w);break;default:throw Error(r(468,m))}w[fe]=s,Ye(w),m=w}s.stateNode=m}else cP(v,s.type,s.stateNode);else s.stateNode=lP(v,m,s.memoizedProps);else w!==m?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,m===null?cP(v,s.type,s.stateNode):lP(v,m,s.memoizedProps)):m===null&&s.stateNode!==null&&R0(s,s.memoizedProps,c.memoizedProps)}break;case 27:Wr(l,s),Yr(s),m&512&&(mn||c===null||xa(c,c.return)),c!==null&&m&4&&R0(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Wr(l,s),Yr(s),m&512&&(mn||c===null||xa(c,c.return)),s.flags&32){v=s.stateNode;try{yi(v,"")}catch(re){Ut(s,s.return,re)}}m&4&&s.stateNode!=null&&(v=s.memoizedProps,R0(s,v,c!==null?c.memoizedProps:v)),m&1024&&(N0=!0);break;case 6:if(Wr(l,s),Yr(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,c=s.stateNode;try{c.nodeValue=m}catch(re){Ut(s,s.return,re)}}break;case 3:if(dp=null,v=Yi,Yi=cp(l.containerInfo),Wr(l,s),Yi=v,Yr(s),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Td(l.containerInfo)}catch(re){Ut(s,s.return,re)}N0&&(N0=!1,gO(s));break;case 4:m=Yi,Yi=cp(s.stateNode.containerInfo),Wr(l,s),Yr(s),Yi=m;break;case 12:Wr(l,s),Yr(s);break;case 13:Wr(l,s),Yr(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(V0=rn()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,k0(s,m)));break;case 22:v=s.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,Z=ls,le=mn;if(ls=Z||v,mn=le||F,Wr(l,s),mn=le,ls=Z,Yr(s),m&8192)e:for(l=s.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(c===null||F||ls||mn||Rl(s)),c=null,l=s;;){if(l.tag===5||l.tag===26){if(c===null){F=c=l;try{if(w=F.stateNode,v)j=w.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{L=F.stateNode;var ce=F.memoizedProps.style,ne=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;L.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Ut(F,F.return,re)}}}else if(l.tag===6){if(c===null){F=l;try{F.stateNode.nodeValue=v?"":F.memoizedProps}catch(re){Ut(F,F.return,re)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=s.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,k0(s,c))));break;case 19:Wr(l,s),Yr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,k0(s,m)));break;case 30:break;case 21:break;default:Wr(l,s),Yr(s)}}function Yr(s){var l=s.flags;if(l&2){try{for(var c,m=s.return;m!==null;){if(lO(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,w=C0(s);Qm(s,w,v);break;case 5:var j=c.stateNode;c.flags&32&&(yi(j,""),c.flags&=-33);var L=C0(s);Qm(s,L,j);break;case 3:case 4:var F=c.stateNode.containerInfo,Z=C0(s);j0(s,Z,F);break;default:throw Error(r(161))}}catch(le){Ut(s,s.return,le)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function gO(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;gO(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function ao(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)fO(s,l.alternate,l),l=l.sibling}function Rl(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:io(4,l,l.return),Rl(l);break;case 1:xa(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&sO(l,l.return,c),Rl(l);break;case 27:yd(l.stateNode);case 26:case 5:xa(l,l.return),Rl(l);break;case 22:l.memoizedState===null&&Rl(l);break;case 30:Rl(l);break;default:Rl(l)}s=s.sibling}}function so(s,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,v=s,w=l,j=w.flags;switch(w.tag){case 0:case 11:case 15:so(v,w,c),od(4,w);break;case 1:if(so(v,w,c),m=w,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Z){Ut(m,m.return,Z)}if(m=w,v=m.updateQueue,v!==null){var L=m.stateNode;try{var F=v.shared.hiddenCallbacks;if(F!==null)for(v.shared.hiddenCallbacks=null,v=0;v<F.length;v++)HT(F[v],L)}catch(Z){Ut(m,m.return,Z)}}c&&j&64&&aO(w),ld(w,w.return);break;case 27:uO(w);case 26:case 5:so(v,w,c),c&&m===null&&j&4&&oO(w),ld(w,w.return);break;case 12:so(v,w,c);break;case 13:so(v,w,c),c&&j&4&&mO(v,w);break;case 22:w.memoizedState===null&&so(v,w,c),ld(w,w.return);break;case 30:break;default:so(v,w,c)}l=l.sibling}}function D0(s,l){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Gf(c))}function I0(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Gf(s))}function Ea(s,l,c,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)yO(s,l,c,m),l=l.sibling}function yO(s,l,c,m){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Ea(s,l,c,m),v&2048&&od(9,l);break;case 1:Ea(s,l,c,m);break;case 3:Ea(s,l,c,m),v&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Gf(s)));break;case 12:if(v&2048){Ea(s,l,c,m),s=l.stateNode;try{var w=l.memoizedProps,j=w.id,L=w.onPostCommit;typeof L=="function"&&L(j,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(F){Ut(l,l.return,F)}}else Ea(s,l,c,m);break;case 13:Ea(s,l,c,m);break;case 23:break;case 22:w=l.stateNode,j=l.alternate,l.memoizedState!==null?w._visibility&2?Ea(s,l,c,m):ud(s,l):w._visibility&2?Ea(s,l,c,m):(w._visibility|=2,Xu(s,l,c,m,(l.subtreeFlags&10256)!==0)),v&2048&&D0(j,l);break;case 24:Ea(s,l,c,m),v&2048&&I0(l.alternate,l);break;default:Ea(s,l,c,m)}}function Xu(s,l,c,m,v){for(v=v&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=s,j=l,L=c,F=m,Z=j.flags;switch(j.tag){case 0:case 11:case 15:Xu(w,j,L,F,v),od(8,j);break;case 23:break;case 22:var le=j.stateNode;j.memoizedState!==null?le._visibility&2?Xu(w,j,L,F,v):ud(w,j):(le._visibility|=2,Xu(w,j,L,F,v)),v&&Z&2048&&D0(j.alternate,j);break;case 24:Xu(w,j,L,F,v),v&&Z&2048&&I0(j.alternate,j);break;default:Xu(w,j,L,F,v)}l=l.sibling}}function ud(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=s,m=l,v=m.flags;switch(m.tag){case 22:ud(c,m),v&2048&&D0(m.alternate,m);break;case 24:ud(c,m),v&2048&&I0(m.alternate,m);break;default:ud(c,m)}l=l.sibling}}var cd=8192;function Qu(s){if(s.subtreeFlags&cd)for(s=s.child;s!==null;)vO(s),s=s.sibling}function vO(s){switch(s.tag){case 26:Qu(s),s.flags&cd&&s.memoizedState!==null&&xV(Yi,s.memoizedState,s.memoizedProps);break;case 5:Qu(s);break;case 3:case 4:var l=Yi;Yi=cp(s.stateNode.containerInfo),Qu(s),Yi=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=cd,cd=16777216,Qu(s),cd=l):Qu(s));break;default:Qu(s)}}function bO(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function fd(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];Hn=m,wO(m,s)}bO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_O(s),s=s.sibling}function _O(s){switch(s.tag){case 0:case 11:case 15:fd(s),s.flags&2048&&io(9,s,s.return);break;case 3:fd(s);break;case 12:fd(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Jm(s)):fd(s);break;default:fd(s)}}function Jm(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];Hn=m,wO(m,s)}bO(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:io(8,l,l.return),Jm(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,Jm(l));break;default:Jm(l)}s=s.sibling}}function wO(s,l){for(;Hn!==null;){var c=Hn;switch(c.tag){case 0:case 11:case 15:io(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Gf(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Hn=m;else e:for(c=s;Hn!==null;){m=Hn;var v=m.sibling,w=m.return;if(dO(m),m===c){Hn=null;break e}if(v!==null){v.return=w,Hn=v;break e}Hn=w}}}var $5={getCacheForType:function(s){var l=fr(jn),c=l.data.get(s);return c===void 0&&(c=s(),l.data.set(s,c)),c}},V5=typeof WeakMap=="function"?WeakMap:Map,jt=0,Kt=null,ut=null,yt=0,Nt=0,Xr=null,oo=!1,Ju=!1,M0=!1,cs=0,un=0,lo=0,Cl=0,L0=0,Ai=0,Zu=0,dd=null,kr=null,$0=!1,V0=0,Zm=1/0,ep=null,uo=null,rr=0,co=null,ec=null,tc=0,U0=0,B0=null,xO=null,hd=0,z0=null;function Qr(){if((jt&2)!==0&&yt!==0)return yt&-yt;if(G.T!==null){var s=zu;return s!==0?s:Y0()}return K()}function EO(){Ai===0&&(Ai=(yt&536870912)===0||At?Ha():536870912);var s=Ti.current;return s!==null&&(s.flags|=32),Ai}function Jr(s,l,c){(s===Kt&&(Nt===2||Nt===9)||s.cancelPendingCommit!==null)&&(nc(s,0),fo(s,yt,Ai,!1)),Fi(s,c),((jt&2)===0||s!==Kt)&&(s===Kt&&((jt&2)===0&&(Cl|=c),un===4&&fo(s,yt,Ai,!1)),Sa(s))}function SO(s,l,c){if((jt&6)!==0)throw Error(r(327));var m=!c&&(l&124)===0&&(l&s.expiredLanes)===0||mi(s,l),v=m?z5(s,l):H0(s,l,!0),w=m;do{if(v===0){Ju&&!m&&fo(s,l,0,!1);break}else{if(c=s.current.alternate,w&&!U5(c)){v=H0(s,l,!1),w=!1;continue}if(v===2){if(w=l,s.errorRecoveryDisabledLanes&w)var j=0;else j=s.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){l=j;e:{var L=s;v=dd;var F=L.current.memoizedState.isDehydrated;if(F&&(nc(L,j).flags|=256),j=H0(L,j,!1),j!==2){if(M0&&!F){L.errorRecoveryDisabledLanes|=w,Cl|=w,v=4;break e}w=kr,kr=v,w!==null&&(kr===null?kr=w:kr.push.apply(kr,w))}v=j}if(w=!1,v!==2)continue}}if(v===1){nc(s,0),fo(s,l,0,!0);break}e:{switch(m=s,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:fo(m,l,Ai,!oo);break e;case 2:kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=V0+300-rn(),10<v)){if(fo(m,l,Ai,!oo),Fa(m,0,!0)!==0)break e;m.timeoutHandle=ZO(TO.bind(null,m,c,kr,ep,$0,l,Ai,Cl,Zu,oo,w,2,-0,0),v);break e}TO(m,c,kr,ep,$0,l,Ai,Cl,Zu,oo,w,0,-0,0)}}break}while(!0);Sa(s)}function TO(s,l,c,m,v,w,j,L,F,Z,le,ce,ne,re){if(s.timeoutHandle=-1,ce=l.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(_d={stylesheets:null,count:0,unsuspend:wV},vO(l),ce=EV(),ce!==null)){s.cancelPendingCommit=ce(NO.bind(null,s,l,w,c,m,v,j,L,F,le,1,ne,re)),fo(s,w,j,!Z);return}NO(s,l,w,c,m,v,j,L,F)}function U5(s){for(var l=s;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var v=c[m],w=v.getSnapshot;v=v.value;try{if(!Kr(w(),v))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function fo(s,l,c,m){l&=~L0,l&=~Cl,s.suspendedLanes|=l,s.pingedLanes&=~l,m&&(s.warmLanes|=l),m=s.expirationTimes;for(var v=l;0<v;){var w=31-bn(v),j=1<<w;m[w]=-1,v&=~j}c!==0&&wr(s,c,l)}function tp(){return(jt&6)===0?(md(0),!1):!0}function q0(){if(ut!==null){if(Nt===0)var s=ut.return;else s=ut,ns=Sl=null,s0(s),Wu=null,id=0,s=ut;for(;s!==null;)iO(s.alternate,s),s=s.return;ut=null}}function nc(s,l){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,iV(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),q0(),Kt=s,ut=c=Za(s.current,null),yt=l,Nt=0,Xr=null,oo=!1,Ju=mi(s,l),M0=!1,Zu=Ai=L0=Cl=lo=un=0,kr=dd=null,$0=!1,(l&8)!==0&&(l|=l&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=l;0<m;){var v=31-bn(m),w=1<<v;l|=s[v],m&=~w}return cs=l,Em(),c}function AO(s,l){rt=null,G.H=zm,l===Yf||l===Nm?(l=qT(),Nt=3):l===UT?(l=qT(),Nt=4):Nt=l===FA?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Xr=l,ut===null&&(un=1,Gm(s,wi(l,s.current)))}function OO(){var s=G.H;return G.H=zm,s===null?zm:s}function PO(){var s=G.A;return G.A=$5,s}function F0(){un=4,oo||(yt&4194048)!==yt&&Ti.current!==null||(Ju=!0),(lo&134217727)===0&&(Cl&134217727)===0||Kt===null||fo(Kt,yt,Ai,!1)}function H0(s,l,c){var m=jt;jt|=2;var v=OO(),w=PO();(Kt!==s||yt!==l)&&(ep=null,nc(s,l)),l=!1;var j=un;e:do try{if(Nt!==0&&ut!==null){var L=ut,F=Xr;switch(Nt){case 8:q0(),j=6;break e;case 3:case 2:case 9:case 6:Ti.current===null&&(l=!0);var Z=Nt;if(Nt=0,Xr=null,rc(s,L,F,Z),c&&Ju){j=0;break e}break;default:Z=Nt,Nt=0,Xr=null,rc(s,L,F,Z)}}B5(),j=un;break}catch(le){AO(s,le)}while(!0);return l&&s.shellSuspendCounter++,ns=Sl=null,jt=m,G.H=v,G.A=w,ut===null&&(Kt=null,yt=0,Em()),j}function B5(){for(;ut!==null;)RO(ut)}function z5(s,l){var c=jt;jt|=2;var m=OO(),v=PO();Kt!==s||yt!==l?(ep=null,Zm=rn()+500,nc(s,l)):Ju=mi(s,l);e:do try{if(Nt!==0&&ut!==null){l=ut;var w=Xr;t:switch(Nt){case 1:Nt=0,Xr=null,rc(s,l,w,1);break;case 2:case 9:if(BT(w)){Nt=0,Xr=null,CO(l);break}l=function(){Nt!==2&&Nt!==9||Kt!==s||(Nt=7),Sa(s)},w.then(l,l);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:BT(w)?(Nt=0,Xr=null,CO(l)):(Nt=0,Xr=null,rc(s,l,w,7));break;case 5:var j=null;switch(ut.tag){case 26:j=ut.memoizedState;case 5:case 27:var L=ut;if(!j||fP(j)){Nt=0,Xr=null;var F=L.sibling;if(F!==null)ut=F;else{var Z=L.return;Z!==null?(ut=Z,np(Z)):ut=null}break t}}Nt=0,Xr=null,rc(s,l,w,5);break;case 6:Nt=0,Xr=null,rc(s,l,w,6);break;case 8:q0(),un=6;break e;default:throw Error(r(462))}}q5();break}catch(le){AO(s,le)}while(!0);return ns=Sl=null,G.H=m,G.A=v,jt=c,ut!==null?0:(Kt=null,yt=0,Em(),un)}function q5(){for(;ut!==null&&!dn();)RO(ut)}function RO(s){var l=nO(s.alternate,s,cs);s.memoizedProps=s.pendingProps,l===null?np(s):ut=l}function CO(s){var l=s,c=l.alternate;switch(l.tag){case 15:case 0:l=XA(c,l,l.pendingProps,l.type,void 0,yt);break;case 11:l=XA(c,l,l.pendingProps,l.type.render,l.ref,yt);break;case 5:s0(l);default:iO(c,l),l=ut=jT(l,cs),l=nO(c,l,cs)}s.memoizedProps=s.pendingProps,l===null?np(s):ut=l}function rc(s,l,c,m){ns=Sl=null,s0(l),Wu=null,id=0;var v=l.return;try{if(N5(s,v,l,c,yt)){un=1,Gm(s,wi(c,s.current)),ut=null;return}}catch(w){if(v!==null)throw ut=v,w;un=1,Gm(s,wi(c,s.current)),ut=null;return}l.flags&32768?(At||m===1?s=!0:Ju||(yt&536870912)!==0?s=!1:(oo=s=!0,(m===2||m===9||m===3||m===6)&&(m=Ti.current,m!==null&&m.tag===13&&(m.flags|=16384))),jO(l,s)):np(l)}function np(s){var l=s;do{if((l.flags&32768)!==0){jO(l,oo);return}s=l.return;var c=D5(l.alternate,l,cs);if(c!==null){ut=c;return}if(l=l.sibling,l!==null){ut=l;return}ut=l=s}while(l!==null);un===0&&(un=5)}function jO(s,l){do{var c=I5(s.alternate,s);if(c!==null){c.flags&=32767,ut=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(s=s.sibling,s!==null)){ut=s;return}ut=s=c}while(s!==null);un=6,ut=null}function NO(s,l,c,m,v,w,j,L,F){s.cancelPendingCommit=null;do rp();while(rr!==0);if((jt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=Iv,Fs(s,c,w,j,L,F),s===Kt&&(ut=Kt=null,yt=0),ec=l,co=s,tc=c,U0=w,B0=v,xO=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,G5(qa,function(){return LO(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,v=ie.p,ie.p=2,j=jt,jt|=4;try{M5(s,l,c)}finally{jt=j,ie.p=v,G.T=m}}rr=1,kO(),DO(),IO()}}function kO(){if(rr===1){rr=0;var s=co,l=ec,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=G.T,G.T=null;var m=ie.p;ie.p=2;var v=jt;jt|=4;try{pO(l,s);var w=rb,j=wT(s.containerInfo),L=w.focusedElem,F=w.selectionRange;if(j!==L&&L&&L.ownerDocument&&_T(L.ownerDocument.documentElement,L)){if(F!==null&&Cv(L)){var Z=F.start,le=F.end;if(le===void 0&&(le=Z),"selectionStart"in L)L.selectionStart=Z,L.selectionEnd=Math.min(le,L.value.length);else{var ce=L.ownerDocument||document,ne=ce&&ce.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),We=L.textContent.length,qe=Math.min(F.start,We),Lt=F.end===void 0?qe:Math.min(F.end,We);!re.extend&&qe>Lt&&(j=Lt,Lt=qe,qe=j);var Y=bT(L,qe),W=bT(L,Lt);if(Y&&W&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==W.node||re.focusOffset!==W.offset)){var J=ce.createRange();J.setStart(Y.node,Y.offset),re.removeAllRanges(),qe>Lt?(re.addRange(J),re.extend(W.node,W.offset)):(J.setEnd(W.node,W.offset),re.addRange(J))}}}}for(ce=[],re=L;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ce.length;L++){var ue=ce[L];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}pp=!!nb,rb=nb=null}finally{jt=v,ie.p=m,G.T=c}}s.current=l,rr=2}}function DO(){if(rr===2){rr=0;var s=co,l=ec,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=G.T,G.T=null;var m=ie.p;ie.p=2;var v=jt;jt|=4;try{fO(s,l.alternate,l)}finally{jt=v,ie.p=m,G.T=c}}rr=3}}function IO(){if(rr===4||rr===3){rr=0,vn();var s=co,l=ec,c=tc,m=xO;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?rr=5:(rr=0,ec=co=null,MO(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(uo=null),Hs(c),l=l.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Et,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=G.T,v=ie.p,ie.p=2,G.T=null;try{for(var w=s.onRecoverableError,j=0;j<m.length;j++){var L=m[j];w(L.value,{componentStack:L.stack})}}finally{G.T=l,ie.p=v}}(tc&3)!==0&&rp(),Sa(s),v=s.pendingLanes,(c&4194090)!==0&&(v&42)!==0?s===z0?hd++:(hd=0,z0=s):hd=0,md(0)}}function MO(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Gf(l)))}function rp(s){return kO(),DO(),IO(),LO()}function LO(){if(rr!==5)return!1;var s=co,l=U0;U0=0;var c=Hs(tc),m=G.T,v=ie.p;try{ie.p=32>c?32:c,G.T=null,c=B0,B0=null;var w=co,j=tc;if(rr=0,ec=co=null,tc=0,(jt&6)!==0)throw Error(r(331));var L=jt;if(jt|=4,_O(w.current),yO(w,w.current,j,c),jt=L,md(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Et,w)}catch{}return!0}finally{ie.p=v,G.T=m,MO(s,l)}}function $O(s,l,c){l=wi(c,l),l=_0(s.stateNode,l,2),s=eo(s,l,2),s!==null&&(Fi(s,2),Sa(s))}function Ut(s,l,c){if(s.tag===3)$O(s,s,c);else for(;l!==null;){if(l.tag===3){$O(l,s,c);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(uo===null||!uo.has(m))){s=wi(c,s),c=zA(2),m=eo(l,c,2),m!==null&&(qA(c,m,l,s),Fi(m,2),Sa(m));break}}l=l.return}}function K0(s,l,c){var m=s.pingCache;if(m===null){m=s.pingCache=new V5;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(c)||(M0=!0,v.add(c),s=F5.bind(null,s,l,c),l.then(s,s))}function F5(s,l,c){var m=s.pingCache;m!==null&&m.delete(l),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Kt===s&&(yt&c)===c&&(un===4||un===3&&(yt&62914560)===yt&&300>rn()-V0?(jt&2)===0&&nc(s,0):L0|=c,Zu===yt&&(Zu=0)),Sa(s)}function VO(s,l){l===0&&(l=al()),s=$u(s,l),s!==null&&(Fi(s,l),Sa(s))}function H5(s){var l=s.memoizedState,c=0;l!==null&&(c=l.retryLane),VO(s,c)}function K5(s,l){var c=0;switch(s.tag){case 13:var m=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),VO(s,c)}function G5(s,l){return Zt(s,l)}var ip=null,ic=null,G0=!1,ap=!1,W0=!1,jl=0;function Sa(s){s!==ic&&s.next===null&&(ic===null?ip=ic=s:ic=ic.next=s),ap=!0,G0||(G0=!0,Y5())}function md(s,l){if(!W0&&ap){W0=!0;do for(var c=!1,m=ip;m!==null;){if(s!==0){var v=m.pendingLanes;if(v===0)var w=0;else{var j=m.suspendedLanes,L=m.pingedLanes;w=(1<<31-bn(42|s)+1)-1,w&=v&~(j&~L),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,qO(m,w))}else w=yt,w=Fa(m,m===Kt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||mi(m,w)||(c=!0,qO(m,w));m=m.next}while(c);W0=!1}}function W5(){UO()}function UO(){ap=G0=!1;var s=0;jl!==0&&(rV()&&(s=jl),jl=0);for(var l=rn(),c=null,m=ip;m!==null;){var v=m.next,w=BO(m,l);w===0?(m.next=null,c===null?ip=v:c.next=v,v===null&&(ic=c)):(c=m,(s!==0||(w&3)!==0)&&(ap=!0)),m=v}md(s)}function BO(s,l){for(var c=s.suspendedLanes,m=s.pingedLanes,v=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var j=31-bn(w),L=1<<j,F=v[j];F===-1?((L&c)===0||(L&m)!==0)&&(v[j]=qs(L,l)):F<=l&&(s.expiredLanes|=L),w&=~L}if(l=Kt,c=yt,c=Fa(s,s===l?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,c===0||s===l&&(Nt===2||Nt===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&et(m),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||mi(s,c)){if(l=c&-c,l===s.callbackPriority)return l;switch(m!==null&&et(m),Hs(c)){case 2:case 8:c=Us;break;case 32:c=qa;break;case 268435456:c=di;break;default:c=qa}return m=zO.bind(null,s),c=Zt(c,m),s.callbackPriority=l,s.callbackNode=c,l}return m!==null&&m!==null&&et(m),s.callbackPriority=2,s.callbackNode=null,2}function zO(s,l){if(rr!==0&&rr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(rp()&&s.callbackNode!==c)return null;var m=yt;return m=Fa(s,s===Kt?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(SO(s,m,l),BO(s,rn()),s.callbackNode!=null&&s.callbackNode===c?zO.bind(null,s):null)}function qO(s,l){if(rp())return null;SO(s,l,!0)}function Y5(){aV(function(){(jt&6)!==0?Zt(il,W5):UO()})}function Y0(){return jl===0&&(jl=Ha()),jl}function FO(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Au(""+s)}function HO(s,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,s.id&&c.setAttribute("form",s.id),l.parentNode.insertBefore(c,l),s=new FormData(s),c.parentNode.removeChild(c),s}function X5(s,l,c,m,v){if(l==="submit"&&c&&c.stateNode===v){var w=FO((v[ve]||null).action),j=m.submitter;j&&(l=(l=j[ve]||null)?FO(l.formAction):j.getAttribute("formAction"),l!==null&&(w=l,j=null));var L=new Ou("action","action",null,m,v);s.push({event:L,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(jl!==0){var F=j?HO(v,j):new FormData(v);p0(c,{pending:!0,data:F,method:v.method,action:w},null,F)}}else typeof w=="function"&&(L.preventDefault(),F=j?HO(v,j):new FormData(v),p0(c,{pending:!0,data:F,method:v.method,action:w},w,F))},currentTarget:v}]})}}for(var X0=0;X0<Dv.length;X0++){var Q0=Dv[X0],Q5=Q0.toLowerCase(),J5=Q0[0].toUpperCase()+Q0.slice(1);Wi(Q5,"on"+J5)}Wi(ST,"onAnimationEnd"),Wi(TT,"onAnimationIteration"),Wi(AT,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi(p5,"onTransitionRun"),Wi(g5,"onTransitionStart"),Wi(y5,"onTransitionCancel"),Wi(OT,"onTransitionEnd"),Bn("onMouseEnter",["mouseout","mouseover"]),Bn("onMouseLeave",["mouseout","mouseover"]),Bn("onPointerEnter",["pointerout","pointerover"]),Bn("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pd));function KO(s,l){l=(l&4)!==0;for(var c=0;c<s.length;c++){var m=s[c],v=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var j=m.length-1;0<=j;j--){var L=m[j],F=L.instance,Z=L.currentTarget;if(L=L.listener,F!==w&&v.isPropagationStopped())break e;w=L,v.currentTarget=Z;try{w(v)}catch(le){Km(le)}v.currentTarget=null,w=F}else for(j=0;j<m.length;j++){if(L=m[j],F=L.instance,Z=L.currentTarget,L=L.listener,F!==w&&v.isPropagationStopped())break e;w=L,v.currentTarget=Z;try{w(v)}catch(le){Km(le)}v.currentTarget=null,w=F}}}}function ct(s,l){var c=l[Ie];c===void 0&&(c=l[Ie]=new Set);var m=s+"__bubble";c.has(m)||(GO(l,s,2,!1),c.add(m))}function J0(s,l,c){var m=0;l&&(m|=4),GO(c,s,m,l)}var sp="_reactListening"+Math.random().toString(36).slice(2);function Z0(s){if(!s[sp]){s[sp]=!0,Tt.forEach(function(c){c!=="selectionchange"&&(Z5.has(c)||J0(c,!1,s),J0(c,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[sp]||(l[sp]=!0,J0("selectionchange",!1,l))}}function GO(s,l,c,m){switch(yP(l)){case 2:var v=AV;break;case 8:v=OV;break;default:v=hb}c=v.bind(null,l,c,s),v=void 0,!bi||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?s.addEventListener(l,c,{capture:!0,passive:v}):s.addEventListener(l,c,!0):v!==void 0?s.addEventListener(l,c,{passive:v}):s.addEventListener(l,c,!1)}function eb(s,l,c,m,v){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var j=m.tag;if(j===3||j===4){var L=m.stateNode.containerInfo;if(L===v)break;if(j===4)for(j=m.return;j!==null;){var F=j.tag;if((F===3||F===4)&&j.stateNode.containerInfo===v)return;j=j.return}for(;L!==null;){if(j=Ze(L),j===null)return;if(F=j.tag,F===5||F===6||F===26||F===27){m=w=j;continue e}L=L.parentNode}}m=m.return}lm(function(){var Z=w,le=vi(c),ce=[];e:{var ne=PT.get(s);if(ne!==void 0){var re=Ou,We=s;switch(s){case"keypress":if(pa(c)===0)break e;case"keydown":case"keyup":re=ku;break;case"focusin":We="focus",re=Cu;break;case"focusout":We="blur",re=Cu;break;case"beforeblur":case"afterblur":re=Cu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=_i;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=gm;break;case ST:case TT:case AT:re=ju;break;case OT:re=vm;break;case"scroll":case"scrollend":re=um;break;case"wheel":re=Du;break;case"copy":case"cut":case"paste":re=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Vf;break;case"toggle":case"beforetoggle":re=_m}var qe=(l&4)!==0,Lt=!qe&&(s==="scroll"||s==="scrollend"),Y=qe?ne!==null?ne+"Capture":null:ne;qe=[];for(var W=Z,J;W!==null;){var ue=W;if(J=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||J===null||Y===null||(ue=cl(W,Y),ue!=null&&qe.push(gd(W,ue,J))),Lt)break;W=W.return}0<qe.length&&(ne=new re(ne,We,null,c,le),ce.push({event:ne,listeners:qe}))}}if((l&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",ne&&c!==Ga&&(We=c.relatedTarget||c.fromElement)&&(Ze(We)||We[Ee]))break e;if((re||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(We=c.relatedTarget||c.toElement,re=Z,We=We?Ze(We):null,We!==null&&(Lt=a(We),qe=We.tag,We!==Lt||qe!==5&&qe!==27&&qe!==6)&&(We=null)):(re=null,We=Z),re!==We)){if(qe=_i,ue="onMouseLeave",Y="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(qe=Vf,ue="onPointerLeave",Y="onPointerEnter",W="pointer"),Lt=re==null?ne:Ct(re),J=We==null?ne:Ct(We),ne=new qe(ue,W+"leave",re,c,le),ne.target=Lt,ne.relatedTarget=J,ue=null,Ze(le)===Z&&(qe=new qe(Y,W+"enter",We,c,le),qe.target=J,qe.relatedTarget=Lt,ue=qe),Lt=ue,re&&We)t:{for(qe=re,Y=We,W=0,J=qe;J;J=ac(J))W++;for(J=0,ue=Y;ue;ue=ac(ue))J++;for(;0<W-J;)qe=ac(qe),W--;for(;0<J-W;)Y=ac(Y),J--;for(;W--;){if(qe===Y||Y!==null&&qe===Y.alternate)break t;qe=ac(qe),Y=ac(Y)}qe=null}else qe=null;re!==null&&WO(ce,ne,re,qe,!1),We!==null&&Lt!==null&&WO(ce,Lt,We,qe,!0)}}e:{if(ne=Z?Ct(Z):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Ce=hT;else if(Cn(ne))if(mT)Ce=d5;else{Ce=c5;var at=u5}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?Z&&Nf(Z.elementType)&&(Ce=hT):Ce=f5;if(Ce&&(Ce=Ce(s,Z))){Ja(ce,Ce,c,le);break e}at&&at(s,ne,Z),s==="focusout"&&Z&&ne.type==="number"&&Z.memoizedProps.value!=null&&Ys(ne,"number",ne.value)}switch(at=Z?Ct(Z):window,s){case"focusin":(Cn(at)||at.contentEditable==="true")&&(Iu=at,jv=Z,zf=null);break;case"focusout":zf=jv=Iu=null;break;case"mousedown":Nv=!0;break;case"contextmenu":case"mouseup":case"dragend":Nv=!1,xT(ce,c,le);break;case"selectionchange":if(m5)break;case"keydown":case"keyup":xT(ce,c,le)}var Le;if(va)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else pt?se(s,c)&&(He="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(He="onCompositionStart");He&&(C&&c.locale!=="ko"&&(pt||He!=="onCompositionStart"?He==="onCompositionEnd"&&pt&&(Le=Df()):(ma=le,Xs="value"in ma?ma.value:ma.textContent,pt=!0)),at=op(Z,He),0<at.length&&(He=new Lf(He,s,null,c,le),ce.push({event:He,listeners:at}),Le?He.data=Le:(Le=be(c),Le!==null&&(He.data=Le)))),(Le=A?Rn(s,c):gt(s,c))&&(He=op(Z,"onBeforeInput"),0<He.length&&(at=new Lf("onBeforeInput","beforeinput",null,c,le),ce.push({event:at,listeners:He}),at.data=Le)),X5(ce,s,Z,c,le)}KO(ce,l)})}function gd(s,l,c){return{instance:s,listener:l,currentTarget:c}}function op(s,l){for(var c=l+"Capture",m=[];s!==null;){var v=s,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=cl(s,c),v!=null&&m.unshift(gd(s,v,w)),v=cl(s,l),v!=null&&m.push(gd(s,v,w))),s.tag===3)return m;s=s.return}return[]}function ac(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function WO(s,l,c,m,v){for(var w=l._reactName,j=[];c!==null&&c!==m;){var L=c,F=L.alternate,Z=L.stateNode;if(L=L.tag,F!==null&&F===m)break;L!==5&&L!==26&&L!==27||Z===null||(F=Z,v?(Z=cl(c,w),Z!=null&&j.unshift(gd(c,Z,F))):v||(Z=cl(c,w),Z!=null&&j.push(gd(c,Z,F)))),c=c.return}j.length!==0&&s.push({event:l,listeners:j})}var eV=/\r\n?/g,tV=/\u0000|\uFFFD/g;function YO(s){return(typeof s=="string"?s:""+s).replace(eV,`
`).replace(tV,"")}function XO(s,l){return l=YO(l),YO(s)===l}function lp(){}function Mt(s,l,c,m,v,w){switch(c){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||yi(s,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&yi(s,""+m);break;case"className":Er(s,"class",m);break;case"tabIndex":Er(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(s,c,m);break;case"style":jf(s,m,w);break;case"data":if(l!=="object"){Er(s,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||c!=="href")){s.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=Au(""+m),s.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(l!=="input"&&Mt(s,l,"name",v.name,v,null),Mt(s,l,"formEncType",v.formEncType,v,null),Mt(s,l,"formMethod",v.formMethod,v,null),Mt(s,l,"formTarget",v.formTarget,v,null)):(Mt(s,l,"encType",v.encType,v,null),Mt(s,l,"method",v.method,v,null),Mt(s,l,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=Au(""+m),s.setAttribute(c,m);break;case"onClick":m!=null&&(s.onclick=lp);break;case"onScroll":m!=null&&ct("scroll",s);break;case"onScrollEnd":m!=null&&ct("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}c=Au(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""+m):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":m===!0?s.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,m):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(c,m):s.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(c):s.setAttribute(c,m);break;case"popover":ct("beforetoggle",s),ct("toggle",s),Fr(s,"popover",m);break;case"xlinkActuate":Fe(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Fe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Fe(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Fe(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Fe(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Fe(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Fr(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Sv.get(c)||c,Fr(s,c,m))}}function tb(s,l,c,m,v,w){switch(c){case"style":jf(s,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof m=="string"?yi(s,m):(typeof m=="number"||typeof m=="bigint")&&yi(s,""+m);break;case"onScroll":m!=null&&ct("scroll",s);break;case"onScrollEnd":m!=null&&ct("scrollend",s);break;case"onClick":m!=null&&(s.onclick=lp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cr.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),l=c.slice(2,v?c.length-7:void 0),w=s[ve]||null,w=w!=null?w[c]:null,typeof w=="function"&&s.removeEventListener(l,w,v),typeof m=="function")){typeof w!="function"&&w!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(l,m,v);break e}c in s?s[c]=m:m===!0?s.setAttribute(c,""):Fr(s,c,m)}}}function ir(s,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",s),ct("load",s);var m=!1,v=!1,w;for(w in c)if(c.hasOwnProperty(w)){var j=c[w];if(j!=null)switch(w){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Mt(s,l,w,j,c,null)}}v&&Mt(s,l,"srcSet",c.srcSet,c,null),m&&Mt(s,l,"src",c.src,c,null);return;case"input":ct("invalid",s);var L=w=j=v=null,F=null,Z=null;for(m in c)if(c.hasOwnProperty(m)){var le=c[m];if(le!=null)switch(m){case"name":v=le;break;case"type":j=le;break;case"checked":F=le;break;case"defaultChecked":Z=le;break;case"value":w=le;break;case"defaultValue":L=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:Mt(s,l,m,le,c,null)}}ol(s,w,L,F,Z,j,v,!1),Tu(s);return;case"select":ct("invalid",s),m=j=w=null;for(v in c)if(c.hasOwnProperty(v)&&(L=c[v],L!=null))switch(v){case"value":w=L;break;case"defaultValue":j=L;break;case"multiple":m=L;default:Mt(s,l,v,L,c,null)}l=w,c=j,s.multiple=!!m,l!=null?Ka(s,!!m,l,!1):c!=null&&Ka(s,!!m,c,!0);return;case"textarea":ct("invalid",s),w=v=m=null;for(j in c)if(c.hasOwnProperty(j)&&(L=c[j],L!=null))switch(j){case"value":m=L;break;case"defaultValue":v=L;break;case"children":w=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:Mt(s,l,j,L,c,null)}ll(s,m,v,w),Tu(s);return;case"option":for(F in c)if(c.hasOwnProperty(F)&&(m=c[F],m!=null))switch(F){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Mt(s,l,F,m,c,null)}return;case"dialog":ct("beforetoggle",s),ct("toggle",s),ct("cancel",s),ct("close",s);break;case"iframe":case"object":ct("load",s);break;case"video":case"audio":for(m=0;m<pd.length;m++)ct(pd[m],s);break;case"image":ct("error",s),ct("load",s);break;case"details":ct("toggle",s);break;case"embed":case"source":case"link":ct("error",s),ct("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(m=c[Z],m!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Mt(s,l,Z,m,c,null)}return;default:if(Nf(l)){for(le in c)c.hasOwnProperty(le)&&(m=c[le],m!==void 0&&tb(s,l,le,m,c,void 0));return}}for(L in c)c.hasOwnProperty(L)&&(m=c[L],m!=null&&Mt(s,l,L,m,c,null))}function nV(s,l,c,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,j=null,L=null,F=null,Z=null,le=null;for(re in c){var ce=c[re];if(c.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":F=ce;default:m.hasOwnProperty(re)||Mt(s,l,re,null,m,ce)}}for(var ne in m){var re=m[ne];if(ce=c[ne],m.hasOwnProperty(ne)&&(re!=null||ce!=null))switch(ne){case"type":w=re;break;case"name":v=re;break;case"checked":Z=re;break;case"defaultChecked":le=re;break;case"value":j=re;break;case"defaultValue":L=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,l));break;default:re!==ce&&Mt(s,l,ne,re,m,ce)}}Hr(s,j,L,F,Z,le,w,v);return;case"select":re=j=L=ne=null;for(w in c)if(F=c[w],c.hasOwnProperty(w)&&F!=null)switch(w){case"value":break;case"multiple":re=F;default:m.hasOwnProperty(w)||Mt(s,l,w,null,m,F)}for(v in m)if(w=m[v],F=c[v],m.hasOwnProperty(v)&&(w!=null||F!=null))switch(v){case"value":ne=w;break;case"defaultValue":L=w;break;case"multiple":j=w;default:w!==F&&Mt(s,l,v,w,m,F)}l=L,c=j,m=re,ne!=null?Ka(s,!!c,ne,!1):!!m!=!!c&&(l!=null?Ka(s,!!c,l,!0):Ka(s,!!c,c?[]:"",!1));return;case"textarea":re=ne=null;for(L in c)if(v=c[L],c.hasOwnProperty(L)&&v!=null&&!m.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Mt(s,l,L,null,m,v)}for(j in m)if(v=m[j],w=c[j],m.hasOwnProperty(j)&&(v!=null||w!=null))switch(j){case"value":ne=v;break;case"defaultValue":re=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&Mt(s,l,j,v,m,w)}Dt(s,ne,re);return;case"option":for(var We in c)if(ne=c[We],c.hasOwnProperty(We)&&ne!=null&&!m.hasOwnProperty(We))switch(We){case"selected":s.selected=!1;break;default:Mt(s,l,We,null,m,ne)}for(F in m)if(ne=m[F],re=c[F],m.hasOwnProperty(F)&&ne!==re&&(ne!=null||re!=null))switch(F){case"selected":s.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Mt(s,l,F,ne,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in c)ne=c[qe],c.hasOwnProperty(qe)&&ne!=null&&!m.hasOwnProperty(qe)&&Mt(s,l,qe,null,m,ne);for(Z in m)if(ne=m[Z],re=c[Z],m.hasOwnProperty(Z)&&ne!==re&&(ne!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:Mt(s,l,Z,ne,m,re)}return;default:if(Nf(l)){for(var Lt in c)ne=c[Lt],c.hasOwnProperty(Lt)&&ne!==void 0&&!m.hasOwnProperty(Lt)&&tb(s,l,Lt,void 0,m,ne);for(le in m)ne=m[le],re=c[le],!m.hasOwnProperty(le)||ne===re||ne===void 0&&re===void 0||tb(s,l,le,ne,m,re);return}}for(var Y in c)ne=c[Y],c.hasOwnProperty(Y)&&ne!=null&&!m.hasOwnProperty(Y)&&Mt(s,l,Y,null,m,ne);for(ce in m)ne=m[ce],re=c[ce],!m.hasOwnProperty(ce)||ne===re||ne==null&&re==null||Mt(s,l,ce,ne,m,re)}var nb=null,rb=null;function up(s){return s.nodeType===9?s:s.ownerDocument}function QO(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JO(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function ib(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ab=null;function rV(){var s=window.event;return s&&s.type==="popstate"?s===ab?!1:(ab=s,!0):(ab=null,!1)}var ZO=typeof setTimeout=="function"?setTimeout:void 0,iV=typeof clearTimeout=="function"?clearTimeout:void 0,eP=typeof Promise=="function"?Promise:void 0,aV=typeof queueMicrotask=="function"?queueMicrotask:typeof eP<"u"?function(s){return eP.resolve(null).then(s).catch(sV)}:ZO;function sV(s){setTimeout(function(){throw s})}function ho(s){return s==="head"}function tP(s,l){var c=l,m=0,v=0;do{var w=c.nextSibling;if(s.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(0<m&&8>m){c=m;var j=s.ownerDocument;if(c&1&&yd(j.documentElement),c&2&&yd(j.body),c&4)for(c=j.head,yd(c),j=c.firstChild;j;){var L=j.nextSibling,F=j.nodeName;j[ke]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&j.rel.toLowerCase()==="stylesheet"||c.removeChild(j),j=L}}if(v===0){s.removeChild(w),Td(l);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:m=c.charCodeAt(0)-48;else m=0;c=w}while(c);Td(l)}function sb(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":sb(c),Re(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function oV(s,l,c,m){for(;s.nodeType===1;){var v=c;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[ke])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=Xi(s.nextSibling),s===null)break}return null}function lV(s,l,c){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Xi(s.nextSibling),s===null))return null;return s}function ob(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function uV(s,l){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")l();else{var m=function(){l(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function Xi(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var lb=null;function nP(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return s;l--}else c==="/$"&&l++}s=s.previousSibling}return null}function rP(s,l,c){switch(l=up(c),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function yd(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Re(s)}var Oi=new Map,iP=new Set;function cp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var fs=ie.d;ie.d={f:cV,r:fV,D:dV,C:hV,L:mV,m:pV,X:yV,S:gV,M:vV};function cV(){var s=fs.f(),l=tp();return s||l}function fV(s){var l=mt(s);l!==null&&l.tag===5&&l.type==="form"?SA(l):fs.r(s)}var sc=typeof document>"u"?null:document;function aP(s,l,c){var m=sc;if(m&&typeof l=="string"&&l){var v=_n(l);v='link[rel="'+s+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),iP.has(v)||(iP.add(v),s={rel:s,crossOrigin:c,href:l},m.querySelector(v)===null&&(l=m.createElement("link"),ir(l,"link",s),Ye(l),m.head.appendChild(l)))}}function dV(s){fs.D(s),aP("dns-prefetch",s,null)}function hV(s,l){fs.C(s,l),aP("preconnect",s,l)}function mV(s,l,c){fs.L(s,l,c);var m=sc;if(m&&s&&l){var v='link[rel="preload"][as="'+_n(l)+'"]';l==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+_n(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+_n(c.imageSizes)+'"]')):v+='[href="'+_n(s)+'"]';var w=v;switch(l){case"style":w=oc(s);break;case"script":w=lc(s)}Oi.has(w)||(s=h({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:s,as:l},c),Oi.set(w,s),m.querySelector(v)!==null||l==="style"&&m.querySelector(vd(w))||l==="script"&&m.querySelector(bd(w))||(l=m.createElement("link"),ir(l,"link",s),Ye(l),m.head.appendChild(l)))}}function pV(s,l){fs.m(s,l);var c=sc;if(c&&s){var m=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+_n(m)+'"][href="'+_n(s)+'"]',w=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=lc(s)}if(!Oi.has(w)&&(s=h({rel:"modulepreload",href:s},l),Oi.set(w,s),c.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(bd(w)))return}m=c.createElement("link"),ir(m,"link",s),Ye(m),c.head.appendChild(m)}}}function gV(s,l,c){fs.S(s,l,c);var m=sc;if(m&&s){var v=St(m).hoistableStyles,w=oc(s);l=l||"default";var j=v.get(w);if(!j){var L={loading:0,preload:null};if(j=m.querySelector(vd(w)))L.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":l},c),(c=Oi.get(w))&&ub(s,c);var F=j=m.createElement("link");Ye(F),ir(F,"link",s),F._p=new Promise(function(Z,le){F.onload=Z,F.onerror=le}),F.addEventListener("load",function(){L.loading|=1}),F.addEventListener("error",function(){L.loading|=2}),L.loading|=4,fp(j,l,m)}j={type:"stylesheet",instance:j,count:1,state:L},v.set(w,j)}}}function yV(s,l){fs.X(s,l);var c=sc;if(c&&s){var m=St(c).hoistableScripts,v=lc(s),w=m.get(v);w||(w=c.querySelector(bd(v)),w||(s=h({src:s,async:!0},l),(l=Oi.get(v))&&cb(s,l),w=c.createElement("script"),Ye(w),ir(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(v,w))}}function vV(s,l){fs.M(s,l);var c=sc;if(c&&s){var m=St(c).hoistableScripts,v=lc(s),w=m.get(v);w||(w=c.querySelector(bd(v)),w||(s=h({src:s,async:!0,type:"module"},l),(l=Oi.get(v))&&cb(s,l),w=c.createElement("script"),Ye(w),ir(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(v,w))}}function sP(s,l,c,m){var v=(v=Ve.current)?cp(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=oc(c.href),c=St(v).hoistableStyles,m=c.get(l),m||(m={type:"style",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=oc(c.href);var w=St(v).hoistableStyles,j=w.get(s);if(j||(v=v.ownerDocument||v,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,j),(w=v.querySelector(vd(s)))&&!w._p&&(j.instance=w,j.state.loading=5),Oi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Oi.set(s,c),w||bV(v,s,c,j.state))),l&&m===null)throw Error(r(528,""));return j}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=lc(c),c=St(v).hoistableScripts,m=c.get(l),m||(m={type:"script",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function oc(s){return'href="'+_n(s)+'"'}function vd(s){return'link[rel="stylesheet"]['+s+"]"}function oP(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function bV(s,l,c,m){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=s.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),ir(l,"link",c),Ye(l),s.head.appendChild(l))}function lc(s){return'[src="'+_n(s)+'"]'}function bd(s){return"script[async]"+s}function lP(s,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var m=s.querySelector('style[data-href~="'+_n(c.href)+'"]');if(m)return l.instance=m,Ye(m),m;var v=h({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),Ye(m),ir(m,"style",v),fp(m,c.precedence,s),l.instance=m;case"stylesheet":v=oc(c.href);var w=s.querySelector(vd(v));if(w)return l.state.loading|=4,l.instance=w,Ye(w),w;m=oP(c),(v=Oi.get(v))&&ub(m,v),w=(s.ownerDocument||s).createElement("link"),Ye(w);var j=w;return j._p=new Promise(function(L,F){j.onload=L,j.onerror=F}),ir(w,"link",m),l.state.loading|=4,fp(w,c.precedence,s),l.instance=w;case"script":return w=lc(c.src),(v=s.querySelector(bd(w)))?(l.instance=v,Ye(v),v):(m=c,(v=Oi.get(w))&&(m=h({},c),cb(m,v)),s=s.ownerDocument||s,v=s.createElement("script"),Ye(v),ir(v,"link",m),s.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,fp(m,c.precedence,s));return l.instance}function fp(s,l,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,w=v,j=0;j<m.length;j++){var L=m[j];if(L.dataset.precedence===l)w=L;else if(w!==v)break}w?w.parentNode.insertBefore(s,w.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(s,l.firstChild))}function ub(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function cb(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var dp=null;function uP(s,l,c){if(dp===null){var m=new Map,v=dp=new Map;v.set(c,m)}else v=dp,m=v.get(c),m||(m=new Map,v.set(c,m));if(m.has(s))return m;for(m.set(s,null),c=c.getElementsByTagName(s),v=0;v<c.length;v++){var w=c[v];if(!(w[ke]||w[fe]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var j=w.getAttribute(l)||"";j=s+j;var L=m.get(j);L?L.push(w):m.set(j,[w])}}return m}function cP(s,l,c){s=s.ownerDocument||s,s.head.insertBefore(c,l==="title"?s.querySelector("head > title"):null)}function _V(s,l,c){if(c===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function fP(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var _d=null;function wV(){}function xV(s,l,c){if(_d===null)throw Error(r(475));var m=_d;if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=oc(c.href),w=s.querySelector(vd(v));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(m.count++,m=hp.bind(m),s.then(m,m)),l.state.loading|=4,l.instance=w,Ye(w);return}w=s.ownerDocument||s,c=oP(c),(v=Oi.get(v))&&ub(c,v),w=w.createElement("link"),Ye(w);var j=w;j._p=new Promise(function(L,F){j.onload=L,j.onerror=F}),ir(w,"link",c),l.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=hp.bind(m),s.addEventListener("load",l),s.addEventListener("error",l))}}function EV(){if(_d===null)throw Error(r(475));var s=_d;return s.stylesheets&&s.count===0&&fb(s,s.stylesheets),0<s.count?function(l){var c=setTimeout(function(){if(s.stylesheets&&fb(s,s.stylesheets),s.unsuspend){var m=s.unsuspend;s.unsuspend=null,m()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(c)}}:null}function hp(){if(this.count--,this.count===0){if(this.stylesheets)fb(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var mp=null;function fb(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,mp=new Map,l.forEach(SV,s),mp=null,hp.call(s))}function SV(s,l){if(!(l.state.loading&4)){var c=mp.get(s);if(c)var m=c.get(null);else{c=new Map,mp.set(s,c);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var j=v[w];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(c.set(j.dataset.precedence,j),m=j)}m&&c.set(null,m)}v=l.instance,j=v.getAttribute("data-precedence"),w=c.get(j)||m,w===m&&c.set(null,v),c.set(j,v),this.count++,m=hp.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),w?w.parentNode.insertBefore(v,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),l.state.loading|=4}}var wd={$$typeof:P,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function TV(s,l,c,m,v,w,j,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function dP(s,l,c,m,v,w,j,L,F,Z,le,ce){return s=new TV(s,l,c,j,L,F,Z,ce),l=1,w===!0&&(l|=24),w=Gr(3,null,null,l),s.current=w,w.stateNode=s,l=Kv(),l.refCount++,s.pooledCache=l,l.refCount++,w.memoizedState={element:m,isDehydrated:c,cache:l},Xv(w),s}function hP(s){return s?(s=Vu,s):Vu}function mP(s,l,c,m,v,w){v=hP(v),m.context===null?m.context=v:m.pendingContext=v,m=Zs(l),m.payload={element:c},w=w===void 0?null:w,w!==null&&(m.callback=w),c=eo(s,m,l),c!==null&&(Jr(c,s,l),Qf(c,s,l))}function pP(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<l?c:l}}function db(s,l){pP(s,l),(s=s.alternate)&&pP(s,l)}function gP(s){if(s.tag===13){var l=$u(s,67108864);l!==null&&Jr(l,s,67108864),db(s,67108864)}}var pp=!0;function AV(s,l,c,m){var v=G.T;G.T=null;var w=ie.p;try{ie.p=2,hb(s,l,c,m)}finally{ie.p=w,G.T=v}}function OV(s,l,c,m){var v=G.T;G.T=null;var w=ie.p;try{ie.p=8,hb(s,l,c,m)}finally{ie.p=w,G.T=v}}function hb(s,l,c,m){if(pp){var v=mb(m);if(v===null)eb(s,l,m,gp,c),vP(s,m);else if(RV(v,s,l,c,m))m.stopPropagation();else if(vP(s,m),l&4&&-1<PV.indexOf(s)){for(;v!==null;){var w=mt(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var j=zr(w.pendingLanes);if(j!==0){var L=w;for(L.pendingLanes|=2,L.entangledLanes|=2;j;){var F=1<<31-bn(j);L.entanglements[1]|=F,j&=~F}Sa(w),(jt&6)===0&&(Zm=rn()+500,md(0))}}break;case 13:L=$u(w,2),L!==null&&Jr(L,w,2),tp(),db(w,2)}if(w=mb(m),w===null&&eb(s,l,m,gp,c),w===v)break;v=w}v!==null&&m.stopPropagation()}else eb(s,l,m,null,c)}}function mb(s){return s=vi(s),pb(s)}var gp=null;function pb(s){if(gp=null,s=Ze(s),s!==null){var l=a(s);if(l===null)s=null;else{var c=l.tag;if(c===13){if(s=o(l),s!==null)return s;s=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return gp=s,null}function yP(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vs()){case il:return 2;case Us:return 8;case qa:case qi:return 32;case di:return 268435456;default:return 32}default:return 32}}var gb=!1,mo=null,po=null,go=null,xd=new Map,Ed=new Map,yo=[],PV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vP(s,l){switch(s){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":xd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ed.delete(l.pointerId)}}function Sd(s,l,c,m,v,w){return s===null||s.nativeEvent!==w?(s={blockedOn:l,domEventName:c,eventSystemFlags:m,nativeEvent:w,targetContainers:[v]},l!==null&&(l=mt(l),l!==null&&gP(l)),s):(s.eventSystemFlags|=m,l=s.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),s)}function RV(s,l,c,m,v){switch(l){case"focusin":return mo=Sd(mo,s,l,c,m,v),!0;case"dragenter":return po=Sd(po,s,l,c,m,v),!0;case"mouseover":return go=Sd(go,s,l,c,m,v),!0;case"pointerover":var w=v.pointerId;return xd.set(w,Sd(xd.get(w)||null,s,l,c,m,v)),!0;case"gotpointercapture":return w=v.pointerId,Ed.set(w,Sd(Ed.get(w)||null,s,l,c,m,v)),!0}return!1}function bP(s){var l=Ze(s.target);if(l!==null){var c=a(l);if(c!==null){if(l=c.tag,l===13){if(l=o(c),l!==null){s.blockedOn=l,X(s.priority,function(){if(c.tag===13){var m=Qr();m=da(m);var v=$u(c,m);v!==null&&Jr(v,c,m),db(c,m)}});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function yp(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var c=mb(s.nativeEvent);if(c===null){c=s.nativeEvent;var m=new c.constructor(c.type,c);Ga=m,c.target.dispatchEvent(m),Ga=null}else return l=mt(c),l!==null&&gP(l),s.blockedOn=c,!1;l.shift()}return!0}function _P(s,l,c){yp(s)&&c.delete(l)}function CV(){gb=!1,mo!==null&&yp(mo)&&(mo=null),po!==null&&yp(po)&&(po=null),go!==null&&yp(go)&&(go=null),xd.forEach(_P),Ed.forEach(_P)}function vp(s,l){s.blockedOn===l&&(s.blockedOn=null,gb||(gb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,CV)))}var bp=null;function wP(s){bp!==s&&(bp=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bp===s&&(bp=null);for(var l=0;l<s.length;l+=3){var c=s[l],m=s[l+1],v=s[l+2];if(typeof m!="function"){if(pb(m||c)===null)continue;break}var w=mt(c);w!==null&&(s.splice(l,3),l-=3,p0(w,{pending:!0,data:v,method:c.method,action:m},m,v))}}))}function Td(s){function l(F){return vp(F,s)}mo!==null&&vp(mo,s),po!==null&&vp(po,s),go!==null&&vp(go,s),xd.forEach(l),Ed.forEach(l);for(var c=0;c<yo.length;c++){var m=yo[c];m.blockedOn===s&&(m.blockedOn=null)}for(;0<yo.length&&(c=yo[0],c.blockedOn===null);)bP(c),c.blockedOn===null&&yo.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var v=c[m],w=c[m+1],j=v[ve]||null;if(typeof w=="function")j||wP(c);else if(j){var L=null;if(w&&w.hasAttribute("formAction")){if(v=w,j=w[ve]||null)L=j.formAction;else if(pb(v)!==null)continue}else L=j.action;typeof L=="function"?c[m+1]=L:(c.splice(m,3),m-=3),wP(c)}}}function yb(s){this._internalRoot=s}_p.prototype.render=yb.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var c=l.current,m=Qr();mP(c,m,s,l,null,null)},_p.prototype.unmount=yb.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;mP(s.current,2,null,s,null,null),tp(),l[Ee]=null}};function _p(s){this._internalRoot=s}_p.prototype.unstable_scheduleHydration=function(s){if(s){var l=K();s={blockedOn:null,target:s,priority:l};for(var c=0;c<yo.length&&l!==0&&l<yo[c].priority;c++);yo.splice(c,0,s),c===0&&bP(s)}};var xP=e.version;if(xP!=="19.1.1")throw Error(r(527,xP,"19.1.1"));ie.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var jV={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wp.isDisabled&&wp.supportsFiber)try{Et=wp.inject(jV),nt=wp}catch{}}return Od.createRoot=function(s,l){if(!i(s))throw Error(r(299));var c=!1,m="",v=$A,w=VA,j=UA,L=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(j=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks)),l=dP(s,1,!1,null,null,c,m,v,w,j,L,null),s[Ee]=l.current,Z0(s),new yb(l)},Od.hydrateRoot=function(s,l,c){if(!i(s))throw Error(r(299));var m=!1,v="",w=$A,j=VA,L=UA,F=null,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(j=c.onCaughtError),c.onRecoverableError!==void 0&&(L=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(F=c.unstable_transitionCallbacks),c.formState!==void 0&&(Z=c.formState)),l=dP(s,1,!0,l,c??null,m,v,w,j,L,F,Z),l.context=hP(null),c=l.current,m=Qr(),m=da(m),v=Zs(m),v.callback=null,eo(c,v,m),c=m,l.current.lanes=c,Fi(l,c),Sa(l),s[Ee]=l.current,Z0(s),new _p(l)},Od.version="19.1.1",Od}var NP;function qV(){if(NP)return _b.exports;NP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_b.exports=zV(),_b.exports}var FV=qV();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mD=t=>{throw TypeError(t)},HV=(t,e,n)=>e.has(t)||mD("Cannot "+n),Sb=(t,e,n)=>(HV(t,e,"read from private field"),n?n.call(t):e.get(t)),KV=(t,e,n)=>e.has(t)?mD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),kP="popstate";function GV(t={}){function e(i,a){let{pathname:o="/",search:u="",hash:f=""}=Rs(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),sh("",{pathname:o,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let f=i.location.href,d=f.indexOf("#");u=d===-1?f:f.slice(0,d)}return u+"#"+(typeof a=="string"?a:$o(a))}function r(i,a){gn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return YV(e,n,r,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WV(){return Math.random().toString(36).substring(2,10)}function DP(t,e){return{usr:t.state,key:t.key,idx:e}}function sh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rs(e):e,state:n,key:e&&e.key||r||WV()}}function $o({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function YV(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,u="POP",f=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function p(){u="POP";let S=h(),O=S==null?null:S-d;d=S,f&&f({action:u,location:E.location,delta:O})}function y(S,O){u="PUSH";let R=sh(E.location,S,O);n&&n(R,S),d=h()+1;let P=DP(R,d),$=E.createHref(R);try{o.pushState(P,"",$)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign($)}a&&f&&f({action:u,location:E.location,delta:1})}function b(S,O){u="REPLACE";let R=sh(E.location,S,O);n&&n(R,S),d=h();let P=DP(R,d),$=E.createHref(R);o.replaceState(P,"",$),a&&f&&f({action:u,location:E.location,delta:0})}function x(S){return pD(S)}let E={get action(){return u},get location(){return t(i,o)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(kP,p),f=S,()=>{i.removeEventListener(kP,p),f=null}},createHref(S){return e(i,S)},createURL:x,encodeLocation(S){let O=x(S);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:b,go(S){return o.go(S)}};return E}function pD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:$o(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Ud,IP=class{constructor(t){if(KV(this,Ud,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Sb(this,Ud).has(t))return Sb(this,Ud).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Sb(this,Ud).set(t,e)}};Ud=new WeakMap;var XV=new Set(["lazy","caseSensitive","path","id","index","children"]);function QV(t){return XV.has(t)}var JV=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function ZV(t){return JV.has(t)}function eU(t){return t.index===!0}function oh(t,e,n=[],r={},i=!1){return t.map((a,o)=>{let u=[...n,String(o)],f=typeof a.id=="string"?a.id:u.join("-");if(ft(a.index!==!0||!a.children,"Cannot specify children on an index route"),ft(i||!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),eU(a)){let d={...a,...e(a),id:f};return r[f]=d,d}else{let d={...a,...e(a),id:f,children:void 0};return r[f]=d,a.children&&(d.children=oh(a.children,e,u,r,i)),d}})}function Ao(t,e,n="/"){return Yp(t,e,n,!1)}function Yp(t,e,n,r){let i=typeof e=="string"?Rs(e):e,a=$i(i.pathname||"/",n);if(a==null)return null;let o=gD(t);nU(o);let u=null;for(let f=0;u==null&&f<o.length;++f){let d=hU(a);u=fU(o[f],d,r)}return u}function tU(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function gD(t,e=[],n=[],r="",i=!1){let a=(o,u,f=i,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&f)return;ft(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=ja([r,h.relativePath]),y=n.concat(h);o.children&&o.children.length>0&&(ft(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),gD(o.children,e,y,p,f)),!(o.path==null&&!o.index)&&e.push({path:p,score:uU(p,o.index),routesMeta:y})};return t.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))a(o,u);else for(let f of yD(o.path))a(o,u,!0,f)}),e}function yD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=yD(r.join("/")),u=[];return u.push(...o.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...o),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function nU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var rU=/^:[\w-]+$/,iU=3,aU=2,sU=1,oU=10,lU=-2,MP=t=>t==="*";function uU(t,e){let n=t.split("/"),r=n.length;return n.some(MP)&&(r+=lU),e&&(r+=aU),n.filter(i=>!MP(i)).reduce((i,a)=>i+(rU.test(a)?iU:a===""?sU:oU),r)}function cU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fU(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let u=0;u<r.length;++u){let f=r[u],d=u===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=og({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},h),y=f.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=og({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ja([a,p.pathname]),pathnameBase:yU(ja([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=ja([a,p.pathnameBase]))}return o}function og(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:p},y)=>{if(h==="*"){let x=u[y]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const b=u[y];return p&&!b?d[h]=void 0:d[h]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function dU(t,e=!1,n=!0){gn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function $i(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mU({basename:t,pathname:e}){return e==="/"?t:ja([t,e])}function pU(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Rs(t):t;return{pathname:n?n.startsWith("/")?n:gU(n,e):e,search:vU(r),hash:bU(i)}}function gU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function p1(t){let e=vD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function g1(t,e,n,r=!1){let i;typeof t=="string"?i=Rs(t):(i={...t},ft(!i.pathname||!i.pathname.includes("?"),Tb("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),Tb("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),Tb("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,u;if(o==null)u=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}u=p>=0?e[p]:"/"}let f=pU(i,u),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||h)&&(f.pathname+="/"),f}var ja=t=>t.join("/").replace(/\/\/+/g,"/"),yU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,lg=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function lh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var bD=["POST","PUT","PATCH","DELETE"],_U=new Set(bD),wU=["GET",...bD],xU=new Set(wU),EU=new Set([301,302,303,307,308]),SU=new Set([307,308]),Ab={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},TU={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Pd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},AU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y1=t=>AU.test(t),OU=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),_D="remix-router-transitions",wD=Symbol("ResetLoaderData");function PU(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ft(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||OU,a={},o=oh(t.routes,i,void 0,a),u,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let d=t.dataStrategy||kU,h={...t.future},p=null,y=new Set,b=null,x=null,E=null,S=t.hydrationData!=null,O=Ao(o,t.history.location,f),R=!1,P=null,$;if(O==null&&!t.patchRoutesOnNavigation){let K=Ni(404,{pathname:t.history.location.pathname}),{matches:X,route:ee}=xp(o);$=!0,O=X,P={[ee.id]:K}}else if(O&&!t.hydrationData&&wr(O,o,t.history.location.pathname).active&&(O=null),O)if(O.some(K=>K.route.lazy))$=!1;else if(!O.some(K=>K.route.loader))$=!0;else{let K=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null;if(X){let ee=O.findIndex(fe=>X[fe.route.id]!==void 0);$=O.slice(0,ee+1).every(fe=>!Mw(fe.route,K,X))}else $=O.every(ee=>!Mw(ee.route,K,X))}else{$=!1,O=[];let K=wr(null,o,t.history.location.pathname);K.active&&K.matches&&(R=!0,O=K.matches)}let D,N={historyAction:t.history.action,location:t.history.location,matches:O,initialized:$,navigation:Ab,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},k="POP",I=!1,M,V=!1,z=new Map,q=null,U=!1,ge=!1,we=new Set,G=new Map,ie=0,pe=-1,xe=new Map,H=new Set,oe=new Map,ae=new Map,me=new Set,Pe=new Map,$e,Ve=null;function on(){if(p=t.history.listen(({action:K,location:X,delta:ee})=>{if($e){$e(),$e=void 0;return}gn(Pe.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=qs({currentLocation:N.location,nextLocation:X,historyAction:K});if(fe&&ee!=null){let ve=new Promise(Ee=>{$e=Ee});t.history.go(ee*-1),mi(fe,{state:"blocked",location:X,proceed(){mi(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),ve.then(()=>t.history.go(ee))},reset(){let Ee=new Map(N.blockers);Ee.set(fe,Pd),De({blockers:Ee})}});return}return et(K,X)}),n){WU(e,z);let K=()=>YU(e,z);e.addEventListener("pagehide",K),q=()=>e.removeEventListener("pagehide",K)}return N.initialized||et("POP",N.location,{initialHydration:!0}),D}function Ot(){p&&p(),q&&q(),y.clear(),M&&M.abort(),N.fetchers.forEach((K,X)=>bn(X)),N.blockers.forEach((K,X)=>Fa(X))}function _e(K){return y.add(K),()=>y.delete(K)}function De(K,X={}){K.matches&&(K.matches=K.matches.map(ve=>{let Ee=a[ve.route.id],Ie=ve.route;return Ie.element!==Ee.element||Ie.errorElement!==Ee.errorElement||Ie.hydrateFallbackElement!==Ee.hydrateFallbackElement?{...ve,route:Ee}:ve})),N={...N,...K};let ee=[],fe=[];N.fetchers.forEach((ve,Ee)=>{ve.state==="idle"&&(me.has(Ee)?ee.push(Ee):fe.push(Ee))}),me.forEach(ve=>{!N.fetchers.has(ve)&&!G.has(ve)&&ee.push(ve)}),[...y].forEach(ve=>ve(N,{deletedFetchers:ee,viewTransitionOpts:X.viewTransitionOpts,flushSync:X.flushSync===!0})),ee.forEach(ve=>bn(ve)),fe.forEach(ve=>N.fetchers.delete(ve))}function Ke(K,X,{flushSync:ee}={}){let fe=N.actionData!=null&&N.navigation.formMethod!=null&&Lr(N.navigation.formMethod)&&N.navigation.state==="loading"&&K.state?._isRedirect!==!0,ve;X.actionData?Object.keys(X.actionData).length>0?ve=X.actionData:ve=null:fe?ve=N.actionData:ve=null;let Ee=X.loaderData?KP(N.loaderData,X.loaderData,X.matches||[],X.errors):N.loaderData,Ie=N.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((ke,Re)=>Ie.set(Re,Pd)));let je=U?!1:Fs(K,X.matches||N.matches),Ne=I===!0||N.navigation.formMethod!=null&&Lr(N.navigation.formMethod)&&K.state?._isRedirect!==!0;u&&(o=u,u=void 0),U||k==="POP"||(k==="PUSH"?t.history.push(K,K.state):k==="REPLACE"&&t.history.replace(K,K.state));let Ue;if(k==="POP"){let ke=z.get(N.location.pathname);ke&&ke.has(K.pathname)?Ue={currentLocation:N.location,nextLocation:K}:z.has(K.pathname)&&(Ue={currentLocation:K,nextLocation:N.location})}else if(V){let ke=z.get(N.location.pathname);ke?ke.add(K.pathname):(ke=new Set([K.pathname]),z.set(N.location.pathname,ke)),Ue={currentLocation:N.location,nextLocation:K}}De({...X,actionData:ve,loaderData:Ee,historyAction:k,location:K,initialized:!0,navigation:Ab,revalidation:"idle",restoreScrollPosition:je,preventScrollReset:Ne,blockers:Ie},{viewTransitionOpts:Ue,flushSync:ee===!0}),k="POP",I=!1,V=!1,U=!1,ge=!1,Ve?.resolve(),Ve=null}async function ye(K,X){if(typeof K=="number"){t.history.go(K);return}let ee=Iw(N.location,N.matches,f,K,X?.fromRouteId,X?.relative),{path:fe,submission:ve,error:Ee}=LP(!1,ee,X),Ie=N.location,je=sh(N.location,fe,X&&X.state);je={...je,...t.history.encodeLocation(je)};let Ne=X&&X.replace!=null?X.replace:void 0,Ue="PUSH";Ne===!0?Ue="REPLACE":Ne===!1||ve!=null&&Lr(ve.formMethod)&&ve.formAction===N.location.pathname+N.location.search&&(Ue="REPLACE");let ke=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Re=(X&&X.flushSync)===!0,Ze=qs({currentLocation:Ie,nextLocation:je,historyAction:Ue});if(Ze){mi(Ze,{state:"blocked",location:je,proceed(){mi(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),ye(K,X)},reset(){let mt=new Map(N.blockers);mt.set(Ze,Pd),De({blockers:mt})}});return}await et(Ue,je,{submission:ve,pendingError:Ee,preventScrollReset:ke,replace:X&&X.replace,enableViewTransition:X&&X.viewTransition,flushSync:Re})}function Zt(){Ve||(Ve=XU()),zs(),De({revalidation:"loading"});let K=Ve.promise;return N.navigation.state==="submitting"?K:N.navigation.state==="idle"?(et(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),K):(et(k||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:V===!0}),K)}async function et(K,X,ee){M&&M.abort(),M=null,k=K,U=(ee&&ee.startUninterruptedRevalidation)===!0,Fi(N.location,N.matches),I=(ee&&ee.preventScrollReset)===!0,V=(ee&&ee.enableViewTransition)===!0;let fe=u||o,ve=ee&&ee.overrideNavigation,Ee=ee?.initialHydration&&N.matches&&N.matches.length>0&&!R?N.matches:Ao(fe,X,f),Ie=(ee&&ee.flushSync)===!0;if(Ee&&N.initialized&&!ge&&BU(N.location,X)&&!(ee&&ee.submission&&Lr(ee.submission.formMethod))){Ke(X,{matches:Ee},{flushSync:Ie});return}let je=wr(Ee,fe,X.pathname);if(je.active&&je.matches&&(Ee=je.matches),!Ee){let{error:St,notFoundMatches:Ye,route:Tt}=Ha(X.pathname);Ke(X,{matches:Ye,loaderData:{},errors:{[Tt.id]:St}},{flushSync:Ie});return}M=new AbortController;let Ne=wc(t.history,X,M.signal,ee&&ee.submission),Ue=t.unstable_getContext?await t.unstable_getContext():new IP,ke;if(ee&&ee.pendingError)ke=[Oo(Ee).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&Lr(ee.submission.formMethod)){let St=await dn(Ne,X,ee.submission,Ee,Ue,je.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:Ie});if(St.shortCircuited)return;if(St.pendingActionResult){let[Ye,Tt]=St.pendingActionResult;if(ni(Tt)&&lh(Tt.error)&&Tt.error.status===404){M=null,Ke(X,{matches:St.matches,loaderData:{},errors:{[Ye]:Tt.error}});return}}Ee=St.matches||Ee,ke=St.pendingActionResult,ve=Ob(X,ee.submission),Ie=!1,je.active=!1,Ne=wc(t.history,Ne.url,Ne.signal)}let{shortCircuited:Re,matches:Ze,loaderData:mt,errors:Ct}=await vn(Ne,X,Ee,Ue,je.active,ve,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,Ie,ke);Re||(M=null,Ke(X,{matches:Ze||Ee,...GP(ke),loaderData:mt,errors:Ct}))}async function dn(K,X,ee,fe,ve,Ee,Ie,je={}){zs();let Ne=KU(X,ee);if(De({navigation:Ne},{flushSync:je.flushSync===!0}),Ee){let Re=await fa(fe,X.pathname,K.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){if(Re.partialMatches.length===0){let{matches:mt,route:Ct}=xp(o);return{matches:mt,pendingActionResult:[Ct.id,{type:"error",error:Re.error}]}}let Ze=Oo(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[Ze,{type:"error",error:Re.error}]}}else if(Re.matches)fe=Re.matches;else{let{notFoundMatches:Ze,error:mt,route:Ct}=Ha(X.pathname);return{matches:Ze,pendingActionResult:[Ct.id,{type:"error",error:mt}]}}}let Ue,ke=Xp(fe,X);if(!ke.route.action&&!ke.route.lazy)Ue={type:"error",error:Ni(405,{method:K.method,pathname:X.pathname,routeId:ke.route.id})};else{let Re=Nc(i,a,K,fe,ke,Ie?[]:r,ve),Ze=await di(K,Re,ve,null);if(Ue=Ze[ke.route.id],!Ue){for(let mt of fe)if(Ze[mt.route.id]){Ue=Ze[mt.route.id];break}}if(K.signal.aborted)return{shortCircuited:!0}}if(zl(Ue)){let Re;return je&&je.replace!=null?Re=je.replace:Re=qP(Ue.response.headers.get("Location"),new URL(K.url),f)===N.location.pathname+N.location.search,await qi(K,Ue,!0,{submission:ee,replace:Re}),{shortCircuited:!0}}if(ni(Ue)){let Re=Oo(fe,ke.route.id);return(je&&je.replace)!==!0&&(k="PUSH"),{matches:fe,pendingActionResult:[Re.route.id,Ue,ke.route.id]}}return{matches:fe,pendingActionResult:[ke.route.id,Ue]}}async function vn(K,X,ee,fe,ve,Ee,Ie,je,Ne,Ue,ke,Re){let Ze=Ee||Ob(X,Ie),mt=Ie||je||YP(Ze),Ct=!U&&!Ue;if(ve){if(Ct){let en=rn(Re);De({navigation:Ze,...en!==void 0?{actionData:en}:{}},{flushSync:ke})}let Fe=await fa(ee,X.pathname,K.signal);if(Fe.type==="aborted")return{shortCircuited:!0};if(Fe.type==="error"){if(Fe.partialMatches.length===0){let{matches:Hi,route:er}=xp(o);return{matches:Hi,loaderData:{},errors:{[er.id]:Fe.error}}}let en=Oo(Fe.partialMatches).route.id;return{matches:Fe.partialMatches,loaderData:{},errors:{[en]:Fe.error}}}else if(Fe.matches)ee=Fe.matches;else{let{error:en,notFoundMatches:Hi,route:er}=Ha(X.pathname);return{matches:Hi,loaderData:{},errors:{[er.id]:en}}}}let St=u||o,{dsMatches:Ye,revalidatingFetchers:Tt}=$P(K,fe,i,a,t.history,N,ee,mt,X,Ue?[]:r,Ue===!0,ge,we,me,oe,H,St,f,t.patchRoutesOnNavigation!=null,Re);if(pe=++ie,!t.dataStrategy&&!Ye.some(Fe=>Fe.shouldLoad)&&!Ye.some(Fe=>Fe.route.unstable_middleware)&&Tt.length===0){let Fe=ua();return Ke(X,{matches:ee,loaderData:{},errors:Re&&ni(Re[1])?{[Re[0]]:Re[1].error}:null,...GP(Re),...Fe?{fetchers:new Map(N.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(Ct){let Fe={};if(!ve){Fe.navigation=Ze;let en=rn(Re);en!==void 0&&(Fe.actionData=en)}Tt.length>0&&(Fe.fetchers=Vs(Tt)),De(Fe,{flushSync:ke})}Tt.forEach(Fe=>{hi(Fe.key),Fe.controller&&G.set(Fe.key,Fe.controller)});let Cr=()=>Tt.forEach(Fe=>hi(Fe.key));M&&M.signal.addEventListener("abort",Cr);let{loaderResults:Zn,fetcherResults:Bn}=await Bs(Ye,Tt,K,fe);if(K.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Cr),Tt.forEach(Fe=>G.delete(Fe.key));let xr=Ep(Zn);if(xr)return await qi(K,xr.result,!0,{replace:Ne}),{shortCircuited:!0};if(xr=Ep(Bn),xr)return H.add(xr.key),await qi(K,xr.result,!0,{replace:Ne}),{shortCircuited:!0};let{loaderData:Ks,errors:qr}=HP(N,ee,Zn,Re,Tt,Bn);Ue&&N.errors&&(qr={...N.errors,...qr});let gi=ua(),Fr=ca(pe),Er=gi||Fr||Tt.length>0;return{matches:ee,loaderData:Ks,errors:qr,...Er?{fetchers:new Map(N.fetchers)}:{}}}function rn(K){if(K&&!ni(K[1]))return{[K[0]]:K[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Vs(K){return K.forEach(X=>{let ee=N.fetchers.get(X.key),fe=Rd(void 0,ee?ee.data:void 0);N.fetchers.set(X.key,fe)}),new Map(N.fetchers)}async function il(K,X,ee,fe){hi(K);let ve=(fe&&fe.flushSync)===!0,Ee=u||o,Ie=Iw(N.location,N.matches,f,ee,X,fe?.relative),je=Ao(Ee,Ie,f),Ne=wr(je,Ee,Ie);if(Ne.active&&Ne.matches&&(je=Ne.matches),!je){nt(K,X,Ni(404,{pathname:Ie}),{flushSync:ve});return}let{path:Ue,submission:ke,error:Re}=LP(!0,Ie,fe);if(Re){nt(K,X,Re,{flushSync:ve});return}let Ze=t.unstable_getContext?await t.unstable_getContext():new IP,mt=(fe&&fe.preventScrollReset)===!0;if(ke&&Lr(ke.formMethod)){await Us(K,X,Ue,je,Ze,Ne.active,ve,mt,ke);return}oe.set(K,{routeId:X,path:Ue}),await qa(K,X,Ue,je,Ze,Ne.active,ve,mt,ke)}async function Us(K,X,ee,fe,ve,Ee,Ie,je,Ne){zs(),oe.delete(K);let Ue=N.fetchers.get(K);Et(K,GU(Ne,Ue),{flushSync:Ie});let ke=new AbortController,Re=wc(t.history,ee,ke.signal,Ne);if(Ee){let Ht=await fa(fe,new URL(Re.url).pathname,Re.signal,K);if(Ht.type==="aborted")return;if(Ht.type==="error"){nt(K,X,Ht.error,{flushSync:Ie});return}else if(Ht.matches)fe=Ht.matches;else{nt(K,X,Ni(404,{pathname:ee}),{flushSync:Ie});return}}let Ze=Xp(fe,ee);if(!Ze.route.action&&!Ze.route.lazy){let Ht=Ni(405,{method:Ne.formMethod,pathname:ee,routeId:X});nt(K,X,Ht,{flushSync:Ie});return}G.set(K,ke);let mt=ie,Ct=Nc(i,a,Re,fe,Ze,r,ve),Ye=(await di(Re,Ct,ve,K))[Ze.route.id];if(Re.signal.aborted){G.get(K)===ke&&G.delete(K);return}if(me.has(K)){if(zl(Ye)||ni(Ye)){Et(K,xo(void 0));return}}else{if(zl(Ye))if(G.delete(K),pe>mt){Et(K,xo(void 0));return}else return H.add(K),Et(K,Rd(Ne)),qi(Re,Ye,!1,{fetcherSubmission:Ne,preventScrollReset:je});if(ni(Ye)){nt(K,X,Ye.error);return}}let Tt=N.navigation.location||N.location,Cr=wc(t.history,Tt,ke.signal),Zn=u||o,Bn=N.navigation.state!=="idle"?Ao(Zn,N.navigation.location,f):N.matches;ft(Bn,"Didn't find any matches after fetcher action");let xr=++ie;xe.set(K,xr);let Ks=Rd(Ne,Ye.data);N.fetchers.set(K,Ks);let{dsMatches:qr,revalidatingFetchers:gi}=$P(Cr,ve,i,a,t.history,N,Bn,Ne,Tt,r,!1,ge,we,me,oe,H,Zn,f,t.patchRoutesOnNavigation!=null,[Ze.route.id,Ye]);gi.filter(Ht=>Ht.key!==K).forEach(Ht=>{let Ki=Ht.key,Gs=N.fetchers.get(Ki),Ws=Rd(void 0,Gs?Gs.data:void 0);N.fetchers.set(Ki,Ws),hi(Ki),Ht.controller&&G.set(Ki,Ht.controller)}),De({fetchers:new Map(N.fetchers)});let Fr=()=>gi.forEach(Ht=>hi(Ht.key));ke.signal.addEventListener("abort",Fr);let{loaderResults:Er,fetcherResults:Fe}=await Bs(qr,gi,Cr,ve);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",Fr),xe.delete(K),G.delete(K),gi.forEach(Ht=>G.delete(Ht.key)),N.fetchers.has(K)){let Ht=xo(Ye.data);N.fetchers.set(K,Ht)}let en=Ep(Er);if(en)return qi(Cr,en.result,!1,{preventScrollReset:je});if(en=Ep(Fe),en)return H.add(en.key),qi(Cr,en.result,!1,{preventScrollReset:je});let{loaderData:Hi,errors:er}=HP(N,Bn,Er,void 0,gi,Fe);ca(xr),N.navigation.state==="loading"&&xr>pe?(ft(k,"Expected pending action"),M&&M.abort(),Ke(N.navigation.location,{matches:Bn,loaderData:Hi,errors:er,fetchers:new Map(N.fetchers)})):(De({errors:er,loaderData:KP(N.loaderData,Hi,Bn,er),fetchers:new Map(N.fetchers)}),ge=!1)}async function qa(K,X,ee,fe,ve,Ee,Ie,je,Ne){let Ue=N.fetchers.get(K);Et(K,Rd(Ne,Ue?Ue.data:void 0),{flushSync:Ie});let ke=new AbortController,Re=wc(t.history,ee,ke.signal);if(Ee){let Tt=await fa(fe,new URL(Re.url).pathname,Re.signal,K);if(Tt.type==="aborted")return;if(Tt.type==="error"){nt(K,X,Tt.error,{flushSync:Ie});return}else if(Tt.matches)fe=Tt.matches;else{nt(K,X,Ni(404,{pathname:ee}),{flushSync:Ie});return}}let Ze=Xp(fe,ee);G.set(K,ke);let mt=ie,Ct=Nc(i,a,Re,fe,Ze,r,ve),Ye=(await di(Re,Ct,ve,K))[Ze.route.id];if(G.get(K)===ke&&G.delete(K),!Re.signal.aborted){if(me.has(K)){Et(K,xo(void 0));return}if(zl(Ye))if(pe>mt){Et(K,xo(void 0));return}else{H.add(K),await qi(Re,Ye,!1,{preventScrollReset:je});return}if(ni(Ye)){nt(K,X,Ye.error);return}Et(K,xo(Ye.data))}}async function qi(K,X,ee,{submission:fe,fetcherSubmission:ve,preventScrollReset:Ee,replace:Ie}={}){X.response.headers.has("X-Remix-Revalidate")&&(ge=!0);let je=X.response.headers.get("Location");ft(je,"Expected a Location header on the redirect Response"),je=qP(je,new URL(K.url),f);let Ne=sh(N.location,je,{_isRedirect:!0});if(n){let Ct=!1;if(X.response.headers.has("X-Remix-Reload-Document"))Ct=!0;else if(y1(je)){const St=pD(je,!0);Ct=St.origin!==e.location.origin||$i(St.pathname,f)==null}if(Ct){Ie?e.location.replace(je):e.location.assign(je);return}}M=null;let Ue=Ie===!0||X.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Re,formEncType:Ze}=N.navigation;!fe&&!ve&&ke&&Re&&Ze&&(fe=YP(N.navigation));let mt=fe||ve;if(SU.has(X.response.status)&&mt&&Lr(mt.formMethod))await et(Ue,Ne,{submission:{...mt,formAction:je},preventScrollReset:Ee||I,enableViewTransition:ee?V:void 0});else{let Ct=Ob(Ne,fe);await et(Ue,Ne,{overrideNavigation:Ct,fetcherSubmission:ve,preventScrollReset:Ee||I,enableViewTransition:ee?V:void 0})}}async function di(K,X,ee,fe){let ve,Ee={};try{ve=await IU(d,K,X,fe,ee,!1)}catch(Ie){return X.filter(je=>je.shouldLoad).forEach(je=>{Ee[je.route.id]={type:"error",error:Ie}}),Ee}if(K.signal.aborted)return Ee;for(let[Ie,je]of Object.entries(ve))if(FU(je)){let Ne=je.result;Ee[Ie]={type:"redirect",response:VU(Ne,K,Ie,X,f)}}else Ee[Ie]=await $U(je);return Ee}async function Bs(K,X,ee,fe){let ve=di(ee,K,fe,null),Ee=Promise.all(X.map(async Ne=>{if(Ne.matches&&Ne.match&&Ne.request&&Ne.controller){let ke=(await di(Ne.request,Ne.matches,fe,Ne.key))[Ne.match.route.id];return{[Ne.key]:ke}}else return Promise.resolve({[Ne.key]:{type:"error",error:Ni(404,{pathname:Ne.path})}})})),Ie=await ve,je=(await Ee).reduce((Ne,Ue)=>Object.assign(Ne,Ue),{});return{loaderResults:Ie,fetcherResults:je}}function zs(){ge=!0,oe.forEach((K,X)=>{G.has(X)&&we.add(X),hi(X)})}function Et(K,X,ee={}){N.fetchers.set(K,X),De({fetchers:new Map(N.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function nt(K,X,ee,fe={}){let ve=Oo(N.matches,X);bn(K),De({errors:{[ve.route.id]:ee},fetchers:new Map(N.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function cr(K){return ae.set(K,(ae.get(K)||0)+1),me.has(K)&&me.delete(K),N.fetchers.get(K)||TU}function bn(K){let X=N.fetchers.get(K);G.has(K)&&!(X&&X.state==="loading"&&xe.has(K))&&hi(K),oe.delete(K),xe.delete(K),H.delete(K),me.delete(K),we.delete(K),N.fetchers.delete(K)}function Su(K){let X=(ae.get(K)||0)-1;X<=0?(ae.delete(K),me.add(K)):ae.set(K,X),De({fetchers:new Map(N.fetchers)})}function hi(K){let X=G.get(K);X&&(X.abort(),G.delete(K))}function la(K){for(let X of K){let ee=cr(X),fe=xo(ee.data);N.fetchers.set(X,fe)}}function ua(){let K=[],X=!1;for(let ee of H){let fe=N.fetchers.get(ee);ft(fe,`Expected fetcher: ${ee}`),fe.state==="loading"&&(H.delete(ee),K.push(ee),X=!0)}return la(K),X}function ca(K){let X=[];for(let[ee,fe]of xe)if(fe<K){let ve=N.fetchers.get(ee);ft(ve,`Expected fetcher: ${ee}`),ve.state==="loading"&&(hi(ee),xe.delete(ee),X.push(ee))}return la(X),X.length>0}function zr(K,X){let ee=N.blockers.get(K)||Pd;return Pe.get(K)!==X&&Pe.set(K,X),ee}function Fa(K){N.blockers.delete(K),Pe.delete(K)}function mi(K,X){let ee=N.blockers.get(K)||Pd;ft(ee.state==="unblocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="blocked"||ee.state==="blocked"&&X.state==="proceeding"||ee.state==="blocked"&&X.state==="unblocked"||ee.state==="proceeding"&&X.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${X.state}`);let fe=new Map(N.blockers);fe.set(K,X),De({blockers:fe})}function qs({currentLocation:K,nextLocation:X,historyAction:ee}){if(Pe.size===0)return;Pe.size>1&&gn(!1,"A router only supports one blocker at a time");let fe=Array.from(Pe.entries()),[ve,Ee]=fe[fe.length-1],Ie=N.blockers.get(ve);if(!(Ie&&Ie.state==="proceeding")&&Ee({currentLocation:K,nextLocation:X,historyAction:ee}))return ve}function Ha(K){let X=Ni(404,{pathname:K}),ee=u||o,{matches:fe,route:ve}=xp(ee);return{notFoundMatches:fe,route:ve,error:X}}function al(K,X,ee){if(b=K,E=X,x=ee||null,!S&&N.navigation===Ab){S=!0;let fe=Fs(N.location,N.matches);fe!=null&&De({restoreScrollPosition:fe})}return()=>{b=null,E=null,x=null}}function pi(K,X){return x&&x(K,X.map(fe=>tU(fe,N.loaderData)))||K.key}function Fi(K,X){if(b&&E){let ee=pi(K,X);b[ee]=E()}}function Fs(K,X){if(b){let ee=pi(K,X),fe=b[ee];if(typeof fe=="number")return fe}return null}function wr(K,X,ee){if(t.patchRoutesOnNavigation)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:Yp(X,ee,f,!0)}}else return{active:!0,matches:Yp(X,ee,f,!0)||[]};return{active:!1,matches:null}}async function fa(K,X,ee,fe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:K};let ve=K;for(;;){let Ee=u==null,Ie=u||o,je=a;try{await t.patchRoutesOnNavigation({signal:ee,path:X,matches:ve,fetcherKey:fe,patch:(ke,Re)=>{ee.aborted||VP(ke,Re,Ie,je,i,!1)}})}catch(ke){return{type:"error",error:ke,partialMatches:ve}}finally{Ee&&!ee.aborted&&(o=[...o])}if(ee.aborted)return{type:"aborted"};let Ne=Ao(Ie,X,f);if(Ne)return{type:"success",matches:Ne};let Ue=Yp(Ie,X,f,!0);if(!Ue||ve.length===Ue.length&&ve.every((ke,Re)=>ke.route.id===Ue[Re].route.id))return{type:"success",matches:null};ve=Ue}}function da(K){a={},u=oh(K,i,void 0,a)}function Hs(K,X,ee=!1){let fe=u==null;VP(K,X,u||o,a,i,ee),fe&&(o=[...o],De({}))}return D={get basename(){return f},get future(){return h},get state(){return N},get routes(){return o},get window(){return e},initialize:on,subscribe:_e,enableScrollRestoration:al,navigate:ye,fetch:il,revalidate:Zt,createHref:K=>t.history.createHref(K),encodeLocation:K=>t.history.encodeLocation(K),getFetcher:cr,deleteFetcher:Su,dispose:Ot,getBlocker:zr,deleteBlocker:Fa,patchRoutes:Hs,_internalFetchControllers:G,_internalSetRoutes:da,_internalSetStateDoNotUseOrYouWillBreakYourApp(K){De(K)}},D}function RU(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Iw(t,e,n,r,i,a){let o,u;if(i){o=[];for(let d of e)if(o.push(d),d.route.id===i){u=d;break}}else o=e,u=e[e.length-1];let f=g1(r||".",p1(o),$i(t.pathname,n)||t.pathname,a==="path");if(r==null&&(f.search=t.search,f.hash=t.hash),(r==null||r===""||r===".")&&u){let d=v1(f.search);if(u.route.index&&!d)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&d){let h=new URLSearchParams(f.search),p=h.getAll("index");h.delete("index"),p.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();f.search=y?`?${y}`:""}}return n!=="/"&&(f.pathname=mU({basename:n,pathname:f.pathname})),$o(f)}function LP(t,e,n){if(!n||!RU(n))return{path:e};if(n.formMethod&&!HU(n.formMethod))return{path:e,error:Ni(405,{method:n.formMethod})};let r=()=>({path:e,error:Ni(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),o=OD(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Lr(a))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[b,x])=>`${y}${b}=${x}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Lr(a))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}ft(typeof FormData=="function","FormData is not available in this environment");let u,f;if(n.formData)u=$w(n.formData),f=n.formData;else if(n.body instanceof FormData)u=$w(n.body),f=n.body;else if(n.body instanceof URLSearchParams)u=n.body,f=FP(u);else if(n.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(n.body),f=FP(u)}catch{return r()}let d={formMethod:a,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Lr(d.formMethod))return{path:e,submission:d};let h=Rs(e);return t&&h.search&&v1(h.search)&&u.append("index",""),h.search=`?${u}`,{path:$o(h),submission:d}}function $P(t,e,n,r,i,a,o,u,f,d,h,p,y,b,x,E,S,O,R,P){let $=P?ni(P[1])?P[1].error:P[1].data:void 0,D=i.createURL(a.location),N=i.createURL(f),k;if(h&&a.errors){let U=Object.keys(a.errors)[0];k=o.findIndex(ge=>ge.route.id===U)}else if(P&&ni(P[1])){let U=P[0];k=o.findIndex(ge=>ge.route.id===U)-1}let I=P?P[1].statusCode:void 0,M=I&&I>=400,V={currentUrl:D,currentParams:a.matches[0]?.params||{},nextUrl:N,nextParams:o[0].params,...u,actionResult:$,actionStatus:I},z=o.map((U,ge)=>{let{route:we}=U,G=null;if(k!=null&&ge>k?G=!1:we.lazy?G=!0:we.loader==null?G=!1:h?G=Mw(we,a.loaderData,a.errors):CU(a.loaderData,a.matches[ge],U)&&(G=!0),G!==null)return Lw(n,r,t,U,d,e,G);let ie=M?!1:p||D.pathname+D.search===N.pathname+N.search||D.search!==N.search||jU(a.matches[ge],U),pe={...V,defaultShouldRevalidate:ie},xe=ug(U,pe);return Lw(n,r,t,U,d,e,xe,pe)}),q=[];return x.forEach((U,ge)=>{if(h||!o.some(ae=>ae.route.id===U.routeId)||b.has(ge))return;let we=a.fetchers.get(ge),G=we&&we.state!=="idle"&&we.data===void 0,ie=Ao(S,U.path,O);if(!ie){if(R&&G)return;q.push({key:ge,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(E.has(ge))return;let pe=Xp(ie,U.path),xe=new AbortController,H=wc(i,U.path,xe.signal),oe=null;if(y.has(ge))y.delete(ge),oe=Nc(n,r,H,ie,pe,d,e);else if(G)p&&(oe=Nc(n,r,H,ie,pe,d,e));else{let ae={...V,defaultShouldRevalidate:M?!1:p};ug(pe,ae)&&(oe=Nc(n,r,H,ie,pe,d,e,ae))}oe&&q.push({key:ge,routeId:U.routeId,path:U.path,matches:oe,match:pe,request:H,controller:xe})}),{dsMatches:z,revalidatingFetchers:q}}function Mw(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function CU(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function jU(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ug(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function VP(t,e,n,r,i,a){let o;if(t){let d=r[t];ft(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),o=d.children}else o=n;let u=[],f=[];if(e.forEach(d=>{let h=o.find(p=>xD(d,p));h?f.push({existingRoute:h,newRoute:d}):u.push(d)}),u.length>0){let d=oh(u,i,[t||"_","patch",String(o?.length||"0")],r);o.push(...d)}if(a&&f.length>0)for(let d=0;d<f.length;d++){let{existingRoute:h,newRoute:p}=f[d],y=h,[b]=oh([p],i,[],{},!0);Object.assign(y,{element:b.element?b.element:y.element,errorElement:b.errorElement?b.errorElement:y.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:y.hydrateFallbackElement})}}function xD(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>xD(n,i))):!1}var UP=new WeakMap,ED=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(ft(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[t];if(!a)return;let o=UP.get(i);o||(o={},UP.set(i,o));let u=o[t];if(u)return u;let f=(async()=>{let d=QV(t),p=i[t]!==void 0&&t!=="hasErrorBoundary";if(d)gn(!d,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),o[t]=Promise.resolve();else if(p)gn(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let y=await a();y!=null&&(Object.assign(i,{[t]:y}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(y=>y===void 0)&&(i.lazy=void 0))})();return o[t]=f,f},BP=new WeakMap;function NU(t,e,n,r,i){let a=n[t.id];if(ft(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let h=BP.get(a);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let p=(async()=>{ft(typeof t.lazy=="function","No lazy route function found");let y=await t.lazy(),b={};for(let x in y){let E=y[x];if(E===void 0)continue;let S=ZV(x),R=a[x]!==void 0&&x!=="hasErrorBoundary";S?gn(!S,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?gn(!R,`Route "${a.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):b[x]=E}Object.assign(a,b),Object.assign(a,{...r(a),lazy:void 0})})();return BP.set(a,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(t.lazy),u=[],f;for(let h of o){if(i&&i.includes(h))continue;let p=ED({key:h,route:t,manifest:n,mapRouteProperties:r});p&&(u.push(p),h===e&&(f=p))}let d=u.length>0?Promise.all(u).then(()=>{}):void 0;return d?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:f}}async function zP(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,a)=>{n[e[a].route.id]=i}),n}async function kU(t){return t.matches.some(e=>e.route.unstable_middleware)?SD(t,()=>zP(t)):zP(t)}function SD(t,e){return DU(t,e,r=>r,zU,n);function n(r,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:r}}));{let{matches:o}=t,u=Math.min(o.findIndex(d=>d.route.id===i)||0,o.findIndex(d=>d.unstable_shouldCallHandler())||0),f=Oo(o,o[u].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:r}})}}}async function DU(t,e,n,r,i){let{matches:a,request:o,params:u,context:f}=t,d=a.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(y=>[p.route.id,y]):[]);return await TD({request:o,params:u,context:f},d,e,n,r,i)}async function TD(t,e,n,r,i,a,o=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason??new Error(`Request aborted: ${u.method} ${u.url}`);let f=e[o];if(!f)return await n();let[d,h]=f,p,y=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await TD(t,e,n,r,i,a,o+1)},p.value}catch(b){return p={value:await a(b,d,p)},p.value}};try{let b=await h(t,y),x=b!=null?r(b):void 0;return i(x)?x:p?x??p.value:(p={value:await y()},p.value)}catch(b){return await a(b,d,p)}}function AD(t,e,n,r,i){let a=ED({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),o=NU(r.route,Lr(n.method)?"action":"loader",e,t,i);return{middleware:a,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function Lw(t,e,n,r,i,a,o,u=null){let f=!1,d=AD(t,e,n,r,i);return{...r,_lazyPromises:d,shouldLoad:o,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(h){return f=!0,u?typeof h=="boolean"?ug(r,{...u,defaultShouldRevalidate:h}):ug(r,u):o},resolve(h){return f||o||h&&!Lr(n.method)&&(r.route.lazy||r.route.loader)?MU({request:n,match:r,lazyHandlerPromise:d?.handler,lazyRoutePromise:d?.route,handlerOverride:h,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Nc(t,e,n,r,i,a,o,u=null){return r.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:AD(t,e,n,f,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Lw(t,e,n,f,a,o,!0,u))}async function IU(t,e,n,r,i,a){n.some(d=>d._lazyPromises?.middleware)&&await Promise.all(n.map(d=>d._lazyPromises?.middleware));let o={request:e,params:n[0].params,context:i,matches:n},f=await t({...o,fetcherKey:r,unstable_runClientMiddleware:d=>{let h=o;return SD(h,()=>d({...h,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(d=>[d._lazyPromises?.handler,d._lazyPromises?.route]))}catch{}return f}async function MU({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:a}){let o,u,f=Lr(t.method),d=f?"action":"loader",h=p=>{let y,b=new Promise((S,O)=>y=O);u=()=>y(),t.signal.addEventListener("abort",u);let x=S=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${e.route.id}]`)):p({request:t,params:e.params,context:a},...S!==void 0?[S]:[]),E=(async()=>{try{return{type:"data",result:await(i?i(O=>x(O)):x())}}catch(S){return{type:"error",result:S}}})();return Promise.race([E,b])};try{let p=f?e.route.action:e.route.loader;if(n||r)if(p){let y,[b]=await Promise.all([h(p).catch(x=>{y=x}),n,r]);if(y!==void 0)throw y;o=b}else{await n;let y=f?e.route.action:e.route.loader;if(y)[o]=await Promise.all([h(y),r]);else if(d==="action"){let b=new URL(t.url),x=b.pathname+b.search;throw Ni(405,{method:t.method,pathname:x,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(p)o=await h(p);else{let y=new URL(t.url),b=y.pathname+y.search;throw Ni(404,{pathname:b})}}catch(p){return{type:"error",result:p}}finally{u&&t.signal.removeEventListener("abort",u)}return o}async function LU(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function $U(t){let{result:e,type:n}=t;if(PD(e)){let r;try{r=await LU(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new lg(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?WP(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new lg(e.init?.status||500,void 0,e.data),statusCode:lh(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:lh(e)?e.status:void 0}:WP(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function VU(t,e,n,r,i){let a=t.headers.get("Location");if(ft(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!y1(a)){let o=r.slice(0,r.findIndex(u=>u.route.id===n)+1);a=Iw(new URL(e.url),o,i,a),t.headers.set("Location",a)}return t}function qP(t,e,n){if(y1(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=$i(i.pathname,n)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function wc(t,e,n,r){let i=t.createURL(OD(e)).toString(),a={signal:n};if(r&&Lr(r.formMethod)){let{formMethod:o,formEncType:u}=r;a.method=o.toUpperCase(),u==="application/json"?(a.headers=new Headers({"Content-Type":u}),a.body=JSON.stringify(r.json)):u==="text/plain"?a.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?a.body=$w(r.formData):a.body=r.formData}return new Request(i,a)}function $w(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function FP(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function UU(t,e,n,r=!1,i=!1){let a={},o=null,u,f=!1,d={},h=n&&ni(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let y=p.route.id,b=e[y];if(ft(!zl(b),"Cannot handle redirect results in processLoaderData"),ni(b)){let x=b.error;if(h!==void 0&&(x=h,h=void 0),o=o||{},i)o[y]=x;else{let E=Oo(t,y);o[E.route.id]==null&&(o[E.route.id]=x)}r||(a[y]=wD),f||(f=!0,u=lh(b.error)?b.error.status:500),b.headers&&(d[y]=b.headers)}else a[y]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(u=b.statusCode),b.headers&&(d[y]=b.headers)}),h!==void 0&&n&&(o={[n[0]]:h},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:o,statusCode:u||200,loaderHeaders:d}}function HP(t,e,n,r,i,a){let{loaderData:o,errors:u}=UU(e,n,r);return i.filter(f=>!f.matches||f.matches.some(d=>d.shouldLoad)).forEach(f=>{let{key:d,match:h,controller:p}=f;if(p&&p.signal.aborted)return;let y=a[d];if(ft(y,"Did not find corresponding fetcher result"),ni(y)){let b=Oo(t.matches,h?.route.id);u&&u[b.route.id]||(u={...u,[b.route.id]:y.error}),t.fetchers.delete(d)}else if(zl(y))ft(!1,"Unhandled fetcher revalidation redirect");else{let b=xo(y.data);t.fetchers.set(d,b)}}),{loaderData:o,errors:u}}function KP(t,e,n,r){let i=Object.entries(e).filter(([,a])=>a!==wD).reduce((a,[o,u])=>(a[o]=u,a),{});for(let a of n){let o=a.route.id;if(!e.hasOwnProperty(o)&&t.hasOwnProperty(o)&&a.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function GP(t){return t?ni(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Oo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function xp(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ni(t,{pathname:e,routeId:n,method:r,type:i,message:a}={}){let o="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(o="Bad Request",r&&e&&n?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):t===403?(o="Forbidden",u=`Route "${n}" does not match URL "${e}"`):t===404?(o="Not Found",u=`No route matches URL "${e}"`):t===405&&(o="Method Not Allowed",r&&e&&n?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new lg(t||500,o,new Error(u),!0)}function Ep(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(zl(i))return{key:r,result:i}}}function OD(t){let e=typeof t=="string"?Rs(t):t;return $o({...e,hash:""})}function BU(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function zU(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&qU(n))}function qU(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function FU(t){return PD(t.result)&&EU.has(t.result.status)}function ni(t){return t.type==="error"}function zl(t){return(t&&t.type)==="redirect"}function WP(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function PD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function HU(t){return xU.has(t.toUpperCase())}function Lr(t){return _U.has(t.toUpperCase())}function v1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Xp(t,e){let n=typeof e=="string"?Rs(e).search:e.search;if(t[t.length-1].route.index&&v1(n||""))return t[t.length-1];let r=vD(t);return r[r.length-1]}function YP(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:a,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Ob(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function KU(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Rd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function GU(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function xo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function WU(t,e){try{let n=t.sessionStorage.getItem(_D);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function YU(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(_D,JSON.stringify(n))}catch(r){gn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function XU(){let t,e,n=new Promise((r,i)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var hu=T.createContext(null);hu.displayName="DataRouter";var kh=T.createContext(null);kh.displayName="DataRouterState";T.createContext(!1);var b1=T.createContext({isTransitioning:!1});b1.displayName="ViewTransition";var RD=T.createContext(new Map);RD.displayName="Fetchers";var QU=T.createContext(null);QU.displayName="Await";var za=T.createContext(null);za.displayName="Navigation";var vy=T.createContext(null);vy.displayName="Location";var Cs=T.createContext({outlet:null,matches:[],isDataRoute:!1});Cs.displayName="Route";var _1=T.createContext(null);_1.displayName="RouteError";function JU(t,{relative:e}={}){ft(Dh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(za),{hash:i,pathname:a,search:o}=Mh(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:ja([n,a])),r.createHref({pathname:u,search:o,hash:i})}function Dh(){return T.useContext(vy)!=null}function Yo(){return ft(Dh(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(vy).location}var CD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jD(t){T.useContext(za).static||T.useLayoutEffect(t)}function Ih(){let{isDataRoute:t}=T.useContext(Cs);return t?cB():ZU()}function ZU(){ft(Dh(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(hu),{basename:e,navigator:n}=T.useContext(za),{matches:r}=T.useContext(Cs),{pathname:i}=Yo(),a=JSON.stringify(p1(r)),o=T.useRef(!1);return jD(()=>{o.current=!0}),T.useCallback((f,d={})=>{if(gn(o.current,CD),!o.current)return;if(typeof f=="number"){n.go(f);return}let h=g1(f,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ja([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,i,t])}T.createContext(null);function Mh(t,{relative:e}={}){let{matches:n}=T.useContext(Cs),{pathname:r}=Yo(),i=JSON.stringify(p1(n));return T.useMemo(()=>g1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function eB(t,e,n,r,i){ft(Dh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(za),{matches:o}=T.useContext(Cs),u=o[o.length-1],f=u?u.params:{},d=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let R=p&&p.path||"";kD(d,!p||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let y=Yo(),b;b=y;let x=b.pathname||"/",E=x;if(h!=="/"){let R=h.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=Ao(t,{pathname:E});return gn(p||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),gn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),aB(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:ja([h,a.encodeLocation?a.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?h:ja([h,a.encodeLocation?a.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,n,r,i)}function tB(){let t=ND(),e=lh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,o)}var nB=T.createElement(tB,null),rB=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(Cs.Provider,{value:this.props.routeContext},T.createElement(_1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iB({routeContext:t,match:e,children:n}){let r=T.useContext(hu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Cs.Provider,{value:t},n)}function aB(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n?.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);ft(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,f=-1;if(n)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=d),h.route.id){let{loaderData:p,errors:y}=n,b=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let y,b=!1,x=null,E=null;n&&(y=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||nB,u&&(f<0&&p===0?(kD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):f===p&&(b=!0,E=h.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,p+1)),O=()=>{let R;return y?R=x:b?R=E:h.route.Component?R=T.createElement(h.route.Component,null):h.route.element?R=h.route.element:R=d,T.createElement(iB,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:R})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?T.createElement(rB,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:O(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):O()},null)}function w1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sB(t){let e=T.useContext(hu);return ft(e,w1(t)),e}function oB(t){let e=T.useContext(kh);return ft(e,w1(t)),e}function lB(t){let e=T.useContext(Cs);return ft(e,w1(t)),e}function x1(t){let e=lB(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uB(){return x1("useRouteId")}function ND(){let t=T.useContext(_1),e=oB("useRouteError"),n=x1("useRouteError");return t!==void 0?t:e.errors?.[n]}function cB(){let{router:t}=sB("useNavigate"),e=x1("useNavigate"),n=T.useRef(!1);return jD(()=>{n.current=!0}),T.useCallback(async(i,a={})=>{gn(n.current,CD),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var XP={};function kD(t,e,n){!e&&!XP[t]&&(XP[t]=!0,gn(!1,n))}var QP={};function JP(t,e){!t&&!QP[e]&&(QP[e]=!0,console.warn(e))}function fB(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&gn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:T.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&gn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:T.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&gn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var dB=["HydrateFallback","hydrateFallbackElement"],hB=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function mB({router:t,flushSync:e,unstable_onError:n}){let[r,i]=T.useState(t.state),[a,o]=T.useState(),[u,f]=T.useState({isTransitioning:!1}),[d,h]=T.useState(),[p,y]=T.useState(),[b,x]=T.useState(),E=T.useRef(new Map),S=T.useCallback(D=>{i(N=>(D.errors&&n&&Object.entries(D.errors).forEach(([k,I])=>{N.errors?.[k]!==I&&n(I)}),D))},[n]),O=T.useCallback((D,{deletedFetchers:N,flushSync:k,viewTransitionOpts:I})=>{D.fetchers.forEach((V,z)=>{V.data!==void 0&&E.current.set(z,V.data)}),N.forEach(V=>E.current.delete(V)),JP(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(JP(I==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!I||!M){e&&k?e(()=>S(D)):T.startTransition(()=>S(D));return}if(e&&k){e(()=>{p&&(d&&d.resolve(),p.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let V=t.window.document.startViewTransition(()=>{e(()=>S(D))});V.finished.finally(()=>{e(()=>{h(void 0),y(void 0),o(void 0),f({isTransitioning:!1})})}),e(()=>y(V));return}p?(d&&d.resolve(),p.skipTransition(),x({state:D,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(o(D),f({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[t.window,e,p,d,S]);T.useLayoutEffect(()=>t.subscribe(O),[t,O]),T.useEffect(()=>{u.isTransitioning&&!u.flushSync&&h(new hB)},[u]),T.useEffect(()=>{if(d&&a&&t.window){let D=a,N=d.promise,k=t.window.document.startViewTransition(async()=>{T.startTransition(()=>S(D)),await N});k.finished.finally(()=>{h(void 0),y(void 0),o(void 0),f({isTransitioning:!1})}),y(k)}},[a,d,t.window,S]),T.useEffect(()=>{d&&a&&r.location.key===a.location.key&&d.resolve()},[d,p,r.location,a]),T.useEffect(()=>{!u.isTransitioning&&b&&(o(b.state),f({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),x(void 0))},[u.isTransitioning,b]);let R=T.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:D=>t.navigate(D),push:(D,N,k)=>t.navigate(D,{state:N,preventScrollReset:k?.preventScrollReset}),replace:(D,N,k)=>t.navigate(D,{replace:!0,state:N,preventScrollReset:k?.preventScrollReset})}),[t]),P=t.basename||"/",$=T.useMemo(()=>({router:t,navigator:R,static:!1,basename:P,unstable_onError:n}),[t,R,P,n]);return T.createElement(T.Fragment,null,T.createElement(hu.Provider,{value:$},T.createElement(kh.Provider,{value:r},T.createElement(RD.Provider,{value:E.current},T.createElement(b1.Provider,{value:u},T.createElement(yB,{basename:P,location:r.location,navigationType:r.historyAction,navigator:R},T.createElement(pB,{routes:t.routes,future:t.future,state:r,unstable_onError:n})))))),null)}var pB=T.memo(gB);function gB({routes:t,future:e,state:n,unstable_onError:r}){return eB(t,void 0,n,r,e)}function yB({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){ft(!Dh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=Rs(n));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:y="default"}=n,b=T.useMemo(()=>{let x=$i(f,o);return x==null?null:{location:{pathname:x,search:d,hash:h,state:p,key:y},navigationType:r}},[o,f,d,h,p,y,r]);return gn(b!=null,`<Router basename="${o}"> is not able to match the URL "${f}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:T.createElement(za.Provider,{value:u},T.createElement(vy.Provider,{children:e,value:b}))}var Qp="get",Jp="application/x-www-form-urlencoded";function by(t){return t!=null&&typeof t.tagName=="string"}function vB(t){return by(t)&&t.tagName.toLowerCase()==="button"}function bB(t){return by(t)&&t.tagName.toLowerCase()==="form"}function _B(t){return by(t)&&t.tagName.toLowerCase()==="input"}function wB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xB(t,e){return t.button===0&&(!e||e==="_self")&&!wB(t)}var Sp=null;function EB(){if(Sp===null)try{new FormData(document.createElement("form"),0),Sp=!1}catch{Sp=!0}return Sp}var SB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pb(t){return t!=null&&!SB.has(t)?(gn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jp}"`),null):t}function TB(t,e){let n,r,i,a,o;if(bB(t)){let u=t.getAttribute("action");r=u?$i(u,e):null,n=t.getAttribute("method")||Qp,i=Pb(t.getAttribute("enctype"))||Jp,a=new FormData(t)}else if(vB(t)||_B(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?$i(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Qp,i=Pb(t.getAttribute("formenctype"))||Pb(u.getAttribute("enctype"))||Jp,a=new FormData(u,t),!EB()){let{name:d,type:h,value:p}=t;if(h==="image"){let y=d?`${d}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else d&&a.append(d,p)}}else{if(by(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qp,r=null,i=Jp,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function E1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AB(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&$i(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function OB(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PB(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RB(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await OB(a,n);return o.links?o.links():[]}return[]}));return kB(r.flat(1).filter(PB).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ZP(t,e,n,r,i,a){let o=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,u=(f,d)=>n[d].pathname!==f.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,d)=>o(f,d)||u(f,d)):a==="data"?e.filter((f,d)=>{let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(o(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function CB(t,e,{includeHydrateFallback:n}={}){return jB(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function jB(t){return[...new Set(t)]}function NB(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function kB(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(NB(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function DD(){let t=T.useContext(hu);return E1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function DB(){let t=T.useContext(kh);return E1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var S1=T.createContext(void 0);S1.displayName="FrameworkContext";function ID(){let t=T.useContext(S1);return E1(t,"You must render this element inside a <HydratedRouter> element"),t}function IB(t,e){let n=T.useContext(S1),[r,i]=T.useState(!1),[a,o]=T.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=e,y=T.useRef(null);T.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let E=O=>{O.forEach(R=>{o(R.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[t]),T.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let b=()=>{i(!0)},x=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:Cd(u,b),onBlur:Cd(f,x),onMouseEnter:Cd(d,b),onMouseLeave:Cd(h,x),onTouchStart:Cd(p,b)}]:[!1,y,{}]}function Cd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function MB({page:t,...e}){let{router:n}=DD(),r=T.useMemo(()=>Ao(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement($B,{page:t,matches:r,...e}):null}function LB(t){let{manifest:e,routeModules:n}=ID(),[r,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return RB(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function $B({page:t,matches:e,...n}){let r=Yo(),{manifest:i,routeModules:a}=ID(),{basename:o}=DD(),{loaderData:u,matches:f}=DB(),d=T.useMemo(()=>ZP(t,e,f,i,r,"data"),[t,e,f,i,r]),h=T.useMemo(()=>ZP(t,e,f,i,r,"assets"),[t,e,f,i,r]),p=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,E=!1;if(e.forEach(O=>{let R=i.routes[O.route.id];!R||!R.hasLoader||(!d.some(P=>P.route.id===O.route.id)&&O.route.id in u&&a[O.route.id]?.shouldRevalidate||R.hasClientLoader?E=!0:x.add(O.route.id))}),x.size===0)return[];let S=AB(t,o,"data");return E&&x.size>0&&S.searchParams.set("_routes",e.filter(O=>x.has(O.route.id)).map(O=>O.route.id).join(",")),[S.pathname+S.search]},[o,u,r,i,d,e,t,a]),y=T.useMemo(()=>CB(h,i),[h,i]),b=LB(h);return T.createElement(T.Fragment,null,p.map(x=>T.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),y.map(x=>T.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),b.map(({key:x,link:E})=>T.createElement("link",{key:x,nonce:n.nonce,...E})))}function VB(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MD&&(window.__reactRouterVersion="7.8.2")}catch{}function UB(t,e){return PU({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:GV({window:e?.window}),hydrationData:BB(),routes:t,mapRouteProperties:fB,hydrationRouteProperties:dB,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function BB(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:zB(t.errors)}),t}function zB(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new lg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let o=new a(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}var LD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kc=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:u,target:f,to:d,preventScrollReset:h,viewTransition:p,...y},b){let{basename:x}=T.useContext(za),E=typeof d=="string"&&LD.test(d),S,O=!1;if(typeof d=="string"&&E&&(S=d,MD))try{let M=new URL(window.location.href),V=d.startsWith("//")?new URL(M.protocol+d):new URL(d),z=$i(V.pathname,x);V.origin===M.origin&&z!=null?d=z+V.search+V.hash:O=!0}catch{gn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=JU(d,{relative:i}),[P,$,D]=IB(r,y),N=KB(d,{replace:o,state:u,target:f,preventScrollReset:h,relative:i,viewTransition:p});function k(M){e&&e(M),M.defaultPrevented||N(M)}let I=T.createElement("a",{...y,...D,href:S||R,onClick:O||a?e:k,ref:VB(b,$),target:f,"data-discover":!E&&n==="render"?"true":void 0});return P&&!E?T.createElement(T.Fragment,null,I,T.createElement(MB,{page:R})):I});kc.displayName="Link";var qB=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:u,children:f,...d},h){let p=Mh(o,{relative:d.relative}),y=Yo(),b=T.useContext(kh),{navigator:x,basename:E}=T.useContext(za),S=b!=null&&QB(p)&&u===!0,O=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,R=y.pathname,P=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(R=R.toLowerCase(),P=P?P.toLowerCase():null,O=O.toLowerCase()),P&&E&&(P=$i(P,E)||P);const $=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let D=R===O||!i&&R.startsWith(O)&&R.charAt($)==="/",N=P!=null&&(P===O||!i&&P.startsWith(O)&&P.charAt(O.length)==="/"),k={isActive:D,isPending:N,isTransitioning:S},I=D?e:void 0,M;typeof r=="function"?M=r(k):M=[r,D?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(k):a;return T.createElement(kc,{...d,"aria-current":I,className:M,ref:h,style:V,to:o,viewTransition:u},typeof f=="function"?f(k):f)});qB.displayName="NavLink";var FB=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Qp,action:u,onSubmit:f,relative:d,preventScrollReset:h,viewTransition:p,...y},b)=>{let x=YB(),E=XB(u,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&LD.test(u),R=P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let $=P.nativeEvent.submitter,D=$?.getAttribute("formmethod")||o;x($||P.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:p})};return T.createElement("form",{ref:b,method:S,action:E,onSubmit:r?f:R,...y,"data-discover":!O&&t==="render"?"true":void 0})});FB.displayName="Form";function HB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $D(t){let e=T.useContext(hu);return ft(e,HB(t)),e}function KB(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let u=Ih(),f=Yo(),d=Mh(t,{relative:a});return T.useCallback(h=>{if(xB(h,e)){h.preventDefault();let p=n!==void 0?n:$o(f)===$o(d);u(t,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[f,u,d,n,r,e,t,i,a,o])}var GB=0,WB=()=>`__${String(++GB)}__`;function YB(){let{router:t}=$D("useSubmit"),{basename:e}=T.useContext(za),n=uB();return T.useCallback(async(r,i={})=>{let{action:a,method:o,encType:u,formData:f,body:d}=TB(r,e);if(i.navigate===!1){let h=i.fetcherKey||WB();await t.fetch(h,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||o,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||o,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function XB(t,{relative:e}={}){let{basename:n}=T.useContext(za),r=T.useContext(Cs);ft(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Mh(t||".",{relative:e})},o=Yo();if(t==null){a.search=o.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(p=>p).forEach(p=>u.append("index",p));let h=u.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ja([n,a.pathname])),$o(a)}function QB(t,{relative:e}={}){let n=T.useContext(b1);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$D("useViewTransitionState"),i=Mh(t,{relative:e});if(!n.isTransitioning)return!1;let a=$i(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=$i(n.nextLocation.pathname,r)||n.nextLocation.pathname;return og(i.pathname,o)!=null||og(i.pathname,a)!=null}var T1=hD();function JB(t){return T.createElement(mB,{flushSync:T1.flushSync,...t})}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),eR=t=>{const e=e9(t);return e.charAt(0).toUpperCase()+e.slice(1)},VD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),t9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...u},f)=>T.createElement("svg",{ref:f,...n9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:VD("lucide",i),...!a&&!t9(u)&&{"aria-hidden":"true"},...u},[...o.map(([d,h])=>T.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=(t,e)=>{const n=T.forwardRef(({className:r,...i},a)=>T.createElement(r9,{ref:a,iconNode:e,className:VD(`lucide-${ZB(eR(t))}`,`lucide-${t}`,r),...i}));return n.displayName=eR(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],UD=qt("arrow-down",i9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tR=qt("arrow-right",a9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],o9=qt("arrow-up-down",s9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],BD=qt("arrow-up",l9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 16a2 2 0 0 1-2 2H8.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 4 20.286V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2z",key:"11gyqh"}],["path",{d:"M9 11v2",key:"1ueba0"}]],c9=qt("bot-message-square",u9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],d9=qt("chevron-left",f9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],m9=qt("chevron-right",h9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],g9=qt("copy",p9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],v9=qt("ellipsis",y9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_9=qt("eye-off",b9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],x9=qt("highlighter",w9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],S9=qt("menu",E9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],A9=qt("refresh-cw",T9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vw=qt("search",O9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],R9=qt("send",P9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],j9=qt("settings-2",C9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],k9=qt("settings",N9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m8 14 4-4 4 4",key:"fy2ptz"}]],I9=qt("square-chevron-up",D9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}]],L9=qt("square-play",M9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],A1=qt("target",$9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],U9=qt("trending-up",V9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],zD=qt("trophy",B9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],q9=qt("undo-2",z9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qD=qt("users",F9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],K9=qt("video",H9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],W9=qt("x",G9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],FD=qt("zap",Y9),X9="/ScoutingOffseason2025/assets/icon-CcJZ9g6Y.png",nR=t=>{let e;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const y=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(b=>b(e,y))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>f,subscribe:d=>(n.add(d),()=>n.delete(d))},f=e=t(r,i,u);return u},Q9=(t=>t?nR(t):nR),J9=t=>t;function Z9(t,e=J9){const n=Vd.useSyncExternalStore(t.subscribe,Vd.useCallback(()=>e(t.getState()),[t,e]),Vd.useCallback(()=>e(t.getInitialState()),[t,e]));return Vd.useDebugValue(n),n}const rR=t=>{const e=Q9(t),n=r=>Z9(e,r);return Object.assign(n,e),n},ez=(t=>t?rR(t):rR),tz=()=>{};var iR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],u=t[n++],f=((i&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},KD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,u=o?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,h=a>>2,p=(a&3)<<4|u>>4;let y=(u&15)<<2|d>>6,b=d&63;f||(b=64,o||(y=64)),r.push(n[h],n[p],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||d==null||p==null)throw new rz;const y=a<<2|u>>4;if(r.push(y),d!==64){const b=u<<4&240|d>>2;if(r.push(b),p!==64){const x=d<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iz=function(t){const e=HD(t);return KD.encodeByteArray(e,!0)},cg=function(t){return iz(t).replace(/\./g,"")},az=function(t){try{return KD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=()=>sz().__FIREBASE_DEFAULTS__,lz=()=>{if(typeof process>"u"||typeof iR>"u")return;const t=iR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&az(t[1]);return e&&JSON.parse(e)},O1=()=>{try{return tz()||oz()||lz()||uz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cz=t=>O1()?.emulatorHosts?.[t],fz=t=>{const e=cz(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},GD=()=>O1()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dz=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hz(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[cg(JSON.stringify(n)),cg(JSON.stringify(o)),""].join(".")}const Wd={};function pz(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wd))Wd[e]?t.emulator.push(e):t.prod.push(e);return t}function gz(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let aR=!1;function yz(t,e){if(typeof window>"u"||typeof document>"u"||!P1(window.location.host)||Wd[t]===e||Wd[t]||aR)return;Wd[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=pz().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{aR=!0,o()},y}function h(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=gz(r),b=n("text"),x=document.getElementById(b)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),O=n("preprendIcon"),R=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const P=y.element;u(P),h(S,E);const $=d();f(R,O),P.append(R,x,S,$),document.body.appendChild(P)}a?(x.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bz(){const t=O1()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _z(){return!bz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wz(){try{return typeof indexedDB=="object"}catch{return!1}}function xz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez="FirebaseError";class mu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ez,Object.setPrototypeOf(this,mu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,WD.prototype.create)}}class WD{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Sz(a,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new mu(i,u,r)}}function Sz(t,e){return t.replace(Tz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Tz=/\{\$([^}]+)}/g;function fg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(sR(a)&&sR(o)){if(!fg(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){return t&&t._delegate?t._delegate:t}class Uc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Az=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Pz(e))try{this.getOrInitializeService({instanceIdentifier:Dl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Dl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Dl){return this.instances.has(e)}getOptions(e=Dl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Oz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Dl){return this.component?this.component.multipleInstances?e:Dl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Oz(t){return t===Dl?void 0:t}function Pz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Az(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(bt||(bt={}));const Cz={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},jz=bt.INFO,Nz={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},kz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Nz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class R1{constructor(e){this.name=e,this._logLevel=jz,this._logHandler=kz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const Dz=(t,e)=>e.some(n=>t instanceof n);let oR,lR;function Iz(){return oR||(oR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mz(){return lR||(lR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YD=new WeakMap,Uw=new WeakMap,XD=new WeakMap,Rb=new WeakMap,C1=new WeakMap;function Lz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(No(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YD.set(n,t)}).catch(()=>{}),C1.set(e,t),e}function $z(t){if(Uw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Uw.set(t,e)}let Bw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return No(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Vz(t){Bw=t(Bw)}function Uz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cb(this),e,...n);return XD.set(r,e.sort?e.sort():[e]),No(r)}:Mz().includes(t)?function(...e){return t.apply(Cb(this),e),No(YD.get(this))}:function(...e){return No(t.apply(Cb(this),e))}}function Bz(t){return typeof t=="function"?Uz(t):(t instanceof IDBTransaction&&$z(t),Dz(t,Iz())?new Proxy(t,Bw):t)}function No(t){if(t instanceof IDBRequest)return Lz(t);if(Rb.has(t))return Rb.get(t);const e=Bz(t);return e!==t&&(Rb.set(t,e),C1.set(e,t)),e}const Cb=t=>C1.get(t);function zz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),u=No(o);return r&&o.addEventListener("upgradeneeded",f=>{r(No(o.result),f.oldVersion,f.newVersion,No(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const qz=["get","getKey","getAll","getAllKeys","count"],Fz=["put","add","delete","clear"],jb=new Map;function uR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jb.get(e))return jb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Fz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qz.includes(n)))return;const a=async function(o,...u){const f=this.transaction(o,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&f.done]))[0]};return jb.set(e,a),a}Vz(t=>({...t,get:(e,n,r)=>uR(e,n)||t.get(e,n,r),has:(e,n)=>!!uR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Kz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Kz(t){return t.getComponent()?.type==="VERSION"}const zw="@firebase/app",cR="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new R1("@firebase/app"),Gz="@firebase/app-compat",Wz="@firebase/analytics-compat",Yz="@firebase/analytics",Xz="@firebase/app-check-compat",Qz="@firebase/app-check",Jz="@firebase/auth",Zz="@firebase/auth-compat",eq="@firebase/database",tq="@firebase/data-connect",nq="@firebase/database-compat",rq="@firebase/functions",iq="@firebase/functions-compat",aq="@firebase/installations",sq="@firebase/installations-compat",oq="@firebase/messaging",lq="@firebase/messaging-compat",uq="@firebase/performance",cq="@firebase/performance-compat",fq="@firebase/remote-config",dq="@firebase/remote-config-compat",hq="@firebase/storage",mq="@firebase/storage-compat",pq="@firebase/firestore",gq="@firebase/ai",yq="@firebase/firestore-compat",vq="firebase",bq="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="[DEFAULT]",_q={[zw]:"fire-core",[Gz]:"fire-core-compat",[Yz]:"fire-analytics",[Wz]:"fire-analytics-compat",[Qz]:"fire-app-check",[Xz]:"fire-app-check-compat",[Jz]:"fire-auth",[Zz]:"fire-auth-compat",[eq]:"fire-rtdb",[tq]:"fire-data-connect",[nq]:"fire-rtdb-compat",[rq]:"fire-fn",[iq]:"fire-fn-compat",[aq]:"fire-iid",[sq]:"fire-iid-compat",[oq]:"fire-fcm",[lq]:"fire-fcm-compat",[uq]:"fire-perf",[cq]:"fire-perf-compat",[fq]:"fire-rc",[dq]:"fire-rc-compat",[hq]:"fire-gcs",[mq]:"fire-gcs-compat",[pq]:"fire-fst",[yq]:"fire-fst-compat",[gq]:"fire-vertex","fire-js":"fire-js",[vq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new Map,wq=new Map,Fw=new Map;function fR(t,e){try{t.container.addComponent(e)}catch(n){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uh(t){const e=t.name;if(Fw.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;Fw.set(e,t);for(const n of dg.values())fR(n,t);for(const n of wq.values())fR(n,t);return!0}function QD(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function JD(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ko=new WD("app","Firebase",xq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Uc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq=bq;function ZD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:qw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ko.create("bad-app-name",{appName:String(i)});if(n||(n=GD()),!n)throw ko.create("no-options");const a=dg.get(i);if(a){if(fg(n,a.options)&&fg(r,a.config))return a;throw ko.create("duplicate-app",{appName:i})}const o=new Rz(i);for(const f of Fw.values())o.addComponent(f);const u=new Eq(n,r,o);return dg.set(i,u),u}function eI(t=qw){const e=dg.get(t);if(!e&&t===qw&&GD())return ZD();if(!e)throw ko.create("no-app",{appName:t});return e}function Do(t,e,n){let r=_q[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(o.join(" "));return}uh(new Uc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq="firebase-heartbeat-database",Aq=1,ch="firebase-heartbeat-store";let Nb=null;function tI(){return Nb||(Nb=zz(Tq,Aq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ch)}catch(n){console.warn(n)}}}}).catch(t=>{throw ko.create("idb-open",{originalErrorMessage:t.message})})),Nb}async function Oq(t){try{const n=(await tI()).transaction(ch),r=await n.objectStore(ch).get(nI(t));return await n.done,r}catch(e){if(e instanceof mu)_s.warn(e.message);else{const n=ko.create("idb-get",{originalErrorMessage:e?.message});_s.warn(n.message)}}}async function dR(t,e){try{const r=(await tI()).transaction(ch,"readwrite");await r.objectStore(ch).put(e,nI(t)),await r.done}catch(n){if(n instanceof mu)_s.warn(n.message);else{const r=ko.create("idb-set",{originalErrorMessage:n?.message});_s.warn(r.message)}}}function nI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=1024,Rq=30;class Cq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Rq){const i=kq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hR(),{heartbeatsToSend:n,unsentEntries:r}=jq(this._heartbeatsCache.heartbeats),i=cg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return _s.warn(e),""}}}function hR(){return new Date().toISOString().substring(0,10)}function jq(t,e=Pq){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),mR(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Nq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wz()?xz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Oq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mR(t){return cg(JSON.stringify({version:2,heartbeats:t})).length}function kq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(t){uh(new Uc("platform-logger",e=>new Hz(e),"PRIVATE")),uh(new Uc("heartbeat",e=>new Cq(e),"PRIVATE")),Do(zw,cR,t),Do(zw,cR,"esm2020"),Do("fire-js","")}Dq("");var pR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Io,rI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function M(){}M.prototype=I.prototype,k.D=I.prototype,k.prototype=new M,k.prototype.constructor=k,k.C=function(V,z,q){for(var U=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)U[ge-2]=arguments[ge];return I.prototype[z].apply(V,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,I,M){M||(M=0);var V=Array(16);if(typeof I=="string")for(var z=0;16>z;++z)V[z]=I.charCodeAt(M++)|I.charCodeAt(M++)<<8|I.charCodeAt(M++)<<16|I.charCodeAt(M++)<<24;else for(z=0;16>z;++z)V[z]=I[M++]|I[M++]<<8|I[M++]<<16|I[M++]<<24;I=k.g[0],M=k.g[1],z=k.g[2];var q=k.g[3],U=I+(q^M&(z^q))+V[0]+3614090360&4294967295;I=M+(U<<7&4294967295|U>>>25),U=q+(z^I&(M^z))+V[1]+3905402710&4294967295,q=I+(U<<12&4294967295|U>>>20),U=z+(M^q&(I^M))+V[2]+606105819&4294967295,z=q+(U<<17&4294967295|U>>>15),U=M+(I^z&(q^I))+V[3]+3250441966&4294967295,M=z+(U<<22&4294967295|U>>>10),U=I+(q^M&(z^q))+V[4]+4118548399&4294967295,I=M+(U<<7&4294967295|U>>>25),U=q+(z^I&(M^z))+V[5]+1200080426&4294967295,q=I+(U<<12&4294967295|U>>>20),U=z+(M^q&(I^M))+V[6]+2821735955&4294967295,z=q+(U<<17&4294967295|U>>>15),U=M+(I^z&(q^I))+V[7]+4249261313&4294967295,M=z+(U<<22&4294967295|U>>>10),U=I+(q^M&(z^q))+V[8]+1770035416&4294967295,I=M+(U<<7&4294967295|U>>>25),U=q+(z^I&(M^z))+V[9]+2336552879&4294967295,q=I+(U<<12&4294967295|U>>>20),U=z+(M^q&(I^M))+V[10]+4294925233&4294967295,z=q+(U<<17&4294967295|U>>>15),U=M+(I^z&(q^I))+V[11]+2304563134&4294967295,M=z+(U<<22&4294967295|U>>>10),U=I+(q^M&(z^q))+V[12]+1804603682&4294967295,I=M+(U<<7&4294967295|U>>>25),U=q+(z^I&(M^z))+V[13]+4254626195&4294967295,q=I+(U<<12&4294967295|U>>>20),U=z+(M^q&(I^M))+V[14]+2792965006&4294967295,z=q+(U<<17&4294967295|U>>>15),U=M+(I^z&(q^I))+V[15]+1236535329&4294967295,M=z+(U<<22&4294967295|U>>>10),U=I+(z^q&(M^z))+V[1]+4129170786&4294967295,I=M+(U<<5&4294967295|U>>>27),U=q+(M^z&(I^M))+V[6]+3225465664&4294967295,q=I+(U<<9&4294967295|U>>>23),U=z+(I^M&(q^I))+V[11]+643717713&4294967295,z=q+(U<<14&4294967295|U>>>18),U=M+(q^I&(z^q))+V[0]+3921069994&4294967295,M=z+(U<<20&4294967295|U>>>12),U=I+(z^q&(M^z))+V[5]+3593408605&4294967295,I=M+(U<<5&4294967295|U>>>27),U=q+(M^z&(I^M))+V[10]+38016083&4294967295,q=I+(U<<9&4294967295|U>>>23),U=z+(I^M&(q^I))+V[15]+3634488961&4294967295,z=q+(U<<14&4294967295|U>>>18),U=M+(q^I&(z^q))+V[4]+3889429448&4294967295,M=z+(U<<20&4294967295|U>>>12),U=I+(z^q&(M^z))+V[9]+568446438&4294967295,I=M+(U<<5&4294967295|U>>>27),U=q+(M^z&(I^M))+V[14]+3275163606&4294967295,q=I+(U<<9&4294967295|U>>>23),U=z+(I^M&(q^I))+V[3]+4107603335&4294967295,z=q+(U<<14&4294967295|U>>>18),U=M+(q^I&(z^q))+V[8]+1163531501&4294967295,M=z+(U<<20&4294967295|U>>>12),U=I+(z^q&(M^z))+V[13]+2850285829&4294967295,I=M+(U<<5&4294967295|U>>>27),U=q+(M^z&(I^M))+V[2]+4243563512&4294967295,q=I+(U<<9&4294967295|U>>>23),U=z+(I^M&(q^I))+V[7]+1735328473&4294967295,z=q+(U<<14&4294967295|U>>>18),U=M+(q^I&(z^q))+V[12]+2368359562&4294967295,M=z+(U<<20&4294967295|U>>>12),U=I+(M^z^q)+V[5]+4294588738&4294967295,I=M+(U<<4&4294967295|U>>>28),U=q+(I^M^z)+V[8]+2272392833&4294967295,q=I+(U<<11&4294967295|U>>>21),U=z+(q^I^M)+V[11]+1839030562&4294967295,z=q+(U<<16&4294967295|U>>>16),U=M+(z^q^I)+V[14]+4259657740&4294967295,M=z+(U<<23&4294967295|U>>>9),U=I+(M^z^q)+V[1]+2763975236&4294967295,I=M+(U<<4&4294967295|U>>>28),U=q+(I^M^z)+V[4]+1272893353&4294967295,q=I+(U<<11&4294967295|U>>>21),U=z+(q^I^M)+V[7]+4139469664&4294967295,z=q+(U<<16&4294967295|U>>>16),U=M+(z^q^I)+V[10]+3200236656&4294967295,M=z+(U<<23&4294967295|U>>>9),U=I+(M^z^q)+V[13]+681279174&4294967295,I=M+(U<<4&4294967295|U>>>28),U=q+(I^M^z)+V[0]+3936430074&4294967295,q=I+(U<<11&4294967295|U>>>21),U=z+(q^I^M)+V[3]+3572445317&4294967295,z=q+(U<<16&4294967295|U>>>16),U=M+(z^q^I)+V[6]+76029189&4294967295,M=z+(U<<23&4294967295|U>>>9),U=I+(M^z^q)+V[9]+3654602809&4294967295,I=M+(U<<4&4294967295|U>>>28),U=q+(I^M^z)+V[12]+3873151461&4294967295,q=I+(U<<11&4294967295|U>>>21),U=z+(q^I^M)+V[15]+530742520&4294967295,z=q+(U<<16&4294967295|U>>>16),U=M+(z^q^I)+V[2]+3299628645&4294967295,M=z+(U<<23&4294967295|U>>>9),U=I+(z^(M|~q))+V[0]+4096336452&4294967295,I=M+(U<<6&4294967295|U>>>26),U=q+(M^(I|~z))+V[7]+1126891415&4294967295,q=I+(U<<10&4294967295|U>>>22),U=z+(I^(q|~M))+V[14]+2878612391&4294967295,z=q+(U<<15&4294967295|U>>>17),U=M+(q^(z|~I))+V[5]+4237533241&4294967295,M=z+(U<<21&4294967295|U>>>11),U=I+(z^(M|~q))+V[12]+1700485571&4294967295,I=M+(U<<6&4294967295|U>>>26),U=q+(M^(I|~z))+V[3]+2399980690&4294967295,q=I+(U<<10&4294967295|U>>>22),U=z+(I^(q|~M))+V[10]+4293915773&4294967295,z=q+(U<<15&4294967295|U>>>17),U=M+(q^(z|~I))+V[1]+2240044497&4294967295,M=z+(U<<21&4294967295|U>>>11),U=I+(z^(M|~q))+V[8]+1873313359&4294967295,I=M+(U<<6&4294967295|U>>>26),U=q+(M^(I|~z))+V[15]+4264355552&4294967295,q=I+(U<<10&4294967295|U>>>22),U=z+(I^(q|~M))+V[6]+2734768916&4294967295,z=q+(U<<15&4294967295|U>>>17),U=M+(q^(z|~I))+V[13]+1309151649&4294967295,M=z+(U<<21&4294967295|U>>>11),U=I+(z^(M|~q))+V[4]+4149444226&4294967295,I=M+(U<<6&4294967295|U>>>26),U=q+(M^(I|~z))+V[11]+3174756917&4294967295,q=I+(U<<10&4294967295|U>>>22),U=z+(I^(q|~M))+V[2]+718787259&4294967295,z=q+(U<<15&4294967295|U>>>17),U=M+(q^(z|~I))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(z+(U<<21&4294967295|U>>>11))&4294967295,k.g[2]=k.g[2]+z&4294967295,k.g[3]=k.g[3]+q&4294967295}r.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var M=I-this.blockSize,V=this.B,z=this.h,q=0;q<I;){if(z==0)for(;q<=M;)i(this,k,q),q+=this.blockSize;if(typeof k=="string"){for(;q<I;)if(V[z++]=k.charCodeAt(q++),z==this.blockSize){i(this,V),z=0;break}}else for(;q<I;)if(V[z++]=k[q++],z==this.blockSize){i(this,V),z=0;break}}this.h=z,this.o+=I},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var M=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=M&255,M/=256;for(this.u(k),k=Array(16),I=M=0;4>I;++I)for(var V=0;32>V;V+=8)k[M++]=this.g[I]>>>V&255;return k};function a(k,I){var M=u;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=I(k)}function o(k,I){this.h=I;for(var M=[],V=!0,z=k.length-1;0<=z;z--){var q=k[z]|0;V&&q==I||(M[z]=q,V=!1)}this.g=M}var u={};function f(k){return-128<=k&&128>k?a(k,function(I){return new o([I|0],0>I?-1:0)}):new o([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return p;if(0>k)return S(d(-k));for(var I=[],M=1,V=0;k>=M;V++)I[V]=k/M|0,M*=4294967296;return new o(I,0)}function h(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return S(h(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=d(Math.pow(I,8)),V=p,z=0;z<k.length;z+=8){var q=Math.min(8,k.length-z),U=parseInt(k.substring(z,z+q),I);8>q?(q=d(Math.pow(I,q)),V=V.j(q).add(d(U))):(V=V.j(M),V=V.add(d(U)))}return V}var p=f(0),y=f(1),b=f(16777216);t=o.prototype,t.m=function(){if(E(this))return-S(this).m();for(var k=0,I=1,M=0;M<this.g.length;M++){var V=this.i(M);k+=(0<=V?V:4294967296+V)*I,I*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(x(this))return"0";if(E(this))return"-"+S(this).toString(k);for(var I=d(Math.pow(k,6)),M=this,V="";;){var z=$(M,I).g;M=O(M,z.j(I));var q=((0<M.g.length?M.g[0]:M.h)>>>0).toString(k);if(M=z,x(M))return q+V;for(;6>q.length;)q="0"+q;V=q+V}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function x(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function E(k){return k.h==-1}t.l=function(k){return k=O(this,k),E(k)?-1:x(k)?0:1};function S(k){for(var I=k.g.length,M=[],V=0;V<I;V++)M[V]=~k.g[V];return new o(M,~k.h).add(y)}t.abs=function(){return E(this)?S(this):this},t.add=function(k){for(var I=Math.max(this.g.length,k.g.length),M=[],V=0,z=0;z<=I;z++){var q=V+(this.i(z)&65535)+(k.i(z)&65535),U=(q>>>16)+(this.i(z)>>>16)+(k.i(z)>>>16);V=U>>>16,q&=65535,U&=65535,M[z]=U<<16|q}return new o(M,M[M.length-1]&-2147483648?-1:0)};function O(k,I){return k.add(S(I))}t.j=function(k){if(x(this)||x(k))return p;if(E(this))return E(k)?S(this).j(S(k)):S(S(this).j(k));if(E(k))return S(this.j(S(k)));if(0>this.l(b)&&0>k.l(b))return d(this.m()*k.m());for(var I=this.g.length+k.g.length,M=[],V=0;V<2*I;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(var z=0;z<k.g.length;z++){var q=this.i(V)>>>16,U=this.i(V)&65535,ge=k.i(z)>>>16,we=k.i(z)&65535;M[2*V+2*z]+=U*we,R(M,2*V+2*z),M[2*V+2*z+1]+=q*we,R(M,2*V+2*z+1),M[2*V+2*z+1]+=U*ge,R(M,2*V+2*z+1),M[2*V+2*z+2]+=q*ge,R(M,2*V+2*z+2)}for(V=0;V<I;V++)M[V]=M[2*V+1]<<16|M[2*V];for(V=I;V<2*I;V++)M[V]=0;return new o(M,0)};function R(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function P(k,I){this.g=k,this.h=I}function $(k,I){if(x(I))throw Error("division by zero");if(x(k))return new P(p,p);if(E(k))return I=$(S(k),I),new P(S(I.g),S(I.h));if(E(I))return I=$(k,S(I)),new P(S(I.g),I.h);if(30<k.g.length){if(E(k)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var M=y,V=I;0>=V.l(k);)M=D(M),V=D(V);var z=N(M,1),q=N(V,1);for(V=N(V,2),M=N(M,2);!x(V);){var U=q.add(V);0>=U.l(k)&&(z=z.add(M),q=U),V=N(V,1),M=N(M,1)}return I=O(k,z.j(I)),new P(z,I)}for(z=p;0<=k.l(I);){for(M=Math.max(1,Math.floor(k.m()/I.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),q=d(M),U=q.j(I);E(U)||0<U.l(k);)M-=V,q=d(M),U=q.j(I);x(q)&&(q=y),z=z.add(q),k=O(k,U)}return new P(z,k)}t.A=function(k){return $(this,k).h},t.and=function(k){for(var I=Math.max(this.g.length,k.g.length),M=[],V=0;V<I;V++)M[V]=this.i(V)&k.i(V);return new o(M,this.h&k.h)},t.or=function(k){for(var I=Math.max(this.g.length,k.g.length),M=[],V=0;V<I;V++)M[V]=this.i(V)|k.i(V);return new o(M,this.h|k.h)},t.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),M=[],V=0;V<I;V++)M[V]=this.i(V)^k.i(V);return new o(M,this.h^k.h)};function D(k){for(var I=k.g.length+1,M=[],V=0;V<I;V++)M[V]=k.i(V)<<1|k.i(V-1)>>>31;return new o(M,k.h)}function N(k,I){var M=I>>5;I%=32;for(var V=k.g.length-M,z=[],q=0;q<V;q++)z[q]=0<I?k.i(q+M)>>>I|k.i(q+M+1)<<32-I:k.i(q+M);return new o(z,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Io=o}).apply(typeof pR<"u"?pR:typeof self<"u"?self:typeof window<"u"?window:{});var Tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iI,Bd,aI,Zp,Hw,sI,oI,lI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,A,C){return g==Array.prototype||g==Object.prototype||(g[A]=C.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tp=="object"&&Tp];for(var A=0;A<g.length;++A){var C=g[A];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(g,A){if(A)e:{var C=r;g=g.split(".");for(var B=0;B<g.length-1;B++){var Q=g[B];if(!(Q in C))break e;C=C[Q]}g=g[g.length-1],B=C[g],A=A(B),A!=B&&A!=null&&e(C,g,{configurable:!0,writable:!0,value:A})}}function a(g,A){g instanceof String&&(g+="");var C=0,B=!1,Q={next:function(){if(!B&&C<g.length){var se=C++;return{value:A(se,g[se]),done:!1}}return B=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(g){return g||function(){return a(this,function(A,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function f(g){var A=typeof g;return A=A!="object"?A:g?Array.isArray(g)?"array":A:"null",A=="array"||A=="object"&&typeof g.length=="number"}function d(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function h(g,A,C){return g.call.apply(g.bind,arguments)}function p(g,A,C){if(!g)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,B),g.apply(A,Q)}}return function(){return g.apply(A,arguments)}}function y(g,A,C){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function b(g,A){var C=Array.prototype.slice.call(arguments,1);return function(){var B=C.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function x(g,A){function C(){}C.prototype=A.prototype,g.aa=A.prototype,g.prototype=new C,g.prototype.constructor=g,g.Qb=function(B,Q,se){for(var be=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)be[pt-2]=arguments[pt];return A.prototype[Q].apply(B,be)}}function E(g){const A=g.length;if(0<A){const C=Array(A);for(let B=0;B<A;B++)C[B]=g[B];return C}return[]}function S(g,A){for(let C=1;C<arguments.length;C++){const B=arguments[C];if(f(B)){const Q=g.length||0,se=B.length||0;g.length=Q+se;for(let be=0;be<se;be++)g[Q+be]=B[be]}else g.push(B)}}class O{constructor(A,C){this.i=A,this.j=C,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function R(g){return/^[\s\xa0]*$/.test(g)}function P(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function $(g){return $[" "](g),g}$[" "]=function(){};var D=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function N(g,A,C){for(const B in g)A.call(C,g[B],B,g)}function k(g,A){for(const C in g)A.call(void 0,g[C],C,g)}function I(g){const A={};for(const C in g)A[C]=g[C];return A}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(g,A){let C,B;for(let Q=1;Q<arguments.length;Q++){B=arguments[Q];for(C in B)g[C]=B[C];for(let se=0;se<M.length;se++)C=M[se],Object.prototype.hasOwnProperty.call(B,C)&&(g[C]=B[C])}}function z(g){var A=1;g=g.split(":");const C=[];for(;0<A&&g.length;)C.push(g.shift()),A--;return g.length&&C.push(g.join(":")),C}function q(g){u.setTimeout(()=>{throw g},0)}function U(){var g=xe;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class ge{constructor(){this.h=this.g=null}add(A,C){const B=we.get();B.set(A,C),this.h?this.h.next=B:this.g=B,this.h=B}}var we=new O(()=>new G,g=>g.reset());class G{constructor(){this.next=this.g=this.h=null}set(A,C){this.h=A,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,pe=!1,xe=new ge,H=()=>{const g=u.Promise.resolve(void 0);ie=()=>{g.then(oe)}};var oe=()=>{for(var g;g=U();){try{g.h.call(g.g)}catch(C){q(C)}var A=we;A.j(g),100>A.h&&(A.h++,g.next=A.g,A.g=g)}pe=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Pe=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const C=()=>{};u.addEventListener("test",C,A),u.removeEventListener("test",C,A)}catch{}return g})();function $e(g,A){if(me.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var C=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget){if(D){e:{try{$(A.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(A=null)}}else C=="mouseover"?A=g.fromElement:C=="mouseout"&&(A=g.toElement);this.relatedTarget=A,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ve[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&$e.aa.h.call(this)}}x($e,me);var Ve={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var on="closure_listenable_"+(1e6*Math.random()|0),Ot=0;function _e(g,A,C,B,Q){this.listener=g,this.proxy=null,this.src=A,this.type=C,this.capture=!!B,this.ha=Q,this.key=++Ot,this.da=this.fa=!1}function De(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ke(g){this.src=g,this.g={},this.h=0}Ke.prototype.add=function(g,A,C,B,Q){var se=g.toString();g=this.g[se],g||(g=this.g[se]=[],this.h++);var be=Zt(g,A,B,Q);return-1<be?(A=g[be],C||(A.fa=!1)):(A=new _e(A,this.src,se,!!B,Q),A.fa=C,g.push(A)),A};function ye(g,A){var C=A.type;if(C in g.g){var B=g.g[C],Q=Array.prototype.indexOf.call(B,A,void 0),se;(se=0<=Q)&&Array.prototype.splice.call(B,Q,1),se&&(De(A),g.g[C].length==0&&(delete g.g[C],g.h--))}}function Zt(g,A,C,B){for(var Q=0;Q<g.length;++Q){var se=g[Q];if(!se.da&&se.listener==A&&se.capture==!!C&&se.ha==B)return Q}return-1}var et="closure_lm_"+(1e6*Math.random()|0),dn={};function vn(g,A,C,B,Q){if(Array.isArray(A)){for(var se=0;se<A.length;se++)vn(g,A[se],C,B,Q);return null}return C=zs(C),g&&g[on]?g.K(A,C,d(B)?!!B.capture:!1,Q):rn(g,A,C,!1,B,Q)}function rn(g,A,C,B,Q,se){if(!A)throw Error("Invalid event type");var be=d(Q)?!!Q.capture:!!Q,pt=di(g);if(pt||(g[et]=pt=new Ke(g)),C=pt.add(A,C,B,be,se),C.proxy)return C;if(B=Vs(),C.proxy=B,B.src=g,B.listener=C,g.addEventListener)Pe||(Q=be),Q===void 0&&(Q=!1),g.addEventListener(A.toString(),B,Q);else if(g.attachEvent)g.attachEvent(qa(A.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Vs(){function g(C){return A.call(g.src,g.listener,C)}const A=qi;return g}function il(g,A,C,B,Q){if(Array.isArray(A))for(var se=0;se<A.length;se++)il(g,A[se],C,B,Q);else B=d(B)?!!B.capture:!!B,C=zs(C),g&&g[on]?(g=g.i,A=String(A).toString(),A in g.g&&(se=g.g[A],C=Zt(se,C,B,Q),-1<C&&(De(se[C]),Array.prototype.splice.call(se,C,1),se.length==0&&(delete g.g[A],g.h--)))):g&&(g=di(g))&&(A=g.g[A.toString()],g=-1,A&&(g=Zt(A,C,B,Q)),(C=-1<g?A[g]:null)&&Us(C))}function Us(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[on])ye(A.i,g);else{var C=g.type,B=g.proxy;A.removeEventListener?A.removeEventListener(C,B,g.capture):A.detachEvent?A.detachEvent(qa(C),B):A.addListener&&A.removeListener&&A.removeListener(B),(C=di(A))?(ye(C,g),C.h==0&&(C.src=null,A[et]=null)):De(g)}}}function qa(g){return g in dn?dn[g]:dn[g]="on"+g}function qi(g,A){if(g.da)g=!0;else{A=new $e(A,this);var C=g.listener,B=g.ha||g.src;g.fa&&Us(g),g=C.call(B,A)}return g}function di(g){return g=g[et],g instanceof Ke?g:null}var Bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function zs(g){return typeof g=="function"?g:(g[Bs]||(g[Bs]=function(A){return g.handleEvent(A)}),g[Bs])}function Et(){ae.call(this),this.i=new Ke(this),this.M=this,this.F=null}x(Et,ae),Et.prototype[on]=!0,Et.prototype.removeEventListener=function(g,A,C,B){il(this,g,A,C,B)};function nt(g,A){var C,B=g.F;if(B)for(C=[];B;B=B.F)C.push(B);if(g=g.M,B=A.type||A,typeof A=="string")A=new me(A,g);else if(A instanceof me)A.target=A.target||g;else{var Q=A;A=new me(B,g),V(A,Q)}if(Q=!0,C)for(var se=C.length-1;0<=se;se--){var be=A.g=C[se];Q=cr(be,B,!0,A)&&Q}if(be=A.g=g,Q=cr(be,B,!0,A)&&Q,Q=cr(be,B,!1,A)&&Q,C)for(se=0;se<C.length;se++)be=A.g=C[se],Q=cr(be,B,!1,A)&&Q}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var g=this.i,A;for(A in g.g){for(var C=g.g[A],B=0;B<C.length;B++)De(C[B]);delete g.g[A],g.h--}}this.F=null},Et.prototype.K=function(g,A,C,B){return this.i.add(String(g),A,!1,C,B)},Et.prototype.L=function(g,A,C,B){return this.i.add(String(g),A,!0,C,B)};function cr(g,A,C,B){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();for(var Q=!0,se=0;se<A.length;++se){var be=A[se];if(be&&!be.da&&be.capture==C){var pt=be.listener,Rn=be.ha||be.src;be.fa&&ye(g.i,be),Q=pt.call(Rn,B)!==!1&&Q}}return Q&&!B.defaultPrevented}function bn(g,A,C){if(typeof g=="function")C&&(g=y(g,C));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:u.setTimeout(g,A||0)}function Su(g){g.g=bn(()=>{g.g=null,g.i&&(g.i=!1,Su(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class hi extends ae{constructor(A,C){super(),this.m=A,this.l=C,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(g){ae.call(this),this.h=g,this.g={}}x(la,ae);var ua=[];function ca(g){N(g.g,function(A,C){this.g.hasOwnProperty(C)&&Us(A)},g),g.g={}}la.prototype.N=function(){la.aa.N.call(this),ca(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zr=u.JSON.stringify,Fa=u.JSON.parse,mi=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function qs(){}qs.prototype.h=null;function Ha(g){return g.h||(g.h=g.i())}function al(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){me.call(this,"d")}x(Fi,me);function Fs(){me.call(this,"c")}x(Fs,me);var wr={},fa=null;function da(){return fa=fa||new Et}wr.La="serverreachability";function Hs(g){me.call(this,wr.La,g)}x(Hs,me);function K(g){const A=da();nt(A,new Hs(A))}wr.STAT_EVENT="statevent";function X(g,A){me.call(this,wr.STAT_EVENT,g),this.stat=A}x(X,me);function ee(g){const A=da();nt(A,new X(A,g))}wr.Ma="timingevent";function fe(g,A){me.call(this,wr.Ma,g),this.size=A}x(fe,me);function ve(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},A)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function Ie(g,A,C,B,Q,se){g.info(function(){if(g.g)if(se)for(var be="",pt=se.split("&"),Rn=0;Rn<pt.length;Rn++){var gt=pt[Rn].split("=");if(1<gt.length){var qn=gt[0];gt=gt[1];var Cn=qn.split("_");be=2<=Cn.length&&Cn[1]=="type"?be+(qn+"="+gt+"&"):be+(qn+"=redacted&")}}else be=null;else be=se;return"XMLHTTP REQ ("+B+") [attempt "+Q+"]: "+A+`
`+C+`
`+be})}function je(g,A,C,B,Q,se,be){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Q+"]: "+A+`
`+C+`
`+se+" "+be})}function Ne(g,A,C,B){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+ke(g,C)+(B?" "+B:"")})}function Ue(g,A){g.info(function(){return"TIMEOUT: "+A})}Ee.prototype.info=function(){};function ke(g,A){if(!g.g)return A;if(!A)return null;try{var C=JSON.parse(A);if(C){for(g=0;g<C.length;g++)if(Array.isArray(C[g])){var B=C[g];if(!(2>B.length)){var Q=B[1];if(Array.isArray(Q)&&!(1>Q.length)){var se=Q[0];if(se!="noop"&&se!="stop"&&se!="close")for(var be=1;be<Q.length;be++)Q[be]=""}}}}return zr(C)}catch{return A}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ze={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mt;function Ct(){}x(Ct,qs),Ct.prototype.g=function(){return new XMLHttpRequest},Ct.prototype.i=function(){return{}},mt=new Ct;function St(g,A,C,B){this.j=g,this.i=A,this.l=C,this.R=B||1,this.U=new la(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ye}function Ye(){this.i=null,this.g="",this.h=!1}var Tt={},Cr={};function Zn(g,A,C){g.L=1,g.v=ll(Hr(A)),g.m=C,g.P=!0,Bn(g,null)}function Bn(g,A){g.F=Date.now(),qr(g),g.A=Hr(g.v);var C=g.A,B=g.R;Array.isArray(B)||(B=[String(B)]),kf(C.i,"t",B),g.C=0,C=g.j.J,g.h=new Ye,g.g=vm(g.j,C?A:null,!g.m),0<g.O&&(g.M=new hi(y(g.Y,g,g.g),g.O)),A=g.U,C=g.g,B=g.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(ua[0]=Q.toString()),Q=ua);for(var se=0;se<Q.length;se++){var be=vn(C,Q[se],B||A.handleEvent,!1,A.h||A);if(!be)break;A.g[be.key]=be}A=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,A)):(g.u="GET",g.g.ea(g.A,g.u,null,A)),K(),Ie(g.i,g.u,g.A,g.l,g.R,g.m)}St.prototype.ca=function(g){g=g.target;const A=this.M;A&&_i(g)==3?A.j():this.Y(g)},St.prototype.Y=function(g){try{if(g==this.g)e:{const Cn=_i(this.g);var A=this.g.Ba();const Ja=this.g.Z();if(!(3>Cn)&&(Cn!=3||this.g&&(this.h.h||this.g.oa()||cm(this.g)))){this.J||Cn!=4||A==7||(A==8||0>=Ja?K(3):K(2)),Fr(this);var C=this.g.Z();this.X=C;t:if(xr(this)){var B=cm(this.g);g="";var Q=B.length,se=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),Er(this);var be="";break t}this.h.i=new u.TextDecoder}for(A=0;A<Q;A++)this.h.h=!0,g+=this.h.i.decode(B[A],{stream:!(se&&A==Q-1)});B.length=0,this.h.g+=g,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=C==200,je(this.i,this.u,this.A,this.l,this.R,Cn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Rn=this.g;if((pt=Rn.g?Rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(pt)){var gt=pt;break t}}gt=null}if(C=gt)Ne(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,en(this,C);else{this.o=!1,this.s=3,ee(12),Fe(this),Er(this);break e}}if(this.P){C=!0;let tr;for(;!this.J&&this.C<be.length;)if(tr=Ks(this,be),tr==Cr){Cn==4&&(this.s=4,ee(14),C=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==Tt){this.s=4,ee(15),Ne(this.i,this.l,be,"[Invalid Chunk]"),C=!1;break}else Ne(this.i,this.l,tr,null),en(this,tr);if(xr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cn!=4||be.length!=0||this.h.h||(this.s=1,ee(16),C=!1),this.o=this.o&&C,!C)Ne(this.i,this.l,be,"[Invalid Chunked Response]"),Fe(this),Er(this);else if(0<be.length&&!this.W){this.W=!0;var qn=this.j;qn.g==this&&qn.ba&&!qn.M&&(qn.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),gl(qn),qn.M=!0,ee(11))}}else Ne(this.i,this.l,be,null),en(this,be);Cn==4&&Fe(this),this.o&&!this.J&&(Cn==4?pm(this.j,this):(this.o=!1,qr(this)))}else Av(this.g),C==400&&0<be.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Fe(this),Er(this)}}}catch{}finally{}};function xr(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Ks(g,A){var C=g.C,B=A.indexOf(`
`,C);return B==-1?Cr:(C=Number(A.substring(C,B)),isNaN(C)?Tt:(B+=1,B+C>A.length?Cr:(A=A.slice(B,B+C),g.C=B+C,A)))}St.prototype.cancel=function(){this.J=!0,Fe(this)};function qr(g){g.S=Date.now()+g.I,gi(g,g.I)}function gi(g,A){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ve(y(g.ba,g),A)}function Fr(g){g.B&&(u.clearTimeout(g.B),g.B=null)}St.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Ue(this.i,this.A),this.L!=2&&(K(),ee(17)),Fe(this),this.s=2,Er(this)):gi(this,this.S-g)};function Er(g){g.j.G==0||g.J||pm(g.j,g)}function Fe(g){Fr(g);var A=g.M;A&&typeof A.ma=="function"&&A.ma(),g.M=null,ca(g.U),g.g&&(A=g.g,g.g=null,A.abort(),A.ma())}function en(g,A){try{var C=g.j;if(C.G!=0&&(C.g==g||Gs(C.h,g))){if(!g.K&&Gs(C.h,g)&&C.G==3){try{var B=C.Da.g.parse(A)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Q=B;if(Q[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<g.F)ku(C),ju(C);else break e;$f(C),ee(18)}}else C.za=Q[1],0<C.za-C.T&&37500>Q[2]&&C.F&&C.v==0&&!C.C&&(C.C=ve(y(C.Za,C),6e3));if(1>=Ki(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Qa(C,11)}else if((g.K||C.g==g)&&ku(C),!R(A))for(Q=C.Da.g.parse(A),A=0;A<Q.length;A++){let gt=Q[A];if(C.T=gt[0],gt=gt[1],C.G==2)if(gt[0]=="c"){C.K=gt[1],C.ia=gt[2];const qn=gt[3];qn!=null&&(C.la=qn,C.j.info("VER="+C.la));const Cn=gt[4];Cn!=null&&(C.Aa=Cn,C.j.info("SVER="+C.Aa));const Ja=gt[5];Ja!=null&&typeof Ja=="number"&&0<Ja&&(B=1.5*Ja,C.L=B,C.j.info("backChannelRequestTimeoutMs_="+B)),B=C;const tr=g.g;if(tr){const ba=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ba){var se=B.h;se.g||ba.indexOf("spdy")==-1&&ba.indexOf("quic")==-1&&ba.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ws(se,se.h),se.h=null))}if(B.D){const Uf=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Uf&&(B.ya=Uf,Dt(B.I,B.D,Uf))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-g.F,C.j.info("Handshake RTT: "+C.R+"ms")),B=C;var be=g;if(B.qa=ym(B,B.J?B.ia:null,B.W),be.K){Sr(B.h,be);var pt=be,Rn=B.L;Rn&&(pt.I=Rn),pt.B&&(Fr(pt),qr(pt)),B.g=be}else hm(B);0<C.i.length&&Nu(C)}else gt[0]!="stop"&&gt[0]!="close"||Qa(C,7);else C.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?Qa(C,7):Mf(C):gt[0]!="noop"&&C.l&&C.l.ta(gt),C.v=0)}}K(4)}catch{}}var Hi=class{constructor(g,A){this.g=g,this.map=A}};function er(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ht(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ki(g){return g.h?1:g.g?g.g.size:0}function Gs(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function Ws(g,A){g.g?g.g.add(A):g.h=A}function Sr(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}er.prototype.cancel=function(){if(this.i=Rf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Rf(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const C of g.g.values())A=A.concat(C.D);return A}return E(g.i)}function xv(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(f(g)){for(var A=[],C=g.length,B=0;B<C;B++)A.push(g[B]);return A}A=[],C=0;for(B in g)A[C++]=g[B];return A}function Tu(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(f(g)||typeof g=="string"){var A=[];g=g.length;for(var C=0;C<g;C++)A.push(C);return A}A=[],C=0;for(const B in g)A[C++]=B;return A}}}function Cf(g,A){if(g.forEach&&typeof g.forEach=="function")g.forEach(A,void 0);else if(f(g)||typeof g=="string")Array.prototype.forEach.call(g,A,void 0);else for(var C=Tu(g),B=xv(g),Q=B.length,se=0;se<Q;se++)A.call(void 0,B[se],C&&C[se],g)}var sl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ev(g,A){if(g){g=g.split("&");for(var C=0;C<g.length;C++){var B=g[C].indexOf("="),Q=null;if(0<=B){var se=g[C].substring(0,B);Q=g[C].substring(B+1)}else se=g[C];A(se,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function _n(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof _n){this.h=g.h,ol(this,g.j),this.o=g.o,this.g=g.g,Ys(this,g.s),this.l=g.l;var A=g.i,C=new Ga;C.i=A.i,A.g&&(C.g=new Map(A.g),C.h=A.h),Ka(this,C),this.m=g.m}else g&&(A=String(g).match(sl))?(this.h=!1,ol(this,A[1]||"",!0),this.o=yi(A[2]||""),this.g=yi(A[3]||"",!0),Ys(this,A[4]),this.l=yi(A[5]||"",!0),Ka(this,A[6]||"",!0),this.m=yi(A[7]||"")):(this.h=!1,this.i=new Ga(null,this.h))}_n.prototype.toString=function(){var g=[],A=this.j;A&&g.push(ul(A,jf,!0),":");var C=this.g;return(C||A=="file")&&(g.push("//"),(A=this.o)&&g.push(ul(A,jf,!0),"@"),g.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&g.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&g.push("/"),g.push(ul(C,C.charAt(0)=="/"?Sv:Nf,!0))),(C=this.i.toString())&&g.push("?",C),(C=this.m)&&g.push("#",ul(C,Au)),g.join("")};function Hr(g){return new _n(g)}function ol(g,A,C){g.j=C?yi(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function Ys(g,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);g.s=A}else g.s=null}function Ka(g,A,C){A instanceof Ga?(g.i=A,lm(g.i,g.h)):(C||(A=ul(A,Tv)),g.i=new Ga(A,g.h))}function Dt(g,A,C){g.i.set(A,C)}function ll(g){return Dt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function yi(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ul(g,A,C){return typeof g=="string"?(g=encodeURI(g).replace(A,om),C&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function om(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var jf=/[#\/\?@]/g,Nf=/[#\?:]/g,Sv=/[#\?]/g,Tv=/[#\?@]/g,Au=/#/g;function Ga(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function vi(g){g.g||(g.g=new Map,g.h=0,g.i&&Ev(g.i,function(A,C){g.add(decodeURIComponent(A.replace(/\+/g," ")),C)}))}t=Ga.prototype,t.add=function(g,A){vi(this),this.i=null,g=ha(this,g);var C=this.g.get(g);return C||this.g.set(g,C=[]),C.push(A),this.h+=1,this};function Wa(g,A){vi(g),A=ha(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function Ya(g,A){return vi(g),A=ha(g,A),g.g.has(A)}t.forEach=function(g,A){vi(this),this.g.forEach(function(C,B){C.forEach(function(Q){g.call(A,Q,B,this)},this)},this)},t.na=function(){vi(this);const g=Array.from(this.g.values()),A=Array.from(this.g.keys()),C=[];for(let B=0;B<A.length;B++){const Q=g[B];for(let se=0;se<Q.length;se++)C.push(A[B])}return C},t.V=function(g){vi(this);let A=[];if(typeof g=="string")Ya(this,g)&&(A=A.concat(this.g.get(ha(this,g))));else{g=Array.from(this.g.values());for(let C=0;C<g.length;C++)A=A.concat(g[C])}return A},t.set=function(g,A){return vi(this),this.i=null,g=ha(this,g),Ya(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},t.get=function(g,A){return g?(g=this.V(g),0<g.length?String(g[0]):A):A};function kf(g,A,C){Wa(g,A),0<C.length&&(g.i=null,g.g.set(ha(g,A),E(C)),g.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(var C=0;C<A.length;C++){var B=A[C];const se=encodeURIComponent(String(B)),be=this.V(B);for(B=0;B<be.length;B++){var Q=se;be[B]!==""&&(Q+="="+encodeURIComponent(String(be[B]))),g.push(Q)}}return this.i=g.join("&")};function ha(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function lm(g,A){A&&!g.j&&(vi(g),g.i=null,g.g.forEach(function(C,B){var Q=B.toLowerCase();B!=Q&&(Wa(this,B),kf(this,Q,C))},g)),g.j=A}function cl(g,A){const C=new Ee;if(u.Image){const B=new Image;B.onload=b(bi,C,"TestLoadImage: loaded",!0,A,B),B.onerror=b(bi,C,"TestLoadImage: error",!1,A,B),B.onabort=b(bi,C,"TestLoadImage: abort",!1,A,B),B.ontimeout=b(bi,C,"TestLoadImage: timeout",!1,A,B),u.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else A(!1)}function Gi(g,A){const C=new Ee,B=new AbortController,Q=setTimeout(()=>{B.abort(),bi(C,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:B.signal}).then(se=>{clearTimeout(Q),se.ok?bi(C,"TestPingServer: ok",!0,A):bi(C,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Q),bi(C,"TestPingServer: error",!1,A)})}function bi(g,A,C,B,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),B(C)}catch{}}function fl(){this.g=new mi}function ma(g,A,C){const B=C||"";try{Cf(g,function(Q,se){let be=Q;d(Q)&&(be=zr(Q)),A.push(B+se+"="+encodeURIComponent(be))})}catch(Q){throw A.push(B+"type="+encodeURIComponent("_badmap")),Q}}function Xs(g){this.l=g.Ub||null,this.j=g.eb||!1}x(Xs,qs),Xs.prototype.g=function(){return new Xa(this.l,this.j)},Xs.prototype.i=(function(g){return function(){return g}})({});function Xa(g,A){Et.call(this),this.D=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Xa,Et),t=Xa.prototype,t.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=A,this.readyState=1,ga(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(A.body=g),(this.D||u).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Df(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Df(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?pa(this):ga(this),this.readyState==3&&Df(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,pa(this))},t.Qa=function(g){this.g&&(this.response=g,pa(this))},t.ga=function(){this.g&&pa(this)};function pa(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ga(g)}t.setRequestHeader=function(g,A){this.u.append(g,A)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var C=A.next();!C.done;)C=C.value,g.push(C[0]+": "+C[1]),C=A.next();return g.join(`\r
`)};function ga(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function If(g){let A="";return N(g,function(C,B){A+=B,A+=":",A+=C,A+=`\r
`}),A}function zn(g,A,C){e:{for(B in C){var B=!1;break e}B=!0}B||(C=If(C),typeof g=="string"?C!=null&&encodeURIComponent(String(C)):Dt(g,A,C))}function Pt(g){Et.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Pt,Et);var Ou=/^https?$/i,dl=["POST","PUT"];t=Pt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,A,C,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mt.g(),this.v=this.o?Ha(this.o):Ha(mt),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(se){um(this,se);return}if(g=C||"",C=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Q in B)C.set(Q,B[Q]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const se of B.keys())C.set(se,B.get(se));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(C.keys()).find(se=>se.toLowerCase()=="content-type"),Q=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(dl,A,void 0))||B||Q||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,be]of C)this.g.setRequestHeader(se,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hl(this),this.u=!0,this.g.send(g),this.u=!1}catch(se){um(this,se)}};function um(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.m=5,Pu(g),ya(g)}function Pu(g){g.A||(g.A=!0,nt(g,"complete"),nt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,nt(this,"complete"),nt(this,"abort"),ya(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ya(this,!0)),Pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ru(this):this.bb())},t.bb=function(){Ru(this)};function Ru(g){if(g.h&&typeof o<"u"&&(!g.v[1]||_i(g)!=4||g.Z()!=2)){if(g.u&&_i(g)==4)bn(g.Ea,0,g);else if(nt(g,"readystatechange"),_i(g)==4){g.h=!1;try{const be=g.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var C;if(!(C=A)){var B;if(B=be===0){var Q=String(g.D).match(sl)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),B=!Ou.test(Q?Q.toLowerCase():"")}C=B}if(C)nt(g,"complete"),nt(g,"success");else{g.m=6;try{var se=2<_i(g)?g.g.statusText:""}catch{se=""}g.l=se+" ["+g.Z()+"]",Pu(g)}}finally{ya(g)}}}}function ya(g,A){if(g.g){hl(g);const C=g.g,B=g.v[0]?()=>{}:null;g.g=null,g.v=null,A||nt(g,"ready");try{C.onreadystatechange=B}catch{}}}function hl(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function _i(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),Fa(A)}};function cm(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Av(g){const A={};g=(g.g&&2<=_i(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(R(g[B]))continue;var C=z(g[B]);const Q=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const se=A[Q]||[];A[Q]=se,se.push(C)}k(A,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ml(g,A,C){return C&&C.internalChannelParams&&C.internalChannelParams[g]||A}function Cu(g){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ml("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ml("baseRetryDelayMs",5e3,g),this.cb=ml("retryDelaySeedMs",1e4,g),this.Wa=ml("forwardChannelMaxRetries",2,g),this.wa=ml("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new er(g&&g.concurrentRequestLimit),this.Da=new fl,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Cu.prototype,t.la=8,t.G=1,t.connect=function(g,A,C,B){ee(0),this.W=g,this.H=A||{},C&&B!==void 0&&(this.H.OSID=C,this.H.OAID=B),this.F=this.X,this.I=ym(this,null,this.W),Nu(this)};function Mf(g){if(fm(g),g.G==3){var A=g.U++,C=Hr(g.I);if(Dt(C,"SID",g.K),Dt(C,"RID",A),Dt(C,"TYPE","terminate"),pl(g,C),A=new St(g,g.j,A),A.L=2,A.v=ll(Hr(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(A.v.toString(),"")}catch{}!C&&u.Image&&(new Image().src=A.v,C=!0),C||(A.g=vm(A.j,null),A.g.ea(A.v)),A.F=Date.now(),qr(A)}gm(g)}function ju(g){g.g&&(gl(g),g.g.cancel(),g.g=null)}function fm(g){ju(g),g.u&&(u.clearTimeout(g.u),g.u=null),ku(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function Nu(g){if(!Ht(g.h)&&!g.s){g.s=!0;var A=g.Ga;ie||H(),pe||(ie(),pe=!0),xe.add(A,g),g.B=0}}function Ov(g,A){return Ki(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=A.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ve(y(g.Ga,g,A),Vf(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Q=new St(this,this.j,g);let se=this.o;if(this.S&&(se?(se=I(se),V(se,this.S)):se=this.S),this.m!==null||this.O||(Q.H=se,se=null),this.P)e:{for(var A=0,C=0;C<this.i.length;C++){t:{var B=this.i[C];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(A+=B,4096<A){A=C;break e}if(A===4096||C===this.i.length-1){A=C+1;break e}}A=1e3}else A=1e3;A=dm(this,Q,A),C=Hr(this.I),Dt(C,"RID",g),Dt(C,"CVER",22),this.D&&Dt(C,"X-HTTP-Session-Id",this.D),pl(this,C),se&&(this.O?A="headers="+encodeURIComponent(String(If(se)))+"&"+A:this.m&&zn(C,this.m,se)),Ws(this.h,Q),this.Ua&&Dt(C,"TYPE","init"),this.P?(Dt(C,"$req",A),Dt(C,"SID","null"),Q.T=!0,Zn(Q,C,null)):Zn(Q,C,A),this.G=2}}else this.G==3&&(g?Lf(this,g):this.i.length==0||Ht(this.h)||Lf(this))};function Lf(g,A){var C;A?C=A.l:C=g.U++;const B=Hr(g.I);Dt(B,"SID",g.K),Dt(B,"RID",C),Dt(B,"AID",g.T),pl(g,B),g.m&&g.o&&zn(B,g.m,g.o),C=new St(g,g.j,C,g.B+1),g.m===null&&(C.H=g.o),A&&(g.i=A.D.concat(g.i)),A=dm(g,C,1e3),C.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Ws(g.h,C),Zn(C,B,A)}function pl(g,A){g.H&&N(g.H,function(C,B){Dt(A,B,C)}),g.l&&Cf({},function(C,B){Dt(A,B,C)})}function dm(g,A,C){C=Math.min(g.i.length,C);var B=g.l?y(g.l.Na,g.l,g):null;e:{var Q=g.i;let se=-1;for(;;){const be=["count="+C];se==-1?0<C?(se=Q[0].g,be.push("ofs="+se)):se=0:be.push("ofs="+se);let pt=!0;for(let Rn=0;Rn<C;Rn++){let gt=Q[Rn].g;const qn=Q[Rn].map;if(gt-=se,0>gt)se=Math.max(0,Q[Rn].g-100),pt=!1;else try{ma(qn,be,"req"+gt+"_")}catch{B&&B(qn)}}if(pt){B=be.join("&");break e}}}return g=g.i.splice(0,C),A.D=g,B}function hm(g){if(!g.g&&!g.u){g.Y=1;var A=g.Fa;ie||H(),pe||(ie(),pe=!0),xe.add(A,g),g.v=0}}function $f(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ve(y(g.Fa,g),Vf(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,mm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ve(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),ju(this),mm(this))};function gl(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function mm(g){g.g=new St(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var A=Hr(g.qa);Dt(A,"RID","rpc"),Dt(A,"SID",g.K),Dt(A,"AID",g.T),Dt(A,"CI",g.F?"0":"1"),!g.F&&g.ja&&Dt(A,"TO",g.ja),Dt(A,"TYPE","xmlhttp"),pl(g,A),g.m&&g.o&&zn(A,g.m,g.o),g.L&&(g.g.I=g.L);var C=g.g;g=g.ia,C.L=1,C.v=ll(Hr(A)),C.m=null,C.P=!0,Bn(C,g)}t.Za=function(){this.C!=null&&(this.C=null,ju(this),$f(this),ee(19))};function ku(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function pm(g,A){var C=null;if(g.g==A){ku(g),gl(g),g.g=null;var B=2}else if(Gs(g.h,A))C=A.D,Sr(g.h,A),B=1;else return;if(g.G!=0){if(A.o)if(B==1){C=A.m?A.m.length:0,A=Date.now()-A.F;var Q=g.B;B=da(),nt(B,new fe(B,C)),Nu(g)}else hm(g);else if(Q=A.s,Q==3||Q==0&&0<A.X||!(B==1&&Ov(g,A)||B==2&&$f(g)))switch(C&&0<C.length&&(A=g.h,A.i=A.i.concat(C)),Q){case 1:Qa(g,5);break;case 4:Qa(g,10);break;case 3:Qa(g,6);break;default:Qa(g,2)}}}function Vf(g,A){let C=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(C*=2),C*A}function Qa(g,A){if(g.j.info("Error code "+A),A==2){var C=y(g.fb,g),B=g.Xa;const Q=!B;B=new _n(B||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ol(B,"https"),ll(B),Q?cl(B.toString(),C):Gi(B.toString(),C)}else ee(2);g.G=0,g.l&&g.l.sa(A),gm(g),fm(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function gm(g){if(g.G=0,g.ka=[],g.l){const A=Rf(g.h);(A.length!=0||g.i.length!=0)&&(S(g.ka,A),S(g.ka,g.i),g.h.i.length=0,E(g.i),g.i.length=0),g.l.ra()}}function ym(g,A,C){var B=C instanceof _n?Hr(C):new _n(C);if(B.g!="")A&&(B.g=A+"."+B.g),Ys(B,B.s);else{var Q=u.location;B=Q.protocol,A=A?A+"."+Q.hostname:Q.hostname,Q=+Q.port;var se=new _n(null);B&&ol(se,B),A&&(se.g=A),Q&&Ys(se,Q),C&&(se.l=C),B=se}return C=g.D,A=g.ya,C&&A&&Dt(B,C,A),Dt(B,"VER",g.la),pl(g,B),B}function vm(g,A,C){if(A&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Ca&&!g.pa?new Pt(new Xs({eb:C})):new Pt(g.pa),A.Ha(g.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bm(){}t=bm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Du(){}Du.prototype.g=function(g,A){return new Tr(g,A)};function Tr(g,A){Et.call(this),this.g=new Cu(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(g?g["X-WebChannel-Client-Profile"]=A.va:g={"X-WebChannel-Client-Profile":A.va}),this.g.S=g,(g=A&&A.Sb)&&!R(g)&&(this.g.m=g),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!R(A)&&(this.g.D=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new va(this)}x(Tr,Et),Tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tr.prototype.close=function(){Mf(this.g)},Tr.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var C={};C.__data__=g,g=C}else this.u&&(C={},C.__data__=zr(g),g=C);A.i.push(new Hi(A.Ya++,g)),A.G==3&&Nu(A)},Tr.prototype.N=function(){this.g.l=null,delete this.j,Mf(this.g),delete this.g,Tr.aa.N.call(this)};function _m(g){Fi.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const C in A){g=C;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}x(_m,Fi);function wm(){Fs.call(this),this.status=1}x(wm,Fs);function va(g){this.g=g}x(va,bm),va.prototype.ua=function(){nt(this.g,"a")},va.prototype.ta=function(g){nt(this.g,new _m(g))},va.prototype.sa=function(g){nt(this.g,new wm)},va.prototype.ra=function(){nt(this.g,"b")},Du.prototype.createWebChannel=Du.prototype.g,Tr.prototype.send=Tr.prototype.o,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,lI=function(){return new Du},oI=function(){return da()},sI=wr,Hw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Zp=Re,Ze.COMPLETE="complete",aI=Ze,al.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Bd=al,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,iI=Pt}).apply(typeof Tp<"u"?Tp:typeof self<"u"?self:typeof window<"u"?window:{});const gR="@firebase/firestore",yR="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=new R1("@firebase/firestore");function xc(){return ru.logLevel}function Te(t,...e){if(ru.logLevel<=bt.DEBUG){const n=e.map(j1);ru.debug(`Firestore (${uf}): ${t}`,...n)}}function ws(t,...e){if(ru.logLevel<=bt.ERROR){const n=e.map(j1);ru.error(`Firestore (${uf}): ${t}`,...n)}}function Bc(t,...e){if(ru.logLevel<=bt.WARN){const n=e.map(j1);ru.warn(`Firestore (${uf}): ${t}`,...n)}}function j1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uI(t,r,n)}function uI(t,e,n){let r=`FIRESTORE (${uf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ws(r),new Error(r)}function Rt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||uI(e,i,r)}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends mu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Iq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pr.UNAUTHENTICATED)))}shutdown(){}}class Mq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Lq{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Rt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gs,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gs)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string",31837,{l:r}),new cI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string",2055,{h:e}),new pr(e)}}class $q{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Vq{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $q(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uq{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,JD(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Rt(this.o===void 0,3512);const r=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vR(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Bq(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function dt(t,e){return t<e?-1:t>e?1:0}function Kw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return kb(i)===kb(a)?dt(i,a):kb(i)?1:-1}return dt(t.length,e.length)}const zq=55296,qq=57343;function kb(t){const e=t.charCodeAt(0);return e>=zq&&e<=qq}function zc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="__name__";class Aa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Aa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Aa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Aa.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return dt(e.length,n.length)}static compareSegments(e,n){const r=Aa.isNumericId(e),i=Aa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Aa.extractNumericId(e).compare(Aa.extractNumericId(n)):Kw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}}class Xt extends Aa{construct(e,n,r){return new Xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Xt(n)}static emptyPath(){return new Xt([])}}const Fq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends Aa{construct(e,n,r){return new lr(e,n,r)}static isValidIdentifier(e){return Fq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bR}static keyField(){return new lr([bR])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Me(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Me(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Me(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Me(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lr(n)}static emptyPath(){return new lr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Xt.fromString(e))}static fromName(e){return new Be(Xt.fromString(e).popFirst(5))}static empty(){return new Be(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t,e,n){if(!n)throw new Me(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hq(t,e,n,r){if(e===!0&&r===!0)throw new Me(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _R(t){if(!Be.isDocumentKey(t))throw new Me(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wR(t){if(Be.isDocumentKey(t))throw new Me(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function k1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function iu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=k1(t);throw new Me(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lh(t,e){if(!dI(t))throw new Me(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Me(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=-62135596800,ER=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ER);return new Qt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Me(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xR)throw new Me(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ER}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lh(e,Qt._jsonSchema))return new Qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qt._jsonSchemaVersion="firestore/timestamp/1.0",Qt._jsonSchema={type:An("string",Qt._jsonSchemaVersion),seconds:An("number"),nanoseconds:An("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Qt(0,0))}static max(){return new Xe(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=-1;function Kq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new Vo(i,Be.empty(),e)}function Gq(t){return new Vo(t.readTime,t.key,fh)}class Vo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vo(Xe.min(),Be.empty(),fh)}static max(){return new Vo(Xe.max(),Be.empty(),fh)}}function Wq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:dt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==Yq)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,r)=>{n(e)}))}static reject(e){return new de(((n,r)=>{r(e)}))}static waitFor(e){return new de(((n,r)=>{let i=0,a=0,o=!1;e.forEach((u=>{++i,u.next((()=>{++a,o&&a===i&&n()}),(f=>r(f)))})),o=!0,a===i&&n()}))}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next((i=>i?de.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new de(((r,i)=>{const a=e.length,o=new Array(a);let u=0;for(let f=0;f<a;f++){const d=f;n(e[d]).next((h=>{o[d]=h,++u,u===a&&r(o)}),(h=>i(h)))}}))}static doWhile(e,n){return new de(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Qq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ff(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_y.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=-1;function wy(t){return t==null}function hg(t){return t===0&&1/t==-1/0}function Jq(t){return typeof t=="number"&&Number.isInteger(t)&&!hg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="";function Zq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=SR(e)),e=e8(t.get(n),e);return SR(e)}function e8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case hI:n+="";break;default:n+=a}}return n}function SR(t){return t+hI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n){this.comparator=e,this.root=n||sr.EMPTY}insert(e,n){return new sn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ap(this.root,e,this.comparator,!0)}}class Ap{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??sr.RED,this.left=i??sr.EMPTY,this.right=a??sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new sr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AR(this.data.getIterator())}getIteratorFrom(e){return new AR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ln(this.comparator);return n.data=e,n}}class AR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new ia([])}unionWith(e){let n=new Ln(lr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ia(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new pI("Invalid base64 string: "+a):a}})(e);return new ur(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new ur(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const t8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(t){if(Rt(!!t,39018),typeof t=="string"){let e=0;const n=t8.exec(t);if(Rt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pn(t.seconds),nanos:pn(t.nanos)}}function pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bo(t){return typeof t=="string"?ur.fromBase64String(t):ur.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="server_timestamp",yI="__type__",vI="__previous_value__",bI="__local_write_time__";function I1(t){return(t?.mapValue?.fields||{})[yI]?.stringValue===gI}function xy(t){const e=t.mapValue.fields[vI];return I1(e)?xy(e):e}function dh(t){const e=Uo(t.mapValue.fields[bI].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e,n,r,i,a,o,u,f,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=h}}const mg="(default)";class hh{constructor(e,n){this.projectId=e,this.database=n||mg}static empty(){return new hh("","")}get isDefaultDatabase(){return this.database===mg}isEqual(e){return e instanceof hh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="__type__",r8="__max__",Op={mapValue:{}},wI="__vector__",pg="value";function zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?I1(t)?4:a8(t)?9007199254740991:i8(t)?10:11:Ge(28295,{value:t})}function La(t,e){if(t===e)return!0;const n=zo(t);if(n!==zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dh(t).isEqual(dh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Uo(i.timestampValue),u=Uo(a.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Bo(i.bytesValue).isEqual(Bo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return pn(i.geoPointValue.latitude)===pn(a.geoPointValue.latitude)&&pn(i.geoPointValue.longitude)===pn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return pn(i.integerValue)===pn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=pn(i.doubleValue),u=pn(a.doubleValue);return o===u?hg(o)===hg(u):isNaN(o)&&isNaN(u)}return!1})(t,e);case 9:return zc(t.arrayValue.values||[],e.arrayValue.values||[],La);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},u=a.mapValue.fields||{};if(TR(o)!==TR(u))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(u[f]===void 0||!La(o[f],u[f])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function mh(t,e){return(t.values||[]).find((n=>La(n,e)))!==void 0}function qc(t,e){if(t===e)return 0;const n=zo(t),r=zo(e);if(n!==r)return dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dt(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const u=pn(a.integerValue||a.doubleValue),f=pn(o.integerValue||o.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return OR(t.timestampValue,e.timestampValue);case 4:return OR(dh(t),dh(e));case 5:return Kw(t.stringValue,e.stringValue);case 6:return(function(a,o){const u=Bo(a),f=Bo(o);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const u=a.split("/"),f=o.split("/");for(let d=0;d<u.length&&d<f.length;d++){const h=dt(u[d],f[d]);if(h!==0)return h}return dt(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const u=dt(pn(a.latitude),pn(o.latitude));return u!==0?u:dt(pn(a.longitude),pn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return PR(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const u=a.fields||{},f=o.fields||{},d=u[pg]?.arrayValue,h=f[pg]?.arrayValue,p=dt(d?.values?.length||0,h?.values?.length||0);return p!==0?p:PR(d,h)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===Op.mapValue&&o===Op.mapValue)return 0;if(a===Op.mapValue)return 1;if(o===Op.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),d=o.fields||{},h=Object.keys(d);f.sort(),h.sort();for(let p=0;p<f.length&&p<h.length;++p){const y=Kw(f[p],h[p]);if(y!==0)return y;const b=qc(u[f[p]],d[h[p]]);if(b!==0)return b}return dt(f.length,h.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function OR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dt(t,e);const n=Uo(t),r=Uo(e),i=dt(n.seconds,r.seconds);return i!==0?i:dt(n.nanos,r.nanos)}function PR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=qc(n[i],r[i]);if(a)return a}return dt(n.length,r.length)}function Fc(t){return Gw(t)}function Gw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Uo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Bo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Gw(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${Gw(n.fields[o])}`;return i+"}"})(t.mapValue):Ge(61005,{value:t})}function eg(t){switch(zo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xy(t);return e?16+eg(e):16;case 5:return 2*t.stringValue.length;case 6:return Bo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+eg(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return pu(r.fields,((a,o)=>{i+=a.length+eg(o)})),i})(t.mapValue);default:throw Ge(13486,{value:t})}}function Ww(t){return!!t&&"integerValue"in t}function M1(t){return!!t&&"arrayValue"in t}function RR(t){return!!t&&"nullValue"in t}function CR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tg(t){return!!t&&"mapValue"in t}function i8(t){return(t?.mapValue?.fields||{})[_I]?.stringValue===wI}function Yd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return pu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Yd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yd(t.arrayValue.values[n]);return e}return{...t}}function a8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===r8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.value=e}static empty(){return new Di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yd(n)}setAll(e){let n=lr.emptyPath(),r={},i=[];e.forEach(((o,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=Yd(o):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());tg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return La(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];tg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pu(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Di(Yd(this.value))}}function xI(t){const e=[];return pu(t.fields,((n,r)=>{const i=new lr([n]);if(tg(r)){const a=xI(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new ia(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,i,a,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}static newInvalidDocument(e){return new yr(e,0,Xe.min(),Xe.min(),Xe.min(),Di.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,Xe.min(),Xe.min(),Di.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,Xe.min(),Xe.min(),Di.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.position=e,this.inclusive=n}}function jR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Be.comparator(Be.fromName(o.referenceValue),n.key):r=qc(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function NR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!La(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n="asc"){this.field=e,this.dir=n}}function s8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{}class In extends EI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new l8(e,n,r):n==="array-contains"?new f8(e,r):n==="in"?new d8(e,r):n==="not-in"?new h8(e,r):n==="array-contains-any"?new m8(e,r):new In(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new u8(e,r):new c8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qc(n,this.value)):n!==null&&zo(this.value)===zo(n)&&this.matchesComparison(qc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $a extends EI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $a(e,n)}matches(e){return SI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SI(t){return t.op==="and"}function TI(t){return o8(t)&&SI(t)}function o8(t){for(const e of t.filters)if(e instanceof $a)return!1;return!0}function Yw(t){if(t instanceof In)return t.field.canonicalString()+t.op.toString()+Fc(t.value);if(TI(t))return t.filters.map((e=>Yw(e))).join(",");{const e=t.filters.map((n=>Yw(n))).join(",");return`${t.op}(${e})`}}function AI(t,e){return t instanceof In?(function(r,i){return i instanceof In&&r.op===i.op&&r.field.isEqual(i.field)&&La(r.value,i.value)})(t,e):t instanceof $a?(function(r,i){return i instanceof $a&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,u)=>a&&AI(o,i.filters[u])),!0):!1})(t,e):void Ge(19439)}function OI(t){return t instanceof In?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fc(n.value)}`})(t):t instanceof $a?(function(n){return n.op.toString()+" {"+n.getFilters().map(OI).join(" ,")+"}"})(t):"Filter"}class l8 extends In{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class u8 extends In{constructor(e,n){super(e,"in",n),this.keys=PI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class c8 extends In{constructor(e,n){super(e,"not-in",n),this.keys=PI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function PI(t,e){return(e.arrayValue?.values||[]).map((n=>Be.fromName(n.referenceValue)))}class f8 extends In{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return M1(n)&&mh(n.arrayValue,this.value)}}class d8 extends In{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mh(this.value.arrayValue,n)}}class h8 extends In{constructor(e,n){super(e,"not-in",n)}matches(e){if(mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mh(this.value.arrayValue,n)}}class m8 extends In{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!M1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>mh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,n=null,r=[],i=[],a=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.Te=null}}function kR(t,e=null,n=[],r=[],i=null,a=null,o=null){return new p8(t,e,n,r,i,a,o)}function L1(t){const e=Je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Yw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),wy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Fc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Fc(r))).join(",")),e.Te=n}return e.Te}function $1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NR(t.startAt,e.startAt)&&NR(t.endAt,e.endAt)}function Xw(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n=null,r=[],i=[],a=null,o="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function g8(t,e,n,r,i,a,o,u){return new Ey(t,e,n,r,i,a,o,u)}function V1(t){return new Ey(t)}function DR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function y8(t){return t.collectionGroup!==null}function Xd(t){const e=Je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Ln(lr.comparator);return o.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new yg(a,r))})),n.has(lr.keyField().canonicalString())||e.Ie.push(new yg(lr.keyField(),r))}return e.Ie}function Na(t){const e=Je(t);return e.Ee||(e.Ee=v8(e,Xd(t))),e.Ee}function v8(t,e){if(t.limitType==="F")return kR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new yg(i.field,a)}));const n=t.endAt?new gg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gg(t.startAt.position,t.startAt.inclusive):null;return kR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qw(t,e,n){return new Ey(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sy(t,e){return $1(Na(t),Na(e))&&t.limitType===e.limitType}function RI(t){return`${L1(Na(t))}|lt:${t.limitType}`}function Ec(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>OI(i))).join(", ")}]`),wy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Fc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Fc(i))).join(",")),`Target(${r})`})(Na(t))}; limitType=${t.limitType})`}function Ty(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Xd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,u,f){const d=jR(o,u,f);return o.inclusive?d<=0:d<0})(r.startAt,Xd(r),i)||r.endAt&&!(function(o,u,f){const d=jR(o,u,f);return o.inclusive?d>=0:d>0})(r.endAt,Xd(r),i))})(t,e)}function b8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CI(t){return(e,n)=>{let r=!1;for(const i of Xd(t)){const a=_8(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function _8(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):(function(a,o,u){const f=o.data.field(a),d=u.data.field(a);return f!==null&&d!==null?qc(f,d):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pu(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return mI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=new sn(Be.comparator);function xs(){return w8}const jI=new sn(Be.comparator);function zd(...t){let e=jI;for(const n of t)e=e.insert(n.key,n);return e}function NI(t){let e=jI;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ql(){return Qd()}function kI(){return Qd()}function Qd(){return new gu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const x8=new sn(Be.comparator),E8=new Ln(Be.comparator);function ht(...t){let e=E8;for(const n of t)e=e.add(n);return e}const S8=new Ln(dt);function T8(){return S8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hg(e)?"-0":e}}function DI(t){return{integerValue:""+t}}function A8(t,e){return Jq(e)?DI(e):U1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this._=void 0}}function O8(t,e,n){return t instanceof vg?(function(i,a){const o={fields:{[yI]:{stringValue:gI},[bI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&I1(a)&&(a=xy(a)),a&&(o.fields[vI]=a),{mapValue:o}})(n,e):t instanceof ph?MI(t,e):t instanceof gh?LI(t,e):(function(i,a){const o=II(i,a),u=IR(o)+IR(i.Ae);return Ww(o)&&Ww(i.Ae)?DI(u):U1(i.serializer,u)})(t,e)}function P8(t,e,n){return t instanceof ph?MI(t,e):t instanceof gh?LI(t,e):n}function II(t,e){return t instanceof bg?(function(r){return Ww(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class vg extends Ay{}class ph extends Ay{constructor(e){super(),this.elements=e}}function MI(t,e){const n=$I(e);for(const r of t.elements)n.some((i=>La(i,r)))||n.push(r);return{arrayValue:{values:n}}}class gh extends Ay{constructor(e){super(),this.elements=e}}function LI(t,e){let n=$I(e);for(const r of t.elements)n=n.filter((i=>!La(i,r)));return{arrayValue:{values:n}}}class bg extends Ay{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function IR(t){return pn(t.integerValue||t.doubleValue)}function $I(t){return M1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function R8(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ph&&i instanceof ph||r instanceof gh&&i instanceof gh?zc(r.elements,i.elements,La):r instanceof bg&&i instanceof bg?La(r.Ae,i.Ae):r instanceof vg&&i instanceof vg})(t.transform,e.transform)}class C8{constructor(e,n){this.version=e,this.transformResults=n}}class ys{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ng(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Oy{}function VI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BI(t.key,ys.none()):new $h(t.key,t.data,ys.none());{const n=t.data,r=Di.empty();let i=new Ln(lr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new yu(t.key,r,new ia(i.toArray()),ys.none())}}function j8(t,e,n){t instanceof $h?(function(i,a,o){const u=i.value.clone(),f=LR(i.fieldTransforms,a,o.transformResults);u.setAll(f),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):t instanceof yu?(function(i,a,o){if(!ng(i.precondition,a))return void a.convertToUnknownDocument(o.version);const u=LR(i.fieldTransforms,a,o.transformResults),f=a.data;f.setAll(UI(i)),f.setAll(u),a.convertToFoundDocument(o.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Jd(t,e,n,r){return t instanceof $h?(function(a,o,u,f){if(!ng(a.precondition,o))return u;const d=a.value.clone(),h=$R(a.fieldTransforms,f,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof yu?(function(a,o,u,f){if(!ng(a.precondition,o))return u;const d=$R(a.fieldTransforms,f,o),h=o.data;return h.setAll(UI(a)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,o,u){return ng(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(t,e,n)}function N8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=II(r.transform,i||null);a!=null&&(n===null&&(n=Di.empty()),n.set(r.field,a))}return n||null}function MR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zc(r,i,((a,o)=>R8(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $h extends Oy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yu extends Oy{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function UI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function LR(t,e,n){const r=new Map;Rt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,u=e.data.field(a.field);r.set(a.field,P8(o,u,n[i]))}return r}function $R(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,O8(a,o,e))}return r}class BI extends Oy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k8 extends Oy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&j8(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kI();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let u=this.applyToLocalView(o,a.mutatedFields);u=n.has(i.key)?null:u;const f=VI(o,u);f!==null&&r.set(i.key,f),o.isValidDocument()||o.convertToNoDocument(Xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ht())}isEqual(e){return this.batchId===e.batchId&&zc(this.mutations,e.mutations,((n,r)=>MR(n,r)))&&zc(this.baseMutations,e.baseMutations,((n,r)=>MR(n,r)))}}class B1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return x8})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new B1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,vt;function L8(t){switch(t){case he.OK:return Ge(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function zI(t){if(t===void 0)return ws("GRPC error has no .code"),he.UNKNOWN;switch(t){case En.OK:return he.OK;case En.CANCELLED:return he.CANCELLED;case En.UNKNOWN:return he.UNKNOWN;case En.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case En.INTERNAL:return he.INTERNAL;case En.UNAVAILABLE:return he.UNAVAILABLE;case En.UNAUTHENTICATED:return he.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case En.NOT_FOUND:return he.NOT_FOUND;case En.ALREADY_EXISTS:return he.ALREADY_EXISTS;case En.PERMISSION_DENIED:return he.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case En.ABORTED:return he.ABORTED;case En.OUT_OF_RANGE:return he.OUT_OF_RANGE;case En.UNIMPLEMENTED:return he.UNIMPLEMENTED;case En.DATA_LOSS:return he.DATA_LOSS;default:return Ge(39323,{code:t})}}(vt=En||(En={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=new Io([4294967295,4294967295],0);function VR(t){const e=$8().encode(t),n=new rI;return n.update(e),new Uint8Array(n.digest())}function UR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Io([n,r],0),new Io([i,a],0)]}class z1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qd(`Invalid padding: ${n}`);if(r<0)throw new qd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Io.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Io.fromNumber(r)));return i.compare(V8)===1&&(i=new Io([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VR(e),[r,i]=UR(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new z1(a,i,n);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.ge===0)return;const n=VR(e),[r,i]=UR(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Py(Xe.min(),i,new sn(dt),xs(),ht())}}class Vh{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vh(r,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class qI{constructor(e,n){this.targetId=e,this.Ce=n}}class FI{constructor(e,n,r=ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class BR{constructor(){this.ve=0,this.Fe=zR(),this.Me=ur.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ht(),n=ht(),r=ht();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ge(38017,{changeType:a})}})),new Vh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=zR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U8{constructor(e){this.Ge=e,this.ze=new Map,this.je=xs(),this.Je=Pp(),this.He=Pp(),this.Ye=new sn(dt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Xw(a))if(r===0){const o=new Be(a.path);this.et(n,o,yr.newNoDocument(o,Xe.min()))}else Rt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),f=u?this.ct(u,e,o):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,u;try{o=Bo(r).toUint8Array()}catch(f){if(f instanceof pI)return Bc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new z1(o,i,a)}catch(f){return Bc(f instanceof qd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const u=this.ot(o);if(u){if(a.current&&Xw(u.target)){const f=new Be(u.target.path);this.It(f).has(o)||this.Et(o,f)||this.et(o,f,yr.newNoDocument(f,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=ht();this.He.forEach(((a,o)=>{let u=!0;o.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new Py(e,n,this.Ye,this.je,r);return this.je=xs(),this.Je=Pp(),this.He=Pp(),this.Ye=new sn(dt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new BR,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ln(dt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ln(dt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BR),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pp(){return new sn(Be.comparator)}function zR(){return new sn(Be.comparator)}const B8={asc:"ASCENDING",desc:"DESCENDING"},z8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q8={and:"AND",or:"OR"};class F8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jw(t,e){return t.useProto3Json||wy(e)?e:{value:e}}function _g(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function H8(t,e){return _g(t,e.toTimestamp())}function ka(t){return Rt(!!t,49232),Xe.fromTimestamp((function(n){const r=Uo(n);return new Qt(r.seconds,r.nanos)})(t))}function q1(t,e){return Zw(t,e).canonicalString()}function Zw(t,e){const n=(function(i){return new Xt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function KI(t){const e=Xt.fromString(t);return Rt(QI(e),10190,{key:e.toString()}),e}function ex(t,e){return q1(t.databaseId,e.path)}function Db(t,e){const n=KI(e);if(n.get(1)!==t.databaseId.projectId)throw new Me(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Me(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(WI(n))}function GI(t,e){return q1(t.databaseId,e)}function K8(t){const e=KI(t);return e.length===4?Xt.emptyPath():WI(e)}function tx(t){return new Xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WI(t){return Rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qR(t,e,n){return{name:ex(t,e),fields:n.value.mapValue.fields}}function G8(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ge(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,h){return d.useProto3Json?(Rt(h===void 0||typeof h=="string",58123),ur.fromBase64String(h||"")):(Rt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ur.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(d){const h=d.code===void 0?he.UNKNOWN:zI(d.code);return new Me(h,d.message||"")})(o);n=new FI(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Db(t,r.document.name),a=ka(r.document.updateTime),o=r.document.createTime?ka(r.document.createTime):Xe.min(),u=new Di({mapValue:{fields:r.document.fields}}),f=yr.newFoundDocument(i,a,o,u),d=r.targetIds||[],h=r.removedTargetIds||[];n=new rg(d,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Db(t,r.document),a=r.readTime?ka(r.readTime):Xe.min(),o=yr.newNoDocument(i,a),u=r.removedTargetIds||[];n=new rg([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Db(t,r.document),a=r.removedTargetIds||[];n=new rg([],a,i,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new M8(i,a),u=r.targetId;n=new qI(u,o)}}return n}function W8(t,e){let n;if(e instanceof $h)n={update:qR(t,e.key,e.value)};else if(e instanceof BI)n={delete:ex(t,e.key)};else if(e instanceof yu)n={update:qR(t,e.key,e.data),updateMask:r7(e.fieldMask)};else{if(!(e instanceof k8))return Ge(16599,{Vt:e.type});n={verify:ex(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const u=o.transform;if(u instanceof vg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ph)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof gh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof bg)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw Ge(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:H8(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ge(27497)})(t,e.precondition)),n}function Y8(t,e){return t&&t.length>0?(Rt(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?ka(i.updateTime):ka(a);return o.isEqual(Xe.min())&&(o=ka(a)),new C8(o,i.transformResults||[])})(n,e)))):[]}function X8(t,e){return{documents:[GI(t,e.path)]}}function Q8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GI(t,i);const a=(function(d){if(d.length!==0)return XI($a.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(d){if(d.length!==0)return d.map((h=>(function(y){return{field:Sc(y.field),direction:e7(y.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=Jw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function J8(t){let e=K8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(p){const y=YI(p);return y instanceof $a&&TI(y)?y.getFilters():[y]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((y=>(function(x){return new yg(Tc(x.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let y;return y=typeof p=="object"?p.value:p,wy(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(p){const y=!!p.before,b=p.values||[];return new gg(b,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const y=!p.before,b=p.values||[];return new gg(b,y)})(n.endAt)),g8(e,i,o,a,u,"F",f,d)}function Z8(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tc(n.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tc(n.unaryFilter.field);return In.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Tc(n.unaryFilter.field);return In.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Tc(n.unaryFilter.field);return In.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return In.create(Tc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return $a.create(n.compositeFilter.filters.map((r=>YI(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function e7(t){return B8[t]}function t7(t){return z8[t]}function n7(t){return q8[t]}function Sc(t){return{fieldPath:t.canonicalString()}}function Tc(t){return lr.fromServerFormat(t.fieldPath)}function XI(t){return t instanceof In?(function(n){if(n.op==="=="){if(CR(n.value))return{unaryFilter:{field:Sc(n.field),op:"IS_NAN"}};if(RR(n.value))return{unaryFilter:{field:Sc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CR(n.value))return{unaryFilter:{field:Sc(n.field),op:"IS_NOT_NAN"}};if(RR(n.value))return{unaryFilter:{field:Sc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sc(n.field),op:t7(n.op),value:n.value}}})(t):t instanceof $a?(function(n){const r=n.getFilters().map((i=>XI(i)));return r.length===1?r[0]:{compositeFilter:{op:n7(n.op),filters:r}}})(t):Ge(54877,{filter:t})}function r7(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function QI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r,i,a=Xe.min(),o=Xe.min(),u=ur.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.yt=e}}function a7(t){const e=J8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(){this.Cn=new o7}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Vo.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class o7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ln(Xt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ln(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JI=41943040;class Mr{static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(JI,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hc(0)}static cr(){return new Hc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="LruGarbageCollector",l7=1048576;function KR([t,e],[n,r]){const i=dt(t,n);return i===0?dt(e,r):i}class u7{constructor(e){this.Ir=e,this.buffer=new Ln(KR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();KR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class c7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(HR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ff(n)?Te(HR,"Ignoring IndexedDB error during garbage collection: ",n):await cf(n)}await this.Vr(3e5)}))}}class f7{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(_y.ce);const r=new u7(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(FR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,u,f,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),xc()<=bt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(u-o)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${p} documents in `+(d-f)+`ms
Total Duration: ${d-h}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function d7(t,e){return new f7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.changes=new gu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Jd(r.mutation,i,ia.empty(),Qt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ht()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ht()){const i=ql();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=zd();return a.forEach(((u,f)=>{o=o.insert(u,f.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=ql();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ht())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,u)=>{n.set(o,u)}))}))}computeViews(e,n,r,i){let a=xs();const o=Qd(),u=(function(){return Qd()})();return n.forEach(((f,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof yu)?a=a.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Jd(h.mutation,d,h.mutation.getFieldMask(),Qt.now())):o.set(d.key,ia.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((d,h)=>o.set(d,h))),n.forEach(((d,h)=>u.set(d,new m7(h,o.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Qd();let i=new sn(((o,u)=>o-u)),a=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const u of o)u.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let h=r.get(f)||ia.empty();h=u.applyToLocalView(d,h),r.set(f,h);const p=(i.get(u.batchId)||ht()).add(f);i=i.insert(u.batchId,p)}))})).next((()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,h=f.value,p=kI();h.forEach((y=>{if(!a.has(y)){const b=VI(n.get(y),r.get(y));b!==null&&p.set(y,b),a=a.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return de.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return Be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):de.resolve(ql());let u=fh,f=a;return o.next((d=>de.forEach(d,((h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(h)?de.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{f=f.insert(h,y)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,f,d,ht()))).next((h=>({batchId:u,changes:NI(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((r=>{let i=zd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=zd();return this.indexManager.getCollectionParents(e,a).next((u=>de.forEach(u,(f=>{const d=(function(p,y){return new Ey(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((p,y)=>{o=o.insert(p,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((f,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,yr.newInvalidDocument(h)))}));let u=zd();return o.forEach(((f,d)=>{const h=a.get(f);h!==void 0&&Jd(h.mutation,d,ia.empty(),Qt.now()),Ty(n,d)&&(u=u.insert(f,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return de.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ka(i.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:a7(i.bundledQuery),readTime:ka(i.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(){this.overlays=new sn(Be.comparator),this.qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ql();return de.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),de.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const i=ql(),a=n.length+1,o=new Be(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new sn(((d,h)=>d-h));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=a.get(d.largestBatchId);h===null&&(h=ql(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const u=ql(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,h)=>u.set(d,h))),!(u.size()>=i)););return de.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new I8(n,r));let a=this.qr.get(n);a===void 0&&(a=ht(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(){this.sessionToken=ur.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.Qr=new Ln(Wn.$r),this.Ur=new Ln(Wn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Wn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Be(new Xt([])),r=new Wn(n,e),i=new Wn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Be(new Xt([])),r=new Wn(n,e),i=new Wn(n,e+1);let a=ht();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new Wn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Be.comparator(e.key,n.key)||dt(e.Yr,n.Yr)}static Kr(e,n){return dt(e.Yr,n.Yr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ln(Wn.$r)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new D8(a,n,r,i);this.mutationQueue.push(o);for(const u of i)this.Zr=this.Zr.add(new Wn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return de.resolve(o)}lookupMutationBatch(e,n){return de.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return de.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?D1:this.tr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const u=this.Xr(o.Yr);a.push(u)})),de.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ln(dt);return n.forEach((i=>{const a=new Wn(i,0),o=new Wn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(u=>{r=r.add(u.Yr)}))})),de.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Be.isDocumentKey(a)||(a=a.child(""));const o=new Wn(new Be(a),0);let u=new Ln(dt);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(f.Yr)),!0)}),o),de.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return de.forEach(n.mutations,(i=>{const a=new Wn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Wn(n,0),i=this.Zr.firstAfterOrEqual(r);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e){this.ri=e,this.docs=(function(){return new sn(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=xs();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():yr.newInvalidDocument(i))})),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=xs();const o=n.path,u=new Be(o.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:h}}=f.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Wq(Gq(h),r)<=0||(i.has(h.key)||Ty(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return de.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ge(9500)}ii(e,n){return de.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new w7(this)}getSize(e){return de.resolve(this.size)}}class w7 extends h7{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),de.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e){this.persistence=e,this.si=new gu((n=>L1(n)),$1),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.oi=0,this._i=new F1,this.targetCount=0,this.ai=Hc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),de.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Hc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Pr(n),de.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),de.waitFor(a).next((()=>i))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),de.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.ui={},this.overlays={},this.ci=new _y(0),this.li=!1,this.li=!0,this.hi=new v7,this.referenceDelegate=e(this),this.Pi=new x7(this),this.indexManager=new s7,this.remoteDocumentCache=(function(i){return new _7(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new i7(n),this.Ii=new g7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new b7(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new E7(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return de.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class E7 extends Xq{constructor(e){super(),this.currentSequenceNumber=e}}class H1{constructor(e){this.persistence=e,this.Ri=new F1,this.Vi=null}static mi(e){return new H1(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.fi,(r=>{const i=Be.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wg{constructor(e,n){this.persistence=e,this.pi=new gu((r=>Zq(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=d7(this,n)}static mi(e,n){return new wg(e,n)}Ei(){}di(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return de.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?de.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((u=>{u||(r++,a.removeEntry(o,Xe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eg(e.data.value)),n}br(e,n,r){return de.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return de.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ht(),i=ht();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new K1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _z()?8:Qq(vz())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new S7;return this.Ss(e,n,o).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,o,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(xc()<=bt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Ec(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),de.resolve()):(xc()<=bt.DEBUG&&Te("QueryEngine","Query:",Ec(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(xc()<=bt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Ec(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Na(n))):de.resolve())}ys(e,n){if(DR(n))return de.resolve(null);let r=Na(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Qw(n,null,"F"),r=Na(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=ht(...a);return this.ps.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(n,u);return this.Cs(n,d,o,f.readTime)?this.ys(e,Qw(n,null,"F")):this.vs(e,d,n,f)}))))})))))}ws(e,n,r,i){return DR(n)||i.isEqual(Xe.min())?de.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?de.resolve(null):(xc()<=bt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ec(n)),this.vs(e,o,n,Kq(i,fh)).next((u=>u)))}))}Ds(e,n){let r=new Ln(CI(e));return n.forEach(((i,a)=>{Ty(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return xc()<=bt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Ec(n)),this.ps.getDocumentsMatchingQuery(e,n,Vo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="LocalStore",A7=3e8;class O7{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new sn(dt),this.xs=new gu((a=>L1(a)),$1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function P7(t,e,n,r){return new O7(t,e,n,r)}async function eM(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],u=[];let f=ht();for(const d of i){o.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}for(const d of a){u.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:u})))}))}))}function R7(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,h){const p=d.batch,y=p.keys();let b=de.resolve();return y.forEach((x=>{b=b.next((()=>h.getEntry(f,x))).next((E=>{const S=d.docVersions.get(x);Rt(S!==null,48541),E.version.compareTo(S)<0&&(p.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),h.addEntry(E)))}))})),b.next((()=>u.mutationQueue.removeMutationBatch(f,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=ht();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function tM(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function C7(t,e){const n=Je(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((h,p)=>{const y=i.get(p);if(!y)return;u.push(n.Pi.removeMatchingKeys(a,h.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,h.addedDocuments,p))));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(ur.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):h.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(h.resumeToken,r)),i=i.insert(p,b),(function(E,S,O){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=A7?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(y,b,h)&&u.push(n.Pi.updateTargetData(a,b))}));let f=xs(),d=ht();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),u.push(j7(a,o,e.documentUpdates).next((h=>{f=h.ks,d=h.qs}))),!r.isEqual(Xe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(h)}return de.waitFor(u).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,d))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function j7(t,e,n){let r=ht(),i=ht();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=xs();return n.forEach(((u,f)=>{const d=a.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(e.removeEntry(u,f.readTime),o=o.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),o=o.insert(u,f)):Te(G1,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:o,qs:i}}))}function N7(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=D1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function k7(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,de.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new Co(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function nx(t,e,n){const r=Je(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ff(o))throw o;Te(G1,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function GR(t,e,n){const r=Je(t);let i=Xe.min(),a=ht();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(f,d,h){const p=Je(f),y=p.xs.get(h);return y!==void 0?de.resolve(p.Ms.get(y)):p.Pi.getTargetData(d,h)})(r,o,Na(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Xe.min(),n?a:ht()))).next((u=>(D7(r,b8(e),u),{documents:u,Qs:a})))))}function D7(t,e,n){let r=t.Os.get(e)||Xe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class WR{constructor(){this.activeTargetIds=T8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I7{constructor(){this.Mo=new WR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new WR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="ConnectivityMonitor";class XR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(YR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(YR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp=null;function rx(){return Rp===null?Rp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rp++,"0x"+Rp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="RestConnection",L7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===mg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=rx(),u=this.zo(e,n.toUriEncodedString());Te(Ib,`Sending RPC '${e}' ${o}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:d}=new URL(u),h=P1(d);return this.Jo(e,u,f,r,h).then((p=>(Te(Ib,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Bc(Ib,`RPC '${e}' ${o} failed with error: `,p,"url: ",u,"request:",r),p}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=L7[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class U7 extends $7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=rx();return new Promise(((u,f)=>{const d=new iI;d.setWithCredentials(!0),d.listenOnce(aI.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Zp.NO_ERROR:const p=d.getResponseJson();Te(hr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),u(p);break;case Zp.TIMEOUT:Te(hr,`RPC '${e}' ${o} timed out`),f(new Me(he.DEADLINE_EXCEEDED,"Request time out"));break;case Zp.HTTP_ERROR:const y=d.getStatus();if(Te(hr,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const x=b?.error;if(x&&x.status&&x.message){const E=(function(O){const R=O.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(R)>=0?R:he.UNKNOWN})(x.status);f(new Me(E,x.message))}else f(new Me(he.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Me(he.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Te(hr,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(i);Te(hr,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=rx(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lI(),u=oI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const h=a.join("");Te(hr,`Creating RPC '${e}' stream ${i}: ${h}`,f);const p=o.createWebChannel(h,f);this.I_(p);let y=!1,b=!1;const x=new V7({Yo:S=>{b?Te(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(y||(Te(hr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Te(hr,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),E=(S,O,R)=>{S.listen(O,(P=>{try{R(P)}catch($){setTimeout((()=>{throw $}),0)}}))};return E(p,Bd.EventType.OPEN,(()=>{b||(Te(hr,`RPC '${e}' stream ${i} transport opened.`),x.o_())})),E(p,Bd.EventType.CLOSE,(()=>{b||(b=!0,Te(hr,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(p))})),E(p,Bd.EventType.ERROR,(S=>{b||(b=!0,Bc(hr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),x.a_(new Me(he.UNAVAILABLE,"The operation could not be completed")))})),E(p,Bd.EventType.MESSAGE,(S=>{if(!b){const O=S.data[0];Rt(!!O,16349);const R=O,P=R?.error||R[0]?.error;if(P){Te(hr,`RPC '${e}' stream ${i} received error:`,P);const $=P.status;let D=(function(I){const M=En[I];if(M!==void 0)return zI(M)})($),N=P.message;D===void 0&&(D=he.INTERNAL,N="Unknown error status: "+$+" with message "+P.message),b=!0,x.a_(new Me(D,N)),p.close()}else Te(hr,`RPC '${e}' stream ${i} received:`,O),x.u_(O)}})),E(u,sI.STAT_EVENT,(S=>{S.stat===Hw.PROXY?Te(hr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Hw.NOPROXY&&Te(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t){return new F8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="PersistentStream";class rM{constructor(e,n,r,i,a,o,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(ws(n.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Me(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(QR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Te(QR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class B7 extends rM{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=G8(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Xe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Xe.min():o.readTime?ka(o.readTime):Xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=tx(this.serializer),n.addTarget=(function(a,o){let u;const f=o.target;if(u=Xw(f)?{documents:X8(a,f)}:{query:Q8(a,f).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=HI(a,o.resumeToken);const d=Jw(a,o.expectedCount);d!==null&&(u.expectedCount=d)}else if(o.snapshotVersion.compareTo(Xe.min())>0){u.readTime=_g(a,o.snapshotVersion.toTimestamp());const d=Jw(a,o.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=Z8(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=tx(this.serializer),n.removeTarget=e,this.q_(n)}}class z7 extends rM{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Y8(e.writeResults,e.commitTime),r=ka(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=tx(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>W8(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{}class F7 extends q7{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Me(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,Zw(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(he.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Ho(e,Zw(n,r),i,o,u,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(he.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class H7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au="RemoteStore";class K7{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{vu(this)&&(Te(au,"Restarting streams for network reachability change."),await(async function(f){const d=Je(f);d.Ea.add(4),await Uh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Cy(d)})(this))}))})),this.Ra=new H7(r,i)}}async function Cy(t){if(vu(t))for(const e of t.da)await e(!0)}async function Uh(t){for(const e of t.da)await e(!1)}function iM(t,e){const n=Je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Q1(n)?X1(n):df(n).O_()&&Y1(n,e))}function W1(t,e){const n=Je(t),r=df(n);n.Ia.delete(e),r.O_()&&aM(n,e),n.Ia.size===0&&(r.O_()?r.L_():vu(n)&&n.Ra.set("Unknown"))}function Y1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}df(t).Y_(e)}function aM(t,e){t.Va.Ue(e),df(t).Z_(e)}function X1(t){t.Va=new U8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),df(t).start(),t.Ra.ua()}function Q1(t){return vu(t)&&!df(t).x_()&&t.Ia.size>0}function vu(t){return Je(t).Ea.size===0}function sM(t){t.Va=void 0}async function G7(t){t.Ra.set("Online")}async function W7(t){t.Ia.forEach(((e,n)=>{Y1(t,e)}))}async function Y7(t,e){sM(t),Q1(t)?(t.Ra.ha(e),X1(t)):t.Ra.set("Unknown")}async function X7(t,e,n){if(t.Ra.set("Online"),e instanceof FI&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Te(au,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xg(t,r)}else if(e instanceof rg?t.Va.Ze(e):e instanceof qI?t.Va.st(e):t.Va.tt(e),!n.isEqual(Xe.min()))try{const r=await tM(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const u=a.Va.Tt(o);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const h=a.Ia.get(d);h&&a.Ia.set(d,h.withResumeToken(f.resumeToken,o))}})),u.targetMismatches.forEach(((f,d)=>{const h=a.Ia.get(f);if(!h)return;a.Ia.set(f,h.withResumeToken(ur.EMPTY_BYTE_STRING,h.snapshotVersion)),aM(a,f);const p=new Co(h.target,f,d,h.sequenceNumber);Y1(a,p)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Te(au,"Failed to raise snapshot:",r),await xg(t,r)}}async function xg(t,e,n){if(!ff(e))throw e;t.Ea.add(1),await Uh(t),t.Ra.set("Offline"),n||(n=()=>tM(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(au,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cy(t)}))}function oM(t,e){return e().catch((n=>xg(t,n,e)))}async function jy(t){const e=Je(t),n=qo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:D1;for(;Q7(e);)try{const i=await N7(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,J7(e,i)}catch(i){await xg(e,i)}lM(e)&&uM(e)}function Q7(t){return vu(t)&&t.Ta.length<10}function J7(t,e){t.Ta.push(e);const n=qo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function lM(t){return vu(t)&&!qo(t).x_()&&t.Ta.length>0}function uM(t){qo(t).start()}async function Z7(t){qo(t).ra()}async function eF(t){const e=qo(t);for(const n of t.Ta)e.ea(n.mutations)}async function tF(t,e,n){const r=t.Ta.shift(),i=B1.from(r,e,n);await oM(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await jy(t)}async function nF(t,e){e&&qo(t).X_&&await(async function(r,i){if((function(o){return L8(o)&&o!==he.ABORTED})(i.code)){const a=r.Ta.shift();qo(r).B_(),await oM(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await jy(r)}})(t,e),lM(t)&&uM(t)}async function JR(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Te(au,"RemoteStore received new credentials");const r=vu(n);n.Ea.add(3),await Uh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cy(n)}async function rF(t,e){const n=Je(t);e?(n.Ea.delete(2),await Cy(n)):e||(n.Ea.add(2),await Uh(n),n.Ra.set("Unknown"))}function df(t){return t.ma||(t.ma=(function(n,r,i){const a=Je(n);return a.sa(),new B7(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:G7.bind(null,t),t_:W7.bind(null,t),r_:Y7.bind(null,t),H_:X7.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Q1(t)?X1(t):t.Ra.set("Unknown")):(await t.ma.stop(),sM(t))}))),t.ma}function qo(t){return t.fa||(t.fa=(function(n,r,i){const a=Je(n);return a.sa(),new z7(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Z7.bind(null,t),r_:nF.bind(null,t),ta:eF.bind(null,t),na:tF.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await jy(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(au,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,u=new J1(e,n,o,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z1(t,e){if(ws("AsyncQueue",`${e}: ${t}`),ff(t))return new Me(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{static emptySet(e){return new Dc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=zd(),this.sortedSet=new sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Dc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.ga=new sn(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Kc{constructor(e,n,r,i,a,o,u,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((u=>{o.push({type:0,doc:u})})),new Kc(e,n,Dc.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aF{constructor(){this.queries=eC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Je(n),a=i.queries;i.queries=eC(),a.forEach(((o,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Me(he.ABORTED,"Firestore shutting down"))}}function eC(){return new gu((t=>RI(t)),Sy)}async function cM(t,e){const n=Je(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new iF,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const u=Z1(o,`Initialization of query '${Ec(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&eE(n)}async function fM(t,e){const n=Je(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sF(t,e){const n=Je(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const u of o.Sa)u.Fa(i)&&(r=!0);o.wa=i}}r&&eE(n)}function oF(t,e,n){const r=Je(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function eE(t){t.Ca.forEach((e=>{e.next()}))}var ix,tC;(tC=ix||(ix={})).Ma="default",tC.Cache="cache";class dM{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ix.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.key=e}}class mM{constructor(e){this.key=e}}class lF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ht(),this.mutatedKeys=ht(),this.eu=CI(e),this.tu=new Dc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ZR,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const y=i.get(h),b=Ty(this.query,p)?p:null,x=!!y&&this.mutatedKeys.has(y.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;y&&b?y.data.isEqual(b.data)?x!==E&&(r.track({type:3,doc:b}),S=!0):this.su(y,b)||(r.track({type:2,doc:b}),S=!0,(f&&this.eu(b,f)>0||d&&this.eu(b,d)<0)&&(u=!0)):!y&&b?(r.track({type:0,doc:b}),S=!0):y&&!b&&(r.track({type:1,doc:y}),S=!0,(f||d)&&(u=!0)),S&&(b?(o=o.add(b),a=E?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,p)=>(function(b,x){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:S})}};return E(b)-E(x)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,d=f!==this.Za;return this.Za=f,o.length!==0||d?{snapshot:new Kc(this.query,e.tu,a,o,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ht(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new mM(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new hM(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ht();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Kc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tE="SyncEngine";class uF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cF{constructor(e){this.key=e,this.hu=!1}}class fF{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new gu((u=>RI(u)),Sy),this.Iu=new Map,this.Eu=new Set,this.du=new sn(Be.comparator),this.Au=new Map,this.Ru=new F1,this.Vu={},this.mu=new Map,this.fu=Hc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dF(t,e,n=!0){const r=_M(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await pM(r,e,n,!0),i}async function hF(t,e){const n=_M(t);await pM(n,e,!0,!1)}async function pM(t,e,n,r){const i=await k7(t.localStore,Na(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await mF(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&iM(t.remoteStore,i),u}async function mF(t,e,n,r,i){t.pu=(p,y,b)=>(async function(E,S,O,R){let P=S.view.ru(O);P.Cs&&(P=await GR(E.localStore,S.query,!1).then((({documents:k})=>S.view.ru(k,P))));const $=R&&R.targetChanges.get(S.targetId),D=R&&R.targetMismatches.get(S.targetId)!=null,N=S.view.applyChanges(P,E.isPrimaryClient,$,D);return rC(E,S.targetId,N.au),N.snapshot})(t,p,y,b);const a=await GR(t.localStore,e,!0),o=new lF(e,a.Qs),u=o.ru(a.documents),f=Vh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(u,t.isPrimaryClient,f);rC(t,n,d.au);const h=new uF(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function pF(t,e,n){const r=Je(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!Sy(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await nx(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&W1(r.remoteStore,i.targetId),ax(r,i.targetId)})).catch(cf)):(ax(r,i.targetId),await nx(r.localStore,i.targetId,!0))}async function gF(t,e){const n=Je(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),W1(n.remoteStore,r.targetId))}async function yF(t,e,n){const r=SF(t);try{const i=await(function(o,u){const f=Je(o),d=Qt.now(),h=u.reduce(((b,x)=>b.add(x.key)),ht());let p,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let x=xs(),E=ht();return f.Ns.getEntries(b,h).next((S=>{x=S,x.forEach(((O,R)=>{R.isValidDocument()||(E=E.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,x))).next((S=>{p=S;const O=[];for(const R of u){const P=N8(R,p.get(R.key).overlayedDocument);P!=null&&O.push(new yu(R.key,P,xI(P.value.mapValue),ys.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,O,u)})).next((S=>{y=S;const O=S.applyToLocalDocumentSet(p,E);return f.documentOverlayCache.saveOverlays(b,S.batchId,O)}))})).then((()=>({batchId:y.batchId,changes:NI(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,u,f){let d=o.Vu[o.currentUser.toKey()];d||(d=new sn(dt)),d=d.insert(u,f),o.Vu[o.currentUser.toKey()]=d})(r,i.batchId,n),await Bh(r,i.changes),await jy(r.remoteStore)}catch(i){const a=Z1(i,"Failed to persist write");n.reject(a)}}async function gM(t,e){const n=Je(t);try{const r=await C7(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Rt(o.hu,14607):i.removedDocuments.size>0&&(Rt(o.hu,42227),o.hu=!1))})),await Bh(n,r,e)}catch(r){await cf(r)}}function nC(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const u=o.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(o,u){const f=Je(o);f.onlineState=u;let d=!1;f.queries.forEach(((h,p)=>{for(const y of p.Sa)y.va(u)&&(d=!0)})),d&&eE(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vF(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new sn(Be.comparator);o=o.insert(a,yr.newNoDocument(a,Xe.min()));const u=ht().add(a),f=new Py(Xe.min(),new Map,new sn(dt),o,u);await gM(r,f),r.du=r.du.remove(a),r.Au.delete(e),nE(r)}else await nx(r.localStore,e,!1).then((()=>ax(r,e,n))).catch(cf)}async function bF(t,e){const n=Je(t),r=e.batch.batchId;try{const i=await R7(n.localStore,e);vM(n,r,null),yM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bh(n,i)}catch(i){await cf(i)}}async function _F(t,e,n){const r=Je(t);try{const i=await(function(o,u){const f=Je(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return f.mutationQueue.lookupMutationBatch(d,u).next((p=>(Rt(p!==null,37113),h=p.keys(),f.mutationQueue.removeMutationBatch(d,p)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,h,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>f.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);vM(r,e,n),yM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bh(r,i)}catch(i){await cf(i)}}function yM(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function vM(t,e,n){const r=Je(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function ax(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||bM(t,r)}))}function bM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(W1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),nE(t))}function rC(t,e,n){for(const r of n)r instanceof hM?(t.Ru.addReference(r.key,e),wF(t,r)):r instanceof mM?(Te(tE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||bM(t,r.key)):Ge(19791,{wu:r})}function wF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Te(tE,"New document in limbo: "+n),t.Eu.add(r),nE(t))}function nE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be(Xt.fromString(e)),r=t.fu.next();t.Au.set(r,new cF(n)),t.du=t.du.insert(n,r),iM(t.remoteStore,new Co(Na(V1(n.path)),r,"TargetPurposeLimboResolution",_y.ce))}}async function Bh(t,e,n){const r=Je(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{o.push(r.pu(f,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const h=d?!d.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,h?"current":"not-current")}if(d){i.push(d);const h=K1.As(f.targetId,d);a.push(h)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(f,d){const h=Je(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>de.forEach(d,(y=>de.forEach(y.Es,(b=>h.persistence.referenceDelegate.addReference(p,y.targetId,b))).next((()=>de.forEach(y.ds,(b=>h.persistence.referenceDelegate.removeReference(p,y.targetId,b)))))))))}catch(p){if(!ff(p))throw p;Te(G1,"Failed to update sequence numbers: "+p)}for(const p of d){const y=p.targetId;if(!p.fromCache){const b=h.Ms.get(y),x=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(x);h.Ms=h.Ms.insert(y,E)}}})(r.localStore,a))}async function xF(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Te(tE,"User change. New user:",e.toKey());const r=await eM(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((u=>{u.forEach((f=>{f.reject(new Me(he.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bh(n,r.Ls)}}function EF(t,e){const n=Je(t),r=n.Au.get(e);if(r&&r.hu)return ht().add(r.key);{let i=ht();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const u=n.Tu.get(o);i=i.unionWith(u.view.nu)}return i}}function _M(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vF.bind(null,e),e.Pu.H_=sF.bind(null,e.eventManager),e.Pu.yu=oF.bind(null,e.eventManager),e}function SF(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_F.bind(null,e),e}class Eg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ry(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return P7(this.persistence,new T7,e.initialUser,this.serializer)}Cu(e){return new ZI(H1.mi,this.serializer)}Du(e){return new I7}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eg.provider={build:()=>new Eg};class TF extends Eg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Rt(this.persistence.referenceDelegate instanceof wg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new c7(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new ZI((r=>wg.mi(r,n)),this.serializer)}}class sx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xF.bind(null,this.syncEngine),await rF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aF})()}createDatastore(e){const n=Ry(e.databaseInfo.databaseId),r=(function(a){return new U7(a)})(e.databaseInfo);return(function(a,o,u,f){return new F7(a,o,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,u){return new K7(r,i,a,o,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>nC(this.syncEngine,n,0)),(function(){return XR.v()?new XR:new M7})())}createSyncEngine(e,n){return(function(i,a,o,u,f,d,h){const p=new fF(i,a,o,u,f,d);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Je(n);Te(au,"RemoteStore shutting down."),r.Ea.add(5),await Uh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sx.provider={build:()=>new sx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="FirestoreClient";class AF{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=N1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{Te(Fo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Te(Fo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Z1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lb(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Fo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await eM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function iC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OF(t);Te(Fo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>JR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>JR(e.remoteStore,i))),t._onlineComponents=e}async function OF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Fo,"Using user provided OfflineComponentProvider");try{await Lb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Bc("Error using user provided cache. Falling back to memory cache: "+n),await Lb(t,new Eg)}}else Te(Fo,"Using default OfflineComponentProvider"),await Lb(t,new TF(void 0));return t._offlineComponents}async function xM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Fo,"Using user provided OnlineComponentProvider"),await iC(t,t._uninitializedComponentsProvider._online)):(Te(Fo,"Using default OnlineComponentProvider"),await iC(t,new sx))),t._onlineComponents}function PF(t){return xM(t).then((e=>e.syncEngine))}async function EM(t){const e=await xM(t),n=e.eventManager;return n.onListen=dF.bind(null,e.syncEngine),n.onUnlisten=pF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gF.bind(null,e.syncEngine),n}function RF(t,e,n={}){const r=new gs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,f,d){const h=new wM({next:y=>{h.Nu(),o.enqueueAndForget((()=>fM(a,p)));const b=y.docs.has(u);!b&&y.fromCache?d.reject(new Me(he.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&f&&f.source==="server"?d.reject(new Me(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new dM(V1(u.path),h,{includeMetadataChanges:!0,qa:!0});return cM(a,p)})(await EM(t),t.asyncQueue,e,n,r))),r.promise}function CF(t,e,n={}){const r=new gs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,f,d){const h=new wM({next:y=>{h.Nu(),o.enqueueAndForget((()=>fM(a,p))),y.fromCache&&f.source==="server"?d.reject(new Me(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new dM(u,h,{includeMetadataChanges:!0,qa:!0});return cM(a,p)})(await EM(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="firestore.googleapis.com",sC=!0;class oC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Me(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TM,this.ssl=sC}else this.host=e.host,this.ssl=e.ssl??sC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l7)throw new Me(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Me(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Me(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Me(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ny{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Iq;switch(r.type){case"firstParty":return new Vq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Me(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=aC.get(n);r&&(Te("ComponentProvider","Removing Datastore"),aC.delete(n),r.terminate())})(this),Promise.resolve()}}function jF(t,e,n,r={}){t=iu(t,Ny);const i=P1(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(hz(`https://${u}`),yz("Firestore",!0)),a.host!==TM&&a.host!==u&&Bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:u,ssl:i,emulatorOptions:r};if(!fg(f,o)&&(t._setSettings(f),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=pr.MOCK_USER;else{d=mz(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Me(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new pr(p)}t._authCredentials=new Mq(new cI(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ky(this.firestore,e,this._query)}}class Mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}toJSON(){return{type:Mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lh(n,Mn._jsonSchema))return new Mn(e,r||null,new Be(Xt.fromString(n.referencePath)))}}Mn._jsonSchemaVersion="firestore/documentReference/1.0",Mn._jsonSchema={type:An("string",Mn._jsonSchemaVersion),referencePath:An("string")};class Mo extends ky{constructor(e,n,r){super(e,n,V1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Be(e))}withConverter(e){return new Mo(this.firestore,e,this._path)}}function NF(t,e,...n){if(t=Vc(t),fI("collection","path",e),t instanceof Ny){const r=Xt.fromString(e,...n);return wR(r),new Mo(t,null,r)}{if(!(t instanceof Mn||t instanceof Mo))throw new Me(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return wR(r),new Mo(t.firestore,null,r)}}function Sg(t,e,...n){if(t=Vc(t),arguments.length===1&&(e=N1.newId()),fI("doc","path",e),t instanceof Ny){const r=Xt.fromString(e,...n);return _R(r),new Mn(t,null,new Be(r))}{if(!(t instanceof Mn||t instanceof Mo))throw new Me(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return _R(r),new Mn(t.firestore,t instanceof Mo?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="AsyncQueue";class uC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nM(this,"async_queue_retry"),this._c=()=>{const r=Mb();r&&Te(lC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ff(e))throw e;Te(lC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",cC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=J1.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ge(47125,{Pc:cC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Dy extends Ny{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uC,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uC(e),this._firestoreClient=void 0,await e}}}function kF(t,e){const n=typeof t=="object"?t:eI(),r=typeof t=="string"?t:mg,i=QD(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=fz("firestore");a&&jF(i,...a)}return i}function rE(t){if(t._terminated)throw new Me(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||DF(t),t._firestoreClient}function DF(t){const e=t._freezeSettings(),n=(function(i,a,o,u){return new n8(i,a,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,SM(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new AF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ii(ur.fromBase64String(e))}catch(n){throw new Me(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ii(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lh(e,Ii._jsonSchema))return Ii.fromBase64String(e.bytes)}}Ii._jsonSchemaVersion="firestore/bytes/1.0",Ii._jsonSchema={type:An("string",Ii._jsonSchemaVersion),bytes:An("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Me(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Me(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Me(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Da._jsonSchemaVersion}}static fromJSON(e){if(Lh(e,Da._jsonSchema))return new Da(e.latitude,e.longitude)}}Da._jsonSchemaVersion="firestore/geoPoint/1.0",Da._jsonSchema={type:An("string",Da._jsonSchemaVersion),latitude:An("number"),longitude:An("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ia._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lh(e,Ia._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ia(e.vectorValues);throw new Me(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ia._jsonSchemaVersion="firestore/vectorValue/1.0",Ia._jsonSchema={type:An("string",Ia._jsonSchemaVersion),vectorValues:An("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=/^__.*__$/;class MF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yu(e,this.data,this.fieldMask,n,this.fieldTransforms):new $h(e,this.data,n,this.fieldTransforms)}}function OM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:t})}}class aE{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new aE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OM(this.Ac)&&IF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ry(e)}Cc(e,n,r,i=!1){return new aE({Ac:e,methodName:n,Dc:r,path:lr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $F(t){const e=t._freezeSettings(),n=Ry(t._databaseId);return new LF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VF(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);jM("Data must be an object, but it was:",o,r);const u=RM(r,o);let f,d;if(a.merge)f=new ia(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const y=UF(e,p,n);if(!o.contains(y))throw new Me(he.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);zF(h,y)||h.push(y)}f=new ia(h),d=o.fieldTransforms.filter((p=>f.covers(p.field)))}else f=null,d=o.fieldTransforms;return new MF(new Di(u),f,d)}function PM(t,e){if(CM(t=Vc(t)))return jM("Unsupported field value:",e,t),RM(t,e);if(t instanceof AM)return(function(r,i){if(!OM(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const u of r){let f=PM(u,i.wc(o));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Vc(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Qt.fromDate(r);return{timestampValue:_g(i.serializer,a)}}if(r instanceof Qt){const a=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_g(i.serializer,a)}}if(r instanceof Da)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ii)return{bytesValue:HI(i.serializer,r._byteString)};if(r instanceof Mn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:q1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ia)return(function(o,u){return{mapValue:{fields:{[_I]:{stringValue:wI},[pg]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return U1(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${k1(r)}`)})(t,e)}function RM(t,e){const n={};return mI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pu(t,((r,i)=>{const a=PM(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function CM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof Da||t instanceof Ii||t instanceof Mn||t instanceof AM||t instanceof Ia)}function jM(t,e,n){if(!CM(n)||!dI(n)){const r=k1(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function UF(t,e,n){if((e=Vc(e))instanceof iE)return e._internalPath;if(typeof e=="string")return NM(t,e);throw Tg("Field path arguments must be of type string or ",t,!1,void 0,n)}const BF=new RegExp("[~\\*/\\[\\]]");function NM(t,e,n){if(e.search(BF)>=0)throw Tg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iE(...e.split("."))._internalPath}catch{throw Tg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tg(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||o)&&(f+=" (found",a&&(f+=` in field ${r}`),o&&(f+=` in document ${i}`),f+=")"),new Me(he.INVALID_ARGUMENT,u+t+f)}function zF(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(DM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qF extends kM{data(){return super.data()}}function DM(t,e){return typeof e=="string"?NM(t,e):e instanceof iE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HF{convertValue(e,n="none"){switch(zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pu(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[pg].arrayValue?.values?.map((r=>pn(r.doubleValue)));return new Ia(n)}convertGeoPoint(e){return new Da(pn(e.latitude),pn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dh(e));default:return null}}convertTimestamp(e){const n=Uo(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xt.fromString(e);Rt(QI(r),9688,{name:e});const i=new hh(r.get(1),r.get(3)),a=new Be(r.popFirst(5));return i.isEqual(n)||ws(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Fd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xl extends kM{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ig(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(DM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xl._jsonSchema={type:An("string",Xl._jsonSchemaVersion),bundleSource:An("string","DocumentSnapshot"),bundleName:An("string"),bundle:An("string")};class ig extends Xl{data(e={}){return super.data(e)}}class Ic{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ig(this._firestore,this._userDataWriter,r.key,r,new Fd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((u=>{const f=new ig(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const f=new ig(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return u.type!==0&&(d=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),h=o.indexOf(u.doc.key)),{type:GF(u.type),doc:f,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ic._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=N1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){t=iu(t,Mn);const e=iu(t.firestore,Dy);return RF(rE(e),t._key).then((n=>XF(e,t,n)))}Ic._jsonSchemaVersion="firestore/querySnapshot/1.0",Ic._jsonSchema={type:An("string",Ic._jsonSchemaVersion),bundleSource:An("string","QuerySnapshot"),bundleName:An("string"),bundle:An("string")};class MM extends HF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ii(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function WF(t){t=iu(t,ky);const e=iu(t.firestore,Dy),n=rE(e),r=new MM(e);return FF(t._query),CF(n,t._query).then((i=>new Ic(e,r,t,i)))}function fC(t,e,n){t=iu(t,Mn);const r=iu(t.firestore,Dy),i=KF(t.converter,e,n);return YF(r,[VF($F(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ys.none())])}function YF(t,e){return(function(r,i){const a=new gs;return r.asyncQueue.enqueueAndForget((async()=>yF(await PF(r),i,a))),a.promise})(rE(t),e)}function XF(t,e,n){const r=n.docs.get(e._key),i=new MM(t);return new Xl(t,i,e._key,r,new Fd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){uf=i})(Sq),uh(new Uc("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),u=new Dy(new Lq(r.getProvider("auth-internal")),new Uq(o,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Me(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hh(d.options.projectId,h)})(o,i),o);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Do(gR,yR,e),Do(gR,yR,"esm2020")})();var dC="@firebase/ai",ox="2.1.0";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="AI",hC="us-central1",QF="https://firebasevertexai.googleapis.com",JF="v1beta",mC=ox,ZF="gl-js",eH=180*1e3,tH="gemini-2.0-flash-lite";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=["user","model","function","system"],LM={HARM_SEVERITY_UNSUPPORTED:"HARM_SEVERITY_UNSUPPORTED"},gC={SAFETY:"SAFETY",RECITATION:"RECITATION"},yC={ONLY_ON_DEVICE:"only_on_device",ONLY_IN_CLOUD:"only_in_cloud"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={ERROR:"error",REQUEST_ERROR:"request-error",RESPONSE_ERROR:"response-error",FETCH_ERROR:"fetch-error",INVALID_CONTENT:"invalid-content",API_NOT_ENABLED:"api-not-enabled",INVALID_SCHEMA:"invalid-schema",NO_API_KEY:"no-api-key",NO_APP_ID:"no-app-id",NO_MODEL:"no-model",NO_PROJECT_ID:"no-project-id",PARSE_FAILED:"parse-failed",UNSUPPORTED:"unsupported"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.backendType=e}}class zh extends $M{constructor(){super(js.GOOGLE_AI)}}class Iy extends $M{constructor(e=hC){super(js.VERTEX_AI),e?this.location=e:this.location=hC}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e,n,r,i){this.app=e,this.backend=n;const a=i?.getImmediate({optional:!0}),o=r?.getImmediate({optional:!0});this.auth=o||null,this.appCheck=a||null,n instanceof Iy?this.location=n.location:this.location=""}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends mu{constructor(e,n,r){const i=Gc,a=`${i}/${e}`,o=`${i}: ${n} (${a})`;super(e,o),this.code=e,this.customErrorData=r,Error.captureStackTrace&&Error.captureStackTrace(this,it),Object.setPrototypeOf(this,it.prototype),this.toString=()=>o}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(t){if(t instanceof zh)return`${Gc}/googleai`;if(t instanceof Iy)return`${Gc}/vertexai/${t.location}`;throw new it(st.ERROR,`Invalid backend: ${JSON.stringify(t.backendType)}`)}function iH(t){const e=t.split("/");if(e[0]!==Gc)throw new it(st.ERROR,`Invalid instance identifier, unknown prefix '${e[0]}'`);switch(e[1]){case"vertexai":const r=e[2];if(!r)throw new it(st.ERROR,`Invalid instance identifier, unknown location '${t}'`);return new Iy(r);case"googleai":return new zh;default:throw new it(st.ERROR,`Invalid instance identifier string: '${t}'`)}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){if(e.app?.options?.apiKey)if(e.app?.options?.projectId)if(e.app?.options?.appId){if(this._apiSettings={apiKey:e.app.options.apiKey,project:e.app.options.projectId,appId:e.app.options.appId,automaticDataCollectionEnabled:e.app.automaticDataCollectionEnabled,location:e.location,backend:e.backend},JD(e.app)&&e.app.settings.appCheckToken){const r=e.app.settings.appCheckToken;this._apiSettings.getAppCheckToken=()=>Promise.resolve({token:r})}else e.appCheck&&(this._apiSettings.getAppCheckToken=()=>e.appCheck.getToken());e.auth&&(this._apiSettings.getAuthToken=()=>e.auth.getToken()),this.model=Zd.normalizeModelName(n,this._apiSettings.backend.backendType)}else throw new it(st.NO_APP_ID,'The "appId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid app ID.');else throw new it(st.NO_PROJECT_ID,'The "projectId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid project ID.');else throw new it(st.NO_API_KEY,'The "apiKey" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid API key.')}static normalizeModelName(e,n){return n===js.GOOGLE_AI?Zd.normalizeGoogleAIModelName(e):Zd.normalizeVertexAIModelName(e)}static normalizeGoogleAIModelName(e){return`models/${e}`}static normalizeVertexAIModelName(e){let n;return e.includes("/")?e.startsWith("models/")?n=`publishers/google/${e}`:n=e:n=`publishers/google/models/${e}`,n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new R1("@firebase/vertexai");/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yh;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.PREDICT="predict"})(yh||(yh={}));class VM{constructor(e,n,r,i,a){this.model=e,this.task=n,this.apiSettings=r,this.stream=i,this.requestOptions=a}toString(){const e=new URL(this.baseUrl);return e.pathname=`/${this.apiVersion}/${this.modelPath}:${this.task}`,e.search=this.queryParams.toString(),e.toString()}get baseUrl(){return this.requestOptions?.baseUrl||QF}get apiVersion(){return JF}get modelPath(){if(this.apiSettings.backend instanceof zh)return`projects/${this.apiSettings.project}/${this.model}`;if(this.apiSettings.backend instanceof Iy)return`projects/${this.apiSettings.project}/locations/${this.apiSettings.backend.location}/${this.model}`;throw new it(st.ERROR,`Invalid backend: ${JSON.stringify(this.apiSettings.backend)}`)}get queryParams(){const e=new URLSearchParams;return this.stream&&e.set("alt","sse"),e}}function aH(){const t=[];return t.push(`${ZF}/${mC}`),t.push(`fire/${mC}`),t.join(" ")}async function sH(t){const e=new Headers;if(e.append("Content-Type","application/json"),e.append("x-goog-api-client",aH()),e.append("x-goog-api-key",t.apiSettings.apiKey),t.apiSettings.automaticDataCollectionEnabled&&e.append("X-Firebase-Appid",t.apiSettings.appId),t.apiSettings.getAppCheckToken){const n=await t.apiSettings.getAppCheckToken();n&&(e.append("X-Firebase-AppCheck",n.token),n.error&&gr.warn(`Unable to obtain a valid App Check token: ${n.error.message}`))}if(t.apiSettings.getAuthToken){const n=await t.apiSettings.getAuthToken();n&&e.append("Authorization",`Firebase ${n.accessToken}`)}return e}async function oH(t,e,n,r,i,a){const o=new VM(t,e,n,r,a);return{url:o.toString(),fetchOptions:{method:"POST",headers:await sH(o),body:i}}}async function sE(t,e,n,r,i,a){const o=new VM(t,e,n,r,a);let u,f;try{const d=await oH(t,e,n,r,i,a),h=a?.timeout!=null&&a.timeout>=0?a.timeout:eH,p=new AbortController;if(f=setTimeout(()=>p.abort(),h),d.fetchOptions.signal=p.signal,u=await fetch(d.url,d.fetchOptions),!u.ok){let y="",b;try{const x=await u.json();y=x.error.message,x.error.details&&(y+=` ${JSON.stringify(x.error.details)}`,b=x.error.details)}catch{}throw u.status===403&&b&&b.some(x=>x.reason==="SERVICE_DISABLED")&&b.some(x=>x.links?.[0]?.description.includes("Google developers console API activation"))?new it(st.API_NOT_ENABLED,`The Firebase AI SDK requires the Firebase AI API ('firebasevertexai.googleapis.com') to be enabled in your Firebase project. Enable this API by visiting the Firebase Console at https://console.firebase.google.com/project/${o.apiSettings.project}/genai/ and clicking "Get started". If you enabled this API recently, wait a few minutes for the action to propagate to our systems and then retry.`,{status:u.status,statusText:u.statusText,errorDetails:b}):new it(st.FETCH_ERROR,`Error fetching from ${o}: [${u.status} ${u.statusText}] ${y}`,{status:u.status,statusText:u.statusText,errorDetails:b})}}catch(d){let h=d;throw d.code!==st.FETCH_ERROR&&d.code!==st.API_NOT_ENABLED&&d instanceof Error&&(h=new it(st.ERROR,`Error fetching from ${o.toString()}: ${d.message}`),h.stack=d.stack),h}finally{f&&clearTimeout(f)}return u}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t){return t.candidates&&!t.candidates[0].hasOwnProperty("index")&&(t.candidates[0].index=0),lH(t)}function lH(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&gr.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),ag(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${So(t)}. Response body stored in error.response`,{response:t});return uH(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Text not available. ${So(t)}`,{response:t});return""},t.inlineDataParts=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&gr.warn(`This response had ${t.candidates.length} candidates. Returning data from the first candidate only. Access response.candidates directly to use the other candidates.`),ag(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${So(t)}. Response body stored in error.response`,{response:t});return fH(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Data not available. ${So(t)}`,{response:t})},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&gr.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ag(t.candidates[0]))throw new it(st.RESPONSE_ERROR,`Response error: ${So(t)}. Response body stored in error.response`,{response:t});return cH(t)}else if(t.promptFeedback)throw new it(st.RESPONSE_ERROR,`Function call not available. ${So(t)}`,{response:t})},t}function uH(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.text&&e.push(n.text);return e.length>0?e.join(""):""}function cH(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.functionCall&&e.push(n.functionCall);if(e.length>0)return e}function fH(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.inlineData&&e.push(n);if(e.length>0)return e}const dH=[gC.RECITATION,gC.SAFETY];function ag(t){return!!t.finishReason&&dH.some(e=>e===t.finishReason)}function So(t){let e="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)e+="Response was blocked",t.promptFeedback?.blockReason&&(e+=` due to ${t.promptFeedback.blockReason}`),t.promptFeedback?.blockReasonMessage&&(e+=`: ${t.promptFeedback.blockReasonMessage}`);else if(t.candidates?.[0]){const n=t.candidates[0];ag(n)&&(e+=`Candidate was blocked due to ${n.finishReason}`,n.finishMessage&&(e+=`: ${n.finishMessage}`))}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t){if(t.safetySettings?.forEach(e=>{if(e.method)throw new it(st.UNSUPPORTED,"SafetySetting.method is not supported in the the Gemini Developer API. Please remove this property.")}),t.generationConfig?.topK){const e=Math.round(t.generationConfig.topK);e!==t.generationConfig.topK&&(gr.warn("topK in GenerationConfig has been rounded to the nearest integer to match the format for requests to the Gemini Developer API."),t.generationConfig.topK=e)}return t}function oE(t){return{candidates:t.candidates?mH(t.candidates):void 0,prompt:t.promptFeedback?pH(t.promptFeedback):void 0,usageMetadata:t.usageMetadata}}function hH(t,e){return{generateContentRequest:{model:e,...t}}}function mH(t){const e=[];let n;return e&&t.forEach(r=>{let i;if(r.citationMetadata&&(i={citations:r.citationMetadata.citationSources}),r.safetyRatings&&(n=r.safetyRatings.map(o=>({...o,severity:o.severity??LM.HARM_SEVERITY_UNSUPPORTED,probabilityScore:o.probabilityScore??0,severityScore:o.severityScore??0}))),r.content?.parts.some(o=>o?.videoMetadata))throw new it(st.UNSUPPORTED,"Part.videoMetadata is not supported in the Gemini Developer API. Please remove this property.");const a={index:r.index,content:r.content,finishReason:r.finishReason,finishMessage:r.finishMessage,safetyRatings:n,citationMetadata:i,groundingMetadata:r.groundingMetadata};e.push(a)}),e}function pH(t){const e=[];return t.safetyRatings.forEach(r=>{e.push({category:r.category,probability:r.probability,severity:r.severity??LM.HARM_SEVERITY_UNSUPPORTED,probabilityScore:r.probabilityScore??0,severityScore:r.severityScore??0,blocked:r.blocked})}),{blockReason:t.blockReason,safetyRatings:e,blockReasonMessage:t.blockReasonMessage}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function gH(t,e){const n=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=bH(n),[i,a]=r.tee();return{stream:vH(i,e),response:yH(a,e)}}async function yH(t,e){const n=[],r=t.getReader();for(;;){const{done:i,value:a}=await r.read();if(i){let o=_H(n);return e.backend.backendType===js.GOOGLE_AI&&(o=oE(o)),Ag(o)}n.push(a)}}async function*vH(t,e){const n=t.getReader();for(;;){const{value:r,done:i}=await n.read();if(i)break;let a;e.backend.backendType===js.GOOGLE_AI?a=Ag(oE(r)):a=Ag(r),yield a}}function bH(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return e.read().then(({value:o,done:u})=>{if(u){if(i.trim()){r.error(new it(st.PARSE_FAILED,"Failed to parse stream"));return}r.close();return}i+=o;let f=i.match(vC),d;for(;f;){try{d=JSON.parse(f[1])}catch{r.error(new it(st.PARSE_FAILED,`Error parsing JSON response: "${f[1]}`));return}r.enqueue(d),i=i.substring(f[0].length),f=i.match(vC)}return a()})}}})}function _H(t){const n={promptFeedback:t[t.length-1]?.promptFeedback};for(const r of t)if(r.candidates)for(const i of r.candidates){const a=i.index||0;if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:i.index}),n.candidates[a].citationMetadata=i.citationMetadata,n.candidates[a].finishReason=i.finishReason,n.candidates[a].finishMessage=i.finishMessage,n.candidates[a].safetyRatings=i.safetyRatings,n.candidates[a].groundingMetadata=i.groundingMetadata,i.content&&i.content.parts){n.candidates[a].content||(n.candidates[a].content={role:i.content.role||"user",parts:[]});const o={};for(const u of i.content.parts){if(u.text!==void 0){if(u.text==="")continue;o.text=u.text}if(u.functionCall&&(o.functionCall=u.functionCall),Object.keys(o).length===0)throw new it(st.INVALID_CONTENT,"Part should have at least one property, but there are none. This is likely caused by a malformed response from the backend.");n.candidates[a].content.parts.push(o)}}}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wH(t,e,n,r){return t.backend.backendType===js.GOOGLE_AI&&(n=UM(n)),sE(e,yh.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r)}async function BM(t,e,n,r,i){let a;return r&&await r.isAvailable(n)?a=await r.generateContentStream(n):a=await wH(t,e,n,i),gH(a,t)}async function xH(t,e,n,r){return t.backend.backendType===js.GOOGLE_AI&&(n=UM(n)),sE(e,yh.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)}async function zM(t,e,n,r,i){let a;r&&await r.isAvailable(n)?a=await r.generateContent(n):a=await xH(t,e,n,i);const o=await EH(a,t);return{response:Ag(o)}}async function EH(t,e){const n=await t.json();return e.backend.backendType===js.GOOGLE_AI?oE(n):n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function lx(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return SH(e)}function SH(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),i=!0):(e.parts.push(a),r=!0);if(r&&i)throw new it(st.INVALID_CONTENT,"Within a single message, FunctionResponse cannot be mixed with other type of Part in the request for sending chat message.");if(!r&&!i)throw new it(st.INVALID_CONTENT,"No Content is provided for sending chat message.");return r?e:n}function $b(t){let e;return t.contents?e=t:e={contents:[lx(t)]},t.systemInstruction&&(e.systemInstruction=qM(t.systemInstruction)),e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=["text","inlineData","functionCall","functionResponse"],TH={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]},_C={user:["model"],function:["model"],model:["user","function"],system:[]};function AH(t){let e=null;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new it(st.INVALID_CONTENT,`First Content should be with role 'user', got ${r}`);if(!pC.includes(r))throw new it(st.INVALID_CONTENT,`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(pC)}`);if(!Array.isArray(i))throw new it(st.INVALID_CONTENT,"Content should have 'parts' but property with an array of Parts");if(i.length===0)throw new it(st.INVALID_CONTENT,"Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0};for(const u of i)for(const f of bC)f in u&&(a[f]+=1);const o=TH[r];for(const u of bC)if(!o.includes(u)&&a[u]>0)throw new it(st.INVALID_CONTENT,`Content with role '${r}' can't contain '${u}' part`);if(e&&!_C[r].includes(e.role))throw new it(st.INVALID_CONTENT,`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(_C)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="SILENT_ERROR";class OH{constructor(e,n,r,i,a){this.model=n,this.chromeAdapter=r,this.params=i,this.requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiSettings=e,i?.history&&(AH(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){await this._sendPromise;const n=lx(e),r={safetySettings:this.params?.safetySettings,generationConfig:this.params?.generationConfig,tools:this.params?.tools,toolConfig:this.params?.toolConfig,systemInstruction:this.params?.systemInstruction,contents:[...this._history,n]};let i={};return this._sendPromise=this._sendPromise.then(()=>zM(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions)).then(a=>{if(a.response.candidates&&a.response.candidates.length>0){this._history.push(n);const o={parts:a.response.candidates?.[0].content.parts||[],role:a.response.candidates?.[0].content.role||"model"};this._history.push(o)}else{const o=So(a.response);o&&gr.warn(`sendMessage() was unsuccessful. ${o}. Inspect response object for details.`)}i=a}),await this._sendPromise,i}async sendMessageStream(e){await this._sendPromise;const n=lx(e),r={safetySettings:this.params?.safetySettings,generationConfig:this.params?.generationConfig,tools:this.params?.tools,toolConfig:this.params?.toolConfig,systemInstruction:this.params?.systemInstruction,contents:[...this._history,n]},i=BM(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>i).catch(a=>{throw new Error(wC)}).then(a=>a.response).then(a=>{if(a.candidates&&a.candidates.length>0){this._history.push(n);const o={...a.candidates[0].content};o.role||(o.role="model"),this._history.push(o)}else{const o=So(a);o&&gr.warn(`sendMessageStream() was unsuccessful. ${o}. Inspect response object for details.`)}}).catch(a=>{a.message!==wC&&gr.error(a)}),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PH(t,e,n,r){let i="";if(t.backend.backendType===js.GOOGLE_AI){const o=hH(n,e);i=JSON.stringify(o)}else i=JSON.stringify(n);return(await sE(e,yh.COUNT_TOKENS,t,!1,i,r)).json()}async function RH(t,e,n,r,i){return r&&await r.isAvailable(n)?(await r.countTokens(n)).json():PH(t,e,n,i)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH extends Zd{constructor(e,n,r,i){super(e,n.model),this.chromeAdapter=i,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=qM(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=$b(e);return zM(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}async generateContentStream(e){const n=$b(e);return BM(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}startChat(e){return new OH(this._apiSettings,this.model,this.chromeAdapter,{tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,generationConfig:this.generationConfig,safetySettings:this.safetySettings,...e},this.requestOptions)}async countTokens(e){const n=$b(e);return RH(this._apiSettings,this.model,n,this.chromeAdapter)}}var Vl;(function(t){t.UNAVAILABLE="unavailable",t.DOWNLOADABLE="downloadable",t.DOWNLOADING="downloading",t.AVAILABLE="available"})(Vl||(Vl={}));/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,r={createOptions:{expectedInputs:[{type:"image"}]}}){this.languageModelProvider=e,this.mode=n,this.onDeviceParams=r,this.isDownloading=!1}async isAvailable(e){if(!this.mode)return gr.debug("On-device inference unavailable because mode is undefined."),!1;if(this.mode===yC.ONLY_IN_CLOUD)return gr.debug('On-device inference unavailable because mode is "only_in_cloud".'),!1;const n=await this.downloadIfAvailable();if(this.mode===yC.ONLY_ON_DEVICE){if(n===Vl.UNAVAILABLE)throw new it(st.API_NOT_ENABLED,"Local LanguageModel API not available in this environment.");return(n===Vl.DOWNLOADABLE||n===Vl.DOWNLOADING)&&(gr.debug("Waiting for download of LanguageModel to complete."),await this.downloadPromise),!0}return n!==Vl.AVAILABLE?(gr.debug(`On-device inference unavailable because availability is "${n}".`),!1):Ji.isOnDeviceRequest(e)?!0:(gr.debug("On-device inference unavailable because request is incompatible."),!1)}async generateContent(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Ji.toLanguageModelMessage)),i=await n.prompt(r,this.onDeviceParams.promptOptions);return Ji.toResponse(i)}async generateContentStream(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Ji.toLanguageModelMessage)),i=n.promptStreaming(r,this.onDeviceParams.promptOptions);return Ji.toStreamResponse(i)}async countTokens(e){throw new it(st.REQUEST_ERROR,"Count Tokens is not yet available for on-device model.")}static isOnDeviceRequest(e){if(e.contents.length===0)return gr.debug("Empty prompt rejected for on-device inference."),!1;for(const n of e.contents){if(n.role==="function")return gr.debug('"Function" role rejected for on-device inference.'),!1;for(const r of n.parts)if(r.inlineData&&Ji.SUPPORTED_MIME_TYPES.indexOf(r.inlineData.mimeType)===-1)return gr.debug(`Unsupported mime type "${r.inlineData.mimeType}" rejected for on-device inference.`),!1}return!0}async downloadIfAvailable(){const e=await this.languageModelProvider?.availability(this.onDeviceParams.createOptions);return e===Vl.DOWNLOADABLE&&this.download(),e}download(){this.isDownloading||(this.isDownloading=!0,this.downloadPromise=this.languageModelProvider?.create(this.onDeviceParams.createOptions).finally(()=>{this.isDownloading=!1}))}static async toLanguageModelMessage(e){const n=await Promise.all(e.parts.map(Ji.toLanguageModelMessageContent));return{role:Ji.toLanguageModelMessageRole(e.role),content:n}}static async toLanguageModelMessageContent(e){if(e.text)return{type:"text",value:e.text};if(e.inlineData){const r=await(await fetch(`data:${e.inlineData.mimeType};base64,${e.inlineData.data}`)).blob();return{type:"image",value:await createImageBitmap(r)}}throw new it(st.REQUEST_ERROR,"Processing of this Part type is not currently supported.")}static toLanguageModelMessageRole(e){return e==="model"?"assistant":"user"}async createSession(){if(!this.languageModelProvider)throw new it(st.UNSUPPORTED,"Chrome AI requested for unsupported browser version.");const e=await this.languageModelProvider.create(this.onDeviceParams.createOptions);return this.oldSession&&this.oldSession.destroy(),this.oldSession=e,e}static toResponse(e){return{json:async()=>({candidates:[{content:{parts:[{text:e}]}}]})}}static toStreamResponse(e){const n=new TextEncoder;return{body:e.pipeThrough(new TransformStream({transform(r,i){const a=JSON.stringify({candidates:[{content:{role:"model",parts:[{text:r}]}}]});i.enqueue(n.encode(`data: ${a}

`))}}))}}}Ji.SUPPORTED_MIME_TYPES=["image/jpeg","image/png"];/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(t=eI(),e={backend:new zh}){t=Vc(t);const n=QD(t,Gc),r=rH(e.backend);return n.getImmediate({identifier:r})}function FM(t,e,n){const r=e;let i;if(r.mode?i=r.inCloudParams||{model:tH}:i=e,!i.model)throw new it(st.NO_MODEL,"Must provide a model name. Example: getGenerativeModel({ model: 'my-model-name' })");let a;return typeof window<"u"&&r.mode&&(a=new Ji(window.LanguageModel,r.mode,r.onDeviceParams)),new CH(t,i,n,a)}function NH(){uh(new Uc(Gc,(t,{instanceIdentifier:e})=>{if(!e)throw new it(st.ERROR,"AIService instance identifier is undefined.");const n=iH(e),r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new nH(r,n,i,a)},"PUBLIC").setMultipleInstances(!0)),Do(dC,ox),Do(dC,ox,"esm2020")}NH();var kH="firebase",DH="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Do(kH,DH,"app");const IH={apiKey:"AIzaSyCwWrLjCbvrbWeEKCdz6X1kQsRqudLogvk",authDomain:"robotics-3c92c.firebaseapp.com",projectId:"robotics-3c92c",storageBucket:"robotics-3c92c.firebasestorage.app",messagingSenderId:"286446162060",appId:"1:286446162060:web:30976ed5981cb902d4eba9",measurementId:"G-LMVZ79XKBW"},HM=ZD(IH),vh=kF(HM),KM=jH(HM,{backend:new zh}),jo=["team_number","opr","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","auto_made_net","auto_missed_net","auto_made_processor","auto_l4","auto_l3","auto_l2","auto_l1","auto_missed_coral","tele_made_net","tele_missed_net","tele_processor","tele_l4","tele_l3","tele_l2","tele_l1","tele_missed_coral","driver_rating"],xC=["opr","team_number","match_number","driver_station","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","auto_mobility","auto_made_net","auto_missed_net","auto_made_processor","auto_l4","auto_l3","auto_l2","auto_l1","auto_missed_coral","tele_made_net","tele_missed_net","tele_processor","tele_l4","tele_l3","tele_l2","tele_l1","tele_missed_coral","endgame_type","comments","lost_comms","auto_start_position","driver_rating","disabled"];function GM(t){if(t.length===0)return 0;const e=[...t].sort((r,i)=>r-i),n=Math.floor(e.length/2);return e.length%2===0?(e[n-1]+e[n])/2:e[n]}function MH(t){if(t.length===0)return 0;const e=[...t].sort((r,i)=>r-i),n=e.slice(Math.ceil(e.length/2));return GM(n)}const LH=t=>t.length?t.reduce((e,n)=>e+n,0)/t.length:0,$H="modulepreload",VH=function(t){return"/ScoutingOffseason2025/"+t},EC={},qh=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var o=d;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");i=d(n.map(h=>{if(h=VH(h),h in EC)return;EC[h]=!0;const p=h.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":$H,p||(b.as="script"),b.crossOrigin="",b.href=h,f&&b.setAttribute("nonce",f),document.head.appendChild(b),p)return new Promise((x,E)=>{b.addEventListener("load",x),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return i.then(u=>{for(const f of u||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})},UH=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qh(async()=>{const{default:r}=await Promise.resolve().then(()=>hf);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class lE extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class SC extends lE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class TC extends lE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class AC extends lE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ux;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ux||(ux={}));var BH=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};class zH{constructor(e,{headers:n={},customFetch:r,region:i=ux.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=UH(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return BH(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:a,method:o,body:u,signal:f}=r;let d={},{region:h}=r;h||(h=this.region);const p=new URL(`${this.url}/${n}`);h&&h!=="any"&&(d["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(d["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(d["Content-Type"]="application/json",y=JSON.stringify(u)));const b=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:y,signal:f}).catch(O=>{throw O.name==="AbortError"?O:new SC(O)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new TC(b);if(!b.ok)throw new AC(b);let E=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return E==="application/json"?S=yield b.json():E==="application/octet-stream"?S=yield b.blob():E==="text/event-stream"?S=b:E==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new SC(a)}:{data:null,error:a,response:a instanceof AC||a instanceof TC?a.context:void 0}}})}}var Gn={},uc={},cc={},fc={},dc={},hc={},qH=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wc=qH();const FH=Wc.fetch,WM=Wc.fetch.bind(Wc),YM=Wc.Headers,HH=Wc.Request,KH=Wc.Response,hf=Object.freeze(Object.defineProperty({__proto__:null,Headers:YM,Request:HH,Response:KH,default:WM,fetch:FH},Symbol.toStringTag,{value:"Module"})),GH=DV(hf);var Cp={},OC;function XM(){if(OC)return Cp;OC=1,Object.defineProperty(Cp,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Cp.default=t,Cp}var PC;function QM(){if(PC)return hc;PC=1;var t=hc&&hc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(hc,"__esModule",{value:!0});const e=t(GH),n=t(XM());class r{constructor(a){var o,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,p,y,b;let x=null,E=null,S=null,O=d.status,R=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?E=N:E=JSON.parse(N))}const $=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),D=(y=d.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");$&&D&&D.length>1&&(S=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(x={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,S=null,O=406,R="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const $=await d.text();try{x=JSON.parse($),Array.isArray(x)&&d.status===404&&(E=[],x=null,O=200,R="OK")}catch{d.status===404&&$===""?(O=204,R="No Content"):x={message:$}}if(x&&this.isMaybeSingle&&(!((b=x?.details)===null||b===void 0)&&b.includes("0 rows"))&&(x=null,O=200,R="OK"),x&&this.shouldThrowOnError)throw new n.default(x)}return{error:x,data:E,count:S,status:O,statusText:R}});return this.shouldThrowOnError||(f=f.catch(d=>{var h,p,y;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(p=d?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=d?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),f.then(a,o)}returns(){return this}overrideTypes(){return this}}return hc.default=r,hc}var RC;function JM(){if(RC)return dc;RC=1;var t=dc&&dc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dc,"__esModule",{value:!0});const e=t(QM());class n extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:u,referencedTable:f=u}={}){const d=f?`${f}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:u=o}={}){const f=typeof u>"u"?"offset":`${u}.offset`,d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:u=!1,wal:f=!1,format:d="text"}={}){var h;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${y}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return dc.default=n,dc}var CC;function uE(){if(CC)return fc;CC=1;var t=fc&&fc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fc,"__esModule",{value:!0});const e=t(JM());class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${f}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return fc.default=n,fc}var jC;function ZM(){if(jC)return cc;jC=1;var t=cc&&cc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cc,"__esModule",{value:!0});const e=t(uE());class n{constructor(i,{headers:a={},schema:o,fetch:u}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=u}select(i,a){const{head:o=!1,count:u}=a??{},f=o?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var u;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:u,defaultToNull:f=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:a}={}){var o;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return cc.default=n,cc}var NC;function WH(){if(NC)return uc;NC=1;var t=uc&&uc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(uc,"__esModule",{value:!0});const e=t(ZM()),n=t(uE());class r{constructor(a,{headers:o={},schema:u,fetch:f}={}){this.url=a,this.headers=new Headers(o),this.schemaName=u,this.fetch=f}from(a){const o=new URL(`${this.url}/${a}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:u=!1,get:f=!1,count:d}={}){var h;let p;const y=new URL(`${this.url}/rpc/${a}`);let b;u||f?(p=u?"HEAD":"GET",Object.entries(o).filter(([E,S])=>S!==void 0).map(([E,S])=>[E,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([E,S])=>{y.searchParams.append(E,S)})):(p="POST",b=o);const x=new Headers(this.headers);return d&&x.set("Prefer",`count=${d}`),new n.default({method:p,url:y,headers:x,schema:this.schemaName,body:b,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return uc.default=r,uc}var kC;function YH(){if(kC)return Gn;kC=1;var t=Gn&&Gn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.PostgrestError=Gn.PostgrestBuilder=Gn.PostgrestTransformBuilder=Gn.PostgrestFilterBuilder=Gn.PostgrestQueryBuilder=Gn.PostgrestClient=void 0;const e=t(WH());Gn.PostgrestClient=e.default;const n=t(ZM());Gn.PostgrestQueryBuilder=n.default;const r=t(uE());Gn.PostgrestFilterBuilder=r.default;const i=t(JM());Gn.PostgrestTransformBuilder=i.default;const a=t(QM());Gn.PostgrestBuilder=a.default;const o=t(XM());return Gn.PostgrestError=o.default,Gn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Gn}var XH=YH();const QH=ci(XH),{PostgrestClient:JH,PostgrestQueryBuilder:che,PostgrestFilterBuilder:fhe,PostgrestTransformBuilder:dhe,PostgrestBuilder:hhe,PostgrestError:mhe}=QH;class ZH{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const eK="2.75.0",tK=`realtime-js/${eK}`,nK="1.0.0",cx=1e4,rK=1e3,iK=100;var eh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(eh||(eh={}));var Dn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Dn||(Dn={}));var Zi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Zi||(Zi={}));var fx;(function(t){t.websocket="websocket"})(fx||(fx={}));var Ul;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ul||(Ul={}));class aK{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const u=r.decode(e.slice(o,o+i));o=o+i;const f=r.decode(e.slice(o,o+a));o=o+a;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:u,event:f,payload:d}}}class e4{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Gt||(Gt={}));const DC=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=sK(o,t,e,i),a),{}):{}},sK=(t,e,n,r)=>{const i=e.find(u=>u.name===t),a=i?.type,o=n[t];return a&&!r.includes(a)?t4(a,o):dx(o)},t4=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return cK(e,n)}switch(t){case Gt.bool:return oK(e);case Gt.float4:case Gt.float8:case Gt.int2:case Gt.int4:case Gt.int8:case Gt.numeric:case Gt.oid:return lK(e);case Gt.json:case Gt.jsonb:return uK(e);case Gt.timestamp:return fK(e);case Gt.abstime:case Gt.date:case Gt.daterange:case Gt.int4range:case Gt.int8range:case Gt.money:case Gt.reltime:case Gt.text:case Gt.time:case Gt.timestamptz:case Gt.timetz:case Gt.tsrange:case Gt.tstzrange:return dx(e);default:return dx(e)}},dx=t=>t,oK=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},lK=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},uK=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},cK=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(u=>t4(e,u))}return t},fK=t=>typeof t=="string"?t.replace(" ","T"):t,n4=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Vb{constructor(e,n,r={},i=cx){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var IC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(IC||(IC={}));class th{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=th.syncState(this.state,i,a,o),this.pendingDiffs.forEach(f=>{this.state=th.syncDiff(this.state,f,a,o)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=th.syncDiff(this.state,i,a,o),u())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),u={},f={};return this.map(a,(d,h)=>{o[d]||(f[d]=h)}),this.map(o,(d,h)=>{const p=a[d];if(p){const y=h.map(S=>S.presence_ref),b=p.map(S=>S.presence_ref),x=h.filter(S=>b.indexOf(S.presence_ref)<0),E=p.filter(S=>y.indexOf(S.presence_ref)<0);x.length>0&&(u[d]=x),E.length>0&&(f[d]=E)}else u[d]=h}),this.syncDiff(a,{joins:u,leaves:f},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,f)=>{var d;const h=(d=e[u])!==null&&d!==void 0?d:[];if(e[u]=this.cloneDeep(f),h.length>0){const p=e[u].map(b=>b.presence_ref),y=h.filter(b=>p.indexOf(b.presence_ref)<0);e[u].unshift(...y)}r(u,h,f)}),this.map(o,(u,f)=>{let d=e[u];if(!d)return;const h=f.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),e[u]=d,i(u,d,f),d.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var MC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(MC||(MC={}));var nh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(nh||(nh={}));var ds;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ds||(ds={}));class cE{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Dn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Vb(this,Zi.join,this.params,this.timeout),this.rejoinTimer=new e4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zi.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new th(this),this.broadcastEndpointURL=n4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Dn.closed){const{config:{broadcast:o,presence:u,private:f}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[nh.PRESENCE]&&this.bindings[nh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},y={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(ds.CHANNEL_ERROR,b)),this._onClose(()=>e?.(ds.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket.setAuth(),b===void 0){e?.(ds.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,S=(x=E?.length)!==null&&x!==void 0?x:0,O=[];for(let R=0;R<S;R++){const P=E[R],{filter:{event:$,schema:D,table:N,filter:k}}=P,I=b&&b[R];if(I&&I.event===$&&I.schema===D&&I.table===N&&I.filter===k)O.push(Object.assign(Object.assign({},P),{id:I.id}));else{this.unsubscribe(),this.state=Dn.errored,e?.(ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(ds.SUBSCRIBED);return}}).receive("error",b=>{this.state=Dn.errored,e?.(ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Dn.joined&&e===nh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,u,f;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Dn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Vb(this,Zi.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Vb(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>iK){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:u,error:f,leave:d,join:h}=Zi;if(r&&[u,f,d,h].indexOf(o)>=0&&r!==this._joinRef())return;let y=this._onMessage(o,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var x,E,S;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((S=(E=b.filter)===null||E===void 0?void 0:E.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(b=>b.callback(y,r)):(a=this.bindings[o])===null||a===void 0||a.filter(b=>{var x,E,S,O,R,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const $=b.id,D=(x=b.filter)===null||x===void 0?void 0:x.event;return $&&((E=n.ids)===null||E===void 0?void 0:E.includes($))&&(D==="*"||D?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const $=(R=(O=b?.filter)===null||O===void 0?void 0:O.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return $==="*"||$===((P=n?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:E,table:S,commit_timestamp:O,type:R,errors:P}=x;y=Object.assign(Object.assign({},{schema:E,table:S,commit_timestamp:O,eventType:R,new:{},old:{},errors:P}),this._getPayloadRecords(x))}b.callback(y,r)})}_isClosed(){return this.state===Dn.closed}_isJoined(){return this.state===Dn.joined}_isJoining(){return this.state===Dn.joining}_isLeaving(){return this.state===Dn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&cE.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zi.close,{},e)}_onError(e){this._on(Zi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=DC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=DC(e.columns,e.old_record)),n}}const Ub=()=>{},jp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dK=[1e3,2e3,5e3,1e4],hK=1e4,mK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pK{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cx,this.transport=null,this.heartbeatIntervalMs=jp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ub,this.ref=0,this.reconnectTimer=null,this.logger=Ub,this.conn=null,this.sendBuffer=[],this.serializer=new aK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>qh(async()=>{const{default:u}=await Promise.resolve().then(()=>hf);return{default:u}},void 0).then(({default:u})=>u(...o)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${fx.websocket}`,this.httpEndpoint=n4(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ZH.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nK}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case eh.connecting:return Ul.Connecting;case eh.open:return Ul.Open;case eh.closing:return Ul.Closing;default:return Ul.Closed}}isConnected(){return this.connectionState()===Ul.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new cE(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rK,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},jp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,u=o?`(${o})`:"",f=a.status||"";this.log("receive",`${f} ${r} ${i} ${u}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([mK],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:tK};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Zi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new e4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,u,f,d,h;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:cx,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:jp.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:Ub,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(p=>dK[p-1]||hK),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((p,y)=>y(JSON.stringify(p))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class fE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Tn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class gK extends fE{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hx extends fE{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var yK=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};const r4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qh(async()=>{const{default:r}=await Promise.resolve().then(()=>hf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},vK=()=>yK(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qh(()=>Promise.resolve().then(()=>hf),void 0)).Response:Response}),mx=t=>{if(Array.isArray(t))return t.map(n=>mx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=mx(r)}),e},bK=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var bu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};const Bb=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_K=(t,e,n)=>bu(void 0,void 0,void 0,function*(){const r=yield vK();t instanceof r&&!n?.noResolveJson?t.json().then(i=>{const a=t.status||500,o=i?.statusCode||a+"";e(new gK(Bb(i),a,o))}).catch(i=>{e(new hx(Bb(i),i))}):e(new hx(Bb(t),t))}),wK=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(bK(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Fh(t,e,n,r,i,a){return bu(this,void 0,void 0,function*(){return new Promise((o,u)=>{t(n,wK(e,r,i,a)).then(f=>{if(!f.ok)throw f;return r?.noResolveJson?f:f.json()}).then(f=>o(f)).catch(f=>_K(f,u,r))})})}function Og(t,e,n,r){return bu(this,void 0,void 0,function*(){return Fh(t,"GET",e,n,r)})}function Ta(t,e,n,r,i){return bu(this,void 0,void 0,function*(){return Fh(t,"POST",e,r,i,n)})}function px(t,e,n,r,i){return bu(this,void 0,void 0,function*(){return Fh(t,"PUT",e,r,i,n)})}function xK(t,e,n,r){return bu(this,void 0,void 0,function*(){return Fh(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function i4(t,e,n,r,i){return bu(this,void 0,void 0,function*(){return Fh(t,"DELETE",e,r,i,n)})}var EK=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};class SK{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return EK(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Tn(e))return{data:null,error:e};throw e}})}}var TK=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};class AK{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new SK(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return TK(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Tn(e))return{data:null,error:e};throw e}})}}var Dr=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};const OK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},LC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class PK{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=r4(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return Dr(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},LC),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const f=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),f&&a.append("metadata",this.encodeMetadata(f))):(a=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i?.headers&&(u=Object.assign(Object.assign({},u),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield(e=="PUT"?px:Ta)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:u},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Tn(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Dr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",n);try{let f;const d=Object.assign({upsert:LC.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",d.cacheControl)):(f=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield px(this.fetch,u.toString(),f,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Tn(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return Dr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Ta(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),u=o.searchParams.get("token");if(!u)throw new fE("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Dr(this,void 0,void 0,function*(){try{return{data:yield Ta(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Dr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ta(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Dr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ta(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Dr(this,void 0,void 0,function*(){try{const i=yield Ta(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",u=this._getFinalPath(e),f=()=>Og(this.fetch,`${this.url}/${i}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new AK(f,this.shouldThrowOnError)}info(e){return Dr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Og(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:mx(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}exists(e){return Dr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield xK(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r)&&r instanceof hx){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const u=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&i.push(f);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${d}`)}}}remove(e){return Dr(this,void 0,void 0,function*(){try{return{data:yield i4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Dr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},OK),n),{prefix:e||""});return{data:yield Ta(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}listV2(e,n){return Dr(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ta(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const RK="2.75.0",CK={"X-Client-Info":`storage-js/${RK}`};var mc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};class jK{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CK),n),this.fetch=r4(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return mc(this,void 0,void 0,function*(){try{return{data:yield Og(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Tn(e))return{data:null,error:e};throw e}})}getBucket(e){return mc(this,void 0,void 0,function*(){try{return{data:yield Og(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}})}createBucket(e){return mc(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ta(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return mc(this,void 0,void 0,function*(){try{return{data:yield px(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return mc(this,void 0,void 0,function*(){try{return{data:yield Ta(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return mc(this,void 0,void 0,function*(){try{return{data:yield i4(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}})}}class NK extends jK{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new PK(this.url,this.headers,e,this.fetch)}}const kK="2.75.0";let Hd="";typeof Deno<"u"?Hd="deno":typeof document<"u"?Hd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hd="react-native":Hd="node";const DK={"X-Client-Info":`supabase-js-${Hd}/${kK}`},IK={headers:DK},MK={schema:"public"},LK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$K={};var VK=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};const UK=t=>{let e;return t?e=t:typeof fetch>"u"?e=WM:e=fetch,(...n)=>e(...n)},BK=()=>typeof Headers>"u"?YM:Headers,zK=(t,e,n)=>{const r=UK(n),i=BK();return(a,o)=>VK(void 0,void 0,void 0,function*(){var u;const f=(u=yield e())!==null&&u!==void 0?u:t;let d=new i(o?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),r(a,Object.assign(Object.assign({},o),{headers:d}))})};var qK=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};function FK(t){return t.endsWith("/")?t:t+"/"}function HK(t,e){var n,r;const{db:i,auth:a,realtime:o,global:u}=t,{db:f,auth:d,realtime:h,global:p}=e,y={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(r=u?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>qK(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function KK(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(FK(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const a4="2.75.0",Ac=30*1e3,gx=3,zb=gx*Ac,GK="http://localhost:9999",WK="supabase.auth.token",YK={"X-Client-Info":`gotrue-js/${a4}`},yx="X-Supabase-Api-Version",s4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QK=600*1e3;class bh extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ze(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class JK extends bh{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ZK(t){return ze(t)&&t.name==="AuthApiError"}class Bl extends bh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Xo extends bh{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Eo extends Xo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eG(t){return ze(t)&&t.name==="AuthSessionMissingError"}class pc extends Xo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Np extends Xo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kp extends Xo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tG(t){return ze(t)&&t.name==="AuthImplicitGrantRedirectError"}class $C extends Xo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vx extends Xo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function qb(t){return ze(t)&&t.name==="AuthRetryableFetchError"}class VC extends Xo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class bx extends Xo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UC=` 	
\r=`.split(""),nG=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<UC.length;e+=1)t[UC[e].charCodeAt(0)]=-2;for(let e=0;e<Pg.length;e+=1)t[Pg[e].charCodeAt(0)]=e;return t})();function BC(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Pg[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Pg[r]),e.queuedBits-=6}}function o4(t,e,n){const r=nG[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zC(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{aG(o,r,n)};for(let o=0;o<t.length;o+=1)o4(t.charCodeAt(o),i,a);return e.join("")}function rG(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function iG(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}rG(r,e)}}function aG(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Mc(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)o4(t.charCodeAt(i),n,r);return new Uint8Array(e)}function sG(t){const e=[];return iG(t,n=>e.push(n)),new Uint8Array(e)}function Fl(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>BC(i,n,r)),BC(null,n,r),e.join("")}function oG(t){return Math.round(Date.now()/1e3)+t}function lG(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Zr=()=>typeof window<"u"&&typeof document<"u",Nl={tested:!1,writable:!1},l4=()=>{if(!Zr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nl.tested)return Nl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Nl.tested=!0,Nl.writable=!0}catch{Nl.tested=!0,Nl.writable=!1}return Nl.writable};function uG(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const u4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qh(async()=>{const{default:r}=await Promise.resolve().then(()=>hf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},cG=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Oc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},kl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bo=async(t,e)=>{await t.removeItem(e)};class My{constructor(){this.promise=new My.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}My.promiseConstructor=Promise;function Fb(t){const e=t.split(".");if(e.length!==3)throw new bx("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!XK.test(e[r]))throw new bx("JWT not in base64url format");return{header:JSON.parse(zC(e[0])),payload:JSON.parse(zC(e[1])),signature:Mc(e[2]),raw:{header:e[0],payload:e[1]}}}async function fG(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function dG(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function hG(t){return("0"+t.toString(16)).substr(-2)}function mG(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,hG).join("")}async function pG(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function gG(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await pG(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gc(t,e,n=!1){const r=mG();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Oc(t,`${e}-code-verifier`,i);const a=await gG(r);return[a,r===a?"plain":"s256"]}const yG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vG(t){const e=t.headers.get(yx);if(!e||!e.match(yG))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function bG(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _G(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yc(t){if(!wG.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hb(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qC(t){return JSON.parse(JSON.stringify(t))}var xG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Il=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),EG=[502,503,504];async function FC(t){var e;if(!cG(t))throw new vx(Il(t),0);if(EG.includes(t.status))throw new vx(Il(t),t.status);let n;try{n=await t.json()}catch(a){throw new Bl(Il(a),a)}let r;const i=vG(t);if(i&&i.getTime()>=s4["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new VC(Il(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Eo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new VC(Il(n),t.status,n.weak_password.reasons);throw new JK(Il(n),t.status||500,r)}const SG=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Qe(t,e,n,r){var i;const a=Object.assign({},r?.headers);a[yx]||(a[yx]=s4["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",f=await TG(t,e,n+u,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function TG(t,e,n,r,i,a){const o=SG(e,r,i,a);let u;try{u=await t(n,Object.assign({},o))}catch(f){throw console.error(f),new vx(Il(f),0)}if(u.ok||await FC(u),r?.noResolveJson)return u;try{return await u.json()}catch(f){await FC(f)}}function Qi(t){var e;let n=null;PG(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=oG(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function HC(t){const e=Qi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Po(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function AG(t){return{data:t,error:null}}function OG(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=xG(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},f=Object.assign({},o);return{data:{properties:u,user:f},error:null}}function KC(t){return t}function PG(t){return t.access_token&&t.refresh_token&&t.expires_in}const Kb=["global","local","others"];var RG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class CG{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=u4(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Kb[0]){if(Kb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kb.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Po})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=RG(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:OG,redirectTo:n?.redirectTo})}catch(n){if(ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Po})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,u,f;try{const d={nextPage:null,lastPage:0,total:0},h=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:KC});if(h.error)throw h.error;const p=await h.json(),y=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);d[`${S}Page`]=E}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(ze(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){yc(e);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Po})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){yc(e);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Po})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){yc(e);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Po})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){yc(e.userId);try{const{data:n,error:r}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteFactor(e){yc(e.userId),yc(e.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,o,u,f;try{const d={nextPage:null,lastPage:0,total:0},h=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:KC});if(h.error)throw h.error;const p=await h.json(),y=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);d[`${S}Page`]=E}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(ze(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}}function GC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const vc={debug:!!(globalThis&&l4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class c4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jG extends c4{}async function NG(t,e,n){vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),vc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new jG(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(vc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function kG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function f4(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function DG(t){return parseInt(t,16)}function IG(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function MG(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:u,requestId:f,resources:d,scheme:h,uri:p,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=f4(t.address),x=h?`${h}://${r}`:r,E=t.statement?`${t.statement}
`:"",S=`${x} wants you to sign in with your Ethereum account:
${b}

${E}`;let O=`URI: ${p}
Version: ${y}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(O+=`
Expiration Time: ${i.toISOString()}`),u&&(O+=`
Not Before: ${u.toISOString()}`),f&&(O+=`
Request ID: ${f}`),d){let R=`
Resources:`;for(const P of d){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);R+=`
- ${P}`}O+=R}return`${S}
${O}`}class Sn extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Rg extends Sn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function LG({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Sn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Sn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Sn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Sn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Sn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Sn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Sn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Sn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(h4(o)){if(a.rp.id!==o)return new Sn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Sn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Sn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function $G({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Sn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Sn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(h4(r)){if(n.rpId!==r)return new Sn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Sn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var d4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class VG{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const UG=new VG;function BG(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=d4(t,["challenge","user","excludeCredentials"]),a=Mc(e).buffer,o=Object.assign(Object.assign({},n),{id:Mc(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const d=r[f];u.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:Mc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function zG(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=d4(t,["challenge","allowCredentials"]),i=Mc(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const u=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},u),{id:Mc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function qG(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Fl(new Uint8Array(t.response.attestationObject)),clientDataJSON:Fl(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function FG(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Fl(new Uint8Array(i.authenticatorData)),clientDataJSON:Fl(new Uint8Array(i.clientDataJSON)),signature:Fl(new Uint8Array(i.signature)),userHandle:i.userHandle?Fl(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function h4(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function WC(){var t,e;return!!(Zr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function HG(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Rg("Browser returned unexpected credential type",e)}:{data:null,error:new Rg("Empty credential response",e)}}catch(e){return{data:null,error:LG({error:e,options:t})}}}async function KG(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Rg("Browser returned unexpected credential type",e)}:{data:null,error:new Rg("Empty credential response",e)}}catch(e){return{data:null,error:$G({error:e,options:t})}}}const GG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},WG={userVerification:"preferred",hints:["security-key"]};function Cg(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(e(o)){const u=r[a];e(u)?r[a]=Cg(u,o):r[a]=Cg(o)}else r[a]=o}return r}function YG(t,e){return Cg(GG,t,e||{})}function XG(t,e){return Cg(WG,t,e||{})}class QG{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:u};const f=i??UG.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=YG(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:p}=await HG({publicKey:d,signal:f});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=XG(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:p}=await KG(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:f}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Bl("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new bh("rpId is required for WebAuthn authentication")};try{if(!WC())return{data:null,error:new Bl("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:u};const{webauthn:f}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Bl("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new bh("rpId is required for WebAuthn registration")};try{if(!WC())return{data:null,error:new Bl("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:u};const{data:f,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return f?this._verify({factorId:o.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:d}}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Bl("Unexpected error in register",o)}}}}kG();const JG={url:GK,storageKey:WK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function YC(t,e,n){return await n()}const bc={};class _h{get jwks(){var e,n;return(n=(e=bc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){bc[this.storageKey]=Object.assign(Object.assign({},bc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=bc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bc[this.storageKey]=Object.assign(Object.assign({},bc[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_h.nextInstanceID,_h.nextInstanceID+=1,this.instanceID>0&&Zr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},JG),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new CG({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=u4(i.fetch),this.lock=i.lock||YC,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Zr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=NG:this.lock=YC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new QG(this)},this.persistSession?(i.storage?this.storage=i.storage:l4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=GC(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=GC(this.memoryStorage)),Zr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${a4}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=uG(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Zr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),tG(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ze(n)?{error:n}:{error:new Bl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Qi}),{data:o,error:u}=a;if(u||!o)return{data:{user:null,session:null},error:u};const f=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:h,password:p,options:y}=e;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await gc(this.storage,this.storageKey)),a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:h,password:p,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:x},xform:Qi})}else if("phone"in e){const{phone:h,password:p,options:y}=e;a=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Qi})}else throw new Np("You must provide either an email or phone number and a password");const{data:o,error:u}=a;if(u||!o)return{data:{user:null,session:null},error:u};const f=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:u}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:HC})}else if("phone"in e){const{phone:a,password:o,options:u}=e;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:HC})}else throw new Np("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new pc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,o,u,f,d,h,p,y;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:E,wallet:S,statement:O,options:R}=e;let P;if(Zr())if(typeof S=="object")P=S;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")P=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=S}const $=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href),D=await P.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=f4(D[0]);let k=(r=R?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const M=await P.request({method:"eth_chainId"});k=DG(M)}const I={domain:$.host,address:N,statement:O,uri:$.href,version:"1",chainId:k,nonce:(i=R?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=R?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=R?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=R?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=R?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=R?.signInWithEthereum)===null||h===void 0?void 0:h.resources};b=MG(I),x=await P.request({method:"personal_sign",params:[IG(b),N]})}try{const{data:E,error:S}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Qi});if(S)throw S;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new pc}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:S})}catch(E){if(ze(E))return{data:{user:null,session:null},error:E};throw E}}async signInWithSolana(e){var n,r,i,a,o,u,f,d,h,p,y,b;let x,E;if("message"in e)x=e.message,E=e.signature;else{const{chain:S,wallet:O,statement:R,options:P}=e;let $;if(Zr())if(typeof O=="object")$=O;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))$=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=O}const D=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in $&&$.signIn){const N=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),R?{statement:R}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),E=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${D.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=P?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=P?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((o=P?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((u=P?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((f=P?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((d=P?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((p=(h=P?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...P.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await $.signMessage(new TextEncoder().encode(x),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=N}}try{const{data:S,error:O}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Fl(E)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Qi});if(O)throw O;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new pc}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:O})}catch(S){if(ze(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await kl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Qi});if(await bo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new pc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(ze(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,u=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Qi}),{data:f,error:d}=u;return d?{data:{user:null,session:null},error:d}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new pc}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:d})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:u,options:f}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await gc(this.storage,this.storageKey));const{error:p}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:u,options:f}=e,{data:d,error:h}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new Np("You must provide either an email or phone number.")}catch(u){if(ze(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:u}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Qi});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const f=o.session,d=o.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await gc(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:AG})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Eo;const{error:i}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ze(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:u}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:u}}throw new Np("You must provide either an email or phone number and a type")}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await kl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<zb:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await kl(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Hb()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,d,h)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,d,h))})}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Po}):await this._useSession(async n=>{var r,i,a;const{data:o,error:u}=n;if(u)throw u;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Eo}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Po})})}catch(n){if(ze(n))return eG(n)&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Eo;const o=i.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await gc(this.storage,this.storageKey));const{data:d,error:h}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:o.access_token,xform:Po});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Eo;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=Fb(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(ze(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:u}=n;if(u)throw u;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Eo;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Zr())throw new kp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new kp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $C("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $C("No code detected.");const{data:R,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:u,expires_at:f,token_type:d}=e;if(!a||!u||!o||!d)throw new kp("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let y=h+p;f&&(y=parseInt(f));const b=y-h;b*1e3<=Ac&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const x=y-p;h-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,y,h):h-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,y,h);const{data:E,error:S}=await this._getUser(a);if(S)throw S;const O={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:y,refresh_token:o,token_type:d,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(r){if(ze(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await kl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:u}=await this.admin.signOut(o,e);if(u&&!(ZK(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=lG(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await gc(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,u,f,d,h;const{data:p,error:y}=a;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",b,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Zr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(ze(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:u,token:f,access_token:d,nonce:h}=e,p=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:f,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Qi}),{data:y,error:b}=p;return b?{data:{user:null,session:null},error:b}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new pc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:b})}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await dG(async i=>(i>0&&await fG(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qi})),(i,a)=>{const o=200*Math.pow(2,i);return a&&qb(a)&&Date.now()+o-r<Ac})}catch(r){if(this._debug(n,"error",r),ze(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Zr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await kl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await kl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Oc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:Hb()}else if(i&&!i.user&&!i.user){const o=await kl(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await bo(this.storage,this.storageKey+"-user"),await Oc(this.storage,this.storageKey,i)):i.user=Hb()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<zb;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${zb}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),qb(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(i.access_token);!u&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Eo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new My;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Eo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),ze(a)){const o={data:null,error:a};return qb(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(f){a.push(f)}});if(await Promise.all(o),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Oc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=qC(i);await Oc(this.storage,this.storageKey,a)}else{const i=qC(n);await Oc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await bo(this.storage,this.storageKey),await bo(this.storage,this.storageKey+"-code-verifier"),await bo(this.storage,this.storageKey+"-user"),this.userStorage&&await bo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Zr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ac);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ac);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ac}ms, refresh threshold is ${gx} ticks`),i<=gx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof c4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await gc(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:d}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&f.type==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?qG(e.webauthn.credential_response):FG(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:f}=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=await Qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:BG(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:zG(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Fb(i.access_token);let u=null;o.aal&&(u=o.aal);let f=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const h=o.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+QK>i)return r;const{data:a,error:o}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:b,error:x}=await this.getSession();if(x||!b.session)return{data:null,error:x};r=b.session.access_token}const{header:i,payload:a,signature:o,raw:{header:u,payload:f}}=Fb(r);n?.allowExpired||bG(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:o},error:null}}const h=_G(i.alg),p=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,sG(`${u}.${f}`)))throw new bx("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}}_h.nextInstanceID=0;const ZG=_h;class eW extends ZG{constructor(e){super(e)}}var tW=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{d(r.next(h))}catch(p){o(p)}}function f(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(t,e||[])).next())})};class nW{constructor(e,n,r){var i,a,o;this.supabaseUrl=e,this.supabaseKey=n;const u=KK(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:MK,realtime:$K,auth:Object.assign(Object.assign({},LK),{storageKey:f}),global:IK},h=HK(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=zK(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new JH(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new NK(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new zH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return tW(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:u,lock:f,debug:d},h,p){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eW({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),h),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:u,lock:f,debug:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new pK(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rW=(t,e,n)=>new nW(t,e,n);function iW(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}iW()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aW="https://odzsnrjocdmbajksnzpk.supabase.co",sW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9kenNucmpvY2RtYmFqa3NuenBrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkyNjk3NTcsImV4cCI6MjA3NDg0NTc1N30.LE8xoK5-rmAXnRJBx60-tNEIQq350sEs43PLoYWtQ8M",m4=rW(aW,sW),Pc="sBluV8DKQA0hTvJ2ABC9U3VDZunUGUSehxuDPvtNC8SQ3Q5XHvQVt0nm3X7cvP7j";function oW(t){if(!t.length)return{max:0,min:0,median:0,mean:0,q3:0};const e=[...t].sort((u,f)=>u-f),n=e.at(-1)??0,r=e[0],i=e.length%2===0?Math.round((e[e.length/2-1]+e[e.length/2])/2*10)/10:e[Math.floor(e.length/2)],a=Math.round(e.reduce((u,f)=>u+f,0)/e.length*10)/10,o=e[Math.floor(e.length*.75)];return{max:n,min:r,median:i,mean:a,q3:o}}function lW(t){const e=t.reduce((r,i)=>(r[i.team_number]||(r[i.team_number]=[]),r[i.team_number].push(i),r),{}),n={};for(const[r,i]of Object.entries(e)){const a=Number(r),o={};Object.keys(i[0]).filter(u=>{const f=i[0][u];return typeof f=="number"||f===null}).forEach(u=>{const f=i.map(d=>typeof d[u]=="number"?d[u]:0).filter(d=>!isNaN(d));o[u]=oW(f)}),n[a]=o}return n}function uW(t){console.error(t);function e(r,i){if(!r.length)return 0;const a=i/100*(r.length-1),o=Math.floor(a),u=Math.ceil(a);return o===u?r[o]:r[o]+(r[u]-r[o])*(a-o)}const n={};for(const r of jo){if(!Object.values(t).some(o=>o[r]!==void 0))continue;n[r]={min:{p10:0,p25:0,p75:0,p90:0},max:{p10:0,p25:0,p75:0,p90:0},median:{p10:0,p25:0,p75:0,p90:0},mean:{p10:0,p25:0,p75:0,p90:0},q3:{p10:0,p25:0,p75:0,p90:0}};const a=["min","max","median","mean","q3"];for(const o of a){const u=Object.values(t).map(f=>f[r]?.[o]??0).filter(f=>typeof f=="number"&&!isNaN(f)).sort((f,d)=>f-d);n[r][o]={p10:e(u,10),p25:e(u,25),p75:e(u,75),p90:e(u,90)}}}return console.log(n),n}async function cW(t){try{const e=await fetch(`https://www.thebluealliance.com/api/v3/events/${t}/keys`,{headers:{"X-TBA-Auth-Key":Pc}});return e.ok?e.json():[]}catch(e){return console.error("Failed fetching events",e),[]}}async function fW(){const{data:t,error:e}=await m4.from("Pit Scouting").select("*");return t?t.filter(n=>n.team_number>0):[]}async function dW(t,e){if(!t||t==="XX")return null;try{const[n,r,i,a]=await Promise.all([fetch(`https://www.thebluealliance.com/api/v3/event/${t}/rankings`,{headers:{"X-TBA-Auth-Key":Pc}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/oprs`,{headers:{"X-TBA-Auth-Key":Pc}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/matches`,{headers:{"X-TBA-Auth-Key":Pc}}),fetch(`https://www.thebluealliance.com/api/v3/event/${t}/teams`,{headers:{"X-TBA-Auth-Key":Pc}})]),o=await n.json(),u=await r.json(),f=await i.json(),d=await a.json();let h=[...new Set(e.map(y=>y.team_number).filter(y=>!d.map(b=>b.team_number).includes(y)))];console.warn(h);const p={};return d.forEach(y=>{p[y.team_number]={name:y.name??`Team ${y.team_number}`,nickname:y.nickname??`Team ${y.team_number}`}}),await Promise.all(h.map(async y=>{const x=await(await fetch(`https://www.thebluealliance.com/api/v3/team/frc${y}`,{headers:{"X-TBA-Auth-Key":Pc}})).json();console.error(x),p[x.team_number]={name:x.name??`Team ${x.team_number}`,nickname:x.nickname??`Team ${x.team_number}`}})),console.log(p),{tbaData:{rankings:o.rankings??[],oprs:u.oprs??{},matches:f},teamInfo:p}}catch(n){return console.error("TBA fetch error",n),null}}async function hW(t){try{const e=new Date().getFullYear();return await(await fetch(`https://api.statbotics.io/v3/team_year/${String(t)}/${e}`)).json()}catch(e){return console.error("Statbotics fetch error",e),null}}async function mW(){const t=Sg(vh,"aiOverview","overview"),e=await IM(t);if(!e.exists())return console.warn("No AI overviews found"),{};const n=e.data(),r={};return Object.entries(n).forEach(([i,a])=>{const o=Number(i);isNaN(o)||(r[o]=a)}),r}async function pW(){const t=Sg(vh,"aiOverview","match"),e=await IM(t);if(!e.exists())return console.warn("No AI matches found"),{};const n=e.data(),r={};return Object.entries(n).forEach(([i,a])=>{const o=String(i);typeof a=="string"&&(r[o]=a)}),r}const Xn=ez((t,e)=>({forms:[],pitForms:[],teamStats:{},columnPercentiles:{},loading:!0,eventKeys:[],tbaData:null,teamInfo:{},aiOverviews:{},aiMatches:{},eventName:localStorage.getItem("eventName")||"XX",currentViewingTeam:Number(localStorage.getItem("currentViewingTeam")||3197),usePracticeData:localStorage.getItem("usePracticeData")==="true",statboticsTeams:[],teamImages:{},loadTeamImages:async()=>{try{const n=await WF(NF(vh,"robotImages")),r={};n.forEach(i=>{const a=i.data(),o=i.id.match(/image_team(\d+)/);if(o){const u=parseInt(o[1],10);r[u]=a.url}}),t({teamImages:r})}catch(n){console.error("Error loading team images:",n)}},loadStatbotics:async()=>{t({loading:!0});const n=await hW(e().currentViewingTeam);t({statboticsTeams:n??void 0,loading:!1})},setEventName:n=>{localStorage.setItem("eventName",n),t({eventName:n})},setCurrentViewingTeam:async n=>{t({loading:!0}),localStorage.setItem("currentViewingTeam",String(n)),t({currentViewingTeam:n,loading:!1})},setUsePracticeData:n=>{localStorage.setItem("usePracticeData",String(n)),t({usePracticeData:n})},loadData:async()=>{e().forms.length>0||await e().hotRefresh()},hotRefresh:async()=>{t({loading:!0});const n=new Date().getFullYear(),[r,i,a,o,u]=await Promise.all([cW(n),gW(),fW(),mW(),pW()]),f=await dW(e().eventName,i);console.log(i);const d=lW(i);console.log(d),f?.tbaData?.oprs&&Object.entries(f.tbaData.oprs).forEach(([p,y])=>{const b=Number(p.replace("frc",""));if(Object.keys(d).includes(String(b))){const x=Math.round(y*10)/10;d[b],d[b].opr={max:x,min:x,median:x,mean:x,q3:x}}}),Object.keys(d).forEach(p=>{const y=Number(p);d[y].opr||(d[y].opr={max:0,min:0,median:0,mean:0,q3:0})});const h=uW(d);console.warn(h),t({forms:i,pitForms:a,teamStats:d,columnPercentiles:h,aiOverviews:o,aiMatches:u,eventKeys:r,tbaData:f?.tbaData??null,teamInfo:f?.teamInfo??{},loading:!1})}})),gW=async()=>{var t=["match"];Xn.getState().usePracticeData&&(t.push("practice"),t.push("pre"));const{data:e,error:n}=await m4.from("Live Data").select("*").in("match_type",t);return e?e.map(r=>({...r,opr:0})):[]},XC=[{name:"Tables",path:"/"},{name:"Ranks",path:"/ranks"},{name:"Teams",path:"/teams"},{name:"Compare",path:"/compare"},{name:"Match",path:"/match"},{name:"Pick List",path:"/picklist"},{name:"Sandbox",path:"/sandbox"}];function Va(){const[t,e]=T.useState(!1),n=Yo(),[r,i]=T.useState(null),[a,o]=T.useState(!1),{forms:u,teamStats:f,setCurrentViewingTeam:d}=Xn(),h=T.useRef(null),p=T.useRef(null),y=Ih();return T.useEffect(()=>{function b(x){h.current&&!h.current.contains(x.target)&&p.current&&!p.current.contains(x.target)&&o(!1)}return i(null),document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[o]),_.jsxs("header",{className:"bg-gray-900 fixed w-full top-0 left-0 z-50 select-none drop-shadow-lg",children:[_.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex justify-between items-center h-16",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("img",{src:X9,alt:"Logo",className:"h-15 w-15 object-contain"}),_.jsx("div",{className:"text-2xl font-bold text-orange-400 ml-5",children:"Scouting 2025"})]}),_.jsxs("nav",{className:"hidden lg:flex gap-4",children:[XC.map(b=>{const x=n.pathname===b.path;return _.jsxs(kc,{to:b.path,className:"relative text-orange-400 px-3 py-2 rounded group overflow-hidden font-medium text-xl",children:[x?_.jsx("span",{className:"absolute inset-0 bg-orange-600 group-hover:bg-orange-800 transition duration-300 rounded"}):_.jsx("span",{className:"absolute inset-0 bg-orange-600 scale-y-0 origin-top group-hover:scale-y-100 transition duration-300 rounded"}),_.jsx("span",{className:`relative ${x?"text-white":"group-hover:text-white transition-colors duration-500"}`,children:b.name})]},b.name)}),_.jsxs(kc,{to:"/coscout",className:"hidden relative text-orange-400 px-3 py-2 rounded group overflow-hidden font-medium text-xl",children:[_.jsx("span",{className:"absolute inset-0 bg-gray-500 scale-y-0 origin-top group-hover:scale-y-100 transition duration-300 rounded"}),_.jsx(c9,{color:"orange",size:28,className:"relative"})]}),_.jsxs("div",{ref:h,className:"relative w-30",children:[_.jsxs("div",{className:"flex items-center relative h-full",children:[_.jsx(Vw,{className:"absolute right-3 cursor-pointer hover:scale-105",color:"white"}),_.jsx("input",{type:"text",onChange:b=>{o(!0),i(parseInt(b.target.value))},className:"h-full bg-gray-600 rounded-md w-full text-white text-lg px-3 pr-10",placeholder:""})]}),a&&_.jsx("div",{className:"absolute top-full mt-1 left-0 w-full bg-white rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:Object.keys(f).map(b=>f[b]).filter(b=>b.team_number.mean.toString().includes(String(r))).map(b=>_.jsx("h1",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer rounded-md",onClick:()=>{d(b.team_number.max),y("/teams"),o(!1)},children:b.team_number.max},b.team_number.max))})]})]}),_.jsx("div",{className:"lg:hidden z-50 relative",children:_.jsx("button",{onClick:()=>e(!t),children:t?_.jsx(I9,{size:36,color:"white"}):_.jsx(S9,{size:32,color:"white"})})})]}),_.jsxs("div",{className:`lg:hidden fixed top-0 left-0 right-0 bg-gray-900 bg-opacity-95 flex flex-col items-center justify-center gap-4 py-4 h-auto text-2xl
          transform transition-transform-opacity duration-500
          ${t?"translate-y-0 opacity-100":"-translate-y-full opacity-0 pointer-events-none"}
        `,children:[XC.map(b=>{const x=n.pathname===b.path;return _.jsxs(kc,{to:b.path,className:"relative text-orange-400 px-6 py-2 rounded group overflow-hidden font-medium",onClick:()=>e(!1),children:[x&&_.jsx("span",{className:"absolute inset-0 bg-orange-600 rounded"}),_.jsx("span",{className:`relative ${x?"text-white":"group-hover:text-white transition-colors duration-300"}`,children:b.name})]},b.name)}),_.jsxs("div",{className:"relative w-30 h-10",children:[_.jsxs("div",{ref:p,className:"flex items-center relative h-full",children:[_.jsx(Vw,{className:"absolute right-3 cursor-pointer hover:scale-105",color:"white"}),_.jsx("input",{type:"text",pattern:"\\d*",onChange:b=>{o(!0),i(parseInt(b.target.value))},className:"h-full bg-gray-600 rounded-md w-full text-white text-lg px-3 pr-10",placeholder:""})]}),a&&_.jsx("div",{className:"absolute top-full mt-1 left-0 w-full bg-white rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:Object.keys(f).map(b=>f[b]).filter(b=>b.team_number.mean.toString().includes(String(r))).map(b=>_.jsx("h1",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer rounded-md",onClick:()=>{d(b.team_number.max),y("/teams"),e(!1)},children:b.team_number.max},b.team_number.max))})]})]})]})}function Ns(){const t=Xn(e=>e.hotRefresh);return _.jsx("button",{onClick:t,className:"fixed bottom-2 right-2 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-700 transition duration-300 z-50 cursor-pointer",title:"Reload Data",children:_.jsx(A9,{size:24})})}function Qo(){return _.jsx(kc,{to:"/settings",className:"fixed bottom-2 left-2 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-700 transition duration-300 z-50 cursor-pointer",children:_.jsx("div",{children:_.jsx(k9,{})})},"settings")}function dE({isOpen:t,onClose:e,forms:n,teamNumber:r,teamInfo:i,teamImages:a}){const{setCurrentViewingTeam:o,tbaData:u,teamStats:f}=Xn(),d=Ih(),p=(r?n.filter(y=>Number(y.team_number)===r).sort((y,b)=>(y.match_number??0)-(b.match_number??0)):[]).filter(y=>y.comments);return t?_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/67",onClick:e,children:_.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[75vh] overflow-hidden flex flex-col m-4 pointer-events-auto",onClick:y=>y.stopPropagation(),children:[_.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Quick Team Overview"}),_.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition cursor-pointer",children:_.jsx(W9,{size:24,className:"text-gray-600"})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r?_.jsxs("div",{className:"space-y-6",children:[_.jsx("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-200",children:_.jsxs("div",{className:"w-full",children:[_.jsxs("div",{className:"p-4 flex justify-between w-full gap-4",children:[_.jsxs("h3",{className:"text-3xl font-bold text-gray-800",children:["Team ",r," - ",i&&i[r]?.nickname||"Unknown Team"]}),_.jsx("button",{onClick:()=>{o(r),d("/teams")},className:"px-5 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition font-medium cursor-pointer",children:"View Team Page"})]}),_.jsxs("div",{className:"text-base text-gray-800 mb-1 flex flex-row flex-wrap gap-2",children:[_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-xs",children:"Rank"}),_.jsx("p",{className:"text-md font-semibold",children:u?.rankings?.find(y=>y.team_key===`frc${r}`)?.rank??"N/A"})]}),_.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-xs",children:"OPR"}),_.jsx("p",{className:"text-md font-semibold",children:Math.round(Number(u?.oprs[`frc${r}`]??0)*10)/10})]}),_.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-xs",children:"Total Points"}),_.jsx("p",{className:"text-md font-semibold",children:f[r]?.total_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-xs",children:"Auto Points"}),_.jsx("p",{className:"text-md font-semibold",children:f[r]?.auto_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-xs",children:"Tele Points"}),_.jsx("p",{className:"text-md font-semibold",children:f[r]?.tele_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-xs",children:"Endgame Points"}),_.jsx("p",{className:"text-md font-semibold",children:f[r]?.endgame_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 flex flex-col justify-center rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-xs",children:"Total Gamepieces"}),_.jsx("p",{className:"text-md font-semibold",children:f[r]?.total_gamepieces?.q3??0})]})]}),_.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[p.length," comment",p.length!==1?"s":""," found"]})]})}),p.length>0?_.jsx("div",{className:"space-y-3",children:p.map(y=>_.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 hover:shadow-md transition",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:y.match_type=="match"?"Match "+y.match_number:yW(y.match_type)+" Match"}),y.scout_name&&_.jsxs("span",{className:"text-xs text-gray-500",children:["by ",y.scout_name]})]}),_.jsx("p",{className:"text-gray-800 leading-relaxed",children:y.comments})]},y.id))}):_.jsxs("div",{className:"text-center py-12",children:[_.jsx("div",{className:"text-gray-400 mb-2",children:_.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),_.jsxs("p",{className:"text-gray-500 text-lg",children:["No comments available for Team ",r]})]})]}):_.jsxs("div",{className:"text-center py-20",children:[_.jsx("div",{className:"text-gray-400 mb-4",children:_.jsx(Vw,{className:"w-20 h-20 mx-auto"})}),_.jsx("p",{className:"text-gray-500 text-lg",children:"Enter a team number to view their comments"})]})}),_.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex justify-end",children:_.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition font-medium cursor-pointer",children:"Close"})})]})}):null}function yW(t){return typeof t!="string"||t.length===0?t:t.charAt(0).toUpperCase()+t.slice(1)}const vW=["opr","total_points","auto_points","tele_points","endgame_points","total_coral","total_algae","total_gamepieces","tele_made_net"],bW=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()},_W=t=>{alert(t||"No comment")},QC="tableTeamValueType";function wW(){const{forms:t,teamStats:e,loading:n,columnPercentiles:r,loadData:i,teamInfo:a}=Xn();T.useEffect(()=>{i()},[]);const[o,u]=T.useState(!1),[f,d]=T.useState(-1),[h,p]=T.useState("Team"),[y,b]=T.useState(sessionStorage.getItem(QC)??"Median"),[x,E]=T.useState(!0),[S,O]=T.useState(!0),[R,P]=T.useState(-1),[$,D]=T.useState(-1),[N,k]=T.useState({column:null,direction:null});T.useEffect(()=>{sessionStorage.setItem(QC,y)},[y]);const I=q=>{k(U=>U.column===q?U.direction==="desc"?{column:q,direction:"asc"}:U.direction==="asc"?{column:null,direction:null}:{column:q,direction:"desc"}:{column:q,direction:"desc"})},M=q=>N.column!==q?_.jsx(o9,{size:14,className:"inline ml-1 text-gray-600"}):N.direction==="desc"?_.jsx(UD,{size:14,className:"inline ml-1 text-orange-600"}):_.jsx(BD,{size:14,className:"inline ml-1 text-orange-600"});function V(q,U){return!U.column||!U.direction?q:[...q].sort((ge,we)=>{let G=ge[U.column??0]??0,ie=we[U.column??0]??0;return(U.column==="team_number"||U.column==="match_number")&&(G=Number(G),ie=Number(ie)),typeof G=="number"&&typeof ie=="number"&&!isNaN(G)&&!isNaN(ie)?U.direction==="asc"?G-ie:ie-G:U.direction==="asc"?String(G).localeCompare(String(ie)):String(ie).localeCompare(String(G))})}function z(q,U,ge){return!U.column||!U.direction?q:[...q].sort((we,G)=>{const ie=we.stats[U.column??0][ge]??0,pe=G.stats[U.column??0][ge]??0;return typeof ie=="number"&&typeof pe=="number"?U.direction==="asc"?ie-pe:pe-ie:U.direction==="asc"?String(ie).localeCompare(String(pe)):String(pe).localeCompare(String(ie))})}return _.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Va,{}),_.jsx(dE,{isOpen:o,onClose:()=>u(!1),forms:t,teamNumber:f,teamInfo:a}),_.jsxs("main",{className:"pt-20 px-0 md:px-6 pr-10",children:[n?_.jsx("div",{className:"text-orange-500 m-15 text-2xl font-bold animate-bounce",children:"Loading data..."}):_.jsxs("div",{className:"scrollbar-thin scrollbar-thumb-orange-500 scrollbar-track-gray-200 relative ",children:[_.jsx("button",{className:`fixed top-22 right-2 z-50 p-3 bg-orange-500 text-white rounded-full shadow-lg hover:bg-orange-600 transition duration-500 cursor-pointer ${S?"opacity-0 pointer-events-none":"opacity-100"}`,onClick:()=>O(!0),children:_.jsx(j9,{size:24})}),_.jsxs("div",{className:`fixed top-18 right-0 ${S?"-translate-x-2 opacity-100":"translate-x-full opacity-0 pointer-events-none"} bg-gray-100 py-1.5 px-5 flex flex-row gap-4 items-center shadow-md w-fit rounded-lg hover:bg-gray-200 transition duration-500 z-40`,children:[_.jsx(xW,{view:h,setView:p}),h==="Team"&&_.jsx(EW,{view:y,setView:b}),h==="Raw"&&_.jsx(SW,{view:$,setView:D,teamStats:e}),_.jsx("button",{className:"ml-0 p-1 text-gray-600 hover:text-gray-800 transition cursor-pointer",onClick:()=>E(q=>!q),children:_.jsx(x9,{size:24,color:x?"darkorange":"currentColor"})}),_.jsx("button",{className:"ml-0 p-1 text-gray-600 hover:text-gray-800 transition cursor-pointer",onClick:()=>O(!1),children:_.jsx(_9,{size:24})})]}),_.jsxs("table",{className:`table-auto border-collapse w-full text-sm md:text-base mt-18 ml-0 mb-15 ${h==="Raw"?"shadow-lg rounded-lg overflow-hidden":"border border-gray-300"}`,children:[_.jsx("thead",{className:"sticky top-0 transition-top duration-250",children:_.jsx("tr",{className:h==="Raw"?"bg-gradient-to-r from-orange-50 to-orange-100":"bg-gray-200 shadow-lg",children:(h==="Raw"?xC.filter(q=>q!="opr"):jo).map(q=>_.jsx("th",{onClick:()=>{I(q)},className:`${h==="Raw"?"border-b-2 border-orange-300 px-3 py-2 font-semibold text-gray-900":"border-t-1 border-b-1 border-gray-300 px-3 py-2"} text-center whitespace-nowrap cursor-pointer select-none hover:bg-orange-200 transition duration-250 ${N.column===q?h==="Raw"?"bg-orange-300":"bg-orange-400":""}`,children:_.jsxs("div",{className:"flex items-center justify-center gap-1",children:[bW(q),h==="Raw"?M(q):N.column===q&&_.jsx("span",{className:"text-xs font-bold text-orange-600",children:N.direction==="desc"?"":N.direction==="asc"?"":""})]})},q))})}),_.jsx("tbody",{children:h==="Raw"?V(t,N).filter(q=>$==-1||q.team_number==$).map((q,U)=>_.jsx("tr",{className:U%3!==0?"bg-white hover:bg-gray-50 transition-colors":"bg-gray-50 hover:bg-gray-100 transition-colors",children:xC.filter(ge=>ge!="opr").map(ge=>_.jsx("td",{className:"border-y border-gray-200 px-3 py-2 text-center",children:ge==="comments"?_.jsx("button",{onClick:()=>_W(q[ge]),className:"px-3 py-1.5 bg-orange-500 text-white text-sm font-medium rounded-md hover:bg-orange-600 transition shadow-sm",children:"View"}):typeof q[ge]=="boolean"?_.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${q[ge]?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:q[ge]?"Yes":"No"}):ge=="match_number"?_.jsx("span",{className:"font-medium text-gray-800",children:q.match_type=="match"?q[ge]??"":q.match_type.toUpperCase()??""}):_.jsx("span",{className:"text-gray-700",children:q[ge]??""})},ge))},q.id)):z(Object.entries(e).map(([q,U])=>({teamNumber:q,stats:U})),N,y.toLowerCase()).map(({teamNumber:q,stats:U},ge)=>{const we=U;return _.jsx("tr",{className:`${(ge+1)%3===0&&R!==we.team_number[y.toLowerCase()]?"bg-gray-200 hover:bg-gray-300":"hover:bg-gray-100"} ${R==we.team_number[y.toLowerCase()]?"bg-orange-300 hover:bg-orange-400":""} transition duration-250`,onClick:()=>P(G=>G===we.team_number[y.toLowerCase()]?-1:we.team_number[y.toLowerCase()]),children:jo.map(G=>{const ie=we[G][y.toLowerCase()],{p10:pe,p25:xe,p75:H,p90:oe}=r[G][y.toLowerCase()]??{p10:0,p25:0,p75:1/0,p90:1/0};let ae=" rounded-md px-4 py-1 transition duration-250 ";return vW.includes(G)&&x&&(ie<=pe?ae=ae.concat(" bg-red-500/95 font-bold shadow-sm "):ie<=xe?ae=ae.concat(" bg-red-200/95 shadow-sm "):ie>=oe?ae=ae.concat(" bg-blue-300/95 font-bold shadow-sm "):ie>=H&&(ae=ae.concat(" bg-green-200/95 shadow-sm "))),_.jsx("td",{className:`cursor-${G=="team_number"?"pointer":"arrow"} ${G=="team_number"?"hover:font-bold":""} transition border-t-1 border-b-1 border-y-gray-500 px-3 py-3 text-center ${N.column===G?"border-x-orange-400 border-x-3":""}`,onClick:G=="team_number"?()=>{d(ie),u(!0)}:()=>{},children:_.jsx("span",{className:ae,children:ie})},G)})},q)})})]})]}),_.jsx(Ns,{}),_.jsx(Qo,{})]})]})}function xW({view:t,setView:e}){return _.jsxs("div",{className:"my-0",children:[_.jsx("label",{htmlFor:"table-type-select",className:"mr-2 font-medium text-gray-700",children:"Table Type:"}),_.jsxs("select",{id:"table-type-select",value:t,onChange:n=>e(n.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-xl hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:[_.jsx("option",{value:"Raw",children:"Raw"}),_.jsx("option",{value:"Team",children:"Team"})]})]})}function EW({view:t,setView:e}){return _.jsxs("div",{className:"my-0 ml-2",children:[_.jsx("label",{htmlFor:"team-value-select",className:"mr-2 font-medium text-gray-700",children:"Value Type:"}),_.jsxs("select",{id:"team-value-select",value:t,onChange:n=>e(n.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-xl hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:[_.jsx("option",{value:"Max",children:"Max"}),_.jsx("option",{value:"Q3",children:"Q3"}),_.jsx("option",{value:"Median",children:"Median"}),_.jsx("option",{value:"Mean",children:"Mean"}),_.jsx("option",{value:"Min",children:"Min"})]})]})}function SW({view:t,setView:e,teamStats:n}){return _.jsxs("div",{className:"my-0 ml-2",children:[_.jsx("label",{htmlFor:"team-value-select",className:"mr-2 font-medium text-gray-700",children:"Team:"}),_.jsxs("select",{id:"team-value-select",value:t,onChange:r=>e(parseInt(r.target.value)),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-xl hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:[_.jsx("option",{value:-1,children:"ANY"}),Object.keys(n).map(r=>_.jsx("option",{value:n[r].team_number.max,children:n[r].team_number.max}))]})]})}function TW(){const t=ND();return console.error(t),_.jsxs("div",{id:"error-page",children:[_.jsx("h1",{children:"That page does not exist."}),_.jsx("p",{children:"Sorry, an unexpected error has occurred."}),_.jsx("p",{children:_.jsx("i",{children:t.statusText||t.message})})]})}const AW=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()};function Li({view:t,setView:e,label:n,options:r}){return _.jsxs("div",{className:"my-0",children:[_.jsx("label",{className:"mr-2 font-medium text-gray-700",children:n}),_.jsx("select",{value:t,onChange:i=>e(i.target.value),className:"px-3 py-1 border-2 border-gray-300 rounded hover:shadow-lg hover:border-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer transition-shadow-border duration-250",children:r.map(i=>_.jsxs("option",{value:String(i),children:[" ",typeof i=="string"?AW(i):String(i)," "]},String(i)))})]})}function p4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=p4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ot(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=p4(t))&&(r&&(r+=" "),r+=e);return r}var Gb={},Wb={},JC;function OW(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Wb)),Wb}var Yb={},ZC;function g4(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Yb)),Yb}var Xb={},ej;function y4(){return ej||(ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Xb)),Xb}var Qb={},tj;function hE(){return tj||(tj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,o="",u="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const d=n[a];u?d==="\\"&&a+1<i?(a++,o+=n[a]):d===u?u="":o+=d:f?d==='"'||d==="'"?u=d:d==="]"?(f=!1,r.push(o),o=""):o+=d:d==="["?(f=!0,o&&(r.push(o),o="")):d==="."?o&&(r.push(o),o=""):o+=d,a++}return o&&r.push(o),r}t.toPath=e})(Qb)),Qb}var nj;function mE(){return nj||(nj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OW(),n=g4(),r=y4(),i=hE();function a(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?n.isDeepKey(f)?a(u,i.toPath(f),d):d:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?d:h}default:{if(Array.isArray(f))return o(u,f,d);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?d:h}}}function o(u,f,d){if(f.length===0)return d;let h=u;for(let p=0;p<f.length;p++){if(h==null||e.isUnsafeProperty(f[p]))return d;h=h[f[p]]}return h===void 0?d:h}t.get=a})(Gb)),Gb}var Jb,rj;function PW(){return rj||(rj=1,Jb=mE().get),Jb}var RW=PW();const su=ci(RW);var Zb={exports:{}},$t={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ij;function CW(){if(ij)return $t;ij=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function x(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case i:case r:case f:case d:case y:return E;default:switch(E=E&&E.$$typeof,E){case o:case u:case p:case h:return E;case a:return E;default:return S}}case e:return S}}}return $t.ContextConsumer=a,$t.ContextProvider=o,$t.Element=t,$t.ForwardRef=u,$t.Fragment=n,$t.Lazy=p,$t.Memo=h,$t.Portal=e,$t.Profiler=i,$t.StrictMode=r,$t.Suspense=f,$t.SuspenseList=d,$t.isContextConsumer=function(E){return x(E)===a},$t.isContextProvider=function(E){return x(E)===o},$t.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},$t.isForwardRef=function(E){return x(E)===u},$t.isFragment=function(E){return x(E)===n},$t.isLazy=function(E){return x(E)===p},$t.isMemo=function(E){return x(E)===h},$t.isPortal=function(E){return x(E)===e},$t.isProfiler=function(E){return x(E)===i},$t.isStrictMode=function(E){return x(E)===r},$t.isSuspense=function(E){return x(E)===f},$t.isSuspenseList=function(E){return x(E)===d},$t.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===p||E.$$typeof===h||E.$$typeof===o||E.$$typeof===a||E.$$typeof===u||E.$$typeof===b||E.getModuleId!==void 0)},$t.typeOf=x,$t}var aj;function jW(){return aj||(aj=1,Zb.exports=CW()),Zb.exports}var NW=jW(),Ur=t=>t===0?0:t>0?1:-1,si=t=>typeof t=="number"&&t!=+t,Hl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ae=t=>(typeof t=="number"||t instanceof Number)&&!si(t),Ua=t=>Ae(t)||typeof t=="string",kW=0,wh=t=>{var e=++kW;return"".concat(t||"").concat(e)},sa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(e)&&typeof e!="string")return r;var a;if(Hl(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return si(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},v4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},Dp=(t,e)=>Ae(t)&&Ae(e)?n=>t+n*(e-t):()=>e;function ea(t,e,n){return Ae(t)&&Ae(e)?t+n*(e-t):e}function b4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):su(r,e))===n)}var zt=t=>t===null||typeof t>"u",Hh=t=>zt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),DW=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function pE(t){if(typeof t!="string")return!1;var e=DW;return e.includes(t)}var IW=["viewBox","children"],sj=["points","pathLength"],e_={svg:IW,polygon:sj,polyline:sj},gE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{pE(i)&&(r[i]=(a=>n[i](n,a)))}),r},MW=(t,e,n)=>r=>(t(e,n,r),null),mf=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];pE(i)&&typeof a=="function"&&(r||(r={}),r[i]=MW(a,e,n))}),r},LW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function _4(t){if(typeof t!="string")return!1;var e=LW;return e.includes(t)}function Rr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return _4(r)});return Object.fromEntries(e)}var oj=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",lj=null,t_=null,w4=t=>{if(t===lj&&Array.isArray(t_))return t_;var e=[];return T.Children.forEach(t,n=>{zt(n)||(NW.isFragment(n)?e=e.concat(w4(n.props.children)):e.push(n))}),t_=e,lj=t,e};function yE(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>oj(i)):r=[oj(e)],w4(t).forEach(i=>{var a=su(i,"type.displayName")||su(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var x4=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,$W=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&e_?.[r])!==null&&i!==void 0?i:[],o=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&a.includes(e)||_4(e)),f=!!n&&pE(e);return o||u||f},_t=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(T.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;$W((o=r)===null||o===void 0?void 0:o[a],a,e,n)&&(i[a]=r[a])}),i},VW=["children","width","height","viewBox","className","style","title","desc"];function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_x.apply(null,arguments)}function UW(t,e){if(t==null)return{};var n,r,i=BW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vE=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:u,title:f,desc:d}=t,h=UW(t,VW),p=a||{width:r,height:i,x:0,y:0},y=ot("recharts-surface",o);return T.createElement("svg",_x({},_t(h,!0,"svg"),{className:y,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),T.createElement("title",null,f),T.createElement("desc",null,d),n)}),zW=["children","className"];function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(null,arguments)}function qW(t,e){if(t==null)return{};var n,r,i=FW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pn=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=qW(t,zW),a=ot("recharts-layer",r);return T.createElement("g",wx({className:a},_t(i,!0),{ref:e}),n)}),E4=T.createContext(null),HW=()=>T.useContext(E4);function Wt(t){return function(){return t}}const S4=Math.cos,jg=Math.sin,oa=Math.sqrt,Ng=Math.PI,Ly=2*Ng,xx=Math.PI,Ex=2*xx,Ml=1e-6,KW=Ex-Ml;function T4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function GW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return T4;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class WW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?T4:GW(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,f=r-e,d=i-n,h=o-e,p=u-n,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Ml)if(!(Math.abs(p*f-d*h)>Ml)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-o,x=i-u,E=f*f+d*d,S=b*b+x*x,O=Math.sqrt(E),R=Math.sqrt(y),P=a*Math.tan((xx-Math.acos((E+y-S)/(2*O*R)))/2),$=P/R,D=P/O;Math.abs($-1)>Ml&&this._append`L${e+$*h},${n+$*p}`,this._append`A${a},${a},0,0,${+(p*b>h*x)},${this._x1=e+D*f},${this._y1=n+D*d}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=e+u,h=n+f,p=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Ml||Math.abs(this._y1-h)>Ml)&&this._append`L${d},${h}`,r&&(y<0&&(y=y%Ex+Ex),y>KW?this._append`A${r},${r},0,1,${p},${e-u},${n-f}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:y>Ml&&this._append`A${r},${r},0,${+(y>=xx)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function bE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new WW(e)}function _E(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function A4(t){this._context=t}A4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $y(t){return new A4(t)}function O4(t){return t[0]}function P4(t){return t[1]}function R4(t,e){var n=Wt(!0),r=null,i=$y,a=null,o=bE(u);t=typeof t=="function"?t:t===void 0?O4:Wt(t),e=typeof e=="function"?e:e===void 0?P4:Wt(e);function u(f){var d,h=(f=_E(f)).length,p,y=!1,b;for(r==null&&(a=i(b=o())),d=0;d<=h;++d)!(d<h&&n(p=f[d],d,f))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,d,f),+e(p,d,f));if(b)return a=null,b+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Wt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function Ip(t,e,n){var r=null,i=Wt(!0),a=null,o=$y,u=null,f=bE(d);t=typeof t=="function"?t:t===void 0?O4:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?P4:Wt(+n);function d(p){var y,b,x,E=(p=_E(p)).length,S,O=!1,R,P=new Array(E),$=new Array(E);for(a==null&&(u=o(R=f())),y=0;y<=E;++y){if(!(y<E&&i(S=p[y],y,p))===O)if(O=!O)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),x=y-1;x>=b;--x)u.point(P[x],$[x]);u.lineEnd(),u.areaEnd()}O&&(P[y]=+t(S,y,p),$[y]=+e(S,y,p),u.point(r?+r(S,y,p):P[y],n?+n(S,y,p):$[y]))}if(R)return u=null,R+""||null}function h(){return R4().defined(i).curve(o).context(a)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:Wt(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Wt(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Wt(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:Wt(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Wt(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Wt(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Wt(!!p),d):i},d.curve=function(p){return arguments.length?(o=p,a!=null&&(u=o(a)),d):o},d.context=function(p){return arguments.length?(p==null?a=u=null:u=o(a=p),d):a},d}class C4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function YW(t){return new C4(t,!0)}function XW(t){return new C4(t,!1)}const wE={draw(t,e){const n=oa(e/Ng);t.moveTo(n,0),t.arc(0,0,n,0,Ly)}},QW={draw(t,e){const n=oa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},j4=oa(1/3),JW=j4*2,ZW={draw(t,e){const n=oa(e/JW),r=n*j4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},eY={draw(t,e){const n=oa(e),r=-n/2;t.rect(r,r,n,n)}},tY=.8908130915292852,N4=jg(Ng/10)/jg(7*Ng/10),nY=jg(Ly/10)*N4,rY=-S4(Ly/10)*N4,iY={draw(t,e){const n=oa(e*tY),r=nY*n,i=rY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Ly*a/5,u=S4(o),f=jg(o);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},n_=oa(3),aY={draw(t,e){const n=-oa(e/(n_*3));t.moveTo(0,n*2),t.lineTo(-n_*n,-n),t.lineTo(n_*n,-n),t.closePath()}},Pi=-.5,Ri=oa(3)/2,Sx=1/oa(12),sY=(Sx/2+1)*3,oY={draw(t,e){const n=oa(e/sY),r=n/2,i=n*Sx,a=r,o=n*Sx+n,u=-a,f=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(u,f),t.lineTo(Pi*r-Ri*i,Ri*r+Pi*i),t.lineTo(Pi*a-Ri*o,Ri*a+Pi*o),t.lineTo(Pi*u-Ri*f,Ri*u+Pi*f),t.lineTo(Pi*r+Ri*i,Pi*i-Ri*r),t.lineTo(Pi*a+Ri*o,Pi*o-Ri*a),t.lineTo(Pi*u+Ri*f,Pi*f-Ri*u),t.closePath()}};function lY(t,e){let n=null,r=bE(i);t=typeof t=="function"?t:Wt(t||wE),e=typeof e=="function"?e:Wt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Wt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Wt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function kg(){}function Dg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function k4(t){this._context=t}k4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uY(t){return new k4(t)}function D4(t){this._context=t}D4.prototype={areaStart:kg,areaEnd:kg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Dg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cY(t){return new D4(t)}function I4(t){this._context=t}I4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Dg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fY(t){return new I4(t)}function M4(t){this._context=t}M4.prototype={areaStart:kg,areaEnd:kg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function dY(t){return new M4(t)}function uj(t){return t<0?-1:1}function cj(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(uj(a)+uj(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function fj(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function r_(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,o-u*n,a,o)}function Ig(t){this._context=t}Ig.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:r_(this,this._t0,fj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,r_(this,fj(this,n=cj(this,t,e)),n);break;default:r_(this,this._t0,n=cj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function L4(t){this._context=new $4(t)}(L4.prototype=Object.create(Ig.prototype)).point=function(t,e){Ig.prototype.point.call(this,e,t)};function $4(t){this._context=t}$4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function hY(t){return new Ig(t)}function mY(t){return new L4(t)}function V4(t){this._context=t}V4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=dj(t),i=dj(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function dj(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function pY(t){return new V4(t)}function Vy(t,e){this._context=t,this._t=e}Vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function gY(t){return new Vy(t,.5)}function yY(t){return new Vy(t,0)}function vY(t){return new Vy(t,1)}function Yc(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,u=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Tx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function bY(t,e){return t[e]}function _Y(t){const e=[];return e.key=t,e}function wY(){var t=Wt([]),e=Tx,n=Yc,r=bY;function i(a){var o=Array.from(t.apply(this,arguments),_Y),u,f=o.length,d=-1,h;for(const p of a)for(u=0,++d;u<f;++u)(o[u][d]=[0,+r(p,o[u].key,d,a)]).data=p;for(u=0,h=_E(e(o));u<f;++u)o[h[u]].index=u;return n(o,h),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Wt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Wt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Tx:typeof a=="function"?a:Wt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Yc,i):n},i}function xY(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Yc(t,e)}}function EY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,u=0;o<i;++o)u+=t[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}Yc(t,e)}}function SY(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var u=0,f=0,d=0;u<o;++u){for(var h=t[e[u]],p=h[r][1]||0,y=h[r-1][1]||0,b=(p-y)/2,x=0;x<u;++x){var E=t[e[x]],S=E[r][1]||0,O=E[r-1][1]||0;b+=S-O}f+=p,d+=b*p}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,Yc(t,e)}}var TY=["type","size","sizeType"];function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ax.apply(null,arguments)}function hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(n),!0).forEach(function(r){AY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AY(t,e,n){return(e=OY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OY(t){var e=PY(t,"string");return typeof e=="symbol"?e:e+""}function PY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RY(t,e){if(t==null)return{};var n,r,i=CY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function CY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var U4={symbolCircle:wE,symbolCross:QW,symbolDiamond:ZW,symbolSquare:eY,symbolStar:iY,symbolTriangle:aY,symbolWye:oY},jY=Math.PI/180,NY=t=>{var e="symbol".concat(Hh(t));return U4[e]||wE},kY=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*jY;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},DY=(t,e)=>{U4["symbol".concat(Hh(t))]=e},xE=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=RY(t,TY),a=mj(mj({},i),{},{type:e,size:n,sizeType:r}),o=()=>{var p=NY(e),y=lY().type(p).size(kY(n,r,e));return y()},{className:u,cx:f,cy:d}=a,h=_t(a,!0);return f===+f&&d===+d&&n===+n?T.createElement("path",Ax({},h,{className:ot("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(d,")"),d:o()})):null};xE.registerSymbol=DY;function Ox(){return Ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ox.apply(null,arguments)}function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(n),!0).forEach(function(r){EE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EE(t,e,n){return(e=MY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MY(t){var e=LY(t,"string");return typeof e=="symbol"?e:e+""}function LY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ci=32;class SE extends T.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Ci/2,a=Ci/6,o=Ci/3,u=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Ci,y2:i,className:"recharts-legend-icon"});if(f==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Ci,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return T.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ci/8,"h").concat(Ci,"v").concat(Ci*3/4,"h").concat(-Ci,"z"),className:"recharts-legend-icon"});if(T.isValidElement(e.legendIcon)){var d=IY({},e);return delete d.legendIcon,T.cloneElement(e.legendIcon,d)}return T.createElement(xE,{fill:u,cx:i,cy:i,size:Ci,sizeType:"diameter",type:f})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,u={x:0,y:0,width:Ci,height:Ci},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var y=h.formatter||i,b=ot({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var x=h.inactive?a:h.color,E=y?y(h.value,h,p):h.value;return T.createElement("li",Ox({className:b,style:f,key:"legend-item-".concat(p)},mf(this.props,h,p)),T.createElement(vE,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(E," legend icon")},this.renderIcon(h,o)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},E))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}EE(SE,"displayName","Legend");EE(SE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var i_={},a_={},gj;function $Y(){return gj||(gj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],u=r(o);i.has(u)||i.set(u,o)}return Array.from(i.values())}t.uniqBy=e})(a_)),a_}var s_={},yj;function Uy(){return yj||(yj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(s_)),s_}var o_={},l_={},u_={},vj;function VY(){return vj||(vj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(u_)),u_}var bj;function TE(){return bj||(bj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VY();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(l_)),l_}var c_={},_j;function UY(){return _j||(_j=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(c_)),c_}var wj;function BY(){return wj||(wj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TE(),n=UY();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(o_)),o_}var f_={},d_={},xj;function zY(){return xj||(xj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(d_)),d_}var h_={},m_={},p_={},g_={},Ej;function B4(){return Ej||(Ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(g_)),g_}var y_={},Sj;function z4(){return Sj||(Sj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(y_)),y_}var v_={},Tj;function AE(){return Tj||(Tj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(v_)),v_}var Aj;function qY(){return Aj||(Aj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OE(),n=B4(),r=z4(),i=AE();function a(p,y,b){return typeof b!="function"?e.isMatch(p,y):o(p,y,function x(E,S,O,R,P,$){const D=b(E,S,O,R,P,$);return D!==void 0?!!D:o(E,S,x,$)},new Map)}function o(p,y,b,x){if(y===p)return!0;switch(typeof y){case"object":return u(p,y,b,x);case"function":return Object.keys(y).length>0?o(p,{...y},b,x):i.eq(p,y);default:return n.isObject(p)?typeof y=="string"?y==="":!0:i.eq(p,y)}}function u(p,y,b,x){if(y==null)return!0;if(Array.isArray(y))return d(p,y,b,x);if(y instanceof Map)return f(p,y,b,x);if(y instanceof Set)return h(p,y,b,x);const E=Object.keys(y);if(p==null)return E.length===0;if(E.length===0)return!0;if(x&&x.has(y))return x.get(y)===p;x&&x.set(y,p);try{for(let S=0;S<E.length;S++){const O=E[S];if(!r.isPrimitive(p)&&!(O in p)||y[O]===void 0&&p[O]!==void 0||y[O]===null&&p[O]!==null||!b(p[O],y[O],O,p,y,x))return!1}return!0}finally{x&&x.delete(y)}}function f(p,y,b,x){if(y.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,S]of y.entries()){const O=p.get(E);if(b(O,S,E,p,y,x)===!1)return!1}return!0}function d(p,y,b,x){if(y.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let S=0;S<y.length;S++){const O=y[S];let R=!1;for(let P=0;P<p.length;P++){if(E.has(P))continue;const $=p[P];let D=!1;if(b($,O,S,p,y,x)&&(D=!0),D){E.add(P),R=!0;break}}if(!R)return!1}return!0}function h(p,y,b,x){return y.size===0?!0:p instanceof Set?d([...p],[...y],b,x):!1}t.isMatchWith=a,t.isSetMatch=h})(p_)),p_}var Oj;function OE(){return Oj||(Oj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qY();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(m_)),m_}var b_={},__={},w_={},Pj;function q4(){return Pj||(Pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(w_)),w_}var x_={},Rj;function PE(){return Rj||(Rj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(x_)),x_}var E_={},Cj;function RE(){return Cj||(Cj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",h="[object Array]",p="[object Function]",y="[object ArrayBuffer]",b="[object Object]",x="[object Error]",E="[object DataView]",S="[object Uint8Array]",O="[object Uint8ClampedArray]",R="[object Uint16Array]",P="[object Uint32Array]",$="[object BigUint64Array]",D="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",I="[object BigInt64Array]",M="[object Float32Array]",V="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=h,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=$,t.booleanTag=i,t.dataViewTag=E,t.dateTag=u,t.errorTag=x,t.float32ArrayTag=M,t.float64ArrayTag=V,t.functionTag=p,t.int16ArrayTag=N,t.int32ArrayTag=k,t.int8ArrayTag=D,t.mapTag=f,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=R,t.uint32ArrayTag=P,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=O})(E_)),E_}var S_={},jj;function FY(){return jj||(jj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(S_)),S_}var Nj;function F4(){return Nj||(Nj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q4(),n=PE(),r=RE(),i=z4(),a=FY();function o(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,y,b=new Map,x=void 0){const E=x?.(h,p,y,b);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const S=new Array(h.length);b.set(h,S);for(let O=0;O<h.length;O++)S[O]=u(h[O],O,y,b,x);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;b.set(h,S);for(const[O,R]of h)S.set(O,u(R,O,y,b,x));return S}if(h instanceof Set){const S=new Set;b.set(h,S);for(const O of h)S.add(u(O,void 0,y,b,x));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,S);for(let O=0;O<h.length;O++)S[O]=u(h[O],O,y,b,x);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,S),f(S,h,y,b,x),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return b.set(h,S),f(S,h,y,b,x),S}if(h instanceof Blob){const S=new Blob([h],{type:h.type});return b.set(h,S),f(S,h,y,b,x),S}if(h instanceof Error){const S=new h.constructor;return b.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,f(S,h,y,b,x),S}if(typeof h=="object"&&d(h)){const S=Object.create(Object.getPrototypeOf(h));return b.set(h,S),f(S,h,y,b,x),S}return h}function f(h,p,y=h,b,x){const E=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<E.length;S++){const O=E[S],R=Object.getOwnPropertyDescriptor(h,O);(R==null||R.writable)&&(h[O]=u(p[O],O,y,b,x))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=u,t.copyProperties=f})(__)),__}var kj;function HY(){return kj||(kj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(b_)),b_}var Dj;function KY(){return Dj||(Dj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OE(),n=HY();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(h_)),h_}var T_={},A_={},O_={},Ij;function GY(){return Ij||(Ij=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F4(),n=RE();function r(i,a){return e.cloneDeepWith(i,(o,u,f,d)=>{const h=a?.(o,u,f,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(O_)),O_}var Mj;function WY(){return Mj||(Mj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GY();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(A_)),A_}var P_={},R_={},Lj;function H4(){return Lj||(Lj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(R_)),R_}var C_={},$j;function YY(){return $j||($j=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PE();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(C_)),C_}var Vj;function XY(){return Vj||(Vj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g4(),n=H4(),r=YY(),i=hE();function a(o,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&o?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let d=o;for(let h=0;h<f.length;h++){const p=f[h];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=a})(P_)),P_}var Uj;function QY(){return Uj||(Uj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OE(),n=y4(),r=WY(),i=mE(),a=XY();function o(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(d){const h=i.get(d,u);return h===void 0?a.has(d,u):f===void 0?h===void 0:e.isMatch(h,f)}}t.matchesProperty=o})(T_)),T_}var Bj;function CE(){return Bj||(Bj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uy(),n=zY(),r=KY(),i=QY();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(f_)),f_}var zj;function JY(){return zj||(zj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$Y(),n=Uy(),r=BY(),i=CE();function a(o,u=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(u)):[]}t.uniqBy=a})(i_)),i_}var j_,qj;function ZY(){return qj||(qj=1,j_=JY().uniqBy),j_}var eX=ZY();const Fj=ci(eX);function K4(t,e,n){return e===!0?Fj(t,n):typeof e=="function"?Fj(t,e):t}var N_={exports:{}},k_={},D_={exports:{}},I_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hj;function tX(){if(Hj)return I_;Hj=1;var t=lf();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function u(p,y){var b=y(),x=r({inst:{value:b,getSnapshot:y}}),E=x[0].inst,S=x[1];return a(function(){E.value=b,E.getSnapshot=y,f(E)&&S({inst:E})},[p,b,y]),i(function(){return f(E)&&S({inst:E}),p(function(){f(E)&&S({inst:E})})},[p]),o(b),b}function f(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch{return!0}}function d(p,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return I_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,I_}var Kj;function nX(){return Kj||(Kj=1,D_.exports=tX()),D_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj;function rX(){if(Gj)return k_;Gj=1;var t=lf(),e=nX();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,u=t.useMemo,f=t.useDebugValue;return k_.useSyncExternalStoreWithSelector=function(d,h,p,y,b){var x=a(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=u(function(){function O(N){if(!R){if(R=!0,P=N,N=y(N),b!==void 0&&E.hasValue){var k=E.value;if(b(k,N))return $=k}return $=N}if(k=$,r(P,N))return k;var I=y(N);return b!==void 0&&b(k,I)?(P=N,k):(P=N,$=I)}var R=!1,P,$,D=p===void 0?null:p;return[function(){return O(h())},D===null?void 0:function(){return O(D())}]},[h,p,y,b]);var S=i(d,x[0],x[1]);return o(function(){E.hasValue=!0,E.value=S},[S]),f(S),S},k_}var Wj;function iX(){return Wj||(Wj=1,N_.exports=rX()),N_.exports}var aX=iX(),jE=T.createContext(null),sX=t=>t,Jt=()=>{var t=T.useContext(jE);return t?t.store.dispatch:sX},sg=()=>{},oX=()=>sg,lX=(t,e)=>t===e;function Se(t){var e=T.useContext(jE);return aX.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:oX,e?e.store.getState:sg,e?e.store.getState:sg,e?t:sg,lX)}function uX(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function cX(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function fX(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Yj=t=>Array.isArray(t)?t:[t];function dX(t){const e=Array.isArray(t[0])?t[0]:t;return fX(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function hX(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var mX=class{constructor(t){this.value=t}deref(){return this.value}},pX=typeof WeakRef<"u"?WeakRef:mX,gX=0,Xj=1;function Mp(){return{s:gX,v:void 0,o:null,p:null}}function G4(t,e={}){let n=Mp();const{resultEqualityCheck:r}=e;let i,a=0;function o(){let u=n;const{length:f}=arguments;for(let p=0,y=f;p<y;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let x=u.o;x===null&&(u.o=x=new WeakMap);const E=x.get(b);E===void 0?(u=Mp(),x.set(b,u)):u=E}else{let x=u.p;x===null&&(u.p=x=new Map);const E=x.get(b);E===void 0?(u=Mp(),x.set(b,u)):u=E}}const d=u;let h;if(u.s===Xj)h=u.v;else if(h=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new pX(h):h}return d.s=Xj,d.v=h,h}return o.clearCache=()=>{n=Mp(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function yX(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,u,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),uX(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...f},{memoize:p,memoizeOptions:y=[],argsMemoize:b=G4,argsMemoizeOptions:x=[]}=h,E=Yj(y),S=Yj(x),O=dX(i),R=p(function(){return a++,d.apply(null,arguments)},...E),P=b(function(){o++;const D=hX(O,arguments);return u=R.apply(null,D),u},...S);return Object.assign(P,{resultFunc:d,memoizedResultFunc:R,dependencies:O,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var te=yX(G4),vX=Object.assign((t,e=te)=>{cX(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,u,f)=>(o[n[f]]=u,o),{}))},{withTypes:()=>vX}),M_={},L_={},$_={},Qj;function bX(){return Qj||(Qj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),u=e(i);if(o===u&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-o:o-u}return 0};t.compareValues=n})($_)),$_}var V_={},U_={},Jj;function W4(){return Jj||(Jj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(U_)),U_}var Zj;function _X(){return Zj||(Zj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(V_)),V_}var eN;function wX(){return eN||(eN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bX(),n=_X(),r=hE();function i(a,o,u,f){if(a==null)return[];u=f?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const d=(b,x)=>{let E=b;for(let S=0;S<x.length&&E!=null;++S)E=E[x[S]];return E},h=(b,x)=>x==null||b==null?x:typeof b=="object"&&"key"in b?Object.hasOwn(x,b.key)?x[b.key]:d(x,b.path):typeof b=="function"?b(x):Array.isArray(b)?d(x,b):typeof x=="object"?x[b]:x,p=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(x=>h(x,b))})).slice().sort((b,x)=>{for(let E=0;E<p.length;E++){const S=e.compareValues(b.criteria[E],x.criteria[E],u[E]);if(S!==0)return S}return 0}).map(b=>b.original)}t.orderBy=i})(L_)),L_}var B_={},tN;function xX(){return tN||(tN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(u,f)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&f<a?o(h,f+1):i.push(h)}};return o(n,0),i}t.flatten=e})(B_)),B_}var z_={},nN;function Y4(){return nN||(nN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H4(),n=TE(),r=B4(),i=AE();function a(o,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],o):!1}t.isIterateeCall=a})(z_)),z_}var rN;function EX(){return rN||(rN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wX(),n=xX(),r=Y4();function i(a,...o){const u=o.length;return u>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:u>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(M_)),M_}var q_,iN;function SX(){return iN||(iN=1,q_=EX().sortBy),q_}var TX=SX();const By=ci(TX);var X4=t=>t.legend.settings,AX=t=>t.legend.size,OX=t=>t.legend.payload,PX=te([OX,X4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?By(r,n):r});function RX(){return Se(PX)}var Lp=1;function Q4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>Lp||Math.abs(o.left-e.left)>Lp||Math.abs(o.top-e.top)>Lp||Math.abs(o.width-e.width)>Lp)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ar(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var CX=typeof Symbol=="function"&&Symbol.observable||"@@observable",aN=CX,F_=()=>Math.random().toString(36).substring(7).split("").join("."),jX={INIT:`@@redux/INIT${F_()}`,REPLACE:`@@redux/REPLACE${F_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${F_()}`},Mg=jX;function NE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function J4(t,e,n){if(typeof t!="function")throw new Error(ar(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ar(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ar(1));return n(J4)(t,e)}let r=t,i=e,a=new Map,o=a,u=0,f=!1;function d(){o===a&&(o=new Map,a.forEach((S,O)=>{o.set(O,S)}))}function h(){if(f)throw new Error(ar(3));return i}function p(S){if(typeof S!="function")throw new Error(ar(4));if(f)throw new Error(ar(5));let O=!0;d();const R=u++;return o.set(R,S),function(){if(O){if(f)throw new Error(ar(6));O=!1,d(),o.delete(R),a=null}}}function y(S){if(!NE(S))throw new Error(ar(7));if(typeof S.type>"u")throw new Error(ar(8));if(typeof S.type!="string")throw new Error(ar(17));if(f)throw new Error(ar(9));try{f=!0,i=r(i,S)}finally{f=!1}return(a=o).forEach(R=>{R()}),S}function b(S){if(typeof S!="function")throw new Error(ar(10));r=S,y({type:Mg.REPLACE})}function x(){const S=p;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(ar(11));function R(){const $=O;$.next&&$.next(h())}return R(),{unsubscribe:S(R)}},[aN](){return this}}}return y({type:Mg.INIT}),{dispatch:y,subscribe:p,getState:h,replaceReducer:b,[aN]:x}}function NX(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Mg.INIT})>"u")throw new Error(ar(12));if(typeof n(void 0,{type:Mg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ar(13))})}function Z4(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{NX(n)}catch(a){i=a}return function(o={},u){if(i)throw i;let f=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],y=n[p],b=o[p],x=y(b,u);if(typeof x>"u")throw u&&u.type,new Error(ar(14));d[p]=x,f=f||x!==b}return f=f||r.length!==Object.keys(o).length,f?d:o}}function Lg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function kX(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(ar(15))};const o={getState:i.getState,dispatch:(f,...d)=>a(f,...d)},u=t.map(f=>f(o));return a=Lg(...u)(i.dispatch),{...i,dispatch:a}}}function eL(t){return NE(t)&&"type"in t&&typeof t.type=="string"}var tL=Symbol.for("immer-nothing"),sN=Symbol.for("immer-draftable"),oi=Symbol.for("immer-state");function na(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Xc=Object.getPrototypeOf;function ou(t){return!!t&&!!t[oi]}function Es(t){return t?nL(t)||Array.isArray(t)||!!t[sN]||!!t.constructor?.[sN]||qy(t)||Fy(t):!1}var DX=Object.prototype.constructor.toString();function nL(t){if(!t||typeof t!="object")return!1;const e=Xc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===DX}function $g(t,e){zy(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function zy(t){const e=t[oi];return e?e.type_:Array.isArray(t)?1:qy(t)?2:Fy(t)?3:0}function Px(t,e){return zy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function rL(t,e,n){const r=zy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function IX(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function qy(t){return t instanceof Map}function Fy(t){return t instanceof Set}function Ll(t){return t.copy_||t.base_}function Rx(t,e){if(qy(t))return new Map(t);if(Fy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=nL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[oi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],u=r[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[o]})}return Object.create(Xc(t),r)}else{const r=Xc(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function kE(t,e=!1){return Hy(t)||ou(t)||!Es(t)||(zy(t)>1&&(t.set=t.add=t.clear=t.delete=MX),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>kE(r,!0))),t}function MX(){na(2)}function Hy(t){return Object.isFrozen(t)}var LX={};function lu(t){const e=LX[t];return e||na(0,t),e}var xh;function iL(){return xh}function $X(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oN(t,e){e&&(lu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Cx(t){jx(t),t.drafts_.forEach(VX),t.drafts_=null}function jx(t){t===xh&&(xh=t.parent_)}function lN(t){return xh=$X(xh,t)}function VX(t){const e=t[oi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function uN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[oi].modified_&&(Cx(e),na(4)),Es(t)&&(t=Vg(e,t),e.parent_||Ug(e,t)),e.patches_&&lu("Patches").generateReplacementPatches_(n[oi].base_,t,e.patches_,e.inversePatches_)):t=Vg(e,n,[]),Cx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==tL?t:void 0}function Vg(t,e,n){if(Hy(e))return e;const r=e[oi];if(!r)return $g(e,(i,a)=>cN(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Ug(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),$g(a,(u,f)=>cN(t,r,i,u,f,n,o)),Ug(t,i,!1),n&&t.patches_&&lu("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function cN(t,e,n,r,i,a,o){if(ou(i)){const u=a&&e&&e.type_!==3&&!Px(e.assigned_,r)?a.concat(r):void 0,f=Vg(t,i,u);if(rL(n,r,f),ou(f))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Es(i)&&!Hy(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Vg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Ug(t,i)}}function Ug(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&kE(e,n)}function UX(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:iL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=DE;n&&(i=[r],a=Eh);const{revoke:o,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=o,u}var DE={get(t,e){if(e===oi)return t;const n=Ll(t);if(!Px(n,e))return BX(t,n,e);const r=n[e];return t.finalized_||!Es(r)?r:r===H_(t.base_,e)?(K_(t),t.copy_[e]=kx(r,t)):r},has(t,e){return e in Ll(t)},ownKeys(t){return Reflect.ownKeys(Ll(t))},set(t,e,n){const r=aL(Ll(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=H_(Ll(t),e),a=i?.[oi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(IX(n,i)&&(n!==void 0||Px(t.base_,e)))return!0;K_(t),Nx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return H_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,K_(t),Nx(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ll(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){na(11)},getPrototypeOf(t){return Xc(t.base_)},setPrototypeOf(){na(12)}},Eh={};$g(DE,(t,e)=>{Eh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Eh.deleteProperty=function(t,e){return Eh.set.call(this,t,e,void 0)};Eh.set=function(t,e,n){return DE.set.call(this,t[0],e,n,t[0])};function H_(t,e){const n=t[oi];return(n?Ll(n):t)[e]}function BX(t,e,n){const r=aL(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function aL(t,e){if(!(e in t))return;let n=Xc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Xc(n)}}function Nx(t){t.modified_||(t.modified_=!0,t.parent_&&Nx(t.parent_))}function K_(t){t.copy_||(t.copy_=Rx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var zX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(f=a,...d){return o.produce(f,h=>n.call(this,h,...d))}}typeof n!="function"&&na(6),r!==void 0&&typeof r!="function"&&na(7);let i;if(Es(e)){const a=lN(this),o=kx(e,void 0);let u=!0;try{i=n(o),u=!1}finally{u?Cx(a):jx(a)}return oN(a,r),uN(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===tL&&(i=void 0),this.autoFreeze_&&kE(i,!0),r){const a=[],o=[];lu("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else na(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...u)=>this.produceWithPatches(o,f=>e(f,...u));let r,i;return[this.produce(e,n,(o,u)=>{r=o,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Es(t)||na(8),ou(t)&&(t=vs(t));const e=lN(this),n=kx(t,void 0);return n[oi].isManual_=!0,jx(e),n}finishDraft(t,e){const n=t&&t[oi];(!n||!n.isManual_)&&na(9);const{scope_:r}=n;return oN(r,e),uN(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=lu("Patches").applyPatches_;return ou(t)?r(t,e):this.produce(t,i=>r(i,e))}};function kx(t,e){const n=qy(t)?lu("MapSet").proxyMap_(t,e):Fy(t)?lu("MapSet").proxySet_(t,e):UX(t,e);return(e?e.scope_:iL()).drafts_.push(n),n}function vs(t){return ou(t)||na(10,t),sL(t)}function sL(t){if(!Es(t)||Hy(t))return t;const e=t[oi];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Rx(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Rx(t,!0);return $g(n,(r,i)=>{rL(n,r,sL(i))}),e&&(e.finalized_=!1),n}var li=new zX,oL=li.produce;li.produceWithPatches.bind(li);li.setAutoFreeze.bind(li);li.setUseStrictShallowCopy.bind(li);li.applyPatches.bind(li);li.createDraft.bind(li);li.finishDraft.bind(li);function lL(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var qX=lL(),FX=lL,HX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lg:Lg.apply(null,arguments)};function Vi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ai(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>eL(r)&&r.type===t,n}var uL=class Kd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Kd.prototype)}static get[Symbol.species](){return Kd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Kd(...e[0].concat(this)):new Kd(...e.concat(this))}};function fN(t){return Es(t)?oL(t,()=>{}):t}function $p(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function KX(t){return typeof t=="boolean"}var GX=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new uL;return n&&(KX(n)?o.push(qX):o.push(FX(n.extraArgument))),o},WX="RTK_autoBatch",dN=t=>e=>{setTimeout(e,t)},YX=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dN(10):t.type==="callback"?t.queueNotification:dN(t.timeout),d=()=>{o=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),y=r.subscribe(p);return u.add(h),()=>{y(),u.delete(h)}},dispatch(h){try{return i=!h?.meta?.[WX],a=!i,a&&(o||(o=!0,f(d))),r.dispatch(h)}finally{i=!0}}})},XX=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new uL(t);return r&&i.push(YX(typeof r=="object"?r:void 0)),i};function QX(t){const e=GX(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(NE(n))u=Z4(n);else throw new Error(ai(1));let f;typeof r=="function"?f=r(e):f=e();let d=Lg;i&&(d=HX({trace:!1,...typeof i=="object"&&i}));const h=kX(...f),p=XX(h);let y=typeof o=="function"?o(p):p();const b=d(...y);return J4(u,a,b)}function cL(t){const e={},n=[];let r;const i={addCase(a,o){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(ai(28));if(u in e)throw new Error(ai(29));return e[u]=o,i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function JX(t){return typeof t=="function"}function ZX(t,e){let[n,r,i]=cL(e),a;if(JX(t))a=()=>fN(t());else{const u=fN(t);a=()=>u}function o(u=a(),f){let d=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,p)=>{if(p)if(ou(h)){const b=p(h,f);return b===void 0?h:b}else{if(Es(h))return oL(h,y=>p(y,f));{const y=p(h,f);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},u)}return o.getInitialState=a,o}var eQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tQ=(t=21)=>{let e="",n=t;for(;n--;)e+=eQ[Math.random()*64|0];return e},nQ=Symbol.for("rtk-slice-createasyncthunk");function rQ(t,e){return`${t}/${e}`}function iQ({creators:t}={}){const e=t?.asyncThunk?.[nQ];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(ai(11));const o=(typeof r.reducers=="function"?r.reducers(sQ()):r.reducers)||{},u=Object.keys(o),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(P,$){const D=typeof P=="string"?P:P.type;if(!D)throw new Error(ai(12));if(D in f.sliceCaseReducersByType)throw new Error(ai(13));return f.sliceCaseReducersByType[D]=$,d},addMatcher(P,$){return f.sliceMatchers.push({matcher:P,reducer:$}),d},exposeAction(P,$){return f.actionCreators[P]=$,d},exposeCaseReducer(P,$){return f.sliceCaseReducersByName[P]=$,d}};u.forEach(P=>{const $=o[P],D={reducerName:P,type:rQ(i,P),createNotation:typeof r.reducers=="function"};lQ($)?cQ(D,$,d,e):oQ(D,$,d)});function h(){const[P={},$=[],D=void 0]=typeof r.extraReducers=="function"?cL(r.extraReducers):[r.extraReducers],N={...P,...f.sliceCaseReducersByType};return ZX(r.initialState,k=>{for(let I in N)k.addCase(I,N[I]);for(let I of f.sliceMatchers)k.addMatcher(I.matcher,I.reducer);for(let I of $)k.addMatcher(I.matcher,I.reducer);D&&k.addDefaultCase(D)})}const p=P=>P,y=new Map,b=new WeakMap;let x;function E(P,$){return x||(x=h()),x(P,$)}function S(){return x||(x=h()),x.getInitialState()}function O(P,$=!1){function D(k){let I=k[P];return typeof I>"u"&&$&&(I=$p(b,D,S)),I}function N(k=p){const I=$p(y,$,()=>new WeakMap);return $p(I,k,()=>{const M={};for(const[V,z]of Object.entries(r.selectors??{}))M[V]=aQ(z,k,()=>$p(b,k,S),$);return M})}return{reducerPath:P,getSelectors:N,get selectors(){return N(D)},selectSlice:D}}const R={name:i,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:S,...O(a),injectInto(P,{reducerPath:$,...D}={}){const N=$??a;return P.inject({reducerPath:N,reducer:E},D),{...R,...O(N,!0)}}};return R}}function aQ(t,e,n,r){function i(a,...o){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...o)}return i.unwrapped=t,i}var fi=iQ();function sQ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function oQ({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!uQ(r))throw new Error(ai(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?Vi(t,o):Vi(t))}function lQ(t){return t._reducerDefinitionType==="asyncThunk"}function uQ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function cQ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ai(18));const{payloadCreator:a,fulfilled:o,pending:u,rejected:f,settled:d,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),u&&r.addCase(p.pending,u),f&&r.addCase(p.rejected,f),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:o||Vp,pending:u||Vp,rejected:f||Vp,settled:d||Vp})}function Vp(){}var fQ="task",fL="listener",dL="completed",IE="cancelled",dQ=`task-${IE}`,hQ=`task-${dL}`,Dx=`${fL}-${IE}`,mQ=`${fL}-${dL}`,Ky=class{constructor(t){this.code=t,this.message=`${fQ} ${IE} (reason: ${t})`}name="TaskAbortError";message},ME=(t,e)=>{if(typeof t!="function")throw new TypeError(ai(32))},Bg=()=>{},hL=(t,e=Bg)=>(t.catch(e),t),mL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ql=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Jl=t=>{if(t.aborted){const{reason:e}=t;throw new Ky(e)}};function pL(t,e){let n=Bg;return new Promise((r,i)=>{const a=()=>i(new Ky(t.reason));if(t.aborted){a();return}n=mL(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Bg})}var pQ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Ky?"cancelled":"rejected",error:n}}finally{e?.()}},zg=t=>e=>hL(pL(t,e).then(n=>(Jl(t),n))),gL=t=>{const e=zg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Lc}=Object,hN={},Gy="listenerMiddleware",gQ=(t,e)=>{const n=r=>mL(t,()=>Ql(r,t.reason));return(r,i)=>{ME(r);const a=new AbortController;n(a);const o=pQ(async()=>{Jl(t),Jl(a.signal);const u=await r({pause:zg(a.signal),delay:gL(a.signal),signal:a.signal});return Jl(a.signal),u},()=>Ql(a,hQ));return i?.autoJoin&&e.push(o.catch(Bg)),{result:zg(t)(o),cancel(){Ql(a,dQ)}}}},yQ=(t,e)=>{const n=async(r,i)=>{Jl(e);let a=()=>{};const u=[new Promise((f,d)=>{let h=t({predicate:r,effect:(p,y)=>{y.unsubscribe(),f([p,y.getState(),y.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await pL(e,Promise.race(u));return Jl(e),f}finally{a()}};return(r,i)=>hL(n(r,i))},yL=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Vi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ai(21));return ME(a),{predicate:i,type:e,effect:a}},vL=Lc(t=>{const{type:e,predicate:n,effect:r}=yL(t);return{id:tQ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ai(22))}}},{withTypes:()=>vL}),mN=(t,e)=>{const{type:n,effect:r,predicate:i}=yL(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Ix=t=>{t.pending.forEach(e=>{Ql(e,Dx)})},vQ=t=>()=>{t.forEach(Ix),t.clear()},pN=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},bL=Lc(Vi(`${Gy}/add`),{withTypes:()=>bL}),bQ=Vi(`${Gy}/removeAll`),_L=Lc(Vi(`${Gy}/remove`),{withTypes:()=>_L}),_Q=(...t)=>{console.error(`${Gy}/error`,...t)},Kh=(t={})=>{const e=new Map,{extra:n,onError:r=_Q}=t;ME(r);const i=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),p=>{h.unsubscribe(),p?.cancelActive&&Ix(h)}),a=h=>{const p=mN(e,h)??vL(h);return i(p)};Lc(a,{withTypes:()=>a});const o=h=>{const p=mN(e,h);return p&&(p.unsubscribe(),h.cancelActive&&Ix(p)),!!p};Lc(o,{withTypes:()=>o});const u=async(h,p,y,b)=>{const x=new AbortController,E=yQ(a,x.signal),S=[];try{h.pending.add(x),await Promise.resolve(h.effect(p,Lc({},y,{getOriginalState:b,condition:(O,R)=>E(O,R).then(Boolean),take:E,delay:gL(x.signal),pause:zg(x.signal),extra:n,signal:x.signal,fork:gQ(x.signal,S),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((O,R,P)=>{O!==x&&(Ql(O,Dx),P.delete(O))})},cancel:()=>{Ql(x,Dx),h.pending.delete(x)},throwIfCancelled:()=>{Jl(x.signal)}})))}catch(O){O instanceof Ky||pN(r,O,{raisedBy:"effect"})}finally{await Promise.all(S),Ql(x,mQ),h.pending.delete(x)}},f=vQ(e);return{middleware:h=>p=>y=>{if(!eL(y))return p(y);if(bL.match(y))return a(y.payload);if(bQ.match(y)){f();return}if(_L.match(y))return o(y.payload);let b=h.getState();const x=()=>{if(b===hN)throw new Error(ai(23));return b};let E;try{if(E=p(y),e.size>0){const S=h.getState(),O=Array.from(e.values());for(const R of O){let P=!1;try{P=R.predicate(y,S,b)}catch($){P=!1,pN(r,$,{raisedBy:"predicate"})}P&&u(R,y,h,x)}}}finally{b=hN}return E},startListening:a,stopListening:o,clearListeners:f}};function ai(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},wL=fi({name:"chartLayout",initialState:wQ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:xQ,setLayout:EQ,setChartSize:SQ,setScale:TQ}=wL.actions,AQ=wL.reducer;function gN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(n),!0).forEach(function(r){OQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OQ(t,e,n){return(e=PQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PQ(t){var e=RQ(t,"string");return typeof e=="symbol"?e:e+""}function RQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qg=Math.PI/180,CQ=t=>t*180/Math.PI,Vt=(t,e,n,r)=>({x:t+Math.cos(-qg*r)*n,y:e+Math.sin(-qg*r)*n}),jQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},NQ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},kQ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=NQ({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var u=(n-i)/o,f=Math.acos(u);return r>a&&(f=2*Math.PI-f),{radius:o,angle:CQ(f),angleInRadian:f}},DQ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},IQ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},MQ=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=kQ({x:n,y:r},e),{innerRadius:o,outerRadius:u}=e;if(i<o||i>u||i===0)return null;var{startAngle:f,endAngle:d}=DQ(e),h=a,p;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}return p?yN(yN({},e),{},{radius:i,angle:IQ(h,e)}):null},xL=t=>!T.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function EL(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){LQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LQ(t,e,n){return(e=$Q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Q(t){var e=VQ(t,"string");return typeof e=="symbol"?e:e+""}function VQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fn(t,e,n){return zt(t)||zt(e)?n:Ua(e)?su(t,e,n):typeof e=="function"?e(t):n}var UQ=(t,e,n,r,i)=>{var a,o=-1,u=(a=e?.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var d=f>0?n[f-1].coordinate:n[u-1].coordinate,h=n[f].coordinate,p=f>=u-1?n[0].coordinate:n[f+1].coordinate,y=void 0;if(Ur(h-d)!==Ur(p-h)){var b=[];if(Ur(p-h)===Ur(i[1]-i[0])){y=p;var x=h+i[1]-i[0];b[0]=Math.min(x,(x+d)/2),b[1]=Math.max(x,(x+d)/2)}else{y=d;var E=p+i[1]-i[0];b[0]=Math.min(h,(E+h)/2),b[1]=Math.max(h,(E+h)/2)}var S=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(t>S[0]&&t<=S[1]||t>=b[0]&&t<=b[1]){({index:o}=n[f]);break}}else{var O=Math.min(d,p),R=Math.max(d,p);if(t>(O+h)/2&&t<=(R+h)/2){({index:o}=n[f]);break}}}else if(e){for(var P=0;P<u;P++)if(P===0&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P>0&&P<u-1&&t>(e[P].coordinate+e[P-1].coordinate)/2&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P===u-1&&t>(e[P].coordinate+e[P-1].coordinate)/2){({index:o}=e[P]);break}}return o},BQ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:u}=e;if((u==="vertical"||u==="horizontal"&&o==="middle")&&a!=="center"&&Ae(t[a]))return ki(ki({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&o!=="middle"&&Ae(t[o]))return ki(ki({},t),{},{[o]:t[o]+(i||0)})}return t},ks=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",SL=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,o=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||o.push(e),a||o.push(n),o},TL=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:u,isCategorical:f,categoricalDomain:d,tickCount:h,ticks:p,niceTicks:y,axisType:b}=t;if(!o)return null;var x=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,E=i==="category"&&o.bandwidth?o.bandwidth()/x:0;if(E=b==="angleAxis"&&a&&a.length>=2?Ur(a[0]-a[1])*2*E:E,p||y){var S=(p||y||[]).map((O,R)=>{var P=r?r.indexOf(O):O;return{coordinate:o(P)+E,value:O,offset:E,index:R}});return S.filter(O=>!si(O.coordinate))}return f&&d?d.map((O,R)=>({coordinate:o(O)+E,value:O,index:R,offset:E})):o.ticks&&h!=null?o.ticks(h).map((O,R)=>({coordinate:o(O)+E,value:O,offset:E,index:R})):o.domain().map((O,R)=>({coordinate:o(O)+E,value:r?r[O]:O,index:R,offset:E}))},bN=1e-4,zQ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-bN,a=Math.max(r[0],r[1])+bN,o=t(e[0]),u=t(e[n-1]);(o<i||o>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},qQ=(t,e)=>{if(!e||e.length!==2||!Ae(e[0])||!Ae(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ae(t[0])||t[0]<n)&&(i[0]=n),(!Ae(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},FQ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,o=0;o<e;++o){var u=si(t[o][n][1])?t[o][n][0]:t[o][n][1];u>=0?(t[o][n][0]=i,t[o][n][1]=i+u,i=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+u,a=t[o][n][1])}},HQ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var o=si(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},KQ={sign:FQ,expand:xY,none:Yc,silhouette:EY,wiggle:SY,positive:HQ},GQ=(t,e,n)=>{var r=KQ[n],i=wY().keys(e).value((a,o)=>+fn(a,o,0)).order(Tx).offset(r);return i(t)};function WQ(t){return t==null?void 0:String(t)}function _N(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!zt(i[e.dataKey])){var u=b4(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var f=fn(i,zt(o)?e.dataKey:o);return zt(f)?null:e.scale(f)}var wN=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var u=fn(a,e.dataKey,e.scale.domain()[o]);return zt(u)?null:e.scale(u)-i/2+r},YQ=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},XQ=t=>{var e=t.flat(2).filter(Ae);return[Math.min(...e),Math.max(...e)]},QQ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],JQ=(t,e,n)=>{if(t!=null)return QQ(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:o}=a,u=o.reduce((f,d)=>{var h=EL(d,e,n),p=XQ(h);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},xN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uu=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=By(e,h=>h.coordinate),a=1/0,o=1,u=i.length;o<u;o++){var f=i[o],d=i[o-1];a=Math.min((f.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function SN(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return ki(ki({},e),{},{dataKey:n,payload:r,value:i,name:a})}function pf(t,e){if(t)return String(t);if(typeof e=="string")return e}function ZQ(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?MQ({x:t,y:e},r):null}var eJ=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=r;return ki(ki(ki({},r),Vt(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var u=i.coordinate,{angle:f}=r;return ki(ki(ki({},r),Vt(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},tJ=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ds=t=>t.layout.width,Is=t=>t.layout.height,nJ=t=>t.layout.scale,AL=t=>t.layout.margin,LE=te(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),$E=te(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),rJ="data-recharts-item-index",iJ="data-recharts-item-data-key",Wy=60;function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){aJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aJ(t,e,n){return(e=sJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=oJ(t,"string");return typeof e=="symbol"?e:e+""}function oJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lJ=t=>t.brush.height,Qn=te([Ds,Is,AL,lJ,LE,$E,X4,AX],(t,e,n,r,i,a,o,u)=>{var f=a.reduce((x,E)=>{var{orientation:S}=E;if(!E.mirror&&!E.hide){var O=typeof E.width=="number"?E.width:Wy;return _o(_o({},x),{},{[S]:x[S]+O})}return x},{left:n.left||0,right:n.right||0}),d=i.reduce((x,E)=>{var{orientation:S}=E;return!E.mirror&&!E.hide?_o(_o({},x),{},{[S]:su(x,"".concat(S))+E.height}):x},{top:n.top||0,bottom:n.bottom||0}),h=_o(_o({},d),f),p=h.bottom;h.bottom+=r,h=BQ(h,o,u);var y=t-h.left-h.right,b=e-h.top-h.bottom;return _o(_o({brushBottom:p},h),{},{width:Math.max(y,0),height:Math.max(b,0)})}),uJ=te(Qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),OL=te(Ds,Is,(t,e)=>({x:0,y:0,width:t,height:e})),cJ=T.createContext(null),_r=()=>T.useContext(cJ)!=null,Yy=t=>t.brush,Xy=te([Yy,Qn,AL],(t,e,n)=>({height:t.height,x:Ae(t.x)?t.x:e.left,y:Ae(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ae(t.width)?t.width:e.width})),VE=()=>{var t,e=_r(),n=Se(uJ),r=Se(Xy),i=(t=Se(Yy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},fJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},PL=()=>{var t;return(t=Se(Qn))!==null&&t!==void 0?t:fJ},UE=()=>Se(Ds),BE=()=>Se(Is),dJ={top:0,right:0,bottom:0,left:0},hJ=()=>{var t;return(t=Se(e=>e.layout.margin))!==null&&t!==void 0?t:dJ},lt=t=>t.layout.layoutType,Qy=()=>Se(lt),mJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},RL=fi({name:"legend",initialState:mJ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=vs(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:AN,setLegendSettings:pJ,addLegendPayload:CL,removeLegendPayload:jL}=RL.actions,gJ=RL.reducer,yJ=["contextPayload"];function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mx.apply(null,arguments)}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){zE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zE(t,e,n){return(e=vJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vJ(t){var e=bJ(t,"string");return typeof e=="symbol"?e:e+""}function bJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _J(t,e){if(t==null)return{};var n,r,i=wJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xJ(t){return t.value}function EJ(t){var{contextPayload:e}=t,n=_J(t,yJ),r=K4(e,t.payloadUniqBy,xJ),i=Qc(Qc({},n),{},{payload:r});return T.isValidElement(t.content)?T.cloneElement(t.content,i):typeof t.content=="function"?T.createElement(t.content,i):T.createElement(SE,i)}function SJ(t,e,n,r,i,a){var{layout:o,align:u,verticalAlign:f}=e,d,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&o==="vertical"?d={left:((r||0)-a.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?h={top:((i||0)-a.height)/2}:h=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Qc(Qc({},d),h)}function TJ(t){var e=Jt();return T.useEffect(()=>{e(pJ(t))},[e,t]),null}function AJ(t){var e=Jt();return T.useEffect(()=>(e(AN(t)),()=>{e(AN({width:0,height:0}))}),[e,t]),null}function OJ(t){var e=RX(),n=HW(),r=hJ(),{width:i,height:a,wrapperStyle:o,portal:u}=t,[f,d]=Q4([e]),h=UE(),p=BE(),y=h-(r.left||0)-(r.right||0),b=Zl.getWidthOrHeight(t.layout,a,i,y),x=u?o:Qc(Qc({position:"absolute",width:b?.width||i||"auto",height:b?.height||a||"auto"},SJ(o,t,r,h,p,f)),o),E=u??n;if(E==null)return null;var S=T.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},T.createElement(TJ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),T.createElement(AJ,{width:f.width,height:f.height}),T.createElement(EJ,Mx({},t,b,{margin:r,chartWidth:h,chartHeight:p,contextPayload:e})));return T1.createPortal(S,E)}class Zl extends T.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Ae(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return T.createElement(OJ,this.props)}}zE(Zl,"displayName","Legend");zE(Zl,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lx.apply(null,arguments)}function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){PJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PJ(t,e,n){return(e=RJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RJ(t){var e=CJ(t,"string");return typeof e=="symbol"?e:e+""}function CJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jJ(t){return Array.isArray(t)&&Ua(t[0])&&Ua(t[1])?t.join(" ~ "):t}var NJ=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:u,wrapperClassName:f,labelClassName:d,label:h,labelFormatter:p,accessibilityLayer:y=!1}=t,b=()=>{if(a&&a.length){var D={padding:0,margin:0},N=(u?By(a,u):a).map((k,I)=>{if(k.type==="none")return null;var M=k.formatter||o||jJ,{value:V,name:z}=k,q=V,U=z;if(M){var ge=M(V,z,k,I,a);if(Array.isArray(ge))[q,U]=ge;else if(ge!=null)q=ge;else return null}var we=G_({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:we},Ua(U)?T.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Ua(U)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},q),T.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:D},N)}return null},x=G_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=G_({margin:0},i),S=!zt(h),O=S?h:"",R=ot("recharts-default-tooltip",f),P=ot("recharts-tooltip-label",d);S&&p&&a!==void 0&&a!==null&&(O=p(h,a));var $=y?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",Lx({className:R,style:x},$),T.createElement("p",{className:P,style:E},T.isValidElement(O)?O:"".concat(O)),b())},jd="recharts-tooltip-wrapper",kJ={visibility:"hidden"};function DJ(t){var{coordinate:e,translateX:n,translateY:r}=t;return ot(jd,{["".concat(jd,"-right")]:Ae(n)&&e&&Ae(e.x)&&n>=e.x,["".concat(jd,"-left")]:Ae(n)&&e&&Ae(e.x)&&n<e.x,["".concat(jd,"-bottom")]:Ae(r)&&e&&Ae(e.y)&&r>=e.y,["".concat(jd,"-top")]:Ae(r)&&e&&Ae(e.y)&&r<e.y})}function RN(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:u,viewBox:f,viewBoxDimension:d}=t;if(a&&Ae(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return o[r]?h:p;var y=f[r];if(y==null)return 0;if(o[r]){var b=h,x=y;return b<x?Math.max(p,y):Math.max(h,y)}if(d==null)return 0;var E=p+u,S=y+d;return E>S?Math.max(h,y):Math.max(p,y)}function IJ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function MJ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:u,viewBox:f}=t,d,h,p;return o.height>0&&o.width>0&&n?(h=RN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:f,viewBoxDimension:f.width}),p=RN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:f,viewBoxDimension:f.height}),d=IJ({translateX:h,translateY:p,useTranslate3d:u})):d=kJ,{cssProperties:d,cssClasses:DJ({translateX:h,translateY:p,coordinate:n})}}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(r){$x(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $x(t,e,n){return(e=LJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LJ(t){var e=$J(t,"string");return typeof e=="symbol"?e:e+""}function $J(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class VJ extends T.PureComponent{constructor(){super(...arguments),$x(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$x(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:u,isAnimationActive:f,offset:d,position:h,reverseDirection:p,useTranslate3d:y,viewBox:b,wrapperStyle:x,lastBoundingBox:E,innerRef:S,hasPortalFromProps:O}=this.props,{cssClasses:R,cssProperties:P}=MJ({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:b}),$=O?{}:Up(Up({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),D=Up(Up({},$),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},x);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:D,ref:S},a)}}var UJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),_u={isSsr:UJ()},NL=()=>Se(t=>t.rootProps.accessibilityLayer);function ui(t){return Number.isFinite(t)}function Jc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Vx(){return Vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vx.apply(null,arguments)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){BJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BJ(t,e,n){return(e=zJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zJ(t){var e=qJ(t,"string");return typeof e=="symbol"?e:e+""}function qJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kN={curveBasisClosed:cY,curveBasisOpen:fY,curveBasis:uY,curveBumpX:YW,curveBumpY:XW,curveLinearClosed:dY,curveLinear:$y,curveMonotoneX:hY,curveMonotoneY:mY,curveNatural:pY,curveStep:gY,curveStepAfter:vY,curveStepBefore:yY},Bp=t=>ui(t.x)&&ui(t.y),Nd=t=>t.x,kd=t=>t.y,FJ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Hh(t));return(n==="curveMonotone"||n==="curveBump")&&e?kN["".concat(n).concat(e==="vertical"?"Y":"X")]:kN[n]||$y},HJ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=FJ(e,i),u=a?n.filter(Bp):n,f;if(Array.isArray(r)){var d=a?r.filter(p=>Bp(p)):r,h=u.map((p,y)=>NN(NN({},p),{},{base:d[y]}));return i==="vertical"?f=Ip().y(kd).x1(Nd).x0(p=>p.base.x):f=Ip().x(Nd).y1(kd).y0(p=>p.base.y),f.defined(Bp).curve(o),f(h)}return i==="vertical"&&Ae(r)?f=Ip().y(kd).x1(Nd).x0(r):Ae(r)?f=Ip().x(Nd).y1(kd).y0(r):f=R4().x(Nd).y(kd),f.defined(Bp).curve(o),f(u)},kL=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?HJ(t):r;return T.createElement("path",Vx({},Rr(t),gE(t),{className:ot("recharts-curve",e),d:a===null?void 0:a,ref:i}))},KJ=["x","y","top","left","width","height","className"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ux.apply(null,arguments)}function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){WJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WJ(t,e,n){return(e=YJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YJ(t){var e=XJ(t,"string");return typeof e=="symbol"?e:e+""}function XJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QJ(t,e){if(t==null)return{};var n,r,i=JJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function JJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ZJ=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),eZ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:u}=t,f=QJ(t,KJ),d=GJ({x:e,y:n,top:r,left:i,width:a,height:o},f);return!Ae(e)||!Ae(n)||!Ae(a)||!Ae(o)||!Ae(r)||!Ae(i)?null:T.createElement("path",Ux({},_t(d,!0),{className:ot("recharts-cross",u),d:ZJ(e,n,a,o,r,i)}))};function tZ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){rZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rZ(t,e,n){return(e=iZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iZ(t){var e=aZ(t,"string");return typeof e=="symbol"?e:e+""}function aZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bi(t,e){var n=nZ({},t),r=e,i=Object.keys(e),a=i.reduce((o,u)=>(o[u]===void 0&&r[u]!==void 0&&(o[u]=r[u]),o),n);return a}var W_={},Y_={},X_={},MN;function sZ(){return MN||(MN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(X_)),X_}var LN;function oZ(){return LN||(LN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sZ(),n=q4(),r=PE(),i=RE(),a=AE();function o(d,h,p){return u(d,h,void 0,void 0,void 0,void 0,p)}function u(d,h,p,y,b,x,E){const S=E(d,h,p,y,b,x);if(S!==void 0)return S;if(typeof d==typeof h)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===h;case"number":return d===h||Object.is(d,h);case"function":return d===h;case"object":return f(d,h,x,E)}return f(d,h,x,E)}function f(d,h,p,y){if(Object.is(d,h))return!0;let b=r.getTag(d),x=r.getTag(h);if(b===i.argumentsTag&&(b=i.objectTag),x===i.argumentsTag&&(x=i.objectTag),b!==x)return!1;switch(b){case i.stringTag:return d.toString()===h.toString();case i.numberTag:{const O=d.valueOf(),R=h.valueOf();return a.eq(O,R)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(d.valueOf(),h.valueOf());case i.regexpTag:return d.source===h.source&&d.flags===h.flags;case i.functionTag:return d===h}p=p??new Map;const E=p.get(d),S=p.get(h);if(E!=null&&S!=null)return E===h;p.set(d,h),p.set(h,d);try{switch(b){case i.mapTag:{if(d.size!==h.size)return!1;for(const[O,R]of d.entries())if(!h.has(O)||!u(R,h.get(O),O,d,h,p,y))return!1;return!0}case i.setTag:{if(d.size!==h.size)return!1;const O=Array.from(d.values()),R=Array.from(h.values());for(let P=0;P<O.length;P++){const $=O[P],D=R.findIndex(N=>u($,N,void 0,d,h,p,y));if(D===-1)return!1;R.splice(D,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(h)||d.length!==h.length)return!1;for(let O=0;O<d.length;O++)if(!u(d[O],h[O],O,d,h,p,y))return!1;return!0}case i.arrayBufferTag:return d.byteLength!==h.byteLength?!1:f(new Uint8Array(d),new Uint8Array(h),p,y);case i.dataViewTag:return d.byteLength!==h.byteLength||d.byteOffset!==h.byteOffset?!1:f(new Uint8Array(d),new Uint8Array(h),p,y);case i.errorTag:return d.name===h.name&&d.message===h.message;case i.objectTag:{if(!(f(d.constructor,h.constructor,p,y)||e.isPlainObject(d)&&e.isPlainObject(h)))return!1;const R=[...Object.keys(d),...n.getSymbols(d)],P=[...Object.keys(h),...n.getSymbols(h)];if(R.length!==P.length)return!1;for(let $=0;$<R.length;$++){const D=R[$],N=d[D];if(!Object.hasOwn(h,D))return!1;const k=h[D];if(!u(N,k,D,d,h,p,y))return!1}return!0}default:return!1}}finally{p.delete(d),p.delete(h)}}t.isEqualWith=o})(Y_)),Y_}var Q_={},$N;function lZ(){return $N||($N=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(Q_)),Q_}var VN;function uZ(){return VN||(VN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oZ(),n=lZ();function r(i,a){return e.isEqualWith(i,a,n.noop)}t.isEqual=r})(W_)),W_}var J_,UN;function cZ(){return UN||(UN=1,J_=uZ().isEqual),J_}var fZ=cZ();const dZ=ci(fZ);var Fg=1e-4,DL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],IL=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),BN=(t,e)=>n=>{var r=DL(t,e);return IL(r,n)},hZ=(t,e)=>n=>{var r=DL(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return IL(i,n)},zN=function(){for(var e,n,r,i,a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=o[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else o.length===4&&([e,r,n,i]=o);var d=BN(e,n),h=BN(r,i),p=hZ(e,n),y=x=>x>1?1:x<0?0:x,b=x=>{for(var E=x>1?1:x,S=E,O=0;O<8;++O){var R=d(S)-E,P=p(S);if(Math.abs(R-E)<Fg||P<Fg)return h(S);S=y(S-R/P)}return h(S)};return b.isStepper=!1,b},mZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,u,f)=>{var d=-(o-u)*n,h=f*r,p=f+(d-h)*i/1e3,y=f*i/1e3+o;return Math.abs(y-u)<Fg&&Math.abs(p)<Fg?[u,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},ML=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zN(t);case"spring":return mZ();default:if(t.split("(")[0]==="cubic-bezier")return zN(t)}return typeof t=="function"?t:null};function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(n),!0).forEach(function(r){pZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pZ(t,e,n){return(e=gZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZ(t){var e=yZ(t,"string");return typeof e=="symbol"?e:e+""}function yZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vZ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),bZ=(t,e,n)=>t.map(r=>"".concat(vZ(r)," ").concat(e,"ms ").concat(n)).join(","),_Z=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Sh=(t,e)=>Object.keys(e).reduce((n,r)=>FN(FN({},n),{},{[r]:t(r,e[r])}),{});function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(r){wZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wZ(t,e,n){return(e=xZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xZ(t){var e=EZ(t,"string");return typeof e=="symbol"?e:e+""}function EZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hg=(t,e,n)=>t+(e-t)*n,Bx=t=>{var{from:e,to:n}=t;return e!==n},LL=(t,e,n)=>{var r=Sh((i,a)=>{if(Bx(a)){var[o,u]=t(a.from,a.to,a.velocity);return or(or({},a),{},{from:o,velocity:u})}return a},e);return n<1?Sh((i,a)=>Bx(a)?or(or({},a),{},{velocity:Hg(a.velocity,r[i].velocity,n),from:Hg(a.from,r[i].from,n)}):a,e):LL(t,r,n-1)};function SZ(t,e,n,r,i,a){var o,u=r.reduce((y,b)=>or(or({},y),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>Sh((y,b)=>b.from,u),d=()=>!Object.values(u).filter(Bx).length,h=null,p=y=>{o||(o=y);var b=y-o,x=b/n.dt;u=LL(n,u,x),i(or(or(or({},t),e),f())),o=y,d()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{h()})}function TZ(t,e,n,r,i,a,o){var u=null,f=i.reduce((p,y)=>or(or({},p),{},{[y]:[t[y],e[y]]}),{}),d,h=p=>{d||(d=p);var y=(p-d)/r,b=Sh((E,S)=>Hg(...S,n(y)),f);if(a(or(or(or({},t),e),b)),y<1)u=o.setTimeout(h);else{var x=Sh((E,S)=>Hg(...S,n(1)),f);a(or(or(or({},t),e),x))}};return()=>(u=o.setTimeout(h),()=>{u()})}const $L=(t,e,n,r,i,a)=>{var o=_Z(t,e);return n.isStepper===!0?SZ(t,e,n,o,i,a):TZ(t,e,n,r,o,i,a)};function AZ(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var u=o,[f,...d]=u;if(typeof f=="number"){i=t.setTimeout(a.bind(null,d),f);return}a(f),i=t.setTimeout(a.bind(null,d));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class OZ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function PZ(){return AZ(new OZ)}var RZ=T.createContext(PZ);function VL(t,e){var n=T.useContext(RZ);return T.useMemo(()=>e??n(t),[t,e,n])}var CZ=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function zx(){return zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zx.apply(null,arguments)}function jZ(t,e){if(t==null)return{};var n,r,i=NZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function NZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(n),!0).forEach(function(r){Kl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kl(t,e,n){return(e=kZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kZ(t){var e=DZ(t,"string");return typeof e=="symbol"?e:e+""}function DZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qE extends T.PureComponent{constructor(e,n){super(e,n),Kl(this,"mounted",!1),Kl(this,"manager",void 0),Kl(this,"stopJSAnimation",null),Kl(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:a,to:o,children:u,duration:f,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:o});return}if(a){if(typeof u=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:a,to:o,from:u}=this.props,{style:f}=this.state;if(r){if(!n){var d={style:i?{[i]:o}:o};this.state&&f&&(i&&f[i]!==o||!i&&f!==o)&&this.setState(d);return}if(!(dZ(e.to,o)&&e.canBegin&&e.isActive)){var h=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=h||a?u:e.to;if(this.state&&f){var y={style:i?{[i]:p}:p};(i&&f[i]!==p||!i&&f!==p)&&this.setState(y)}this.runAnimation(wo(wo({},this.props),{},{from:p,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:a,begin:o,onAnimationEnd:u,onAnimationStart:f}=e,d=$L(n,r,ML(a),i,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=d()};this.manager.start([f,o,h,i,u])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:a,easing:o,onAnimationStart:u,onAnimationEnd:f,children:d}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof d=="function"||o==="spring"){this.runJSAnimation(e);return}var h=i?{[i]:a}:a,p=bZ(Object.keys(h),r,o);this.manager.start([u,n,wo(wo({},h),{},{transition:p}),r,f])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:a,easing:o,isActive:u,from:f,to:d,canBegin:h,onAnimationEnd:p,shouldReAnimate:y,onAnimationReStart:b,animationManager:x}=e,E=jZ(e,CZ),S=T.Children.count(n),O=this.state.style;if(typeof n=="function")return n(O);if(!u||S===0||i<=0)return n;var R=P=>{var{style:$={},className:D}=P.props,N=T.cloneElement(P,wo(wo({},E),{},{style:wo(wo({},$),O),className:D}));return N};return S===1?R(T.Children.only(n)):T.createElement("div",null,T.Children.map(n,P=>R(P)))}}Kl(qE,"displayName","Animate");Kl(qE,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Kg(t){var e,n=VL((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return T.createElement(qE,zx({},t,{animationManager:n}))}function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(null,arguments)}var GN=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,y=4;p<y;p++)h[p]=i[p]>a?a:i[p];d="M".concat(t,",").concat(e+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+u*h[0],",").concat(e)),d+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+o*h[1])),d+="L ".concat(t+n,",").concat(e+r-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),d+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-o*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);d="M ".concat(t,",").concat(e+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+u*b,",").concat(e,`
            L `).concat(t+n-u*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(e+o*b,`
            L `).concat(t+n,",").concat(e+r-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-u*b,",").concat(e+r,`
            L `).concat(t+u*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+r-o*b," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},IZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UL=t=>{var e=Bi(t,IZ),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&i(O)}catch{}},[]);var{x:a,y:o,width:u,height:f,radius:d,className:h}=e,{animationEasing:p,animationDuration:y,animationBegin:b,isAnimationActive:x,isUpdateAnimationActive:E}=e;if(a!==+a||o!==+o||u!==+u||f!==+f||u===0||f===0)return null;var S=ot("recharts-rectangle",h);return E?T.createElement(Kg,{canBegin:r>0,from:{width:u,height:f,x:a,y:o},to:{width:u,height:f,x:a,y:o},duration:y,animationEasing:p,isActive:E},O=>{var{width:R,height:P,x:$,y:D}=O;return T.createElement(Kg,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:x,easing:p},T.createElement("path",Gg({},_t(e,!0),{className:S,d:GN($,D,R,P,d),ref:n})))}):T.createElement("path",Gg({},_t(e,!0),{className:S,d:GN(a,o,u,f,d)}))};function BL(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=Vt(e,n,r,i),u=Vt(e,n,r,a);return{points:[o,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qx.apply(null,arguments)}var MZ=(t,e)=>{var n=Ur(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},zp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:u,cornerIsExternal:f}=t,d=u*(o?1:-1)+r,h=Math.asin(u/d)/qg,p=f?i:i+a*h,y=Vt(e,n,d,p),b=Vt(e,n,r,p),x=f?i-a*h:i,E=Vt(e,n,d*Math.cos(h*qg),x);return{center:y,circleTangency:b,lineTangency:E,theta:h}},zL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,u=MZ(a,o),f=a+u,d=Vt(e,n,i,a),h=Vt(e,n,i,f),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var y=Vt(e,n,r,a),b=Vt(e,n,r,f);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},LZ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:d}=t,h=Ur(d-f),{circleTangency:p,lineTangency:y,theta:b}=zp({cx:e,cy:n,radius:i,angle:f,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:x,lineTangency:E,theta:S}=zp({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:u}),O=u?Math.abs(f-d):Math.abs(f-d)-b-S;if(O<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):zL({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var R="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:$,theta:D}=zp({cx:e,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:N,lineTangency:k,theta:I}=zp({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),M=u?Math.abs(f-d):Math.abs(f-d)-D-I;if(M<0&&a===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat($.x,",").concat($.y,"Z")}else R+="L".concat(e,",").concat(n,"Z");return R},$Z={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qL=t=>{var e=Bi(t,$Z),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h,className:p}=e;if(a<i||d===h)return null;var y=ot("recharts-sector",p),b=a-i,x=sa(o,b,0,!0),E;return x>0&&Math.abs(d-h)<360?E=LZ({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(x,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h}):E=zL({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),T.createElement("path",qx({},_t(e,!0),{className:y,d:E}))};function VZ(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:f,innerRadius:d,outerRadius:h,angle:p}=e,y=Vt(u,f,d,p),b=Vt(u,f,h,p);r=y.x,i=y.y,a=b.x,o=b.y}else return BL(e);return[{x:r,y:i},{x:a,y:o}]}var Z_={},ew={},tw={},WN;function UZ(){return WN||(WN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(tw)),tw}var YN;function BZ(){return YN||(YN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UZ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(ew)),ew}var XN;function zZ(){return XN||(XN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y4(),n=BZ();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const u=Math.max(Math.ceil((a-i)/(o||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=i,i+=o;return f}t.range=r})(Z_)),Z_}var nw,QN;function qZ(){return QN||(QN=1,nw=zZ().range),nw}var FZ=qZ();const FL=ci(FZ);function Lo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function HZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FE(t){let e,n,r;t.length!==2?(e=Lo,n=(u,f)=>Lo(t(u),f),r=(u,f)=>t(u)-f):(e=t===Lo||t===HZ?t:KZ,n=t,r=t);function i(u,f,d=0,h=u.length){if(d<h){if(e(f,f)!==0)return h;do{const p=d+h>>>1;n(u[p],f)<0?d=p+1:h=p}while(d<h)}return d}function a(u,f,d=0,h=u.length){if(d<h){if(e(f,f)!==0)return h;do{const p=d+h>>>1;n(u[p],f)<=0?d=p+1:h=p}while(d<h)}return d}function o(u,f,d=0,h=u.length){const p=i(u,f,d,h-1);return p>d&&r(u[p-1],f)>-r(u[p],f)?p-1:p}return{left:i,center:o,right:a}}function KZ(){return 0}function HL(t){return t===null?NaN:+t}function*GZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const WZ=FE(Lo),Gh=WZ.right;FE(HL).center;class JN extends Map{constructor(e,n=QZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ZN(this,e))}has(e){return super.has(ZN(this,e))}set(e,n){return super.set(YZ(this,e),n)}delete(e){return super.delete(XZ(this,e))}}function ZN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function YZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function XZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function QZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function JZ(t=Lo){if(t===Lo)return KL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function KL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ZZ=Math.sqrt(50),eee=Math.sqrt(10),tee=Math.sqrt(2);function Wg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=ZZ?10:a>=eee?5:a>=tee?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/o,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*o,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?Wg(t,e,n*2):[u,f,d]}function Fx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Wg(e,t,n):Wg(t,e,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(o<0)for(let d=0;d<u;++d)f[d]=(a-d)/-o;else for(let d=0;d<u;++d)f[d]=(a-d)*o;else if(o<0)for(let d=0;d<u;++d)f[d]=(i+d)/-o;else for(let d=0;d<u;++d)f[d]=(i+d)*o;return f}function Hx(t,e,n){return e=+e,t=+t,n=+n,Wg(t,e,n)[2]}function Kx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Hx(e,t,n):Hx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function e2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function t2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function GL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?KL:JZ(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,h=Math.log(f),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(f-p)/f)*(d-f/2<0?-1:1),b=Math.max(n,Math.floor(e-d*p/f+y)),x=Math.min(r,Math.floor(e+(f-d)*p/f+y));GL(t,e,b,x,i)}const a=t[e];let o=n,u=r;for(Dd(t,n,e),i(t[r],a)>0&&Dd(t,n,r);o<u;){for(Dd(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Dd(t,n,u):(++u,Dd(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Dd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function nee(t,e,n){if(t=Float64Array.from(GZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return t2(t);if(e>=1)return e2(t);var r,i=(r-1)*e,a=Math.floor(i),o=e2(GL(t,a).subarray(0,a+1)),u=t2(t.subarray(a+1));return o+(u-o)*(i-a)}}function ree(t,e,n=HL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function iee(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function zi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ms(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Gx=Symbol("implicit");function HE(){var t=new JN,e=[],n=[],r=Gx;function i(a){let o=t.get(a);if(o===void 0){if(r!==Gx)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new JN;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return HE(e,n).unknown(r)},zi.apply(i,arguments),i}function KE(){var t=HE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,u=!1,f=0,d=0,h=.5;delete t.unknown;function p(){var y=e().length,b=i<r,x=b?i:r,E=b?r:i;a=(E-x)/Math.max(1,y-f+d*2),u&&(a=Math.floor(a)),x+=(E-x-a*(y-f))*h,o=a*(1-f),u&&(x=Math.round(x),o=Math.round(o));var S=iee(y).map(function(O){return x+a*O});return n(b?S.reverse():S)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,p()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,d=+y),p()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),p()):f},t.paddingOuter=function(y){return arguments.length?(d=+y,p()):d},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},t.copy=function(){return KE(e(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(h)},zi.apply(p(),arguments)}function WL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return WL(e())},t}function aee(){return WL(KE.apply(null,arguments).paddingInner(1))}function GE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function YL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wh(){}var Th=.7,Yg=1/Th,$c="\\s*([+-]?\\d+)\\s*",Ah="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ma="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",see=/^#([0-9a-f]{3,8})$/,oee=new RegExp(`^rgb\\(${$c},${$c},${$c}\\)$`),lee=new RegExp(`^rgb\\(${Ma},${Ma},${Ma}\\)$`),uee=new RegExp(`^rgba\\(${$c},${$c},${$c},${Ah}\\)$`),cee=new RegExp(`^rgba\\(${Ma},${Ma},${Ma},${Ah}\\)$`),fee=new RegExp(`^hsl\\(${Ah},${Ma},${Ma}\\)$`),dee=new RegExp(`^hsla\\(${Ah},${Ma},${Ma},${Ah}\\)$`),n2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GE(Wh,Oh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:r2,formatHex:r2,formatHex8:hee,formatHsl:mee,formatRgb:i2,toString:i2});function r2(){return this.rgb().formatHex()}function hee(){return this.rgb().formatHex8()}function mee(){return XL(this).formatHsl()}function i2(){return this.rgb().formatRgb()}function Oh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=see.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?a2(e):n===3?new Br(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oee.exec(t))?new Br(e[1],e[2],e[3],1):(e=lee.exec(t))?new Br(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uee.exec(t))?qp(e[1],e[2],e[3],e[4]):(e=cee.exec(t))?qp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fee.exec(t))?l2(e[1],e[2]/100,e[3]/100,1):(e=dee.exec(t))?l2(e[1],e[2]/100,e[3]/100,e[4]):n2.hasOwnProperty(t)?a2(n2[t]):t==="transparent"?new Br(NaN,NaN,NaN,0):null}function a2(t){return new Br(t>>16&255,t>>8&255,t&255,1)}function qp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Br(t,e,n,r)}function pee(t){return t instanceof Wh||(t=Oh(t)),t?(t=t.rgb(),new Br(t.r,t.g,t.b,t.opacity)):new Br}function Wx(t,e,n,r){return arguments.length===1?pee(t):new Br(t,e,n,r??1)}function Br(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}GE(Br,Wx,YL(Wh,{brighter(t){return t=t==null?Yg:Math.pow(Yg,t),new Br(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Th:Math.pow(Th,t),new Br(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Br(eu(this.r),eu(this.g),eu(this.b),Xg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s2,formatHex:s2,formatHex8:gee,formatRgb:o2,toString:o2}));function s2(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}`}function gee(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}${Gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function o2(){const t=Xg(this.opacity);return`${t===1?"rgb(":"rgba("}${eu(this.r)}, ${eu(this.g)}, ${eu(this.b)}${t===1?")":`, ${t})`}`}function Xg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function eu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gl(t){return t=eu(t),(t<16?"0":"")+t.toString(16)}function l2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ra(t,e,n,r)}function XL(t){if(t instanceof ra)return new ra(t.h,t.s,t.l,t.opacity);if(t instanceof Wh||(t=Oh(t)),!t)return new ra;if(t instanceof ra)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,f=(a+i)/2;return u?(e===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-e)/u+2:o=(e-n)/u+4,u/=f<.5?a+i:2-a-i,o*=60):u=f>0&&f<1?0:o,new ra(o,u,f,t.opacity)}function yee(t,e,n,r){return arguments.length===1?XL(t):new ra(t,e,n,r??1)}function ra(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}GE(ra,yee,YL(Wh,{brighter(t){return t=t==null?Yg:Math.pow(Yg,t),new ra(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Th:Math.pow(Th,t),new ra(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Br(rw(t>=240?t-240:t+120,i,r),rw(t,i,r),rw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ra(u2(this.h),Fp(this.s),Fp(this.l),Xg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xg(this.opacity);return`${t===1?"hsl(":"hsla("}${u2(this.h)}, ${Fp(this.s)*100}%, ${Fp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function u2(t){return t=(t||0)%360,t<0?t+360:t}function Fp(t){return Math.max(0,Math.min(1,t||0))}function rw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const WE=t=>()=>t;function vee(t,e){return function(n){return t+n*e}}function bee(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _ee(t){return(t=+t)==1?QL:function(e,n){return n-e?bee(e,n,t):WE(isNaN(e)?n:e)}}function QL(t,e){var n=e-t;return n?vee(t,n):WE(isNaN(t)?e:t)}const c2=(function t(e){var n=_ee(e);function r(i,a){var o=n((i=Wx(i)).r,(a=Wx(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),d=QL(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=u(h),i.b=f(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function wee(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function xee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Eee(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=gf(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function See(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Qg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Tee(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Yx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iw=new RegExp(Yx.source,"g");function Aee(t){return function(){return t}}function Oee(t){return function(e){return t(e)+""}}function Pee(t,e){var n=Yx.lastIndex=iw.lastIndex=0,r,i,a,o=-1,u=[],f=[];for(t=t+"",e=e+"";(r=Yx.exec(t))&&(i=iw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,f.push({i:o,x:Qg(r,i)})),n=iw.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?f[0]?Oee(f[0].x):Aee(e):(e=f.length,function(d){for(var h=0,p;h<e;++h)u[(p=f[h]).i]=p.x(d);return u.join("")})}function gf(t,e){var n=typeof e,r;return e==null||n==="boolean"?WE(e):(n==="number"?Qg:n==="string"?(r=Oh(e))?(e=r,c2):Pee:e instanceof Oh?c2:e instanceof Date?See:xee(e)?wee:Array.isArray(e)?Eee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Tee:Qg)(t,e)}function YE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ree(t,e){e===void 0&&(e=t,t=gf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[u](o-u)}}function Cee(t){return function(){return t}}function Jg(t){return+t}var f2=[0,1];function Or(t){return t}function Xx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Cee(isNaN(e)?NaN:.5)}function jee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Nee(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Xx(i,r),a=n(o,a)):(r=Xx(r,i),a=n(a,o)),function(u){return a(r(u))}}function kee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Xx(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(u){var f=Gh(t,u,1,r)-1;return a[f](i[f](u))}}function Yh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Jy(){var t=f2,e=f2,n=gf,r,i,a,o=Or,u,f,d;function h(){var y=Math.min(t.length,e.length);return o!==Or&&(o=jee(t[0],t[y-1])),u=y>2?kee:Nee,f=d=null,p}function p(y){return y==null||isNaN(y=+y)?a:(f||(f=u(t.map(r),e,n)))(r(o(y)))}return p.invert=function(y){return o(i((d||(d=u(e,t.map(r),Qg)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Jg),h()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=YE,h()},p.clamp=function(y){return arguments.length?(o=y?!0:Or,h()):o!==Or},p.interpolate=function(y){return arguments.length?(n=y,h()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,b){return r=y,i=b,h()}}function XE(){return Jy()(Or,Or)}function Dee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Zc(t){return t=Zg(Math.abs(t)),t?t[1]:NaN}function Iee(t,e){return function(n,r){for(var i=n.length,a=[],o=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Mee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Lee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ph(t){if(!(e=Lee.exec(t)))throw new Error("invalid format: "+t);var e;return new QE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ph.prototype=QE.prototype;function QE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}QE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $ee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var JL;function Vee(t,e){var n=Zg(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(JL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Zg(t,Math.max(0,e+a-1))[0]}function d2(t,e){var n=Zg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const h2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Dee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>d2(t*100,e),r:d2,s:Vee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function m2(t){return t}var p2=Array.prototype.map,g2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Uee(t){var e=t.grouping===void 0||t.thousands===void 0?m2:Iee(p2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?m2:Mee(p2.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(p){p=Ph(p);var y=p.fill,b=p.align,x=p.sign,E=p.symbol,S=p.zero,O=p.width,R=p.comma,P=p.precision,$=p.trim,D=p.type;D==="n"?(R=!0,D="g"):h2[D]||(P===void 0&&(P=12),$=!0,D="g"),(S||y==="0"&&b==="=")&&(S=!0,y="0",b="=");var N=E==="$"?n:E==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",k=E==="$"?r:/[%p]/.test(D)?o:"",I=h2[D],M=/[defgprs%]/.test(D);P=P===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function V(z){var q=N,U=k,ge,we,G;if(D==="c")U=I(z)+U,z="";else{z=+z;var ie=z<0||1/z<0;if(z=isNaN(z)?f:I(Math.abs(z),P),$&&(z=$ee(z)),ie&&+z==0&&x!=="+"&&(ie=!1),q=(ie?x==="("?x:u:x==="-"||x==="("?"":x)+q,U=(D==="s"?g2[8+JL/3]:"")+U+(ie&&x==="("?")":""),M){for(ge=-1,we=z.length;++ge<we;)if(G=z.charCodeAt(ge),48>G||G>57){U=(G===46?i+z.slice(ge+1):z.slice(ge))+U,z=z.slice(0,ge);break}}}R&&!S&&(z=e(z,1/0));var pe=q.length+z.length+U.length,xe=pe<O?new Array(O-pe+1).join(y):"";switch(R&&S&&(z=e(xe+z,xe.length?O-U.length:1/0),xe=""),b){case"<":z=q+z+U+xe;break;case"=":z=q+xe+z+U;break;case"^":z=xe.slice(0,pe=xe.length>>1)+q+z+U+xe.slice(pe);break;default:z=xe+q+z+U;break}return a(z)}return V.toString=function(){return p+""},V}function h(p,y){var b=d((p=Ph(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Zc(y)/3)))*3,E=Math.pow(10,-x),S=g2[8+x/3];return function(O){return b(E*O)+S}}return{format:d,formatPrefix:h}}var Hp,JE,ZL;Bee({thousands:",",grouping:[3],currency:["$",""]});function Bee(t){return Hp=Uee(t),JE=Hp.format,ZL=Hp.formatPrefix,Hp}function zee(t){return Math.max(0,-Zc(Math.abs(t)))}function qee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zc(e)/3)))*3-Zc(Math.abs(t)))}function Fee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zc(e)-Zc(t))+1}function e3(t,e,n,r){var i=Kx(t,e,n),a;switch(r=Ph(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=qee(i,o))&&(r.precision=a),ZL(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Fee(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=zee(i))&&(r.precision=a-(r.type==="%")*2);break}}return JE(r)}function Jo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Fx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return e3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],u=r[a],f,d,h=10;for(u<o&&(d=o,o=u,u=d,d=i,i=a,a=d);h-- >0;){if(d=Hx(o,u,n),d===f)return r[i]=o,r[a]=u,e(r);if(d>0)o=Math.floor(o/d)*d,u=Math.ceil(u/d)*d;else if(d<0)o=Math.ceil(o*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function t3(){var t=XE();return t.copy=function(){return Yh(t,t3())},zi.apply(t,arguments),Jo(t)}function n3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Jg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return n3(t).unknown(e)},t=arguments.length?Array.from(t,Jg):[0,1],Jo(n)}function r3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function y2(t){return Math.log(t)}function v2(t){return Math.exp(t)}function Hee(t){return-Math.log(-t)}function Kee(t){return-Math.exp(-t)}function Gee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Wee(t){return t===10?Gee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Yee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function b2(t){return(e,n)=>-t(-e,n)}function ZE(t){const e=t(y2,v2),n=e.domain;let r=10,i,a;function o(){return i=Yee(r),a=Wee(r),n()[0]<0?(i=b2(i),a=b2(a),t(Hee,Kee)):t(y2,v2),e}return e.base=function(u){return arguments.length?(r=+u,o()):r},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const f=n();let d=f[0],h=f[f.length-1];const p=h<d;p&&([d,h]=[h,d]);let y=i(d),b=i(h),x,E;const S=u==null?10:+u;let O=[];if(!(r%1)&&b-y<S){if(y=Math.floor(y),b=Math.ceil(b),d>0){for(;y<=b;++y)for(x=1;x<r;++x)if(E=y<0?x/a(-y):x*a(y),!(E<d)){if(E>h)break;O.push(E)}}else for(;y<=b;++y)for(x=r-1;x>=1;--x)if(E=y>0?x/a(-y):x*a(y),!(E<d)){if(E>h)break;O.push(E)}O.length*2<S&&(O=Fx(d,h,S))}else O=Fx(y,b,Math.min(b-y,S)).map(a);return p?O.reverse():O},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Ph(f)).precision==null&&(f.trim=!0),f=JE(f)),u===1/0)return f;const d=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=d?f(h):""}},e.nice=()=>n(r3(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function i3(){const t=ZE(Jy()).domain([1,10]);return t.copy=()=>Yh(t,i3()).base(t.base()),zi.apply(t,arguments),t}function _2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function w2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function eS(t){var e=1,n=t(_2(e),w2(e));return n.constant=function(r){return arguments.length?t(_2(e=+r),w2(e)):e},Jo(n)}function a3(){var t=eS(Jy());return t.copy=function(){return Yh(t,a3()).constant(t.constant())},zi.apply(t,arguments)}function x2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Qee(t){return t<0?-t*t:t*t}function tS(t){var e=t(Or,Or),n=1;function r(){return n===1?t(Or,Or):n===.5?t(Xee,Qee):t(x2(n),x2(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Jo(e)}function nS(){var t=tS(Jy());return t.copy=function(){return Yh(t,nS()).exponent(t.exponent())},zi.apply(t,arguments),t}function Jee(){return nS.apply(null,arguments).exponent(.5)}function E2(t){return Math.sign(t)*t*t}function Zee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function s3(){var t=XE(),e=[0,1],n=!1,r;function i(a){var o=Zee(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(E2(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Jg)).map(E2)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return s3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},zi.apply(i,arguments),Jo(i)}function o3(){var t=[],e=[],n=[],r;function i(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=ree(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Gh(n,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Lo),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return o3().domain(t).range(e).unknown(r)},zi.apply(a,arguments)}function l3(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(f){return f!=null&&f<=f?i[Gh(r,f,0,n)]:a}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return o}return o.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},o.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},o.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(f){return arguments.length&&(a=f),o},o.thresholds=function(){return r.slice()},o.copy=function(){return l3().domain([t,e]).range(i).unknown(a)},zi.apply(Jo(o),arguments)}function u3(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Gh(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return u3().domain(t).range(e).unknown(n)},zi.apply(i,arguments)}const aw=new Date,sw=new Date;function $n(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return f;let d;do f.push(d=new Date(+a)),e(a,u),t(a);while(d<a&&a<o);return f},i.filter=a=>$n(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(aw.setTime(+a),sw.setTime(+o),t(aw),t(sw),Math.floor(n(aw,sw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const ey=$n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ey.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$n(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ey);ey.range;const ms=1e3,Mi=ms*60,ps=Mi*60,Ss=ps*24,rS=Ss*7,S2=Ss*30,ow=Ss*365,Wl=$n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ms)},(t,e)=>(e-t)/ms,t=>t.getUTCSeconds());Wl.range;const iS=$n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ms)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getMinutes());iS.range;const aS=$n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getUTCMinutes());aS.range;const sS=$n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ms-t.getMinutes()*Mi)},(t,e)=>{t.setTime(+t+e*ps)},(t,e)=>(e-t)/ps,t=>t.getHours());sS.range;const oS=$n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ps)},(t,e)=>(e-t)/ps,t=>t.getUTCHours());oS.range;const Xh=$n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mi)/Ss,t=>t.getDate()-1);Xh.range;const Zy=$n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ss,t=>t.getUTCDate()-1);Zy.range;const c3=$n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ss,t=>Math.floor(t/Ss));c3.range;function wu(t){return $n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Mi)/rS)}const ev=wu(0),ty=wu(1),ete=wu(2),tte=wu(3),ef=wu(4),nte=wu(5),rte=wu(6);ev.range;ty.range;ete.range;tte.range;ef.range;nte.range;rte.range;function xu(t){return $n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/rS)}const tv=xu(0),ny=xu(1),ite=xu(2),ate=xu(3),tf=xu(4),ste=xu(5),ote=xu(6);tv.range;ny.range;ite.range;ate.range;tf.range;ste.range;ote.range;const lS=$n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());lS.range;const uS=$n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());uS.range;const Ts=$n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ts.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ts.range;const As=$n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());As.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});As.range;function f3(t,e,n,r,i,a){const o=[[Wl,1,ms],[Wl,5,5*ms],[Wl,15,15*ms],[Wl,30,30*ms],[a,1,Mi],[a,5,5*Mi],[a,15,15*Mi],[a,30,30*Mi],[i,1,ps],[i,3,3*ps],[i,6,6*ps],[i,12,12*ps],[r,1,Ss],[r,2,2*Ss],[n,1,rS],[e,1,S2],[e,3,3*S2],[t,1,ow]];function u(d,h,p){const y=h<d;y&&([d,h]=[h,d]);const b=p&&typeof p.range=="function"?p:f(d,h,p),x=b?b.range(d,+h+1):[];return y?x.reverse():x}function f(d,h,p){const y=Math.abs(h-d)/p,b=FE(([,,S])=>S).right(o,y);if(b===o.length)return t.every(Kx(d/ow,h/ow,p));if(b===0)return ey.every(Math.max(Kx(d,h,p),1));const[x,E]=o[y/o[b-1][2]<o[b][2]/y?b-1:b];return x.every(E)}return[u,f]}const[lte,ute]=f3(As,uS,tv,c3,oS,aS),[cte,fte]=f3(Ts,lS,ev,Xh,sS,iS);function lw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Id(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function dte(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,f=t.shortMonths,d=Md(i),h=Ld(i),p=Md(a),y=Ld(a),b=Md(o),x=Ld(o),E=Md(u),S=Ld(u),O=Md(f),R=Ld(f),P={a:ie,A:pe,b:xe,B:H,c:null,d:C2,e:C2,f:Ite,g:Hte,G:Gte,H:Nte,I:kte,j:Dte,L:d3,m:Mte,M:Lte,p:oe,q:ae,Q:k2,s:D2,S:$te,u:Vte,U:Ute,V:Bte,w:zte,W:qte,x:null,X:null,y:Fte,Y:Kte,Z:Wte,"%":N2},$={a:me,A:Pe,b:$e,B:Ve,c:null,d:j2,e:j2,f:Jte,g:lne,G:cne,H:Yte,I:Xte,j:Qte,L:m3,m:Zte,M:ene,p:on,q:Ot,Q:k2,s:D2,S:tne,u:nne,U:rne,V:ine,w:ane,W:sne,x:null,X:null,y:one,Y:une,Z:fne,"%":N2},D={a:V,A:z,b:q,B:U,c:ge,d:P2,e:P2,f:Pte,g:O2,G:A2,H:R2,I:R2,j:Ste,L:Ote,m:Ete,M:Tte,p:M,q:xte,Q:Cte,s:jte,S:Ate,u:yte,U:vte,V:bte,w:gte,W:_te,x:we,X:G,y:O2,Y:A2,Z:wte,"%":Rte};P.x=N(n,P),P.X=N(r,P),P.c=N(e,P),$.x=N(n,$),$.X=N(r,$),$.c=N(e,$);function N(_e,De){return function(Ke){var ye=[],Zt=-1,et=0,dn=_e.length,vn,rn,Vs;for(Ke instanceof Date||(Ke=new Date(+Ke));++Zt<dn;)_e.charCodeAt(Zt)===37&&(ye.push(_e.slice(et,Zt)),(rn=T2[vn=_e.charAt(++Zt)])!=null?vn=_e.charAt(++Zt):rn=vn==="e"?" ":"0",(Vs=De[vn])&&(vn=Vs(Ke,rn)),ye.push(vn),et=Zt+1);return ye.push(_e.slice(et,Zt)),ye.join("")}}function k(_e,De){return function(Ke){var ye=Id(1900,void 0,1),Zt=I(ye,_e,Ke+="",0),et,dn;if(Zt!=Ke.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(De&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(et=uw(Id(ye.y,0,1)),dn=et.getUTCDay(),et=dn>4||dn===0?ny.ceil(et):ny(et),et=Zy.offset(et,(ye.V-1)*7),ye.y=et.getUTCFullYear(),ye.m=et.getUTCMonth(),ye.d=et.getUTCDate()+(ye.w+6)%7):(et=lw(Id(ye.y,0,1)),dn=et.getDay(),et=dn>4||dn===0?ty.ceil(et):ty(et),et=Xh.offset(et,(ye.V-1)*7),ye.y=et.getFullYear(),ye.m=et.getMonth(),ye.d=et.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),dn="Z"in ye?uw(Id(ye.y,0,1)).getUTCDay():lw(Id(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(dn+5)%7:ye.w+ye.U*7-(dn+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,uw(ye)):lw(ye)}}function I(_e,De,Ke,ye){for(var Zt=0,et=De.length,dn=Ke.length,vn,rn;Zt<et;){if(ye>=dn)return-1;if(vn=De.charCodeAt(Zt++),vn===37){if(vn=De.charAt(Zt++),rn=D[vn in T2?De.charAt(Zt++):vn],!rn||(ye=rn(_e,Ke,ye))<0)return-1}else if(vn!=Ke.charCodeAt(ye++))return-1}return ye}function M(_e,De,Ke){var ye=d.exec(De.slice(Ke));return ye?(_e.p=h.get(ye[0].toLowerCase()),Ke+ye[0].length):-1}function V(_e,De,Ke){var ye=b.exec(De.slice(Ke));return ye?(_e.w=x.get(ye[0].toLowerCase()),Ke+ye[0].length):-1}function z(_e,De,Ke){var ye=p.exec(De.slice(Ke));return ye?(_e.w=y.get(ye[0].toLowerCase()),Ke+ye[0].length):-1}function q(_e,De,Ke){var ye=O.exec(De.slice(Ke));return ye?(_e.m=R.get(ye[0].toLowerCase()),Ke+ye[0].length):-1}function U(_e,De,Ke){var ye=E.exec(De.slice(Ke));return ye?(_e.m=S.get(ye[0].toLowerCase()),Ke+ye[0].length):-1}function ge(_e,De,Ke){return I(_e,e,De,Ke)}function we(_e,De,Ke){return I(_e,n,De,Ke)}function G(_e,De,Ke){return I(_e,r,De,Ke)}function ie(_e){return o[_e.getDay()]}function pe(_e){return a[_e.getDay()]}function xe(_e){return f[_e.getMonth()]}function H(_e){return u[_e.getMonth()]}function oe(_e){return i[+(_e.getHours()>=12)]}function ae(_e){return 1+~~(_e.getMonth()/3)}function me(_e){return o[_e.getUTCDay()]}function Pe(_e){return a[_e.getUTCDay()]}function $e(_e){return f[_e.getUTCMonth()]}function Ve(_e){return u[_e.getUTCMonth()]}function on(_e){return i[+(_e.getUTCHours()>=12)]}function Ot(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var De=N(_e+="",P);return De.toString=function(){return _e},De},parse:function(_e){var De=k(_e+="",!1);return De.toString=function(){return _e},De},utcFormat:function(_e){var De=N(_e+="",$);return De.toString=function(){return _e},De},utcParse:function(_e){var De=k(_e+="",!0);return De.toString=function(){return _e},De}}}var T2={"-":"",_:" ",0:"0"},Jn=/^\s*\d+/,hte=/^%/,mte=/[\\^$*+?|[\]().{}]/g;function xt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function pte(t){return t.replace(mte,"\\$&")}function Md(t){return new RegExp("^(?:"+t.map(pte).join("|")+")","i")}function Ld(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function gte(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function yte(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function vte(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function bte(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function _te(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function A2(t,e,n){var r=Jn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function O2(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wte(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xte(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ete(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function P2(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ste(t,e,n){var r=Jn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function R2(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Tte(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ate(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ote(t,e,n){var r=Jn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Pte(t,e,n){var r=Jn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Rte(t,e,n){var r=hte.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Cte(t,e,n){var r=Jn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function jte(t,e,n){var r=Jn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function C2(t,e){return xt(t.getDate(),e,2)}function Nte(t,e){return xt(t.getHours(),e,2)}function kte(t,e){return xt(t.getHours()%12||12,e,2)}function Dte(t,e){return xt(1+Xh.count(Ts(t),t),e,3)}function d3(t,e){return xt(t.getMilliseconds(),e,3)}function Ite(t,e){return d3(t,e)+"000"}function Mte(t,e){return xt(t.getMonth()+1,e,2)}function Lte(t,e){return xt(t.getMinutes(),e,2)}function $te(t,e){return xt(t.getSeconds(),e,2)}function Vte(t){var e=t.getDay();return e===0?7:e}function Ute(t,e){return xt(ev.count(Ts(t)-1,t),e,2)}function h3(t){var e=t.getDay();return e>=4||e===0?ef(t):ef.ceil(t)}function Bte(t,e){return t=h3(t),xt(ef.count(Ts(t),t)+(Ts(t).getDay()===4),e,2)}function zte(t){return t.getDay()}function qte(t,e){return xt(ty.count(Ts(t)-1,t),e,2)}function Fte(t,e){return xt(t.getFullYear()%100,e,2)}function Hte(t,e){return t=h3(t),xt(t.getFullYear()%100,e,2)}function Kte(t,e){return xt(t.getFullYear()%1e4,e,4)}function Gte(t,e){var n=t.getDay();return t=n>=4||n===0?ef(t):ef.ceil(t),xt(t.getFullYear()%1e4,e,4)}function Wte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xt(e/60|0,"0",2)+xt(e%60,"0",2)}function j2(t,e){return xt(t.getUTCDate(),e,2)}function Yte(t,e){return xt(t.getUTCHours(),e,2)}function Xte(t,e){return xt(t.getUTCHours()%12||12,e,2)}function Qte(t,e){return xt(1+Zy.count(As(t),t),e,3)}function m3(t,e){return xt(t.getUTCMilliseconds(),e,3)}function Jte(t,e){return m3(t,e)+"000"}function Zte(t,e){return xt(t.getUTCMonth()+1,e,2)}function ene(t,e){return xt(t.getUTCMinutes(),e,2)}function tne(t,e){return xt(t.getUTCSeconds(),e,2)}function nne(t){var e=t.getUTCDay();return e===0?7:e}function rne(t,e){return xt(tv.count(As(t)-1,t),e,2)}function p3(t){var e=t.getUTCDay();return e>=4||e===0?tf(t):tf.ceil(t)}function ine(t,e){return t=p3(t),xt(tf.count(As(t),t)+(As(t).getUTCDay()===4),e,2)}function ane(t){return t.getUTCDay()}function sne(t,e){return xt(ny.count(As(t)-1,t),e,2)}function one(t,e){return xt(t.getUTCFullYear()%100,e,2)}function lne(t,e){return t=p3(t),xt(t.getUTCFullYear()%100,e,2)}function une(t,e){return xt(t.getUTCFullYear()%1e4,e,4)}function cne(t,e){var n=t.getUTCDay();return t=n>=4||n===0?tf(t):tf.ceil(t),xt(t.getUTCFullYear()%1e4,e,4)}function fne(){return"+0000"}function N2(){return"%"}function k2(t){return+t}function D2(t){return Math.floor(+t/1e3)}var _c,g3,y3;dne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dne(t){return _c=dte(t),g3=_c.format,_c.parse,y3=_c.utcFormat,_c.utcParse,_c}function hne(t){return new Date(t)}function mne(t){return t instanceof Date?+t:+new Date(+t)}function cS(t,e,n,r,i,a,o,u,f,d){var h=XE(),p=h.invert,y=h.domain,b=d(".%L"),x=d(":%S"),E=d("%I:%M"),S=d("%I %p"),O=d("%a %d"),R=d("%b %d"),P=d("%B"),$=d("%Y");function D(N){return(f(N)<N?b:u(N)<N?x:o(N)<N?E:a(N)<N?S:r(N)<N?i(N)<N?O:R:n(N)<N?P:$)(N)}return h.invert=function(N){return new Date(p(N))},h.domain=function(N){return arguments.length?y(Array.from(N,mne)):y().map(hne)},h.ticks=function(N){var k=y();return t(k[0],k[k.length-1],N??10)},h.tickFormat=function(N,k){return k==null?D:d(k)},h.nice=function(N){var k=y();return(!N||typeof N.range!="function")&&(N=e(k[0],k[k.length-1],N??10)),N?y(r3(k,N)):h},h.copy=function(){return Yh(h,cS(t,e,n,r,i,a,o,u,f,d))},h}function pne(){return zi.apply(cS(cte,fte,Ts,lS,ev,Xh,sS,iS,Wl,g3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gne(){return zi.apply(cS(lte,ute,As,uS,tv,Zy,oS,aS,Wl,y3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nv(){var t=0,e=1,n,r,i,a,o=Or,u=!1,f;function d(p){return p==null||isNaN(p=+p)?f:o(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(u=!!p,d):u},d.interpolator=function(p){return arguments.length?(o=p,d):o};function h(p){return function(y){var b,x;return arguments.length?([b,x]=y,o=p(b,x),d):[o(0),o(1)]}}return d.range=h(gf),d.rangeRound=h(YE),d.unknown=function(p){return arguments.length?(f=p,d):f},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function Zo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function v3(){var t=Jo(nv()(Or));return t.copy=function(){return Zo(t,v3())},Ms.apply(t,arguments)}function b3(){var t=ZE(nv()).domain([1,10]);return t.copy=function(){return Zo(t,b3()).base(t.base())},Ms.apply(t,arguments)}function _3(){var t=eS(nv());return t.copy=function(){return Zo(t,_3()).constant(t.constant())},Ms.apply(t,arguments)}function fS(){var t=tS(nv());return t.copy=function(){return Zo(t,fS()).exponent(t.exponent())},Ms.apply(t,arguments)}function yne(){return fS.apply(null,arguments).exponent(.5)}function w3(){var t=[],e=Or;function n(r){if(r!=null&&!isNaN(r=+r))return e((Gh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Lo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>nee(t,a/r))},n.copy=function(){return w3(e).domain(t)},Ms.apply(n,arguments)}function rv(){var t=0,e=.5,n=1,r=1,i,a,o,u,f,d=Or,h,p=!1,y;function b(E){return isNaN(E=+E)?y:(E=.5+((E=+h(E))-a)*(r*E<r*a?u:f),d(p?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,n]=E,i=h(t=+t),a=h(e=+e),o=h(n=+n),u=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(E){return arguments.length?(p=!!E,b):p},b.interpolator=function(E){return arguments.length?(d=E,b):d};function x(E){return function(S){var O,R,P;return arguments.length?([O,R,P]=S,d=Ree(E,[O,R,P]),b):[d(0),d(.5),d(1)]}}return b.range=x(gf),b.rangeRound=x(YE),b.unknown=function(E){return arguments.length?(y=E,b):y},function(E){return h=E,i=E(t),a=E(e),o=E(n),u=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,b}}function x3(){var t=Jo(rv()(Or));return t.copy=function(){return Zo(t,x3())},Ms.apply(t,arguments)}function E3(){var t=ZE(rv()).domain([.1,1,10]);return t.copy=function(){return Zo(t,E3()).base(t.base())},Ms.apply(t,arguments)}function S3(){var t=eS(rv());return t.copy=function(){return Zo(t,S3()).constant(t.constant())},Ms.apply(t,arguments)}function dS(){var t=tS(rv());return t.copy=function(){return Zo(t,dS()).exponent(t.exponent())},Ms.apply(t,arguments)}function vne(){return dS.apply(null,arguments).exponent(.5)}const Gd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:KE,scaleDiverging:x3,scaleDivergingLog:E3,scaleDivergingPow:dS,scaleDivergingSqrt:vne,scaleDivergingSymlog:S3,scaleIdentity:n3,scaleImplicit:Gx,scaleLinear:t3,scaleLog:i3,scaleOrdinal:HE,scalePoint:aee,scalePow:nS,scaleQuantile:o3,scaleQuantize:l3,scaleRadial:s3,scaleSequential:v3,scaleSequentialLog:b3,scaleSequentialPow:fS,scaleSequentialQuantile:w3,scaleSequentialSqrt:yne,scaleSequentialSymlog:_3,scaleSqrt:Jee,scaleSymlog:a3,scaleThreshold:u3,scaleTime:pne,scaleUtc:gne,tickFormat:e3},Symbol.toStringTag,{value:"Module"}));var el=t=>t.chartData,hS=te([el],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),iv=(t,e,n,r)=>r?hS(t):el(t);function nf(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ui(e)&&ui(n))return!0}return!1}function I2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function bne(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(ui(n))i=n;else if(typeof n=="function")return;if(ui(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(nf(o))return o}}function _ne(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(nf(r))return I2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,u;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Ae(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&xN.test(i)){var f=xN.exec(i);if(f==null||e==null)o=void 0;else{var d=+f[1];o=e[0]-d}}else o=e?.[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(Ae(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e?.[1]))}catch{}else if(typeof a=="string"&&EN.test(a)){var h=EN.exec(a);if(h==null||e==null)u=void 0;else{var p=+h[1];u=e[1]+p}}else u=e?.[1];var y=[o,u];if(nf(y))return e==null?y:I2(y,e,n)}}}var yf=1e9,wne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pS,nn=!0,Ui="[DecimalError] ",tu=Ui+"Invalid argument: ",mS=Ui+"Exponent out of range: ",vf=Math.floor,$l=Math.pow,xne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ri,Yn=1e7,Yt=7,T3=9007199254740991,ry=vf(T3/Yt),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Yt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(t){return bs(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,n=e.constructor;return Bt(bs(e,new n(t),0,1),n.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return On(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ri))throw Error(Ui+"NaN");if(n.s<1)throw Error(Ui+(n.s?"NaN":"-Infinity"));return n.eq(ri)?new r(0):(nn=!1,e=bs(Rh(n,a),Rh(t,a),a),nn=!0,Bt(e,i))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?P3(e,t):A3(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ui+"NaN");return n.s?(nn=!1,e=bs(n,t,0,1).times(t),nn=!0,n.minus(e)):Bt(new r(n),i)};Oe.naturalExponential=Oe.exp=function(){return O3(this)};Oe.naturalLogarithm=Oe.ln=function(){return Rh(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A3(e,t):P3(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(tu+t);if(e=On(i)+1,r=i.d.length-1,n=r*Yt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Oe.squareRoot=Oe.sqrt=function(){var t,e,n,r,i,a,o,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Ui+"NaN")}for(t=On(u),nn=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ra(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=o=n+3;;)if(a=r,r=a.plus(bs(u,a,o+2)).times(.5),Ra(a.d).slice(0,o)===(e=Ra(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Bt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;o+=4}return nn=!0,Bt(r,n)};Oe.times=Oe.mul=function(t){var e,n,r,i,a,o,u,f,d,h=this,p=h.constructor,y=h.d,b=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,f=y.length,d=b.length,f<d&&(a=y,y=b,b=a,o=f,f=d,d=o),a=[],o=f+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)u=a[i]+b[r]*y[i-r-1]+e,a[i--]=u%Yn|0,e=u/Yn|0;a[i]=(a[i]+e)%Yn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,nn?Bt(t,p.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ba(t,0,yf),e===void 0?e=r.rounding:Ba(e,0,8),Bt(n,t+On(n)+1,e))};Oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=cu(r,!0):(Ba(t,0,yf),e===void 0?e=i.rounding:Ba(e,0,8),r=Bt(new i(r),t+1,e),n=cu(r,!0,t+1)),n};Oe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?cu(i):(Ba(t,0,yf),e===void 0?e=a.rounding:Ba(e,0,8),r=Bt(new a(i),t+On(i)+1,e),n=cu(r.abs(),!1,t+On(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return Bt(new e(t),On(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,n,r,i,a,o,u=this,f=u.constructor,d=12,h=+(t=new f(t));if(!t.s)return new f(ri);if(u=new f(u),!u.s){if(t.s<1)throw Error(Ui+"Infinity");return u}if(u.eq(ri))return u;if(r=f.precision,t.eq(ri))return Bt(u,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=u.s,o){if((n=h<0?-h:h)<=T3){for(i=new f(ri),e=Math.ceil(r/Yt+4),nn=!1;n%2&&(i=i.times(u),L2(i.d,e)),n=vf(n/2),n!==0;)u=u.times(u),L2(u.d,e);return nn=!0,t.s<0?new f(ri).div(i):Bt(i,r)}}else if(a<0)throw Error(Ui+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,nn=!1,i=t.times(Rh(u,r+d)),nn=!0,i=O3(i),i.s=a,i};Oe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=On(i),r=cu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ba(t,1,yf),e===void 0?e=a.rounding:Ba(e,0,8),i=Bt(new a(i),t,e),n=On(i),r=cu(i,t<=n||n<=a.toExpNeg,t)),r};Oe.toSignificantDigits=Oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ba(t,1,yf),e===void 0?e=r.rounding:Ba(e,0,8)),Bt(new r(n),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=On(t),n=t.constructor;return cu(t,e<=n.toExpNeg||e>=n.toExpPos)};function A3(t,e){var n,r,i,a,o,u,f,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),nn?Bt(e,p):e;if(f=t.d,d=e.d,o=t.e,i=e.e,f=f.slice(),a=o-i,a){for(a<0?(r=f,a=-a,u=d.length):(r=d,i=o,u=f.length),o=Math.ceil(p/Yt),u=o>u?o+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=f.length,a=d.length,u-a<0&&(a=u,r=d,d=f,f=r),n=0;a;)n=(f[--a]=f[a]+d[a]+n)/Yn|0,f[a]%=Yn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,nn?Bt(e,p):e}function Ba(t,e,n){if(t!==~~t||t<e||t>n)throw Error(tu+t)}function Ra(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Yt-r.length,n&&(a+=To(n)),a+=r;o=t[e],r=o+"",n=Yt-r.length,n&&(a+=To(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var bs=(function(){function t(r,i){var a,o=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+o,r[u]=a%Yn|0,o=a/Yn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var u,f;if(a!=o)f=a>o?1:-1;else for(u=f=0;u<a;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Yn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var u,f,d,h,p,y,b,x,E,S,O,R,P,$,D,N,k,I,M=r.constructor,V=r.s==i.s?1:-1,z=r.d,q=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Ui+"Division by zero");for(f=r.e-i.e,k=q.length,D=z.length,b=new M(V),x=b.d=[],d=0;q[d]==(z[d]||0);)++d;if(q[d]>(z[d]||0)&&--f,a==null?R=a=M.precision:o?R=a+(On(r)-On(i))+1:R=a,R<0)return new M(0);if(R=R/Yt+2|0,d=0,k==1)for(h=0,q=q[0],R++;(d<D||h)&&R--;d++)P=h*Yn+(z[d]||0),x[d]=P/q|0,h=P%q|0;else{for(h=Yn/(q[0]+1)|0,h>1&&(q=t(q,h),z=t(z,h),k=q.length,D=z.length),$=k,E=z.slice(0,k),S=E.length;S<k;)E[S++]=0;I=q.slice(),I.unshift(0),N=q[0],q[1]>=Yn/2&&++N;do h=0,u=e(q,E,k,S),u<0?(O=E[0],k!=S&&(O=O*Yn+(E[1]||0)),h=O/N|0,h>1?(h>=Yn&&(h=Yn-1),p=t(q,h),y=p.length,S=E.length,u=e(p,E,y,S),u==1&&(h--,n(p,k<y?I:q,y))):(h==0&&(u=h=1),p=q.slice()),y=p.length,y<S&&p.unshift(0),n(E,p,S),u==-1&&(S=E.length,u=e(q,E,k,S),u<1&&(h++,n(E,k<S?I:q,S))),S=E.length):u===0&&(h++,E=[0]),x[d++]=h,u&&E[0]?E[S++]=z[$]||0:(E=[z[$]],S=1);while(($++<D||E[0]!==void 0)&&R--)}return x[0]||x.shift(),b.e=f,Bt(b,o?a+On(b)+1:a)}})();function O3(t,e){var n,r,i,a,o,u,f=0,d=0,h=t.constructor,p=h.precision;if(On(t)>16)throw Error(mS+On(t));if(!t.s)return new h(ri);for(nn=!1,u=p,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log($l(2,d))/Math.LN10*2+5|0,u+=r,n=i=a=new h(ri),h.precision=u;;){if(i=Bt(i.times(t),u),n=n.times(++f),o=a.plus(bs(i,n,u)),Ra(o.d).slice(0,u)===Ra(a.d).slice(0,u)){for(;d--;)a=Bt(a.times(a),u);return h.precision=p,e==null?(nn=!0,Bt(a,p)):a}a=o}}function On(t){for(var e=t.e*Yt,n=t.d[0];n>=10;n/=10)e++;return e}function cw(t,e,n){if(e>t.LN10.sd())throw nn=!0,n&&(t.precision=n),Error(Ui+"LN10 precision limit exceeded");return Bt(new t(t.LN10),e)}function To(t){for(var e="";t--;)e+="0";return e}function Rh(t,e){var n,r,i,a,o,u,f,d,h,p=1,y=10,b=t,x=b.d,E=b.constructor,S=E.precision;if(b.s<1)throw Error(Ui+(b.s?"NaN":"-Infinity"));if(b.eq(ri))return new E(0);if(e==null?(nn=!1,d=S):d=e,b.eq(10))return e==null&&(nn=!0),cw(E,d);if(d+=y,E.precision=d,n=Ra(x),r=n.charAt(0),a=On(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=Ra(b.d),r=n.charAt(0),p++;a=On(b),r>1?(b=new E("0."+n),a++):b=new E(r+"."+n.slice(1))}else return f=cw(E,d+2,S).times(a+""),b=Rh(new E(r+"."+n.slice(1)),d-y).plus(f),E.precision=S,e==null?(nn=!0,Bt(b,S)):b;for(u=o=b=bs(b.minus(ri),b.plus(ri),d),h=Bt(b.times(b),d),i=3;;){if(o=Bt(o.times(h),d),f=u.plus(bs(o,new E(i),d)),Ra(f.d).slice(0,d)===Ra(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(cw(E,d+2,S).times(a+""))),u=bs(u,new E(p),d),E.precision=S,e==null?(nn=!0,Bt(u,S)):u;u=f,i+=2}}function M2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=vf(n/Yt),t.d=[],r=(n+1)%Yt,n<0&&(r+=Yt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Yt;r<i;)t.d.push(+e.slice(r,r+=Yt));e=e.slice(r),r=Yt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),nn&&(t.e>ry||t.e<-ry))throw Error(mS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Bt(t,e,n){var r,i,a,o,u,f,d,h,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Yt,i=e,d=p[h=0];else{if(h=Math.ceil((r+1)/Yt),a=p.length,h>=a)return t;for(d=a=p[h],o=1;a>=10;a/=10)o++;r%=Yt,i=r-Yt+o}if(n!==void 0&&(a=$l(10,o-i-1),u=d/a%10|0,f=e<0||p[h+1]!==void 0||d%a,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/$l(10,o-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(a=On(t),p.length=1,e=e-a-1,p[0]=$l(10,(Yt-e%Yt)%Yt),t.e=vf(-e/Yt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=$l(10,Yt-r),p[h]=i>0?(d/$l(10,o-i)%$l(10,i)|0)*a:0),f)for(;;)if(h==0){(p[0]+=a)==Yn&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=Yn)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(nn&&(t.e>ry||t.e<-ry))throw Error(mS+On(t));return t}function P3(t,e){var n,r,i,a,o,u,f,d,h,p,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),nn?Bt(e,b):e;if(f=t.d,p=e.d,r=e.e,d=t.e,f=f.slice(),o=d-r,o){for(h=o<0,h?(n=f,o=-o,u=p.length):(n=p,r=d,u=f.length),i=Math.max(Math.ceil(b/Yt),u)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=p[i]){h=f[i]<p[i];break}o=0}for(h&&(n=f,f=p,p=n,e.s=-e.s),u=f.length,i=p.length-u;i>0;--i)f[u++]=0;for(i=p.length;i>o;){if(f[--i]<p[i]){for(a=i;a&&f[--a]===0;)f[a]=Yn-1;--f[a],f[i]+=Yn}f[i]-=p[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,nn?Bt(e,b):e):new y(0)}function cu(t,e,n){var r,i=On(t),a=Ra(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+To(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+To(-i-1)+a,n&&(r=n-o)>0&&(a+=To(r))):i>=o?(a+=To(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+To(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=To(r))),t.s<0?"-"+a:a}function L2(t,e){if(t.length>e)return t.length=e,!0}function R3(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(tu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return M2(o,a.toString())}else if(typeof a!="string")throw Error(tu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,xne.test(a))M2(o,a);else throw Error(tu+a)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=R3,i.config=i.set=Ene,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Ene(t){if(!t||typeof t!="object")throw Error(Ui+"Object expected");var e,n,r,i=["precision",1,yf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(vf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(tu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(tu+n+": "+r);return this}var pS=R3(wne);ri=new pS(1);const kt=pS;var Sne=t=>t,C3={},j3=t=>t===C3,$2=t=>function e(){return arguments.length===0||arguments.length===1&&j3(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},N3=(t,e)=>t===1?e:$2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==C3).length;return a>=t?e(...r):N3(t-a,$2(function(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];var d=r.map(h=>j3(h)?u.shift():h);return e(...d,...u)}))}),av=t=>N3(t.length,t),Qx=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Tne=av((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Ane=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Sne;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((u,f)=>f(u),a(...arguments))}},Jx=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),k3=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((o,u)=>{var f;return o===((f=e)===null||f===void 0?void 0:f[u])})||(e=i,n=t(...i)),n}};function D3(t){var e;return t===0?e=1:e=Math.floor(new kt(t).abs().log(10).toNumber())+1,e}function I3(t,e,n){for(var r=new kt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}av((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});av((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});av((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var M3=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},L3=(t,e,n)=>{if(t.lte(0))return new kt(0);var r=D3(t.toNumber()),i=new kt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,u=new kt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),f=u.mul(i);return e?new kt(f.toNumber()):new kt(Math.ceil(f.toNumber()))},One=(t,e,n)=>{var r=new kt(1),i=new kt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new kt(10).pow(D3(t)-1),i=new kt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new kt(Math.floor(t)))}else t===0?i=new kt(Math.floor((e-1)/2)):n||(i=new kt(Math.floor(t)));var o=Math.floor((e-1)/2),u=Ane(Tne(f=>i.add(new kt(f-o).mul(r)).toNumber()),Qx);return u(0,e)},$3=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new kt(0),tickMin:new kt(0),tickMax:new kt(0)};var o=L3(new kt(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new kt(0):(u=new kt(e).add(n).div(2),u=u.sub(new kt(u).mod(o)));var f=Math.ceil(u.sub(e).div(o).toNumber()),d=Math.ceil(new kt(n).sub(u).div(o).toNumber()),h=f+d+1;return h>r?$3(e,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,f=n>0?f:f+(r-h)),{step:o,tickMin:u.sub(new kt(f).mul(o)),tickMax:u.add(new kt(d).mul(o))})};function Pne(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,u]=M3([e,n]);if(o===-1/0||u===1/0){var f=u===1/0?[o,...Qx(0,r-1).map(()=>1/0)]:[...Qx(0,r-1).map(()=>-1/0),u];return e>n?Jx(f):f}if(o===u)return One(o,r,i);var{step:d,tickMin:h,tickMax:p}=$3(o,u,a,i,0),y=I3(h,p.add(new kt(.1).mul(d)),d);return e>n?Jx(y):y}function Rne(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=M3([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var u=Math.max(e,2),f=L3(new kt(o).sub(a).div(u-1),i,0),d=[...I3(new kt(a),new kt(o),f),o];return i===!1&&(d=d.map(h=>Math.round(h))),n>r?Jx(d):d}var Cne=k3(Pne),jne=k3(Rne),V3=t=>t.rootProps.maxBarSize,Nne=t=>t.rootProps.barGap,U3=t=>t.rootProps.barCategoryGap,kne=t=>t.rootProps.barSize,Qh=t=>t.rootProps.stackOffset,gS=t=>t.options.chartName,yS=t=>t.rootProps.syncId,B3=t=>t.rootProps.syncMethod,vS=t=>t.options.eventEmitter,Oa={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},$r={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},sv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Dne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Oa.angleAxisId,includeHidden:!1,name:void 0,reversed:Oa.reversed,scale:Oa.scale,tick:Oa.tick,tickCount:void 0,ticks:void 0,type:Oa.type,unit:void 0},Ine={allowDataOverflow:$r.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$r.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$r.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$r.scale,tick:$r.tick,tickCount:$r.tickCount,ticks:void 0,type:$r.type,unit:void 0},Mne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Oa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oa.scale,tick:Oa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Lne={allowDataOverflow:$r.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$r.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$r.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$r.scale,tick:$r.tick,tickCount:$r.tickCount,ticks:void 0,type:"category",unit:void 0},bf=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Mne:Dne,Jh=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Lne:Ine,ov=t=>t.polarOptions,bS=te([Ds,Is,Qn],jQ),z3=te([ov,bS],(t,e)=>{if(t!=null)return sa(t.innerRadius,e,0)}),q3=te([ov,bS],(t,e)=>{if(t!=null)return sa(t.outerRadius,e,e*.8)}),$ne=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},F3=te([ov],$ne),Vne=te([bf,F3],sv),H3=te([bS,z3,q3],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),Une=te([Jh,H3],sv),_f=te([lt,ov,z3,q3,Ds,Is],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:u,startAngle:f,endAngle:d}=e;return{cx:sa(o,i,i/2),cy:sa(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),Ft=(t,e)=>e,Zh=(t,e,n)=>n;function _S(t){return t?.id}var Vn=t=>{var e=lt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},wf=t=>t.tooltip.settings.axisId,Un=t=>{var e=Vn(t),n=wf(t);return xf(t,e,n)};function K3(t,e,n){var{chartData:r=[]}=e,i=n?.dataKey,a=new Map;return t.forEach(o=>{var u,f=(u=o.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var d=_S(o);f.forEach((h,p)=>{var y=i==null?p:String(fn(h,i,null)),b=fn(h,o.dataKey,0),x;a.has(y)?x=a.get(y):x={},Object.assign(x,{[d]:b}),a.set(y,x)})}}),Array.from(a.values())}function lv(t){return t.stackId!=null&&t.dataKey!=null}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){Bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bne(t,e,n){return(e=zne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zne(t){var e=qne(t,"string");return typeof e=="symbol"?e:e+""}function qne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zx=[0,"auto"],ei={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ls=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??ei},ti={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Zx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wy},tl=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??ti},Fne={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},wS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Fne},yn=(t,e,n)=>{switch(e){case"xAxis":return Ls(t,n);case"yAxis":return tl(t,n);case"zAxis":return wS(t,n);case"angleAxis":return bf(t,n);case"radiusAxis":return Jh(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Hne=(t,e,n)=>{switch(e){case"xAxis":return Ls(t,n);case"yAxis":return tl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xf=(t,e,n)=>{switch(e){case"xAxis":return Ls(t,n);case"yAxis":return tl(t,n);case"angleAxis":return bf(t,n);case"radiusAxis":return Jh(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},G3=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function xS(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var uv=t=>t.graphicalItems.cartesianItems,Kne=te([Ft,Zh],xS),ES=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),em=te([uv,yn,Kne],ES),W3=te([em],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(lv)),Y3=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),X3=te([em],Y3),SS=t=>t.map(e=>e.data).filter(Boolean).flat(1),Gne=te([em],SS),TS=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},AS=te([Gne,iv],TS),OS=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:fn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:fn(i,r)}))):t.map(r=>({value:r})),cv=te([AS,yn,em],OS);function Q3(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Eu(t){return t.filter(e=>Ua(e)||e instanceof Date).map(Number).filter(e=>si(e)===!1)}function Wne(t,e,n){return!n||typeof e!="number"||si(e)?[]:n.length?Eu(n.flatMap(r=>{var i=fn(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!ui(a)||!ui(o)))return[e-a,e+o]})):[]}var Yne=te([W3,iv,Un],K3),J3=(t,e,n)=>{var r={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,u]=a,f=u.map(_S);return[o,{stackedData:GQ(t,f,n),graphicalItems:u}]}))},e1=te([Yne,W3,Qh],J3),Z3=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=JQ(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Xne=te([e1,el,Ft],Z3),e6=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(o=>{var u,f,d=(u=r[o.id])===null||u===void 0?void 0:u.filter(p=>Q3(i,p)),h=fn(a,(f=e.dataKey)!==null&&f!==void 0?f:o.dataKey);return{value:h,errorDomain:Wne(a,h,d)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:fn(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),fv=t=>t.errorBars,t6=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Q3(n,r));te([X3,fv,Ft],t6);var Qne=te([AS,yn,X3,fv,Ft],e6);function Jne(t){var{value:e}=t;if(Ua(e)||e instanceof Date)return e}var U2=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Eu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Zne=(t,e,n)=>{var r=t.map(Jne).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&v4(r))?FL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},PS=t=>{var e;if(t==null||!("domain"in t))return Zx;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Eu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Zx},ay=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),u=Math.max(...a);return[o,u]}},n6=t=>t.referenceElements.dots,Ef=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),ere=te([n6,Ft,Zh],Ef),r6=t=>t.referenceElements.areas,tre=te([r6,Ft,Zh],Ef),i6=t=>t.referenceElements.lines,nre=te([i6,Ft,Zh],Ef),a6=(t,e)=>{var n=Eu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},rre=te(ere,Ft,a6),s6=(t,e)=>{var n=Eu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ire=te([tre,Ft],s6),o6=(t,e)=>{var n=Eu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},are=te(nre,Ft,o6),sre=te(rre,are,ire,(t,e,n)=>ay(t,n,e)),l6=te([yn],PS),RS=(t,e,n,r,i,a,o)=>{var u=bne(e,t.allowDataOverflow);if(u!=null)return u;var f=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",d=f?ay(n,i,U2(r)):ay(i,U2(r));return _ne(e,d,t.allowDataOverflow)},ore=te([yn,l6,Xne,Qne,sre,lt,Ft],RS),lre=[0,1],CS=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:u,type:f}=t,d=ks(e,a);return d&&u==null?FL(0,n.length):f==="category"?Zne(r,t,d):i==="expand"?lre:o}},jS=te([yn,lt,AS,cv,Qh,Ft,ore],CS),u6=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(Hh(a));return u in Gd?u:"point"}}},nl=te([yn,lt,G3,gS,Ft],u6);function ure(t){if(t!=null){if(t in Gd)return Gd[t]();var e="scale".concat(Hh(t));if(e in Gd)return Gd[e]()}}function dv(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=ure(e);if(i!=null){var a=i.domain(n).range(r);return zQ(a),a}}}var NS=(t,e,n)=>{var r=PS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&nf(t))return Cne(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&nf(t))return jne(t,e.tickCount,e.allowDecimals)}},kS=te([jS,xf,nl],NS),DS=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&nf(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(o,u)]}return e},cre=te([yn,jS,kS,Ft],DS),fre=te(cv,yn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Eu(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),c6=te(fre,lt,U3,Qn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ui(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=sa(n,t*a),u=t*a/2;return u-o-(u-o)/a*o}return 0}),dre=(t,e)=>{var n=Ls(t,e);return n==null||typeof n.padding!="string"?0:c6(t,"xAxis",e,n.padding)},hre=(t,e)=>{var n=tl(t,e);return n==null||typeof n.padding!="string"?0:c6(t,"yAxis",e,n.padding)},mre=te(Ls,dre,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),pre=te(tl,hre,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),gre=te([Qn,mre,Xy,Yy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),yre=te([Qn,lt,pre,Xy,Yy,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),tm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return gre(t,n,r);case"yAxis":return yre(t,n,r);case"zAxis":return(i=wS(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return F3(t);case"radiusAxis":return H3(t,n);default:return}},f6=te([yn,tm],sv),Sf=te([yn,nl,cre,f6],dv);te([em,fv,Ft],t6);function d6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var hv=(t,e)=>e,mv=(t,e,n)=>n,vre=te(LE,hv,mv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(d6)),bre=te($E,hv,mv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(d6)),h6=(t,e)=>({width:t.width,height:e.height}),_re=(t,e)=>{var n=typeof e.width=="number"?e.width:Wy;return{width:n,height:t.height}},m6=te(Qn,Ls,h6),wre=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},xre=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Ere=te(Is,Qn,vre,hv,mv,(t,e,n,r,i)=>{var a={},o;return n.forEach(u=>{var f=h6(e,u);o==null&&(o=wre(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[u.id]=o-Number(d)*f.height,o+=(d?-1:1)*f.height}),a}),Sre=te(Ds,Qn,bre,hv,mv,(t,e,n,r,i)=>{var a={},o;return n.forEach(u=>{var f=_re(e,u);o==null&&(o=xre(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[u.id]=o-Number(d)*f.width,o+=(d?-1:1)*f.width}),a}),Tre=(t,e)=>{var n=Qn(t),r=Ls(t,e);if(r!=null){var i=Ere(t,r.orientation,r.mirror),a=i[e];return a==null?{x:n.left,y:0}:{x:n.left,y:a}}},Are=(t,e)=>{var n=Qn(t),r=tl(t,e);if(r!=null){var i=Sre(t,r.orientation,r.mirror),a=i[e];return a==null?{x:0,y:n.top}:{x:a,y:n.top}}},p6=te(Qn,tl,(t,e)=>{var n=typeof e.width=="number"?e.width:Wy;return{width:n,height:t.height}}),B2=(t,e,n)=>{switch(e){case"xAxis":return m6(t,n).width;case"yAxis":return p6(t,n).height;default:return}},g6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,u=ks(t,r),f=e.map(d=>d.value);if(o&&u&&a==="category"&&i&&v4(f))return f}},nm=te([lt,cv,yn,Ft],g6),IS=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=ks(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},MS=te([lt,cv,xf,Ft],IS),z2=te([lt,Hne,nl,Sf,nm,MS,tm,kS,Ft],(t,e,n,r,i,a,o,u,f)=>{if(e==null)return null;var d=ks(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:u,range:o,realScaleType:n,scale:r}}),y6=(t,e,n,r,i,a,o,u,f)=>{if(!(e==null||r==null)){var d=ks(t,f),{type:h,ticks:p,tickCount:y}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=h==="category"&&r.bandwidth?r.bandwidth()/b:0;x=f==="angleAxis"&&a!=null&&a.length>=2?Ur(a[0]-a[1])*2*x:x;var E=p||i;if(E){var S=E.map((O,R)=>{var P=o?o.indexOf(O):O;return{index:R,coordinate:r(P)+x,value:O,offset:x}});return S.filter(O=>!si(O.coordinate))}return d&&u?u.map((O,R)=>({coordinate:r(O)+x,value:O,index:R,offset:x})):r.ticks?r.ticks(y).map(O=>({coordinate:r(O)+x,value:O,offset:x})):r.domain().map((O,R)=>({coordinate:r(O)+x,value:o?o[O]:O,index:R,offset:x}))}},v6=te([lt,xf,nl,Sf,kS,tm,nm,MS,Ft],y6),b6=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=ks(t,o),{tickCount:f}=e,d=0;return d=o==="angleAxis"&&r?.length>=2?Ur(r[0]-r[1])*2*d:d,u&&a?a.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:i?i[h]:h,index:p,offset:d}))}},Ho=te([lt,xf,Sf,tm,nm,MS,Ft],b6),Ko=te(yn,Sf,(t,e)=>{if(!(t==null||e==null))return iy(iy({},t),{},{scale:e})}),Ore=te([yn,nl,jS,f6],dv);te((t,e,n)=>wS(t,n),Ore,(t,e)=>{if(!(t==null||e==null))return iy(iy({},t),{},{scale:e})});var Pre=te([lt,LE,$E],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_6=t=>t.options.defaultTooltipEventType,w6=t=>t.options.validateTooltipEventTypes;function x6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function LS(t,e){var n=_6(t),r=w6(t);return x6(e,n,r)}function Rre(t){return Se(e=>LS(e,t))}var E6=(t,e)=>{var n,r=Number(e);if(!(si(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Cre=t=>t.tooltip.settings,Ro={active:!1,index:null,dataKey:void 0,coordinate:void 0},jre={itemInteraction:{click:Ro,hover:Ro},axisInteraction:{click:Ro,hover:Ro},keyboardInteraction:Ro,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},S6=fi({name:"tooltip",initialState:jre,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=vs(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Nre,removeTooltipEntrySettings:kre,setTooltipSettingsState:Dre,setActiveMouseOverItemIndex:T6,mouseLeaveItem:Ire,mouseLeaveChart:A6,setActiveClickItemIndex:Mre,setMouseOverAxisIndex:O6,setMouseClickAxisIndex:Lre,setSyncInteraction:t1,setKeyboardInteraction:n1}=S6.actions,$re=S6.reducer;function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){Vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vre(t,e,n){return(e=Ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ure(t){var e=Bre(t,"string");return typeof e=="symbol"?e:e+""}function Bre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zre(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function qre(t){return t.index!=null}var P6=(t,e,n,r)=>{if(e==null)return Ro;var i=zre(t,e,n);if(i==null)return Ro;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(qre(i)){if(a)return Kp(Kp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Kp(Kp({},Ro),{},{coordinate:i.coordinate})},$S=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!ui(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},R6=(t,e,n,r,i,a,o,u)=>{if(!(a==null||u==null)){var f=o[0],d=f==null?void 0:u(f.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},C6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},rm=t=>t.options.tooltipPayloadSearcher,Tf=t=>t.tooltip;function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){Fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fre(t,e,n){return(e=Hre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hre(t){var e=Kre(t,"string");return typeof e=="symbol"?e:e+""}function Kre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gre(t,e){return t??e}var j6=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:h}=n,p=[];return t.reduce((y,b)=>{var x,{dataDefinedOnItem:E,settings:S}=b,O=Gre(E,u),R=Array.isArray(O)?EL(O,d,h):O,P=(x=S?.dataKey)!==null&&x!==void 0?x:r?.dataKey,$=S?.nameKey,D;if(r!=null&&r.dataKey&&Array.isArray(R)&&!Array.isArray(R[0])&&o==="axis"?D=b4(R,r.dataKey,i):D=a(R,e,f,$),Array.isArray(D))D.forEach(k=>{var I=H2(H2({},S),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});y.push(SN({tooltipEntrySettings:I,dataKey:k.dataKey,payload:k.payload,value:fn(k.payload,k.dataKey),name:k.name}))});else{var N;y.push(SN({tooltipEntrySettings:S,dataKey:P,payload:D,value:fn(D,P),name:(N=fn(D,$))!==null&&N!==void 0?N:S?.name}))}return y},p)}},VS=te([Un,lt,G3,gS,Vn],u6),Wre=te([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Yre=te([Vn,wf],xS),im=te([Wre,Un,Yre],ES),Xre=te([im],t=>t.filter(lv)),Qre=te([im],SS),Af=te([Qre,el],TS),Jre=te([Xre,el,Un],K3),US=te([Af,Un,im],OS),Zre=te([Un],PS),eie=te([im],t=>t.filter(lv)),tie=te([Jre,eie,Qh],J3),nie=te([tie,el,Vn],Z3),rie=te([im],Y3),iie=te([Af,Un,rie,fv,Vn],e6),aie=te([n6,Vn,wf],Ef),sie=te([aie,Vn],a6),oie=te([r6,Vn,wf],Ef),lie=te([oie,Vn],s6),uie=te([i6,Vn,wf],Ef),cie=te([uie,Vn],o6),fie=te([sie,cie,lie],ay),die=te([Un,Zre,nie,iie,fie,lt,Vn],RS),N6=te([Un,lt,Af,US,Qh,Vn,die],CS),hie=te([N6,Un,VS],NS),mie=te([Un,N6,hie,Vn],DS),k6=t=>{var e=Vn(t),n=wf(t),r=!1;return tm(t,e,n,r)},D6=te([Un,k6],sv),I6=te([Un,VS,mie,D6],dv),pie=te([lt,US,Un,Vn],g6),gie=te([lt,US,Un,Vn],IS),yie=(t,e,n,r,i,a,o,u)=>{if(e){var{type:f}=e,d=ks(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&i?.length>=2?Ur(i[0]-i[1])*2*p:p,d&&o?o.map((y,b)=>({coordinate:r(y)+p,value:y,index:b,offset:p})):r.domain().map((y,b)=>({coordinate:r(y)+p,value:a?a[y]:y,index:b,offset:p}))}}},$s=te([lt,Un,VS,I6,k6,pie,gie,Vn],yie),BS=te([_6,w6,Cre],(t,e,n)=>x6(n.shared,t,e)),M6=t=>t.tooltip.settings.trigger,zS=t=>t.tooltip.settings.defaultIndex,pv=te([Tf,BS,M6,zS],P6),fu=te([pv,Af],$S),L6=te([$s,fu],E6),$6=te([pv],t=>{if(t)return t.dataKey}),V6=te([Tf,BS,M6,zS],C6),vie=te([Ds,Is,lt,Qn,$s,zS,V6,rm],R6),bie=te([pv,vie],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),_ie=te([pv],t=>t.active),wie=te([V6,fu,el,Un,L6,rm,BS],j6),xie=te([wie],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function K2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(n),!0).forEach(function(r){Eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eie(t,e,n){return(e=Sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sie(t){var e=Tie(t,"string");return typeof e=="symbol"?e:e+""}function Tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aie=()=>Se(Un),Oie=()=>{var t=Aie(),e=Se($s),n=Se(I6);return uu(G2(G2({},t),{},{scale:n}),e)},Pie=()=>Se(gS),qS=(t,e)=>e,U6=(t,e,n)=>n,FS=(t,e,n,r)=>r,Rie=te($s,t=>By(t,e=>e.coordinate)),HS=te([Tf,qS,U6,FS],P6),B6=te([HS,Af],$S),Cie=(t,e,n)=>{if(e!=null){var r=Tf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},z6=te([Tf,qS,U6,FS],C6),sy=te([Ds,Is,lt,Qn,$s,FS,z6,rm],R6),jie=te([HS,sy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),q6=te($s,B6,E6),Nie=te([z6,B6,el,Un,q6,rm,qS],j6),kie=te([HS],t=>({isActive:t.active,activeIndex:t.index})),Die=(t,e,n,r,i,a,o,u)=>{if(!(!t||!e||!r||!i||!a)){var f=ZQ(t.chartX,t.chartY,e,n,u);if(f){var d=tJ(f,e),h=UQ(d,o,a,r,i),p=eJ(e,a,h,f);return{activeIndex:String(h),activeCoordinate:p}}}};function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r1.apply(null,arguments)}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){Iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iie(t,e,n){return(e=Mie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mie(t){var e=Lie(t,"string");return typeof e=="symbol"?e:e+""}function Lie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ie(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:u,tooltipEventType:f,chartName:d}=t,h=e,p=n,y=r;if(!u||!h||d!=="ScatterChart"&&f!=="axis")return null;var b,x;if(d==="ScatterChart")b=h,x=eZ;else if(d==="BarChart")b=tZ(o,h,i,a),x=UL;else if(o==="radial"){var{cx:E,cy:S,radius:O,startAngle:R,endAngle:P}=BL(h);b={cx:E,cy:S,startAngle:R,endAngle:P,innerRadius:O,outerRadius:O},x=qL}else b={points:VZ(o,h,i)},x=kL;var $=typeof u=="object"&&"className"in u?u.className:void 0,D=Gp(Gp(Gp(Gp({stroke:"#ccc",pointerEvents:"none"},i),b),_t(u,!1)),{},{payload:p,payloadIndex:y,className:ot("recharts-tooltip-cursor",$)});return T.isValidElement(u)?T.cloneElement(u,D):T.createElement(x,D)}function Vie(t){var e=Oie(),n=PL(),r=Qy(),i=Pie();return T.createElement($ie,r1({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var F6=T.createContext(null),Uie=()=>T.useContext(F6),fw={exports:{}},Y2;function Bie(){return Y2||(Y2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function a(f,d,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,p||f,y),x=n?n+d:d;return f._events[x]?f._events[x].fn?f._events[x]=[f._events[x],b]:f._events[x].push(b):(f._events[x]=b,f._eventsCount++),f}function o(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)e.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,x=new Array(b);y<b;y++)x[y]=p[y].fn;return x},u.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(d,h,p,y,b,x){var E=n?n+d:d;if(!this._events[E])return!1;var S=this._events[E],O=arguments.length,R,P;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),O){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,y),!0;case 5:return S.fn.call(S.context,h,p,y,b),!0;case 6:return S.fn.call(S.context,h,p,y,b,x),!0}for(P=1,R=new Array(O-1);P<O;P++)R[P-1]=arguments[P];S.fn.apply(S.context,R)}else{var $=S.length,D;for(P=0;P<$;P++)switch(S[P].once&&this.removeListener(d,S[P].fn,void 0,!0),O){case 1:S[P].fn.call(S[P].context);break;case 2:S[P].fn.call(S[P].context,h);break;case 3:S[P].fn.call(S[P].context,h,p);break;case 4:S[P].fn.call(S[P].context,h,p,y);break;default:if(!R)for(D=1,R=new Array(O-1);D<O;D++)R[D-1]=arguments[D];S[P].fn.apply(S[P].context,R)}}return!0},u.prototype.on=function(d,h,p){return a(this,d,h,p,!1)},u.prototype.once=function(d,h,p){return a(this,d,h,p,!0)},u.prototype.removeListener=function(d,h,p,y){var b=n?n+d:d;if(!this._events[b])return this;if(!h)return o(this,b),this;var x=this._events[b];if(x.fn)x.fn===h&&(!y||x.once)&&(!p||x.context===p)&&o(this,b);else{for(var E=0,S=[],O=x.length;E<O;E++)(x[E].fn!==h||y&&!x[E].once||p&&x[E].context!==p)&&S.push(x[E]);S.length?this._events[b]=S.length===1?S[0]:S:o(this,b)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(fw)),fw.exports}var zie=Bie();const qie=ci(zie);var Ch=new qie,i1="recharts.syncEvent.tooltip",X2="recharts.syncEvent.brush";function KS(t,e){if(e){var n=Number.parseInt(e,10);if(!si(n))return t?.[n]}}var Fie={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},H6=fi({name:"options",initialState:Fie,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Hie=H6.reducer,{createEventEmitter:Kie}=H6.actions;function Gie(t){return t.tooltip.syncInteraction}var Wie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},K6=fi({name:"chartData",initialState:Wie,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:Q2,setDataStartEndIndexes:Yie,setComputedData:phe}=K6.actions,Xie=K6.reducer,G6=()=>{};function Qie(){var t=Se(yS),e=Se(vS),n=Jt(),r=Se(B3),i=Se($s),a=Qy(),o=VE(),u=Se(f=>f.rootProps.className);T.useEffect(()=>{if(t==null)return G6;var f=(d,h,p)=>{if(e!==p&&t===d){if(r==="index"){n(h);return}if(i!=null){var y;if(typeof r=="function"){var b={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},x=r(i,b);y=i[x]}else r==="value"&&(y=i.find(N=>String(N.value)===h.payload.label));var{coordinate:E}=h.payload;if(y==null||h.payload.active===!1||E==null||o==null){n(t1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:O}=E,R=Math.min(S,o.x+o.width),P=Math.min(O,o.y+o.height),$={x:a==="horizontal"?y.coordinate:R,y:a==="horizontal"?P:y.coordinate},D=t1({active:h.payload.active,coordinate:$,dataKey:h.payload.dataKey,index:String(y.index),label:h.payload.label});n(D)}}};return Ch.on(i1,f),()=>{Ch.off(i1,f)}},[u,n,e,t,r,i,a,o])}function Jie(){var t=Se(yS),e=Se(vS),n=Jt();T.useEffect(()=>{if(t==null)return G6;var r=(i,a,o)=>{e!==o&&t===i&&n(Yie(a))};return Ch.on(X2,r),()=>{Ch.off(X2,r)}},[n,e,t])}function Zie(){var t=Jt();T.useEffect(()=>{t(Kie())},[t]),Qie(),Jie()}function eae(t,e,n,r,i,a){var o=Se(y=>Cie(y,t,e)),u=Se(vS),f=Se(yS),d=Se(B3),h=Se(Gie),p=h?.active;T.useEffect(()=>{if(!p&&f!=null&&u!=null){var y=t1({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});Ch.emit(i1,f,y,u)}},[p,n,o,i,r,u,f,d,a])}function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(r){tae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tae(t,e,n){return(e=nae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nae(t){var e=rae(t,"string");return typeof e=="symbol"?e:e+""}function rae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iae(t){return t.dataKey}function aae(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(NJ,e)}var ek=[],sae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!_u.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function jh(t){var e=Bi(t,sae),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:u,isAnimationActive:f,offset:d,payloadUniqBy:h,position:p,reverseDirection:y,useTranslate3d:b,wrapperStyle:x,cursor:E,shared:S,trigger:O,defaultIndex:R,portal:P,axisId:$}=e,D=Jt(),N=typeof R=="number"?String(R):R;T.useEffect(()=>{D(Dre({shared:S,trigger:O,axisId:$,active:n,defaultIndex:N}))},[D,S,O,$,n,N]);var k=VE(),I=NL(),M=Rre(S),{activeIndex:V,isActive:z}=Se($e=>kie($e,M,O,N)),q=Se($e=>Nie($e,M,O,N)),U=Se($e=>q6($e,M,O,N)),ge=Se($e=>jie($e,M,O,N)),we=q,G=Uie(),ie=n??z,[pe,xe]=Q4([we,ie]),H=M==="axis"?U:void 0;eae(M,O,ge,H,V,ie);var oe=P??G;if(oe==null)return null;var ae=we??ek;ie||(ae=ek),u&&ae.length&&(ae=K4(we.filter($e=>$e.value!=null&&($e.hide!==!0||e.includeHidden)),h,iae));var me=ae.length>0,Pe=T.createElement(VJ,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:f,active:ie,coordinate:ge,hasPayload:me,offset:d,position:p,reverseDirection:y,useTranslate3d:b,viewBox:k,wrapperStyle:x,lastBoundingBox:pe,innerRef:xe,hasPortalFromProps:!!P},aae(o,Z2(Z2({},e),{},{payload:ae,label:H,active:ie,coordinate:ge,accessibilityLayer:I})));return T.createElement(T.Fragment,null,T1.createPortal(Pe,oe),ie&&T.createElement(Vie,{cursor:E,tooltipEventType:M,coordinate:ge,payload:we,index:V}))}var dw={},hw={},mw={},tk;function oae(){return tk||(tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,u=null;const f=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(o,u),o=void 0,u=null)},p=()=>{d&&h(),E()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},x=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{x(),o=void 0,u=null},S=()=>{h()},O=function(...R){if(i?.aborted)return;o=this,u=R;const P=y==null;b(),f&&P&&h()};return O.schedule=b,O.cancel=E,O.flush=S,i?.addEventListener("abort",E,{once:!0}),O}t.debounce=e})(mw)),mw}var nk;function lae(){return nk||(nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oae();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:u=!0,maxWait:f}=a,d=Array(2);o&&(d[0]="leading"),u&&(d[1]="trailing");let h,p=null;const y=e.debounce(function(...E){h=r.apply(this,E),p=null},i,{edges:d}),b=function(...E){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(h=r.apply(this,E),p=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,E),h)},x=()=>(y.flush(),h);return b.cancel=y.cancel,b.flush=x,b}t.debounce=n})(hw)),hw}var rk;function uae(){return rk||(rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lae();function n(r,i=0,a={}){const{leading:o=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:u})}t.throttle=n})(dw)),dw}var pw,ik;function cae(){return ik||(ik=1,pw=uae().throttle),pw}var fae=cae();const dae=ci(fae);var rh=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){hae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hae(t,e,n){return(e=mae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mae(t){var e=pae(t,"string");return typeof e=="symbol"?e:e+""}function pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nu=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:u,maxHeight:f,children:d,debounce:h=0,id:p,className:y,onResize:b,style:x={}}=t,E=T.useRef(null),S=T.useRef();S.current=b,T.useImperativeHandle(e,()=>E.current);var[O,R]=T.useState({containerWidth:r.width,containerHeight:r.height}),P=T.useCallback((D,N)=>{R(k=>{var I=Math.round(D),M=Math.round(N);return k.containerWidth===I&&k.containerHeight===M?k:{containerWidth:I,containerHeight:M}})},[]);T.useEffect(()=>{var D=M=>{var V,{width:z,height:q}=M[0].contentRect;P(z,q),(V=S.current)===null||V===void 0||V.call(S,z,q)};h>0&&(D=dae(D,h,{trailing:!0,leading:!1}));var N=new ResizeObserver(D),{width:k,height:I}=E.current.getBoundingClientRect();return P(k,I),N.observe(E.current),()=>{N.disconnect()}},[P,h]);var $=T.useMemo(()=>{var{containerWidth:D,containerHeight:N}=O;if(D<0||N<0)return null;rh(Hl(i)||Hl(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),rh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var k=Hl(i)?D:i,I=Hl(a)?N:a;return n&&n>0&&(k?I=k/n:I&&(k=I*n),f&&I>f&&(I=f)),rh(k>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,I,i,a,o,u,n),T.Children.map(d,M=>T.cloneElement(M,{width:k,height:I,style:gw({width:k,height:I},M.props.style)}))},[n,d,a,f,u,o,O,i]);return T.createElement("div",{id:p?"".concat(p):void 0,className:ot("recharts-responsive-container",y),style:gw(gw({},x),{},{width:i,height:a,minWidth:o,minHeight:u,maxHeight:f}),ref:E},T.createElement("div",{style:{width:0,height:0,overflow:"visible"}},$))}),W6=t=>null;W6.displayName="Cell";function gae(t,e,n){return(e=yae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yae(t){var e=vae(t,"string");return typeof e=="symbol"?e:e+""}function vae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bae{constructor(e){gae(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wae(t,e,n){return(e=xae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xae(t){var e=Eae(t,"string");return typeof e=="symbol"?e:e+""}function Eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sae={cacheSize:2e3,enableCache:!0},Y6=_ae({},Sae),ok=new bae(Y6.cacheSize),Tae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lk="recharts_measurement_span";function Aae(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(u)}var uk=(t,e)=>{try{var n=document.getElementById(lk);n||(n=document.createElement("span"),n.setAttribute("id",lk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Tae,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ih=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_u.isSsr)return{width:0,height:0};if(!Y6.enableCache)return uk(e,n);var r=Aae(e,n),i=ok.get(r);if(i)return i;var a=uk(e,n);return ok.set(r,a),a},ck=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Oae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,X6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Rae=Object.keys(X6),Rc="NaN";function Cae(t,e){return t*X6[e]}class Ir{static parse(e){var n,[,r,i]=(n=Pae.exec(e))!==null&&n!==void 0?n:[];return new Ir(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,si(e)&&(this.unit=""),n!==""&&!Oae.test(n)&&(this.num=NaN,this.unit=""),Rae.includes(n)&&(this.num=Cae(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ir(NaN,""):new Ir(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return si(this.num)}}function Q6(t){if(t.includes(Rc))return Rc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=ck.exec(e))!==null&&n!==void 0?n:[],o=Ir.parse(r??""),u=Ir.parse(a??""),f=i==="*"?o.multiply(u):o.divide(u);if(f.isNaN())return Rc;e=e.replace(ck,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,p,y]=(d=fk.exec(e))!==null&&d!==void 0?d:[],b=Ir.parse(h??""),x=Ir.parse(y??""),E=p==="+"?b.add(x):b.subtract(x);if(E.isNaN())return Rc;e=e.replace(fk,E.toString())}return e}var dk=/\(([^()]*)\)/;function jae(t){for(var e=t,n;(n=dk.exec(e))!=null;){var[,r]=n;e=e.replace(dk,Q6(r))}return e}function Nae(t){var e=t.replace(/\s+/g,"");return e=jae(e),e=Q6(e),e}function kae(t){try{return Nae(t)}catch{return Rc}}function yw(t){var e=kae(t.slice(5,-1));return e===Rc?"":e}var Dae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Iae=["dx","dy","angle","className","breakAll"];function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(null,arguments)}function hk(t,e){if(t==null)return{};var n,r,i=Mae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var J6=/[ \f\n\r\t\v\u2028\u2029]+/,Z6=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];zt(e)||(n?i=e.toString().split(""):i=e.toString().split(J6));var a=i.map(u=>({word:u,width:ih(u,r).width})),o=n?0:ih("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Lae=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:u,breakAll:f}=t,d=Ae(a),h=o,p=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((q,U)=>{var{word:ge,width:we}=U,G=q[q.length-1];if(G&&(r==null||i||G.width+we+n<Number(r)))G.words.push(ge),G.width+=we+n;else{var ie={words:[ge],width:we};q.push(ie)}return q},[])},y=p(e),b=V=>V.reduce((z,q)=>z.width>q.width?z:q);if(!d||i)return y;var x=y.length>a||b(y).width>Number(r);if(!x)return y;for(var E="",S=V=>{var z=h.slice(0,V),q=Z6({breakAll:f,style:u,children:z+E}).wordsWithComputedWidth,U=p(q),ge=U.length>a||b(U).width>Number(r);return[ge,U]},O=0,R=h.length-1,P=0,$;O<=R&&P<=h.length-1;){var D=Math.floor((O+R)/2),N=D-1,[k,I]=S(N),[M]=S(D);if(!k&&!M&&(O=D+1),k&&M&&(R=D-1),!k&&M){$=I;break}P++}return $||y},mk=t=>{var e=zt(t)?[]:t.toString().split(J6);return[{words:e}]},$ae=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!_u.isSsr){var u,f,d=Z6({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:p}=d;u=h,f=p}else return mk(r);return Lae({breakAll:a,children:r,maxLines:o,style:i},u,f,e,n)}return mk(r)},pk="#808080",am=T.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:u="start",verticalAnchor:f="end",fill:d=pk}=t,h=hk(t,Dae),p=T.useMemo(()=>$ae({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:o,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,o,h.style,h.width]),{dx:y,dy:b,angle:x,className:E,breakAll:S}=h,O=hk(h,Iae);if(!Ua(n)||!Ua(r))return null;var R=n+(Ae(y)?y:0),P=r+(Ae(b)?b:0),$;switch(f){case"start":$=yw("calc(".concat(a,")"));break;case"middle":$=yw("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:$=yw("calc(".concat(p.length-1," * -").concat(i,")"));break}var D=[];if(o){var N=p[0].width,{width:k}=h;D.push("scale(".concat(Ae(k)?k/N:1,")"))}return x&&D.push("rotate(".concat(x,", ").concat(R,", ").concat(P,")")),D.length&&(O.transform=D.join(" ")),T.createElement("text",a1({},_t(O,!0),{ref:e,x:R,y:P,className:ot("recharts-text",E),textAnchor:u,fill:d.includes("url")?pk:d}),p.map((I,M)=>{var V=I.words.join(S?"":" ");return T.createElement("tspan",{x:R,dy:M===0?$:i,key:"".concat(V,"-").concat(M)},V)}))});am.displayName="Text";var Vae=["offset"],Uae=["labelRef"];function gk(t,e){if(t==null)return{};var n,r,i=Bae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zae(t,e,n){return(e=qae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qae(t){var e=Fae(t,"string");return typeof e=="symbol"?e:e+""}function Fae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hs.apply(null,arguments)}var Hae=t=>{var{value:e,formatter:n}=t,r=zt(t.children)?e:t.children;return typeof n=="function"?n(r):r},GS=t=>t!=null&&typeof t=="function",Kae=(t,e)=>{var n=Ur(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Gae=(t,e,n,r)=>{var{position:i,offset:a,className:o}=t,{cx:u,cy:f,innerRadius:d,outerRadius:h,startAngle:p,endAngle:y,clockWise:b}=r,x=(d+h)/2,E=Kae(p,y),S=E>=0?1:-1,O,R;i==="insideStart"?(O=p+S*a,R=b):i==="insideEnd"?(O=y-S*a,R=!b):i==="end"&&(O=y+S*a,R=b),R=E<=0?R:!R;var P=Vt(u,f,x,O),$=Vt(u,f,x,O+(R?1:-1)*359),D="M".concat(P.x,",").concat(P.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(R?0:1,`,
    `).concat($.x,",").concat($.y),N=zt(t.id)?wh("recharts-radial-line-"):t.id;return T.createElement("text",hs({},n,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",o)}),T.createElement("defs",null,T.createElement("path",{id:N,d:D})),T.createElement("textPath",{xlinkHref:"#".concat(N)},e))},Wae=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}=t,d=(u+f)/2;if(n==="outside"){var{x:h,y:p}=Vt(r,i,o+e,d);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+o)/2,{x:b,y:x}=Vt(r,i,y,d);return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Yae=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:a,y:o,width:u,height:f}=e,d=f>=0?1:-1,h=d*r,p=d>0?"end":"start",y=d>0?"start":"end",b=u>=0?1:-1,x=b*r,E=b>0?"end":"start",S=b>0?"start":"end";if(i==="top"){var O={x:a+u/2,y:o-d*r,textAnchor:"middle",verticalAnchor:p};return cn(cn({},O),n?{height:Math.max(o-n.y,0),width:u}:{})}if(i==="bottom"){var R={x:a+u/2,y:o+f+h,textAnchor:"middle",verticalAnchor:y};return cn(cn({},R),n?{height:Math.max(n.y+n.height-(o+f),0),width:u}:{})}if(i==="left"){var P={x:a-x,y:o+f/2,textAnchor:E,verticalAnchor:"middle"};return cn(cn({},P),n?{width:Math.max(P.x-n.x,0),height:f}:{})}if(i==="right"){var $={x:a+u+x,y:o+f/2,textAnchor:S,verticalAnchor:"middle"};return cn(cn({},$),n?{width:Math.max(n.x+n.width-$.x,0),height:f}:{})}var D=n?{width:u,height:f}:{};return i==="insideLeft"?cn({x:a+x,y:o+f/2,textAnchor:S,verticalAnchor:"middle"},D):i==="insideRight"?cn({x:a+u-x,y:o+f/2,textAnchor:E,verticalAnchor:"middle"},D):i==="insideTop"?cn({x:a+u/2,y:o+h,textAnchor:"middle",verticalAnchor:y},D):i==="insideBottom"?cn({x:a+u/2,y:o+f-h,textAnchor:"middle",verticalAnchor:p},D):i==="insideTopLeft"?cn({x:a+x,y:o+h,textAnchor:S,verticalAnchor:y},D):i==="insideTopRight"?cn({x:a+u-x,y:o+h,textAnchor:E,verticalAnchor:y},D):i==="insideBottomLeft"?cn({x:a+x,y:o+f-h,textAnchor:S,verticalAnchor:p},D):i==="insideBottomRight"?cn({x:a+u-x,y:o+f-h,textAnchor:E,verticalAnchor:p},D):i&&typeof i=="object"&&(Ae(i.x)||Hl(i.x))&&(Ae(i.y)||Hl(i.y))?cn({x:a+sa(i.x,u),y:o+sa(i.y,f),textAnchor:"end",verticalAnchor:"end"},D):cn({x:a+u/2,y:o+f/2,textAnchor:"middle",verticalAnchor:"middle"},D)},Xae=t=>"cx"in t&&Ae(t.cx);function Vr(t){var{offset:e=5}=t,n=gk(t,Vae),r=cn({offset:e},n),{viewBox:i,position:a,value:o,children:u,content:f,className:d="",textBreakAll:h,labelRef:p}=r,y=Se(_f),b=VE(),x=a==="center"?b:y??b,E=i||x;if(!E||zt(o)&&zt(u)&&!T.isValidElement(f)&&typeof f!="function")return null;var S=cn(cn({},r),{},{viewBox:E});if(T.isValidElement(f)){var{labelRef:O}=S,R=gk(S,Uae);return T.cloneElement(f,R)}var P;if(typeof f=="function"){if(P=T.createElement(f,S),T.isValidElement(P))return P}else P=Hae(r);var $=Xae(E),D=_t(r,!0);if($&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Gae(r,P,D,E);var N=$?Wae(E,r.offset,r.position):Yae(r,E);return T.createElement(am,hs({ref:p,className:ot("recharts-label",d)},D,N,{breakAll:h}),P)}Vr.displayName="Label";var e$=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:a,r:o,radius:u,innerRadius:f,outerRadius:d,x:h,y:p,top:y,left:b,width:x,height:E,clockWise:S,labelViewBox:O}=t;if(O)return O;if(Ae(x)&&Ae(E)){if(Ae(h)&&Ae(p))return{x:h,y:p,width:x,height:E};if(Ae(y)&&Ae(b))return{x:y,y:b,width:x,height:E}}if(Ae(h)&&Ae(p))return{x:h,y:p,width:0,height:0};if(Ae(e)&&Ae(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:f||0,outerRadius:d||u||o||0,clockWise:S};if(t.viewBox)return t.viewBox},Qae=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(Vr,hs({key:"label-implicit"},r)):Ua(t)?T.createElement(Vr,hs({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===Vr?T.cloneElement(t,cn({key:"label-implicit"},r)):T.createElement(Vr,hs({key:"label-implicit",content:t},r)):GS(t)?T.createElement(Vr,hs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(Vr,hs({},t,{key:"label-implicit"},r)):null},Jae=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:a}=e,o=e$(e),u=yE(i,Vr).map((d,h)=>T.cloneElement(d,{viewBox:n||o,key:"label-".concat(h)}));if(!r)return u;var f=Qae(e.label,n||o,a);return[f,...u]};Vr.parseViewBox=e$;Vr.renderCallByParent=Jae;var vw={},bw={},vk;function Zae(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(bw)),bw}var _w={},bk;function ese(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(_w)),_w}var _k;function tse(){return _k||(_k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zae(),n=ese(),r=TE();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(vw)),vw}var ww,wk;function nse(){return wk||(wk=1,ww=tse().last),ww}var rse=nse();const t$=ci(rse);var ise=["valueAccessor"],ase=["data","dataKey","clockWise","id","textBreakAll"];function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(null,arguments)}function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){sse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sse(t,e,n){return(e=ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=lse(t,"string");return typeof e=="symbol"?e:e+""}function lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sk(t,e){if(t==null)return{};var n,r,i=use(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function use(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cse=t=>Array.isArray(t.value)?t$(t.value):t.value;function aa(t){var{valueAccessor:e=cse}=t,n=Sk(t,ise),{data:r,dataKey:i,clockWise:a,id:o,textBreakAll:u}=n,f=Sk(n,ase);return!r||!r.length?null:T.createElement(Pn,{className:"recharts-label-list"},r.map((d,h)=>{var p=zt(i)?e(d,h):fn(d&&d.payload,i),y=zt(o)?{}:{id:"".concat(o,"-").concat(h)};return T.createElement(Vr,oy({},_t(d,!0),f,y,{parentViewBox:d.parentViewBox,value:p,textBreakAll:u,viewBox:Vr.parseViewBox(zt(a)?d:Ek(Ek({},d),{},{clockWise:a})),key:"label-".concat(h),index:h}))}))}aa.displayName="LabelList";function fse(t,e){return t?t===!0?T.createElement(aa,{key:"labelList-implicit",data:e}):T.isValidElement(t)||GS(t)?T.createElement(aa,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?T.createElement(aa,oy({data:e},t,{key:"labelList-implicit"})):null:null}function dse(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=yE(r,aa).map((o,u)=>T.cloneElement(o,{data:e,key:"labelList-".concat(u)}));if(!n)return i;var a=fse(t.label,e);return[a,...i]}aa.renderCallByParent=dse;var hse=["points","className","baseLinePoints","connectNulls"];function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(null,arguments)}function mse(t,e){if(t==null)return{};var n,r,i=pse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tk=t=>t&&t.x===+t.x&&t.y===+t.y,gse=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(r=>{Tk(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Tk(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ah=(t,e)=>{var n=gse(t);e&&(n=[n.reduce((i,a)=>[...i,...a],[])]);var r=n.map(i=>i.reduce((a,o,u)=>"".concat(a).concat(u===0?"M":"L").concat(o.x,",").concat(o.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},yse=(t,e,n)=>{var r=ah(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(ah(e.reverse(),n).slice(1))},n$=t=>{var{points:e,className:n,baseLinePoints:r,connectNulls:i}=t,a=mse(t,hse);if(!e||!e.length)return null;var o=ot("recharts-polygon",n);if(r&&r.length){var u=a.stroke&&a.stroke!=="none",f=yse(e,r,i);return T.createElement("g",{className:o},T.createElement("path",Cc({},_t(a,!0),{fill:f.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:f})),u?T.createElement("path",Cc({},_t(a,!0),{fill:"none",d:ah(e,i)})):null,u?T.createElement("path",Cc({},_t(a,!0),{fill:"none",d:ah(r,i)})):null)}var d=ah(e,i);return T.createElement("path",Cc({},_t(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:o,d}))};function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s1.apply(null,arguments)}var gv=t=>{var{cx:e,cy:n,r,className:i}=t,a=ot("recharts-dot",i);return e===+e&&n===+n&&r===+r?T.createElement("circle",s1({},Rr(t),gE(t),{className:a,cx:e,cy:n,r})):null},r$=t=>t.graphicalItems.polarItems,vse=te([Ft,Zh],xS),WS=te([r$,yn,vse],ES),bse=te([WS],SS),YS=te([bse,hS],TS),i$=te([YS,yn,WS],OS),_se=te([YS,yn,WS],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,o=fn(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:fn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),Ak=()=>{},wse=te([yn,l6,Ak,_se,Ak,lt,Ft],RS),a$=te([yn,lt,YS,i$,Qh,Ft,wse],CS),s$=te([a$,yn,nl],NS),xse=te([yn,a$,s$,Ft],DS),XS=(t,e,n)=>{switch(e){case"angleAxis":return bf(t,n);case"radiusAxis":return Jh(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},QS=(t,e,n)=>{switch(e){case"angleAxis":return Vne(t,n);case"radiusAxis":return Une(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Of=te([XS,nl,xse,QS],dv),o$=te([lt,i$,xf,Ft],IS),Pf=te([lt,XS,nl,Of,s$,QS,nm,o$,Ft],y6);te([lt,XS,Of,QS,nm,o$,Ft],b6);var Ese=(t,e)=>Pf(t,"angleAxis",e,!1),Sse=te([Ese],t=>{if(t)return t.map(e=>e.coordinate)}),Tse=(t,e)=>Pf(t,"radiusAxis",e,!1),Ase=te([Tse],t=>{if(t)return t.map(e=>e.coordinate)}),Ose=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function Pse(t,e){if(t==null)return{};var n,r,i=Rse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Os(){return Os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Os.apply(null,arguments)}function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){Cse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cse(t,e,n){return(e=jse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jse(t){var e=Nse(t,"string");return typeof e=="symbol"?e:e+""}function Nse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kse=(t,e,n,r)=>{var i="";return r.forEach((a,o)=>{var u=Vt(e,n,t,a);o?i+="L ".concat(u.x,",").concat(u.y):i+="M ".concat(u.x,",").concat(u.y)}),i+="Z",i},Dse=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,polarAngles:a,radialLines:o}=t;if(!a||!a.length||!o)return null;var u=rf({stroke:"#ccc"},Rr(t));return T.createElement("g",{className:"recharts-polar-grid-angle"},a.map(f=>{var d=Vt(e,n,r,f),h=Vt(e,n,i,f);return T.createElement("line",Os({},u,{key:"line-".concat(f),x1:d.x,y1:d.y,x2:h.x,y2:h.y}))}))},Ise=t=>{var{cx:e,cy:n,radius:r,index:i}=t,a=rf(rf({stroke:"#ccc"},Rr(t)),{},{fill:"none"});return T.createElement("circle",Os({},a,{className:ot("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(i),cx:e,cy:n,r}))},Mse=t=>{var{radius:e,index:n}=t,r=rf(rf({stroke:"#ccc"},Rr(t)),{},{fill:"none"});return T.createElement("path",Os({},r,{className:ot("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(n),d:kse(e,t.cx,t.cy,t.polarAngles)}))},Lse=t=>{var{polarRadius:e,gridType:n}=t;return!e||!e.length?null:T.createElement("g",{className:"recharts-polar-grid-concentric"},e.map((r,i)=>{var a=i;return n==="circle"?T.createElement(Ise,Os({key:a},t,{radius:r,index:i})):T.createElement(Mse,Os({key:a},t,{radius:r,index:i}))}))},l$=t=>{var e,n,r,i,a,o,u,f,{gridType:d="polygon",radialLines:h=!0,angleAxisId:p=0,radiusAxisId:y=0,cx:b,cy:x,innerRadius:E,outerRadius:S}=t,O=Pse(t,Ose),R=Se(_f),P=rf({cx:(e=(n=R?.cx)!==null&&n!==void 0?n:b)!==null&&e!==void 0?e:0,cy:(r=(i=R?.cy)!==null&&i!==void 0?i:x)!==null&&r!==void 0?r:0,innerRadius:(a=(o=R?.innerRadius)!==null&&o!==void 0?o:E)!==null&&a!==void 0?a:0,outerRadius:(u=(f=R?.outerRadius)!==null&&f!==void 0?f:S)!==null&&u!==void 0?u:0},O),{polarAngles:$,polarRadius:D,cx:N,cy:k,innerRadius:I,outerRadius:M}=P,V=Se(ge=>Sse(ge,p)),z=Se(ge=>Ase(ge,y)),q=Array.isArray($)?$:V,U=Array.isArray(D)?D:z;return M<=0||q==null||U==null?null:T.createElement("g",{className:"recharts-polar-grid"},T.createElement(Dse,Os({cx:N,cy:k,innerRadius:I,outerRadius:M,gridType:d,radialLines:h},P,{polarAngles:q,polarRadius:U})),T.createElement(Lse,Os({cx:N,cy:k,innerRadius:I,outerRadius:M,gridType:d,radialLines:h},P,{polarAngles:q,polarRadius:U})))};l$.displayName="PolarGrid";var xw={},Ew={},Pk;function $se(){return Pk||(Pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const u=n[o],f=r(u);f>a&&(a=f,i=u)}return i}t.maxBy=e})(Ew)),Ew}var Rk;function Vse(){return Rk||(Rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$se(),n=Uy(),r=CE();function i(a,o){if(a!=null)return e.maxBy(Array.from(a),r.iteratee(o??n.identity))}t.maxBy=i})(xw)),xw}var Sw,Ck;function Use(){return Ck||(Ck=1,Sw=Vse().maxBy),Sw}var Bse=Use();const zse=ci(Bse);var Tw={},Aw={},jk;function qse(){return jk||(jk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const u=n[o],f=r(u);f<a&&(a=f,i=u)}return i}t.minBy=e})(Aw)),Aw}var Nk;function Fse(){return Nk||(Nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qse(),n=Uy(),r=CE();function i(a,o){if(a!=null)return e.minBy(Array.from(a),r.iteratee(o??n.identity))}t.minBy=i})(Tw)),Tw}var Ow,kk;function Hse(){return kk||(kk=1,Ow=Fse().minBy),Ow}var Kse=Hse();const Gse=ci(Kse);var Wse={radiusAxis:{},angleAxis:{}},u$=fi({name:"polarAxis",initialState:Wse,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Yse,removeRadiusAxis:Xse,addAngleAxis:Qse,removeAngleAxis:Jse}=u$.actions,Zse=u$.reducer,eoe=["cx","cy","angle","axisLine"],toe=["angle","tickFormatter","stroke","tick"];function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(null,arguments)}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){yv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yv(t,e,n){return(e=noe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function noe(t){var e=roe(t,"string");return typeof e=="symbol"?e:e+""}function roe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c$(t,e){if(t==null)return{};var n,r,i=ioe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ioe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var f$="radiusAxis";function aoe(t){var e=Jt();return T.useEffect(()=>(e(Yse(t)),()=>{e(Xse(t))})),null}var soe=(t,e,n,r)=>{var{coordinate:i}=t;return Vt(n,r,i,e)},ooe=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},loe=(t,e,n,r)=>{var i=zse(r,o=>o.coordinate||0),a=Gse(r,o=>o.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:a.coordinate||0,outerRadius:i.coordinate||0}},uoe=(t,e)=>{var{cx:n,cy:r,angle:i,axisLine:a}=t,o=c$(t,eoe),u=e.reduce((p,y)=>[Math.min(p[0],y.coordinate),Math.max(p[1],y.coordinate)],[1/0,-1/0]),f=Vt(n,r,u[0],i),d=Vt(n,r,u[1],i),h=Ca(Ca(Ca({},Rr(o)),{},{fill:"none"},_t(a,!1)),{},{x1:f.x,y1:f.y,x2:d.x,y2:d.y});return T.createElement("line",Nh({className:"recharts-polar-radius-axis-line"},h))},coe=(t,e,n)=>{var r;return T.isValidElement(t)?r=T.cloneElement(t,e):typeof t=="function"?r=t(e):r=T.createElement(am,Nh({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),r},foe=(t,e)=>{var{angle:n,tickFormatter:r,stroke:i,tick:a}=t,o=c$(t,toe),u=ooe(t.orientation),f=Rr(o),d=_t(a,!1),h=e.map((p,y)=>{var b=soe(p,t.angle,t.cx,t.cy),x=Ca(Ca(Ca(Ca({textAnchor:u,transform:"rotate(".concat(90-n,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:i},d),{},{index:y},b),{},{payload:p});return T.createElement(Pn,Nh({className:ot("recharts-polar-radius-axis-tick",xL(a)),key:"tick-".concat(p.coordinate)},mf(t,p,y)),coe(a,x,r?r(p.value,y):p.value))});return T.createElement(Pn,{className:"recharts-polar-radius-axis-ticks"},h)},doe=t=>{var{radiusAxisId:e}=t,n=Se(_f),r=Se(f=>Of(f,"radiusAxis",e)),i=Se(f=>Pf(f,"radiusAxis",e,!1));if(n==null||!i||!i.length)return null;var a=Ca(Ca(Ca({},t),{},{scale:r},n),{},{radius:n.outerRadius}),{tick:o,axisLine:u}=a;return T.createElement(Pn,{className:ot("recharts-polar-radius-axis",f$,a.className)},u&&uoe(a,i),o&&foe(a,i),Vr.renderCallByParent(a,loe(a.angle,a.cx,a.cy,i)))};class vv extends T.PureComponent{render(){return T.createElement(T.Fragment,null,T.createElement(aoe,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),T.createElement(doe,this.props))}}yv(vv,"displayName","PolarRadiusAxis");yv(vv,"axisType",f$);yv(vv,"defaultProps",$r);var hoe=["children"];function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(null,arguments)}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){bv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bv(t,e,n){return(e=moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function moe(t){var e=poe(t,"string");return typeof e=="symbol"?e:e+""}function poe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function goe(t,e){if(t==null)return{};var n,r,i=yoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var voe=Math.PI/180,Mk=1e-5,d$="angleAxis";function boe(t){var e=Jt(),n=T.useMemo(()=>{var{children:a}=t,o=goe(t,hoe);return o},[t]),r=Se(a=>bf(a,n.id)),i=n===r;return T.useEffect(()=>(e(Qse(n)),()=>{e(Jse(n))}),[e,n]),i?t.children:null}var _oe=(t,e)=>{var{cx:n,cy:r,radius:i,orientation:a,tickSize:o}=e,u=o||8,f=Vt(n,r,i,t.coordinate),d=Vt(n,r,i+(a==="inner"?-1:1)*u,t.coordinate);return{x1:f.x,y1:f.y,x2:d.x,y2:d.y}},woe=(t,e)=>{var n=Math.cos(-t.coordinate*voe);return n>Mk?e==="outer"?"start":"end":n<-Mk?e==="outer"?"end":"start":"middle"},xoe=t=>{var{cx:e,cy:n,radius:r,axisLineType:i,axisLine:a,ticks:o}=t;if(!a)return null;var u=Pa(Pa({},Rr(t)),{},{fill:"none"},_t(a,!1));if(i==="circle")return T.createElement(gv,Ps({className:"recharts-polar-angle-axis-line"},u,{cx:e,cy:n,r}));var f=o.map(d=>Vt(e,n,r,d.coordinate));return T.createElement(n$,Ps({className:"recharts-polar-angle-axis-line"},u,{points:f}))},Eoe=t=>{var{tick:e,tickProps:n,value:r}=t;return e?T.isValidElement(e)?T.cloneElement(e,n):typeof e=="function"?e(n):T.createElement(am,Ps({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},Soe=t=>{var{tick:e,tickLine:n,tickFormatter:r,stroke:i,ticks:a}=t,o=Rr(t),u=_t(e,!1),f=Pa(Pa({},o),{},{fill:"none"},_t(n,!1)),d=a.map((h,p)=>{var y=_oe(h,t),b=woe(h,t.orientation),x=Pa(Pa(Pa({},o),{},{textAnchor:b,stroke:"none",fill:i},u),{},{index:p,payload:h,x:y.x2,y:y.y2});return T.createElement(Pn,Ps({className:ot("recharts-polar-angle-axis-tick",xL(e)),key:"tick-".concat(h.coordinate)},mf(t,h,p)),n&&T.createElement("line",Ps({className:"recharts-polar-angle-axis-tick-line"},f,y)),T.createElement(Eoe,{tick:e,tickProps:x,value:r?r(h.value,p):h.value}))});return T.createElement(Pn,{className:"recharts-polar-angle-axis-ticks"},d)},Toe=t=>{var{angleAxisId:e}=t,n=Se(_f),r=Se(u=>Of(u,"angleAxis",e)),i=_r(),a=Se(u=>Pf(u,"angleAxis",e,i));if(n==null||!a||!a.length)return null;var o=Pa(Pa(Pa({},t),{},{scale:r},n),{},{radius:n.outerRadius});return T.createElement(Pn,{className:ot("recharts-polar-angle-axis",d$,o.className)},T.createElement(xoe,Ps({},o,{ticks:a})),T.createElement(Soe,Ps({},o,{ticks:a})))};class _v extends T.PureComponent{render(){return this.props.radius<=0?null:T.createElement(boe,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},T.createElement(Toe,this.props))}}bv(_v,"displayName","PolarAngleAxis");bv(_v,"axisType",d$);bv(_v,"defaultProps",Oa);var Pw={},Lk;function Aoe(){return Lk||(Lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Pw)),Pw}var Rw,$k;function Ooe(){return $k||($k=1,Rw=Aoe().isPlainObject),Rw}var Poe=Ooe();const Roe=ci(Poe);function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(null,arguments)}var Vk=(t,e,n,r,i)=>{var a=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},Coe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},joe=t=>{var e=Bi(t,Coe),n=T.useRef(),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&i(S)}catch{}},[]);var{x:a,y:o,upperWidth:u,lowerWidth:f,height:d,className:h}=e,{animationEasing:p,animationDuration:y,animationBegin:b,isUpdateAnimationActive:x}=e;if(a!==+a||o!==+o||u!==+u||f!==+f||d!==+d||u===0&&f===0||d===0)return null;var E=ot("recharts-trapezoid",h);return x?T.createElement(Kg,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:d,x:a,y:o},to:{upperWidth:u,lowerWidth:f,height:d,x:a,y:o},duration:y,animationEasing:p,isActive:x},S=>{var{upperWidth:O,lowerWidth:R,height:P,x:$,y:D}=S;return T.createElement(Kg,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:p},T.createElement("path",ly({},_t(e,!0),{className:E,d:Vk($,D,O,R,P),ref:n})))}):T.createElement("g",null,T.createElement("path",ly({},_t(e,!0),{className:E,d:Vk(a,o,u,f,d)})))},Noe=["option","shapeType","propTransformer","activeClassName","isActive"];function koe(t,e){if(t==null)return{};var n,r,i=Doe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Doe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){Ioe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ioe(t,e,n){return(e=Moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Moe(t){var e=Loe(t,"string");return typeof e=="symbol"?e:e+""}function Loe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $oe(t,e){return uy(uy({},e),t)}function Voe(t,e){return t==="symbols"}function Bk(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(UL,n);case"trapezoid":return T.createElement(joe,n);case"sector":return T.createElement(qL,n);case"symbols":if(Voe(e))return T.createElement(xE,n);break;default:return null}}function Uoe(t){return T.isValidElement(t)?t.props:t}function Boe(t){var{option:e,shapeType:n,propTransformer:r=$oe,activeClassName:i="recharts-active-shape",isActive:a}=t,o=koe(t,Noe),u;if(T.isValidElement(e))u=T.cloneElement(e,uy(uy({},o),Uoe(e)));else if(typeof e=="function")u=e(o);else if(Roe(e)&&typeof e!="boolean"){var f=r(e,o);u=T.createElement(Bk,{shapeType:n,elementProps:f})}else{var d=o;u=T.createElement(Bk,{shapeType:n,elementProps:d})}return a?T.createElement(Pn,{className:i},u):u}var h$=(t,e)=>{var n=Jt();return(r,i)=>a=>{t?.(r,i,a),n(T6({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},m$=t=>{var e=Jt();return(n,r)=>i=>{t?.(n,r,i),e(Ire())}},p$=(t,e)=>{var n=Jt();return(r,i)=>a=>{t?.(r,i,a),n(Mre({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function JS(t){var{fn:e,args:n}=t,r=Jt(),i=_r();return T.useEffect(()=>{if(!i){var a=e(n);return r(Nre(a)),()=>{r(kre(a))}}},[e,n,r,i]),null}var g$=()=>{};function y$(t){var{legendPayload:e}=t,n=Jt(),r=_r();return T.useEffect(()=>r?g$:(n(CL(e)),()=>{n(jL(e))}),[n,r,e]),null}function zoe(t){var{legendPayload:e}=t,n=Jt(),r=Se(lt);return T.useEffect(()=>r!=="centric"&&r!=="radial"?g$:(n(CL(e)),()=>{n(jL(e))}),[n,r,e]),null}function ZS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(wh(e)),r=T.useRef(t);return r.current!==t&&(n.current=wh(e),r.current=t),n.current}var Cw,qoe=()=>{var[t]=T.useState(()=>wh("uid-"));return t},Foe=(Cw=$V.useId)!==null&&Cw!==void 0?Cw:qoe;function Hoe(t,e){var n=Foe();return e||(t?"".concat(t,"-").concat(n):n)}var Koe=T.createContext(void 0),eT=t=>{var{id:e,type:n,children:r}=t,i=Hoe("recharts-".concat(n),e);return T.createElement(Koe.Provider,{value:i},r(i))},Goe={cartesianItems:[],polarItems:[]},v$=fi({name:"graphicalItems",initialState:Goe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=vs(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=vs(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=vs(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Woe,replaceCartesianGraphicalItem:Yoe,removeCartesianGraphicalItem:Xoe,addPolarGraphicalItem:Qoe,removePolarGraphicalItem:Joe}=v$.actions,Zoe=v$.reducer;function b$(t){var e=Jt(),n=T.useRef(null);return T.useEffect(()=>{n.current===null?e(Woe(t)):n.current!==t&&e(Yoe({prev:n.current,next:t})),n.current=t},[e,t]),T.useEffect(()=>()=>{n.current&&(e(Xoe(n.current)),n.current=null)},[e]),null}function ele(t){var e=Jt();return T.useEffect(()=>(e(Qoe(t)),()=>{e(Joe(t))}),[e,t]),null}function tle(){}var nle={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},zk={t:0},jw={t:1};function tT(t){var e=Bi(t,nle),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:u,onAnimationStart:f,children:d}=e,h=VL("JavascriptAnimate",e.animationManager),[p,y]=T.useState(n?zk:jw),b=T.useRef(null);return T.useEffect(()=>{n||y(jw)},[n]),T.useEffect(()=>{if(!n||!r)return tle;var x=$L(zk,jw,ML(a),i,y,h.getTimeoutController()),E=()=>{b.current=x()};return h.start([f,o,E,i,u]),()=>{h.stop(),b.current&&b.current(),u()}},[n,r,i,a,o,f,u,h]),d(p.t)}var rle=te([Qn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),ile=te([rle,Ds,Is],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),nT=()=>Se(ile),ale=()=>Se(xie);function qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(n),!0).forEach(function(r){sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sle(t,e,n){return(e=ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ole(t){var e=lle(t,"string");return typeof e=="symbol"?e:e+""}function lle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ule=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=Fk(Fk({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},_t(i,!1)),gE(i)),u;return T.isValidElement(i)?u=T.cloneElement(i,o):typeof i=="function"?u=i(o):u=T.createElement(gv,o),T.createElement(Pn,{className:"recharts-active-dot"},u)};function _$(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Se(fu),o=ale();if(e==null||o==null)return null;var u=e.find(f=>o.includes(f.payload));return zt(u)?null:ule({point:u,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){cle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cle(t,e,n){return(e=fle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fle(t){var e=dle(t,"string");return typeof e=="symbol"?e:e+""}function dle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w$=(t,e)=>Of(t,"radiusAxis",e),hle=te([w$],t=>{if(t!=null)return{scale:t}}),mle=te([Jh,w$],(t,e)=>{if(!(t==null||e==null))return cy(cy({},t),{},{scale:e})}),ple=(t,e,n,r)=>Pf(t,"radiusAxis",e,r),x$=(t,e,n)=>bf(t,n),E$=(t,e,n)=>Of(t,"angleAxis",n),gle=te([x$,E$],(t,e)=>{if(!(t==null||e==null))return cy(cy({},t),{},{scale:e})}),yle=(t,e,n,r)=>Pf(t,"angleAxis",n,r),vle=te([x$,E$,_f],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),ble=(t,e,n,r,i)=>i,_le=te([lt,mle,ple,gle,yle],(t,e,n,r,i)=>ks(t,"radiusAxis")?uu(e,n,!1):uu(r,i,!1)),wle=te([r$,ble],(t,e)=>{if(t.some(n=>n.type==="radar"&&e===n.dataKey))return e}),xle=te([hle,vle,hS,wle,_le],(t,e,n,r,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:u}=n;if(!(t==null||e==null||a==null||i==null||r==null)){var f=a.slice(o,u+1);return jle({radiusAxis:t,angleAxis:e,displayedData:f,dataKey:r,bandSize:i})}}),Ele=["id"];function Sle(t,e){if(t==null)return{};var n,r,i=Tle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){rT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rT(t,e,n){return(e=Ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ale(t){var e=Ole(t,"string");return typeof e=="symbol"?e:e+""}function Ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},af.apply(null,arguments)}function iT(t,e){return t&&t!=="none"?t:e}var Ple=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:iT(r,i),value:pf(n,e),payload:t}]};function Rle(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,tooltipType:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:e,name:pf(a,e),hide:o,type:u,color:iT(n,i),unit:""}}}function Cle(t,e){var n;return T.isValidElement(t)?n=T.cloneElement(t,e):typeof t=="function"?n=t(e):n=T.createElement(gv,af({},e,{className:ot("recharts-radar-dot",typeof t!="boolean"?t.className:"")})),n}function jle(t){var{radiusAxis:e,angleAxis:n,displayedData:r,dataKey:i,bandSize:a}=t,{cx:o,cy:u}=n,f=!1,d=[],h=n.type!=="number"?a??0:0;r.forEach((y,b)=>{var x=fn(y,n.dataKey,b),E=fn(y,i),S=n.scale(x)+h,O=Array.isArray(E)?t$(E):E,R=zt(O)?void 0:e.scale(O);Array.isArray(E)&&E.length>=2&&(f=!0),d.push(Pr(Pr({},Vt(o,u,R,S)),{},{name:x,value:E,cx:o,cy:u,radius:R,angle:S,payload:y}))});var p=[];return f&&d.forEach(y=>{if(Array.isArray(y.value)){var b=y.value[0],x=zt(b)?void 0:e.scale(b);p.push(Pr(Pr({},y),{},{radius:x},Vt(o,u,x,y.angle)))}else p.push(y)}),{points:d,isRange:f,baseLinePoints:p}}function Nle(t){var{points:e,props:n}=t,{dot:r,dataKey:i}=n;if(!r)return null;var{id:a}=n,o=Sle(n,Ele),u=Rr(o),f=_t(r,!0),d=e.map((h,p)=>{var y=Pr(Pr(Pr({key:"dot-".concat(p),r:3},u),f),{},{dataKey:i,cx:h.x,cy:h.y,index:p,payload:h});return Cle(r,y)});return T.createElement(Pn,{className:"recharts-radar-dots"},d)}function S$(t){var{points:e,props:n,showLabels:r}=t;if(e==null)return null;var{shape:i,isRange:a,baseLinePoints:o,connectNulls:u}=n,f=p=>{var{onMouseEnter:y}=n;y&&y(n,p)},d=p=>{var{onMouseLeave:y}=n;y&&y(n,p)},h;return T.isValidElement(i)?h=T.cloneElement(i,Pr(Pr({},n),{},{points:e})):typeof i=="function"?h=i(Pr(Pr({},n),{},{points:e})):h=T.createElement(n$,af({},_t(n,!0),{onMouseEnter:f,onMouseLeave:d,points:e,baseLinePoints:a?o:null,connectNulls:u})),T.createElement(Pn,{className:"recharts-radar-polygon"},h,T.createElement(Nle,{props:n,points:e}),r&&aa.renderCallByParent(n,e))}function kle(t){var{props:e,previousPointsRef:n}=t,{points:r,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:u,onAnimationEnd:f,onAnimationStart:d}=e,h=n.current,p=ZS(e,"recharts-radar-"),[y,b]=T.useState(!0),x=T.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),E=T.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return T.createElement(tT,{begin:a,duration:o,isActive:i,easing:u,key:"radar-".concat(p),onAnimationEnd:x,onAnimationStart:E},S=>{var O=h&&h.length/r.length,R=S===1?r:r.map((P,$)=>{var D=h&&h[Math.floor($*O)];if(D){var N=Dp(D.x,P.x),k=Dp(D.y,P.y);return Pr(Pr({},P),{},{x:N(S),y:k(S)})}var I=Dp(P.cx,P.x),M=Dp(P.cy,P.y);return Pr(Pr({},P),{},{x:I(S),y:M(S)})});return S>0&&(n.current=R),T.createElement(S$,{points:R,props:e,showLabels:!y})})}function Dle(t){var{points:e,isAnimationActive:n,isRange:r}=t,i=T.useRef(void 0),a=i.current;return n&&e&&e.length&&!r&&(!a||a!==e)?T.createElement(kle,{props:t,previousPointsRef:i}):T.createElement(S$,{points:e,props:t,showLabels:!0})}var Ile={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!_u.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class Mle extends T.PureComponent{render(){var{hide:e,className:n,points:r}=this.props;if(e)return null;var i=ot("recharts-radar",n);return T.createElement(T.Fragment,null,T.createElement(Pn,{className:i},T.createElement(Dle,this.props)),T.createElement(_$,{points:r,mainColor:iT(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function Lle(t){var e=_r(),n=Se(r=>xle(r,t.radiusAxisId,t.angleAxisId,e,t.dataKey));return T.createElement(Mle,af({},t,{points:n?.points,baseLinePoints:n?.baseLinePoints,isRange:n?.isRange}))}class fy extends T.PureComponent{render(){return T.createElement(eT,{id:this.props.id,type:"radar"},e=>T.createElement(T.Fragment,null,T.createElement(ele,{type:"radar",id:e,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),T.createElement(zoe,{legendPayload:Ple(this.props)}),T.createElement(JS,{fn:Rle,args:this.props}),T.createElement(Lle,af({},this.props,{id:e}))))}}rT(fy,"displayName","Radar");rT(fy,"defaultProps",Ile);var $le="Invariant failed";function Vle(t,e){throw new Error($le)}var Ule=["x","y"];function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o1.apply(null,arguments)}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){Ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ble(t,e,n){return(e=zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zle(t){var e=qle(t,"string");return typeof e=="symbol"?e:e+""}function qle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fle(t,e){if(t==null)return{};var n,r,i=Hle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kle(t,e){var{x:n,y:r}=t,i=Fle(t,Ule),a="".concat(n),o=parseInt(a,10),u="".concat(r),f=parseInt(u,10),d="".concat(e.height||i.height),h=parseInt(d,10),p="".concat(e.width||i.width),y=parseInt(p,10);return $d($d($d($d($d({},e),i),o?{x:o}:{}),f?{y:f}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function T$(t){return T.createElement(Boe,o1({shapeType:"rectangle",propTransformer:Kle,activeClassName:"recharts-active-bar"},t))}var Gle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ae(e))return e;var a=Ae(r)||zt(r);return a?e(r,i):(a||Vle(),n)}},Wle={},A$=fi({name:"errorBars",initialState:Wle,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ghe,removeErrorBar:yhe}=A$.actions,Yle=A$.reducer,Xle=["children"];function Qle(t,e){if(t==null)return{};var n,r,i=Jle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zle={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},eue=T.createContext(Zle);function O$(t){var{children:e}=t,n=Qle(t,Xle);return T.createElement(eue.Provider,{value:n},e)}function aT(t,e){var n,r,i=Se(d=>Ls(d,t)),a=Se(d=>tl(d,e)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ei.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ti.allowDataOverflow,f=o||u;return{needClip:f,needClipX:o,needClipY:u}}function P$(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=nT(),{needClipX:a,needClipY:o,needClip:u}=aT(e,n);if(!u)return null;var{x:f,y:d,width:h,height:p}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:a?f:f-h/2,y:o?d:d-p/2,width:a?h:h*2,height:o?p:p*2}))}var tue=["onMouseEnter","onMouseLeave","onClick"],nue=["value","background","tooltipPosition"],rue=["id"],iue=["onMouseEnter","onClick","onMouseLeave"];function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(null,arguments)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aue(t,e,n){return(e=sue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sue(t){var e=oue(t,"string");return typeof e=="symbol"?e:e+""}function oue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dy(t,e){if(t==null)return{};var n,r,i=lue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uue=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:pf(n,e),payload:t}]};function cue(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:pf(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:u}}}function fue(t){var e=Se(fu),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:u,onClick:f}=a,d=dy(a,tue),h=h$(o,r),p=m$(u),y=p$(f,r);if(!i||n==null)return null;var b=_t(i,!1);return T.createElement(T.Fragment,null,n.map((x,E)=>{var{value:S,background:O,tooltipPosition:R}=x,P=dy(x,nue);if(!O)return null;var $=h(x,E),D=p(x,E),N=y(x,E),k=vr(vr(vr(vr(vr({option:i,isActive:String(E)===e},P),{},{fill:"#eee"},O),b),mf(d,x,E)),{},{onMouseEnter:$,onMouseLeave:D,onClick:N,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return T.createElement(T$,sf({key:"background-bar-".concat(E)},k))}))}function R$(t){var{data:e,props:n,showLabels:r}=t,i=Rr(n),{id:a}=i,o=dy(i,rue),{shape:u,dataKey:f,activeBar:d}=n,h=Se(fu),p=Se($6),{onMouseEnter:y,onClick:b,onMouseLeave:x}=n,E=dy(n,iue),S=h$(y,f),O=m$(x),R=p$(b,f);return e?T.createElement(T.Fragment,null,e.map((P,$)=>{var D=d&&String($)===h&&(p==null||f===p),N=D?d:u,k=vr(vr(vr({},o),P),{},{isActive:D,option:N,index:$,dataKey:f});return T.createElement(Pn,sf({className:"recharts-bar-rectangle"},mf(E,P,$),{onMouseEnter:S(P,$),onMouseLeave:O(P,$),onClick:R(P,$),key:"rectangle-".concat(P?.x,"-").concat(P?.y,"-").concat(P?.value,"-").concat($)}),T.createElement(T$,k))}),r&&aa.renderCallByParent(n,e)):null}function due(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:u,animationEasing:f,onAnimationEnd:d,onAnimationStart:h}=e,p=n.current,y=ZS(e,"recharts-bar-"),[b,x]=T.useState(!1),E=T.useCallback(()=>{typeof d=="function"&&d(),x(!1)},[d]),S=T.useCallback(()=>{typeof h=="function"&&h(),x(!0)},[h]);return T.createElement(tT,{begin:o,duration:u,isActive:a,easing:f,onAnimationEnd:E,onAnimationStart:S,key:y},O=>{var R=O===1?r:r?.map((P,$)=>{var D=p&&p[$];if(D)return vr(vr({},P),{},{x:ea(D.x,P.x,O),y:ea(D.y,P.y,O),width:ea(D.width,P.width,O),height:ea(D.height,P.height,O)});if(i==="horizontal"){var N=ea(0,P.height,O);return vr(vr({},P),{},{y:P.y+P.height-N,height:N})}var k=ea(0,P.width,O);return vr(vr({},P),{},{width:k})});return O>0&&(n.current=R??null),R==null?null:T.createElement(Pn,null,T.createElement(R$,{props:e,data:R,showLabels:!b}))})}function hue(t){var{data:e,isAnimationActive:n}=t,r=T.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?T.createElement(due,{previousRectanglesRef:r,props:t}):T.createElement(R$,{props:t,data:e,showLabels:!0})}var C$=0,mue=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:fn(t,e)}};class pue extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:u,background:f,id:d}=this.props;if(e)return null;var h=ot("recharts-bar",i),p=d;return T.createElement(Pn,{className:h,id:d},u&&T.createElement("defs",null,T.createElement(P$,{clipPathId:p,xAxisId:a,yAxisId:o})),T.createElement(Pn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},T.createElement(fue,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),T.createElement(hue,this.props)),this.props.children)}}var gue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!_u.isSsr,legendType:"rect",minPointSize:C$,xAxisId:0,yAxisId:0};function yue(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h}=t,{needClip:p}=aT(e,n),y=Qy(),b=_r(),x=yE(t.children,W6),E=Se(R=>Fue(R,e,n,b,t.id,x));if(y!=="vertical"&&y!=="horizontal")return null;var S,O=E?.[0];return O==null||O.height==null||O.width==null?S=0:S=y==="vertical"?O.height/2:O.width/2,T.createElement(O$,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:mue,errorBarOffset:S},T.createElement(pue,sf({},t,{layout:y,needClip:p,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h})))}function vue(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:u,xAxisTicks:f,yAxisTicks:d,stackedData:h,displayedData:p,offset:y,cells:b}=t,x=e==="horizontal"?u:o,E=h?x.scale.domain():null,S=YQ({numericAxis:x});return p.map((O,R)=>{var P,$,D,N,k,I;h?P=qQ(h[R],E):(P=fn(O,n),Array.isArray(P)||(P=[S,P]));var M=Gle(r,C$)(P[1],R);if(e==="horizontal"){var V,[z,q]=[u.scale(P[0]),u.scale(P[1])];$=wN({axis:o,ticks:f,bandSize:a,offset:i.offset,entry:O,index:R}),D=(V=q??z)!==null&&V!==void 0?V:void 0,N=i.size;var U=z-q;if(k=si(U)?0:U,I={x:$,y:y.top,width:N,height:y.height},Math.abs(M)>0&&Math.abs(k)<Math.abs(M)){var ge=Ur(k||M)*(Math.abs(M)-Math.abs(k));D-=ge,k+=ge}}else{var[we,G]=[o.scale(P[0]),o.scale(P[1])];if($=we,D=wN({axis:u,ticks:d,bandSize:a,offset:i.offset,entry:O,index:R}),N=G-we,k=i.size,I={x:y.left,y:D,width:y.width,height:k},Math.abs(M)>0&&Math.abs(N)<Math.abs(M)){var ie=Ur(N||M)*(Math.abs(M)-Math.abs(N));N+=ie}}if($==null||D==null||N==null||k==null)return null;var pe=vr(vr({},O),{},{x:$,y:D,width:N,height:k,value:h?P:P[1],payload:O,background:I,tooltipPosition:{x:$+N/2,y:D+k/2}},b&&b[R]&&b[R].props);return pe}).filter(Boolean)}function of(t){var e=Bi(t,gue),n=_r();return T.createElement(eT,{id:e.id,type:"bar"},r=>T.createElement(T.Fragment,null,T.createElement(y$,{legendPayload:uue(e)}),T.createElement(JS,{fn:cue,args:e}),T.createElement(b$,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:WQ(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),T.createElement(yue,sf({},e,{id:r}))))}of.displayName="Bar";function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){bue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bue(t,e,n){return(e=_ue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ue(t){var e=wue(t,"string");return typeof e=="symbol"?e:e+""}function wue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xue=(t,e)=>e,Eue=(t,e,n)=>n,Sue=(t,e,n,r)=>r,Tue=(t,e,n,r,i)=>i,sm=te([uv,Tue],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Aue=te([sm],t=>t?.maxBarSize),Oue=(t,e,n,r,i,a)=>a,Xk=(t,e,n)=>{var r=n??t;if(!zt(r))return sa(r,e,0)},Pue=te([lt,uv,xue,Eue,Sue],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Rue=(t,e,n,r)=>{var i=lt(t);return i==="horizontal"?e1(t,"yAxis",n,r):e1(t,"xAxis",e,r)},Cue=(t,e,n)=>{var r=lt(t);return r==="horizontal"?B2(t,"xAxis",e):B2(t,"yAxis",n)},jue=(t,e,n)=>{var r={},i=t.filter(lv),a=t.filter(d=>d.stackId==null),o=i.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),r),u=Object.entries(o).map(d=>{var[h,p]=d,y=p.map(x=>x.dataKey),b=Xk(e,n,p[0].barSize);return{stackId:h,dataKeys:y,barSize:b}}),f=a.map(d=>{var h=[d.dataKey].filter(y=>y!=null),p=Xk(e,n,d.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...f]},Nue=te([Pue,kne,Cue],jue),kue=(t,e,n,r,i)=>{var a,o,u=sm(t,e,n,r,i);if(u!=null){var f=lt(t),d=V3(t),{maxBarSize:h}=u,p=zt(h)?d:h,y,b;return f==="horizontal"?(y=Ko(t,"xAxis",e,r),b=Ho(t,"xAxis",e,r)):(y=Ko(t,"yAxis",n,r),b=Ho(t,"yAxis",n,r)),(a=(o=uu(y,b,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},j$=(t,e,n,r)=>{var i=lt(t),a,o;return i==="horizontal"?(a=Ko(t,"xAxis",e,r),o=Ho(t,"xAxis",e,r)):(a=Ko(t,"yAxis",n,r),o=Ho(t,"yAxis",n,r)),uu(a,o)};function Due(t,e,n,r,i){var a=r.length;if(!(a<1)){var o=sa(t,n,0,!0),u,f=[];if(ui(r[0].barSize)){var d=!1,h=n/a,p=r.reduce((O,R)=>O+(R.barSize||0),0);p+=(a-1)*o,p>=n&&(p-=(a-1)*o,o=0),p>=n&&h>0&&(d=!0,h*=.9,p=a*h);var y=(n-p)/2>>0,b={offset:y-o,size:0};u=r.reduce((O,R)=>{var P,$={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:b.offset+b.size+o,size:d?h:(P=R.barSize)!==null&&P!==void 0?P:0}},D=[...O,$];return b=D[D.length-1].position,D},f)}else{var x=sa(e,n,0,!0);n-2*x-(a-1)*o<=0&&(o=0);var E=(n-2*x-(a-1)*o)/a;E>1&&(E>>=0);var S=ui(i)?Math.min(E,i):E;u=r.reduce((O,R,P)=>[...O,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:x+(E+o)*P+(E-S)/2,size:S}}],f)}return u}}var Iue=(t,e,n,r,i,a,o)=>{var u=zt(o)?e:o,f=Due(n,r,i!==a?i:a,t,u);return i!==a&&f!=null&&(f=f.map(d=>Wp(Wp({},d),{},{position:Wp(Wp({},d.position),{},{offset:d.position.offset-i/2})}))),f},Mue=te([Nue,V3,Nne,U3,kue,j$,Aue],Iue),Lue=(t,e,n,r)=>Ko(t,"xAxis",e,r),$ue=(t,e,n,r)=>Ko(t,"yAxis",n,r),Vue=(t,e,n,r)=>Ho(t,"xAxis",e,r),Uue=(t,e,n,r)=>Ho(t,"yAxis",n,r),Bue=te([Mue,sm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),zue=(t,e)=>{var n=_S(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},que=te([Rue,sm],zue),Fue=te([Qn,Lue,$ue,Vue,Uue,Bue,lt,iv,j$,que,sm,Oue],(t,e,n,r,i,a,o,u,f,d,h,p)=>{var{chartData:y,dataStartIndex:b,dataEndIndex:x}=u;if(!(h==null||a==null||o!=="horizontal"&&o!=="vertical"||e==null||n==null||r==null||i==null||f==null)){var{data:E}=h,S;if(E!=null&&E.length>0?S=E:S=y?.slice(b,x+1),S!=null)return vue({layout:o,barSettings:h,pos:a,bandSize:f,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:d,displayedData:S,offset:t,cells:p})}}),N$=t=>{var{chartData:e}=t,n=Jt(),r=_r();return T.useEffect(()=>r?()=>{}:(n(Q2(e)),()=>{n(Q2(void 0))}),[e,n,r]),null},Qk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},k$=fi({name:"brush",initialState:Qk,reducers:{setBrushSettings(t,e){return e.payload==null?Qk:e.payload}}}),{setBrushSettings:vhe}=k$.actions,Hue=k$.reducer;function Kue(t,e,n){return(e=Gue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gue(t){var e=Wue(t,"string");return typeof e=="symbol"?e:e+""}function Wue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class sT{static create(e){return new sT(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Kue(sT,"EPS",1e-4);function Yue(t){return(t%180+180)%180}var Xue=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Yue(i),o=a*Math.PI/180,u=Math.atan(r/n),f=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(f)},Que={dots:[],areas:[],lines:[]},D$=fi({name:"referenceElements",initialState:Que,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=vs(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=vs(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=vs(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:bhe,removeDot:_he,addArea:whe,removeArea:xhe,addLine:Ehe,removeLine:She}=D$.actions,Jue=D$.reducer,Zue=T.createContext(void 0),ece=t=>{var{children:e}=t,[n]=T.useState("".concat(wh("recharts"),"-clip")),r=nT();if(r==null)return null;var{x:i,y:a,width:o,height:u}=r;return T.createElement(Zue.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:a,height:u,width:o}))),e)};function Nw(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function I$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function tce(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Xue(r,n)}function nce(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:u}=t;return e===1?{start:r?i:a,end:r?i+o:a+u}:{start:r?i+o:a+u,end:r?i:a}}function hy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function rce(t,e){return I$(t,e+1)}function ice(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:u}=e,f=0,d=1,h=o,p=function(){var x=r?.[f];if(x===void 0)return{v:I$(r,d)};var E=f,S,O=()=>(S===void 0&&(S=n(x,E)),S),R=x.coordinate,P=f===0||hy(t,R,O,h,u);P||(f=0,h=o,d+=1),P&&(h=R+t*(O()/2+i),f+=d)},y;d<=a.length;)if(y=p(),y)return y.v;return[]}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ace(t,e,n){return(e=sce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sce(t){var e=oce(t,"string");return typeof e=="symbol"?e:e+""}function oce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lce(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:u}=e,{end:f}=e,d=function(y){var b=a[y],x,E=()=>(x===void 0&&(x=n(b,y)),x);if(y===o-1){var S=t*(b.coordinate+t*E()/2-f);a[y]=b=mr(mr({},b),{},{tickCoord:S>0?b.coordinate-S*t:b.coordinate})}else a[y]=b=mr(mr({},b),{},{tickCoord:b.coordinate});var O=hy(t,b.tickCoord,E,u,f);O&&(f=b.tickCoord-t*(E()/2+i),a[y]=mr(mr({},b),{},{isShow:!0}))},h=o-1;h>=0;h--)d(h);return a}function uce(t,e,n,r,i,a){var o=(r||[]).slice(),u=o.length,{start:f,end:d}=e;if(a){var h=r[u-1],p=n(h,u-1),y=t*(h.coordinate+t*p/2-d);o[u-1]=h=mr(mr({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var b=hy(t,h.tickCoord,()=>p,f,d);b&&(d=h.tickCoord-t*(p/2+i),o[u-1]=mr(mr({},h),{},{isShow:!0}))}for(var x=a?u-1:u,E=function(R){var P=o[R],$,D=()=>($===void 0&&($=n(P,R)),$);if(R===0){var N=t*(P.coordinate-t*D()/2-f);o[R]=P=mr(mr({},P),{},{tickCoord:N<0?P.coordinate-N*t:P.coordinate})}else o[R]=P=mr(mr({},P),{},{tickCoord:P.coordinate});var k=hy(t,P.tickCoord,D,f,d);k&&(f=P.tickCoord+t*(D()/2+i),o[R]=mr(mr({},P),{},{isShow:!0}))},S=0;S<x;S++)E(S);return o}function oT(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:u,interval:f,tickFormatter:d,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(Ae(f)||_u.isSsr){var y;return(y=rce(i,Ae(f)?f:0))!==null&&y!==void 0?y:[]}var b=[],x=u==="top"||u==="bottom"?"width":"height",E=h&&x==="width"?ih(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(P,$)=>{var D=typeof d=="function"?d(P.value,$):P.value;return x==="width"?tce(ih(D,{fontSize:e,letterSpacing:n}),E,p):ih(D,{fontSize:e,letterSpacing:n})[x]},O=i.length>=2?Ur(i[1].coordinate-i[0].coordinate):1,R=nce(a,O,x);return f==="equidistantPreserveStart"?ice(O,R,S,i,o):(f==="preserveStart"||f==="preserveStartEnd"?b=uce(O,R,S,i,o,f==="preserveStartEnd"):b=lce(O,R,S,i,o),b.filter(P=>P.isShow))}var cce=["viewBox"],fce=["viewBox"];function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(null,arguments)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){lT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eD(t,e){if(t==null)return{};var n,r,i=dce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lT(t,e,n){return(e=hce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hce(t){var e=mce(t,"string");return typeof e=="symbol"?e:e+""}function mce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rl extends T.Component{constructor(e){super(e),this.tickRefs=T.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=eD(e,cce),a=this.props,{viewBox:o}=a,u=eD(a,fce);return!Nw(r,o)||!Nw(i,u)||!Nw(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:a,orientation:o,tickSize:u,mirror:f,tickMargin:d}=this.props,h,p,y,b,x,E,S=f?-1:1,O=e.tickSize||u,R=Ae(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":h=p=e.coordinate,b=r+ +!f*a,y=b-S*O,E=y-S*d,x=R;break;case"left":y=b=e.coordinate,p=n+ +!f*i,h=p-S*O,x=h-S*d,E=R;break;case"right":y=b=e.coordinate,p=n+ +f*i,h=p+S*O,x=h+S*d,E=R;break;default:h=p=e.coordinate,b=r+ +f*a,y=b+S*O,E=y+S*d,x=R;break}return{line:{x1:h,y1:y,x2:p,y2:b},tick:{x,y:E}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:u}=this.props,f=kn(kn(kn({},_t(this.props,!1)),_t(u,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);f=kn(kn({},f),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var h=+(a==="left"&&!o||a==="right"&&o);f=kn(kn({},f),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return T.createElement("line",jc({},f,{className:ot("recharts-cartesian-axis-line",su(u,"className"))}))}static renderTickItem(e,n,r){var i,a=ot(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,kn(kn({},n),{},{className:a}));else if(typeof e=="function")i=e(kn(kn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=ot(o,e.className)),i=T.createElement(am,jc({},n,{className:o}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:o,tickFormatter:u,unit:f,padding:d}=this.props,h=oT(kn(kn({},this.props),{},{ticks:r}),e,n),p=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=Rr(this.props),x=_t(o,!1),E=kn(kn({},b),{},{fill:"none"},_t(i,!1)),S=h.map((O,R)=>{var{line:P,tick:$}=this.getTickLineCoord(O),D=kn(kn(kn(kn({textAnchor:p,verticalAnchor:y},b),{},{stroke:"none",fill:a},x),$),{},{index:R,payload:O,visibleTicksCount:h.length,tickFormatter:u,padding:d});return T.createElement(Pn,jc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},mf(this.props,O,R)),i&&T.createElement("line",jc({},E,P,{className:ot("recharts-cartesian-axis-tick-line",su(i,"className"))})),o&&rl.renderTickItem(o,D,"".concat(typeof u=="function"?u(O.value,R):O.value).concat(f||"")))});return S.length>0?T.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:a}=this.props;if(a)return null;var{ticks:o}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:T.createElement(Pn,{className:ot("recharts-cartesian-axis",i),ref:u=>{if(u){var f=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var d=f[0];if(d){var h=window.getComputedStyle(d).fontSize,p=window.getComputedStyle(d).letterSpacing;(h!==this.state.fontSize||p!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),Vr.renderCallByParent(this.props))}}lT(rl,"displayName","CartesianAxis");lT(rl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pce=["x1","y1","x2","y2","key"],gce=["offset"],yce=["xAxisId","yAxisId"],vce=["xAxisId","yAxisId"];function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bce(t,e,n){return(e=_ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ce(t){var e=wce(t,"string");return typeof e=="symbol"?e:e+""}function wce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(null,arguments)}function my(t,e){if(t==null)return{};var n,r,i=xce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ece=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:u}=t;return T.createElement("rect",{x:r,y:i,ry:u,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function M$(t,e){var n;if(T.isValidElement(t))n=T.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:o,key:u}=e,f=my(e,pce),d=Rr(f),{offset:h}=d,p=my(d,gce);n=T.createElement("line",Yl({},p,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:u}))}return n}function Sce(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,u=my(t,yce),f=i.map((d,h)=>{var p=br(br({},u),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(h),index:h});return M$(r,p)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Tce(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,u=my(t,vce),f=i.map((d,h)=>{var p=br(br({},u),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(h),index:h});return M$(r,p)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Ace(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==d[0]&&d.unshift(0);var h=d.map((p,y)=>{var b=!d[y+1],x=b?i+o-p:d[y+1]-p;if(x<=0)return null;var E=y%e.length;return T.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:x,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Oce(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var d=f.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==d[0]&&d.unshift(0);var h=d.map((p,y)=>{var b=!d[y+1],x=b?i+o-p:d[y+1]-p;if(x<=0)return null;var E=y%n.length;return T.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:x,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Pce=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return SL(oT(br(br(br({},rl.defaultProps),n),{},{ticks:TL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Rce=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return SL(oT(br(br(br({},rl.defaultProps),n),{},{ticks:TL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Cce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function py(t){var e=UE(),n=BE(),r=PL(),i=br(br({},Bi(t,Cce)),{},{x:Ae(t.x)?t.x:r.left,y:Ae(t.y)?t.y:r.top,width:Ae(t.width)?t.width:r.width,height:Ae(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:u,y:f,width:d,height:h,syncWithTicks:p,horizontalValues:y,verticalValues:b}=i,x=_r(),E=Se(M=>z2(M,"xAxis",a,x)),S=Se(M=>z2(M,"yAxis",o,x));if(!Ae(d)||d<=0||!Ae(h)||h<=0||!Ae(u)||u!==+u||!Ae(f)||f!==+f)return null;var O=i.verticalCoordinatesGenerator||Pce,R=i.horizontalCoordinatesGenerator||Rce,{horizontalPoints:P,verticalPoints:$}=i;if((!P||!P.length)&&typeof R=="function"){var D=y&&y.length,N=R({yAxis:S?br(br({},S),{},{ticks:D?y:S.ticks}):void 0,width:e,height:n,offset:r},D?!0:p);rh(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(P=N)}if((!$||!$.length)&&typeof O=="function"){var k=b&&b.length,I=O({xAxis:E?br(br({},E),{},{ticks:k?b:E.ticks}):void 0,width:e,height:n,offset:r},k?!0:p);rh(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&($=I)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(Ece,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(Ace,Yl({},i,{horizontalPoints:P})),T.createElement(Oce,Yl({},i,{verticalPoints:$})),T.createElement(Sce,Yl({},i,{offset:r,horizontalPoints:P,xAxis:E,yAxis:S})),T.createElement(Tce,Yl({},i,{offset:r,verticalPoints:$,xAxis:E,yAxis:S})))}py.displayName="CartesianGrid";var L$=(t,e,n,r)=>Ko(t,"xAxis",e,r),$$=(t,e,n,r)=>Ho(t,"xAxis",e,r),V$=(t,e,n,r)=>Ko(t,"yAxis",n,r),U$=(t,e,n,r)=>Ho(t,"yAxis",n,r),jce=te([lt,L$,V$,$$,U$],(t,e,n,r,i)=>ks(t,"xAxis")?uu(e,r,!1):uu(n,i,!1)),Nce=(t,e,n,r,i)=>i;function kce(t){return t.type==="line"}var Dce=te([uv,Nce],(t,e)=>t.filter(kce).find(n=>n.id===e)),Ice=te([lt,L$,V$,$$,U$,Dce,jce,iv],(t,e,n,r,i,a,o,u)=>{var{chartData:f,dataStartIndex:d,dataEndIndex:h}=u;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:p,data:y}=a,b;if(y!=null&&y.length>0?b=y:b=f?.slice(d,h+1),b!=null)return nfe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:b})}}),Mce=["id"],Lce=["type","layout","connectNulls","needClip"],$ce=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function nD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(n),!0).forEach(function(r){Vce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vce(t,e,n){return(e=Uce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uce(t){var e=Bce(t,"string");return typeof e=="symbol"?e:e+""}function Bce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uT(t,e){if(t==null)return{};var n,r,i=zce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(null,arguments)}var qce=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:pf(n,e),payload:t}]};function Fce(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:u,unit:f}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:pf(o,e),hide:u,type:t.tooltipType,color:t.stroke,unit:f}}}var B$=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Hce(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Kce=(t,e,n)=>{var r=n.reduce((p,y)=>p+y);if(!r)return B$(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,u=[],f=0,d=0;f<n.length;d+=n[f],++f)if(d+n[f]>a){u=[...n.slice(0,f),a-d];break}var h=u.length%2===0?[0,o]:[o];return[...Hce(n,i),...u,...h].map(p=>"".concat(p,"px")).join(", ")};function Gce(t,e){var n;if(T.isValidElement(t))n=T.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=ot("recharts-line-dot",typeof t!="boolean"?t.className:"");n=T.createElement(gv,du({},e,{className:r}))}return n}function Wce(t,e){return t==null?!1:e?!0:t.length===1}function Yce(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r;if(!Wce(n,i))return null;var{id:u}=r,f=uT(r,Mce),d=x4(i),h=Rr(f),p=_t(i,!0),y=n.map((x,E)=>{var S=ta(ta(ta({key:"dot-".concat(E),r:3},h),p),{},{index:E,cx:x.x,cy:x.y,dataKey:a,value:x.value,payload:x.payload,points:n});return Gce(i,S)}),b={clipPath:o?"url(#clipPath-".concat(d?"":"dots-").concat(e,")"):void 0};return T.createElement(Pn,du({className:"recharts-line-dots",key:"dots"},b),y)}function l1(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a,showLabels:o}=t,{type:u,layout:f,connectNulls:d,needClip:h}=a,p=uT(a,Lce),y=ta(ta({},_t(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:u,layout:f,connectNulls:d,strokeDasharray:i??a.strokeDasharray});return T.createElement(T.Fragment,null,r?.length>1&&T.createElement(kL,du({},y,{pathRef:n})),T.createElement(Yce,{points:r,clipPathId:e,props:a}),o&&aa.renderCallByParent(a,r))}function Xce(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Qce(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:u,isAnimationActive:f,animationBegin:d,animationDuration:h,animationEasing:p,animateNewValues:y,width:b,height:x,onAnimationEnd:E,onAnimationStart:S}=n,O=i.current,R=ZS(n,"recharts-line-"),[P,$]=T.useState(!1),D=T.useCallback(()=>{typeof E=="function"&&E(),$(!1)},[E]),N=T.useCallback(()=>{typeof S=="function"&&S(),$(!0)},[S]),k=Xce(r.current),I=a.current;return T.createElement(tT,{begin:d,duration:h,isActive:f,easing:p,onAnimationEnd:D,onAnimationStart:N,key:R},M=>{var V=ea(I,k+I,M),z=Math.min(V,k),q;if(u){var U="".concat(u).split(/[,\s]+/gim).map(G=>parseFloat(G));q=Kce(z,k,U)}else q=B$(k,z);if(O){var ge=O.length/o.length,we=M===1?o:o.map((G,ie)=>{var pe=Math.floor(ie*ge);if(O[pe]){var xe=O[pe];return ta(ta({},G),{},{x:ea(xe.x,G.x,M),y:ea(xe.y,G.y,M)})}return y?ta(ta({},G),{},{x:ea(b*2,G.x,M),y:ea(x/2,G.y,M)}):ta(ta({},G),{},{x:G.x,y:G.y})});return i.current=we,T.createElement(l1,{props:n,points:we,clipPathId:e,pathRef:r,showLabels:!P,strokeDasharray:q})}return M>0&&k>0&&(i.current=o,a.current=z),T.createElement(l1,{props:n,points:o,clipPathId:e,pathRef:r,showLabels:!P,strokeDasharray:q})})}function Jce(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:i}=n,a=T.useRef(null),o=T.useRef(0),u=T.useRef(null),f=a.current;return i&&r&&r.length&&f!==r?T.createElement(Qce,{props:n,clipPathId:e,previousPointsRef:a,longestAnimatedLengthRef:o,pathRef:u}):T.createElement(l1,{props:n,points:r,clipPathId:e,pathRef:u,showLabels:!0})}var Zce=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:fn(t.payload,e)});class efe extends T.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:o,yAxisId:u,top:f,left:d,width:h,height:p,id:y,needClip:b}=this.props;if(n)return null;var x=ot("recharts-line",a),E=y,{r:S=3,strokeWidth:O=2}=(e=_t(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},R=x4(r),P=S*2+O;return T.createElement(T.Fragment,null,T.createElement(Pn,{className:x},b&&T.createElement("defs",null,T.createElement(P$,{clipPathId:E,xAxisId:o,yAxisId:u}),!R&&T.createElement("clipPath",{id:"clipPath-dots-".concat(E)},T.createElement("rect",{x:d-P/2,y:f-P/2,width:h+P,height:p+P}))),T.createElement(Jce,{props:this.props,clipPathId:E}),T.createElement(O$,{xAxisId:o,yAxisId:u,data:i,dataPointFormatter:Zce,errorBarOffset:0},this.props.children)),T.createElement(_$,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var z$={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!_u.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function tfe(t){var e=Bi(t,z$),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:u,dot:f,hide:d,isAnimationActive:h,label:p,legendType:y,xAxisId:b,yAxisId:x,id:E}=e,S=uT(e,$ce),{needClip:O}=aT(b,x),R=nT(),P=Qy(),$=_r(),D=Se(V=>Ice(V,b,x,$,E));if(P!=="horizontal"&&P!=="vertical"||D==null||R==null)return null;var{height:N,width:k,x:I,y:M}=R;return T.createElement(efe,du({},S,{id:E,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:h,hide:d,label:p,legendType:y,xAxisId:b,yAxisId:x,points:D,layout:P,height:N,width:k,left:I,top:M,needClip:O}))}function nfe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:u,displayedData:f}=t;return f.map((d,h)=>{var p=fn(d,o);if(e==="horizontal"){var y=_N({axis:n,ticks:i,bandSize:u,entry:d,index:h}),b=zt(p)?null:r.scale(p);return{x:y,y:b,value:p,payload:d}}var x=zt(p)?null:n.scale(p),E=_N({axis:r,ticks:a,bandSize:u,entry:d,index:h});return x==null||E==null?null:{x,y:E,value:p,payload:d}}).filter(Boolean)}function gy(t){var e=Bi(t,z$),n=_r();return T.createElement(eT,{id:e.id,type:"line"},r=>T.createElement(T.Fragment,null,T.createElement(y$,{legendPayload:qce(e)}),T.createElement(JS,{fn:Fce,args:e}),T.createElement(b$,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),T.createElement(tfe,du({},e,{id:r}))))}gy.displayName="Line";function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){rfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rfe(t,e,n){return(e=ife(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ife(t){var e=afe(t,"string");return typeof e=="symbol"?e:e+""}function afe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sfe={xAxis:{},yAxis:{},zAxis:{}},q$=fi({name:"cartesianAxis",initialState:sfe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=iD(iD({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:ofe,removeXAxis:lfe,addYAxis:ufe,removeYAxis:cfe,addZAxis:The,removeZAxis:Ahe,updateYAxisWidth:ffe}=q$.actions,dfe=q$.reducer,hfe=["children"],mfe=["dangerouslySetInnerHTML","ticks"];function F$(t,e,n){return(e=pfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pfe(t){var e=gfe(t,"string");return typeof e=="symbol"?e:e+""}function gfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u1.apply(null,arguments)}function H$(t,e){if(t==null)return{};var n,r,i=yfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vfe(t){var e=Jt(),n=T.useMemo(()=>{var{children:a}=t,o=H$(t,hfe);return o},[t]),r=Se(a=>Ls(a,n.id)),i=n===r;return T.useEffect(()=>(e(ofe(n)),()=>{e(lfe(n))}),[n,e]),i?t.children:null}var bfe=t=>{var{xAxisId:e,className:n}=t,r=Se(OL),i=_r(),a="xAxis",o=Se(b=>Sf(b,a,e,i)),u=Se(b=>v6(b,a,e,i)),f=Se(b=>m6(b,e)),d=Se(b=>Tre(b,e));if(f==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:p}=t,y=H$(t,mfe);return T.createElement(rl,u1({},y,{scale:o,x:d.x,y:d.y,width:f.width,height:f.height,className:ot("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u}))},_fe=t=>{var e,n,r,i,a;return T.createElement(vfe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter},T.createElement(bfe,t))};class Go extends T.Component{render(){return T.createElement(_fe,this.props)}}F$(Go,"displayName","XAxis");F$(Go,"defaultProps",{allowDataOverflow:ei.allowDataOverflow,allowDecimals:ei.allowDecimals,allowDuplicatedCategory:ei.allowDuplicatedCategory,height:ei.height,hide:!1,mirror:ei.mirror,orientation:ei.orientation,padding:ei.padding,reversed:ei.reversed,scale:ei.scale,tickCount:ei.tickCount,type:ei.type,xAxisId:0});var wfe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+a,d=o+f+u+(n?r:0);return Math.round(d)}return 0},xfe=["dangerouslySetInnerHTML","ticks"];function K$(t,e,n){return(e=Efe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Efe(t){var e=Sfe(t,"string");return typeof e=="symbol"?e:e+""}function Sfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c1.apply(null,arguments)}function Tfe(t,e){if(t==null)return{};var n,r,i=Afe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Afe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ofe(t){var e=Jt();return T.useEffect(()=>(e(ufe(t)),()=>{e(cfe(t))}),[t,e]),null}var Pfe=t=>{var e,{yAxisId:n,className:r,width:i,label:a}=t,o=T.useRef(null),u=T.useRef(null),f=Se(OL),d=_r(),h=Jt(),p="yAxis",y=Se(P=>Sf(P,p,n,d)),b=Se(P=>p6(P,n)),x=Se(P=>Are(P,n)),E=Se(P=>v6(P,p,n,d));if(T.useLayoutEffect(()=>{var P;if(!(i!=="auto"||!b||GS(a)||T.isValidElement(a))){var $=o.current,D=$==null||(P=$.tickRefs)===null||P===void 0?void 0:P.current,{tickSize:N,tickMargin:k}=$.props,I=wfe({ticks:D,label:u.current,labelGapWithTick:5,tickSize:N,tickMargin:k});Math.round(b.width)!==Math.round(I)&&h(ffe({id:n,width:I}))}},[o,o==null||(e=o.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,b?.width,b,h,a,n,i]),b==null||x==null)return null;var{dangerouslySetInnerHTML:S,ticks:O}=t,R=Tfe(t,xfe);return T.createElement(rl,c1({},R,{ref:o,labelRef:u,scale:y,x:x.x,y:x.y,width:b.width,height:b.height,className:ot("recharts-".concat(p," ").concat(p),r),viewBox:f,ticks:E}))},Rfe=t=>{var e,n,r,i,a;return T.createElement(T.Fragment,null,T.createElement(Ofe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter}),T.createElement(Pfe,t))},Cfe={allowDataOverflow:ti.allowDataOverflow,allowDecimals:ti.allowDecimals,allowDuplicatedCategory:ti.allowDuplicatedCategory,hide:!1,mirror:ti.mirror,orientation:ti.orientation,padding:ti.padding,reversed:ti.reversed,scale:ti.scale,tickCount:ti.tickCount,type:ti.type,width:ti.width,yAxisId:0};class Wo extends T.Component{render(){return T.createElement(Rfe,this.props)}}K$(Wo,"displayName","YAxis");K$(Wo,"defaultProps",Cfe);var kw={exports:{}},Dw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aD;function jfe(){if(aD)return Dw;aD=1;var t=lf();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,u=t.useDebugValue;return Dw.useSyncExternalStoreWithSelector=function(f,d,h,p,y){var b=i(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=o(function(){function S(D){if(!O){if(O=!0,R=D,D=p(D),y!==void 0&&x.hasValue){var N=x.value;if(y(N,D))return P=N}return P=D}if(N=P,n(R,D))return N;var k=p(D);return y!==void 0&&y(N,k)?(R=D,N):(R=D,P=k)}var O=!1,R,P,$=h===void 0?null:h;return[function(){return S(d())},$===null?void 0:function(){return S($())}]},[d,h,p,y]);var E=r(f,b[0],b[1]);return a(function(){x.hasValue=!0,x.value=E},[E]),u(E),E},Dw}var sD;function Nfe(){return sD||(sD=1,kw.exports=jfe()),kw.exports}Nfe();function kfe(t){t()}function Dfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){kfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var oD={notify(){},get:()=>[]};function Ife(t,e){let n,r=oD,i=0,a=!1;function o(E){h();const S=r.subscribe(E);let O=!1;return()=>{O||(O=!0,S(),p())}}function u(){r.notify()}function f(){x.onStateChange&&x.onStateChange()}function d(){return a}function h(){i++,n||(n=t.subscribe(f),r=Dfe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=oD)}function y(){a||(a=!0,h())}function b(){a&&(a=!1,p())}const x={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return x}var Mfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lfe=Mfe(),$fe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Vfe=$fe(),Ufe=()=>Lfe||Vfe?T.useLayoutEffect:T.useEffect,Bfe=Ufe(),zfe=Symbol.for("react-redux-context"),qfe=typeof globalThis<"u"?globalThis:{};function Ffe(){if(!T.createContext)return{};const t=qfe[zfe]??=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var Hfe=Ffe();function Kfe(t){const{children:e,context:n,serverState:r,store:i}=t,a=T.useMemo(()=>{const f=Ife(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),o=T.useMemo(()=>i.getState(),[i]);Bfe(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),o!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,o]);const u=n||Hfe;return T.createElement(u.Provider,{value:a},e)}var Gfe=Kfe,Wfe=(t,e)=>e,cT=te([Wfe,lt,_f,Vn,D6,$s,Rie,Qn],Die),fT=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},G$=Vi("mouseClick"),W$=Kh();W$.startListening({actionCreator:G$,effect:(t,e)=>{var n=t.payload,r=cT(e.getState(),fT(n));r?.activeIndex!=null&&e.dispatch(Lre({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var f1=Vi("mouseMove"),Y$=Kh();Y$.startListening({actionCreator:f1,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=LS(r,r.tooltip.settings.shared),a=cT(r,fT(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(O6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(A6()))}});function Yfe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var lD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},X$=fi({name:"rootProps",initialState:lD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:lD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Xfe=X$.reducer,{updateOptions:Qfe}=X$.actions,Q$=fi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Jfe}=Q$.actions,Zfe=Q$.reducer,J$=Vi("keyDown"),Z$=Vi("focus"),dT=Kh();dT.startListening({actionCreator:J$,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number($S(i,Af(n))),u=$s(n);if(a==="Enter"){var f=sy(n,"axis","hover",String(i.index));e.dispatch(n1({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var d=Pre(n),h=d==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,y=o+p*h;if(!(u==null||y>=u.length||y<0)){var b=sy(n,"axis","hover",String(y));e.dispatch(n1({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});dT.startListening({actionCreator:Z$,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=sy(n,"axis","hover",String(a));e.dispatch(n1({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ji=Vi("externalEvent"),e5=Kh();e5.startListening({actionCreator:ji,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:bie(n),activeDataKey:$6(n),activeIndex:fu(n),activeLabel:L6(n),activeTooltipIndex:fu(n),isTooltipActive:_ie(n)};t.payload.handler(r,t.payload.reactEvent)}}});var ede=te([Tf],t=>t.tooltipItemPayloads),tde=te([ede,rm,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),t5=Vi("touchMove"),n5=Kh();n5.startListening({actionCreator:t5,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=LS(r,r.tooltip.settings.shared);if(i==="axis"){var a=cT(r,fT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(O6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,u=n.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(rJ),h=(o=f.getAttribute(iJ))!==null&&o!==void 0?o:void 0,p=tde(e.getState(),d,h);e.dispatch(T6({activeDataKey:h,activeIndex:d,activeCoordinate:p}))}}});var nde=Z4({brush:Hue,cartesianAxis:dfe,chartData:Xie,errorBars:Yle,graphicalItems:Zoe,layout:AQ,legend:gJ,options:Hie,polarAxis:Zse,polarOptions:Zfe,referenceElements:Jue,rootProps:Xfe,tooltip:$re}),rde=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return QX({reducer:nde,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([W$.middleware,Y$.middleware,dT.middleware,e5.middleware,n5.middleware]),devTools:{serialize:{replacer:Yfe},name:"recharts-".concat(n)}})};function r5(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=_r(),a=T.useRef(null);if(i)return n;a.current==null&&(a.current=rde(e,r));var o=jE;return T.createElement(Gfe,{context:o,store:a.current},n)}function i5(t){var{layout:e,width:n,height:r,margin:i}=t,a=Jt(),o=_r();return T.useEffect(()=>{o||(a(EQ(e)),a(SQ({width:n,height:r})),a(xQ(i)))},[a,o,e,n,r,i]),null}function a5(t){var e=Jt();return T.useEffect(()=>{e(Qfe(t))},[e,t]),null}var ide=["children"];function ade(t,e){if(t==null)return{};var n,r,i=sde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(null,arguments)}var ode={width:"100%",height:"100%"},lde=T.forwardRef((t,e)=>{var n=UE(),r=BE(),i=NL();if(!Jc(n)||!Jc(r))return null;var{children:a,otherAttributes:o,title:u,desc:f}=t,d,h;return typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0,T.createElement(vE,yy({},o,{title:u,desc:f,role:h,tabIndex:d,width:n,height:r,style:ode,ref:e}),a)}),ude=t=>{var{children:e}=t,n=Se(Xy);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return T.createElement(vE,{width:r,height:i,x:o,y:a},e)},uD=T.forwardRef((t,e)=>{var{children:n}=t,r=ade(t,ide),i=_r();return i?T.createElement(ude,null,n):T.createElement(lde,yy({ref:e},r),n)});function cde(){var t=Jt(),[e,n]=T.useState(null),r=Se(nJ);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;ui(a)&&a!==r&&t(TQ(a))}},[e,t,r]),n}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){dde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dde(t,e,n){return(e=hde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hde(t){var e=mde(t,"string");return typeof e=="symbol"?e:e+""}function mde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pde=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:h,onMouseMove:p,onMouseUp:y,onTouchEnd:b,onTouchMove:x,onTouchStart:E,style:S,width:O}=t,R=Jt(),[P,$]=T.useState(null),[D,N]=T.useState(null);Zie();var k=cde(),I=T.useCallback(ae=>{k(ae),typeof e=="function"&&e(ae),$(ae),N(ae)},[k,e,$,N]),M=T.useCallback(ae=>{R(G$(ae)),R(ji({handler:a,reactEvent:ae}))},[R,a]),V=T.useCallback(ae=>{R(f1(ae)),R(ji({handler:d,reactEvent:ae}))},[R,d]),z=T.useCallback(ae=>{R(A6()),R(ji({handler:h,reactEvent:ae}))},[R,h]),q=T.useCallback(ae=>{R(f1(ae)),R(ji({handler:p,reactEvent:ae}))},[R,p]),U=T.useCallback(()=>{R(Z$())},[R]),ge=T.useCallback(ae=>{R(J$(ae.key))},[R]),we=T.useCallback(ae=>{R(ji({handler:o,reactEvent:ae}))},[R,o]),G=T.useCallback(ae=>{R(ji({handler:u,reactEvent:ae}))},[R,u]),ie=T.useCallback(ae=>{R(ji({handler:f,reactEvent:ae}))},[R,f]),pe=T.useCallback(ae=>{R(ji({handler:y,reactEvent:ae}))},[R,y]),xe=T.useCallback(ae=>{R(ji({handler:E,reactEvent:ae}))},[R,E]),H=T.useCallback(ae=>{R(t5(ae)),R(ji({handler:x,reactEvent:ae}))},[R,x]),oe=T.useCallback(ae=>{R(ji({handler:b,reactEvent:ae}))},[R,b]);return T.createElement(F6.Provider,{value:P},T.createElement(E4.Provider,{value:D},T.createElement("div",{className:ot("recharts-wrapper",r),style:fde({position:"relative",cursor:"default",width:O,height:i},S),onClick:M,onContextMenu:we,onDoubleClick:G,onFocus:U,onKeyDown:ge,onMouseDown:ie,onMouseEnter:V,onMouseLeave:z,onMouseMove:q,onMouseUp:pe,onTouchEnd:oe,onTouchMove:H,onTouchStart:xe,ref:I},n)))}),gde=["children","className","width","height","style","compact","title","desc"];function yde(t,e){if(t==null)return{};var n,r,i=vde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var s5=T.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:o,compact:u,title:f,desc:d}=t,h=yde(t,gde),p=Rr(h);return u?T.createElement(uD,{otherAttributes:p,title:f,desc:d},n):T.createElement(pde,{className:r,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(uD,{otherAttributes:p,title:f,desc:d,ref:e},T.createElement(ece,null,n)))}),bde=["width","height"];function d1(){return d1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d1.apply(null,arguments)}function _de(t,e){if(t==null)return{};var n,r,i=wde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xde={top:5,right:5,bottom:5,left:5},Ede={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xde,reverseStackOrder:!1,syncMethod:"index"},o5=T.forwardRef(function(e,n){var r,i=Bi(e.categoricalChartProps,Ede),{width:a,height:o}=i,u=_de(i,bde);if(!Jc(a)||!Jc(o))return null;var{chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:y}=e,b={chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return T.createElement(r5,{preloadedState:{options:b},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:f},T.createElement(N$,{chartData:y.data}),T.createElement(i5,{width:a,height:o,layout:i.layout,margin:i.margin}),T.createElement(a5,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(s5,d1({},u,{width:a,height:o,ref:n})))}),Sde=["axis"],l5=T.forwardRef((t,e)=>T.createElement(o5,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Sde,tooltipPayloadSearcher:KS,categoricalChartProps:t,ref:e})),Tde=["axis","item"],wv=T.forwardRef((t,e)=>T.createElement(o5,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tde,tooltipPayloadSearcher:KS,categoricalChartProps:t,ref:e}));function Ade(t){var e=Jt();return T.useEffect(()=>{e(Jfe(t))},[e,t]),null}var Ode=["width","height","layout"];function h1(){return h1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h1.apply(null,arguments)}function Pde(t,e){if(t==null)return{};var n,r,i=Rde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cde={top:5,right:5,bottom:5,left:5},jde={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Cde,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Nde=T.forwardRef(function(e,n){var r,i=Bi(e.categoricalChartProps,jde),{width:a,height:o,layout:u}=i,f=Pde(i,Ode);if(!Jc(a)||!Jc(o))return null;var{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:y}=e,b={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:y,eventEmitter:void 0};return T.createElement(r5,{preloadedState:{options:b},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:d},T.createElement(N$,{chartData:i.data}),T.createElement(i5,{width:a,height:o,layout:u,margin:i.margin}),T.createElement(a5,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(Ade,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),T.createElement(s5,h1({width:a,height:o},f,{ref:n})))}),kde=["axis"],Dde={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ide=T.forwardRef((t,e)=>{var n=Bi(t,Dde);return T.createElement(Nde,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kde,tooltipPayloadSearcher:KS,categoricalChartProps:n,ref:e})});const Mde=({categories:t})=>{const{teamStats:e,columnPercentiles:n,currentViewingTeam:r}=Xn(),i=(o,u)=>!u||o<=u.p10?0:o>=u.p90?100:o<=u.p25?0+25*((o-u.p10)/(u.p25-u.p10)):o<=u.p75?25+50*((o-u.p25)/(u.p75-u.p25)):75+25*((o-u.p75)/(u.p90-u.p75)),a=T.useMemo(()=>t.map(o=>{const u=e[r]?.[o]?.q3??0,f=n[o]?.q3,d=f?i(u,f):0;return{category:o.replace(/([A-Z])/g," $1").replace(/^./,h=>h.toUpperCase()),value:Math.min(100,d)}}),[t,e,n,r]);return _.jsxs("div",{className:"w-full h-102 bg-white rounded-xl p-4 shadow-md mt-5 pb-15",children:[_.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Team Percentile Comparison"}),_.jsx(nu,{width:"100%",height:"100%",children:_.jsxs(wv,{data:a,margin:{top:20,right:20,bottom:40,left:40},children:[_.jsx(Go,{dataKey:"category",angle:-25,textAnchor:"end",interval:0}),_.jsx(Wo,{type:"number",domain:[0,100],tickFormatter:o=>`${o.toFixed(0)}%`}),_.jsx(jh,{formatter:o=>`${o.toFixed(1)}%`,animationDuration:50}),_.jsx(of,{dataKey:"value",fill:"#f69f3bff",radius:[4,4,0,0],maxBarSize:50,animationDuration:500,children:_.jsx(aa,{dataKey:"value",position:"top",formatter:o=>`${Number(o).toFixed(0)}%`})})]})})]})};function Lde(){const{forms:t,teamInfo:e,teamStats:n,teamImages:r,loadData:i,loadTeamImages:a,loading:o,currentViewingTeam:u,setCurrentViewingTeam:f,tbaData:d,aiOverviews:h,pitForms:p}=Xn();T.useEffect(()=>{a(),i()},[]);const y=r[u],[b,x]=T.useState("total_points"),[E,S]=T.useState("comments"),[O,R]=T.useState({key:null,direction:null}),P=V=>{let z=V.replace(/_/g," ");return z=z.replace(/([A-Z])/g," $1"),z=z.charAt(0).toUpperCase()+z.slice(1),z.replace(/\s+/g," ").trim()},$=T.useMemo(()=>(console.log(t),!t||t.length===0?[]:t.filter(V=>Number(V.team_number)===Number(u)).sort((V,z)=>(V.match_number??0)-(z.match_number??0))),[t,u]),D=V=>{let z="desc";O.key===V&&(O.direction==="desc"?z="asc":O.direction==="asc"&&(z=null)),R({key:z?V:null,direction:z})},N=T.useMemo(()=>!O.key||!O.direction?$:[...$].sort((V,z)=>{const q=O.key==="match_number"?V.match_number:Number(V[O.key]??0),U=O.key==="match_number"?z.match_number:Number(z[O.key]??0);return O.direction==="asc"?q-U:U-q}),[$,O]),k=V=>O.key!==V?_.jsx("div",{}):O.direction==="desc"?_.jsx(UD,{size:24,className:"inline ml-1 text-orange-600"}):_.jsx(BD,{size:24,className:"inline ml-1 text-orange-600"}),I=T.useMemo(()=>$.length===0?[]:$.filter(V=>V.match_type=="match").map(V=>({match:V.match_number,value:Number(V[b]??0)})),[$,b]),M=T.useMemo(()=>p.find(V=>Number(V.team_number)===Number(u)),[u,p]);return _.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Va,{}),_.jsx("main",{className:"pt-20 px-4 md:px-6",children:o||!t.length?_.jsx("div",{className:"text-orange-500 m-15 text-2xl font-bold animate-bounce",children:"Loading data..."}):_.jsxs("div",{className:"max-w-3xl mx-auto",children:[_.jsx("div",{className:"mb-6 fixed left-5 top-21 bg-gray-100 px-4 py-2 rounded-lg shadow-md",children:_.jsx(Li,{view:u,setView:f,label:"Team: ",options:Object.keys(n).map(Number)})}),y&&_.jsx("img",{src:y,alt:`Team ${u}`,className:"w-40 h-40 object-contain mb-3 relative ml-auto"}),!y&&_.jsx("div",{className:"mt-16"}),_.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Team ",u," - ",e[u]?.nickname??""]}),_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Rank"}),_.jsx("p",{className:"text-lg font-semibold",children:d?.rankings?.find(V=>V.team_key===`frc${u}`)?.rank??"N/A"})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Record"}),_.jsxs("p",{className:"text-lg font-semibold",children:[d?.rankings?.find(V=>V.team_key===`frc${u}`)?.record?.wins??0,"-",d?.rankings?.find(V=>V.team_key===`frc${u}`)?.record?.losses??0,"-",d?.rankings?.find(V=>V.team_key===`frc${u}`)?.record?.ties??0]})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"OPR"}),_.jsx("p",{className:"text-lg font-semibold",children:Math.round((Number(d?.oprs[`frc${u}`])??0)*10)/10})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Quartile 3 Points"}),_.jsx("p",{className:"text-lg font-semibold",children:n[u]?.total_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Auto Points"}),_.jsx("p",{className:"text-lg font-semibold",children:n[u]?.auto_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Tele Points"}),_.jsx("p",{className:"text-lg font-semibold",children:n[u]?.tele_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Endgame Points"}),_.jsx("p",{className:"text-lg font-semibold",children:n[u]?.endgame_points?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Total Gamepieces"}),_.jsx("p",{className:"text-lg font-semibold",children:n[u]?.total_gamepieces?.q3??0})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center shadow-md",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Max Algae Net"}),_.jsx("p",{className:"text-lg font-semibold",children:n[u]?.tele_made_net?.max??0})]})]})]}),h[u]&&_.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[_.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"CoScout Analysis"}),_.jsxs("div",{className:"space-y-3 text-sm",children:[_.jsxs("div",{className:" bg-gray-50 p-3 rounded-lg border border-gray-200",children:[_.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Auto:"})," ",_.jsx("span",{className:"text-gray-700",children:h[u].auto})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[_.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Coral:"})," ",_.jsx("span",{className:"text-gray-700",children:h[u].coral})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[_.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Algae:"})," ",_.jsx("span",{className:"text-gray-700",children:h[u].algae})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[_.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Endgame:"})," ",_.jsx("span",{className:"text-gray-700",children:h[u].endgame})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[_.jsx("span",{className:"text-lg font-semibold text-orange-600",children:"Strengths:"})," ",_.jsx("span",{className:"text-gray-700",children:h[u].strengths})]}),_.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-300",children:[_.jsx("span",{className:"text-lg font-semibold text-red-600",children:"Concerns:"})," ",_.jsx("span",{className:"text-gray-700",children:h[u].concerns})]}),_.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:_.jsx("span",{className:"text-gray-600 italic",children:h[u].adjectives})})]})]}),_.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[_.jsx("h3",{className:"text-xl font-bold mb-4",children:"Consistency Graph"}),_.jsx("div",{className:"mb-4",children:_.jsx(Li,{view:b,setView:x,label:"Field: ",options:jo.filter(V=>V!=="team_number")})}),_.jsx(nu,{width:"100%",height:300,children:_.jsxs(l5,{data:I,children:[_.jsx(py,{strokeDasharray:"3 3"}),_.jsx(Go,{dataKey:"match",label:{value:"Match",position:"insideBottom",offset:-5}}),_.jsx(Wo,{}),_.jsx(jh,{animationDuration:50,labelFormatter:V=>`Match ${V}`}),_.jsx(gy,{type:"monotone",dataKey:"value",stroke:"#d8aa84ff",strokeWidth:2,animationDuration:750})]})})]}),_.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[_.jsxs("div",{className:"flex gap-2 mb-4",children:[_.jsx("button",{onClick:()=>S("comments"),className:`px-4 py-2 rounded-full font-medium transition cursor-pointer ${E==="comments"?"bg-orange-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Comments"}),_.jsx("button",{onClick:()=>S("pitScout"),className:`px-4 py-2 rounded-full font-medium transition cursor-pointer ${E==="pitScout"?"bg-orange-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Pit Scouting"})]}),E==="comments"&&_.jsx("div",{children:_.jsx("div",{className:"max-h-64 overflow-y-auto space-y-3 border border-gray-200 rounded p-3",children:$.length>0?$.filter(V=>V.comments).map(V=>_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsxs("span",{className:"font-semibold text-orange-600",children:[V.match_type=="match"?"Match "+V.match_number:$de(V.match_type)+" match",":"]})," ",_.jsx("span",{className:"text-gray-800",children:V.comments})]},V.id)):_.jsx("div",{className:"text-gray-500",children:"No comments available for this team."})})}),E==="pitScout"&&(M?_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Driver Experience"}),_.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.driver_experience||"N/A"})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Autos"}),_.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.auto_description||"N/A"})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Algae Details"}),_.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.algae_description||"N/A"})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Climb Details"}),_.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.endgame_description||"N/A"})]}),_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[_.jsx("p",{className:"text-gray-500 text-sm",children:"Final Comments"}),_.jsx("p",{className:"text-lg font-medium text-gray-800",children:M.comments||"N/A"})]})]}):_.jsx("p",{className:"text-gray-500",children:"No pit scout data for this team."}))]}),_.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[_.jsx("h3",{className:"text-xl font-bold mb-4",children:"Match Stats"}),_.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:_.jsxs("table",{className:"min-w-full",children:[_.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-orange-100",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700 cursor-pointer hover:bg-orange-200 transition-colors select-none border-b-2 border-orange-300",onClick:()=>D("match_number"),children:_.jsxs("div",{className:"flex items-center justify-center",children:["Match #",k("match_number")]})}),jo.filter(V=>V!="team_number").map(V=>_.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700 text-sm min-w-20 cursor-pointer hover:bg-orange-200 transition-colors select-none border-b-2 border-orange-300",onClick:()=>D(V),children:_.jsxs("div",{className:"flex items-center justify-center",children:[P(V),k(V)]})},V))]})}),_.jsx("tbody",{className:"divide-y divide-gray-200",children:N.length>0?N.map((V,z)=>_.jsxs("tr",{className:`transition-colors ${z%2===0?"bg-white hover:bg-gray-50":"bg-gray-50 hover:bg-gray-100"}`,children:[_.jsx("td",{className:"px-4 py-3 text-center font-medium text-gray-900",children:V.match_type!="match"?V.match_type.toUpperCase():V.match_number}),jo.filter(q=>q!="team_number").map(q=>_.jsx("td",{className:"px-4 py-3 text-center text-gray-700",children:V[q]??0},q))]},V.id)):_.jsx("tr",{children:_.jsx("td",{className:"px-4 py-8 text-center text-gray-500",colSpan:jo.length+1,children:"No match data available for this team."})})})]})})]}),_.jsxs("div",{className:"mt-8 max-w-3xl mx-auto",children:[_.jsx("h3",{className:"text-xl font-bold mb-4",children:"Match Schedule"}),_.jsx("div",{className:"space-y-2",children:d?.matches.filter(V=>V.alliances.red.team_keys.includes(`frc${u}`)||V.alliances.blue.team_keys.includes(`frc${u}`)).sort((V,z)=>{const q=["qf","sf","f"],U=q.includes(V.comp_level),ge=q.includes(z.comp_level);return U&&!ge?1:!U&&ge?-1:V.match_number-z.match_number}).map(V=>{const z=V.alliances.red.team_keys.includes(`frc${u}`),q=z?V.alliances.red:V.alliances.blue,U=z?V.alliances.blue:V.alliances.red,ge=q.score,we=U.score,G=V.winning_alliance?V.winning_alliance==="red"?"Red":V.winning_alliance==="blue"?"Blue":"Tie":null,ie=["qf","sf","f"].includes(V.comp_level)?V.comp_level.toUpperCase():null;return _.jsxs("div",{className:`flex flex-row sm:flex-row justify-between items-center sm:items-center px-3 py-1 rounded-lg shadow-sm 
                        ${z?"bg-red-50":"bg-blue-50"}`,children:[_.jsxs("button",{className:"flex flex-row gap-3 p-3 cursor-pointer rounded-md hover:bg-gray-300 transition-bg duration-150",onClick:()=>{if(V.videos?.length>0){const pe=V.videos[0];let xe="";pe.type==="youtube"?xe=`https://www.youtube.com/watch?v=${pe.key}`:pe.type==="tba"&&(xe=`https://www.thebluealliance.com/match/${pe.key}`),xe&&window.open(xe,"_blank")}},children:["                                                    ",V.videos?.length>0&&_.jsx("div",{children:_.jsx(L9,{color:"gray",size:24})}),_.jsxs("div",{className:"font-semibold mb-1 sm:mb-0",children:[ie?"Match":"Qual"," ",V.match_number," ",ie&&_.jsxs("span",{className:"ml-2 text-sm text-red-600 font-bold",children:["[",ie,"]"]})]})]}),_.jsxs("div",{className:"text-gray-700 mb-1 sm:mb-0",children:[_.jsx("div",{className:`${z?"bg-red-200":"bg-blue-200"} px-3 flex flex-row  justify-around rounded-md font-bold mb-1`,children:q.team_keys.map(pe=>pe.replace("frc","")).join(", ")}),_.jsx("div",{className:`${z?"bg-blue-200":"bg-red-200"} px-3 flex flex-row  justify-around rounded-md`,children:U.team_keys.map(pe=>pe.replace("frc","")).join(", ")})]}),_.jsx("div",{className:"text-right mt-1 sm:mt-0",children:ge!=null&&we!=null?_.jsxs("div",{children:[_.jsxs("div",{className:"font-bold text-lg",children:[ge," - ",we]}),G&&_.jsx("div",{className:`text-sm font-semibold ${G===(z?"Red":"Blue")?"text-green-600":"text-red-600"}`,children:G===(z?"Red":"Blue")?"Win":"Loss"})]}):V.time?_.jsx("div",{className:"text-sm text-gray-500",children:new Date(V.time*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}):_.jsx("div",{className:"text-sm text-gray-400",children:"TBD"})})]},V.key)})})]}),_.jsx(Mde,{categories:["total_coral","auto_points","tele_points","endgame_points","total_algae","total_gamepieces"]}),_.jsx("div",{className:"mb-30"})]})}),_.jsx(Ns,{}),_.jsx(Qo,{})]})}function $de(t){return typeof t!="string"||t.length===0?t:t.charAt(0).toUpperCase()+t.slice(1)}function Vde({data:t,category:e,show:n}){const r=[...t].sort((p,y)=>y.value-p.value),[i,a]=T.useState(!1),[o,u]=T.useState(-1);Ih();const{setCurrentViewingTeam:f,forms:d,teamInfo:h}=Xn();return _.jsxs("div",{className:"flex flex-row gap-0 w-full mb-10 justify-center",children:[_.jsx(dE,{isOpen:i,onClose:()=>a(!1),forms:d,teamNumber:o,teamInfo:h}),_.jsxs("div",{className:"flex flex-col gap-1 flex-1 max-w-xl min-w-50",children:[_.jsxs("div",{className:"grid grid-cols-3 bg-gray-700 text-white font-bold px-0 py-1 rounded grid-cols-[25%_25%_auto]",children:[_.jsx("div",{className:"text-center cursor-pointer",children:"Rank"}),_.jsx("div",{className:"text-center cursor-pointer",children:"Team"}),_.jsx("div",{className:"text-center cursor-pointer truncate",children:e})]}),r.map((p,y)=>_.jsxs("div",{className:`grid grid-cols-3 px-0 py-1 border-b border-gray-300 grid-cols-[25%_25%_auto] ${y%2===0?"bg-gray-100":"bg-gray-200"}`,children:[_.jsx("div",{className:"text-center",children:y+1}),_.jsx("div",{className:"text-center cursor-pointer hover:text-orange-500 hover:font-bold transition duartion-250",onClick:()=>{u(Number(p.team)),a(!0)},children:p.team}),_.jsx("div",{className:"text-center",children:p.value})]},p.team))]}),n&&_.jsx("div",{className:"flex-3 h-[50px * data.length] pt-8",children:_.jsx(nu,{width:"100%",height:"100%",children:_.jsxs(wv,{data:r,layout:"vertical",margin:{left:20},children:[_.jsx(Go,{type:"number",hide:!0}),_.jsx(Wo,{type:"category",dataKey:"team",hide:!0,interval:0}),_.jsx(jh,{isAnimationActive:!1}),_.jsx(of,{dataKey:"value",fill:"#FF7F50",label:{position:"insideRight",fill:"white"}})]})})})]})}const Ude=t=>{let e=t.replace(/_/g," ");return e=e.replace(/([A-Z])/g," $1"),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/\s+/g," ").trim()};function Bde(){const{teamStats:t,loading:e,loadData:n}=Xn();Ih();const[r,i]=T.useState("total_points"),[a,o]=T.useState("median"),[u,f]=T.useState(!0),d=Object.entries(t).map(([h,p])=>({team:h,value:p[r][a]})).sort((h,p)=>p.value-h.value);return T.useEffect(()=>{n()},[]),_.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[_.jsx(Va,{}),_.jsxs("main",{className:"pt-20 px-0 md:px-6",children:[e?_.jsx("div",{className:"text-orange-500",children:"Loading data..."}):_.jsxs("div",{children:[_.jsxs("div",{className:"flex flex-col lg:flex-row gap-5",children:[_.jsx(Li,{view:r,setView:i,label:"Category:",options:jo.filter(h=>h!="team_number")}),_.jsx(Li,{view:a,setView:o,label:"Type:",options:["min","mean","median","q3","max"]}),_.jsx(Li,{view:u,setView:h=>f(h===!0||h==="true"),label:"Show graph:",options:[!0,!1]})]}),_.jsx("div",{className:"h-10"}),_.jsx(Vde,{data:d,category:Ude(r),show:u})]}),_.jsx(Ns,{}),_.jsx(Qo,{})]})]})}function zde(){const{loading:t,loadData:e,eventName:n,setEventName:r,eventKeys:i,usePracticeData:a,setUsePracticeData:o,teamInfo:u,forms:f,tbaData:d,pitForms:h}=Xn();T.useEffect(()=>{e()},[]);const y=FM(KM,{model:"gemini-2.5-flash",generationConfig:{temperature:.6,topP:.1,topK:16},systemInstruction:"You are a scouting assistant on team 3197, the hexhounds, competing in FRC robotics. give helpful tips that will help our team win, use insights from our data to answer questions"});async function b(){const O=[`Provide a team overview for each team. Make it a few sentences, specifically touch on any struggles, what their auto does, endgame capabilities, tele-operated scoring, algae/coral capabilities, and how good they are for picking. It is good to cite match numbers for specifics, but if match_type is practice or pre, then cite it as practice or pre match instead of the match number. If match number is over 500, then say practice match instead of number. Respond with short sentences/commas in the following format as a VALID JSON, 9999 being their team number:
            {
            [
            9999: {
                "auto": "Talk about their known auto modes from matches & pit scouting, where they start, consistency, etc. There is no defense in auto period",
                "coral": "Talk about their known coral capabilities from matches & pit scouting, what levels they can do, consistency, etc",
                "algae": "Talk about their known algae capabilities from matches & pit scouting, consistency, etc",
                "endgame": "Talk about their known endgames from matches & pit scouting, how long it takes to climb, consistency, etc",
                "strengths": "Talk about their relative strengths, what could make them better from other teams",
                "concerns": "This is the most important, talk about any known issues, worries, bad matches, concerns about the team & robot, it is critical to cite match numbers/ practice or pre here",
                "adjectives": "describe the words with a couple adjectives (such as strong, inconsistent, swift, etc)",
            }
            ]
        }
            `,"Only include the teams in the array below...",JSON.stringify([...new Set(f.map(D=>D.team_number))]),JSON.stringify(u),JSON.stringify(f),JSON.stringify(d),JSON.stringify(h)];var R;try{R=await y.generateContent(O),alert("Successfully generated overviews... uploading now.")}catch(D){alert("Error: "+D)}return(R?.response??null)?.text()??"{}"}async function x(){const O=["Provide match analysis for each match. If it is completed then analyze how each team performed in a sentence or two and why one alliance won. If it is upcoming provide ideas for how each alliance can win and your prediction.","Respond in a json format with 'match' concatenated with the number as the key followed by the output.","Make it concise, interesting to read as a quick overview for someone who missed the match and wants to know why one alliance won. you may add critical feedback or sarcasm but be professional and not mean","Scoring guide: auto : {l1: 3, l2: 4, l3: 6, l4: 7, leave: 3, algaenet:4, algaeProcessor:2}, tele : {l1: 2, l2:3, l3: 4, l4: 5, algaenet:4, algaeProcessor:2}, endgame: {deep climb: 12, park: 2, can only have one or the other}","Only do qual matches, not playoff (f, sf, etc)",JSON.stringify(u),JSON.stringify(f),JSON.stringify(d),JSON.stringify(h)];var R;try{R=await y.generateContent(O),alert("Successfully generated overviews... uploading now.")}catch(D){alert("Error: "+D)}return(R?.response??null)?.text()??"{}"}async function E(){try{alert("Sending message to ai...");const O=await b();console.warn(O);const R=O.replace(/`/g,"").replace("json","");console.warn(R);const P=JSON.parse(R);console.warn(P);const $=Sg(vh,"aiOverview","overview");await fC($,P,{merge:!0}),alert("All good! Finished fully.")}catch(O){alert("Error: "+O)}}async function S(){try{alert("Sending message to ai...");const O=await x();console.warn(O);const R=O.replace(/`/g,"").replace("json","");console.warn(R);const P=JSON.parse(R);console.warn(P);const $=Sg(vh,"aiOverview","match");await fC($,P,{merge:!0}),alert("All good! Finished fully.")}catch(O){alert("Error: "+O)}}return _.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Va,{}),_.jsx("main",{className:"pt-20 px-0 md:px-6 pr-10",children:t?_.jsx("div",{className:"text-orange-500",children:"Loading data..."}):_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx(Li,{view:n,setView:r,label:"Event Name: ",options:i}),_.jsx(Li,{view:a,setView:o,label:"Include practice/pre scout data ",options:[!0,!1]}),_.jsx("button",{className:"cursor-pointer border-2 border-orange-400 px-2 py-1 text-lg rounded-md hover:bg-orange-700 hover:text-white transition duration-500",onClick:()=>{prompt("Put in a password to prevent abuse:")==="TyTy77"&&(alert("Generating ai overviews, play stay on the page until it either errors or succeeds... please close this dialogue."),E())},children:"Generate Team Overviews"}),_.jsx("button",{className:"cursor-pointer border-2 border-orange-400 px-2 py-1 text-lg rounded-md hover:bg-orange-700 hover:text-white transition duration-500",onClick:()=>{prompt("Put in a password to prevent abuse:")==="TyTy77"&&(alert("Generating ai overviews, play stay on the page until it either errors or succeeds... please close this dialogue."),S())},children:"Generate Match Overviews"})]})}),_.jsx(Ns,{})]})}function qde(){const{loading:t,loadData:e,forms:n,tbaData:r,pitForms:i,teamInfo:a}=Xn(),[o,u]=T.useState(""),[f,d]=T.useState([{message:"Hi ai.",sender:"you"},{message:"Hey human!",sender:"ai"}]),[h,p]=T.useState(!1),b=FM(KM,{model:"gemini-2.5-flash",generationConfig:{temperature:.6,topP:.1,topK:16},systemInstruction:"You are a scouting assistant on team 3197, the hexhounds, competing in FRC robotics. give helpful tips that will help our team win, use insights from our data to answer questions"});async function x(E){const S=E;p(!0),u(""),d(D=>[...D,{message:S,sender:"you"}]);const O=["For team names you can reference teamInfo nickname data supplied, favor totalPoints in our scouting data more than opr","If they ask about a team using its name, find its corresponding number in teamInfo and then answer","Getting rank points help you improve rank. 3 for winning, 1 for 14+ points in endgame, 1 for auto mobility + 1 or more coral, and one for 4 levels with 5+ coral","Try to be as quick and concise as possible. don't write more than one or two paragraphs unless it asks for analysis","Scoring guide: auto : {l1: 3, l2: 4, l3: 6, l4: 7, leave: 3, algaenet:4, algaeProcessor:2}, tele : {l1: 2, l2:3, l3: 4, l4: 5, algaenet:4, algaeProcessor:2}, endgame: {deep climb: 12, park: 2, can only have one or the other}","Use scoring rules, team roles, and match strategies",S,JSON.stringify(a),JSON.stringify(n),JSON.stringify(r),JSON.stringify(i)],$=(await b.generateContent(O)).response.text();return p(!1),d(D=>[...D,{message:$,sender:"ai"}]),$}return T.useEffect(()=>{e()},[]),_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Va,{}),_.jsx("main",{className:"pt-20 px-4 md:px-6 h-screen flex flex-col items-center pb-10",children:t?_.jsx("div",{className:"text-orange-500",children:"Loading data..."}):_.jsxs("div",{className:"flex flex-col items-center w-full max-w-4xl h-full gap-4",children:[_.jsx("div",{className:"text-2xl px-5 py-2 md:px-10 md:py-5 bg-gray-100 shadow-lg rounded-lg text-center w-full",children:"CoScout, the scouting assistant."}),_.jsxs("div",{className:"flex-1 w-full bg-gray-50 border-2 border-gray-100 rounded-lg p-4 md:p-5 flex flex-col gap-2 md:gap-4 overflow-y-auto",children:[f.map((E,S)=>{const O=E.sender==="you",R=P=>P.split(/\n/).flatMap(D=>D.startsWith("* ")?["*",D.slice(2)]:[D]).map((D,N)=>{if(D==="*")return _.jsx("br",{},N);const k=D.split(/\*\*/);return _.jsxs("div",{className:D.startsWith("*")?"flex gap-2":"",children:[D.startsWith("*")&&_.jsx("span",{children:""}),k.map((I,M)=>M%2===1?_.jsx("strong",{children:I},M):I)]},N)});return _.jsx("div",{className:`px-3 py-2 rounded-md shadow-sm max-w-full sm:max-w-[80%] my-1 self-${O?"end":"start"} ${O?"bg-orange-300":"bg-gray-200"}`,children:R(E.message)},S)}),h&&_.jsx("div",{className:"flex justify-start sm:justify-start",children:_.jsx(v9,{size:28,className:"animate-pulse"})})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-end w-full",children:[_.jsx("textarea",{value:o,onChange:E=>u(E.target.value),placeholder:"Send text here...",rows:3,className:"border-2 border-gray-400 active:border-gray-500 resize-none text-md px-4 py-3 bg-gray-100 shadow-lg rounded-lg w-full sm:w-auto flex-1"}),_.jsx("button",{onClick:()=>{o.length>0&&x(o)},className:"bg-orange-300 w-full sm:w-16 h-12 flex items-center justify-center rounded-lg cursor-pointer hover:shadow-lg hover:bg-orange-400 transition duration-200",children:_.jsx(R9,{size:28})})]})]})}),_.jsx(Ns,{}),_.jsx(Qo,{})]})}const Fde=({matchObject:t})=>{const{forms:e}=Xn(),n=t.alliances.blue.team_keys.map(d=>d.replace(/^frc/,"")),r=t.alliances.red.team_keys.map(d=>d.replace(/^frc/,"")),i=[...n,...r],a=["#FF0000","#FF4D4D","#CC0000"],o=["#3B82F6","#60A5FA","#1E40AF"],u=e.filter(d=>d.matchNumber==t.match_number&&i.includes(d.teamNumber));var f={match:t.match_number};return u.map(d=>{f[`${n.includes(String(d.teamNumber))?"b":"R"}${String(d.teamNumber)}`]=d.totalPoints}),_.jsxs("div",{className:"w-full h-35 bg-white rounded-xl p-1 shadow-md mt-5 flex flex-col",children:[_.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Scoring Distribution"}),_.jsx(nu,{width:"100%",height:"100%",children:_.jsxs(wv,{layout:"vertical",data:[f],children:[_.jsx(Go,{type:"number",domain:[0,100],tickFormatter:d=>`${d.toFixed(0)}%`,hide:!0}),_.jsx(Wo,{type:"category",dataKey:"match",width:10,hide:!0}),_.jsx(Zl,{verticalAlign:"top",height:36,formatter:d=>d.replace("R","").replace("b","")}),Object.keys(f).sort().map((d,h)=>{if(d!="match")return _.jsx(of,{dataKey:d,stackId:"stack",fill:d.includes("R")?a.pop():o.pop(),children:_.jsx(aa,{dataKey:d,position:"center",formatter:p=>`${p}`,fill:"white",offset:0})},h)})]})})]})},fD="viewingModeMatches",dD="viewingTeamMatches";function Hde(){const{loadData:t,tbaData:e,eventName:n,aiMatches:r,forms:i,teamStats:a}=Xn(),[o,u]=T.useState([]),[f,d]=T.useState(null),[h,p]=T.useState(!1),[y,b]=T.useState(sessionStorage.getItem(fD)??"All"),[x,E]=T.useState(parseInt(sessionStorage.getItem(dD)??"3197")),S={};return e?.rankings?.rankings&&e.rankings.rankings.forEach(O=>{S[`frc${O.team_key}`]=O.rank}),T.useEffect(()=>{sessionStorage.setItem(fD,y)},[y]),T.useEffect(()=>{sessionStorage.setItem(dD,String(x))},[x]),T.useEffect(()=>{if(!e){t();return}if(e.matches){p(!0);const O=[...e.matches].sort((R,P)=>{const $=["qm","ef","qf","sf","f"],D=$.indexOf(R.comp_level),N=$.indexOf(P.comp_level);return D!==N?D-N:R.match_number-P.match_number});u(O),p(!1)}},[e,t]),_.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[_.jsx(Va,{}),_.jsxs("main",{className:"pt-20 px-2 md:px-6 flex flex-col items-center",children:[_.jsxs("h2",{className:"text-xl font-semibold mb-3",children:["Matches for Event: ",n]}),_.jsx(Li,{view:y,setView:b,label:"View: ",options:["All","Team","Hypothetical"]}),y=="Team"&&_.jsx("div",{className:"mt-4",children:_.jsx(Li,{view:x,setView:E,label:"Viewing team: ",options:Object.keys(a).map(Number)})}),_.jsx("div",{className:"h-10"}),h?_.jsx("div",{className:"text-orange-500 text-center",children:"Loading matches..."}):y!="Hypothetical"&&_.jsx("div",{className:"flex flex-col gap-2",children:o.filter(O=>y=="All"||[...O.alliances.red.team_keys.map(R=>R.replace("frc","")),...O.alliances.blue.team_keys.map(R=>R.replace("frc",""))].includes(String(x))).map(O=>{const{red:R,blue:P}=O.alliances,$=R.score!=null&&P.score!=null?R.score>P.score?"red":P.score>R.score?"blue":"tie":null,D=f===O.key;return _.jsxs("div",{className:"w-full max-w-xl ml-auto mr-auto p-3 rounded-lg shadow-sm bg-white border-2 border-gray-200 hover:border-gray-500 h-auto transition",children:[_.jsx("button",{className:"w-full transition cursor-pointer",onClick:()=>d(D?null:O.key),children:_.jsxs("div",{className:"flex flex-row items-center justify-between mt-1",children:[_.jsx("div",{className:`flex flex-col items-end text-md ${$==="red"?"text-red-500 font-bold":"text-red-900 font-regular"}`,children:R.team_keys.map(N=>{const k=N.replace("frc","");return _.jsxs("div",{className:"flex gap-1",children:[_.jsx("span",{children:k}),S[N]&&_.jsxs("span",{className:"text-gray-400",children:["#",S[N]]})]},N)})}),_.jsxs("div",{className:"mx-3 flex flex-col items-center font-bold justify-center gap-2",children:[_.jsxs("div",{className:"font-medium",children:[O.comp_level.toUpperCase()," ",O.match_number]}),R.score!=null&&P.score!=null?_.jsx(_.Fragment,{children:_.jsxs("div",{className:`px-2 py-0.5 rounded text-xl ${$==="red"?"bg-red-100 text-red-700":$==="blue"?"bg-blue-100 text-blue-700":"bg-gray-100"}`,children:[R.score," - ",P.score]})}):_.jsx("div",{className:"text-gray-400",children:"Upcoming"})]}),_.jsx("div",{className:`flex flex-col items-start text-md ${$==="blue"?"text-blue-500 font-bold":"text-blue-900 font-regular"}`,children:P.team_keys.map(N=>{const k=N.replace("frc","");return _.jsxs("div",{className:"flex gap-1",children:[_.jsx("span",{children:k}),S[N]&&_.jsxs("span",{className:"text-gray-400",children:["#",S[N]]})]},N)})})]})}),_.jsxs("div",{className:`mt-2 border-t pt-2 text-md text-gray-600 space-y-1 overflow-y-auto transition-all duration-300 ${D?"max-h-70 opacity-100":"max-h-0 opacity-0"}`,children:[O.time&&_.jsxs("div",{children:["Time:"," ",new Date(O.time*1e3).toLocaleString([],{hour:"2-digit",minute:"2-digit"})]}),O.videos?.length?_.jsxs("div",{className:"flex flex-row items-center",children:["Videos:"," ",O.videos.map(N=>{const k=N.type==="youtube"?`https://www.youtube.com/watch?v=${N.key}`:`https://www.thebluealliance.com/match/${O.key}`;return _.jsx("button",{onClick:()=>window.open(k,"_blank"),className:"ml-2 cursor-pointer bg-gray-50 hover:bg-gray-200 transition px-2 py-1 rounded-sm",children:_.jsx(K9,{className:"hover:scale-[1.25] transition",color:"darkorange"})})})]}):_.jsx("div",{children:"No videos yet"}),D&&_.jsx(Fde,{matchObject:O}),r["match"+O.match_number]&&O.comp_level==="qm"&&_.jsxs("div",{className:"mt-0 bg-white p-2",children:[_.jsx("h3",{className:"text-md font-bold mb-2",children:"CoScout Analysis"}),_.jsx("h5",{className:"text-sm mb-4",children:r["match"+O.match_number]})]})]})]},O.key)})}),_.jsx(Ns,{}),_.jsx(Qo,{})]})]})}function Kde(){const{teamStats:t,loading:e,loadData:n}=Xn();return T.useEffect(()=>{n()},[]),_.jsxs("div",{className:"min-h-screen bg-gray-50 p-2",children:[_.jsx(Va,{}),_.jsxs("main",{className:"pt-20 px-0 md:px-6",children:[e?_.jsx("div",{className:"text-orange-500 m-15 text-2xl font-bold animate-bounce",children:"Loading data..."}):_.jsx("div",{}),_.jsx(Ns,{}),_.jsx(Qo,{})]})]})}function Gde(t,e){const n=["tele_l4","tele_l3","tele_l2","tele_l1"];let i=0;for(const a of t){const o={tele_l4:0,tele_l3:0,tele_l2:0,tele_l1:0};a.forEach(f=>{let d=f.total_coral??0;const h=ii({forms:e,team:f.team_number,key:"tele_l4",matchPercentageThresh:.1}),p=ii({forms:e,team:f.team_number,key:"tele_l3",matchPercentageThresh:.1}),y=ii({forms:e,team:f.team_number,key:"tele_l2",matchPercentageThresh:.1}),b=ii({forms:e,team:f.team_number,key:"tele_l1",matchPercentageThresh:.25}),x={tele_l4:h,tele_l3:p||h,tele_l2:y||p||h,tele_l1:b};for(const E of n){if(x[E]||console.error(f.team_number+" CANNOT DO "+E),!x[E]||o[E]>=5)continue;const S=5-o[E],O=Math.min(d,S);if(o[E]+=O,d-=O,d<=0)break}}),n.every(f=>o[f]>=5)&&i++}return console.warn(i),Math.round(i/t.length*100*10)/10}function Wde(t,e){const n=["tele_l4","tele_l3","tele_l2","tele_l1"];let i=0;for(const a of t){const o={tele_l4:0,tele_l3:0,tele_l2:0,tele_l1:0};a.forEach(d=>{let h=d.total_coral??0;const p=ii({forms:e,team:d.team_number,key:"tele_l4",matchPercentageThresh:.1}),y=ii({forms:e,team:d.team_number,key:"tele_l3",matchPercentageThresh:.1}),b=ii({forms:e,team:d.team_number,key:"tele_l2",matchPercentageThresh:.1}),x=ii({forms:e,team:d.team_number,key:"tele_l1",matchPercentageThresh:.25}),E={tele_l4:p,tele_l3:y||p,tele_l2:b||y||p,tele_l1:x};for(const S of n){if(E[S]||console.error(d.team_number+" CANNOT DO "+S),!E[S]||o[S]>=5)continue;const O=5-o[S],R=Math.min(h,O);if(o[S]+=R,h-=R,h<=0)break}}),n.filter(d=>o[d]>=5).length>=3&&i++}return console.warn(i),Math.round(i/t.length*100*10)/10}function Yde(t){return Math.round(t.map(e=>e.map(n=>n.endgame_points).reduce((n,r)=>n+r,0)).filter(e=>e>=14).length/t.length*100*10)/10}function ii({forms:t,team:e,key:n,matchPercentageThresh:r}){let i=t.filter(a=>a.team_number==e);return i.filter(a=>a[n]).length/i.length>r}function Xde(t,e){var n=[];const i=["tele_l4","tele_l3","tele_made_net","tele_l2","tele_l1"];for(const f of t){const d={tele_l4:0,tele_l3:0,tele_made_net:0,tele_l2:0,tele_l1:0};let h=f.map(b=>b.auto_points+b.endgame_points).reduce((b,x)=>b+x,0),p=f.map(b=>b.auto_points).reduce((b,x)=>b+x,0),y=f.map(b=>b.endgame_points).reduce((b,x)=>b+x,0);f.forEach(b=>{let x=[b.tele_l4,b.tele_l3,b.tele_l2,b.tele_l1].map(N=>N??0).reduce((N,k)=>N+k,0);x=Math.round(x*.85);let E=b.tele_made_net??0;const S=ii({forms:e,team:b.team_number,key:"tele_l4",matchPercentageThresh:.1}),O=ii({forms:e,team:b.team_number,key:"tele_l3",matchPercentageThresh:.1}),R=ii({forms:e,team:b.team_number,key:"tele_l2",matchPercentageThresh:.1}),P=ii({forms:e,team:b.team_number,key:"tele_l1",matchPercentageThresh:.25}),$={tele_l4:S,tele_l3:O||S,tele_l2:R||O||S,tele_l1:P,tele_made_net:ii({forms:e,team:b.team_number,key:"tele_made_net",matchPercentageThresh:.15})};for(const N of i){if($[N]||console.error(b.team_number+" CANNOT DO "+N),!$[N]||d[N]>=12)continue;const k=12-d[N];var D;if(N=="tele_made_net"?D=Math.min(E,k):D=Math.min(x,k),d[N]+=D,N=="tele_made_net"?E-=D:x-=D,x<=0)break}}),h+=d.tele_l4*5,h+=d.tele_l3*4,h+=d.tele_made_net*4,h+=d.tele_l2*3,h+=d.tele_l1*2,n.push({autoPoints:p,endgamePoints:y,pieceDistribution:d,totalScore:h})}const a=n.map(f=>({score:f.totalScore,outcome:f}));a.sort((f,d)=>f.score-d.score);const o=a.map(f=>f.score),u=a.map(f=>f.outcome);return{allScores:o,badOutcome:u[0],medianOutcome:u[Math.round(u.length/2)],optimalOutcome:u[u.length-1]}}function m1({teams:t,forms:e}){let n=0,r=0,i=0,a=0,o=0,u=0,f=0,d=0;console.log("Running predictions...");const h=t.map(x=>e.filter(E=>E.team_number===x)).filter(x=>x.length>0);console.log(h);let p=[];function y(x){return x.length===0?[]:x.reduce((E,S)=>E.flatMap(O=>S.map(R=>[...O,R])),[[]])}p=y(h);const b=Xde(p,e);return n=b.allScores[b.allScores.length-1],r=b.allScores[0],u=LH(b.allScores),f=GM(b.allScores),d=MH(b.allScores),{maximumScore:Math.round(10*n)/10,minimumScore:Math.round(10*r)/10,rankPointScore:Math.round(10*i)/10,rankPointLikelihood:Math.round(10*a)/10,defendedScores:Math.round(10*o)/10,meanScore:Math.round(10*u)/10,medianScore:Math.round(10*f)/10,q3Score:Math.round(10*d)/10,percentageCoralCoopRP:Wde(p,e),percentageCoralNormalRP:Gde(p,e),percentageBargeRP:Yde(p),rawResponse:b}}function Qde({allianceA:t,allianceB:e,forms:n}){const r=m1({teams:t,forms:n}),i=m1({teams:e,forms:n});return{allianceScorePredictionA:r,allianceScorePredictionB:i,winningPercentages:[]}}const Jde=[{id:"auto-viewer",name:"Auto Position Viewer",icon:A1},{id:"match-prediction",name:"Match Predictor",icon:FD},{id:"alliance-selection",name:"Alliance Selection",icon:qD},{id:"ranking",name:"Rank Simulation",icon:zD}];function Zde(){const[t,e]=T.useState("match-prediction"),[n,r]=T.useState(!1),{forms:i,teamStats:a,loading:o,columnPercentiles:u,loadData:f,teamInfo:d}=Xn();return T.useEffect(()=>{f()},[]),_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Va,{}),_.jsxs("main",{className:"pt-16 flex h-screen",children:[_.jsxs("div",{className:`bg-white border-r border-gray-200 transition-all duration-300 ${n?"w-16":"w-64"} flex flex-col shadow-lg`,children:[_.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[!n&&_.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Sandboxes"}),_.jsx("button",{onClick:()=>r(!n),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:n?_.jsx(m9,{size:20,className:"text-gray-600"}):_.jsx(d9,{size:20,className:"text-gray-600"})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:Jde.map(h=>{const p=h.icon;return _.jsxs("button",{onClick:()=>e(h.id),className:`w-full cursor-pointer flex items-center gap-3 p-3 rounded-lg transition mb-2 ${t===h.id?"bg-orange-100 text-orange-700 font-semibold":"text-gray-700 hover:bg-gray-100"}`,title:n?h.name:"",children:[_.jsx(p,{size:20}),!n&&_.jsx("span",{className:"text-sm whitespace-nowrap",children:h.name})]},h.id)})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto",children:o?_.jsx("div",{className:"text-orange-500 m-15 text-2xl font-bold animate-bounce",children:"Loading data..."}):_.jsxs("div",{className:"p-6",children:[t==="auto-viewer"&&_.jsx(ehe,{}),t==="match-prediction"&&_.jsx(the,{}),t==="alliance-selection"&&_.jsx(nhe,{}),t==="strategy-sim"&&_.jsx(rhe,{})]})})]}),_.jsx(Ns,{}),_.jsx(Qo,{})]})}function ehe(){const[t,e]=T.useState("1234"),[n,r]=T.useState([{x:100,y:100,team:"1234",label:"Start"},{x:300,y:150,team:"1234",label:"Score 1"},{x:500,y:200,team:"1234",label:"Score 2"}]);return _.jsx("div",{className:"max-w-6xl mx-auto",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[_.jsx(A1,{className:"text-orange-500"}),"Auto Position Viewer"]}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Visualize autonomous routines and starting positions for teams"}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Number"}),_.jsx("input",{type:"text",value:t,onChange:i=>e(i.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter team number"})]}),_.jsx("div",{className:"relative bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border-2 border-blue-300 h-96 overflow-hidden",children:_.jsxs("svg",{className:"w-full h-full",children:[_.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#fieldPattern)",opacity:"0.1"}),_.jsx("defs",{children:_.jsx("pattern",{id:"fieldPattern",x:"0",y:"0",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:_.jsx("rect",{x:"0",y:"0",width:"50",height:"50",fill:"none",stroke:"#2563eb",strokeWidth:"0.5"})})}),n.map((i,a)=>_.jsxs("g",{children:[a>0&&_.jsx("line",{x1:n[a-1].x,y1:n[a-1].y,x2:i.x,y2:i.y,stroke:"#f97316",strokeWidth:"3",strokeDasharray:"5,5"}),_.jsx("circle",{cx:i.x,cy:i.y,r:"15",fill:"#f97316",stroke:"white",strokeWidth:"2"}),_.jsx("text",{x:i.x,y:i.y+30,textAnchor:"middle",className:"text-xs font-semibold fill-gray-700",children:i.label})]},a))]})}),_.jsx("div",{className:"mt-4 text-sm text-gray-500",children:_.jsx("p",{children:"Click positions to add waypoints  Drag to reposition"})})]})})}function the(){const[t,e]=T.useState([-1,-1,-1]),[n,r]=T.useState([-1,-1,-1]),[i,a]=T.useState(null),[o,u]=T.useState(null),{forms:f,teamStats:d,loading:h,columnPercentiles:p,loadData:y,teamInfo:b}=Xn(),x=()=>{E=="Single"?a(m1({teams:t.filter(O=>O!=-1),forms:f})):E=="Double"&&u(Qde({allianceA:t.filter(O=>O!=-1),allianceB:n.filter(O=>O!=-1),forms:f}))},[E,S]=T.useState("Single");return _.jsx("div",{className:"max-w-4xl mx-auto mb-50",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[_.jsx(FD,{className:"text-orange-500"}),"Hypothetical Match Predictor"]}),_.jsx("p",{className:"text-gray-600 mb-6",children:"Predict match outcomes based on team statistics"}),_.jsx(Li,{view:E,setView:S,label:"Prediction type",options:["Single","Double"]}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6 mt-6",children:[_.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-orange-300",children:[_.jsx("h3",{className:"text-lg font-bold text-black-700 mb-3",children:"Alliance A"}),t.map((O,R)=>_.jsxs("select",{value:O,onChange:P=>{const $=[...t];$[R]=parseInt(P.target.value),e($)},className:"w-full px-3 py-2 mb-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[_.jsx("option",{children:"Blank slot"},-1),Object.keys(d).map(P=>d[parseInt(P)]).map((P,$)=>_.jsx("option",{children:P.team_number?.mean},$))]},R))]}),E=="Double"&&_.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-orange-300",children:[_.jsx("h3",{className:"text-lg font-bold text-black-700 mb-3",children:"Alliance B"}),n.map((O,R)=>_.jsxs("select",{value:O,onChange:P=>{const $=[...n];$[R]=isNaN(parseInt(P.target.value))?-1:parseInt(P.target.value),r($)},className:"w-full px-3 py-2 mb-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500",children:[_.jsx("option",{children:"Blank slot"},-1),Object.keys(d).map(P=>d[parseInt(P)]).map((P,$)=>_.jsx("option",{children:P.team_number?.mean},$))]},R))]})]}),_.jsx("button",{onClick:x,className:"w-full bg-orange-500 text-white py-3 rounded-lg font-semibold hover:bg-orange-600 transition shadow-md",children:"Predict Match Outcome"}),E=="Single"&&i?.meanScore&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-6 border-2 border-gray-300",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Predicted Scores"}),_.jsxs("div",{className:"flex justify-around items-center gap-x-20 gap-y-5 flex-wrap",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.minimumScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Minimum"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.meanScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Mean"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.medianScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Median"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.q3Score}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"3rd Quartile"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-4xl font-bold text-orange-600",children:i.maximumScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Maximum"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:[i.percentageCoralCoopRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (COOP)"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:[i.percentageCoralNormalRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (No COOP)"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:[i.percentageBargeRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Barge RP"})]})]})]}),_.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-6 border-2 border-gray-300",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Possible Outcomes"}),_.jsx("h3",{className:"text-sm text-gray-600 mb-4 text-center",children:"Outcomes of auto and endgame points are not guarenteed to be sorted ascendingly. This is because perhaps a climb leads to less tele cycles or vice-versa. These are real match combinations, not hypotheticals, making these simulations more realistic. Auto is also treated separate from tele, leading to balanced scores although theoretically impossible (ie 12+ coral per level)."}),_.jsxs("div",{className:"flex flex-row gap-5",children:[_.jsx("h3",{className:"text-lg text-gray-800 font-semibold mb-4 text-center",children:"Teams included:"}),_.jsx("h3",{className:"text-lg text-red-600 font-semibold mb-4 text-center",children:t[0]!=-1?t[0]:""}),_.jsx("h3",{className:"text-lg text-green-700 font-semibold mb-4 text-center",children:t[1]!=-1?t[1]:""}),_.jsx("h3",{className:"text-lg text-purple-600 font-semibold mb-4 text-center",children:t[2]!=-1?t[2]:""})]}),_.jsxs("div",{className:"flex justify-around items-center gap-x-20 gap-y-5 flex-wrap",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-lg text-gray-800 mt-1 underline",children:"Worst Outcome"}),_.jsxs("div",{className:"flex flex-col",children:[_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Auto points:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.badOutcome.autoPoints})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele L4:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.badOutcome.pieceDistribution.tele_l4})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele L3:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.badOutcome.pieceDistribution.tele_l3})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele L2:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.badOutcome.pieceDistribution.tele_l2})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele L1:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.badOutcome.pieceDistribution.tele_l1})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele Net:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.badOutcome.pieceDistribution.tele_made_net})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Endgame points:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.badOutcome.endgamePoints})]})]})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-lg text-gray-800 mt-1 underline",children:"Median Outcome"}),_.jsxs("div",{className:"flex flex-col",children:[_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Auto points:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.medianOutcome.autoPoints})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele L4:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.medianOutcome.pieceDistribution.tele_l4})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele L3:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.medianOutcome.pieceDistribution.tele_l3})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele L2:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.medianOutcome.pieceDistribution.tele_l2})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele L1:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.medianOutcome.pieceDistribution.tele_l1})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele Net:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.medianOutcome.pieceDistribution.tele_made_net})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Endgame points:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.medianOutcome.endgamePoints})]})]})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-lg text-gray-800 mt-1 underline",children:"Optimal Outcome"}),_.jsxs("div",{className:"flex flex-col",children:[_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Auto points:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.optimalOutcome.autoPoints})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele L4:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.optimalOutcome.pieceDistribution.tele_l4})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele L3:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.optimalOutcome.pieceDistribution.tele_l3})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele L2:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.optimalOutcome.pieceDistribution.tele_l2})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele L1:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.optimalOutcome.pieceDistribution.tele_l1})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Tele Net:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.optimalOutcome.pieceDistribution.tele_made_net})]}),_.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[_.jsx("h1",{className:"text-md font-semibold",children:"Endgame points:"})," ",_.jsx("p",{className:"text-lg font-bold",children:i.rawResponse.optimalOutcome.endgamePoints})]})]})]})]})]})]}),E=="Double"&&o?.allianceScorePredictionA&&_.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-6 border-2 border-gray-300",children:[_.jsx("div",{className:"flex justify-around items-center gap-5 flex-wrap",children:o.winningPercentages.map(O=>_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[O.description,":"]}),_.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:["A Win: ",O.allianceWinningPercentageA,"%"]}),_.jsxs("div",{className:"text-4xl font-bold text-orange-600",children:["B Win: ",O.allianceWinningPercentageA,"%"]})]}))}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Alliance A:"}),_.jsxs("div",{className:"flex justify-around items-center gap-x-20 gap-y-5 flex-wrap",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.minimumScore>o.allianceScorePredictionB.minimumScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.minimumScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Minimum"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.meanScore>o.allianceScorePredictionB.meanScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.meanScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Mean"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.medianScore>o.allianceScorePredictionB.medianScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.medianScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Median"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.q3Score>o.allianceScorePredictionB.q3Score?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.q3Score}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"3rd Quartile"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionA.maximumScore>o.allianceScorePredictionB.maximumScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionA.maximumScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Maximum"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageCoralCoopRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (COOP)"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageCoralNormalRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (No COOP)"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageBargeRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Barge RP"})]})]}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 mt-15 text-center",children:"Alliance B:"}),_.jsxs("div",{className:"flex justify-around items-center gap-x-20 gap-y-5 flex-wrap",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.minimumScore>o.allianceScorePredictionA.minimumScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.minimumScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Minimum"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.meanScore>o.allianceScorePredictionA.meanScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.meanScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Mean"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.medianScore>o.allianceScorePredictionA.medianScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.medianScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Median"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.q3Score>o.allianceScorePredictionA.q3Score?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.q3Score}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"3rd Quartile"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:`text-4xl font-bold ${o.allianceScorePredictionB.maximumScore>o.allianceScorePredictionA.maximumScore?"text-orange-600":"text-gray-600"}`,children:o.allianceScorePredictionB.maximumScore}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Maximum"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageCoralCoopRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (COOP)"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageCoralNormalRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Coral RP (No COOP)"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-4xl font-bold text-gray-600",children:[o.allianceScorePredictionA.percentageBargeRP,"%"]}),_.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Barge RP"})]})]})]})]})})}function nhe(){const{forms:t,teamStats:e,tbaData:n,teamInfo:r}=Xn(),i=P=>{if(!(O.role=="backup"&&O.seed>8)){let $=E;$[O.seed-1][O.role]=e[P.team_number],S($)}O.role=="captain"?R($=>({seed:$.seed,role:"first_pick"})):O.role=="first_pick"?O.seed<8?R($=>({seed:$.seed+1,role:"captain"})):R($=>({seed:8,role:"second_pick"})):O.role=="second_pick"?O.seed>1?R($=>({seed:$.seed-1,role:"second_pick"})):R($=>({seed:1,role:"backup"})):O.role=="backup"&&O.seed<8&&R($=>({seed:$.seed+1,role:"backup"}))};function a(){const P=[...E];let $=O.seed,D=O.role;O.role==="first_pick"?D="captain":O.role==="captain"?O.seed>1&&($=O.seed-1,D="first_pick"):O.role==="second_pick"?O.seed<8?$=O.seed+1:D="captain":O.role==="backup"&&(O.seed>1?$=O.seed-1:(D="second_pick",$=8));const N=$-1;P[N][D]={},S(P),R({seed:$,role:D})}function o(P){const $=["Seed","Captain","First Pick","Second Pick","Backup"].join("	"),D=P.map(k=>[k.seed,k.captain?.team_number?.mean??"-",k.first_pick?.team_number?.mean??"-",k.second_pick?.team_number?.mean??"-",k.backup?.team_number?.mean??"-"].join("	")),N=[$,...D].join(`
`);navigator.clipboard.writeText(N).then(()=>{console.log(" Alliances copied to clipboard (paste into Google Sheets!)")}).catch(k=>{console.error(" Failed to copy alliances:",k)})}const[u,f]=T.useState(!1),[d,h]=T.useState(-1),[p,y]=T.useState("Rank"),[b,x]=T.useState([]),[E,S]=T.useState([]),[O,R]=T.useState({role:"captain",seed:1});return T.useEffect(()=>{if(e&&t&&n){let P=[];Object.keys(e).forEach(D=>{const N=e[parseInt(D)];console.log(N),P.push({team_number:N.team_number.mean,rank:n?.rankings?.find(k=>k.team_key===`frc${N.team_number.mean}`)?.rank??-1,total_points:N.total_points.q3,opr:N.opr.q3})});const $=Array.from({length:8},(D,N)=>({seed:N+1,captain:{},first_pick:{},second_pick:{},backup:{}}));S($),console.log(O),x(P)}},[e,n]),_.jsxs("div",{className:"max-w-6xl mx-auto",children:[_.jsx(dE,{isOpen:u,onClose:()=>f(!1),forms:t,teamNumber:d,teamInfo:r}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[_.jsx(qD,{className:"text-orange-500"}),"Mock Alliance Selection"]}),_.jsxs("div",{className:"grid md:grid-cols-[1fr_2fr] gap-6",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex flex-col xl:flex-row justify-between align-center my-3 xl:gap-5",children:[_.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Available Teams"}),_.jsxs("div",{className:"flex flex-row justify-end align-center gap-2 py-1 h-10",children:[_.jsx("button",{onClick:()=>y("Number"),className:`${p=="Number"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"Number"}),_.jsx("button",{onClick:()=>y("Rank"),className:`${p=="Rank"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"Rank"}),_.jsx("button",{onClick:()=>y("OPR"),className:`${p=="OPR"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"OPR"}),_.jsx("button",{onClick:()=>y("Points"),className:`${p=="Points"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"} px-3 cursor-pointer hover:bg-orange-400 rounded-full`,children:"Points"})]})]}),_.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:b.filter(P=>!E.flatMap($=>[$.captain.team_number?.max??0,$.first_pick.team_number?.max??0,$.second_pick.team_number?.max??0,$.backup.team_number?.max??0]).includes(P.team_number)).sort((P,$)=>{switch(p){case"Number":return P.team_number-$.team_number;case"OPR":return $.opr-P.opr;case"Points":return $.total_points-P.total_points;default:return P.rank-$.rank}}).map(P=>_.jsxs("div",{onClick:()=>i(P),className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-orange-50 hover:border-orange-300 cursor-pointer transition",children:[_.jsxs("div",{children:[_.jsxs("span",{className:"font-bold text-gray-800",children:["Team ",P.team_number]}),_.jsxs("span",{className:"text-sm text-gray-500 ml-4",children:["Rank ",P.rank]})]}),_.jsxs("div",{className:"text-sm text-gray-600",children:["OPR: ",P.opr]}),_.jsxs("div",{className:"text-sm text-gray-600",children:["Q3 Pts: ",P.total_points]})]},P.team_number))})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex flex-row justify-between align-center",children:[_.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Alliances:"}),_.jsxs("div",{className:"text-center text-gray-400 flex flex-row items-center gap-3",children:[_.jsx("h3",{className:"select-none",children:"Click a team to add next pick/captain."}),_.jsx(g9,{onClick:()=>o(E),className:"m-2 hover:scale-115 transition rounded-md cursor-pointer",size:24,color:"black"}),_.jsx(q9,{onClick:()=>a(),className:"m-2 hover:scale-115 transition rounded-md cursor-pointer",size:24,color:"black"})]})]}),_.jsxs("div",{className:"grid grid-rows-9 w-full gap-3",children:[_.jsxs("div",{className:"flex flex-row justify-between gap-5 w-full",children:[_.jsxs("div",{className:"flex flex-row justify-between gap-3 flex-3 text-gray-700 text-sm",children:[_.jsx("h2",{children:"Seed"}),_.jsx("h2",{className:" flex-1 rounded-lg text-center",children:"Captain"}),_.jsx("h2",{className:"flex-1 rounded-lg text-center",children:"1st pick"}),_.jsx("h2",{className:" flex-1 rounded-lg text-center",children:"2nd pick"}),_.jsx("h2",{className:"flex-1 rounded-lg text-center",children:"Backup"})]}),_.jsx("div",{className:"flex flex-row justify-center gap-3 flex-1 text-gray-700 text-sm",children:_.jsx("h2",{children:"Predicted score"})})]}),E.map(P=>_.jsxs("div",{className:"flex flex-row justify-between gap-5 w-full",children:[_.jsxs("div",{className:"flex flex-row justify-between gap-3 flex-3 text-lg",children:[_.jsx("h2",{children:P.seed??"-"}),_.jsx("h2",{onClick:P.captain.team_number?.mean?()=>{h(P.captain.team_number?.mean),f(!0)}:()=>{},className:`${O.role=="captain"&&O.seed==P.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:P.captain.team_number?.mean??"-"}),_.jsx("h2",{onClick:P.first_pick.team_number?.mean?()=>{h(P.first_pick.team_number?.mean),f(!0)}:()=>{},className:`${O.role=="first_pick"&&O.seed==P.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:P.first_pick.team_number?.mean??"-"}),_.jsx("h2",{onClick:P.second_pick.team_number?.mean?()=>{h(P.second_pick.team_number?.mean),f(!0)}:()=>{},className:`${O.role=="second_pick"&&O.seed==P.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:P.second_pick.team_number?.mean??"-"}),_.jsx("h2",{onClick:P.backup.team_number?.mean?()=>{h(P.backup.team_number?.mean),f(!0)}:()=>{},className:`${O.role=="backup"&&O.seed==P.seed?"bg-orange-300 animate-pulse":""} flex-1 rounded-lg text-center cursor-pointer hover:font-bold`,children:P.backup.team_number?.mean??"-"})]}),_.jsx("div",{className:"flex flex-row justify-center gap-3 flex-1 ",children:_.jsx("h2",{children:(P.captain.total_points?.q3??0)+(P.first_pick.total_points?.q3??0)+(P.second_pick.total_points?.q3??0)})})]}))]})]})]})]})]})}function rhe(){const[t,e]=T.useState({autoPoints:20,telePoints:60,endgamePoints:15}),n=t.autoPoints+t.telePoints+t.endgamePoints;return _.jsx("div",{className:"max-w-4xl mx-auto",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[_.jsx(zD,{className:"text-orange-500"}),"Strategy Simulator"]}),_.jsx("p",{className:"text-gray-600 mb-6",children:"Plan and simulate different match strategies"}),_.jsxs("div",{className:"space-y-4 mb-6",children:[_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Auto Points: ",t.autoPoints]}),_.jsx("input",{type:"range",min:"0",max:"50",value:t.autoPoints,onChange:r=>e({...t,autoPoints:parseInt(r.target.value)}),className:"w-full accent-orange-500"})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tele Points: ",t.telePoints]}),_.jsx("input",{type:"range",min:"0",max:"100",value:t.telePoints,onChange:r=>e({...t,telePoints:parseInt(r.target.value)}),className:"w-full accent-orange-500"})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Endgame Points: ",t.endgamePoints]}),_.jsx("input",{type:"range",min:"0",max:"30",value:t.endgamePoints,onChange:r=>e({...t,endgamePoints:parseInt(r.target.value)}),className:"w-full accent-orange-500"})]})]}),_.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg p-6 border-2 border-orange-300",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Projected Score"}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-6xl font-bold text-orange-600",children:n}),_.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Total Points"})]}),_.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold text-gray-700",children:t.autoPoints}),_.jsx("div",{className:"text-xs text-gray-500",children:"Auto"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold text-gray-700",children:t.telePoints}),_.jsx("div",{className:"text-xs text-gray-500",children:"Tele"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold text-gray-700",children:t.endgamePoints}),_.jsx("div",{className:"text-xs text-gray-500",children:"Endgame"})]})]})]})]})})}function ihe(){const{forms:t,teamInfo:e,teamStats:n,teamImages:r,loadData:i,loadTeamImages:a,loading:o,tbaData:u,aiOverviews:f}=Xn();T.useEffect(()=>{a(),i()},[]);const[d,h]=T.useState(0),[p,y]=T.useState(0),b=T.useMemo(()=>Object.keys(n).map(Number).sort((D,N)=>D-N),[n]);T.useEffect(()=>{b.length>=2&&d===0&&p===0&&(h(b[0]),y(b[1]))},[b]);const x=T.useMemo(()=>t.filter(D=>Number(D.team_number)===d).sort((D,N)=>(D.match_number??0)-(N.match_number??0)),[t,d]),E=T.useMemo(()=>t.filter(D=>Number(D.team_number)===p).sort((D,N)=>(D.match_number??0)-(N.match_number??0)),[t,p]),S=D=>{if(D.length===0)return 0;const N=D.reduce((I,M)=>I+M,0)/D.length,k=D.reduce((I,M)=>I+Math.pow(M-N,2),0)/D.length;return Math.sqrt(k)},O=T.useMemo(()=>[{key:"total_points",label:"Total Points"},{key:"auto_points",label:"Auto"},{key:"tele_points",label:"Tele"},{key:"endgame_points",label:"Endgame"},{key:"total_coral",label:"Coral"},{key:"total_algae",label:"Algae"}].map(N=>({metric:N.label,team1:n[d]?.[N.key]?.median??0,team2:n[p]?.[N.key]?.median??0})),[d,p,n]),R=T.useMemo(()=>["total_points","auto_points","tele_points","endgame_points"].map(N=>{const k=x.map(M=>Number(M[N]??0)),I=E.map(M=>Number(M[N]??0));return{metric:N.replace(/_/g," ").replace(/\b\w/g,M=>M.toUpperCase()),team1:S(k),team2:S(I)}}),[x,E]),P=T.useMemo(()=>{const D=Math.max(x.length,E.length),N=[];for(let k=0;k<D;k++)N.push({match:k+1,team1:x[k]?Number(x[k].total_points??0):null,team2:E[k]?Number(E[k].total_points??0):null});return N},[x,E]),$=T.useMemo(()=>[{key:"total_points",label:"Total Points"},{key:"auto_points",label:"Auto Points"},{key:"tele_points",label:"Tele Points"},{key:"endgame_points",label:"Endgame Points"},{key:"total_coral",label:"Total Coral"},{key:"total_algae",label:"Total Algae"},{key:"total_gamepieces",label:"Total Gamepieces"}].map(N=>({label:N.label,team1:{median:n[d]?.[N.key]?.median??0,max:n[d]?.[N.key]?.max??0,q3:n[d]?.[N.key]?.q3??0},team2:{median:n[p]?.[N.key]?.median??0,max:n[p]?.[N.key]?.max??0,q3:n[p]?.[N.key]?.q3??0}})),[d,p,n]);return o||!t.length?_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Va,{}),_.jsx("main",{className:"pt-20 px-4 md:px-6",children:_.jsx("div",{className:"text-orange-500 text-lg font-semibold",children:"Loading data..."})})]}):_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Va,{}),_.jsx("main",{className:"pt-20 px-4 md:px-6 pb-10",children:_.jsxs("div",{className:"max-w-7xl mx-auto",children:[_.jsxs("div",{className:"mb-8",children:[_.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Team Comparison"}),_.jsx("p",{className:"text-gray-600",children:"Compare two teams head-to-head with detailed statistics and visualizations"})]}),_.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:_.jsxs("div",{className:"grid md:grid-cols-3 gap-6 items-center",children:[_.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border-2 border-blue-300",children:[_.jsx(Li,{view:d,setView:h,label:"Team 1: ",options:b}),r[d]&&_.jsx("img",{src:r[d],alt:`Team ${d}`,className:"w-24 h-24 object-contain mx-auto mt-3"}),_.jsxs("div",{className:"text-center mt-2",children:[_.jsx("p",{className:"font-bold text-blue-700",children:e[d]?.nickname??""}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Rank: ",u?.rankings?.find(D=>D.team_key===`frc${d}`)?.rank??"N/A"]})]})]}),_.jsx("div",{className:"text-center",children:_.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-orange-500 rounded-full",children:_.jsx("span",{className:"text-2xl font-bold text-white",children:"VS"})})}),_.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 border-2 border-red-300",children:[_.jsx(Li,{view:p,setView:y,label:"Team 2: ",options:b}),r[p]&&_.jsx("img",{src:r[p],alt:`Team ${p}`,className:"w-24 h-24 object-contain mx-auto mt-3"}),_.jsxs("div",{className:"text-center mt-2",children:[_.jsx("p",{className:"font-bold text-red-700",children:e[p]?.nickname??""}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Rank: ",u?.rankings?.find(D=>D.team_key===`frc${p}`)?.rank??"N/A"]})]})]})]})}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[_.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[_.jsx(A1,{className:"text-orange-500"}),"Key Statistics"]}),_.jsx("div",{className:"space-y-3",children:$.slice(0,4).map((D,N)=>_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-sm font-medium text-gray-700",children:D.label}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("span",{className:`font-bold ${D.team1.median>D.team2.median?"text-green-600":"text-gray-600"}`,children:D.team1.median}),_.jsx(tR,{size:16,className:"text-gray-400"}),_.jsx("span",{className:`font-bold ${D.team2.median>D.team1.median?"text-green-600":"text-gray-600"}`,children:D.team2.median})]})]},N))})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[_.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[_.jsx(U9,{className:"text-orange-500"}),"Consistency (Std Dev - Lower is Better)"]}),_.jsx("div",{className:"space-y-3",children:R.map((D,N)=>_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-sm font-medium text-gray-700",children:D.metric}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("span",{className:`font-bold ${D.team1<D.team2?"text-green-600":"text-gray-600"}`,children:D.team1.toFixed(1)}),_.jsx(tR,{size:16,className:"text-gray-400"}),_.jsx("span",{className:`font-bold ${D.team2<D.team1?"text-green-600":"text-gray-600"}`,children:D.team2.toFixed(1)})]})]},N))})]})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Performance Radar"}),_.jsx(nu,{width:"100%",height:400,children:_.jsxs(Ide,{data:O,children:[_.jsx(l$,{stroke:"#e5e7eb"}),_.jsx(_v,{dataKey:"metric",tick:{fill:"#374151",fontSize:12}}),_.jsx(vv,{}),_.jsx(fy,{name:`Team ${d}`,dataKey:"team1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.5}),_.jsx(fy,{name:`Team ${p}`,dataKey:"team2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.5}),_.jsx(Zl,{})]})})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Performance Over Time"}),_.jsx(nu,{width:"100%",height:300,children:_.jsxs(l5,{data:P,children:[_.jsx(py,{strokeDasharray:"3 3"}),_.jsx(Go,{dataKey:"match",label:{value:"Match",position:"insideBottom",offset:-5}}),_.jsx(Wo,{label:{value:"Total Points",angle:-90,position:"insideLeft"}}),_.jsx(jh,{}),_.jsx(Zl,{}),_.jsx(gy,{type:"monotone",dataKey:"team1",stroke:"#3b82f6",strokeWidth:2,name:`Team ${d}`,connectNulls:!0}),_.jsx(gy,{type:"monotone",dataKey:"team2",stroke:"#ef4444",strokeWidth:2,name:`Team ${p}`,connectNulls:!0})]})})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Consistency Comparison (Lower is Better)"}),_.jsx(nu,{width:"100%",height:300,children:_.jsxs(wv,{data:R,children:[_.jsx(py,{strokeDasharray:"3 3"}),_.jsx(Go,{dataKey:"metric"}),_.jsx(Wo,{}),_.jsx(jh,{}),_.jsx(Zl,{}),_.jsx(of,{dataKey:"team1",fill:"#3b82f6",name:`Team ${d}`}),_.jsx(of,{dataKey:"team2",fill:"#ef4444",name:`Team ${p}`})]})})]}),(f[d]||f[p])&&_.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[f[d]&&_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:[_.jsxs("h3",{className:"text-lg font-bold text-blue-700 mb-4",children:["Team ",d," - CoScout Analysis"]}),_.jsxs("div",{className:"space-y-2 text-sm",children:[_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Auto:"})," ",_.jsx("span",{className:"text-gray-700",children:f[d].auto})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Coral:"})," ",_.jsx("span",{className:"text-gray-700",children:f[d].coral})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Algae:"})," ",_.jsx("span",{className:"text-gray-700",children:f[d].algae})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Endgame:"})," ",_.jsx("span",{className:"text-gray-700",children:f[d].endgame})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Strengths:"})," ",_.jsx("span",{className:"text-gray-700",children:f[d].strengths})]}),_.jsxs("div",{className:"bg-red-50 p-2 rounded border border-red-200",children:[_.jsx("span",{className:"font-semibold text-red-600",children:"Concerns:"})," ",_.jsx("span",{className:"text-gray-700",children:f[d].concerns})]})]})]}),f[p]&&_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-red-500",children:[_.jsxs("h3",{className:"text-lg font-bold text-red-700 mb-4",children:["Team ",p," - CoScout Analysis"]}),_.jsxs("div",{className:"space-y-2 text-sm",children:[_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Auto:"})," ",_.jsx("span",{className:"text-gray-700",children:f[p].auto})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Coral:"})," ",_.jsx("span",{className:"text-gray-700",children:f[p].coral})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Algae:"})," ",_.jsx("span",{className:"text-gray-700",children:f[p].algae})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Endgame:"})," ",_.jsx("span",{className:"text-gray-700",children:f[p].endgame})]}),_.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[_.jsx("span",{className:"font-semibold text-orange-600",children:"Strengths:"})," ",_.jsx("span",{className:"text-gray-700",children:f[p].strengths})]}),_.jsxs("div",{className:"bg-red-50 p-2 rounded border border-red-200",children:[_.jsx("span",{className:"font-semibold text-red-600",children:"Concerns:"})," ",_.jsx("span",{className:"text-gray-700",children:f[p].concerns})]})]})]})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Detailed Statistics Comparison"}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full",children:[_.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-orange-100",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700 border-b-2 border-orange-300",children:"Statistic"}),_.jsxs("th",{className:"px-4 py-3 text-center font-semibold text-blue-700 border-b-2 border-orange-300",children:["Team ",d]}),_.jsxs("th",{className:"px-4 py-3 text-center font-semibold text-red-700 border-b-2 border-orange-300",children:["Team ",p]}),_.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700 border-b-2 border-orange-300",children:"Advantage"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-200",children:$.map((D,N)=>_.jsxs("tr",{className:N%2===0?"bg-white":"bg-gray-50",children:[_.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:D.label}),_.jsx("td",{className:"px-4 py-3 text-center",children:_.jsxs("div",{className:"text-sm",children:[_.jsxs("div",{className:"font-bold text-blue-700",children:["M: ",D.team1.median]}),_.jsxs("div",{className:"text-xs text-gray-600",children:["Max: ",D.team1.max]})]})}),_.jsx("td",{className:"px-4 py-3 text-center",children:_.jsxs("div",{className:"text-sm",children:[_.jsxs("div",{className:"font-bold text-red-700",children:["M: ",D.team2.median]}),_.jsxs("div",{className:"text-xs text-gray-600",children:["Max: ",D.team2.max]})]})}),_.jsx("td",{className:"px-4 py-3 text-center",children:D.team1.median>D.team2.median?_.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:["Team ",d]}):D.team2.median>D.team1.median?_.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-semibold",children:["Team ",p]}):_.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-semibold",children:"Tie"})})]},N))})]})})]})]})}),_.jsx(Ns,{}),_.jsx(Qo,{})]})}const ahe=UB([{path:"/",element:_.jsx(wW,{}),errorElement:_.jsx(TW,{})},{path:"teams",element:_.jsx(Lde,{})},{path:"ranks",element:_.jsx(Bde,{})},{path:"settings",element:_.jsx(zde,{})},{path:"coscout",element:_.jsx(qde,{})},{path:"match",element:_.jsx(Hde,{})},{path:"picklist",element:_.jsx(Kde,{})},{path:"sandbox",element:_.jsx(Zde,{})},{path:"compare",element:_.jsx(ihe,{})}]);FV.createRoot(document.getElementById("root")).render(_.jsx(T.StrictMode,{children:_.jsx(JB,{router:ahe})}));
